/*/
 * Created on 19.04.2019.
 * Copyright(c) 2019 SAP SE
 */
sap.ui.define(["sap/m/VBox","sap/m/FlexBox","sap/m/Text","sap/m/FlexAlignItems","sap/m/FlexJustifyContent",'sap/apf/ui/utils/constants','sap/apf/utils/trace'],function(v,f,t,F,m,U,a){'use strict';var i="120px";var b="200px";var p="80px";var c="100px";var p="150px";var d="carouselActiveBorderedChartWithCornerTexts";var e="carouselBorderedChartWithCornerTexts";var g=0;function h(R){return R.type===U.representationTypes.TREE_TABLE_REPRESENTATION;}function j(R){return R.type===U.representationTypes.TABLE_REPRESENTATION||R.type===U.representationTypes.TREE_TABLE_REPRESENTATION||R.bIsAlternateView===true;}function k(S){a.logCall("getClonedChart");var R=S.getSelectedRepresentation();var O=R.chart;var A;var C;if(z.isIconDisplayed(R)){a.logReturn("getClonedChart"," return createIconThumbnail()");return z.createIconThumbnail(R);}if(!O){O=R.getChartForCustomListItem();a.log("getClonedChart",",  switches to substitute for main chart ",", cloning:",(R.chart4CustomItemList)?R.chart4CustomItemList.sId:"undefined");C=R.chart4CustomItemList.clone(1000+g++);}else{a.log("getClonedChart"," takes oRepr.chart",", cloning:",O.sId);C=O.clone(g++);if(R.fnHandleSelection){C.detachSelectData(R.fnHandleSelection);C.detachDeselectData(R.fnHandleDeselection);}}if(O.getVizProperties){A=O.getVizProperties();}if(C.getVizProperties){C.setVizProperties(A);z.setAllLabelsInvisible(C);z.setAllAxisInvisible(C);}else{a.emphasize("getClonedChart"," cannot set setVizProperties since method is missing");}a.logReturn("getClonedChart"," cloned ID="+(C?C.sId:"-"));return C}function l(R){var A="sap-icon://table-chart";if(z.isTreeTable(R)){A="sap-icon://tree"}var T=new sap.ui.core.Icon({src:A,size:"400%"}).addStyleClass('carouselTableIconOldStyle');return T;}function s(C){var A=C.getVizProperties();A.title={visible:false};A.categoryAxis={visible:false};A.valueAxis={visible:false};A.categoryAxis2={visible:false};A.valueAxis2={visible:false};}function n(C){var A=C.getVizProperties();if(A){Object.keys(A).forEach(function(B){if(A[B].label){A[B].label.visible=false;}});}A.legend={visible:false,title:{visible:false}};A.timeAxis={visible:false,title:{visible:false}};A.plotArea={window:{start:"firstDataPoint",end:"lastDataPoint"}};A.interaction={noninteractiveMode:true,selectability:false};if(A.toolTip){A.toolTip.visible=false}if(!A.general||!A.general.layout){A.general={layout:{}}}A.general.layout.paddingLeft=this.paddingLeft;A.general.layout.paddingRight=this.paddingRight;A.general.layout.paddingBottom=this.paddingBottom;A.general.layout.paddingTop=this.paddingTop;C.setVizProperties(A);}function o(C,S){var T=S.longTitle&&!C.isInitialTextKey(S.longTitle.key)?S.longTitle:S.title;return C.getTextNotHtmlEncoded(T);}function q(A,C){A.oTopLayout=new f({items:[new t({text:C.leftUpper,tooltip:C.leftUpper,wrapping:true,maxLines:2,textAlign:sap.ui.core.TextAlign.Left}).addStyleClass("thumbanilText"),new t({text:C.rightUpper,tooltip:C.rightUpper,wrapping:true,maxLines:2,textAlign:sap.ui.core.TextAlign.Right}).addStyleClass("thumbanilText")],alignItems:F.Start,justifyContent:m.SpaceBetween}).addStyleClass("topLayout");}function r(A,C){A.oBottomLayout=new f({items:[new t({text:C.leftLower,tooltip:C.leftLower,wrapping:true,maxLines:2,textAlign:sap.ui.core.TextAlign.Left}).addStyleClass("thumbanilText"),new t({text:C.rightLower,tooltip:C.rightLower,wrapping:true,maxLines:2,textAlign:sap.ui.core.TextAlign.Right}).addStyleClass("thumbanilText")],alignItems:F.Start,justifyContent:m.SpaceBetween}).addStyleClass("bottomLayout");}function w(A,C){A.oThumbnailChartLayout=new v({items:[C],alignItems:sap.ui.core.TextAlign.Center}).addStyleClass('carouselChartVerticalBox');}function u(A,B){A.oStepTitle=new t({text:"\n"+B,wrapping:true,maxLines:2}).addStyleClass('carouselThumbnailTitle');}function x(A,S,B){A.oThumbnailVLayout=new v({items:[A.oTopLayout,A.oThumbnailChartLayout,A.oBottomLayout]}).addStyleClass(e);if(B){A.setHighlighted();}}function y(A){return new v({items:[A.oStepTitle,A.oThumbnailVLayout]}).addStyleClass("carouselItemVerticalLayout");}function _(C,A){if(C){if(A){C.setHeight(c);C.setWidth(p);}else{C.setHeight(i);C.setWidth(b);}}}function W(A,S,C,B){B=B||{};var I;var D={},E=false,G="initial";var H=B.mode==="preview";if(!H){D=A.getStepData(S).oStepTexts;G=o(A.oCoreApi,S);E=A.oCoreApi.stepIsActive(S);}else{D=B.oCornerTexts;G=B.titleText;}var J=true;this.setHighlighted=function(){J=true;this.oThumbnailVLayout.removeStyleClass(e);this.oThumbnailVLayout.addStyleClass(d);};this.setNonHighlighted=function(){J=false;this.oThumbnailVLayout.removeStyleClass(d);this.oThumbnailVLayout.addStyleClass(e);};this.isHighlighted=function(){return J;};this.getContent=function(){return I;};_(C,H);q(this,D);r(this,D);w(this,C);u(this,G);x(this,S,E);I=y(this);}var z={constructor:W,itemChartHeightWithTexts:i,itemChartWidthWithTexts:b,activeBoxStyleName:d,inactiveBoxStyleName:e,createIconThumbnail:l,setAllAxisInvisible:s,setAllLabelsInvisible:n,getClonedChart:k,isIconDisplayed:j,isTreeTable:h};return z;});
