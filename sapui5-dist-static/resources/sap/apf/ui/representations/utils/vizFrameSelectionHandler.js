/*!

 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2019 SAP SE. All rights reserved
 */
sap.ui.define(["sap/apf/ui/representations/utils/chartDataSetHelper"],function(C){'use strict';function V(p,A){this.oParameter=p;this.oApi=A;}var s=V.prototype;s.constructor=V;var l={isFilterMatch:function(p){var f=p.filterValue;var d=p.dataRow;var r=p.sRequiredProperty;var c=p.fieldForOriginalValue;return(f==d[r]||f==d[c]);},determine1Selection:function(p){var d=p.dataRow;var r=p.sRequiredProperty;var D=p.aDataPoint;if(l.isFilterMatch(p)){var c={data:{}};c.data[r]=d[r];D.push(c);}}};function _(r,S){var d=[];S.forEach(function(i){var c={data:{}};c.data[r]=i.data?i.data[r]:i;d.push(c);});return d;}function a(f){return f.filter(function(i,n,c){return c.indexOf(i)===n;});}s.getSelectionInfoFromEvent=function(c,i,d){var e,E,S=this;var r=S.oParameter.requiredFilters[0];var f=c.mParameters.data.map(function(g){return g.data[r];});var p=d.map(function(g){return g.data[r];});if(i){E=a(p).filter(function(g){return f.indexOf(g)===-1;});}else{E=a(f.concat(p));}e=_(r,E);return{dataPointsFromSelection:e,aUniqueFilterValueFromChart:E};};s.getSelectionInfoFromFilter=function(f,d,t){var D=[];var r=this.oParameter.requiredFilters[0];var c=sap.apf.ui.representations.utils.ChartDataSetHelper.getFieldNameForOriginalContentOfProperty(r);if(r){d.forEach(function(e){f.forEach(function(g){l.determine1Selection({dataRow:e,filterValue:g,sRequiredProperty:r,aDataPoint:D,fieldForOriginalValue:c});});});}return D;};function b(){return l;}sap.apf.ui.representations.utils.VizFrameSelectionHandler=V;return{constructor:V,_getLocal:b};},true);
