/*!
 * SAPUI5

(c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(['sap/chart/coloring/gradation/rankedMeasureValues/RankedMeasureValues','sap/chart/coloring/gradation/DelineatedMeasures','sap/chart/coloring/gradation/DelineatedDimensionValues','sap/chart/coloring/ColorPalette','sap/chart/coloring/ColoringUtils','sap/chart/data/MeasureSemantics','sap/chart/ChartLog'],function(R,D,a,C,b,M,c){"use strict";var S=['DelineatedDimensionValues','RankedMeasureValues','DelineatedMeasures'];function g(f){return function(){var h,p;if(f.bMBC){h=R.createScales(f);}else{var r=d(f);p={plotArea:{dataPointStyle:{rules:r}}};}return{colorScale:h,properties:p};};}function d(f){var r=[];f.forEach(function(o,i){if(o.chartLog){throw o.chartLog;}var s=o.dim;var l=o.setting[s].Levels;var p=C.GRADATION.SingleColorScheme[o.parsed.singleColorScheme];p=b.assignColor(p,l.length);if(o.parsed.saturation==='DarkToLight'){p=p.reverse();}l.forEach(function(m,i){var h={callback:o.parsed.callbacks[m],properties:{color:p[i]},displayName:o.parsed.legend[m]};if(f.bIsLine){h.properties.lineColor=h.properties.color;}r.push(h);});});return r;}function e(t,f){var h=[];f.forEach(function(o){var m=o.msr.getName();t.forEach(function(T){Object.keys(M).forEach(function(k){var s=M[k];if(T[s]===m){T.order=[];T.order.push(s);h.push(T);}});});});t.splice(0,t.length);t.push.apply(t,h);}return{getCandidateSetting:function(o,A,t,f,s,h,l){var G=o.Gradation||{},p=A.parameters||{};var u=b.dimOrMsrUse(G,p,S,'Gradation');var i={};var q;switch(u){case'RankedMeasureValues':var j=p.measure||Object.keys(G.RankedMeasureValues);if(typeof j==='string'||j instanceof String){j=[j];}q=R.qualify(G.RankedMeasureValues,j,f,h);if(q&&q.sMethod){q.forEach(function(Q){Q.parsed=R.parse(Q);});i.contextHandler=R.getContextHandler(q);i.qualifiedSettings=q;i.ruleGenerator=g(q);q.bMBC=h.bMBC;}break;case'DelineatedMeasures':q=D.qualify(G.DelineatedMeasures,t,f,h);if(q){i.qualifiedSettings=q;q.forEach(function(Q){Q.type=u;Q.parsed=D.parse(Q);});e(t,q);}break;case'DelineatedDimensionValues':var k=p.dimension||Object.keys(G.DelineatedDimensionValues).filter(function(m){return m!=='SingleColorScheme'&&m!=='Saturation';});if(typeof k==='string'||k instanceof String){k=[k];}q=a.qualify(G.DelineatedDimensionValues,k,t,f,h);if(q){i.qualifiedSettings=q;q.parsed=a.parse(q);i.contextHandler=a.getContextHandler(q);var T=[q];i.ruleGenerator=g(T);T.bIsLine=h.bIsLine;}break;default:return{};}if(q&&q.length){i.subType=u;}return i;}};});
