//@ui5-bundle sap/viz/library-preload.js
sap.ui.predefine('sap/viz/libs/CssPlugin',[],function(){
function C(r,l){this._resourceLoaderFunction=r;this._log=l;}
var g=function(){return document.head||document.getElementsByTagName("head")[0]||document.documentElement;};var q=function(u){if(/^http[s]?:\/\//.test(u)){return u;}else{var a=document.createElement('a');a.href=u;return a.href;}};var c=function(l,a,b){var i=a.lastIndexOf("/");var d=a.substring(0,i+1);var U=/url ?\((\"|\')?([a-zA-Z0-9\.\/\-\_]*)(\"|\')?\)/gm;var r=b.replace(U,function(f,o,e,h,j,k){if(e&&e.length>0){l("Converting "+e+" to "+(d+e));return"url("+d+e+")";}});return r;};
C.prototype.normalize=function(n,a){if(!/\.css$/.test(n)){n=n+".css";}return a(n);};
C.prototype.load=function(n,r,l,a){var b=(r.toUrl?r.toUrl(n):n);var o;if(this._resourceLoaderFunction){var d=this._resourceLoaderFunction(b);if(d){var f=q(b);d=c(this._log,f,d);d+="\n/*# sourceURL="+f+" */";this._log("CssPlugin.load() returning cached content for url: "+b);o=b;var U=window.URL||window.webkitURL;var h=new window.Blob([d],{type:'text/css'});b=U.createObjectURL(h);}else{this._log("CssPlugin.load() loading from network for url: "+b);}}var i=document.createElement("link");i.type="text/css";i.rel="stylesheet";i.href=b;if(o){i.setAttribute("bundle_cache_src",o);}i.onload=function(e){l(this.sheet);this.onerror=this.onload=null;};i.onerror=function(e){l.error(new Error("Failed to load "+this.href));this.onerror=this.onload=null;};g().appendChild(i);};
C.prototype.pluginBuilder="cssBuilder";return C;});
/*!
 * SAPUI5

(c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine('sap/viz/library',['sap/ui/core/Core','sap/ui/core/library',"sap/base/Log","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/viz/libs/CssPlugin",'sap/viz/ui5/format/ChartFormatter','sap/viz/ui5/api/env/Format',"sap/ui/thirdparty/d3","sap/ui/thirdparty/jqueryui/jquery-ui-core","sap/ui/thirdparty/jqueryui/jquery-ui-widget","sap/ui/thirdparty/jqueryui/jquery-ui-mouse","sap/ui/thirdparty/jqueryui/jquery-ui-draggable","sap/ui/thirdparty/jqueryui/jquery-ui-droppable","sap/viz/libs/canvg","sap/viz/libs/rgbcolor","sap/viz/libs/sap-viz-info-framework","sap/viz/libs/sap-viz-info-charts","sap/viz/resources/chart/templates/standard_fiori/template","sap/viz/ui5/controls/libs/sap-viz-vizframe/sap-viz-vizframe","sap/viz/ui5/controls/libs/sap-viz-vizservices/sap-viz-vizservices"],function(C,l,L,O,q,a){"use strict";sap.ui.getCore().initLibrary({name:"sap.viz",dependencies:["sap.ui.core"],types:["sap.viz.ui5.types.Area_drawingEffect","sap.viz.ui5.types.Area_marker_shape","sap.viz.ui5.types.Area_mode","sap.viz.ui5.types.Area_orientation","sap.viz.ui5.types.Axis_gridline_type","sap.viz.ui5.types.Axis_label_unitFormatType","sap.viz.ui5.types.Axis_position","sap.viz.ui5.types.Axis_type","sap.viz.ui5.types.Background_direction","sap.viz.ui5.types.Background_drawingEffect","sap.viz.ui5.types.Bar_drawingEffect","sap.viz.ui5.types.Bar_orientation","sap.viz.ui5.types.Bubble_drawingEffect","sap.viz.ui5.types.Bullet_drawingEffect","sap.viz.ui5.types.Bullet_orientation","sap.viz.ui5.types.Combination_drawingEffect","sap.viz.ui5.types.Combination_orientation","sap.viz.ui5.types.Datalabel_orientation","sap.viz.ui5.types.Datalabel_outsidePosition","sap.viz.ui5.types.Datalabel_paintingMode","sap.viz.ui5.types.Datalabel_position","sap.viz.ui5.types.Legend_layout_position","sap.viz.ui5.types.Line_drawingEffect","sap.viz.ui5.types.Line_marker_shape","sap.viz.ui5.types.Line_orientation","sap.viz.ui5.types.Pie_drawingEffect","sap.viz.ui5.types.Pie_valign","sap.viz.ui5.types.Scatter_drawingEffect","sap.viz.ui5.types.StackedVerticalBar_drawingEffect","sap.viz.ui5.types.StackedVerticalBar_mode","sap.viz.ui5.types.StackedVerticalBar_orientation","sap.viz.ui5.types.Title_alignment","sap.viz.ui5.types.Tooltip_drawingEffect","sap.viz.ui5.types.VerticalBar_drawingEffect","sap.viz.ui5.types.VerticalBar_orientation","sap.viz.ui5.types.controller.Interaction_pan_orientation","sap.viz.ui5.types.controller.Interaction_selectability_mode","sap.viz.ui5.types.legend.Common_alignment","sap.viz.ui5.types.legend.Common_drawingEffect","sap.viz.ui5.types.legend.Common_position","sap.viz.ui5.types.legend.Common_type"],interfaces:[],controls:["sap.viz.ui5.VizContainer","sap.viz.ui5.controls.Popover","sap.viz.ui5.controls.VizTooltip","sap.viz.ui5.controls.VizFrame","sap.viz.ui5.controls.VizSlider","sap.viz.ui5.controls.common.BaseControl","sap.viz.ui5.core.BaseChart","sap.viz.ui5.Area","sap.viz.ui5.Area100","sap.viz.ui5.Bar","sap.viz.ui5.Bubble","sap.viz.ui5.Bullet","sap.viz.ui5.Column","sap.viz.ui5.Combination","sap.viz.ui5.Donut","sap.viz.ui5.DualBar","sap.viz.ui5.DualColumn","sap.viz.ui5.DualCombination","sap.viz.ui5.DualLine","sap.viz.ui5.DualStackedColumn","sap.viz.ui5.DualStackedColumn100","sap.viz.ui5.Heatmap","sap.viz.ui5.HorizontalArea","sap.viz.ui5.HorizontalArea100","sap.viz.ui5.Line","sap.viz.ui5.Pie","sap.viz.ui5.Scatter","sap.viz.ui5.StackedColumn","sap.viz.ui5.StackedColumn100","sap.viz.ui5.TimeBubble","sap.viz.ui5.Treemap"],elements:["sap.viz.ui5.controls.common.feeds.AnalysisObject","sap.viz.ui5.controls.common.feeds.FeedItem","sap.viz.ui5.core.BaseStructuredType","sap.viz.ui5.data.Dataset","sap.viz.ui5.data.CustomDataset","sap.viz.ui5.data.DimensionDefinition","sap.viz.ui5.data.FlattenedDataset","sap.viz.ui5.data.MeasureDefinition","sap.viz.ui5.types.Area","sap.viz.ui5.types.Area_animation","sap.viz.ui5.types.Area_hoverline","sap.viz.ui5.types.Area_marker","sap.viz.ui5.types.Area_tooltip","sap.viz.ui5.types.Axis","sap.viz.ui5.types.Axis_axisTick","sap.viz.ui5.types.Axis_axisline","sap.viz.ui5.types.Axis_gridline","sap.viz.ui5.types.Axis_indicator","sap.viz.ui5.types.Axis_label","sap.viz.ui5.types.Axis_layoutInfo","sap.viz.ui5.types.Axis_scale","sap.viz.ui5.types.Axis_title","sap.viz.ui5.types.Background","sap.viz.ui5.types.Background_border","sap.viz.ui5.types.Background_border_bottom","sap.viz.ui5.types.Background_border_left","sap.viz.ui5.types.Background_border_right","sap.viz.ui5.types.Background_border_top","sap.viz.ui5.types.Bar","sap.viz.ui5.types.Bar_animation","sap.viz.ui5.types.Bar_tooltip","sap.viz.ui5.types.Bubble","sap.viz.ui5.types.Bubble_animation","sap.viz.ui5.types.Bubble_axisTooltip","sap.viz.ui5.types.Bubble_hoverline","sap.viz.ui5.types.Bullet","sap.viz.ui5.types.Bullet_tooltip","sap.viz.ui5.types.Combination","sap.viz.ui5.types.Combination_animation","sap.viz.ui5.types.Combination_bar","sap.viz.ui5.types.Combination_dataShape","sap.viz.ui5.types.Combination_line","sap.viz.ui5.types.Combination_line_marker","sap.viz.ui5.types.Combination_tooltip","sap.viz.ui5.types.Datalabel","sap.viz.ui5.types.Datatransform","sap.viz.ui5.types.Datatransform_autoBinning","sap.viz.ui5.types.Datatransform_dataSampling","sap.viz.ui5.types.Datatransform_dataSampling_grid","sap.viz.ui5.types.Heatmap","sap.viz.ui5.types.Heatmap_animation","sap.viz.ui5.types.Heatmap_border","sap.viz.ui5.types.Heatmap_tooltip","sap.viz.ui5.types.Legend","sap.viz.ui5.types.Legend_layout","sap.viz.ui5.types.Line","sap.viz.ui5.types.Line_animation","sap.viz.ui5.types.Line_hoverline","sap.viz.ui5.types.Line_marker","sap.viz.ui5.types.Line_tooltip","sap.viz.ui5.types.Pie","sap.viz.ui5.types.Pie_animation","sap.viz.ui5.types.Pie_tooltip","sap.viz.ui5.types.RootContainer","sap.viz.ui5.types.RootContainer_layout","sap.viz.ui5.types.Scatter","sap.viz.ui5.types.Scatter_animation","sap.viz.ui5.types.Scatter_axisTooltip","sap.viz.ui5.types.Scatter_hoverline","sap.viz.ui5.types.StackedVerticalBar","sap.viz.ui5.types.StackedVerticalBar_animation","sap.viz.ui5.types.StackedVerticalBar_tooltip","sap.viz.ui5.types.Title","sap.viz.ui5.types.Title_layout","sap.viz.ui5.types.Tooltip","sap.viz.ui5.types.Tooltip_background","sap.viz.ui5.types.Tooltip_bodyDimensionLabel","sap.viz.ui5.types.Tooltip_bodyDimensionValue","sap.viz.ui5.types.Tooltip_bodyMeasureLabel","sap.viz.ui5.types.Tooltip_bodyMeasureValue","sap.viz.ui5.types.Tooltip_closeButton","sap.viz.ui5.types.Tooltip_footerLabel","sap.viz.ui5.types.Tooltip_separationLine","sap.viz.ui5.types.Treemap","sap.viz.ui5.types.Treemap_animation","sap.viz.ui5.types.Treemap_border","sap.viz.ui5.types.Treemap_tooltip","sap.viz.ui5.types.VerticalBar","sap.viz.ui5.types.VerticalBar_animation","sap.viz.ui5.types.VerticalBar_tooltip","sap.viz.ui5.types.XYContainer","sap.viz.ui5.types.controller.Interaction","sap.viz.ui5.types.controller.Interaction_pan","sap.viz.ui5.types.controller.Interaction_selectability","sap.viz.ui5.types.layout.Dock","sap.viz.ui5.types.layout.Stack","sap.viz.ui5.types.legend.Common","sap.viz.ui5.types.legend.Common_title"],version:"1.88.0"});sap.viz.ui5.types.Area_drawingEffect={normal:"normal",glossy:"glossy"};sap.viz.ui5.types.Area_marker_shape={circle:"circle",diamond:"diamond",triangleUp:"triangleUp",triangleDown:"triangleDown",triangleLeft:"triangleLeft",triangleRight:"triangleRight",cross:"cross",intersection:"intersection"};sap.viz.ui5.types.Area_mode={comparison:"comparison",percentage:"percentage"};sap.viz.ui5.types.Area_orientation={vertical:"vertical",horizontal:"horizontal"};sap.viz.ui5.types.Axis_gridline_type={line:"line",dotted:"dotted",incised:"incised"};sap.viz.ui5.types.Axis_label_unitFormatType={MetricUnits:"MetricUnits",FinancialUnits:"FinancialUnits"};sap.viz.ui5.types.Axis_position={left:"left",right:"right",top:"top",bottom:"bottom"};sap.viz.ui5.types.Axis_type={value:"value",category:"category",timeValue:"timeValue"};sap.viz.ui5.types.Background_direction={horizontal:"horizontal",vertical:"vertical"};sap.viz.ui5.types.Background_drawingEffect={normal:"normal",glossy:"glossy"};sap.viz.ui5.types.Bar_drawingEffect={normal:"normal",glossy:"glossy"};sap.viz.ui5.types.Bar_orientation={horizontal:"horizontal",vertical:"vertical"};sap.viz.ui5.types.Bubble_drawingEffect={normal:"normal",glossy:"glossy"};sap.viz.ui5.types.Bullet_drawingEffect={normal:"normal",glossy:"glossy"};sap.viz.ui5.types.Bullet_orientation={horizontal:"horizontal",vertical:"vertical"};sap.viz.ui5.types.Combination_drawingEffect={normal:"normal",glossy:"glossy"};sap.viz.ui5.types.Combination_orientation={horizontal:"horizontal",vertical:"vertical"};sap.viz.ui5.types.Datalabel_orientation={horizontal:"horizontal",vertical:"vertical"};sap.viz.ui5.types.Datalabel_outsidePosition={up:"up",down:"down",left:"left",right:"right"};sap.viz.ui5.types.Datalabel_paintingMode={rectCoordinate:"rectCoordinate",polarCoordinate:"polarCoordinate"};sap.viz.ui5.types.Datalabel_position={inside:"inside",outside:"outside"};sap.viz.ui5.types.Legend_layout_position={top:"top",bottom:"bottom",right:"right",left:"left"};sap.viz.ui5.types.Line_drawingEffect={normal:"normal",glossy:"glossy"};sap.viz.ui5.types.Line_marker_shape={circle:"circle",diamond:"diamond",triangleUp:"triangleUp",triangleDown:"triangleDown",triangleLeft:"triangleLeft",triangleRight:"triangleRight",cross:"cross",intersection:"intersection"};sap.viz.ui5.types.Line_orientation={horizontal:"horizontal",vertical:"vertical"};sap.viz.ui5.types.Pie_drawingEffect={normal:"normal",glossy:"glossy"};sap.viz.ui5.types.Pie_valign={top:"top",center:"center"};sap.viz.ui5.types.Scatter_drawingEffect={normal:"normal",glossy:"glossy"};sap.viz.ui5.types.StackedVerticalBar_drawingEffect={normal:"normal",glossy:"glossy"};sap.viz.ui5.types.StackedVerticalBar_mode={comparison:"comparison",percentage:"percentage"};sap.viz.ui5.types.StackedVerticalBar_orientation={horizontal:"horizontal",vertical:"vertical"};sap.viz.ui5.types.Title_alignment={left:"left",center:"center",right:"right"};sap.viz.ui5.types.Tooltip_drawingEffect={normal:"normal",glossy:"glossy"};sap.viz.ui5.types.VerticalBar_drawingEffect={normal:"normal",glossy:"glossy"};sap.viz.ui5.types.VerticalBar_orientation={horizontal:"horizontal",vertical:"vertical"};sap.viz.ui5.types.controller.Interaction_pan_orientation={horizontal:"horizontal",vertical:"vertical",both:"both"};sap.viz.ui5.types.controller.Interaction_selectability_mode={exclusive:"exclusive",inclusive:"inclusive",single:"single",multiple:"multiple",none:"none"};sap.viz.ui5.types.legend.Common_alignment={start:"start",middle:"middle",end:"end"};sap.viz.ui5.types.legend.Common_drawingEffect={normal:"normal",glossy:"glossy"};sap.viz.ui5.types.legend.Common_position={top:"top",bottom:"bottom",right:"right",left:"left"};sap.viz.ui5.types.legend.Common_type={ColorLegend:"ColorLegend",BubbleColorLegend:"BubbleColorLegend",SizeLegend:"SizeLegend",MeasureBasedColoringLegend:"MeasureBasedColoringLegend"};sap.viz.__svg_support=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;sap.ui.requireSync("sap/ui/thirdparty/require");if(window.define){window.define("css",new a());}
function b(){var d={"sap.viz.core.BaseChart":"sap.viz.ui5.core.BaseChart","sap.viz.core.BaseStructuredType":"sap.viz.ui5.core.BaseStructuredType","sap.viz.core.Dataset":"sap.viz.ui5.data.Dataset","sap.viz.core.DimensionDefinition":"sap.viz.ui5.data.DimensionDefinition","sap.viz.core.FlattenedDataset":"sap.viz.ui5.data.FlattenedDataset","sap.viz.core.MeasureDefinition":"sap.viz.ui5.data.MeasureDefinition","sap.viz.Bar":"sap.viz.ui5.Bar","sap.viz.Bubble":"sap.viz.ui5.Bubble","sap.viz.VerticalBar":"sap.viz.ui5.Column","sap.viz.Combination":"sap.viz.ui5.Combination","sap.viz.Donut":"sap.viz.ui5.Donut","sap.viz.Line":"sap.viz.ui5.Line","sap.viz.Pie":"sap.viz.ui5.Pie","sap.viz.Scatter":"sap.viz.ui5.Scatter","sap.viz.StackedVerticalBar":"sap.viz.ui5.StackedColumn","sap.viz.PercentageStackedVerticalBar":"sap.viz.ui5.StackedColumn100"};q.each(d,function(s,n){O.set(s,function(){L.warning("[Deprecated] chart '"+s+"' has been deprecated for several releases and will be removed soon. Use '"+n+"' instead.");var N=O.get(n||"");var i=Object.create(N.prototype||null);return N.apply(i,arguments)||i;});O.set(s+".extend",function(){L.warning("[Deprecated] chart '"+s+"' has been deprecated for several releases and will be removed soon. Use '"+n+"' instead.");return O.get(n||"").extend.apply(this,arguments);});O.set(s+".getMetadata",function(){L.warning("[Deprecated] chart '"+s+"' has been deprecated for several releases and will be removed soon. Use '"+n+"' instead.");return O.get(n||"").getMetadata.apply(this,arguments);});});var o=sap.ui.getCore().getLoadedLibraries()["sap.viz"];if(o&&o.types){q.each(o.types,function(i,n){if(n.indexOf("sap.viz.ui5.types.")===0){O.set("sap.viz.types."+n.slice("sap.viz.ui5.types.".length),O.get(n||""));}});}}
b();var c=false;var v={'status':'unloaded'};
sap.viz._initializeVIZ=function(){if(!sap.viz.__svg_support){return;}if(c){return;}sap.viz._initializeENV(true);c=true;};
sap.viz._initializeVIZControls=function(d,e){if(!sap.viz.__svg_support){e(false);}if(v.status==='unloaded'){v.callbacks=[e];v.status='loading';sap.viz._initializeENV(!c,d?'container':'controls',function(){v.status='loaded';if(v&&v.callbacks){for(var i=0;i<v.callbacks.length;i++){v.callbacks[i](true);}delete v.callbacks;}});c=true;}else if(v.status==='loading'){v.callbacks.push(e);}else if(v.status==='loaded'){e(true);}};
sap.viz._initializeENV=function(d,p,e){var P=sap.viz.api.env.Resource.path("sap.viz.api.env.Language.loadPaths")||[];if(d){P=[];P.push(sap.ui.require.toUrl("sap/viz/resources/chart/langs")+"/");P.push(sap.ui.require.toUrl("sap/viz/resources/framework/langs")+"/");}if(p==='container'){P.push(sap.ui.require.toUrl("sap/viz/ui5/container/libs/locale")+"/");}else if(p==='controls'){P.push(sap.ui.require.toUrl("sap/viz/ui5/controls/libs/sap-viz-vizframe/resources/locale")+"/");}var t="auto";if(sap.ui&&sap.ui.Device&&sap.ui.Device.system){if(sap.ui.Device.system.desktop===true){t="off";}else if(sap.ui.Device.system.desktop===false){t="on";}}sap.viz.api.env.globalSettings({"treatAsMobile":t});if(P.length>0){if(p){sap.viz.api.env.Format.useDefaultFormatter(true);sap.viz.api.env.globalSettings({"useLatestFormatPrefix":true});}sap.viz.api.env.Resource.path("sap.viz.api.env.Language.loadPaths",P);L.info("VIZ: load path for lang manager set to "+P);if(p){if(p==='container'){var G=sap.viz.controls.common.config.GlobalConfig;G.defaultAssetsRoot(sap.ui.require.toUrl("sap/viz/ui5/container/libs")+"/");}}if(p){sap.viz.api.env.Resource.path("sap.viz.api.env.Template.loadPaths",[sap.ui.require.toUrl("sap/viz/resources/chart/templates")+"/"]);sap.ui.getCore().attachThemeChanged(function(f){sap.viz._applyTheme();});sap.viz._applyTheme();}sap.viz._applyLocale(e);}};
sap.viz._applyTheme=function(){sap.viz._changeTemplate('standard_fiori');sap.ui.requireSync("sap/ui/core/theming/Parameters");var m={};var w=function(k){var d=sap.ui.core.theming.Parameters.get(k);if(d){m[k]=d;}};w('sapUiChartPaletteQualitativeHue1');w('sapUiChartPaletteQualitativeHue2');w('sapUiChartPaletteQualitativeHue3');w('sapUiChartPaletteQualitativeHue4');w('sapUiChartPaletteQualitativeHue5');w('sapUiChartPaletteQualitativeHue6');w('sapUiChartPaletteQualitativeHue7');w('sapUiChartPaletteQualitativeHue8');w('sapUiChartPaletteQualitativeHue9');w('sapUiChartPaletteQualitativeHue10');w('sapUiChartPaletteQualitativeHue11');w('sapUiChartPaletteQualitativeHue12');w('sapUiChartPaletteQualitativeHue13');w('sapUiChartPaletteQualitativeHue14');w('sapUiChartPaletteQualitativeHue15');w('sapUiChartPaletteQualitativeHue16');w('sapUiChartPaletteQualitativeHue17');w('sapUiChartPaletteQualitativeHue18');w('sapUiChartPaletteQualitativeHue19');w('sapUiChartPaletteQualitativeHue20');w('sapUiChartPaletteQualitativeHue21');w('sapUiChartPaletteQualitativeHue22');w('sapUiChartPaletteSemanticBadLight3');w('sapUiChartPaletteSemanticBadLight2');w('sapUiChartPaletteSemanticBadLight1');w('sapUiChartPaletteSemanticBad');w('sapUiChartPaletteSemanticBadDark1');w('sapUiChartPaletteSemanticBadDark2');w('sapUiChartPaletteSemanticCriticalLight3');w('sapUiChartPaletteSemanticCriticalLight2');w('sapUiChartPaletteSemanticCriticalLight1');w('sapUiChartPaletteSemanticCritical');w('sapUiChartPaletteSemanticCriticalDark1');w('sapUiChartPaletteSemanticCriticalDark2');w('sapUiChartPaletteSemanticGoodLight3');w('sapUiChartPaletteSemanticGoodLight2');w('sapUiChartPaletteSemanticGoodLight1');w('sapUiChartPaletteSemanticGood');w('sapUiChartPaletteSemanticGoodDark1');w('sapUiChartPaletteSemanticGoodDark2');w('sapUiChartPaletteSemanticNeutralLight3');w('sapUiChartPaletteSemanticNeutralLight2');w('sapUiChartPaletteSemanticNeutralLight1');w('sapUiChartPaletteSemanticNeutral');w('sapUiChartPaletteSemanticNeutralDark1');w('sapUiChartPaletteSemanticNeutralDark2');w('sapUiChartPaletteNoSemDiv1Dark2');w('sapUiChartPaletteNoSemDiv1Dark1');w('sapUiChartPaletteNoSemDiv1');w('sapUiChartPaletteNoSemDiv1Light1');w('sapUiChartPaletteNoSemDiv1Light2');w('sapUiChartPaletteNoSemDiv1Light3');w('sapUiChartPaletteSequentialHue1Light3');w('sapUiChartPaletteSequentialHue1Light2');w('sapUiChartPaletteSequentialHue1Light1');w('sapUiChartPaletteSequentialHue1');w('sapUiChartPaletteSequentialHue1Dark1');w('sapUiChartPaletteSequentialHue1Dark2');w('sapUiChartPaletteSequentialHue2Light3');w('sapUiChartPaletteSequentialHue2Light2');w('sapUiChartPaletteSequentialHue2Light1');w('sapUiChartPaletteSequentialHue2');w('sapUiChartPaletteSequentialHue2Dark1');w('sapUiChartPaletteSequentialHue2Dark2');w('sapUiChartPaletteSequentialHue3Light3');w('sapUiChartPaletteSequentialHue3Light2');w('sapUiChartPaletteSequentialHue3Light1');w('sapUiChartPaletteSequentialHue3');w('sapUiChartPaletteSequentialHue3Dark1');w('sapUiChartPaletteSequentialHue3Dark2');w('sapUiChartPaletteSequentialHue6Light3');w('sapUiChartPaletteSequentialHue6Light2');w('sapUiChartPaletteSequentialHue6Light1');w('sapUiChartPaletteSequentialHue6');w('sapUiChartPaletteSequentialHue6Dark1');w('sapUiChartPaletteSequentialHue6Dark2');w('sapUiChartPaletteSequentialNeutralLight3');w('sapUiChartPaletteSequentialNeutralLight2');w('sapUiChartPaletteSequentialNeutralLight1');w('sapUiChartPaletteSequentialNeutral');w('sapUiChartPaletteSequentialNeutralDark1');w('sapUiChartPaletteSequentialNeutralDark2');w('sapUiChoroplethRegionBG');w('sapUiChartZeroAxisColor');w('sapUiNegativeElement');w('sapUiCriticalElement');w('sapUiPositiveElement');w('sapUiNeutralElement');sap.viz.api.env.globalSettings({'colorMapping':m});};
sap.viz._changeTemplate=function(t){if(sap.viz.api.env.Template.get()!==t){sap.viz.api.env.Template.set(t);}};
sap.viz._applyLocale=function(d){var o=sap.ui.getCore().getConfiguration();var e=o.getLocale();var V=e.getLanguage();if(V==='zh'){V=(o.getSAPLogonLanguage()==='ZH')?'zh_CN':'zh_TW';}sap.viz.api.env.Locale.set(V,function(){if(d){d();}});L.info("VIZ: env initialized (locale="+sap.ui.getCore().getConfiguration().getLanguage()+")");};
return sap.viz;});
sap.ui.predefine('sap/viz/ui5/api/env/Format',function(){"use strict";var F={};
F.numericFormatter=function(f){return sap.viz.api.env.Format.numericFormatter.apply(null,arguments);};
return F;},true);
sap.ui.predefine('sap/viz/ui5/controls/Popover',['sap/ui/layout/Grid','sap/ui/layout/form/SimpleForm','sap/viz/library','./common/BaseControl','./chartpopover/ChartPopover',"sap/ui/thirdparty/jquery","./PopoverRenderer"],function(G,S,l,B,C,q){"use strict";
var P=B.extend("sap.viz.ui5.controls.Popover",{metadata:{library:"sap.viz",properties:{customDataControl:{type:"any",defaultValue:null},actionItems:{type:"object[]",defaultValue:null},formatString:{type:"any",defaultValue:null},showLine:{type:"boolean",defaultValue:true}}}});
P.prototype.init=function(){B.prototype.init.apply(this,arguments);this._Popover=undefined;this._uid=undefined;};
P.prototype.exit=function(){B.prototype.exit.apply(this,arguments);var v=sap.ui.getCore().byId(this._uid);if(v){if(v._vizFrame){v._vizFrame.off('showTooltip');v._vizFrame.off('hideTooltip');var c=v._onConnectPopover()||{};if(c.ref===this){v._onConnectPopover(undefined);}}else{v._onConnectPopover(q.proxy(function(e){if(!v._vizFrame){return;}v._vizFrame.off('showTooltip');v._vizFrame.off('hideTooltip');},this));}}if(this._Popover){this._Popover.destroy();}this._Popover=undefined;this._uid=undefined;};
P.prototype.connect=function(u){this._uid=u;if(!this._Popover){this._createPopover();}var v=sap.ui.getCore().byId(this._uid);var a=v.getUiConfig();if(!a||a.applicationSet!=='fiori'){return;}var p=this._Popover;function c(){if(!v._vizFrame){return;}v._vizFrame.off('showInstantTooltip');v._vizFrame.off('hideInstantTooltip');v._vizFrame.on('showTooltip',function(e){if(e.data.target){p.setOptions(e.data).openBy(e.data.target);}});v._vizFrame.on('hideTooltip',function(){p.close();});p.setChartType(v._vizFrame.type());p._oPopover.setOffsetX(0);p._oPopover.setOffsetY(0);}c.ref=this;if(v._vizFrame){c();}v._onConnectPopover(c);};
P.prototype.close=function(){if(this._Popover){this._Popover.close();}};
P.prototype.setFormatString=function(s){this.setProperty("formatString",s);if(this._Popover){this._Popover.setFormatString(s);}else{this._createPopover();}return this;};
P.prototype.setCustomDataControl=function(c){this.setProperty('customDataControl',c);if(this._Popover){this._Popover.setCustomDataControl(c);}else{this._createPopover();}return this;};
P.prototype.setActionItems=function(a){this.setProperty('actionItems',a);if(this._Popover){this._Popover.setActionItems(a);}else{this._createPopover();}return this;};
P.prototype.setShowLine=function(i){this.setProperty('showLine',i);if(this._Popover){this._Popover.setShowLine(i);}else{this._createPopover();}return this;};
P.prototype._createPopover=function(){this._Popover=new C({actionItems:this.getActionItems(),customDataControl:this.getCustomDataControl(),formatString:this.getFormatString(),showLine:this.getShowLine()});};
P.prototype.addStyleClass=function(){this._Popover.addStyleClass.apply(this._Popover,arguments);};
P.prototype.removeStyleClass=function(){this._Popover.removeStyleClass.apply(this._Popover,arguments);};
return P;});
sap.ui.predefine('sap/viz/ui5/controls/PopoverRenderer',function(){"use strict";var P={render:function(r,c){r.write("<div");r.writeControlData(c);r.writeClasses();r.writeStyles();r.write('>');r.write('</div>');}};return P;},true);
sap.ui.predefine('sap/viz/ui5/controls/ResponsiveLegend',[],function(){"use strict";var R=function(){throw new Error();};
R.createInstance=function(c){var r=Object.create(this.prototype||null);r._oLegendControl=c;return r;};
R.prototype._oLegendControl=undefined;
R.prototype.show=function(){};
R.prototype.hide=function(){};
R.prototype.setOpenBy=function(o){};
return R;},true);
sap.ui.predefine('sap/viz/ui5/controls/VizFrame',['sap/viz/library','sap/ui/core/theming/Parameters','sap/viz/ui5/theming/Util','sap/viz/ui5/utils/CommonUtil','./ResponsiveLegend','./common/BaseControl','./common/feeds/AnalysisObject','./common/feeds/FeedItem','./common/feeds/FeedHelper','./common/helpers/RuntimeOptionsHelper','./common/helpers/DefaultPropertiesHelper','./common/utils/Constants','./common/utils/SelectionDetailUtil','sap/ui/Device',"sap/ui/thirdparty/jquery","./VizFrameRenderer"],function(l,P,U,C,R,B,A,F,a,b,D,c,S,d,q){"use strict";var f=sap.viz.vizservices.__internal__.BindingService;var g=sap.viz.vizservices.__internal__.PropertyService;for(var h=0;h<c.CORE_CHART_TYPES.length;h++){var j=c.CORE_CHART_TYPES[h];g.getPropertiesDef(j);}
var V=B.extend("sap.viz.ui5.controls.VizFrame",{metadata:{library:"sap.viz",properties:{vizType:{type:"string",group:"Misc",defaultValue:"column"},vizProperties:{type:"object",group:"Misc",defaultValue:null},vizScales:{type:"object",group:"Misc",defaultValue:null},vizCustomizations:{type:"object",group:"Misc",defaultValue:null},legendVisible:{type:"boolean",group:"Misc",defaultValue:true}},aggregations:{dataset:{type:"sap.viz.ui5.data.Dataset",multiple:false},feeds:{type:"sap.viz.ui5.controls.common.feeds.FeedItem",multiple:true,singularName:"feed"}},events:{renderComplete:{},selectData:{},deselectData:{}}}});
V.prototype.init=function(){sap.viz.ui5.controls.common.BaseControl.prototype.init.apply(this,arguments);this._wrapApi('setModel',function(){this._invalidateDataset=true;}.bind(this));this._wrapApi('setDataset',function(){this._invalidateDataset=true;}.bind(this));this._wrapApi('destroyDataset',function(){this._invalidateDataset=true;}.bind(this));this._wrapApi('addFeed',function(){this._invalidateFeeds=true;}.bind(this));this._wrapApi('removeFeed',function(){this._invalidateFeeds=true;}.bind(this));this._wrapApi('destroyFeeds',function(){this._invalidateFeeds=true;}.bind(this));this._vizFrame=null;this._currentTheme=null;this._connectPopover=null;this._currentTemplate=null;this._errorType=null;this._bulletProperties={plotArea:{}};this._waterfallProperties={plotArea:{}};this._bReadyToRender=true;this._scalesOption=null;this._bSupressInvisibleRender=false;this._clearVariables();this._templateCache={};this._isInitThememChanged=false;this.data("sap-ui-fastnavgroup","true",true);};
V.prototype.applySettings=function(){sap.ui.core.Control.prototype.applySettings.apply(this,arguments);};
V.prototype.exit=function(){sap.viz.ui5.controls.common.BaseControl.prototype.exit.apply(this,arguments);this._clearVariables();if(this._vizFrame){this._vizFrame.destroy();}this._vizFrame=null;};
V.prototype._getDataRange=function(s,e){return(this._vizFrame&&this._vizFrame._getDataRange(s,e))||{displayValues:{start:s,end:e}};};
V.prototype._setTitleAria=function(e){if(this._vizFrame$.length){this._vizFrame$.attr("aria-hidden",true);q(this._app$).attr("aria-label",e);}};
V.prototype._clearVariables=function(){this._clearRequestedProperties();this._bulletProperties={plotArea:{}};this._waterfallProperties={plotArea:{}};this._cachedDataset=null;this._connectPopover=null;this._templateCache=null;this._bSupressInvisibleRender=false;};
V.prototype._clearRequestedProperties=function(){this.setProperty('vizProperties',null);this.setProperty('vizScales',null);this.setProperty('vizCustomizations',null);this._scalesOption=null;};
V.prototype.getVizUid=function(){return this.getId();};
V.prototype.setUiConfig=function(u){sap.viz.ui5.controls.common.BaseControl.prototype.setUiConfig.apply(this,arguments);return this;};
V.prototype.setVizType=function(v){var o=this._getCalculatedType();if(v!==this.getVizType()){this._invalidateVizType=true;}this.setProperty('vizType',v,true);var e=this._getCalculatedType();if(o!==e&&!this._pendingRerendering&&(this._vizFrame||this._errorType)){var u=this._userFeeds||{feeds:this.getFeeds(),vizType:o};if(u.vizType===e){this.destroyFeeds();u.feeds.forEach(function(i){this.addFeed(i);},this);this._userFeeds=null;}else{this._switchFeeds(o,this._getCalculatedType(),u);}}else{this.invalidate();}return this;};
V.prototype._switchFeeds=function(e,t,u){var i=F.toLightWeightFmt(this.getFeeds());var o=sap.viz.vizservices.BVRService.switchFeeds(e,i,t).feedItems;var r=a.getFeedDefsMap(t);o.forEach(function(v){if(v.id&&r[v.id]){v.type=r[v.id].type;}});var s=F.fromLightWeightFmt(o);u.feeds.forEach(function(v){this.removeFeed(v,true);},this);this.vizUpdate({feeds:s});this._userFeeds=u;};
V.prototype.invalidate=function(o){if(o instanceof sap.viz.ui5.data.Dataset){this._invalidateDataset=true;}if(o instanceof F){this._userFeeds=null;}sap.viz.ui5.controls.common.BaseControl.prototype.invalidate.call(this,o);};
V.prototype.getVizProperties=function(){if(this._vizFrame){return this._mergeProperties(this._mergeProperties({},this._vizFrame.properties()||{}),this.getProperty('vizProperties')||{});}else{return this.getProperty('vizProperties');}};
V.prototype.getVizScales=function(){if(this._vizFrame){return C.extendScales(this._vizFrame.scales()||[],this.getProperty('vizScales')||[]);}else{return this.getProperty('vizScales');}};
V.prototype.zoom=function(e){if(this._vizFrame){this._vizFrame.zoom({target:"plotArea",direction:e.direction});}};
V.prototype.setVizProperties=function(v){var t=this._getCalculatedType();if(v&&(t==="info/bullet"||t==="info/vertical_bullet")){b.processBulletProperty(this._bulletProperties,v);}if(v&&(t==="info/timeseries_waterfall")){b.processWaterfallProperty(this._waterfallProperties,v);}var o=sap.viz.api.serialization.migrate({'type':this._getCalculatedType(),'properties':v});if(this._vizFrame&&!this._pendingRerendering){if(this._errorType!==c.ERROR_TYPE.NODATA){this._updateDescription();}try{this._vizFrame.update(o);}catch(e){this._handleErr(e);}}else{this.setProperty('vizProperties',this._mergeProperties(this.getProperty('vizProperties')||{},o.properties||{}));this.setVizScales(o.scales,this._scalesOption);}return this;};
V.prototype.setVizScales=function(v,o){if(this._vizFrame&&!this._pendingRerendering){try{if(o){this._vizFrame.scales(v,{level:'user',replace:o.replace});}else{this._vizFrame.scales(v);}}catch(e){this._handleErr(e);}}else{if(o){this._scalesOption={level:'user',replace:o.replace};}if(o&&o.replace){this.setProperty('vizScales',v);}else{this.setProperty('vizScales',C.extendScales(this.getProperty('vizScales')||[],v||[]));}}return this;};
V.prototype.getLegendVisible=function(){return this.getVizProperties().legendGroup.computedVisibility;};
V.prototype.setLegendVisible=function(v){this.setVizProperties({'legend':{'visible':v},'sizeLegend':{'visible':v}});return this;};
V.prototype.vizSelection=function(i,o){if(this._vizFrame){try{var r=this._vizFrame.selection.apply(this._vizFrame,arguments);if(r===this._vizFrame){r=this;}}catch(e){return null;}return r;}else{return null;}};
V.prototype.vizUpdate=function(o){if(this._vizFrame||this._errorType){if(o.data||o.feeds){if(o.properties){this.setVizProperties(o.properties);}if(o.scales){this.setVizScales(o.scales);}if(o.customizations){this.setVizCustomizations(o.customizations);}if(o.data){this.setDataset(o.data);}if(o.feeds){this.destroyFeeds();o.feeds.forEach(function(i){this.addFeed(i);}.bind(this));}}else{try{this._vizFrame.update(o);}catch(e){this._handleErr(e);}}}};
V.prototype.setVizCustomizations=function(o){if(V._isCustomizationAPISupportedVizType(this._getCalculatedType())){if(this._vizFrame&&!this._pendingRerendering){try{this._vizFrame.customizations(o);}catch(e){this._handleErr(e);}}else{this.setProperty('vizCustomizations',this._mergeProperties(this.getProperty('vizCustomizations')||{},o||{}));}}return this;};
V.prototype.getVizCustomizations=function(){if(this._vizFrame){return this._mergeProperties(this._mergeProperties({},this._vizFrame.customizations()||{}),this.getProperty('vizCustomizations')||{});}else{return this.getProperty('vizCustomizations');}};
V._isCustomizationAPISupportedVizType=function(v){return Array.prototype.indexOf.call(['info/column','info/dual_column','info/bar','info/dual_bar','info/stacked_bar','info/stacked_column','info/100_stacked_bar','info/100_stacked_column','info/100_dual_stacked_bar','info/100_dual_stacked_column','info/dual_stacked_bar','info/dual_stacked_column','info/line','info/horizontal_line','info/dual_line','info/dual_horizontal_line','info/bubble',"info/scatter",'info/combination','info/horizontal_combination','info/stacked_combination','info/horizontal_stacked_combination','info/dual_stacked_combination','info/dual_horizontal_stacked_combination','info/timeseries_combination','info/timeseries_stacked_combination','info/timeseries_bullet','info/dual_timeseries_combination','info/dual_combination','info/dual_horizontal_combination'],v)>-1;};
V.prototype.getResponsiveLegend=function(){if(this._vizFrame){return sap.viz.ui5.controls.ResponsiveLegend.createInstance(this._vizFrame.responsiveLegend());}};
V.prototype.exportToSVGString=function(o){var r="<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\"/>";if(this._vizFrame){r=this._vizFrame.exportToSVGString(o);}return r;};
V.prototype._getScopeString=function(){var s=P.getActiveScopesFor(this);return JSON.stringify(s);};
V.prototype._scopingChangedFun=function(e){var E=e.getParameter("element");var i=false;if(this===E){i=true;}else{var o=this;while(o){o=o.getParent();if(o===E){i=true;break;}}}if(i){var s=this._getScopeString();if(this._sCurrentScopeChain!==undefined&&this._sCurrentScopeChain!==s){this._themeChangedHandler(false,function(){this._themeLoadCompleted=true;this._renderVizFrame({forceThemeChange:true});}.bind(this));}}};
V.prototype._createContainerDiv=function(){if(!this._vizFrame$){this._vizFrame$=q(document.createElement('div'));this._vizFrame$.addClass(c.CSS_PREFIX+'-viz-frame');this._vizFrame$.appendTo(this._app$);}if(!this._description$){this._description$=q(document.createElement('div'));this._description$.addClass(c.CSS_PREFIX+'-viz-description');this._description$.appendTo(this._app$);this._description$.attr('tabindex',0);this._descriptionTitle$=q(document.createElement('div'));this._descriptionTitle$.addClass(c.CSS_PREFIX+'-viz-description-title');this._descriptionTitle$.appendTo(this._description$);this._descriptionDetail$=q(document.createElement('div'));this._descriptionDetail$.addClass(c.CSS_PREFIX+'-viz-description-detail');this._descriptionDetail$.appendTo(this._description$);this._descriptionMessage$=q(document.createElement('div'));this._descriptionMessage$.addClass(c.CSS_PREFIX+'-viz-description-message');this._descriptionMessage$.appendTo(this._description$);}};
V.prototype._createVizFrame=function(o){sap.ui.getCore().attachThemeScopingChanged(this._scopingChangedFun,this);o.container=this._vizFrame$.get(0);var v=this._vizFrame=new sap.viz.vizframe.VizFrame(o,{'controls':{'morpher':{'enabled':false}},'throwError':true});v.on('selectData',function(e){this.fireEvent("selectData",e);}.bind(this));v.on('deselectData',function(e){this.fireEvent("deselectData",e);}.bind(this));v.on('initialized',function(e){var i=this._vizFrame$;i.on("focusin",function(r){r.preventDefault();i.addClass('sapMFocus');});i.on("focusout",function(r){r.preventDefault();i.removeClass('sapMFocus');});this.fireEvent("renderComplete",e);}.bind(this));v.on('scroll',function(e){this.fireEvent("_scroll",e);}.bind(this));v.on('_selectionDetails',function(e){S.appendShapeStrings(e.data);this.fireEvent("_selectionDetails",e);}.bind(this));v.on('_zoomDetected',function(e){this.fireEvent("_zoomDetected",e);}.bind(this));return v;};
V.prototype._migrate=function(t,e){e.forEach(function(o){var r=sap.viz.api.serialization.feedsIdToBindingId(t,o.getUid());if(r){o.setProperty('uid',r,true);}});if(t==="info/bullet"||t==="info/vertical_bullet"||t==="info/timeseries_bullet"){var i=false;e.forEach(function(o){i=i||o.getUid()==='actualValues';});if(!i){e.forEach(function(o){if(o.getUid()==='valueAxis'){o.setUid('actualValues');if(o.getValues().length>1){e.push(new F({'uid':'additionalValues','type':'Measure','values':[o.getValues()[1]]}));o.setValues([o.getValues()[0]]);}}});}}};
function k(e){for(var i=e.length-1;i>=0;i--){var o=e[i];if(o.feed&&o.feed==="color"&&o.palette){return i;}}return-1;}
V.prototype._checkProps=function(e,o,i){if(e==='fiori'){o.properties=b.decorateFiori(o,i,this.getVizProperties());}if(o.properties){o.properties=g.removeInvalid(o.type,o.properties);}if(o.type==="info/bullet"||o.type==="info/vertical_bullet"){o.properties=this._mergeProperties(o.properties||{},this._bulletProperties);b.decorateBullet(o,i);}if(o.type==="info/timeseries_bullet"){b.decorateTimeBullet(o);}if(o.type==="info/timeseries_waterfall"){b.decorateWaterfall(o,i);o.properties=this._mergeProperties(o.properties||{},this._waterfallProperties);}};
function m(){function e(v){if(!v||typeof v!=='object'||({}).toString.call(v)!='[object Object]'){return false;}var i=Object.getPrototypeOf(v);if(i===null){return true;}var r=self.hasOwnProperty.call(i,'constructor')&&i.constructor;return typeof r=='function'&&r instanceof r&&Function.prototype.toString.call(r)===Function.prototype.toString.call(Object);}function _(i,r,s){for(var t in s){var u=s[t];var v=i?i[t]:i;if(u!==undefined){if(v===null||!e(u)){r[t]=u;}else{var w=r[t];if(!w||!e(w)){w=r[t]={};}_(v,w,u);}}}};function o(r,s,t){s=s||{};for(var i=2;i<arguments.length;i++){var u=arguments[i];_(r,s,u);}return s;};self.onmessage=function(i){var r={};var s=i.data.allChartNames;for(var h=0;h<s.length;++h){var j=s[h];if(i.data.applicationSet==='fiori'){r[j]=o(i.data.allPropDefs[j],i.data.defaultFioriProps,i.data.generalProps,i.data.specificProps[j.replace('info/','')]);if(/dual/.test(j)){o[j]=o(i.data.allPropDefs[j],r[j],i.data.dualFioriProps);}}else{r[j]=o(i.data.allPropDefs[j],i.data.generalProps,i.data.specificProps[j.replace('info/','')],i.data.defaultFormatString[j]);}r[j]=o(i.data.allPropDefs[j],i.data.cvomTemplate[j],r[j],i.data.allUi5Theme[j],i.data.extraProp);}self.postMessage(r);};}
function n(e,i,o,r,s,t){return new Promise(function(u){var w=new window.Worker(window.URL.createObjectURL(new window.Blob(["("+m.toString()+")()"],{type:'text/javascript'})));w.postMessage({applicationSet:e,allPropDefs:i,allChartNames:c.CORE_CHART_TYPES,generalProps:D._general,specificProps:D._specified,defaultFioriProps:D.DEFAULT_FIORI_PROPS,dualFioriProps:D.FIORI_DUAL_PROPS,allUi5Theme:o,cvomTemplate:r,extraProp:s,defaultFormatString:t});w.onmessage=function(v){u(v.data);}});}
function p(j,e,o){var i=g.mergeProperties;var r=sap.viz.ui5.theming.Util.readCSSParameters;var s=D.get(g,j,e);var t=D.getExtraProp(e);return i(j,s,r(j,o),t);}
V.prototype._getTemplateProps=function(e,i,o){if(this._templateCache[o]){return Promise.resolve();}var j,h;return new Promise(function(r){if(typeof(window.Worker)!=='undefined'){var s=sap.viz.ui5.theming.Util.readCSSParameters;var t=D.getExtraProp(e);var u={};var v={};var w={};for(h=0;h<c.CORE_CHART_TYPES.length;h++){j=c.CORE_CHART_TYPES[h];if(e!=='fiori'){w[j]=D.applyDefaultFormatString({},j);}u[j]=g.getPropertiesDef(j);v[j]=s(j,this);}this._themeLoadCompleted=false;return n(e,u,v,i.properties,t,w).then(function(y){this._templateCache[o]=y;r();}.bind(this));}else{var x=g.mergeProperties;var y={};for(h=0;h<c.CORE_CHART_TYPES.length;h++){j=c.CORE_CHART_TYPES[h];y[j]=p(j,e,this);}if(i.properties){for(h=0;h<c.CORE_CHART_TYPES.length;h++){j=c.CORE_CHART_TYPES[h];y[j]=x(j,i.properties[j],y[j]);y[j]=g.removeInvalid(j,y[j]);}}this._templateCache[o]=y;r();}}.bind(this));};
V.prototype._getOptions=function(t,e){var o={'type':t,'properties':{}};if(this._invalidateDataset){o.data=this._getVizDataset();this._invalidateDataset=false;}if(this._invalidateFeeds){o.bindings=this._getVizBindings(t,e);this._invalidateFeeds=false;}if(this.getProperty('vizProperties')){o.properties=this.getProperty('vizProperties');}if(this.getProperty('vizScales')){o.scales=this.getProperty('vizScales');}if(this._scalesOption){o.scalesOption=this._scalesOption;}if(this.getProperty('vizCustomizations')){o.customizations=this.getProperty('vizCustomizations');}if(this._aRuntimeScales){o.sharedRuntimeScales=this._aRuntimeScales;}o.template=this._currentTemplate;return o;};
V.prototype._setCustomMessages=function(o){this._errorInfo=o;this._handleDescription(this._errorType);};
V.prototype._realRenderVizFrame=function(r){if(!this._readyToRender()){return;}var e=(this.getUiConfig()||{}).applicationSet;var t=this._getCalculatedType();var i=this.getFeeds();var o=g.mergeProperties;var s={_invalidateDataset:this._invalidateDataset,_invalidateVizType:this._invalidateVizType,_invalidateFeeds:this._invalidateFeeds};this._migrate(t,i);var u=false,v=sap.ui.getCore().getConfiguration().getTheme();if((r&&r.forceThemeChange)||(this._currentTheme!==v)){u=true;}s.theme=v;if(!(this._invalidateFeeds||this._invalidateDataset||u||this._invalidateVizType||this._localeChanged)||!this._isDataReady()){return;}this._createContainerDiv();try{var w=this._getOptions(t,i);if(!w){return;}this._currentTheme=v;if(this._isExtension()){var x=p(t,e);w.properties=o(t,x,w.properties);}this._checkProps(e,w,i,t);if(this._invalidateVizType){this._invalidateVizType=false;}if(!this._vizFrame){if(w.data){this._createVizFrame(w);this._clearRequestedProperties();}}else{this._vizFrame.update(w);this._clearRequestedProperties();}if(this._connectPopover){this._connectPopover();}var y=this._getVizDataset();if(y&&y._FlatTableD&&(!y._FlatTableD._data.length)){throw c.ERROR_MESSAGE.NODATA;}else{this._errorType=null;this._updateDescription();}this._localeChanged=false;}catch(z){if(!this._vizFrame){this._invalidateDataset=s._invalidateDataset;this._invalidateVizType=s._invalidateVizType;this._invalidateFeeds=s._invalidateFeeds;this._currentTheme=s.theme;}this._handleErr(z);}};
V.prototype._renderVizFrame=function(r){if(!this._readyToRender()||(this._isInitThememChanged&&!this._themeLoadCompleted)){return;}if(!this._isInitThememChanged){this._pendingRerendering=true;this._themeChangedHandler(false,function(){this._pendingRerendering=false;this._realRenderVizFrame(r);this._themeLoadCompleted=true;}.bind(this));}else{this._realRenderVizFrame(r);}};
V.prototype._themeChangedHandler=function(e,i){this._isInitThememChanged=true;var o=(this.getUiConfig()||{}).applicationSet;var r=o||"";var s="";this._sCurrentScopeChain=this._getScopeString();if(this._sCurrentScopeChain){s=this._sCurrentScopeChain;}var t=sap.ui.getCore().getConfiguration().getTheme();var u=t+"_"+r+"_"+c.TEMPLATE_POSTFIX+s;if(this._currentTemplate===u&&!e){return;}this._currentTemplate=u;var v=sap.viz.api.env.Template.get();var w=sap.viz.extapi.env.Template;if(!w.isRegistered(u)||e){w.unregister(u);var x;if(v.indexOf(c.TEMPLATE_POSTFIX)>-1){x=w.getPackage('standard_fiori')||w.getPackage('default');}else{x=w.current();}this._getTemplateProps(o,x,u).then(function(){var y=this._templateCache[u];x.properties=x.properties||{};x.scales=x.scales||{};for(var j in y){if(y.hasOwnProperty(j)){x.properties[j]=y[j];var z=x.scales[j];if(z){var E=k(z);if(E>-1){z.splice(E,1);}}}}x.id=u;x.name=u;w.register(x);i();}.bind(this));}else{i();}};
V.prototype.onThemeChanged=function(e){if(this._app$&&this.$()){this._themeChangedHandler(e.triggeredBy&&e.triggeredBy==='themedesigner',function(){this.invalidate();this._themeLoadCompleted=true;}.bind(this));}};
V.prototype.onlocalizationChanged=function(){if(this._app$&&this.$()){sap.viz._applyLocale(function(){if(this._errorType){this._localeChanged=true;this.invalidate();}}.bind(this));}};
V.prototype._isDataReady=function(){var e=this.getDataset();return(!e||!e.isReady())?false:true;};
V.prototype._getVizDataset=function(){var e=this.getDataset();if(this._isExtension()){var i=this._getMetadata();if(i){if(i.dataType==='raw'){return e.getRawDataset();}else if(i.dataType==='sap.viz.api.data.CrosstableDataset'){a.updateAxis(e.getDimensions(),this._getCalculatedType(),this.getFeeds());return e.getVIZCrossDataset();}else{return e.getVIZFlatDataset();}}else{a.updateAxis(e.getDimensions(),this._getCalculatedType(),this.getFeeds());return e.getVIZCrossDataset();}}else{return e.getVIZFlatDataset();}};
V.prototype._getVizBindings=function(t,e){if(e&&e.length){var i=F.toLightWeightFmt(e);i=sap.viz.vizservices.BVRService.suggestFeeds(t,i,[{'id':'MND','type':'MND'}]).feedItems;if(this._isExtension()){var o=this._getMetadata();if(o){if(o.dataType==='sap.viz.api.data.CrosstableDataset'){return f.generateBindings(t,i,'CrossTableDataset');}else{return f.generateBindings(t,i,'FlatTableDataset');}}else{return f.generateBindings(t,i,'CrossTableDataset');}}else{return f.generateBindings(t,i,'FlatTableDataset');}}else{return null;}};
V.prototype._getMetadata=function(){var e;try{e=sap.viz.api.metadata.Viz.get(this._getCalculatedType());}catch(i){e=null;}return e;};
V.prototype._onConnectPopover=function(e){if(arguments.length>0){this._connectPopover=e;}return this._connectPopover;};
V.prototype._createChildren=function(){this._renderVizFrame();};
V.prototype._updateChildren=function(){this._renderVizFrame();};
V.prototype._suppressInvisibleRender=function(s){this._bSuppressInvisibleRender=!!s;};
V.prototype._validateSize=function(e){if(!this._app$||!this.$()||(e&&e.size&&(e.size.height==0||e.size.width==0))||(this._bSuppressInvisibleRender&&(window.getComputedStyle(this.getDomRef(),null).visibility==="hidden"))||this.$().prop('offsetHeight')===0){return;}var i={'width':this.$().width(),'height':this.$().height()};if(this._vizFrame){var s=this._vizFrame.size();if(!s||s.width!==i.width||s.height!==i.height){this._vizFrame.size({'width':i.width,'height':i.height,'auto':true,'invisibleRender':true});}}};
V.prototype._getCalculatedType=function(){if(this._isExtension()){return this.getVizType();}else{return this._getInfoType();}};
V.prototype._isExtension=function(){return c.CORE_CHART_TYPES.indexOf(this._getInfoType())===-1;};
V.prototype._getInfoType=function(){var v=this.getVizType();if(v.indexOf("info/")===-1){return'info/'+v;}else{return v;}};
V.prototype._mergeProperties=function(t,e){return g.mergeProperties(this._getCalculatedType(),t,e);};
V.prototype._wrapApi=function(e,i){this[e]=function(){var r=V.prototype[e].apply(this,arguments);i();return r;}.bind(this);};
V.prototype._updateDescription=function(e){var i=this._description$;var t=this._descriptionTitle$;var o=this._descriptionDetail$;var r=this._descriptionMessage$;if(!this._description$.length){return;}if(!e){i.hide();}else{i.show();t.empty();o.empty();r.empty();var s="";if(e.title){t.show().text(e.title);s+=e.title+". ";}if(e.detail){o.show().text(e.detail);s+=e.detail+" ";}if(e.message){r.show().text(e.message);s+=e.message;}i.attr('aria-label',s);}};
V.prototype._handleDescription=function(e,i){var o;if(!e){return;}if(this._errorInfo&&this._errorInfo[e]){o={message:this._errorInfo[e]};}else if(e===c.ERROR_TYPE.INVALIDDATA){o={title:sap.viz.extapi.env.Language.getResourceString("IDS_ERROR_INVALIDE_DATA"),detail:sap.viz.extapi.env.Language.getResourceString("IDS_ERROR_INVALIDE_DATA_DESCRIPTION")};}else if(e===c.ERROR_TYPE.MULTIPLEUNITS){o={title:sap.viz.extapi.env.Language.getResourceString("IDS_ERROR_INVALIDE_DATA"),detail:sap.viz.extapi.env.Language.getResourceString("IDS_ERROR_INVALIDE_DATA_MULTIPLEUNITS")};}else if(e===c.ERROR_TYPE.NODATA){o={title:sap.viz.extapi.env.Language.getResourceString("IDS_ERROR_ISNODATA")};}else{o={message:i};}this._updateDescription(o);};
V.prototype._handleErr=function(e){var s=(this.getUiConfig()||{}).showErrorMessage!==false;var i=true;if(s){if(e===c.ERROR_MESSAGE.NODATA){this._errorType=c.ERROR_TYPE.NODATA;i=false;}else if(e===c.ERROR_MESSAGE.MULTIPLEUNITS){this._errorType=c.ERROR_TYPE.MULTIPLEUNITS;this._clearVizFrame();}else{this._errorType=e.toString().indexOf("[50060]")>=0?c.ERROR_TYPE.INVALIDDATA:c.ERROR_TYPE.OTHERS;if(this._vizFrame){this._vizFrame$.find(".v-info").remove();}else{this._clearVizFrame();}}this._handleDescription(this._errorType,e);}if(i){this.fireEvent('renderFail',{'id':'renderFail','error':e});}};
V.prototype._clearVizFrame=function(){if(this._vizFrame){this._vizFrame.destroy();this._vizFrame=null;}this._vizFrame$.empty();sap.ui.getCore().detachThemeScopingChanged(this._scopingChangedFun,this);};
V.prototype._runtimeScales=function(r,s){if(arguments.length===0){return this._vizFrame?this._vizFrame.runtimeScales():this._aRuntimeScales;}else if(r){this._aRuntimeScales=[].concat(r);if(!s){this.invalidate();}}};
V.prototype._getZoomInfo=function(){var z,e,i,o,s=this._states();if(s){z=s.zoomInOut;if(z){e=z.enabled;i=z.currentZoomLevel;}else{e=false;i=null;}o={enabled:e,currentZoomLevel:i};}else{o={};}return o;};
V.prototype._states=function(){var r;if(this._vizFrame){r=this._vizFrame.states.apply(this._vizFrame,arguments);}return r===this._vizFrame?this:r;};
V.prototype._readyToRender=function(r){if(arguments.length===0){return this._bReadyToRender;}else{this._bReadyToRender=r;}};
return V;});
sap.ui.predefine('sap/viz/ui5/controls/VizFrameRenderer',function(){"use strict";var V={};
V.render=function(r,c){r.write("<DIV");r.writeControlData(c);r.addClass("sapVizFrame");r.writeClasses();r.addStyle("width",c.getWidth());r.addStyle("height",c.getHeight());r.writeStyles();r.write(">");r.write("</DIV>");};
return V;},true);
sap.ui.predefine('sap/viz/ui5/controls/VizRangeSlider',["sap/ui/thirdparty/jquery","./VizSliderBasic","sap/ui/core/InvisibleText",'sap/viz/library',"sap/base/Log"],function(q,S,I,l,L){"use strict";
var V=S.extend("sap.viz.ui5.controls.VizRangeSlider",{metadata:{library:"sap.viz",properties:{value2:{type:"float",group:"Data",defaultValue:100},range:{type:"float[]",group:"Data",defaultValue:[0,100]},left:{type:"string",group:"Data",defaultValue:"0px"},top:{type:"string",group:"Data",defaultValue:"0px"},height:{type:"string",group:"Data",defaultValue:"0px"},showPercentageLabel:{type:"boolean",group:"Appearance",defaultValue:"true"},showStartEndLabel:{type:"boolean",group:"Appearance",defaultValue:"true"}}}});
var _={RANGE_MOVEMENT_THRESHOLD:32,CHARACTER_WIDTH_PX:8,INPUT_STATE_NONE:"None",INPUT_STATE_ERROR:"Error"};
V.prototype.init=function(){var s,e;S.prototype.init.call(this,arguments);this._bInitialRangeChecks=true;this._bRTL=sap.ui.getCore().getConfiguration().getRTL();this._aInitialFocusRange=this.getRange();this._iLongestRangeTextWidth=0;this._fTooltipHalfWidthPercent=0;this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle('sap.m');this._ariaUpdateDelay=[];s=new I({text:this._oResourceBundle.getText("RANGE_SLIDER_LEFT_HANDLE")});e=new I({text:this._oResourceBundle.getText("RANGE_SLIDER_RIGHT_HANDLE")});this._mHandleTooltip={start:{handle:null,tooltip:null,label:s},end:{handle:null,tooltip:null,label:e}};};
V.prototype.exit=function(){this._oResourceBundle=null;this._aInitialFocusRange=null;this._liveChangeLastValue=null;if(this._oRangeLabel){this._oRangeLabel.destroy();}this._oRangeLabel=null;if(this.getInputsAsTooltips()){if(this._mHandleTooltip.start.tooltip){this._mHandleTooltip.start.tooltip.destroy();}if(this._mHandleTooltip.end.tooltip){this._mHandleTooltip.end.tooltip.destroy();}}if(this._mHandleTooltip.start.label){this._mHandleTooltip.start.label.destroy();}if(this._mHandleTooltip.end.label){this._mHandleTooltip.end.label.destroy();}this._mHandleTooltip.start.handle=null;this._mHandleTooltip.start.tooltip=null;this._mHandleTooltip.start.label=null;this._mHandleTooltip.end.handle=null;this._mHandleTooltip.end.tooltip=null;this._mHandleTooltip.end.label=null;this._ariaUpdateDelay=null;this._iDecimalPrecision=null;};
V.prototype.onBeforeRendering=function(){var a=[Math.abs(this.getMin()),Math.abs(this.getMax())],r=a[0]>a[1]?0:1,i=!!this.getInputsAsTooltips(),R=this.getRange();this._bInitialRangeChecks=false;this.setRange(R);if(!this._oRangeLabel){this._oRangeLabel=new I({text:this._oResourceBundle.getText("RANGE_SLIDER_RANGE_HANDLE")});}this._validateProperties();this._iLongestRangeTextWidth=((a[r].toString()).length+this.getDecimalPrecisionOfNumber(this.getStep())+1)*_.CHARACTER_WIDTH_PX;if(!this._mHandleTooltip.start.tooltip){this._mHandleTooltip.start.tooltip=i?this._createInputField("LeftTooltip",this._mHandleTooltip.start.label):null;}if(!this._mHandleTooltip.end.tooltip){this._mHandleTooltip.end.tooltip=i?this._createInputField("RightTooltip",this._mHandleTooltip.end.label):null;}this._mHandleTooltip.bTooltipsSwapped=false;this._iDecimalPrecision=this.getDecimalPrecisionOfNumber(this.getStep());if(this.getEnableTickmarks()&&!this.getAggregation("scale")){this.setAggregation("scale",new sap.m.ResponsiveScale());}};
V.prototype.onAfterRendering=function(){S.prototype.onAfterRendering.apply(this,arguments);var r=this.getRange(),m=this.getMin(),M=this.getMax(),R=r.reduce(function(b,v){return b||v<m||v>M;});this._mHandleTooltip.start.handle=this.getDomRef("handle1");this._mHandleTooltip.end.handle=this.getDomRef("handle2");if(!this.getInputsAsTooltips()){this._mHandleTooltip.start.tooltip=this.$("LeftTooltip");this._mHandleTooltip.end.tooltip=this.$("RightTooltip");}this._recalculateStyles();if(R){L.warning("Warning: "+"Property wrong range: ["+r+"] not in the range: ["+m+","+M+"]",this);}this.$("TooltipsContainer").css("min-width",(this._fTooltipHalfWidthPercent*4)+"%");this._updateHandle(this._mHandleTooltip.start.handle,r[0]);this._updateHandle(this._mHandleTooltip.end.handle,r[1]);if(r[0]>r[1]){this._swapTooltips(r);}};
V.prototype._recalculateRange=function(){var h,s,e,p,a=this._bRTL?"right":"left";h=[parseFloat(this._mHandleTooltip.start.handle.style[a]),parseFloat(this._mHandleTooltip.end.handle.style[a])];s=Math.min.apply(Math,h)+"%";e=(100-Math.max.apply(Math,h))+"%";p=this.getDomRef("progress");if(this._bRTL){p.style.left=e;p.style.right=s;}else{p.style.left=s;p.style.right=e;}var b=this.getDomRef("leftMock");var r=this.getDomRef("rightMock");var d=this.getDomRef("label");var R=this.getRange();var m=Math.min(R[0],R[1]);var c=Math.max(R[0],R[1]);b.style.right=(this.getMax()-m)/(this.getMax()-this.getMin())*100+"%";r.style.left=(c-this.getMin())/(this.getMax()-this.getMin())*100+"%";d.style.left=(c+m)/(this.getMax()-this.getMin())*50+"%";d.innerHTML=((c-m)/(this.getMax()-this.getMin())*100).toFixed(0)+"%";return this;};
V.prototype.getClosestHandleDomRef=function(e){var h=this._mHandleTooltip.start.handle,H=this._mHandleTooltip.end.handle,p=Math.abs(e.pageX-h.offsetLeft-this._fSliderPaddingLeft-this._fSliderOffsetLeft),c=Math.abs(e.clientX-H.offsetLeft-this._fSliderPaddingLeft-this._fSliderOffsetLeft);return p>c?H:h;};
V.prototype._getIndexOfHandle=function(h){if(h&&h.getAttribute&&h.getAttribute("data-range-val")==="start"){return 0;}else if(h&&h.getAttribute&&h.getAttribute("data-range-val")==="end"){return 1;}else{return-1;}};
V.prototype._updateHandle=function(h,v){var t=(this._mHandleTooltip.start.handle===h)?this._mHandleTooltip.start.tooltip:this._mHandleTooltip.end.tooltip,r=this.getRange(),i=this._getIndexOfHandle(h),p=this._getPercentOfValue(v);r[i]=v;this._updateRangePropertyDependencies(r);this._updateHandleDom(h,r,i,v,p);this._updateTooltipContent(t,v);this._adjustTooltipsContainer(p);this._recalculateRange();};
V.prototype._updateHandleDom=function(h,r,i,v,p){var m,c=this.getRenderer().CSS_CLASS,f=this.getDomRef("input");if(!!this.getName()){f.setAttribute(h.getAttribute("data-range-val"),r[i]);f.setAttribute("value",this.getValue());}if(this._bRTL){h.style.right=p+"%";}else{h.style.left=p+"%";}if(this.getShowHandleTooltip()){h.title=v;}m=r[0]===r[1];this.$("handle1").toggleClass(c+"HandleOverlap",m);this.$("handle2").toggleClass(c+"HandleOverlap",m);clearTimeout(this._ariaUpdateDelay[i]);this._ariaUpdateDelay[i]=setTimeout(this["_updateHandleAria"].bind(this,h,v),100);};
V.prototype._updateHandleAria=function(h,v){var r=this.getRange(),p=this.getDomRef("progress"),s=this._mHandleTooltip.start,e=this._mHandleTooltip.end,a=this.getShowStartEndLabel(),b=this.getShowPercentageLabel(),c=r[1]-r[0];this._updateHandlesAriaLabels();if(s.tooltip&&e.tooltip){var t=[s.tooltip.getEncodedText(),e.tooltip.getEncodedText()];var d=b?(". Range Width is "+c+"%"):" ";var f=a?t:["",""];var g=a?(this._oResourceBundle.getText("RANGE_SLIDER_RANGE_ANNOUNCEMENT",t)):"";h.setAttribute("aria-valuenow",v);s.handle.setAttribute("aria-valuetext",f[0]+d);e.handle.setAttribute("aria-valuetext",f[1]+d);if(p){p.setAttribute("aria-valuenow",r.join("-"));p.setAttribute("aria-valuetext",g+d);}}};
V.prototype._updateHandlesAriaLabels=function(){var r=this.getRange(),t=this._mHandleTooltip.start.label;if((r[0]>r[1]&&!this._mHandleTooltip.bAriaHandlesSwapped)||(r[0]<r[1]&&this._mHandleTooltip.bAriaHandlesSwapped)){this._mHandleTooltip.start.label=this._mHandleTooltip.end.label;this._mHandleTooltip.end.label=t;if(this._mHandleTooltip.start.handle){this._mHandleTooltip.start.handle.setAttribute("aria-labelledby",this._mHandleTooltip.start.label.getId());}if(this._mHandleTooltip.end.handle){this._mHandleTooltip.end.handle.setAttribute("aria-labelledby",this._mHandleTooltip.end.label.getId());}this._mHandleTooltip.bAriaHandlesSwapped=!this._mHandleTooltip.bAriaHandlesSwapped;}};
V.CHARACTER_WIDTH_PX=12;
V.prototype._updateTooltipContent=function(t,n){var r=this.getRange();var m=Math.max(r[0],r[1]);var a=Math.min(r[0],r[1]);m=(m>this.getMax())?this.getMax():m;a=(a<this.getMin())?this.getMin():a;var s=this._mHandleTooltip.start.tooltip;var p=(t===s)?"start":"end";if(a===m){if(a===0){m++;}if(a===100){a--;}}var c=(t===s?a:m);if(this._parentFrame){c=this._parentFrame._getTooltipContent(a,m,p);}t.text(c);var b=this.getDomRef('LeftTooltip');var d=this.getDomRef('RightTooltip');var e=Math.max(b.innerHTML.length,d.innerHTML.length);e=e*V.CHARACTER_WIDTH_PX;this._iLongestRangeTextWidth=e;b.style.width=this._iLongestRangeTextWidth+"px";d.style.width=this._iLongestRangeTextWidth+"px";this._recalculateStyles();this.$("TooltipsContainer").css("min-width",(this._fTooltipHalfWidthPercent*4)+"%");};
V.prototype._swapTooltips=function(r){var t=this._mHandleTooltip.start.tooltip;if((r[0]>=r[1]&&!this._mHandleTooltip.bTooltipsSwapped)||(r[0]<=r[1]&&this._mHandleTooltip.bTooltipsSwapped)){this._mHandleTooltip.start.tooltip=this._mHandleTooltip.end.tooltip;this._mHandleTooltip.end.tooltip=t;this._updateTooltipContent(this._mHandleTooltip.start.tooltip,r[0]);this._updateTooltipContent(this._mHandleTooltip.end.tooltip,r[1]);if(this.getInputsAsTooltips()){this._mHandleTooltip.start.handle.setAttribute("aria-controls",this._mHandleTooltip.start.tooltip.getId());this._mHandleTooltip.end.handle.setAttribute("aria-controls",this._mHandleTooltip.end.tooltip.getId());}this._mHandleTooltip.bTooltipsSwapped=!this._mHandleTooltip.bTooltipsSwapped;}};
V.prototype._adjustTooltipsContainer=function(){var c,t=this.getDomRef("TooltipsContainer"),a=this._bRTL?"right":"left",A=this._bRTL?"left":"right",r=this.getRange(),s=this._getPercentOfValue(r[0]>r[1]?r[1]:r[0]),e=this._getPercentOfValue(r[0]>r[1]?r[0]:r[1]),T=this._fHandleWidthPercent/2,f=((e-s)/2>this._fTooltipHalfWidthPercent)?this._fTooltipHalfWidthPercent:(e-s)/2,b=Math.floor(100-2*this._fTooltipHalfWidthPercent-f+this._fHandleWidthPercent),C=parseFloat(t.style[a]),d=parseFloat(t.style[A]);if(s-this._fTooltipHalfWidthPercent<=T){C=-1*this._fHandleWidthPercent;}else if(s>=b){C=100-4*this._fTooltipHalfWidthPercent+this._fHandleWidthPercent;}else if((e-s>this._fTooltipHalfWidthPercent*2)&&(s>-1*this._fTooltipHalfWidthPercent)){C=s-this._fTooltipHalfWidthPercent;}else{c=s-this._fTooltipHalfWidthPercent-(this._fTooltipHalfWidthPercent*2-(e-s))/2;if(c<=-1*this._fHandleWidthPercent){C=-1*this._fHandleWidthPercent;}else{C=c;}}if(e>=(100-T)||(100-e-this._fTooltipHalfWidthPercent)<-this._fHandleWidthPercent){d=-1*this._fHandleWidthPercent;}else{d=100-e-this._fTooltipHalfWidthPercent;}t.style[a]=C+"%";t.style[A]=d+"%";this._swapTooltips(r);};
V.prototype._handleInputChange=function(i,e){var h,a,t=this._mHandleTooltip.bTooltipsSwapped,n=Number(e.getParameter("value"));if(e.getParameter("value")===""||isNaN(n)||n<this.getMin()||n>this.getMax()){i.setValueState(_.INPUT_STATE_ERROR);return;}n=this._adjustRangeValue(n);i.setValueState(_.INPUT_STATE_NONE);h=this._mHandleTooltip.start.tooltip===i?this._mHandleTooltip.start.handle:this._mHandleTooltip.end.handle;this._updateHandle(h,n);if(t!==this._mHandleTooltip.bTooltipsSwapped){a=this._mHandleTooltip.start.tooltip!==i?this._mHandleTooltip.start.tooltip:this._mHandleTooltip.end.tooltip;a.focus();}this._fireChangeAndLiveChange({range:this.getRange()});};
V.prototype._updateDOMAfterSetters=function(v,r,h){var p,H;if(this.getDomRef()){p=this._getPercentOfValue(v);H=h===1?this._mHandleTooltip.end:this._mHandleTooltip.start;this._updateHandleDom(H.handle,r,h,v,p);this._updateTooltipContent(H.tooltip,v);return true;}return false;};
V.prototype.setRange=function(r){r=r.map(this._adjustRangeValue,this);this._updateRangePropertyDependencies(r);if(this._updateDOMAfterSetters(r[0],r,0)&&this._updateDOMAfterSetters(r[1],r,1)){this._recalculateRange();}return this;};
V.prototype.setValue=function(v){var r=this.getRange();if(typeof v!=="number"||!isFinite(v)){return this;}v=this._adjustRangeValue(v);r[0]=v;this._updateRangePropertyDependencies(r);if(this._updateDOMAfterSetters(r[0],r,0)){this._recalculateRange();}return this;};
V.prototype.setValue2=function(v){var r=this.getRange();v=this._adjustRangeValue(v);r[1]=v;this._updateRangePropertyDependencies(r);if(this._updateDOMAfterSetters(r[1],r,1)){this._recalculateRange();}return this;};
V.prototype._updateRangePropertyDependencies=function(r){var R=Array.isArray(r)?r.slice():[];if(this.getProperty("value")!==R[0]){this.setProperty("value",R[0],true);}if(this.getProperty("value2")!==R[1]){this.setProperty("value2",R[1],true);}this.setProperty("range",R,true);};
V.prototype._calculateHandlePosition=function(v,h){var m=this.getMax(),M=this.getMin(),a=h||0,n;n=((v-this._fSliderPaddingLeft-this._fSliderOffsetLeft)/this._fSliderWidth)*(m-M)+M;if(this._bRTL){n=this._convertValueToRtlMode(n);}return this._adjustRangeValue(n,a);};
V.prototype._adjustRangeValue=function(v,h){var m=this.getMax(),M=this.getMin(),s=this.getStep(),a=h||0,f;if(this._bInitialRangeChecks){return v;}f=Math.abs((v-M)%s);if(f!==0){v=f*2>=s?v+s-f:v-f;}var b=a<0?a:0;var c=a>0?a:0;if(v<M+b){v=M+b;}else if(v>m+c){v=m+c;}return v;};
V.prototype.ontouchstart=function(e){var t=e.targetTouches[0],C=this.getRenderer().CSS_CLASS,E="."+C,v,h,r,H,f;if(!this.getEnabled()){return;}e.setMarked();if(e.target.className.indexOf("sapMInput")===-1){e.preventDefault();}this._recalculateStyles();if(["number","text"].indexOf(e.target.type)>-1){return;}v=this._calculateHandlePosition(t.pageX);r=this.getRange();h=[this._mHandleTooltip.start.handle,this._mHandleTooltip.end.handle];H=this._getIndexOfHandle(e.target);var a=0;if(H!==-1){h=[this.getDomRef(H===0?"handle1":"handle2")];a=v-r[H];}else if(v<Math.min.apply(Math,r)||v>Math.max.apply(Math,r)){h=[v<Math.min.apply(Math,r)?this._mHandleTooltip.start.handle:this._mHandleTooltip.end.handle];this._updateHandle(h[0],v);this._fireChangeAndLiveChange({range:this.getRange()});}q(document).on("touchend"+E+" touchcancel"+E+" mouseup"+E,this._ontouchend.bind(this,h)).on("touchmove"+E+(e.originalEvent.type!=="touchstart"?" mousemove"+E:""),this._ontouchmove.bind(this,v,this.getRange(),h,a));h.map(function(o){if(o.className.indexOf(C+"HandlePressed")===-1){o.className+=" "+C+"HandlePressed";}});var p=this.getDomRef("progress");if(h.length===1){f=h[0];if(p.className.indexOf(C+"ProgressResized")===-1){p.className+=" "+C+"ProgressResized";}}else{f=p;}setTimeout(f["focus"].bind(f),0);};
V.prototype._ontouchmove=function(f,a,h,b,e){var o,r,R,c,p=e.targetTouches?e.targetTouches[0].pageX:e.pageX,m=this.getMax(),M=this.getMin(),d=[],g=[];e.preventDefault();e.setMarked();if(e.isMarked("delayedMouseEvent")||!this.getEnabled()||e.button){return;}o=this._calculateHandlePosition(p,b)-f;for(var i=0;i<a.length;i++){d[i]=a[i]+o;}g=this._getNormalizedRange(this.getRange(),a,h);r=d.every(function(v,j){return v===g[j];});R=d.every(function(v){return(v>=M&&v<=m);});c=g.indexOf(M)>-1||g.indexOf(m)>-1;if(!r){if((h.length===1)||R||!c){if(h.length===1){this._positionCheck(h,o,a);}else{h.map(function(H){this._updateHandle(H,a[this._getIndexOfHandle(H)]+o);},this);}}this._adjustTooltipsContainer();g=this._getNormalizedRange(this.getRange(),a,h);}this.setRange(g);};
V.prototype._positionCheck=function(h,o,a){var b=this._getIndexOfHandle(h[0]);var r=this.getRange();var p=a[b]+o;var t=[];for(var i=0;i<r.length;i++){t[i]=r[i];}t[b]=p;if(t[0]>=t[1]-1){p=r[1-b]+((b===1)?1:-1);}this._updateHandle(h[0],p);};
V.prototype._triggerLiveChange=function(){var f,r=this.getRange();this._liveChangeLastValue=this._liveChangeLastValue||[];f=r.some(function(v,i){return v!==this._liveChangeLastValue[i];},this);if(f){this._liveChangeLastValue=r.slice();this.fireLiveChange({range:r});}};
V.prototype._getNormalizedRange=function(r,a,h){var m=this.getMax(),M=this.getMin(),s=Math.abs(a[0]-a[1]),R=[],i,o;for(i=0;i<r.length;i++){R[i]=(r[i]<M?M:r[i]);R[i]=(r[i]>m?m:R[i]);if(h.length===2){if(R[0]==M){R[1]=R[0]+s;}else{o=Math.abs(i-1);R[o]=(R[i]<=M?R[i]+s:R[o]);R[o]=(R[i]>=m?R[i]-s:R[o]);}}}return R;};
V.prototype._ontouchend=function(h,e){var n=this.getRange(),c=this.getRenderer().CSS_CLASS,p=this.getDomRef("progress");e.setMarked();p.className=p.className.replace(new RegExp(" ?"+c+"ProgressResized","gi"),"");h&&h.map(function(H){H.className=H.className.replace(new RegExp(" ?"+c+"HandlePressed","gi"),"");});q(document).off("."+c);this._recalculateRange();if(this._aInitialFocusRange[0]!==n[0]||this._aInitialFocusRange[1]!==n[1]){this._aInitialFocusRange=Array.prototype.slice.call(n);this.fireChange({range:n});}this._updateTooltipContent(this._mHandleTooltip.start.tooltip,n[0]);this._updateTooltipContent(this._mHandleTooltip.end.tooltip,n[1]);};
V.prototype.onfocusin=function(e){var c=this.getRenderer().CSS_CLASS;this.$("progress").addClass("focus");this.$("TooltipsContainer").addClass(c+"HandleTooltipsShow");if(!this._hasFocus()){this._aInitialFocusRange=this.getRange();}};
V.prototype._updateSliderValues=function(o,h){var r=this.getRange(),m=this.getMax(),M=this.getMin(),R=Math.max.apply(null,r),f=Math.min.apply(null,r),i=this._getIndexOfHandle(h),O=o<0?-1:1,H=i>-1?[h]:[this._mHandleTooltip.start.handle,this._mHandleTooltip.end.handle];if(H.length===1){var d=Math.abs(R-f);if((d<=Math.abs(o))&&((i===1&&O===-1)||(i===0&&O===1))){o=O*(d-1);}f=R=r[i];}if(R+o>m){o=O*(Math.abs(m)-Math.abs(R));}else if(f+o<M){o=O*(Math.abs(f)-Math.abs(M));}H.map(function(c){this._updateHandle(c,r[this._getIndexOfHandle(c)]+o);},this);};
V.prototype.onsapincrease=function(e){if(["number","text"].indexOf(e.target.type)>-1){return;}e.preventDefault();e.setMarked();if(this.getEnabled()){this._updateSliderValues(this.getStep(),e.target);this._fireChangeAndLiveChange({range:this.getRange()});}};
V.prototype.onsapplus=V.prototype.onsapincrease;
V.prototype.onsapincreasemodifiers=function(e){if(["number","text"].indexOf(e.target.type)>-1||e.altKey){return;}e.preventDefault();e.stopPropagation();e.setMarked();if(this.getEnabled()){this._updateSliderValues(this._getLongStep(),e.target);this._fireChangeAndLiveChange({range:this.getRange()});}};
V.prototype.onsappageup=V.prototype.onsapincreasemodifiers;
V.prototype.onsapdecrease=function(e){if(["number","text"].indexOf(e.target.type)>-1){return;}e.preventDefault();e.setMarked();if(this.getEnabled()){this._updateSliderValues(-1*this.getStep(),e.target);this._fireChangeAndLiveChange({range:this.getRange()});}};
V.prototype.onsapminus=V.prototype.onsapdecrease;
V.prototype.onsapdecreasemodifiers=function(e){if(["number","text"].indexOf(e.target.type)>-1||e.altKey){return;}e.preventDefault();e.stopPropagation();e.setMarked();if(this.getEnabled()){this._updateSliderValues(-1*this._getLongStep(),e.target);this._fireChangeAndLiveChange({range:this.getRange()});}};
V.prototype.onsappagedown=V.prototype.onsapdecreasemodifiers;
V.prototype.onsaphome=function(e){if(["number","text"].indexOf(e.target.type)>-1){return;}e.setMarked();e.preventDefault();if(this.getEnabled()){this._updateSliderValues(-1*this.getMax(),e.target);this._fireChangeAndLiveChange({range:this.getRange()});}};
V.prototype.onsapend=function(e){if(["number","text"].indexOf(e.target.type)>-1){return;}e.setMarked();e.preventDefault();if(this.getEnabled()){this._updateSliderValues(this.getMax(),e.target);this._fireChangeAndLiveChange({range:this.getRange()});}};
V.prototype.onsapescape=function(){this.setRange(this._aInitialFocusRange);this._fireChangeAndLiveChange({range:this.getRange()});};
V.prototype.setParentFrame=function(v){this._parentFrame=v;};
return V;});
sap.ui.predefine('sap/viz/ui5/controls/VizRangeSliderRenderer',["sap/ui/core/Renderer","./VizSliderBasicRenderer","sap/ui/Device"],function(R,S,D){"use strict";var V=R.extend(S);
V.renderHandles=function(r,c){this.renderHandle(r,c,{id:c.getId()+"-handle1",position:"start"});this.renderHandle(r,c,{id:c.getId()+"-handle2",position:"end"});this.renderTooltips(r,c);r.renderControl(c._mHandleTooltip.start.label);r.renderControl(c._mHandleTooltip.end.label);r.renderControl(c._oRangeLabel);};
V.renderTooltips=function(r,c){r.write("<div");r.writeAttribute("id",c.getId()+"-TooltipsContainer");r.addClass(S.CSS_CLASS+"TooltipContainer");r.addStyle("left","0%");r.addStyle("right","0%");r.addStyle("min-width","0%");r.writeClasses();r.writeStyles();r.write(">");this.renderTooltip(r,c,c.getInputsAsTooltips(),"Left");this.renderTooltip(r,c,c.getInputsAsTooltips(),"Right");r.write("</div>");};
V.renderTooltip=function(r,c,i,p){r.write("<span");r.addClass(S.CSS_CLASS+"HandleTooltip");if(!c.getShowStartEndLabel()){r.addStyle("visibility","hidden");}r.addStyle("width",c._iLongestRangeTextWidth+"px");r.writeAttribute("id",c.getId()+"-"+p+"Tooltip");r.writeClasses();r.writeStyles();r.write(">");r.write("</span>");};
V.renderHandle=function(r,c,o){var v,a=c.getRange(),e=c.getEnabled(),b=sap.ui.getCore().getConfiguration().getRTL();r.write("<span");if(o&&(o.id!==undefined)){r.writeAttributeEscaped("id",o.id);}if(o&&(o.position!==undefined)){v=a[o.position==="start"?0:1];r.writeAttribute("data-range-val",o.position);r.writeAttribute("aria-labelledby",c._mHandleTooltip[o.position].label.getId());if(c.getInputsAsTooltips()){r.writeAttribute("aria-controls",c._mHandleTooltip[o.position].tooltip.getId());}}if(c.getShowHandleTooltip()){this.writeHandleTooltip(r,c);}r.addClass(S.CSS_CLASS+"Handle");if((!D.system.desktop)&&(D.system.phone||D.system.tablet)){r.addClass('viz-Mobile');}r.addClass('sapUiIcon');r.addClass('ui5-sap-viz-vizSliderHandle');r.writeAttribute("data-sap-ui-icon-content",'&#xe1fa');if(o&&(o.id!==undefined)&&o.id===(c.getId()+"-handle1")){r.addClass('ui5-sap-viz-vizSliderHandle-left');r.addStyle(b?"right":"left",a[0]);}if(o&&(o.id!==undefined)&&o.id===(c.getId()+"-handle2")){r.addClass('ui5-sap-viz-vizSliderHandle-right');r.addStyle(b?"right":"left",a[1]);}this.writeAccessibilityState(r,c,v);r.writeClasses();r.writeStyles();if(e){r.writeAttribute("tabindex","0");}r.write("></span>");};
V.writeAccessibilityState=function(r,s,v){r.writeAccessibilityState(s,{role:"slider",orientation:"horizontal",valuemin:s.toFixed(s.getMin()),valuemax:s.toFixed(s.getMax()),valuenow:v});};
V.renderStartLabel=function(r,c){r.write("<div");r.addClass(S.CSS_CLASS+"RangeLabel");r.writeClasses();r.write(">");r.write(c.getMin());r.write("</div>");};
V.renderEndLabel=function(r,c){r.write("<div");r.addClass(S.CSS_CLASS+"RangeLabel");r.addStyle("width",c._iLongestRangeTextWidth+"px");r.writeClasses();r.writeStyles();r.write(">");r.write(c.getMax());r.write("</div>");};
V.renderLabels=function(r,c){r.write("<div");r.addClass();r.addClass(S.CSS_CLASS+"Labels");r.writeClasses();r.write(">");this.renderStartLabel(r,c);this.renderEndLabel(r,c);r.write("</div>");};
V.renderProgressIndicator=function(r,s){var a=s.getRange();r.write("<div");r.writeAttribute("id",s.getId()+"-progress");if(s.getEnabled()){r.writeAttribute("tabindex","0");}this.addProgressIndicatorClass(r,s);r.addStyle("width",s._sProgressValue);r.writeClasses();r.writeStyles();r.writeAccessibilityState(s,{role:"slider",orientation:"horizontal",valuemin:s.toFixed(s.getMin()),valuemax:s.toFixed(s.getMax()),valuenow:a.join("-"),valuetext:s._oResourceBundle.getText('RANGE_SLIDER_RANGE_ANNOUNCEMENT',a),labelledby:s._oRangeLabel.getId()});r.write('></div>');};
V.render=function(r,s){var e=s.getEnabled(),t=s.getTooltip_AsString(),C=S.CSS_CLASS;r.write("<div");this.addClass(r,s);r.addClass("ui5-sap-viz-vizRangeSlider");if(!e){r.addClass(C+"Disabled");}r.writeClasses();r.addStyle("position","absolute");r.addStyle("width",s.getWidth());r.addStyle("height",s.getHeight());r.addStyle("top",s.getTop());r.addStyle("left",s.getLeft());r.writeStyles();r.writeControlData(s);if(t&&s.getShowHandleTooltip()){r.writeAttributeEscaped("title",t);}r.write(">");this.renderMock(r,s);r.write('<div');r.writeAttribute("id",s.getId()+"-inner");this.addInnerClass(r,s);if(!e){r.addClass(C+"InnerDisabled");}r.writeClasses();r.writeStyles();r.write(">");if(s.getProgress()){this.renderProgressIndicator(r,s);}this.renderHandles(r,s);r.write("</div>");if(s.getEnableTickmarks()){this.renderTickmarks(r,s);}else{this.renderLabels(r,s);}if(s.getName()){this.renderInput(r,s);}r.write("</div>");};
V.renderMock=function(r,s){var a=s.getRange();var m=s.getMax();var b=s.getMin();var c=Math.min(a[0],a[1]);var d=Math.max(a[0],a[1]);r.write("<div");r.writeAttribute("id",s.getId()+"-leftMock");r.addClass("ui5-sap-viz-vizSliderMock");r.addClass("ui5-sap-viz-vizSliderMock-left");r.writeClasses();r.addStyle("right",(m-c)*100/(m-b)+"%");r.writeStyles();r.write('></div>');r.write("<div");r.writeAttribute("id",s.getId()+"-rightMock");r.addClass("ui5-sap-viz-vizSliderMock");r.addClass("ui5-sap-viz-vizSliderMock-right");r.writeClasses();r.addStyle("left",(d-b)*100/(m-b)+"%");r.writeStyles();r.write('></div>');r.write("<div");r.writeAttribute("id",s.getId()+"-label");r.addClass('ui5-sap-viz-vizSliderLabel');r.writeClasses();r.addStyle("left",(d+c)*50/(d-c)+"%");if(!s.getShowPercentageLabel()){r.addStyle("visibility","hidden");}r.writeStyles();r.write('>'+(d-c)*100/(m-b)+'%</div>');};
return V;},true);
sap.ui.predefine('sap/viz/ui5/controls/VizSlider',['sap/ui/core/Control','./VizFrame','./VizRangeSlider','./common/utils/Constants','sap/ui/Device',"sap/ui/thirdparty/jquery","sap/base/util/deepEqual","./VizSliderRenderer"],function(B,V,a,C,D,q,d){"use strict";var b={plotArea:{dataLabel:{visible:false}},legend:{visible:false},categoryAxis:{visible:false},valueAxis:{title:{visible:false}},title:{visible:false},interaction:{noninteractiveMode:true},timeAxis:{visible:false}};
var c=B.extend("sap.viz.ui5.controls.VizSlider",{metadata:{library:"sap.viz",properties:{vizType:{type:"string",group:"Misc",defaultValue:"column"},uiConfig:{type:"object",group:"Misc",defaultValue:null},width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'800px'},height:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'200px'},valueAxisVisible:{type:"boolean",group:"Misc",defaultValue:true},showPercentageLabel:{type:"boolean",group:"Appearance",defaultValue:true},showStartEndLabel:{type:"boolean",group:"Appearance",defaultValue:true},range:{type:"object",group:"Appearance",defaultValue:null},_categoryRange:{type:"object",group:"Appearance",defaultValue:null,visibility:"hidden"}},aggregations:{_vizFrame:{type:"sap.viz.ui5.controls.VizFrame",multiple:false,visibility:"hidden"},_rangeSlider:{type:"sap.viz.ui5.controls.VizRangeSlider",multiple:false,visibility:"hidden"},dataset:{type:"sap.viz.ui5.data.Dataset",multiple:false},feeds:{type:"sap.viz.ui5.controls.common.feeds.FeedItem",multiple:true,singularName:"feed"}},events:{rangeChanged:{}}}});
c.prototype.applySettings=function(){B.prototype.applySettings.apply(this,arguments);var v=new V({width:this.getWidth(),height:this.getHeight(),vizType:this.getVizType(),uiConfig:this.getUiConfig()});v.attachRenderComplete(m.bind(this));var r=new a({visible:false,showAdvancedTooltip:false,showHandleTooltip:false});r.setParentFrame(this);this.setAggregation("_vizFrame",v);this.setAggregation("_rangeSlider",r);r.attachChange(p.bind(this));};
var S=["info/column","info/line","info/timeseries_line","info/timeseries_column"];
c.prototype.setVizType=function(v){if(v.indexOf("info/")!==0){v="info/"+v;}if(S.indexOf(v)===-1){v="info/null";}this.setProperty('vizType',v);return this;};
c.prototype.getDataset=function(e){var v=this._getVizFrame();return(v&&v.getDataset())||this.getAggregation("dataset");};
c.prototype.addFeed=function(e){var v=this._getVizFrame();if(v){v.addFeed(e);}else{this.addAggregation("feeds",e);}return this;};
c.prototype.removeFeed=function(e){var v=this._getVizFrame();if(v){v.removeFeed(e);}else{this.removeAggregation("feeds",e);}return this;};
c.prototype.removeAllFeeds=function(){var v=this._getVizFrame();if(v){v.removeAllFeeds();}else{this.removeAllAggregation("feeds");}return this;};
c.prototype.getFeeds=function(){var v=this._getVizFrame();return(v&&v.getFeeds())||this.getAggregation("feeds");};
c.prototype.exit=function(){var v=this._getVizFrame();v&&v.detachRenderComplete(m.bind(this),this);var r=this.getAggregation("_rangeSlider");r&&r.detachChange(p.bind(this));};
c.prototype._getVizFrame=function(){return this.getAggregation("_vizFrame");};
c.prototype._getRangeSlider=function(){return this.getAggregation("_rangeSlider");};
c.prototype.onAfterRendering=function(){var v=this._getVizFrame();var e={valueAxis:{visible:this.getProperty("valueAxisVisible")}};e=q.extend(true,{},e,b);v.setVizProperties(e);v.setUiConfig(this.getProperty("uiConfig"));v.setVizType(this.getProperty("vizType"));v.setHeight(this.getProperty("height"));v.setWidth(this.getProperty("width"));var n=this.getAggregation("dataset");if(n){this.removeAggregation("dataset");v.setDataset(n);}var o=this.getAggregation("feeds");if(o){this.removeAllAggregation("feeds");v.removeAllFeeds();for(var i=0;i<o.length;++i){v.addFeed(o[i]);}}var r=this._getRangeSlider();r.setShowStartEndLabel(this.getProperty("showStartEndLabel"));r.setShowPercentageLabel(this.getProperty("showPercentageLabel"));};
c.prototype.setRange=function(r){this.setProperty("range",r);this.invalidate();if(this._getVizFrame()){if(this._getVizFrame()._vizFrame){u.call(this,r);}}return this;};
c.prototype._setCategoryRange=function(e){this.setProperty("_categoryRange",e);this.invalidate();if(this._getVizFrame()){if(this._getVizFrame()._vizFrame){j.call(this,e);}}return this;};
function f(){var t=this.getVizType();return t==="info/timeseries_column"||t==="info/timeseries_line";}
function g(){var t=this.getVizType();return t==="info/column"||t==="info/line";}
function h(o){return o[Object.keys(o)[0]];}
c.prototype.getRange=function(){if(!f.apply(this)){return null;}return this.rangeState;};
c.prototype._getCategoryRange=function(){if(!g.apply(this)){return null;}return this.categoryRangeState;};
c.prototype._getTooltipContent=function(s,e,i){var n=s,o=e;if(g.apply(this)){if(i==="end"&&o-n>1){o--;}}var v=this._getVizFrame();return v._getDataRange(n,o).displayValues[i];};
function u(r){var e=this._getRangeSlider();var v=this._getVizFrame();e.setRange(k.call(this,r));var i=e.getRange();var n=v._getDataRange(i[0],i[1]);this.rangeState={start:h(n.start),end:h(n.end)};}
function j(e){var r=this._getRangeSlider();var v=this._getVizFrame();r.setRange(l.call(this,e));var i=r.getRange();var n=v._getDataRange(i[0]+1,i[1]-1);this.categoryRangeState={start:n.data[0],end:n.data[n.data.length-1]};}
function k(i){if(!f.apply(this)){return null;}if(!i||(!("start"in i)&&!("end"in i))){return[0,100];}var r=new Date(i.start).getTime();var e=new Date(i.end).getTime();var t=this._getVizFrame()._getDataRange(0,100);var n=this.getRange();var o=h(t.start);var s=h(t.end);if(!n){n={};n.start=o;n.end=s;}r=isNaN(r)?n.start:r;e=isNaN(e)?n.end:e;if(r<e&&r<s&&e>o){r=Math.max(r,o);e=Math.min(e,s);var v=s-o;return[(r-o)/v*100,(e-o)/v*100];}return[0,100];}
function l(i){if(!g.apply(this)){return null;}if(!i||(!("start"in i)&&!("end"in i))){return[0,100];}var t=this._getVizFrame()._getDataRange(0,100);var e=t.data.length;var n=t.data[0];var o=t.data[e-1];var r=this._getCategoryRange()||{start:n,end:o};var s=i.start||r.start;var v=i.end||r.end;var w=-1,x=-1;t.data.forEach(function(y,z){if(d(s,y)){w=z;}if(d(v,y)){x=z+1;}});if(w<x&&w<e&&x>0){w=Math.max(w,0);x=Math.min(x,e);return[w/e*100,x/e*100];}return[0,100];}
function m(){var s=this._getVizFrame()._states().plot.sizeInfo;var v=this._getVizFrame();this._curRange=[];var r=this._getRangeSlider();if(s){r.setWidth(s.width+"px");r.setHeight(s.height+"px");r.setLeft(s.x+"px");r.setTop(s.y+"px");r.setVisible(true);r.invalidate();if(f.apply(this)){var e=this.rangeState?this.rangeState:this.getProperty("range");u.call(this,e);}if(g.apply(this)){var i=this.categoryRangeState?this.categoryRangeState:this.getProperty("_categoryRange");j.call(this,i);}}else{r.setVisible(false);}v._setTitleAria("A noninteractive "+v._getMetadata().name+" with Range Slider ");}
function p(e,i){var r=e.getParameters().range;if(this._curRange[0]===r[0]&&this._curRange[1]===r[1]){return;}else{var v=this._getVizFrame();var n=v._getDataRange(r[0],r[1]);if(f.apply(this)){this.rangeState={start:h(n.start),end:h(n.end)};}if(g.apply(this)){if(r[1]-r[0]>1){n=v._getDataRange(r[0],r[1]-1);}this.categoryRangeState={start:n.data[0],end:n.data[n.data.length-1]};}this._curRange[0]=r[0];this._curRange[1]=r[1];delete n.displayValues;this.fireEvent("rangeChanged",{data:n});}}
return c;});
sap.ui.predefine('sap/viz/ui5/controls/VizSliderBasic',["sap/ui/thirdparty/jquery",'sap/m/library','sap/ui/core/Control','sap/ui/core/EnabledPropagator','sap/m/Input','sap/ui/core/InvisibleText','sap/ui/core/library','sap/ui/core/ResizeHandler',"sap/base/Log","./VizSliderBasicRenderer"],function(q,l,C,E,I,a,c,R,L){"use strict";var t=l.touch;var T=c.TextAlign;
var S=C.extend("sap.viz.ui5.controls.VizSliderBasic",{metadata:{interfaces:["sap.ui.core.IFormContent"],library:"sap.viz",properties:{width:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"100%"},enabled:{type:"boolean",group:"Behavior",defaultValue:true},name:{type:"string",group:"Misc",defaultValue:""},min:{type:"float",group:"Data",defaultValue:0},max:{type:"float",group:"Data",defaultValue:100},step:{type:"float",group:"Data",defaultValue:1},progress:{type:"boolean",group:"Misc",defaultValue:true},value:{type:"float",group:"Data",defaultValue:0},showHandleTooltip:{type:"boolean",group:"Appearance",defaultValue:true},showAdvancedTooltip:{type:"boolean",group:"Appearance",defaultValue:false},inputsAsTooltips:{type:"boolean",group:"Appearance",defaultValue:false},enableTickmarks:{type:"boolean",group:"Appearance",defaultValue:false}},defaultAggregation:"scale",aggregations:{scale:{type:"sap.m.IScale",multiple:false,singularName:"scale"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{change:{parameters:{value:{type:"float"}}},liveChange:{parameters:{value:{type:"float"}}}},designTime:true}});
S.prototype._CONSTANTS={CHARACTER_WIDTH_PX:8,INPUT_STATE_NONE:"None",INPUT_STATE_ERROR:"Error",TICKMARKS:{MAX_POSSIBLE:100,MIN_SIZE:{SMALL:8,WITH_LABEL:80}}};E.apply(S.prototype,[true]);
S.prototype._convertValueToRtlMode=function(v){return this.getMax()-v+this.getMin();};
S.prototype._recalculateStyles=function(){var s=this.$(),h=this.$().find("."+this.getRenderer().CSS_CLASS+"Handle").eq(0),H=parseFloat(h.css("width"))+2*parseFloat(h.css("border-width")),p=parseFloat(this.$("progress").parent().css("width"));this._fSliderWidth=s.width();this._fSliderPaddingLeft=parseFloat(s.css("padding-left"));this._fSliderOffsetLeft=s.offset().left;this._fHandleWidth=this.$("handle").width();this._fTooltipHalfWidthPercent=((this._fSliderWidth-(this._fSliderWidth-(this._iLongestRangeTextWidth/2+this._CONSTANTS.CHARACTER_WIDTH_PX)))/this._fSliderWidth)*100;this._fHandleWidthPercent=(H/p*100)/2;};
S.prototype._validateProperties=function(){var m=this.getMin(),M=this.getMax(),s=this.getStep(),b=false,e=false;if(m>=M){b=true;e=true;L.warning("Warning: "+"Property wrong min: "+m+" >= max: "+M+" on ",this);}if(s<=0){L.warning("Warning: "+"The step could not be negative on ",this);}if(s>(M-m)&&!b){e=true;L.warning("Warning: "+"Property wrong step: "+s+" > max: "+M+" - "+"min: "+m+" on ",this);}return e;};
S.prototype._getPercentOfValue=function(v){var m=this.getMin(),p=((v-m)/(this.getMax()-m))*100;return p;};
S.prototype._getValueOfPercent=function(p){var m=this.getMin(),v=(p*(this.getMax()-m)/100)+m,n=this.toFixed(v,this.getDecimalPrecisionOfNumber(this.getStep()));return Number(n);};
S.prototype._validateStep=function(s){if(typeof s==="undefined"){return 1;}if(typeof s!=="number"){L.warning('Warning: "iStep" needs to be a number',this);return 0;}if((Math.floor(s)===s)&&isFinite(s)){return s;}L.warning('Warning: "iStep" needs to be a finite interger',this);return 0;};
S.prototype._handleTickmarksResponsiveness=function(){var b,o,O,h,s=this.getAggregation("scale"),d=this.$().find("."+this.getRenderer().CSS_CLASS+"Tick"),i=this.$().find("."+this.getRenderer().CSS_CLASS+"Tickmarks").width(),e=(i/d.length)>=this._CONSTANTS.TICKMARKS.MIN_SIZE.SMALL;if(this._bTickmarksLastVisibilityState!==e){d.toggle(e);this._bTickmarksLastVisibilityState=e;}b=this.$().find("."+this.getRenderer().CSS_CLASS+"TickLabel").toArray();o=parseFloat(b[1].style.left);O=i*o/100;h=s.getHiddenTickmarksLabels(i,b.length,O,this._CONSTANTS.TICKMARKS.MIN_SIZE.WITH_LABEL);b.forEach(function(f,g){f.style.display=h[g]?"none":"inline-block";});};
S.prototype.getDecimalPrecisionOfNumber=function(v){if(Math.floor(v)===v){return 0;}var V=v.toString(),i=V.indexOf("."),b=V.indexOf("e-"),d=b!==-1,e=i!==-1;if(d){var f=+V.slice(b+2);if(e){return f+V.slice(i+1,b).length;}return f;}if(e){return V.length-i-1;}return 0;};
S.prototype.toFixed=function(n,d){if(d===undefined){d=this.getDecimalPrecisionOfNumber(n);}if(d>20){d=20;}else if(d<0){d=0;}return n.toFixed(d)+"";};
S.prototype.setDomValue=function(n){var d=this.getDomRef();if(!d){return;}var p=Math.max(this._getPercentOfValue(+n),0)+"%",h=this.getDomRef("handle");if(!!this.getName()){this.getDomRef("input").setAttribute("value",n);}if(this.getProgress()){this.getDomRef("progress").style.width=p;}h.style[sap.ui.getCore().getConfiguration().getRTL()?"right":"left"]=p;if(this.getShowAdvancedTooltip()){this._updateAdvancedTooltipDom(n);}if(this.getShowHandleTooltip()&&!this.getShowAdvancedTooltip()){h.title=n;}h.setAttribute("aria-valuenow",n);};
S.prototype._updateAdvancedTooltipDom=function(n){var i=this.getInputsAsTooltips(),o=this.getDomRef("TooltipsContainer"),b=i&&this._oInputTooltip?this._oInputTooltip.tooltip:this.getDomRef("Tooltip"),A=sap.ui.getCore().getConfiguration().getRTL()?"right":"left";if(!i){b.innerHTML=n;}else if(i&&b.getValue()!==n){b.setValueState(this._CONSTANTS.INPUT_STATE_NONE);b.setValue(n);b.$("inner").attr("value",n);}o.style[A]=this._getTooltipPosition(n);};
S.prototype._getTooltipPosition=function(n){var p=this._getPercentOfValue(+n);if(p<this._fHandleWidthPercent/2){return-this._fHandleWidthPercent+"%";}else if(p>100-this._fTooltipHalfWidthPercent+this._fHandleWidthPercent){return(100-this._fTooltipHalfWidthPercent*2+this._fHandleWidthPercent)+"%";}else{return p-this._fTooltipHalfWidthPercent+"%";}};
S.prototype.getClosestHandleDomRef=function(){return this.getDomRef("handle");};
S.prototype._increaseValueBy=function(i){var v,n;if(this.getEnabled()){v=this.getValue();this.setValue(v+(i||1));n=this.getValue();if(v<n){this._fireChangeAndLiveChange({value:n});}}};
S.prototype._decreaseValueBy=function(d){var v,n;if(this.getEnabled()){v=this.getValue();this.setValue(v-(d||1));n=this.getValue();if(v>n){this._fireChangeAndLiveChange({value:n});}}};
S.prototype._getLongStep=function(){var m=this.getMin(),M=this.getMax(),s=this.getStep(),f=(M-m)/10,i=(M-m)/s;return i>10?f:s;};
S.prototype._fireChangeAndLiveChange=function(p){this.fireChange(p);this.fireLiveChange(p);};
S.prototype._hasFocus=function(){return document.activeElement===this.getFocusDomRef();};
S.prototype._createInputField=function(s,A){var i=new I(this.getId()+"-"+s,{value:this.getMin(),width:this._iLongestRangeTextWidth+(2*this._CONSTANTS.CHARACTER_WIDTH_PX)+"px",type:"Number",textAlign:T.Center,ariaLabelledBy:A});i.attachChange(this._handleInputChange.bind(this,i));i.addEventDelegate({onsapdown:this._inputArrowDown},this);i.addEventDelegate({onsapup:this._inputArrowUp},this);i.addEventDelegate({onfocusout:function(e){if(e.target.value!==undefined){e.srcControl.fireChange({value:e.target.value});}}});return i;};
S.prototype._inputArrowDown=function(e){var m=e;m.srcControl=this;e.preventDefault();e.stopPropagation();this.onsapdecrease(m);};
S.prototype._inputArrowUp=function(e){var m=e;m.srcControl=this;e.preventDefault();e.stopPropagation();this.onsapincrease(m);};
S.prototype._handleInputChange=function(i,e){var n=parseFloat(e.getParameter("value"));if(e.getParameter("value")==""||isNaN(n)||n<this.getMin()||n>this.getMax()){i.setValueState(this._CONSTANTS.INPUT_STATE_ERROR);return;}i.setValueState(this._CONSTANTS.INPUT_STATE_NONE);this.setValue(n);this._fireChangeAndLiveChange({value:this.getValue()});};
S.prototype.init=function(){this._iActiveTouchId=-1;this._bSetValueFirstCall=true;this._iLongestRangeTextWidth=0;this._fTooltipHalfWidthPercent=0;this._fHandleWidthPercent=0;this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.m");};
S.prototype.exit=function(){if(this._oInputTooltip){this._oInputTooltip.label.destroy();this._oInputTooltip.label=null;this._oInputTooltip.tooltip.destroy();this._oInputTooltip.tooltip=null;this._oInputTooltip=null;}if(this._oResourceBundle){this._oResourceBundle=null;}if(this._parentResizeHandler){R.deregister(this._parentResizeHandler);this._parentResizeHandler=null;}};
S.prototype.onBeforeRendering=function(){var e=this._validateProperties(),A=[Math.abs(this.getMin()),Math.abs(this.getMax())],r=A[0]>A[1]?0:1;if(!e){this.setValue(this.getValue());this._sProgressValue=Math.max(this._getPercentOfValue(this.getValue()),0)+"%";}if(!this._hasFocus()){this._fInitialFocusValue=this.getValue();}if(this.getShowAdvancedTooltip()){this._iLongestRangeTextWidth=((A[r].toString()).length+this.getDecimalPrecisionOfNumber(this.getStep())+1)*this._CONSTANTS.CHARACTER_WIDTH_PX;}if(this.getInputsAsTooltips()&&!this._oInputTooltip){var s=new a({text:this._oResourceBundle.getText("SLIDER_HANDLE")});this._oInputTooltip={tooltip:this._createInputField("Tooltip",s),label:s};}if(this.getEnableTickmarks()&&!this.getAggregation("scale")){this.setAggregation("scale",new sap.m.ResponsiveScale());}};
S.prototype.onAfterRendering=function(){if(this.getShowAdvancedTooltip()){this._recalculateStyles();this._updateAdvancedTooltipDom(this.getValue());}if(this.getEnableTickmarks()){setTimeout(function(){this._parentResizeHandler=R.register(this,this._handleTickmarksResponsiveness.bind(this));}.bind(this),0);}};
S.prototype.ontouchstart=function(e){var m=this.getMin(),o=e.targetTouches[0],n,b=this.getRenderer().CSS_CLASS,s="."+b;e.setMarked();if(e.target.className.indexOf("sapMInput")===-1){e.preventDefault();}if(t.countContained(e.touches,this.getId())>1||!this.getEnabled()||e.button||(e.srcControl!==this)){return;}this._iActiveTouchId=o.identifier;q(document).on("touchend"+s+" touchcancel"+s+" mouseup"+s,this._ontouchend.bind(this)).on(e.originalEvent.type==="touchstart"?"touchmove"+s:"touchmove"+s+" mousemove"+s,this._ontouchmove.bind(this));var N=this.getClosestHandleDomRef();if(o.target!==N){setTimeout(N["focus"].bind(N),0);}if(!this._hasFocus()){this._fInitialFocusValue=this.getValue();}this._recalculateStyles();this._fDiffX=this._fSliderPaddingLeft;this._fInitialValue=this.getValue();this.$("inner").addClass(b+"Pressed");if(o.target===this.getDomRef("handle")){this._fDiffX=(o.pageX-q(N).offset().left)+this._fSliderPaddingLeft-(this._fHandleWidth/2);}else{n=(((o.pageX-this._fSliderPaddingLeft-this._fSliderOffsetLeft)/this._fSliderWidth)*(this.getMax()-m))+m;if(sap.ui.getCore().getConfiguration().getRTL()){n=this._convertValueToRtlMode(n);}this.setValue(n);n=this.getValue();if(this._fInitialValue!==n){this.fireLiveChange({value:n});}}};
S.prototype._ontouchmove=function(e){e.setMarked();e.preventDefault();if(e.isMarked("delayedMouseEvent")||!this.getEnabled()||e.button){return;}var m=this.getMin(),v=this.getValue(),o=t.find(e.changedTouches,this._iActiveTouchId),p=o?o.pageX:e.pageX,n=(((p-this._fDiffX-this._fSliderOffsetLeft)/this._fSliderWidth)*(this.getMax()-m))+m;if(sap.ui.getCore().getConfiguration().getRTL()){n=this._convertValueToRtlMode(n);}this.setValue(n);n=this.getValue();if(v!==n){this.fireLiveChange({value:n});}};
S.prototype._ontouchend=function(e){var b=this.getRenderer().CSS_CLASS,s="."+b;e.setMarked();if(e.isMarked("delayedMouseEvent")||!this.getEnabled()||e.button){return;}q(document).off(s);var v=this.getValue();this.$("inner").removeClass(b+"Pressed");if(this._fInitialValue!==v){this.fireChange({value:v});}};
S.prototype.onfocusin=function(e){this.$("TooltipsContainer").addClass(this.getRenderer().CSS_CLASS+"HandleTooltipsShow");if(!this._hasFocus()){this._fInitialFocusValue=this.getValue();}};
S.prototype.onfocusout=function(e){if(this.getInputsAsTooltips()&&q.contains(this.getDomRef(),e.relatedTarget)){return;}this.$("TooltipsContainer").removeClass(this.getRenderer().CSS_CLASS+"HandleTooltipsShow");this.$("progress").removeClass("focus");};
S.prototype.onsapincrease=function(e){var v,n;if(e.srcControl!==this){return;}e.preventDefault();e.setMarked();if(this.getEnabled()){v=this.getValue();this.stepUp(1);n=this.getValue();if(v<n){this._fireChangeAndLiveChange({value:n});}}};
S.prototype.onsapincreasemodifiers=function(e){if(e.srcControl!==this||e.altKey){return;}e.preventDefault();e.stopPropagation();e.setMarked();this._increaseValueBy(this._getLongStep());};
S.prototype.onsapdecrease=function(e){var v,n;if(e.srcControl!==this){return;}e.preventDefault();e.setMarked();if(this.getEnabled()){v=this.getValue();this.stepDown(1);n=this.getValue();if(v>n){this._fireChangeAndLiveChange({value:n});}}};
S.prototype.onsapdecreasemodifiers=function(e){if(e.srcControl!==this||e.altKey){return;}e.preventDefault();e.stopPropagation();e.setMarked();this._decreaseValueBy(this._getLongStep());};
S.prototype.onsapplus=function(e){var v,n;if(e.srcControl!==this){return;}e.setMarked();if(this.getEnabled()){v=this.getValue();this.stepUp(1);n=this.getValue();if(v<n){this._fireChangeAndLiveChange({value:n});}}};
S.prototype.onsapminus=function(e){var v,n;if(e.srcControl!==this){return;}e.setMarked();if(this.getEnabled()){v=this.getValue();this.stepDown(1);n=this.getValue();if(v>n){this._fireChangeAndLiveChange({value:n});}}};
S.prototype.onsappageup=S.prototype.onsapincreasemodifiers;S.prototype.onsappagedown=S.prototype.onsapdecreasemodifiers;
S.prototype.onsaphome=function(e){if(e.srcControl!==this){return;}e.setMarked();var m=this.getMin();e.preventDefault();if(this.getEnabled()&&this.getValue()>m){this.setValue(m);this._fireChangeAndLiveChange({value:m});}};
S.prototype.onsapend=function(e){if(e.srcControl!==this){return;}e.setMarked();var m=this.getMax();e.preventDefault();if(this.getEnabled()&&this.getValue()<m){this.setValue(m);this._fireChangeAndLiveChange({value:m});}};
S.prototype.onsaptabnext=function(){this._fInitialFocusValue=this.getValue();};
S.prototype.onsaptabprevious=function(){this._fInitialFocusValue=this.getValue();};
S.prototype.onsapescape=function(){this.setValue(this._fInitialFocusValue);};
S.prototype.getFocusDomRef=function(){return this.getDomRef("handle");};
S.prototype.stepUp=function(s){return this.setValue(this.getValue()+(this._validateStep(s)*this.getStep()),{snapValue:false});};
S.prototype.stepDown=function(s){return this.setValue(this.getValue()-(this._validateStep(s)*this.getStep()),{snapValue:false});};
S.prototype.setValue=function(n,o){if(this._bSetValueFirstCall){this._bSetValueFirstCall=false;return this.setProperty("value",n,true);}var m=this.getMin(),M=this.getMax(),s=this.getStep(),v=this.getValue(),N,b=true,f;if(o){b=!!o.snapValue;}if(typeof n!=="number"||!isFinite(n)){return this;}f=Math.abs((n-m)%s);if(b&&(f!==0)){n=f*2>=s?n+s-f:n-f;}if(n<m){n=m;}else if(n>M){n=M;}N=this.toFixed(n,this.getDecimalPrecisionOfNumber(s));n=Number(N);this.setProperty("value",n,true);if(v!==this.getValue()){this.setDomValue(N);}return this;};
return S;});
sap.ui.predefine('sap/viz/ui5/controls/VizSliderBasicRenderer',[],function(){"use strict";var S={};S.CSS_CLASS="sapVizSlider";
S.render=function(r,s){var e=s.getEnabled(),t=s.getTooltip_AsString(),C=S.CSS_CLASS;r.write("<div");this.addClass(r,s);if(!e){r.addClass(C+"Disabled");}r.addStyle("width",s.getWidth());r.writeClasses();r.writeStyles();r.writeControlData(s);if(t&&s.getShowHandleTooltip()){r.writeAttributeEscaped("title",t);}r.write(">");r.write('<div');r.writeAttribute("id",s.getId()+"-inner");this.addInnerClass(r,s);if(!e){r.addClass(C+"InnerDisabled");}r.writeClasses();r.writeStyles();r.write(">");if(s.getProgress()){this.renderProgressIndicator(r,s);}this.renderHandles(r,s);r.write("</div>");if(s.getEnableTickmarks()){this.renderTickmarks(r,s);}else{this.renderLabels(r,s);}if(s.getName()){this.renderInput(r,s);}r.write("</div>");};
S.renderProgressIndicator=function(r,s){r.write("<div");r.writeAttribute("id",s.getId()+"-progress");this.addProgressIndicatorClass(r,s);r.addStyle("width",s._sProgressValue);r.writeClasses();r.writeStyles();r.write(' aria-hidden="true"></div>');};
S.renderHandles=function(r,s){this.renderHandle(r,s,{id:s.getId()+"-handle"});if(s.getShowAdvancedTooltip()){this.renderTooltips(r,s);}};
S.renderHandle=function(r,s,o){var e=s.getEnabled();r.write("<span");if(o&&(o.id!==undefined)){r.writeAttributeEscaped("id",o.id);}if(s.getShowHandleTooltip()&&!s.getShowAdvancedTooltip()){this.writeHandleTooltip(r,s);}this.addHandleClass(r,s);r.addStyle(sap.ui.getCore().getConfiguration().getRTL()?"right":"left",s._sProgressValue);this.writeAccessibilityState(r,s);r.writeClasses();r.writeStyles();if(e){r.writeAttribute("tabindex","0");}r.write("></span>");};
S.renderTooltips=function(r,s){r.write("<div");r.writeAttribute("id",s.getId()+"-TooltipsContainer");r.addClass(S.CSS_CLASS+"TooltipContainer");r.addStyle("left","0%");r.addStyle("right","0%");r.addStyle("min-width","0%");r.writeClasses();r.writeStyles();r.write(">");this.renderTooltip(r,s,s.getInputsAsTooltips());r.write("</div>");};
S.renderTooltip=function(r,s,i){if(i&&s._oInputTooltip){r.renderControl(s._oInputTooltip.tooltip);}else{r.write("<span");r.addClass(S.CSS_CLASS+"HandleTooltip");r.addStyle("width",s._iLongestRangeTextWidth+"px");r.writeAttribute("id",s.getId()+"-Tooltip");r.writeClasses();r.writeStyles();r.write(">");r.write("</span>");}};
S.writeHandleTooltip=function(r,s){r.writeAttribute("title",s.toFixed(s.getValue()));};
S.renderInput=function(r,s){r.write('<input type="text"');r.writeAttribute("id",s.getId()+"-input");r.addClass(S.CSS_CLASS+"Input");if(!s.getEnabled()){r.write("disabled");}r.writeClasses();r.writeAttributeEscaped("name",s.getName());r.writeAttribute("value",s.toFixed(s.getValue()));r.write(">");};
S.writeAccessibilityState=function(r,s){r.writeAccessibilityState(s,{role:"slider",orientation:"horizontal",valuemin:s.toFixed(s.getMin()),valuemax:s.toFixed(s.getMax()),valuenow:s.toFixed(s.getValue())});};
S.renderTickmarks=function(r,s){var i,t,T,l,f,a,b,o=s.getAggregation("scale");if(!s.getEnableTickmarks()||!o){return;}a=Math.abs(s.getMin()-s.getMax());b=s.getStep();l=o.getTickmarksBetweenLabels();t=o.calcNumTickmarks(a,b,s._CONSTANTS.TICKMARKS.MAX_POSSIBLE);T=s._getPercentOfValue(o.calcTickmarksDistance(t,s.getMin(),s.getMax(),b));r.write("<ul class=\""+S.CSS_CLASS+"Tickmarks\">");this.renderTickmarksLabel(r,s,s.getMin());for(i=0;i<t;i++){if(l&&i>0&&(i%l===0)){f=i*T;this.renderTickmarksLabel(r,s,s._getValueOfPercent(f));}r.write("<li class=\""+S.CSS_CLASS+"Tick\" style=\"width: "+T+"%;\"></li>");}r.write("<li class=\""+S.CSS_CLASS+"Tick\" style=\"width: 0%;\"></li>");this.renderTickmarksLabel(r,s,s.getMax());r.write("</ul>");};
S.renderTickmarksLabel=function(r,s,v){var o=s._getPercentOfValue(v);var l=sap.ui.getCore().getConfiguration().getRTL()?"right":"left";v=s.toFixed(v,s.getDecimalPrecisionOfNumber(s.getStep()));r.write("<li class=\""+S.CSS_CLASS+"TickLabel\"");r.addStyle(l,(o+"%"));r.writeStyles();r.write(">");r.write("<div class=\""+S.CSS_CLASS+"Label\">");r.writeEscaped(""+v);r.write("</div>");r.write("</li>");};
S.addClass=function(r,s){r.addClass(S.CSS_CLASS);};
S.addInnerClass=function(r,s){r.addClass(S.CSS_CLASS+"Inner");};
S.addProgressIndicatorClass=function(r,s){r.addClass(S.CSS_CLASS+"Progress");};
S.addHandleClass=function(r,s){r.addClass(S.CSS_CLASS+"Handle");};
S.renderLabels=function(r,s){};
return S;},true);
sap.ui.predefine('sap/viz/ui5/controls/VizSliderRenderer',function(){"use strict";var R={};
R.render=function(r,c){r.write("<DIV");r.writeControlData(c);r.addClass("sapRangeSliderVizFrame");r.writeClasses();r.addStyle("width",c.getWidth());r.addStyle("height",c.getHeight());r.addStyle("position","relative");r.writeStyles();r.write(">");r.renderControl(c.getAggregation("_vizFrame"));r.renderControl(c.getAggregation("_rangeSlider"));r.write("</DIV>");};
return R;},true);
sap.ui.predefine('sap/viz/ui5/controls/VizTooltip',['./common/BaseControl','./charttooltip/TooltipContainer','sap/ui/core/Popup','./common/utils/FormatDataUtil',"sap/ui/thirdparty/jquery"],function(B,T,P,F,q){"use strict";
var V=B.extend("sap.viz.ui5.controls.VizTooltip",{
metadata:{library:"sap.viz",properties:{formatString:{type:"any",defaultValue:null}}},
renderer:function(r,c){r.write("<div");r.writeControlData(c);r.writeClasses();r.writeStyles();r.write('>');r.write('</div>');}
});
V.prototype.init=function(){B.prototype.init.apply(this,arguments);this._uid=null;this._oTooltipContainer=null;this._oPopup=null;};
V.prototype.exit=function(){B.prototype.exit.apply(this,arguments);var v=sap.ui.getCore().byId(this._uid);if(v){if(v._vizFrame){v._vizFrame.off('showInstantTooltip');v._vizFrame.off('hideInstantTooltip');var c=v._onConnectPopover()||{};if(c.ref===this){v._onConnectPopover(null);}}else{v._onConnectPopover(q.proxy(function(e){if(!v._vizFrame){return;}v._vizFrame.off('showInstantTooltip');v._vizFrame.off('hideInstantTooltip');},this));}}if(this._oPopup){this._oPopup.destroy();this._oPopup=null;}if(this._oTooltipContainer){this._oTooltipContainer.destroy();this._oTooltipContainer=null;}this._uid=null;};
V.prototype.connect=function(u){this._uid=u;if(!this._oPopup){this._createTooltip();}var v=sap.ui.getCore().byId(this._uid);var a=v.getUiConfig();if(!a||a.applicationSet!=='fiori'){return;}var t=this;function c(){if(!v._vizFrame){return;}t._chartType=v._vizFrame.type();v._vizFrame.off('showTooltip');v._vizFrame.off('hideTooltip');v._vizFrame.on('showInstantTooltip',function(e){t._prepareTooltip(e.data);t._oPopup.close(0);t._oPopup.open(0);});v._vizFrame.on('hideInstantTooltip',function(){t._oPopup.close(0);});}c.ref=this;if(v._vizFrame){c();}v._onConnectPopover(c);};
V.prototype._createTooltip=function(d){this._oTooltipContainer=new T();this._oPopup=new P();this._oPopup.setContent(this._oTooltipContainer);this._oPopup.setShadow(false);};
V.prototype._prepareTooltip=function(d){var c={formatString:this.getFormatString(),chartType:this._chartType,mode:"tooltip"};var f=F.formatData(d,c);this._oTooltipContainer.setContent(f);var m=P.Dock.CenterBottom;var a=P.Dock.LeftTop;var x=d.point.x;var p=10;var y=d.point.y;var o=0+" "+(-p);var b=document.createEvent('MouseEvents');b.initMouseEvent("mousemove",true,true,window,0,0,0,x,y,false,false,false,false,0,null);b=q.event.fix(b);this._oPopup.setPosition(m,a,b,o,"flipfit");};
V.prototype.addStyleClass=function(){this._oTooltipContainer.addStyleClass.apply(this._oTooltipContainer,arguments);};
V.prototype.removeStyleClass=function(){this._oTooltipContainer.removeStyleClass.apply(this._oTooltipContainer,arguments);};
return V;});
sap.ui.predefine('sap/viz/ui5/controls/chartpopover/ChartPopover',["sap/ui/thirdparty/jquery",'./ContentPanel','./HeaderBar','./SubActionItemsPage','sap/ui/core/Control','sap/viz/ui5/format/ChartFormatter','../common/utils/FormatDataUtil'],function(q,C,H,S,a,b,F){"use strict";
var c=a.extend('sap.viz.ui5.controls.chartpopover.ChartPopover',{metadata:{properties:{'customDataControl':{type:'any'},'actionItems':{type:'object[]'},'formatString':{type:'any'},'chartType':{type:'string'},'showLine':{type:'boolean',defaultValue:true}}}});
c.prototype.init=function(){this._listItemHeight=3;this._isActionItemsChanged=true;this._options=null;this._oContentPanel=new C(this._createId('vizContentPanel'),{});this._oSelectedLabel=new sap.m.Label(this._createId('vizSelectedLabel'),{});this._oSelectedBar=new sap.m.Bar(this._createId('vizSelectedBar'),{contentMiddle:[this._oSelectedLabel]}).addStyleClass('viz-controls-chartPopover-vizSelectedBar').addStyleClass('viz-controls-chartPopover-vizSelectedBarBorder');this._oCustomHeader=new H(this._createId('vizHeaderBar'),{title:sap.viz.extapi.env.Language.getResourceString("IDS_CURRENT_SELECTION"),showNavButton:false,closeButtonPress:q.proxy(this.close,this),navButtonPress:q.proxy(this._navigateBack,this)});this._oPopover=new sap.m.ResponsivePopover(this._createId('vizChartPopover'),{horizontalScrolling:false,placement:sap.m.PlacementType.HorizontalPreferedRight,contentWidth:"18rem",customHeader:this._oCustomHeader,content:[this._oContentPanel]});this._oPopover.addStyleClass('viz-controls-chartPopover');this._oPopover.attachAfterClose(this._afterClose,this);this._oPopover.attachAfterOpen(this._afterOpen,this);this._setAriaLabelledBys();this._infoDiv=null;this._chartType=null;};
c.prototype._setAriaLabelledBys=function(){this._oPopover.removeAllAriaLabelledBy();this._oPopover.addAriaLabelledBy(this._oContentPanel);this._oPopover.addAriaLabelledBy(this._oSelectedLabel);};
c.prototype._afterOpen=function(){this._oCustomHeader._oCloseButton.focus();};
c.prototype._afterClose=function(){this._navigateBack();if(this._options&&this._options.selectedValues<1){this._oPopover.removeContent(this._oSelectedBar);}if(this._infoDiv){this._infoDiv.focus();}};
c.prototype.isOpen=function(){return this._oPopover.isOpen();};
function h(n,d){if(!n||!n.getAttribute){return false;}var e=n.getAttribute('class')||"";return(' '+e+' ').indexOf(' '+d+' ')>=0;}
c.prototype.openBy=function(o,s){if(o){this._oCustomHeader.setTitle(sap.viz.extapi.env.Language.getResourceString('IDS_CURRENT_SELECTION'));this._updateContent();this._updateActionItems();var t=this._updatePopoverSettings(o);var d=this._oPopover.getContent();if(d.length>0){this._oPopover.setInitialFocus(d[0].getId());}setTimeout(function(){this._oPopover.openBy(t,s);}.bind(this),0);}return this;};
c.prototype.close=function(){this._oPopover.close();return this;};
c.prototype.exit=function(){if(this._oContentPanel){this._oContentPanel.destroy();this._oContentPanel=null;}if(this._oSelectedLabel){this._oSelectedLabel.destroy();this._oSelectedLabel=null;}if(this._oCustomHeader){this._oCustomHeader.destroy();this._oCustomHeader=null;}if(this._oCustomPanel){this._oCustomPanel.destroy();this._oCustomPanel=null;}if(this._oPopover){this._oPopover.destroy();this._oPopover=null;}if(this._targetElement){this._targetElement.remove();this._targetElement=null;}this._options=null;this._infoDiv=null;this._chartType=null;};
c.prototype.setOptions=function(o){var d={formatString:this.getFormatString(),chartType:this.getChartType(),mode:"popover"};var e=F.formatData(o,d);if(!this._infoDiv||this.getChartType()!=this._chartType){var n=o.target.parentNode;while(!!n&&!h(n,"v-info")){n=n.parentNode;}this._infoDiv=n;this._chartType=this.getChartType();}if(this._infoDiv){var _=this._infoDiv.querySelector(".v-m-screenreader-container");if(_){var l=_.querySelector("li");if(l&&o.selectedValues){var t=o.selectedValues===1?" "+sap.viz.extapi.env.Language.getResourceString("IDS_ITEM_SELECTED"):" "+sap.viz.extapi.env.Language.getResourceString("IDS_ITEMS_SELECTED");l.innerText=o.selectedValues+t;}}}this._options=o;this._oContentPanel.setShowLine(this.getShowLine()).setContentData(e);if(!e.val||o.selectedValues>1){this._oSelectedLabel.setText(o.selectedValues+" "+(o.selectedValues===1?sap.viz.extapi.env.Language.getResourceString("IDS_ITEM_SELECTED"):sap.viz.extapi.env.Language.getResourceString("IDS_ITEMS_SELECTED")));this._oPopover.insertContent(this._oSelectedBar,1);if(e.val===undefined){this._oSelectedBar.removeStyleClass('viz-controls-chartPopover-vizSelectedBarBorder');}}else{this._oPopover.removeContent(this._oSelectedBar);}return this;};
c.prototype.setActionItems=function(i){this._actionItems=[];this._actionItems=q.extend(true,this._actionItems,i);this._isActionItemsChanged=true;};
c.prototype.getActionItems=function(i){return this._actionItems;};
c.prototype._updateContent=function(){var d=this.getCustomDataControl();if(d){if(this._oCustomPanel){this._oPopover.removeContent(this._oCustomPanel);}this._oCustomPanel=d(this._options);this._oPopover.removeContent(this._oContentPanel);this._oPopover.insertContent(this._oCustomPanel,0);this._oSelectedBar.addStyleClass('viz-controls-chartPopover-vizSelectedBarBorder');}else{this._oPopover.removeContent(this._oCustomPanel);this._oCustomPanel=null;if(this._oContentPanel.isMultiSelected()){this._oPopover.removeContent(this._oContentPanel);}else if(this._oPopover.indexOfContent(this._oContentPanel)===-1){this._oPopover.insertContent(this._oContentPanel,0);this._oSelectedBar.addStyleClass('viz-controls-chartPopover-vizSelectedBarBorder');}}return this;};
c.prototype._updateActionItems=function(){if(this._isActionItemsChanged){var d=this._actionItems;if(!this._oActionList){d=this.getActionItems();if(d&&d.length>0){this._actionItems=q.extend(true,this._actionItems,d);this._oActionList=new sap.m.List({}).addStyleClass('viz-controls-chartPopover-actionList');this._oPopover.addContent(this._oActionList);}}if(d&&d.length>0){this._oActionList.removeAllItems();var e;var o=function(f){var g=this._oActionList.indexOfItem(f.getSource());var s=this._actionItems[g].children;if(s&&s.length>0){this._oSubActionItemsPage=new S();this._oPopover.insertContent(this._oSubActionItemsPage);this._oSubActionItemsPage.setItems(s);this._oCustomHeader.setTitle(this._actionItems[g].text);this._navigateTo();}};for(var i=0,l=d.length;i<l;i++){e=d[i];if(e.type==='action'){this._oActionList.addItem(new sap.m.ActionListItem({text:e.text,press:e.press?e.press:function(){},tooltip:e.text}));}else if(e.type==='navigation'){this._oActionList.addItem(new sap.m.StandardListItem({title:e.text,type:'Navigation',press:o.bind(this),tooltip:e.text}));}}}else if(this._oActionList){this._oActionList.destroy();this._oActionList=null;}this._isActionItemsChanged=false;}};
c.prototype._navigateBack=function(){this._resetHeaderBar();if(this._oActionList){this._oActionList.removeStyleClass('hideActionList');this._oActionList.focus();}this._setAriaLabelledBys();};
c.prototype._resetHeaderBar=function(){this._oPopover.removeContent(this._oSubActionItemsPage);this._oCustomHeader.setShowNavButton(false).setTitle(sap.viz.extapi.env.Language.getResourceString("IDS_CURRENT_SELECTION"));};
c.prototype._navigateTo=function(p){this._oCustomHeader.setShowNavButton(true);if(this._oActionList){this._oActionList.addStyleClass('hideActionList');}this._oPopover.removeAriaLabelledBy(this._oContentPanel);};
c.prototype._createId=function(i){return this.getId()+"-"+i;};
c.prototype._updatePopoverSettings=function(t){var d=this._options.data.val;var e=t.getBoundingClientRect(),m;var p=function(n){return parseInt(n);};var f=t.__data__;if(d!==undefined){for(var i=0,l=d.length;i<l;i++){if(d[i].type&&(d[i].type.toLowerCase()==="measure")){m=d[i].value;break;}}}else if(f&&f.measureNames){m=f[f.measureNames];}var g=this._options.data.type;var j=g&&g==="line";var k,o;switch(this.getChartType()){case'info/bar':case'info/dual_bar':if(m<0){this._oPopover.setPlacement(sap.m.PlacementType.PreferredLeftOrFlip);}else{this._oPopover.setPlacement(sap.m.PlacementType.PreferredRightOrFlip);}k=t.firstChild;break;case'info/column':case'info/dual_column':case'info/timeseries_column':if(m<0){this._oPopover.setPlacement(sap.m.PlacementType.PreferredBottomOrFlip);}else{this._oPopover.setPlacement(sap.m.PlacementType.PreferredTopOrFlip);}k=t.firstChild;break;case'info/pie':case'info/donut':o=p(e.width/2);this._oPopover.setOffsetX(-o);this._oPopover.setPlacement(sap.m.PlacementType.PreferredRightOrFlip);k=t.firstChild;break;case'info/bullet':this._oPopover.setPlacement(sap.m.PlacementType.PreferredRightOrFlip);k=t;break;case'info/vertical_bullet':case'info/timeseries_bullet':this._oPopover.setPlacement(sap.m.PlacementType.PreferredTopOrFlip);k=t;break;case'info/line':case'info/timeseries_line':case'info/timeseries_scatter':case'info/timeseries_bubble':case'info/dual_line':case'info/bubble':case'info/time_bubble':case'info/scatter':case'info/stacked_bar':case'info/dual_stacked_bar':case'info/100_stacked_bar':case'info/100_dual_stacked_bar':case'info/waterfall':case'info/timeseries_waterfall':case'info/area':case'info/radar':this._oPopover.setPlacement(sap.m.PlacementType.VerticalPreferredTop);k=t.firstChild;break;case'info/stacked_column':case'info/dual_stacked_column':case'info/100_stacked_column':case'info/100_dual_stacked_column':case'info/horizontal_waterfall':case'info/heatmap':case'info/treemap':case'info/timeseries_stacked_column':case'info/timeseries_100_stacked_column':this._oPopover.setPlacement(sap.m.PlacementType.HorizontalPreferredRight);k=t.firstChild;break;case'info/combination':case'info/timeseries_combination':case'info/dual_timeseries_combination':if(j){this._oPopover.setPlacement(sap.m.PlacementType.PreferredTopOrFlip);}else if(m<0){this._oPopover.setPlacement(sap.m.PlacementType.PreferredBottomOrFlip);}else{this._oPopover.setPlacement(sap.m.PlacementType.PreferredTopOrFlip);}k=t.firstChild;break;case'info/dual_combination':case'info/stacked_combination':case'info/dual_stacked_combination':case'info/timeseries_stacked_combination':if(j){this._oPopover.setPlacement(sap.m.PlacementType.VerticalPreferedTop);}else{this._oPopover.setPlacement(sap.m.PlacementType.HorizontalPreferedRight);}k=t.firstChild;break;case'info/dual_horizontal_combination':case'info/horizontal_stacked_combination':case'info/dual_horizontal_stacked_combination':if(j){this._oPopover.setPlacement(sap.m.PlacementType.HorizontalPreferedRight);}else{this._oPopover.setPlacement(sap.m.PlacementType.VerticalPreferedTop);}k=t.firstChild;break;}return k;};
c.prototype.addStyleClass=function(){this._oPopover.addStyleClass.apply(this._oPopover,arguments);};
c.prototype.removeStyleClass=function(){this._oPopover.removeStyleClass.apply(this._oPopover,arguments);};
return c;});
sap.ui.predefine('sap/viz/ui5/controls/chartpopover/ContentPanel',['./ShapeMarker','sap/ui/core/Control','sap/ui/layout/form/SimpleForm','sap/ui/layout/Grid','sap/m/Text','sap/m/ObjectNumber','sap/m/Label','sap/ui/core/library','../common/utils/ContentUtil','../common/utils/SelectionDetailUtil','sap/ui/layout/form/ResponsiveGridLayout'],function(S,C,a,G,T,O,L,c,b,d){"use strict";var e=c.TextAlign;
var f=C.extend('sap.viz.ui5.controls.chartpopover.ContentPanel',{
metadata:{properties:{'showLine':'boolean'},publicMethods:["setContentData"]},
renderer:{render:function(r,o){r.write('<div');r.addClass("viz-controls-chartPopover-contentPanel");r.writeClasses();r.writeControlData(o);r.writeAttribute("aria-labelledby",o._oDimLabel.getId()+" "+o._oForm.getId());r.writeAttribute('tabindex',-1);r.write('>');r.renderControl(o._oShapeLabel);r.renderControl(o._oPanel);r.write('</div>');}}
});
f.prototype.init=function(){this._measureItemsLen=0;this._maxMeasureLableLen=15;this._maxMeasureValueLen=12;this._oShapeLabel=new S(this._createId('vizShapeMarker'),{}).addStyleClass('viz-controls-chartPopover-dimension-marker');this._oDimLabel=new T(this._createId('vizDimensionLabel'),{}).addStyleClass('viz-controls-chartPopover-dimension-label');this._oForm=new a({editable:false,maxContainerCols:2,layout:"ResponsiveGridLayout",labelSpanL:6,labelSpanM:6,labelSpanS:6,emptySpanL:0,emptySpanM:0,emptySpanS:0,columnsL:2,columnsM:2,content:[]});this._oPanel=new G({width:'100%',defaultSpan:"L12 M12 S12",content:[this._oDimLabel,this._oForm]}).addStyleClass('viz-controls-chartPopover-Vlt');};
f.prototype.setContentData=function(g){this._measureItemsLen=0;var v=g.val,h='';if(v){this._oForm.removeAllContent();var j=false;var r=b.setContent("popover",g);var k=r.items;h=r.dims;j=r.isLongMode;for(var i=0;i<k.length;i++){this._renderLabels(j,k[i],g.isTimeSeries);}var l=function(g){var n=false;if(g.selectByTimeAxisGroup&&g.val){var o=0;for(var i=0;i<g.val.length;i++){if(g.val[i].type==='Measure'){o++;}}if(o>1){n=true;}}return n;};if(!l(g)&&typeof g.color==='string'){var m=this._oDimLabel.$().css('margin-left');if(m){m=parseInt(m.substr(0,m.length-2));this._oShapeLabel.setMarkerSize(m);}this._oShapeLabel.setColor(g.color).setType((g.shape?g.shape:'square'));if(this.getShowLine()){this._oShapeLabel.setShowWithLine(g.type).setLineInfo(g.lineInfo);}else{this._oShapeLabel.setShowWithLine(undefined);}if(g.stroke&&g.stroke.visible){this._oShapeLabel.setStroke(g.stroke);}}else{this._oShapeLabel.setType(null);this._oShapeLabel.setShowWithLine(undefined);}if(g.pattern){this._oShapeLabel.setPattern(g.pattern);}else{this._oShapeLabel.setPattern(null);}if(h&&h.length>0){this._oDimLabel.setVisible(true);this._oDimLabel.setText(h);}else{this._oDimLabel.setVisible(false);}this._measureItemsLen=g.val.length;if(this._oShapeLabel._isShowWithLine()){this._oForm.addStyleClass('viz-controls-chartPopover-measure-simpleForm');}else{this._oForm.removeStyleClass('viz-controls-chartPopover-measure-simpleForm');}if(!this._oDimLabel.getVisible()){this._oForm.addStyleClass('viz-controls-chartPopover-measure-simpleForm-withoutDimensionLabel');}else{this._oForm.removeStyleClass('viz-controls-chartPopover-measure-simpleForm-withoutDimensionLabel');}}};
f.prototype._renderLabels=function(i,g,h){var v;if(i){this._oForm.setLabelSpanS(12);if(g.name!==''){this._oForm.addContent(new T({text:g.name}).addStyleClass('viz-controls-chartPopover-measure-labels viz-controls-chartPopover-measure-labels-wrapper-name'));}v=new O({number:g.value,unit:g.unit,textAlign:e.Begin}).addStyleClass('viz-controls-chartPopover-measure-labels viz-controls-chartPopover-measure-labels-wrapper-value');this._oForm.addContent(v);if(h&&(g.name==='')){v.addStyleClass('viz-controls-chartPopover-timeDayDimValue');}}else{this._oForm.setLabelSpanS(6);this._oForm.addContent(new L({text:g.name}).addStyleClass('viz-controls-chartPopover-measure-labels viz-controls-chartPopover-measure-name'));if(g.value!==null){v=new O({number:g.value,unit:g.unit,textAlign:e.End}).addStyleClass('viz-controls-chartPopover-measure-labels viz-controls-chartPopover-measure-value');}else{v=new O({number:this._getNoValueLabel(),textAlign:e.End}).addStyleClass('viz-controls-chartPopover-measure-labels viz-controls-chartPopover-measure-value');}if(h&&(g.name==='')){v.addStyleClass('viz-controls-chartPopover-timeDayValue');}this._oForm.addContent(v);}};
f.prototype.isMultiSelected=function(){return this._measureItemsLen===0;};
f.prototype._createId=function(i){return this.getId()+"-"+i;};
f.prototype._getNoValueLabel=function(){return sap.viz.extapi.env.Language.getResourceString("IDS_ISNOVALUE");};
f.prototype.exit=function(i){if(this._oForm){this._oForm.destroy();this._oForm=null;}if(this._oShapeLabel){this._oShapeLabel.destroy();this._oShapeLabel=null;}if(this._oDimLabel){this._oDimLabel.destroy();this._oDimLabel=null;}if(this._oPanel){this._oPanel.destroy();this._oPanel=null;}};
return f;});
sap.ui.predefine('sap/viz/ui5/controls/chartpopover/HeaderBar',["sap/ui/thirdparty/jquery",'sap/m/Bar','sap/m/Button','sap/m/Label','sap/ui/core/IconPool'],function(q,B,a,L,I){"use strict";
var H=B.extend('sap.viz.ui5.controls.chartpopover.HeaderBar',{
metadata:{properties:{'showNavButton':'boolean','title':'string'},publicMethods:[],events:{"navButtonPress":{},"closeButtonPress":{}}},
renderer:{}
});
H.prototype.getContentLeft=function(){if(!this._oNavButton){this._oNavButton=new a(this._createId("popoverNavButton"),{type:sap.m.ButtonType.Back,tooltip:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("PAGE_NAVBUTTON_TEXT"),press:q.proxy(function(){this.fireNavButtonPress();},this)}).addStyleClass('viz-controls-chartPopover-backButton');}this._oNavButton.setVisible(this.getShowNavButton());this._oNavButton.onAfterRendering=function(){this.focus();};return[this._oNavButton];};
H.prototype.getContentMiddle=function(){if(!this._oTitleLabel){this._oTitleLabel=new L(this._createId('popoverHeaderTitle'));this.addAriaLabelledBy(this._oTitleLabel);}this._oTitleLabel.setText(this.getTitle());return[this._oTitleLabel];};
H.prototype.getContentRight=function(){if(!this._oCloseButton){this._oCloseButton=new a(this._createId("popoverCloseButton"),{icon:I.getIconURI("decline"),tooltip:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("MESSAGEPOPOVER_CLOSE"),press:q.proxy(function(){this.fireCloseButtonPress();},this)}).addStyleClass('viz-controls-chartPopover-closeButton');}return[this._oCloseButton];};
H.prototype.exit=function(){if(this._oCloseButton){this._oCloseButton.destroy();this._oCloseButton=null;}if(this._oTitleLabel){this._oTitleLabel.destroy();this._oTitleLabel=null;}if(this._oNavButton){this._oNavButton.destroy();this._oNavButton=null;}};
H.prototype._createId=function(i){return this.getId()+"-"+i;};
return H;});
sap.ui.predefine('sap/viz/ui5/controls/chartpopover/ShapeMarker',['sap/ui/core/Control','sap/ui/core/theming/Parameters','../common/utils/SelectionDetailUtil'],function(C,P,S){"use strict";
var a=C.extend('sap.viz.ui5.controls.chartpopover.ShapeMarker',{
metadata:{properties:{'type':'string','color':'string','markerSize':'int','showWithLine':'string','lineInfo':'object','stroke':'object','pattern':'string'}},
renderer:{render:function(r,c){var m=c.getMarkerSize()?c.getMarkerSize():10;var p=m/2,b=p,w=m,h=m;if(c._isShowWithLine()){p=m;w=m*2;m=6;}var d={rx:m/2,ry:m/2,type:c.getType(),borderWidth:0};r.write('<div');r.writeClasses();r.write('>');r.write('<svg width='+w+'px height='+h+'px '+'focusable = false');r.write('>');if(c._isShowWithLine()){var l=c.getLineInfo(),e=P.get(l.lineColor);if(!e){e=l.lineColor?l.lineColor:c.getColor();}if(l.lineType==='dotted'||l.lineType==='dash'){r.write("<line x1 = '0' y1='"+b+"' x2 = '"+w+"' y2 = '"+b+"' ");r.write("stroke-width = '2' ");r.write(" stroke-dasharray = '5, 3' ");}else if(l.lineType==='dot'){var f=Math.floor(w/2);f=f&1?f:f-1;if(f<3){f=3;}var g=w/f;r.write("<line x1 ='"+(g/2)+"'y1='"+b+"' x2 = '"+w+"' y2 = '"+b+"' ");r.write(" stroke-dasharray = ' 0,"+g*2+"'");r.write("stroke-width = '"+g+"'");r.write("stroke-linecap = 'round'");}else{r.write("<line x1 = '0' y1='"+b+"' x2 = '"+w+"' y2 = '"+b+"' ");r.write("stroke-width = '2' ");}r.write(" stroke = '"+e+"'");r.write("> </line>");}if(d.type){r.write("<path d = '"+S.generateShapePath(d)+"'");var i=c.getPattern();if(!i){r.write(" fill = '"+c.getColor()+"'");}else if(i==='noFill'){var j=P.get('sapUiChartBackgroundColor');if(j==='transparent'){j="white";}r.write(" fill = '"+j+"'");r.write(" stroke = '"+c.getColor()+"' stroke-width= '1px'");}else{r.write(" fill = '"+i+"'");}r.write(" transform = 'translate("+p+","+b+")'");r.write('></path>');}r.write('</svg>');r.write('</div>');r.writeStyles();}}
});
a.prototype._isShowWithLine=function(){return(this.getShowWithLine()==='line')&&this.getLineInfo();};
return a;});
sap.ui.predefine('sap/viz/ui5/controls/chartpopover/SubActionItemsPage',['sap/ui/core/Control'],function(C){"use strict";
var S=C.extend('sap.viz.ui5.controls.chartpopover.SubActionItemsPage',{
metadata:{properties:{items:{type:'sap.m.ListBase[]'}}},
renderer:{render:function(r,c){r.write('<div');r.addClass("viz-controls-chartPopover-subActionItemsPage");r.writeClasses();r.write('>');r.renderControl(c._oList);r.write('</div>');}}
});
S.prototype.init=function(){this._oList=new sap.m.List({});};
S.prototype.onAfterRendering=function(){setTimeout(function(){this._oList.focus();}.bind(this),10);};
S.prototype.exit=function(){if(this._oList){this._oList.destroy();this._oList=null;}};
S.prototype.setItems=function(a){this._oList.removeAllItems();var b;for(var i=0;i<a.length;i++){b=new sap.m.ActionListItem({text:a[i].text,press:a[i].press?a[i].press:function(){},tooltip:a[i].text});this._oList.addItem(b);}};
S.prototype._createId=function(i){return this.getId()+"-"+i;};
return S;});
sap.ui.predefine('sap/viz/ui5/controls/charttooltip/ContentPanel',['sap/ui/core/Control','sap/ui/layout/VerticalLayout','sap/ui/layout/HorizontalLayout','sap/m/Label','sap/m/Text','../common/utils/ContentUtil','sap/ui/core/library','sap/m/ObjectNumber'],function(C,V,H,L,T,a,c,O){"use strict";var b=c.TextAlign;
var d=C.extend("sap.viz.ui5.controls.charttooltip.ContentPanel",{
metadata:{properties:{}},
renderer:{render:function(r,o){var i=o.getId();r.write('<div');r.writeAttribute("id",i);r.addClass("viz-controls-chartTooltip-contentPanel");r.writeClasses();r.write('>');r.renderControl(o._oPanel);r.write('</div>');}}
});
d.prototype.init=function(){this._oPanel=new V({});};
d.prototype.setContent=function(e){this._oPanel.destroyContent();var r=a.setContent("toolTip",e);var f=r.items;var g=f.length>1?true:false;for(var i=0;i<f.length;i++){this._renderLabels(f[i],g,!!i);}};
d.prototype._renderLabels=function(i,r,n){var l;var e=new L({text:i.name});e.addStyleClass('viz-controls-chartTooltip-label');var f=new L({text:":"});f.addStyleClass("viz-controls-chartTooltip-separator");var g=i.value;if(g===null){g=this._getNoValueLabel();}if(i.type&&i.type==='dimension'){l=new T({text:g});l.addStyleClass('viz-controls-chartTooltip-dimension-value');}else if(i.type&&i.type==='measure'){l=new O({number:g,unit:i.unit});l.addStyleClass('viz-controls-chartTooltip-measure-value');}var h=new H({content:[e,f,l]});if(r&&n){h.addStyleClass("sapUI5TooltipRowSpacing");}this._oPanel.addContent(h);};
d.prototype.exit=function(){if(this._oPanel){this._oPanel.destroy();this._oPanel=null;}};
d.prototype._getNoValueLabel=function(){return sap.viz.extapi.env.Language.getResourceString("IDS_ISNOVALUE");};
return d;});
sap.ui.predefine('sap/viz/ui5/controls/charttooltip/TooltipContainer',['sap/ui/core/Control','./ContentPanel'],function(C,a){"use strict";
var T=C.extend("sap.viz.ui5.controls.charttooltip.TooltipContainer",{
metadata:{properties:{}},
renderer:{render:function(r,c){var i=c.getId();r.write('<div');r.writeAttribute("id",i);r.addClass("viz-controls-chartTooltip");r.writeClasses();r.write('>');r.renderControl(c._oPanel);r.write('</div>');}}
});
T.prototype.init=function(){this._oPanel=new a();};
T.prototype.setContent=function(d){this._oPanel.setContent(d);};
T.prototype.exit=function(){if(this._oPanel){this._oPanel.destroy();this._oPanel=null;}};
return T;});
sap.ui.predefine('sap/viz/ui5/controls/common/BaseControl',['sap/ui/core/Control','sap/ui/core/RenderManager','sap/viz/library',"sap/ui/thirdparty/jquery","./BaseControlRenderer"],function(C,R,l,q){"use strict";
var B=C.extend("sap.viz.ui5.controls.common.BaseControl",{metadata:{library:"sap.viz",properties:{uiConfig:{type:"object",group:"Misc",defaultValue:null},width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'640px'},height:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'480px'}}}});
B.prototype.init=function(){this._app$=null;this._controls={};this._handlers={'resize':null};this._locale=null;this._pendingRerendering=false;this._resourceLoaded=false;sap.viz._initializeVIZControls(this instanceof sap.viz.ui5.VizContainer,q.proxy(function(s){this._resourceLoaded=s;this.invalidate();setTimeout(function(){if(!this.getUIArea()){this._render();}}.bind(this),0);},this));};
B.prototype.exit=function(){this._app$=null;this._deregister();for(var k in this._controls){this._controls[k].destroy();}};
B.prototype.onBeforeRendering=function(){var d=this._app$&&this._app$[0];if(d&&!R.isPreservedContent(d)){R.preserveContent(d,true,false);}this._deregister();};
B.prototype.onAfterRendering=function(){this._render();};
B.prototype.onThemeChanged=function(){if(this.getDomRef()){this.invalidate();if(!this._pendingRerendering){this._render();}}};
B.prototype.onLocalizationChanged=function(){if(this._locale!==sap.ui.getCore().getConfiguration().getLocale()){this._render();}};
B.prototype._render=function(){if(this._resourceLoaded&&this.getDomRef()){this._pendingRerendering=false;this._locale=sap.ui.getCore().getConfiguration().getLocale();if(!this._app$){this._app$=q(document.createElement('div')).appendTo(this.getDomRef()).addClass('ui5-viz-controls-app');q(this._app$).attr("data-sap-ui-preserve",this.getId());this._validateSize();this._createChildren();}else{this._app$.appendTo(this.getDomRef());this._validateSize();this._updateChildren();}this._register();}};
B.prototype._createChildren=function(){};
B.prototype._updateChildren=function(){};
B.prototype._deregister=function(){if(this._handlers.resize){sap.ui.core.ResizeHandler.deregister(this._handlers.resize);}this._handlers.resize=null;};
B.prototype._register=function(){this._deregister();this._handlers.resize=sap.ui.core.ResizeHandler.register(this.getDomRef(),q.proxy(this._validateSize,this));};
B.prototype._validateSize=function(){};
B.prototype.invalidate=function(){C.prototype.invalidate.apply(this,arguments);if(this.getUIArea()){this._pendingRerendering=true;}};
return B;});
sap.ui.predefine('sap/viz/ui5/controls/common/BaseControlRenderer',function(){"use strict";var B={};
B.render=function(r,c){};
return B;},true);
sap.ui.predefine('sap/viz/ui5/controls/common/feeds/AnalysisObject',['sap/ui/core/Element','sap/viz/library'],function(E,l){"use strict";
var A=E.extend("sap.viz.ui5.controls.common.feeds.AnalysisObject",{metadata:{library:"sap.viz",properties:{uid:{type:"string",group:"Misc",defaultValue:null},name:{type:"string",group:"Misc",defaultValue:null},type:{type:"string",group:"Misc",defaultValue:null},dataType:{type:"string",group:"Misc",defaultValue:null}}}});
A.prototype._toInnerFmt=function(g){var u=this.getProperty('uid');var t=this.getProperty('type');if(u&&t){return new g(u,this.getProperty('name'),t,this.getProperty('dataType'),this._inResult());}};
A.prototype._inResult=function(i){if(!arguments.length){return!!this._bInResult;}else{this._bInResult=i;return this;}};
A.toVizControlsFmt=function(d){return Array.prototype.map.call(d,function(e){return e._toInnerFmt(function(i,n,t,f){t=t?t.toLowerCase():t;f=f?f.toLowerCase():f;return new sap.viz.controls.common.feeds.AnalysisObject(i,n,t,f);});});};
A.fromVizControlsFmt=function(i){return Array.prototype.map.call(i,function(d){return new A({'uid':d.id(),'name':d.name(),'type':d.type(),'dataType':d.dataType()});});};
A.toLightWeightFmt=function(d){return Array.prototype.map.call(d,function(e){return e._toInnerFmt(function(i,n,t,f,g){f=a[f]||f;t=b[t]||t;if(f||f.length){return{'id':i,'type':t,'inResult':g,'dataType':f};}else{return{'id':i,'type':t,'inResult':g};}});});};
A.fromLightWeightFmt=function(d){return Array.prototype.map.call(d,function(i){return(new A({'uid':i.id,'name':i.id,'type':i.type,'dataType':c[i.dataType]||i.dataType}))._inResult(i.inResult);});};
var _=function(o){var r={};for(var k in o){var v=o[k];r[v]=k;}return r;};var a={'string':'String','number':'Number','date':'Date'};var b={'measure':'Measure','dimension':'Dimension'};var c=_(a);return A;});
sap.ui.predefine('sap/viz/ui5/controls/common/feeds/FeedHelper',function(){"use strict";var F={};
F.getFeedDefsMap=function(v){var a;try{a=sap.viz.api.manifest.Viz.get(v)[0].allFeeds();}catch(e){try{a=sap.viz.api.metadata.Viz.get(v).bindings;}catch(b){return null;}}var m={};for(var i=0;i<a.length;i++){m[a[i].id]=a[i];}return m;};
F.updateAxis=function(d,v,f){if(!f||f.length===0||!d||d.length===0){return;}var a={};d.forEach(function(c){a[c.getName()]=c;});var b=F.getFeedDefsMap(v);f.forEach(function(c){var e=b[c.getUid()];if(e.type!=='Dimension'){return;}var g=e.aaIndex;c.getValues().forEach(function(h){var i=a[h];if(i){i.setProperty('axis',g,true);}});});};
return F;});
sap.ui.predefine('sap/viz/ui5/controls/common/feeds/FeedItem',['sap/ui/core/Element','sap/viz/library','./AnalysisObject'],function(E,l,A){"use strict";
var F=E.extend("sap.viz.ui5.controls.common.feeds.FeedItem",{metadata:{library:"sap.viz",properties:{uid:{type:"string",group:"Misc",defaultValue:null},type:{type:"string",group:"Misc",defaultValue:null},values:{type:"any[]",group:"Misc",defaultValue:null}}}});
F.prototype._toInnerFmt=function(g){var u=this.getProperty('uid');var t=this.getProperty('type');var v=this.getProperty('values');if(u&&t){this._analysisObjects=[];if(v){var i=u==="timeAxis";v.forEach(function(a,b,v){if(typeof a==='string'){this._analysisObjects[b]=new A({'uid':a,'name':a,'type':a==='MND'?'MND':t});}else if(a instanceof A){this._analysisObjects[b]=a;}else{return;}if(i){this._analysisObjects[b].setDataType("date");}}.bind(this));}return g(u,t,this._analysisObjects);}};
F.toVizControlsFmt=function(f){return Array.prototype.map.call(f,function(a){return a._toInnerFmt(function(i,t,v){return new sap.viz.controls.common.feeds.FeedItem(i,t,sap.viz.ui5.controls.common.feeds.AnalysisObject.toVizControlsFmt(v));});});};
F.fromVizControlsFmt=function(f){return Array.prototype.map.call(f,function(i){return new F({'uid':i.id(),'type':i.type(),'values':sap.viz.ui5.controls.common.feeds.AnalysisObject.fromVizControlsFmt(i.values())});});};
F.toLightWeightFmt=function(f){return Array.prototype.map.call(f,function(a){return a._toInnerFmt(function(i,t,v){return{'id':i,'type':t,'values':sap.viz.ui5.controls.common.feeds.AnalysisObject.toLightWeightFmt(v)};});});};
F.fromLightWeightFmt=function(f){return Array.prototype.map.call(f,function(i){return new F({'uid':i.id,'type':i.type,'values':sap.viz.ui5.controls.common.feeds.AnalysisObject.fromLightWeightFmt(i.values)});});};
return F;});
sap.ui.predefine('sap/viz/ui5/controls/common/helpers/DefaultPropertiesHelper',['sap/viz/ui5/format/ChartFormatter','sap/ui/Device',"sap/ui/thirdparty/jquery"],function(C,D,q){"use strict";var a={};var F={plotArea:{scrollbar:{spacing:2}},legend:{scrollbar:{spacing:2}}};var i=sap.ui.Device.system.tablet||sap.ui.Device.system.phone;var b={'tooltip':{'visible':false},'general':{'groupData':true},'plotArea':{'window':{'start':'firstDataPoint'},'dataLabel':{'hideWhenOverlap':true,'respectShapeWidth':true,'style':{'color':null}},'dataPointSize':{'min':(i)?40:24,'max':96}},'interaction':{'behaviorType':'noHoverBehavior','selectability':{'mode':'multiple'},'zoom':{'enablement':'enabled','direction':'categoryAxis'},'enableKeyboard':true,'enableInternalEvents':true},'timeAxis':{'label':{'forceToShowFirstLastData':true}},'categoryAxis':{'label':{'angle':45,'rotation':'auto'}},'legendGroup':{'layout':{'position':'auto','respectPlotPosition':false},'forceToShow':true},'legend':{'isScrollable':true,'selectionFeedback':true}};var c={'plotArea':{'primaryValuesColorPalette':['sapUiChartPaletteSequentialHue1','sapUiChartPaletteSequentialHue1Light2','sapUiChartPaletteSequentialHue1Dark1'],'secondaryValuesColorPalette':['sapUiChartPaletteSequentialHue2','sapUiChartPaletteSequentialHue2Light2','sapUiChartPaletteSequentialHue2Dark1']},"valueAxis":{"title":{"style":{"color":"sapUiChartPaletteSequentialHue1Dark1"}},"axisLine":{"visible":false},"color":"sapUiChartPaletteSequentialHue1Dark1"},"valueAxis2":{"title":{"style":{"color":"sapUiChartPaletteSequentialHue2Dark1"}},"axisLine":{"visible":false},"color":"sapUiChartPaletteSequentialHue2Dark1"}};
a.getExtraProp=function(e){if(e==="fiori"&&i){return q.extend(true,{},F);}else{return{};}};
a._getFiori=function(P,t){var r=P.mergeProperties(t,{},a._general,a._specified[t.replace('info/','')]||{});var e=q.extend(true,{},b);r=P.mergeProperties(t,e,r);if(/dual/.test(t)){r=P.mergeProperties(t,r,c);}return r;};
a.DEFAULT_FIORI_PROPS=b;a.FIORI_DUAL_PROPS=c;
a.get=function(P,t,e){if(e==="fiori"){return a._getFiori(P,t);}else{return P.mergeProperties(t,{},a._general,a._specified[t.replace('info/','')]||{},h({},t));}};
function g(p,k){if(p==null||k.legnth===0){return p;}var e=p[k[0]];if(e&&e.children){return g(e.children,k.slice(1));}return e;}
function s(e,k,v){if(k.length===0){return v;}e=e||{};var p=e[k[0]];e[k[0]]=s(p,k.slice(1),v);return e;}
var d="u";var f=[["valueAxis","label","formatString"],["valueAxis2","label","formatString"]];
function h(e,k){var m=sap.viz.api.metadata.Viz.get(k);if(m){var l=m.properties;f.forEach(function(n){var p=g(l,n);if(p&&p.hasOwnProperty("defaultValue")){s(e,n,d);}});}return e;}
a.applyDefaultFormatString=h;a._general={"title":{"visible":true},"legend":{"visible":true},"plotArea":{"animation":{"dataLoading":false,"dataUpdating":false,"resizing":false},'colorPalette':['sapUiChartPaletteQualitativeHue1','sapUiChartPaletteQualitativeHue2','sapUiChartPaletteQualitativeHue3','sapUiChartPaletteQualitativeHue4','sapUiChartPaletteQualitativeHue5','sapUiChartPaletteQualitativeHue6','sapUiChartPaletteQualitativeHue7','sapUiChartPaletteQualitativeHue8','sapUiChartPaletteQualitativeHue9','sapUiChartPaletteQualitativeHue10','sapUiChartPaletteQualitativeHue11','sapUiChartPaletteQualitativeHue12','sapUiChartPaletteQualitativeHue13','sapUiChartPaletteQualitativeHue14','sapUiChartPaletteQualitativeHue15','sapUiChartPaletteQualitativeHue16','sapUiChartPaletteQualitativeHue17','sapUiChartPaletteQualitativeHue18','sapUiChartPaletteQualitativeHue19','sapUiChartPaletteQualitativeHue20','sapUiChartPaletteQualitativeHue21','sapUiChartPaletteQualitativeHue22'],'primaryValuesColorPalette':['sapUiChartPaletteSequentialHue1Light1','sapUiChartPaletteSequentialHue1','sapUiChartPaletteSequentialHue1Dark1'],'secondaryValuesColorPalette':['sapUiChartPaletteSequentialHue2Light1','sapUiChartPaletteSequentialHue2','sapUiChartPaletteSequentialHue2Dark1']}};var j={"plotArea":{"nullColor":"sapUiChoroplethRegionBG","colorPalette":["sapUiChartPaletteSequentialHue1Light2","sapUiChartPaletteSequentialHue1Light1","sapUiChartPaletteSequentialHue1","sapUiChartPaletteSequentialHue1Dark1","sapUiChartPaletteSequentialHue1Dark2"]}};a._specified={"heatmap":j,"treemap":j};return a;});
sap.ui.predefine('sap/viz/ui5/controls/common/utils/Constants',function(){"use strict";var v={ERROR_TYPE:{NODATA:'NO_DATA',MULTIPLEUNITS:'MULTIPLE_UNITS',INVALIDDATA:'INVALID_DATA',OTHERS:'OTHERS'},ERROR_MESSAGE:{MULTIPLEUNITS:'Multiple Units',NODATA:"No Data"},CSS_PREFIX:'ui5-viz-controls',TEMPLATE_POSTFIX:'_merged_with_cvom_by_vizframe',CORE_CHART_TYPES:["info/column","info/bar","info/stacked_bar","info/stacked_column","info/line","info/combination","info/dual_combination","info/dual_horizontal_combination","info/bullet","info/timeseries_bullet","info/bubble","info/time_bubble","info/pie","info/donut","info/scatter","info/vertical_bullet","info/dual_stacked_bar","info/100_stacked_bar","info/100_dual_stacked_bar","info/dual_stacked_column","info/100_stacked_column","info/100_dual_stacked_column","info/stacked_combination","info/horizontal_stacked_combination","info/dual_stacked_combination","info/dual_horizontal_stacked_combination","info/dual_bar","info/dual_column","info/dual_line","info/timeseries_column","info/timeseries_line","info/timeseries_scatter","info/timeseries_bubble","info/heatmap","info/treemap","info/waterfall","info/horizontal_waterfall","info/timeseries_combination","info/timeseries_stacked_combination","info/dual_timeseries_combination","info/timeseries_stacked_column","info/timeseries_100_stacked_column","info/timeseries_waterfall","info/area","info/radar"],DATASET_TYPES:{FLATTABLEDATASET:"FLATTABLEDATASET",CROSSTABLEDATASET:"CROSSTABLEDATASET",LEGACYCROSSTABLEDATASET:"LEGACYCROSSTABLEDATASET"}};return v;});
sap.ui.predefine('sap/viz/ui5/controls/common/utils/ContentUtil',function(){"use strict";var C={};var M=15;var a=12;
C.setContent=function(b,d){var v=d.val;var c=false;var n,e,f=[],r={},g="",h='';var m='';var j=function(){return sap.viz.extapi.env.Language.getResourceString("IDS_ISNOVALUE");};for(var i=0;i<v.length;i++){n=v[i].dataName||v[i].name;if(v[i].type&&v[i].type.toLowerCase()==='dimension'){e=v[i].value;if(d.isTimeSeries&&v.hasOwnProperty("timeDimensions")&&v.timeDimensions.indexOf(i)>-1){var k=(v[i].timeAxis&&v[i].timeAxis.getFiscalUnitLabels&&v[i].timeAxis.getFiscalUnitLabels());if(k&&k.length>0){f.push({name:k[0],value:e.fiscalyear,type:'dimension'});if(k.length>1){f.push({name:k[1],value:e.fiscalperiod,type:'dimension'});}if(b==='popover'){h=e.fiscalperiod;if(e.fiscalyear){if(!h||h.length<e.fiscalyear.length){h=e.fiscalyear;}}}}else{if(b==='toolTip'){if(e.time){var l='';if(e.day){l=e.time+" "+e.day;}else{l=e.time;}f.push({name:n,value:l,type:'dimension'});}if(e.day&&!e.time){f.push({name:n,value:e.day,type:'dimension'});}}else if(b==='popover'){if(e.time){f.push({name:n,value:e.time,type:'dimension'});}if(e.day){f.push({name:e.time?"":n,value:e.day,type:'dimension'});}h=e.time;if(e.day){if(!h||h.length<e.day.length){h=e.day;}}}}if(b==='popover'&&!c){if(v[i].name.length>M||h.length>a){c=true;}else{if(k&&k.length>0&&k[0].length>M){c=true;}if(k&&k.length>1&&k[1].length>M){c=true;}}}}else{if(g==null){g=j();}else if(g.length>0){if(e===null){g=g+' - '+j();}else{g=g+' - '+e;}}else{if(e===null){g=j();}else{g=e.toString();}}if(b==='toolTip'){f.push({name:n,value:e,type:'dimension'});}}}else if(v[i].type&&v[i].type.toLowerCase()==='measure'){f.push({name:n,value:v[i].value,unit:v[i].unit,type:'measure'});if(b==='popover'&&!c){m=v[i].value;if(m==null){m=j();}if((v[i].dataName||v[i].name).length>M||m.toString().length>a){c=true;}}}}r.items=f;r.isLongMode=c;r.dims=g;return r;};
return C;});
sap.ui.predefine('sap/viz/ui5/controls/common/utils/FormatDataUtil',["sap/ui/thirdparty/jquery"],function(q){"use strict";var F={};
F.formatData=function(o,c){if(!(o.data&&o.data.val&&o.data.val.length>0)){return o.data;}var d=o.data,f=sap.viz.api.env.Format.format,a=q.extend(true,{},d),t=a.val.hasOwnProperty("timeMeasure")?a.val.timeMeasure:-1,b=a.val.hasOwnProperty("timeDimensions")?a.val.timeDimensions:[],e=c.formatString,g=null,h={},p;if(typeof e==="string"){g=e;}else if(e instanceof Object){if(e.formatPattern||e.dataUnit){g=e;}else{h=e;}}if(t!==-1){var j=a.val.filter(function(i){return(i.type)&&(i.type.toLowerCase()==="measure");})[t];j.value=new Date(j.value);}if(o.timeTooltipData&&c.chartType.indexOf('time')>-1){var k=false;if(e){b.forEach(function(i){if(a.val[i]&&a.val[i].id){var m=h[a.val[i].id];if(m&&(typeof m==="string"||m.formatPattern)){k=true;}}});}if(k){a.val.forEach(function(i,m){if(b.indexOf(m)>-1){i.type="measure";i.value=new Date(i.value);}});}else{var l=q.extend(true,[],o.timeTooltipData);l.forEach(function(i,m){if(a.val[m].dataName){l[m].dataName=a.val[m].dataName;}});a.val=l;a.isTimeSeries=true;}}a.val.forEach(function(v,i){if(v.type&&v.type.toLowerCase()==="measure"){p=h[v.id]||g||v.formatString;if(v.bothValue&&v.bothValue.primaryKey==='percentage'){v.value=v.bothValue.percentage;if(!p){p={'formatPattern':'0.00%'};}}else if(v.strValue){v.value=v.strValue;}if(p){if((p.formatPattern||p.dataUnit)){v.value=f(v.value,p.formatPattern);var m=a.val.timeDimensions&&a.val.timeDimensions.indexOf(i)>-1;if(!m){v.unit=p.dataUnit||v.unit;}}else{v.value=f(v.value,p);}}else{v.value=f(v.value);}}});return a;};
return F;});
sap.ui.predefine('sap/viz/ui5/controls/common/utils/SelectionDetailUtil',['sap/ui/core/theming/Parameters'],function(P){"use strict";var S={};
S.appendShapeStrings=function(d){d.forEach(function(i){if(i.graphicInfo){i.shapeString=g(i.graphicInfo);delete i.graphicInfo;}});};
var g=function(o){var c=o.color;if(!c){return'';}if(typeof c==='object'){var s={};var k=["v-primary","v-additional","v-forecast"];for(var i=0;i<k.length;i++){var a=k[i];if(c[a]&&c[a]["id"]){s[c[a]["id"]]=g(c[a]);}}return s;}else if(typeof c==='string'){var b='';var m=10,p=m/2,d=p,w=m,h=m,e=o.type==='line';if(o.type&&e){p=m;w=m*2;m=6;}var f={rx:m/2,ry:m/2,type:o.shape,borderWidth:0};b=b+'<svg width='+w+'px height='+h+'px '+'focusable = false>';if(e){var l=o.lineInfo;var j=P.get(l.lineColor)||l.lineColor||c;if(l.lineType==='dotted'||l.lineType==='dash'){b=b+"<line x1 = '0' y1='"+d+"' x2 = '"+w+"' y2 = '"+d+"' stroke-width = '2' stroke-dasharray = '5, 3' ";}else if(l.lineType==='dot'){var n=Math.floor(w/2);n=n&1?n:n-1;if(n<3){n=3;}var q=w/n;b=b+"<line x1 ='"+(q/2)+"'y1='"+d+"' x2 = '"+w+"' y2 = '"+d+"' stroke-dasharray = ' 0,"+q*2+"' ";b=b+"stroke-width = '"+q+"' stroke-linecap = 'round'";}else{b=b+"<line x1 = '0' y1='"+d+"' x2 = '"+w+"' y2 = '"+d+"' stroke-width = '2' ";}b=b+" stroke = '"+j+"'> </line>";}b=b+"<path d = '"+S.generateShapePath(f)+"'";if(!o.pattern){b=b+" fill = '"+c+"'";}else if(o.pattern==='noFill'){var C=P.get('sapUiChartBackgroundColor');if(C==='transparent'){C="white";}b=b+" fill = '"+C+"'";b=b+" stroke = '"+c+"' stroke-width= '1px'";}else{b=b+" fill = '"+(o.patternURL||o.pattern)+"'";}b=b+" transform = 'translate("+p+","+d+")'></path>";b=b+'</svg>';return b;}};
S.generateShapePath=function(p){var a;var t=p.borderWidth/2;switch(p.type){case"circle":a="M"+(-p.rx-t)+",0 A"+(p.rx+t)+","+(p.ry+t)+" 0 1,0 "+(p.rx+t)+",0 A";a+=(p.rx+t)+","+(p.ry+t)+" 0 1,0 "+(-p.rx-t)+",0z";break;case"cross":a="M"+(-p.rx-t)+","+(-p.ry/3-t)+"H"+(-p.rx/3-t)+"V"+(-p.ry-t)+"H"+(p.rx/3+t);a+="V"+(-p.ry/3-t)+"H"+(p.rx+t)+"V"+(p.ry/3+t)+"H"+(p.rx/3+t);a+="V"+(p.ry+t)+"H"+(-p.rx/3-t)+"V"+(p.ry/3+t)+"H"+(-p.rx-t)+"Z";break;case"diamond":a="M0,"+(-p.ry-t)+"L"+(p.rx+t)+",0"+" 0,"+(p.ry+t)+" "+(-p.rx-t)+",0"+"Z";break;case"triangle-down":case"triangleDown":a="M0,"+(p.ry+t)+"L"+(p.rx+t)+","+-(p.ry+t)+" "+-(p.rx+t)+","+-(p.ry+t)+"Z";break;case"triangle-up":case"triangleUp":a="M0,"+-(p.ry+t)+"L"+(p.rx+t)+","+(p.ry+t)+" "+-(p.rx+t)+","+(p.ry+t)+"Z";break;case"triangle-left":case"triangleLeft":a="M"+-(p.rx+t)+",0L"+(p.rx+t)+","+(p.ry+t)+" "+(p.rx+t)+","+-(p.ry+t)+"Z";break;case"triangle-right":case"triangleRight":a="M"+(p.rx+t)+",0L"+-(p.rx+t)+","+(p.ry+t)+" "+-(p.rx+t)+","+-(p.ry+t)+"Z";break;case"intersection":a="M"+(p.rx+t)+","+(p.ry+t)+"L"+(p.rx/3+t)+",0L"+(p.rx+t)+","+-(p.ry+t)+"L";a+=(p.rx/2-t)+","+-(p.ry+t)+"L0,"+(-p.ry/3-t)+"L"+(-p.rx/2+t)+","+-(p.ry+t)+"L";a+=-(p.rx+t)+","+-(p.ry+t)+"L"+-(p.rx/3+t)+",0L"+-(p.rx+t)+","+(p.ry+t)+"L";a+=(-p.rx/2+t)+","+(p.ry+t)+"L0,"+(p.ry/3+t)+"L"+(p.rx/2-t)+","+(p.ry+t)+"Z";break;case'squareWithRadius':var r=p.rx;var b=r-3;a="M0,"+-r+"L"+-b+","+-r+"Q"+-r+","+-r+" "+-r+","+-b+"L"+-r+","+b+"Q"+-r+","+r+" "+-b+","+r;a+="L"+b+","+r+"Q"+r+","+r+" "+r+","+b+"L"+r+","+-b+"Q"+r+","+-r+" "+b+","+-r+"Z";break;case"square":case"sector":default:a="M"+(-p.rx-t)+","+(-p.ry-t)+"L"+(p.rx+t)+",";a+=(-p.ry-t)+"L"+(p.rx+t)+","+(p.ry+t)+"L"+(-p.rx-t)+","+(p.ry+t)+"Z";break;}return a;};
return S;});
sap.ui.predefine('sap/viz/ui5/data/CVOMDatasetAdaptor',['sap/viz/ui5/controls/common/utils/Constants','sap/ui/model/Sorter',"sap/ui/thirdparty/jquery","sap/base/util/deepEqual"],function(C,S,q,c){"use strict";
function e(i){return Object.prototype.toString.call(i)==='[object Array]';}
function f(a,m,b,n,F){var r={dataset:null,context:null};if(!b||b.length===0){return r;}var A=[],o=[],M=[],p=[],s=[];q.each(a,function(i,l){if(l.getAxis()===1){A.push({def:l,adapter:l._getAdapter()});}else if(l.getAxis()===2){o.push({def:l,adapter:l._getAdapter()});}else{throw new Error("currently, only axis 1 and 2 are supported");}});q.each(m,function(i,l){M.push({def:l,adapter:l._getAdapter()});p.push([]);});function t(D,E,G){var l=D.length,V,i;if(l===0){return 0;}V=[];for(i=0;i<l;i++){V.push(D[i].adapter(G));}for(i=0,l=E.length;i<l;i++){if(c(E[i],V)){return i;}}E.push(V);return E.length-1;}var u=[];var v=[];q.each(b,function(I,l){var D=t(A,u,l);var E=t(o,v,l);for(var i=0;i<M.length;i++){var G=M[i].adapter(l);if(A.length===0&&o.length===0){if(p[i][0]===undefined){p[i][0]=[];}p[i][0].push(G);}else{(p[i][E]=(p[i][E]||[]))[D]=G;}}if(A.length===0&&o.length===0){D=I;}(s[E]||(s[E]=[]))[D]=l;});var L=u.length;var w=Math.max(v.length,1);for(var j=0;j<w;j++){for(var i=0;i<M.length;i++){var d=p[i][j];if(!d){d=p[i][j]=[];}if(d.length<L){d[L-1]=undefined;}}if(!s[j]){s[j]=[];}if(!s[j].length<L){s[j][L]=undefined;}}var x={};if(A.length>0){if(x.analysisAxis===undefined){x.analysisAxis=[];}var y={index:1,data:[]};for(var i=0;i<A.length;i++){var z=[];for(var j=0;j<u.length;j++){z[j]=u[j][i];}y.data.push({name:A[i].def.getName(),values:z});}x.analysisAxis.push(y);}if(o.length>0){if(x.analysisAxis===undefined){x.analysisAxis=[];}var y={index:2,data:[]};for(var i=0;i<o.length;i++){var z=[];for(var j=0;j<v.length;j++){z[j]=v[j][i];}y.data.push({name:o[i].def.getName(),values:z});}x.analysisAxis.push(y);}if(M.length>0){x.measureValuesGroup=[];for(var i=0;i<M.length;i++){if(!x.measureValuesGroup[M[i].def.getGroup()-1]){x.measureValuesGroup[M[i].def.getGroup()-1]={index:M[i].def.getGroup(),data:[]};}x.measureValuesGroup[M[i].def.getGroup()-1].data.push({name:M[i].def.getName(),values:p[i]});}for(var i=0,B=x.measureValuesGroup.length;i<B;i++){if(x.measureValuesGroup[i]===undefined){throw new Error("Measure Group "+(i+1)+" is missing.");}}}r.dataset=F?new sap.viz.data.CrosstableDataset():new sap.viz.api.data.CrosstableDataset();r.dataset.data(x);if(n){r.dataset.info(n);}r.context=s;return r;}
function g(v,d){var a=(v&&v.value)||v,b=(d&&d.value)||d;return S.defaultComparator(a,b);}
function h(d,m,a,b,p,l){var r={dataset:null,context:null};var n=['_context_row_number'];if(a){if(!e(a)){a=[a];}for(var i=0;i<a.length;++i){var o=a[i];var s=!(o.showInTooltip===false);if(o.id){o=o.id;}n.push({id:o,showInTooltip:s});}}var A=[],M=[],t=[],u={'metadata':{'fields':[]},'context':n,'data':[]},v=[];q.each(d,function(i,j){A.push({def:j,vAdapter:j._getAdapter(),dAdapter:j._getDisplayValueAdapter()});var w=j.getDataType();var x=j.getSorter();var y={'id':j.getIdentity()||j.getName(),'name':j.getName()||j.getIdentity(),'semanticType':'Dimension','dataType':w,'inResult':j._getInResult(),'timeUnitType':j._getTimeUnit()};if(x&&typeof x==="object"){var z={bDescending:x.bDescending};z.fnComparator=function(B,D){var E={value:B&&B.v||B,displayValue:B&&B.d},F={value:D&&D.v||D,displayValue:D&&D.d};var G=(x.fnComparator&&typeof x.fnComparator==="function")?x.fnComparator:g;return G(E,F);};y["sorter"]=z;}u.metadata.fields.push(y);});q.each(m,function(i,j){M.push({def:j,adapter:j._getAdapter()});var w={'id':j.getIdentity()||j.getName(),'name':j.getName()||j.getIdentity(),'semanticType':'Measure'};w.formatString=j.getFormat();if(j.getUnit()){w.unit=j.getUnit();}w.unitBinding=j._getUnitBinding();var R=j.getRange();if(R&&R.length){w.min=R[0];w.max=R[1];}u.metadata.fields.push(w);});if(p){if(p.bEnabled){u.metadata.options={pagination:{mode:p.sMode,ratio:p.thumbRatio}};}}if(!b||b.length===0){r.dataset=new sap.viz.api.data.FlatTableDataset(u);return r;}if(p&&(!l||p.sMode==="reset")){l=[];}q.each(b,function(I,w){if(!u.data[I]){u.data[I]=[];}for(var i=0;i<A.length;i++){var x=A[i].vAdapter(w);if(x instanceof Date){x=x.getTime();}var V=A[i].dAdapter(w);u.data[I].push(V.enableDisplayValue?{v:x,d:V.value}:x);}for(var j=0;j<M.length;j++){var x=M[j].adapter(w);u.data[I].push(x);var U=M[j].def._getUnitBinding();if(U){var y=w.getProperty(U);y=y&&y.trim&&y.trim();if(y){if(t[j]){if(t[j]==="*"||t[j]!==y||(p&&l[j]!==y)){throw C.ERROR_MESSAGE.MULTIPLEUNITS;}}else{t[j]=y;if(p&&!l[j]){l[j]=y;}}}}}v[I]=w;});r.context=v;u.metadata.fields.filter(function(j){return(j.semanticType==="Measure");}).forEach(function(j,w){if(j.unitBinding&&t[w]){j.unit=t[w];delete j.unitBinding;}});r.dataset=new sap.viz.api.data.FlatTableDataset(u);return r;}
var k=function(){this._oCVOMDataset=null;this._aContext=null;this._sDatasetType=null;this._pagingUnit=null;};
k.prototype.getDataset=function(o){if(this._sDatasetType===o.type&&this._oCVOMDataset){return this._oCVOMDataset;}this.invalidate();this._sDatasetType=o.type;var r=null;if(this._sDatasetType===C.DATASET_TYPES.FLATTABLEDATASET){r=h(o.dimensions,o.measures,o.contexts,o.dataContexts,o.pagingOption,this._pagingUnit);}else{r=f(o.dimensions,o.measures,o.dataContexts,o.additionalInfo,this._sDatasetType==C.DATASET_TYPES.CROSSTABLEDATASET?false:true);}this._oCVOMDataset=r.dataset;this._aContext=r.context;return this._oCVOMDataset;};
k.prototype.findContext=function(o){if(this._sDatasetType===C.DATASET_TYPES.FLATTABLEDATASET){if(this._aContext&&typeof o==='object'&&o._context_row_number!==undefined){return this._aContext[o._context_row_number];}}else{if(this._aContext&&typeof o==='object'){return this._aContext[o.dii_a2]&&this._aContext[o.dii_a2][o.dii_a1];}}return null;};
k.prototype.invalidate=function(){this._oCVOMDataset=null;this._aContext=null;};
return k;},true);
sap.ui.predefine('sap/viz/ui5/data/CustomDataset',['sap/viz/library','./Dataset'],function(l,D){"use strict";
var C=D.extend("sap.viz.ui5.data.CustomDataset",{metadata:{library:"sap.viz",properties:{data:{type:"object",group:"Misc"}}}});
C.prototype.getRawDataset=function(){return this.getProperty('data');};
C.prototype.isReady=function(){return true;};
return C;});
sap.ui.predefine('sap/viz/ui5/data/Dataset',['sap/ui/core/Element','sap/viz/library'],function(E,l){"use strict";
var D=E.extend("sap.viz.ui5.data.Dataset",{metadata:{"abstract":true,library:"sap.viz"}});
return D;});
sap.ui.predefine('sap/viz/ui5/data/DimensionDefinition',['sap/ui/core/Element','sap/viz/library'],function(E,l){"use strict";
var D=E.extend("sap.viz.ui5.data.DimensionDefinition",{metadata:{library:"sap.viz",properties:{axis:{type:"int",group:"Misc",defaultValue:null},value:{type:"any",group:"Data",defaultValue:null},name:{type:"string",group:"Misc",defaultValue:null},identity:{type:"string",group:"Misc",defaultValue:null},displayValue:{type:"any",group:"Data",defaultValue:null},dataType:{type:"string",group:"Misc",defaultValue:null},sorter:{type:"object",defaultValue:null}}}});
D.prototype._getAdapter=function(){var t=this,b=this.getBindingInfo("value"),v,p,T,f;if(!b){v=this.getValue();return function(){return v;};}if(b.parts.length>1){throw new Error("DimensionDefinition doesn't support calculated bindings yet");}p=b.parts[0].path;T=b.parts[0].type;f=b.formatter;if(!(T||f)){return function(c){return c.getProperty(p);};}return function(c){var v=c.getProperty(p);if(T){v=T.formatValue(v,"string");}if(f){v=f.call(t,v,c);}return v;};};
D.prototype._getDisplayValueAdapter=function(){var t=this,b=this.getBindingInfo("displayValue"),v,p,T,f,a;if(!b){v=this.getValue();return function(){return{"enableDisplayValue":false,"value":v};};}p=b.parts[0].path;T=b.parts[0].type;a=b.parts;f=b.formatter;if(a.length==1&&!(T||f)){return function(c){return{"enableDisplayValue":true,"value":c.getProperty(p)};};}return function(c){if(a.length>0){var d=[];for(var i=0;i<a.length;i++){d.push(c.getProperty(a[i].path));}if(f){v=f.apply(t,d);}}return{"enableDisplayValue":true,"value":v};};};
D.prototype._setInResult=function(i){this._bInResult=!!i;};
D.prototype._getInResult=function(){return this._bInResult;};
D.prototype._setTimeUnit=function(_){this._sTimeUnit=_;};
D.prototype._getTimeUnit=function(){return this._sTimeUnit;};
return D;});
sap.ui.predefine('sap/viz/ui5/data/FlattenedDataset',['sap/viz/library',"sap/ui/model/ChangeReason","./Dataset","./CVOMDatasetAdaptor","sap/viz/ui5/controls/common/utils/Constants","sap/base/Log","sap/ui/thirdparty/jquery"],function(l,C,D,a,b,L,q){"use strict";
var F=D.extend("sap.viz.ui5.data.FlattenedDataset",{metadata:{library:"sap.viz",designtime:"sap/viz/designtime/FlattenedDataset.designtime",properties:{context:{type:"any",multiple:false,singularName:"context"}},aggregations:{dimensions:{type:"sap.viz.ui5.data.DimensionDefinition",multiple:true,singularName:"dimension"},measures:{type:"sap.viz.ui5.data.MeasureDefinition",multiple:true,singularName:"measure"},data:{type:"sap.ui.core.Element",multiple:true,singularName:"data",bindable:"bindable"}},events:{dataChange:{},dataRefresh:{},dataError:{}}}});
F.getMetadata().getAllAggregations()["data"]._doesNotRequireFactory=true;
F.prototype.init=function(){this._oCVOMDatasetAdaptor=new a();this._iStartIndex=-1;this._iLength=-1;this._bReady=true;this._bInitializeBinding=true;};
F.prototype._bindAggregation=function(){this._bInitializeBinding=true;D.prototype._bindAggregation.apply(this,arguments);this._bInitializeBinding=false;var B=this.getBinding("data");if(B){B.attachDataReceived(this._dataReceivedListener,this);}};
F.prototype._dataReceivedListener=function(e){if(e&&e.getParameter&&e.getParameter("__simulateAsyncAnalyticalBinding")){return;}if(e.getParameter('data')===undefined){this._bDataReceiveError=true;this.fireEvent('dataError');}};
F.prototype.refreshData=function(r){this._bDataReceiveError=false;this._bReady=false;this.fireEvent("dataRefresh",{reason:r});this._getDataContexts();};
F.prototype.updateData=function(r){var V=sap.ui.require("sap/ui/model/odata/v4/ODataModel");var v=V&&this.getBinding("data").getModel()instanceof V;if(!this._bInitializeBinding||!v){this._bDataReceiveError=false;this._bReady=true;this.fireEvent("dataChange",{reason:r});this.invalidate();}};
q.each("add get indexOf insert remove removeAll".split(" "),function(i,m){var M="FlattenedDataset manages the 'data' aggregation only via data binding. The method '"+m+"Data' therefore cannot be used programmatically!";F.prototype[m+"Data"]=function(){L.error(M);};});
F.prototype.getVIZFlatDataset=function(){return this._getCVOMDataset(b.DATASET_TYPES.FLATTABLEDATASET);};
F.prototype.getVIZCrossDataset=function(){return this._getCVOMDataset(b.DATASET_TYPES.CROSSTABLEDATASET);};
F.prototype.getVIZDataset=function(){return this._getCVOMDataset(b.DATASET_TYPES.LEGACYCROSSTABLEDATASET);};
F.prototype._getCVOMDataset=function(t){var d=this._getDataContexts()&&this._getDataContexts().filter(function(e){return!!e;});return this._oCVOMDatasetAdaptor.getDataset({type:t,dataContexts:d,dimensions:this.getDimensions(),measures:this.getMeasures(),additionalInfo:this._info||this._defaultSelectionInfo,contexts:this.getContext(),pagingOption:this._oPagingOption});};
F.prototype.invalidate=function(o){if(this._oCVOMDatasetAdaptor){this._oCVOMDatasetAdaptor.invalidate();}sap.ui.core.Element.prototype.invalidate.apply(this,arguments);};
F.prototype.setDefaultSelection=function(s){this._defaultSelectionInfo={'type':'defaultSelection','value':s};};
F.prototype.info=function(v){if(v instanceof Array){this._info=v;}};
F.prototype.findContext=function(c){if(this._oCVOMDatasetAdaptor){return this._oCVOMDatasetAdaptor.findContext(c);}};
F.prototype.setPagingOption=function(p){this._oPagingOption=p;};
F.prototype.getRenderedPageNo=function(){if(this._oCVOMDatasetAdaptor){return this._oCVOMDatasetAdaptor.getRenderedPageNo();}};
F.prototype.setRange=function(s,i){this._iStartIndex=s;this._iLength=i;};
F.prototype.getRange=function(s,i){return{iStartIndex:this._iStartIndex,iLength:this._iLength};};
F.prototype.isReady=function(){if(this._bDataReceiveError){return true;}return this._bReady;};
F.prototype._getDataContexts=function(){var s=this._iStartIndex,c=this._iLength,d=this.getBinding("data"),V=sap.ui.require("sap/ui/model/odata/v4/ODataModel");if(!d){return null;}var e;if(s==-1){e=this.getBindingInfo("data");s=(e&&e.startIndex!==undefined)?e.startIndex:0;}var n=!this._oPagingOption;if(c==-1){e=e||this.getBindingInfo("data");if(e&&e.length!==undefined){c=e.length;n=false;}else{c=d.getTotalSize?d.getTotalSize():d.getLength();}}if(this._bDataReceiveError){return[];}else if(V&&(d.getModel()instanceof V)){return n?d.getContexts(s,c,Infinity):d.getContexts(s,c);}else{return d.getContexts(s,c);}};
return F;});
sap.ui.predefine('sap/viz/ui5/data/MeasureDefinition',['sap/ui/core/Element','sap/viz/library'],function(E,l){"use strict";
var M=E.extend("sap.viz.ui5.data.MeasureDefinition",{metadata:{library:"sap.viz",properties:{group:{type:"int",group:"Misc",defaultValue:1},value:{type:"any",group:"Data",defaultValue:null},name:{type:"string",group:"Misc",defaultValue:null},identity:{type:"string",group:"Misc",defaultValue:null},format:{type:"any",group:"Misc",defaultValue:null},range:{type:"any[]",group:"Misc",defaultValue:[]},unit:{type:"string",group:"Misc",defaultValue:null}}}});
M.prototype._getAdapter=function(){var t=this,b=this.getBindingInfo("value"),v,p,T,f;if(!b){v=this.getValue();return function(){return v;};}f=b.formatter;if(b.parts.length>1){if(f){return function(c){var V=[];b.parts.forEach(function(I,i){var v=c.getProperty(I.path);if(T){v=T.formatValue(v,"string");}V.push(v);});return f.call(t,V,c);};}else{throw new Error("MeasureDefinition doesn't support calculated bindings yet");}}else{p=b.parts[0].path;T=b.parts[0].type;if(!(T||f)){return function(c){return c.getProperty(p);};}return function(c){var v=c.getProperty(p);if(T){v=T.formatValue(v,"string");}if(f){v=f.call(t,v,c);}return v;};}};
M.prototype._setUnitBinding=function(v){this._sUnitBinding=v;};
M.prototype._getUnitBinding=function(){return this._sUnitBinding;};
return M;});
sap.ui.predefine('sap/viz/ui5/format/ChartFormatter',['sap/ui/core/format/NumberFormat','sap/ui/core/format/DateFormat','sap/ui/core/format/FileSizeFormat'],function(N,D,F){"use strict";var s=":";var f=["MediumYear","MediumMonth","MediumDay","MediumHour","MediumMinute","MediumSecond","YearMonthDay","Quarter","Week","hh:mm","hh:mm:ss","MMM d","YearQuarter","YearMonth"];var C=function(){if(this.caller!=this.getInstance){throw new Error("This object cannot be instantiated");}this.formatFunctions=[];this._updatePatternTable();this._locale=sap.ui.getCore().getConfiguration().getLanguage();this.formatFunctions["hh:00"]=this._getCVOMHourZeroFormatter.bind(this);this.formatFunctions["ss''"]=this._getCVOMSecondFormatter.bind(this);this.formatFunctions["MMM"]=this._getCVOMMonthFormatter.bind(this);this.formatFunctions["d"]=this._getCVOMDayFormater.bind(this);};C.DefaultPattern={SHORTINTEGER:"ShortInteger",STANDARDINTEGER:"StandardInteger",SHORTFLOAT:"ShortFloat",SHORTFLOAT_MFD2:"ShortFloat_MFD2",STANDARDFLOAT:"StandardFloat",LONGFLOAT:"LongFloat",STANDARDPERCENT:"StandardPercent",STANDARDPERCENT_MFD2:"StandardPercent_MFD2",PERCENT:"Percent",STANDARDCURRENCY:"StandardCurrency",CURRENCY:"Currency",MEDIUMYEAR:"MediumYear",MEDIUMQUARTER:"MediumQuarter",QUARTER:"Quarter",MEDIUMMONTH:"MediumMonth",MEDIUMWEEK:"MediumWeek",WEEK:"Week",MEDIUMDAY:"MediumDay",MEDIUMHOUR:"MediumHour",MEDIUMMINUTE:"MediumMinute",MEDIUMSECOND:"MediumSecond",MEDIUMYEARMONTHDAY:"MediumYearMonthDay",YEARMONTHDAY:"YearMonthDay",BINARYFILESIZE:"BinaryFileSize",DECIMALFILESIZE:"DecimalFileSize"};
C.prototype._updatePatternTable=function(){this.formatFunctions["ShortInteger"]=this._getShortIntegerFormatter();this.formatFunctions["StandardInteger"]=this._getStandardIntegerFormatter();this.formatFunctions["ShortFloat"]=this._getShortFloatFormatter();this.formatFunctions["ShortFloat_MFD2"]=this._getShortFloatMFD2Formatter();this.formatFunctions["StandardFloat"]=this._getStandardFloatFormatter();this.formatFunctions["LongFloat"]=this._getLongFloatFormatter();this.formatFunctions["StandardPercent"]=this._getStandardPercentFormatter();this.formatFunctions["StandardPercent_MFD2"]=this._getStandardPercentMFD2Formatter();this.formatFunctions["Percent"]=this._getPercentFormatter();this.formatFunctions["StandardCurrency"]=this._getStandardCurrencyFormatter();this.formatFunctions["Currency"]=this._getCurrencyFormatter();this.formatFunctions["MediumYear"]=this._getMediumYearFormatter();this.formatFunctions["MediumMonth"]=this._getMediumMonthFormatter();this.formatFunctions["MediumDay"]=this._getMediumDayFormatter();this.formatFunctions["MediumHour"]=this._getMediumHourFormatter();this.formatFunctions["MediumMinute"]=this._getMediumMinuteFormatter();this.formatFunctions["MediumSecond"]=this._getMediumSecondFormatter();this.formatFunctions["YearMonthDay"]=this._getYearMonthDayFormatter();this.formatFunctions["BinaryFileSize"]=this._getBinaryFileSizeFormatter();this.formatFunctions["DecimalFileSize"]=this._getDecimalFileSizeFormatter();this.formatFunctions["Quarter"]=this._getQuarterFormatter();this.formatFunctions["Week"]=this._getWeekFormatter();this.formatFunctions["hh:mm"]=this._getHourMinuteFormatter();this.formatFunctions["hh:mm:ss"]=this._getHourMinuteSecondFormatter();this.formatFunctions["MMM d"]=this._getMonthDayFormatter();this.formatFunctions["YearQuarter"]=this._getYearQuarterFormatter();this.formatFunctions["YearMonth"]=this._getYearMonthFormatter();};
C.getInstance=function(){if(!this.instance){this.instance=new C();}return this.instance;};
C.prototype.format=function(v,p,i){if(p){var c=sap.ui.getCore().getConfiguration().getLanguage();if(this._locale!==c){this._locale=c;this._updatePatternTable();}if(!Array.isArray(v)&&isNaN(v)){return v;}if(this.formatFunctions[p]){if(f.indexOf(p)>-1){return this.formatFunctions[p](v,i);}return this.formatFunctions[p](v);}else{return"use_default_formatter";}}return v;};
C.prototype._getShortIntegerFormatter=function(){var n=N.getIntegerInstance({style:'short'});return n.format.bind(n);};
C.prototype._getStandardIntegerFormatter=function(){var n=N.getIntegerInstance({style:'standard'});return n.format.bind(n);};
C.prototype._getShortFloatFormatter=function(){var n=N.getFloatInstance({style:'short'});return n.format.bind(n);};
C.prototype._getShortFloatMFD2Formatter=function(){var n=N.getFloatInstance({style:'short',maxFractionDigits:2});return n.format.bind(n);};
C.prototype._getStandardFloatFormatter=function(){var n=N.getFloatInstance({style:'standard'});return n.format.bind(n);};
C.prototype._getLongFloatFormatter=function(){var n=N.getFloatInstance({style:'long'});return n.format.bind(n);};
C.prototype._getPercentFormatter=function(){var n=N.getPercentInstance({style:'standard'});return n.format.bind(n);};
C.prototype._getStandardPercentFormatter=function(){var n=N.getPercentInstance({style:'standard'});return n.format.bind(n);};
C.prototype._getStandardPercentMFD2Formatter=function(){var n=N.getPercentInstance({style:'standard',maxFractionDigits:2});return n.format.bind(n);};
C.prototype._getCurrencyFormatter=function(){var n=N.getCurrencyInstance({style:'standard'});return n.format.bind(n);};
C.prototype._getStandardCurrencyFormatter=function(){var n=N.getCurrencyInstance({style:'standard'});return n.format.bind(n);};
C.prototype._getMediumYearFormatter=function(){var d=D.getDateTimeInstance({pattern:'yyyy'});return d.format.bind(d);};
C.prototype._getMediumMonthFormatter=function(){var d=D.getDateTimeInstance({pattern:'MMM'});return d.format.bind(d);};
C.prototype._getMediumDayFormatter=function(){var d=D.getDateTimeInstance({pattern:'dd'});return d.format.bind(d);};
C.prototype._getMediumHourFormatter=function(){var d=D.getDateTimeInstance({pattern:'HH'});return d.format.bind(d);};
C.prototype._getMediumMinuteFormatter=function(){var d=D.getDateTimeInstance({pattern:'mm'});return d.format.bind(d);};
C.prototype._getQuarterFormatter=function(){var d=D.getDateInstance({pattern:"qqq"});return d.format.bind(d);};
C.prototype._getWeekFormatter=function(){var d=D.getDateInstance({pattern:"www"});return d.format.bind(d);};
C.prototype._getHourMinuteFormatter=function(){var d=D.getDateTimeInstance({format:"HHmm"});return d.format.bind(d);};
C.prototype._getCVOMHourZeroFormatter=function(v){return this.formatFunctions["MediumHour"](v)+s+"00";};
C.prototype._getHourMinuteSecondFormatter=function(){var d=D.getDateTimeInstance({format:"HHmmss"});return d.format.bind(d);};
C.prototype._getYearQuarterFormatter=function(){var d=D.getDateTimeInstance({format:"yQ"});return d.format.bind(d);};
C.prototype._getYearMonthFormatter=function(){var d=D.getDateTimeInstance({format:"yMMM"});return d.format.bind(d);};
C.prototype._getCVOMSecondFormatter=function(v){return this.formatFunctions["MediumSecond"](v)+"''";};
C.prototype._getCVOMMonthFormatter=function(v){return this.formatFunctions["MediumMonth"](v);};
C.prototype._getCVOMDayFormater=function(v){return this.formatFunctions["MediumDay"](v);};
C.prototype._getMonthDayFormatter=function(){var d=D.getDateTimeInstance({format:"MMMdd"});return d.format.bind(d);};
C.prototype._getMediumSecondFormatter=function(){var d=D.getDateTimeInstance({pattern:'ss'});return d.format.bind(d);};
C.prototype._getYearMonthDayFormatter=function(){var d=D.getDateTimeInstance({format:"yMMMdd"});return d.format.bind(d);};
C.prototype._getBinaryFileSizeFormatter=function(){var a=F.getInstance({binaryFilesize:true});return a.format.bind(a);};
C.prototype._getDecimalFileSizeFormatter=function(){var a=F.getInstance({binaryFilesize:false});return a.format.bind(a);};
C.prototype.registerCustomFormatter=function(p,a){this.formatFunctions[p]=a;};
return C;},true);
sap.ui.predefine('sap/viz/ui5/theming/Util',function(){"use strict";var U={};U._mapping={"sapUiChartLabelHoverColor":["categoryAxis.hoverShadow.color","categoryAxis2.hoverShadow.color","rowAxis.hoverShadow.color","columnAxis.hoverShadow.color","timeAxis.hoverShadow.color"],"sapUiChartLabelPressedColor":["categoryAxis.mouseDownShadow.color","categoryAxis2.mouseDownShadow.color","rowAxis.mouseDownShadow.color","columnAxis.mouseDownShadow.color","timeAxis.mouseDownShadow.color"],"sapUiChartCategoryAxisLabelFontColor":["categoryAxis.label.style.color","categoryAxis2.label.style.color","categoryAxis.label.parentStyle.color","categoryAxis2.label.parentStyle.color","columnAxis.label.style.color","rowAxis.label.style.color","timeAxis.label.style.color","plotArea.callout.label.style.color","plotArea.polarAxis.label.style.color"],"sapUiChartValueAxisLabelFontColor":["valueAxis.label.style.color","valueAxis2.label.style.color","plotArea.valueAxis.label.style.color"],"sapUiChartCategoryAxisLabelFontSize":["categoryAxis.label.style.fontSize","categoryAxis2.label.style.fontSize","categoryAxis.label.parentStyle.fontSize","categoryAxis2.label.parentStyle.fontSize","rowAxis.label.style.fontSize","columnAxis.label.style.fontSize","timeAxis.label.style.fontSize","plotArea.polarAxis.label.style.fontSize"],"sapUiChartValueAxisLabelFontSize":["valueAxis.label.style.fontSize","valueAxis2.label.style.fontSize","plotArea.valueAxis.label.style.fontSize"],"sapUiChartCategoryAxisLineColor":["categoryAxis.color","categoryAxis2.color","timeAxis.color"],"sapUiChartValueAxisLineColor":["valueAxis.color","valueAxis2.color"],"sapUiChartBackgroundColor":["general.background.color","plotArea.background.color","plotArea.referenceLine.defaultStyle.label.background"],"sapUiFontFamily":["plotArea.dataLabel.style.fontFamily","plotArea.dimensionLabel.style.fontFamily","plotArea.referenceLine.defaultStyle.label.fontFamily","plotArea.highlight.centerName.style.fontFamily","plotArea.highlight.centerValue.style.fontFamily","categoryAxis.title.style.fontFamily","categoryAxis2.title.style.fontFamily","categoryAxis.label.style.fontFamily","categoryAxis2.label.style.fontFamily","timeAxis.title.style.fontFamily","timeAxis.label.style.fontFamily","valueAxis.title.style.fontFamily","valueAxis.label.style.fontFamily","valueAxis2.label.style.fontFamily","valueAxis2.title.style.fontFamily","columnAxis.title.style.fontFamily","columnAxis.label.style.fontFamily","rowAxis.title.style.fontFamily","rowAxis.label.style.fontFamily","legend.title.style.fontFamily","legend.label.style.fontFamily","sizeLegend.title.style.fontFamily","sizeLegend.label.style.fontFamily","title.style.fontFamily","plotArea.callout.label.style.fontFamily","plotArea.polarAxis.title.style.fontFamily","plotArea.polarAxis.label.style.fontFamily","plotArea.valueAxis.label.style.fontFamily"],"sapUiChartLabelFontWeight":["plotArea.dataLabel.style.fontWeight","plotArea.dimensionLabel.style.fontWeight","plotArea.referenceLine.defaultStyle.label.fontWeight","plotArea.highlight.centerName.style.fontWeight","plotArea.highlight.centerValue.style.fontWeight","categoryAxis.label.style.fontWeight","categoryAxis2.label.style.fontWeight","timeAxis.label.style.fontWeight","valueAxis.label.style.fontWeight","valueAxis2.label.style.fontWeight","columnAxis.label.style.fontWeight","rowAxis.label.style.fontWeight","legend.label.style.fontWeight","sizeLegend.label.style.fontWeight","plotArea.polarAxis.label.style.fontWeight","plotArea.valueAxis.label.style.fontWeight"],"sapUiChartLegendLabelFontColor":["legend.label.style.color","sizeLegend.label.style.color"],"sapUiChartLegendTitleFontColor":["legend.title.style.color","sizeLegend.title.style.color"],"sapUiChartLegendTitleFontSize":["legend.title.style.fontSize","sizeLegend.title.style.fontSize"],"sapUiChartLegendLabelFontSize":["legend.label.style.fontSize","sizeLegend.label.style.fontSize"],"sapUiChartPaletteUndefinedColor":"plotArea.defaultOthersStyle.color","sapUiChartPaletteSemanticBadLight1":"general.defaultTimePeriodColor","sapUiChartGridlineColor":["plotArea.gridline.color","plotArea.grid.line.color","plotArea.dataLabel.line.color"],"sapUiChartReferenceLineColor":["plotArea.referenceLine.defaultStyle.color","plotArea.referenceLine.defaultStyle.label.background","plotArea.callout.line.color"],"sapUiChartReferenceLineLabelColor":"plotArea.referenceLine.defaultStyle.label.color","sapUiChartDataLabelFontSize":["plotArea.dataLabel.style.fontSize","plotArea.dimensionLabel.style.fontSize","plotArea.referenceLine.defaultStyle.label.fontSize","plotArea.callout.label.style.fontSize"],"sapUiChartScrollBarThumbColor":["plotArea.scrollbar.thumb.fill","legend.scrollbar.thumb.fill"],"sapUiChartScrollBarTrackColor":["plotArea.scrollbar.track.fill","legend.scrollbar.track.fill"],"sapUiChartScrollBarThumbHoverColor":["plotArea.scrollbar.thumb.hoverFill","legend.scrollbar.thumb.hoverFill"],"sapUiChartScrollbarThumbPadding":["plotArea.scrollbar.spacing","legend.scrollbar.spacing"],"sapUiChartScrollbarBorderColor":["plotArea.scrollbar.border.color","legend.scrollbar.border.color"],"sapUiChartScrollbarBorderSize":["plotArea.scrollbar.border.width","legend.scrollbar.border.width"],"sapUiChartMainTitleFontColor":"title.style.color","sapUiChartAxisTitleFontColor":["categoryAxis.title.style.color","categoryAxis2.title.style.color","valueAxis.title.style.color","valueAxis2.title.style.color","columnAxis.title.style.color","rowAxis.title.style.color","timeAxis.title.style.color","plotArea.polarAxis.title.style.color","plotArea.valueAxis.title.style.color"],"sapUiChartMainTitleFontSize":"title.style.fontSize","sapUiChartAxisTitleFontSize":["categoryAxis.title.style.fontSize","categoryAxis2.title.style.fontSize","valueAxis.title.style.fontSize","valueAxis2.title.style.fontSize","columnAxis.title.style.fontSize","rowAxis.title.style.fontSize","timeAxis.title.style.fontSize","plotArea.polarAxis.title.style.fontSize","plotArea.valueAxis.title.style.fontSize"],"sapUiChartAxisTitleFontWeight":["categoryAxis.title.style.fontWeight","categoryAxis2.title.style.fontWeight","valueAxis.title.style.fontWeight","valueAxis2.title.style.fontWeight","columnAxis.title.style.fontWeight","rowAxis.title.style.fontWeight","timeAxis.title.style.fontWeight","plotArea.polarAxis.title.style.fontWeight","plotArea.valueAxis.title.style.fontWeight"],"sapUiChartTitleFontWeight":["title.style.fontWeight","legend.title.style.fontWeight","categoryAxis.label.parentStyle.fontWeight","categoryAxis2.label.parentStyle.fontWeight","plotArea.callout.label.style.fontWeight"],"sapUiChartDataPointBorderColor":["plotArea.dataPoint.stroke.color","plotArea.area.stroke.color","interaction.deselected.stroke.color"],"sapUiChartDataPointBorderHoverSelectedColor":["interaction.hover.stroke.color","interaction.selected.stroke.color"],"sapUiChartDataPointNotSelectedBackgroundOpacity":"interaction.deselected.opacity","sapUiChartTargetColor":["plotArea.target.valueColor","plotArea.linkline.color"],"sapUiChartTargetShadowColor":"plotArea.target.shadowColor","sapUiChartBubbleBGOpacity":"plotArea.dataPoint.opacity","sapUiGroupContentBackground":"tooltip.background.color","sapVizChartTooltipBorderStroke":["tooltip.background.borderColor","tooltip.separationLine.color"],"sapUiChartPopoverDataItemFontColor":["tooltip.bodyDimensionLabel.color","tooltip.bodyDimensionValue.color","tooltip.bodyMeasureLabel.color","tooltip.bodyMeasureValue.color","tooltip.footerLabel.color"],"sapUiChartLegendHoverBackground":["legend.hoverShadow.color"],"sapUiChartLegendSelectionBackground":["legend.mouseDownShadow.color"],"sapUiChartLegendSelectionHoverBackground":["legend.hoverSelectedShadow.color"],"sapUiChartPaletteSemanticNeutral":["plotArea.dataPoint.color.total"],"sapUiChartPaletteQualitativeHue1":["plotArea.dataPoint.color.positive"],"sapUiChartPaletteQualitativeHue2":["plotArea.dataPoint.color.negative"],"sapUiChartLightText":["timeAxis.label.style.parentColor"],"sapUiChartZeroAxisColor":["plotArea.gridline.zeroLine.color"],"sapUiChartDataLabelFontColor":["plotArea.dataLabel.style.color"],"sapUiChartFocusWidth":["interaction.keyboard.width"],"sapUiContentFocusColor":["interaction.keyboard.color"]};(function(){var i=(sap.ui.Device.system.tablet||sap.ui.Device.system.phone);if(i){U._mapping["sapUiChartBackgroundColor"]=["general.background.color","plotArea.background.color","plotArea.referenceLine.defaultStyle.label.background","plotArea.scrollbar.track.fill","legend.scrollbar.track.fill"];U._mapping["sapUiChartScrollBarThumbColor"]=[];U._mapping["sapUiChartScrollBarTrackColor"]=[];U._mapping["sapUiChartScrollBarThumbHoverColor"]=["plotArea.scrollbar.thumb.hoverFill","legend.scrollbar.thumb.hoverFill","plotArea.scrollbar.thumb.fill","legend.scrollbar.thumb.fill"];}else{U._mapping["sapUiChartBackgroundColor"]=["general.background.color","plotArea.background.color","plotArea.referenceLine.defaultStyle.label.background"];U._mapping["sapUiChartScrollBarThumbColor"]=["plotArea.scrollbar.thumb.fill","legend.scrollbar.thumb.fill"];U._mapping["sapUiChartScrollBarTrackColor"]=["plotArea.scrollbar.track.fill","legend.scrollbar.track.fill"];U._mapping["sapUiChartScrollBarThumbHoverColor"]=["plotArea.scrollbar.thumb.hoverFill","legend.scrollbar.thumb.hoverFill"];}})();U._exclude={"valueAxis.color":["*dual*"],"valueAxis.title.style.color":["*dual*"],"valueAxis2.color":["*dual*"],"valueAxis2.title.style.color":["*dual*"],"interaction.hover.stroke.color":["*pie*","*donut*"]};
U.readCSSParameters=function(c,C){var p={};var m=U._mapping;var e=U._exclude;for(var k in m){if(m.hasOwnProperty(k)){var v=sap.ui.core.theming.Parameters.get(k,C);if(v){var a=v.indexOf('rem');if(a>-1){var t=v.substring(0,a);v=t*parseFloat(window.getComputedStyle(document.documentElement).fontSize)+'px';}var b=m[k];if(Object.prototype.toString.call(b)==='[object Array]'){for(var i=0;i<b.length;i++){if(!f(e,b[i],c)){d(p,b[i],v);}}}else{if(!f(e,b,c)){d(p,b,v);}}}}}return p;function d(p,b,v){var g=b.split('.');var h=p;for(var i=0;i<g.length-1;i++){var k=g[i];if(h[k]==undefined||h[k]==null){h[k]={};}h=h[k];}k=g[i];h[k]=v;}function f(e,b,c){var r=false;if(e.hasOwnProperty(b)){var g=e[b];for(var i=0;i<g.length;i++){var h=g[i].replace(/\*/g,'.*').replace(/\?/g,'.').replace(/\|/g,'$|^');var j=RegExp('^'+h+'$');if(j.test(c)){r=true;break;}}}return r;}};
return U;},true);
sap.ui.predefine('sap/viz/ui5/utils/CommonUtil',function(){"use strict";var C={};
C.extendScales=function(){var o={},t=arguments[0]||[],i=0,l=t.length,r=[];for(;i<l;i++){o[t[i].feed]=t[i];}for(i=1,l=arguments.length;i<l;i++){var s=arguments[i];for(var j=0,a=s.length;j<a;j++){o[s[j].feed]=s[j];}}for(i in o){r.push(o[i]);}return r;};
return C;});
/*!
 * SAPUI5

(c) Copyright 2009-2021 SAP SE. All rights reserved
 * set specific properties to align the Fiori UX standard at runtime according to chart type and feeding
 */
sap.ui.predefine('sap/viz/ui5/controls/common/helpers/RuntimeOptionsHelper',["sap/ui/thirdparty/jquery"],function(q){"use strict";var R={};
R.decorateFiori=function(o,f,v){return R._processCategoryTicker(o,f,v);};
R.processBulletProperty=function(s,a){var p=a.plotArea;if(p){var k=['colorPalette','actualColor','additionalColor','forecastColor'];for(var i=0;i<k.length;++i){if(p.hasOwnProperty(k[i])){if(p[k[i]]){s.plotArea[k[i]]=p[k[i]];}else{delete s.plotArea[k[i]];}}}}};
R.processWaterfallProperty=function(s,i){var p=i.plotArea;if(p){if(p.dataLabel&&p.dataLabel.hasOwnProperty('showRecap')){q.extend(true,s.plotArea,{dataLabel:{showRecap:p.dataLabel.showRecap}});}else{if(s.plotArea.dataLabel&&s.plotArea.dataLabel.hasOwnProperty('showRecap')){delete s.plotArea.dataLabel.showRecap;}}if(p.dataPoint&&p.dataPoint.color&&p.dataPoint.color.hasOwnProperty('isSemanticColoring')){q.extend(true,s.plotArea,{dataPoint:{color:{isSemanticColoring:p.dataPoint.color.isSemanticColoring}}});}else{if(s.plotArea.dataPoint&&s.plotArea.dataPoint.color&&s.plotArea.dataPoint.color.hasOwnProperty('isSemanticColoring')){delete s.plotArea.dataPoint.color.isSemanticColoring;}}}};
R.decorateBullet=function(o,f){if(!f||f.length===0){return;}q.extend(true,o.properties,{plotArea:{}});var p=o.properties.plotArea;if(p.colorPalette){if(!p.actualColor||p.actualColor.length===0){p.actualColor=[p.colorPalette[0]];}if(!p.additionalColor||p.additionalColor.length===0){p.additionalColor=[p.colorPalette[1]];}}var n=f.length;var O=false;var a=0;var b=0;var h=0;for(var i=0;!O&&i<n;++i){var c=f[i].getUid();var v=f[i].getValues();if(v&&v.length){switch(c){case'color':h=true;break;case'primaryValues':O=true;break;case'actualValues':a+=v.length;break;case'additionalValues':case'forecastValues':b+=v.length;break;default:break;}}}if(O||(!h&&a<2)||b===0){if(!p.additionalColor){p.additionalColor=["sapUiChartPaletteSequentialHue2Light1"];}if(!p.forecastColor){p.forecastColor=["sapUiChartPaletteSequentialNeutralLight3"];}if(!p.actualColor){p.actualColor=["sapUiChartPaletteSequentialHue1Light1","sapUiChartPaletteQualitativeHue2","sapUiChartPaletteQualitativeHue3","sapUiChartPaletteQualitativeHue4","sapUiChartPaletteQualitativeHue5","sapUiChartPaletteQualitativeHue6","sapUiChartPaletteQualitativeHue7","sapUiChartPaletteQualitativeHue8","sapUiChartPaletteQualitativeHue9","sapUiChartPaletteQualitativeHue10","sapUiChartPaletteQualitativeHue11","sapUiChartPaletteQualitativeHue12","sapUiChartPaletteQualitativeHue13","sapUiChartPaletteQualitativeHue14","sapUiChartPaletteQualitativeHue15","sapUiChartPaletteQualitativeHue16","sapUiChartPaletteQualitativeHue17","sapUiChartPaletteQualitativeHue18","sapUiChartPaletteQualitativeHue19","sapUiChartPaletteQualitativeHue20","sapUiChartPaletteQualitativeHue21","sapUiChartPaletteQualitativeHue22"];}}else{if(!p.additionalColor){p.additionalColor=["sapUiChartPaletteSequentialHue1Light2","sapUiChartPaletteSequentialHue2Light2","sapUiChartPaletteSequentialHue3Light2","sapUiChartPaletteSequentialNeutralLight2"];}if(!p.forecastColor){p.forecastColor=["sapUiChartPaletteSequentialHue1Light2","sapUiChartPaletteSequentialHue2Light2","sapUiChartPaletteSequentialHue3Light2","sapUiChartPaletteSequentialNeutralLight2"];}if(!p.actualColor){p.actualColor=["sapUiChartPaletteSequentialHue1","sapUiChartPaletteSequentialHue2","sapUiChartPaletteSequentialHue3","sapUiChartPaletteSequentialNeutral"];}}return o;};
R.decorateTimeBullet=function(o){q.extend(true,o.properties,{plotArea:{}});var p=o.properties.plotArea;if(!p.actualColor){p.actualColor=["sapUiChartPaletteSequentialHue1","sapUiChartPaletteSequentialHue2","sapUiChartPaletteSequentialHue3","sapUiChartPaletteSequentialNeutral"];}if(!p.additionalColor){p.additionalColor=["sapUiChartPaletteSequentialHue1Light2","sapUiChartPaletteSequentialHue2Light2","sapUiChartPaletteSequentialHue3Light2","sapUiChartPaletteSequentialNeutralLight2"];}};
R.decorateWaterfall=function(o,f){if(!f||f.length===0){return;}var m=false;for(var i=0;i<f.length;i++){var a=f[i].getUid();var v=f[i].getValues();if(a==='valueAxis'&&v.length>1){m=true;}else if(a==='color'&&v.length>0){m=true;}}q.extend(true,o.properties,{plotArea:{dataLabel:{showRecap:m},dataPoint:{color:{isSemanticColoring:!m}}}});};
R._processCategoryTicker=function(o,f,v){if(!f||f.length===0){return;}var V={};q.extend(true,V,o.properties,{categoryAxis:{axisTick:{}}});var a;var t=o.type;if(t==="info/heatmap"){q.extend(true,V,{categoryAxis2:{axisTick:{}}});a=V.categoryAxis2.axisTick;}var b=V.categoryAxis.axisTick;var l=f.length;var c=true;var s=null;var i,d,e;var m=0,g=0,h=0,j=0,k=0,n=false,p=false,r=0;for(i=0;i<l;++i){d=f[i].getUid();e=f[i].getValues();if(!e){continue;}if(d==="primaryValues"||d==="valueAxis"){m=e.length;}else if(d==="color"){g=e.length;n=e.indexOf("MeasureNamesDimension")>=0;}else if(d==="axisLabels"||d==="categoryAxis"){h=e.length;p=e.indexOf("MeasureNamesDimension")>=0;}else if(d==="actualValues"){j=e.length;}else if(d==="valueAxis2"){r=e.length;}else if(d==="categoryAxis2"){k=e.length;}}var u,w;if(["info/dual_horizontal_stacked_combination","info/dual_stacked_combination"].indexOf(t)>=0){u=1;w=1;}else{u=1;w=0;}var x,y;var z={};q.extend(true,z,(v&&v.plotArea)||{},o.properties.plotArea);if(z&&z.dataShape&&z.dataShape.primaryAxis){x=z.dataShape.primaryAxis;y=Math.min(x.length,m);u=0;for(i=0;i<y;++i){if(x[i]==="bar"){u++;}}}if(z&&z.dataShape&&z.dataShape.secondaryAxis){x=z.dataShape.secondaryAxis;y=Math.min(x.length,r);w=0;for(i=0;i<y;++i){if(x[i]==="bar"){w++;}}}var A=u+w===1;if(t==="info/column"||t==="info/bar"){if(!(g>1||(g===1&&!n)||(g===1&&n&&m>1)||(!p&&!n&&m>1))){if(h>1){s=false;}else{c=false;}}}else if(["info/stacked_bar","info/stacked_column","info/100_stacked_bar","info/100_stacked_column","info/waterfall","info/horizontal_waterfall"].indexOf(t)>=0){if(h>1){s=false;}else{c=false;}}else if(["info/stacked_combination","info/horizontal_stacked_combination","info/dual_horizontal_stacked_combination","info/dual_stacked_combination"].indexOf(t)>=0){if(A){if(h>1){s=false;}else{c=false;}}}else if(["info/combination","info/dual_horizontal_combination","info/dual_combination"].indexOf(t)>=0){if(A&&(g===0||(g===1&&n))){if(h>1){s=false;}else{c=false;}}}else if(t==="info/bullet"||t==="info/vertical_bullet"){if(g===0&&j<=1){if(h>1){s=false;}else{c=false;}}}if(t==="info/heatmap"){if(!(b.visible===true||b.visible===false)){b.visible=(h>1);}if(!(a.visible===true||a.visible===false)){a.visible=(k>1);}if(b.shortTickVisible==null&&h>1){b.shortTickVisible=false;}if(a.shortTickVisible==null&&k>1){a.shortTickVisible=false;}}else{if(!(b.visible===true||b.visible===false)){b.visible=c;}if(b.shortTickVisible==null){b.shortTickVisible=s;}}return V;};
return R;});
sap.ui.require.preload({
	"sap/viz/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.viz","type":"library","embeds":[],"applicationVersion":{"version":"1.88.0"},"title":"Chart controls based on the SAP BI CVOM charting library","description":"Chart controls based on the SAP BI CVOM charting library","ach":"BI-CVM-UI5","resources":"resources.json","offline":true,"openSourceComponents":[{"name":"canvg","packagedWithMySelf":true,"version":"1.2"},{"name":"RaphaelJS","packagedWithMySelf":true,"version":"2.1.0"},{"name":"rgb-color","packagedWithMySelf":true,"version":"2006-02-23"}]},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal","sap_fiori_3","sap_fiori_3_dark","sap_fiori_3_hcb","sap_fiori_3_hcw","sap_hcb","sap_platinum"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.88","libs":{"sap.ui.core":{"minVersion":"1.88.0"},"sap.m":{"minVersion":"1.88.0","lazy":true},"sap.ui.layout":{"minVersion":"1.88.0","lazy":true}}},"library":{"i18n":false,"content":{"controls":["sap.viz.ui5.VizContainer","sap.viz.ui5.controls.Popover","sap.viz.ui5.controls.VizTooltip","sap.viz.ui5.controls.VizFrame","sap.viz.ui5.controls.VizSlider","sap.viz.ui5.controls.common.BaseControl","sap.viz.ui5.core.BaseChart","sap.viz.ui5.Area","sap.viz.ui5.Area100","sap.viz.ui5.Bar","sap.viz.ui5.Bubble","sap.viz.ui5.Bullet","sap.viz.ui5.Column","sap.viz.ui5.Combination","sap.viz.ui5.Donut","sap.viz.ui5.DualBar","sap.viz.ui5.DualColumn","sap.viz.ui5.DualCombination","sap.viz.ui5.DualLine","sap.viz.ui5.DualStackedColumn","sap.viz.ui5.DualStackedColumn100","sap.viz.ui5.Heatmap","sap.viz.ui5.HorizontalArea","sap.viz.ui5.HorizontalArea100","sap.viz.ui5.Line","sap.viz.ui5.Pie","sap.viz.ui5.Scatter","sap.viz.ui5.StackedColumn","sap.viz.ui5.StackedColumn100","sap.viz.ui5.TimeBubble","sap.viz.ui5.Treemap"],"elements":["sap.viz.ui5.controls.common.feeds.AnalysisObject","sap.viz.ui5.controls.common.feeds.FeedItem","sap.viz.ui5.core.BaseStructuredType","sap.viz.ui5.data.Dataset","sap.viz.ui5.data.CustomDataset","sap.viz.ui5.data.DimensionDefinition","sap.viz.ui5.data.FlattenedDataset","sap.viz.ui5.data.MeasureDefinition","sap.viz.ui5.types.Area","sap.viz.ui5.types.Area_animation","sap.viz.ui5.types.Area_hoverline","sap.viz.ui5.types.Area_marker","sap.viz.ui5.types.Area_tooltip","sap.viz.ui5.types.Axis","sap.viz.ui5.types.Axis_axisTick","sap.viz.ui5.types.Axis_axisline","sap.viz.ui5.types.Axis_gridline","sap.viz.ui5.types.Axis_indicator","sap.viz.ui5.types.Axis_label","sap.viz.ui5.types.Axis_layoutInfo","sap.viz.ui5.types.Axis_scale","sap.viz.ui5.types.Axis_title","sap.viz.ui5.types.Background","sap.viz.ui5.types.Background_border","sap.viz.ui5.types.Background_border_bottom","sap.viz.ui5.types.Background_border_left","sap.viz.ui5.types.Background_border_right","sap.viz.ui5.types.Background_border_top","sap.viz.ui5.types.Bar","sap.viz.ui5.types.Bar_animation","sap.viz.ui5.types.Bar_tooltip","sap.viz.ui5.types.Bubble","sap.viz.ui5.types.Bubble_animation","sap.viz.ui5.types.Bubble_axisTooltip","sap.viz.ui5.types.Bubble_hoverline","sap.viz.ui5.types.Bullet","sap.viz.ui5.types.Bullet_tooltip","sap.viz.ui5.types.Combination","sap.viz.ui5.types.Combination_animation","sap.viz.ui5.types.Combination_bar","sap.viz.ui5.types.Combination_dataShape","sap.viz.ui5.types.Combination_line","sap.viz.ui5.types.Combination_line_marker","sap.viz.ui5.types.Combination_tooltip","sap.viz.ui5.types.Datalabel","sap.viz.ui5.types.Datatransform","sap.viz.ui5.types.Datatransform_autoBinning","sap.viz.ui5.types.Datatransform_dataSampling","sap.viz.ui5.types.Datatransform_dataSampling_grid","sap.viz.ui5.types.Heatmap","sap.viz.ui5.types.Heatmap_animation","sap.viz.ui5.types.Heatmap_border","sap.viz.ui5.types.Heatmap_tooltip","sap.viz.ui5.types.Legend","sap.viz.ui5.types.Legend_layout","sap.viz.ui5.types.Line","sap.viz.ui5.types.Line_animation","sap.viz.ui5.types.Line_hoverline","sap.viz.ui5.types.Line_marker","sap.viz.ui5.types.Line_tooltip","sap.viz.ui5.types.Pie","sap.viz.ui5.types.Pie_animation","sap.viz.ui5.types.Pie_tooltip","sap.viz.ui5.types.RootContainer","sap.viz.ui5.types.RootContainer_layout","sap.viz.ui5.types.Scatter","sap.viz.ui5.types.Scatter_animation","sap.viz.ui5.types.Scatter_axisTooltip","sap.viz.ui5.types.Scatter_hoverline","sap.viz.ui5.types.StackedVerticalBar","sap.viz.ui5.types.StackedVerticalBar_animation","sap.viz.ui5.types.StackedVerticalBar_tooltip","sap.viz.ui5.types.Title","sap.viz.ui5.types.Title_layout","sap.viz.ui5.types.Tooltip","sap.viz.ui5.types.Tooltip_background","sap.viz.ui5.types.Tooltip_bodyDimensionLabel","sap.viz.ui5.types.Tooltip_bodyDimensionValue","sap.viz.ui5.types.Tooltip_bodyMeasureLabel","sap.viz.ui5.types.Tooltip_bodyMeasureValue","sap.viz.ui5.types.Tooltip_closeButton","sap.viz.ui5.types.Tooltip_footerLabel","sap.viz.ui5.types.Tooltip_separationLine","sap.viz.ui5.types.Treemap","sap.viz.ui5.types.Treemap_animation","sap.viz.ui5.types.Treemap_border","sap.viz.ui5.types.Treemap_tooltip","sap.viz.ui5.types.VerticalBar","sap.viz.ui5.types.VerticalBar_animation","sap.viz.ui5.types.VerticalBar_tooltip","sap.viz.ui5.types.XYContainer","sap.viz.ui5.types.controller.Interaction","sap.viz.ui5.types.controller.Interaction_pan","sap.viz.ui5.types.controller.Interaction_selectability","sap.viz.ui5.types.layout.Dock","sap.viz.ui5.types.layout.Stack","sap.viz.ui5.types.legend.Common","sap.viz.ui5.types.legend.Common_title"],"types":["sap.viz.ui5.types.Area_drawingEffect","sap.viz.ui5.types.Area_marker_shape","sap.viz.ui5.types.Area_mode","sap.viz.ui5.types.Area_orientation","sap.viz.ui5.types.Axis_gridline_type","sap.viz.ui5.types.Axis_label_unitFormatType","sap.viz.ui5.types.Axis_position","sap.viz.ui5.types.Axis_type","sap.viz.ui5.types.Background_direction","sap.viz.ui5.types.Background_drawingEffect","sap.viz.ui5.types.Bar_drawingEffect","sap.viz.ui5.types.Bar_orientation","sap.viz.ui5.types.Bubble_drawingEffect","sap.viz.ui5.types.Bullet_drawingEffect","sap.viz.ui5.types.Bullet_orientation","sap.viz.ui5.types.Combination_drawingEffect","sap.viz.ui5.types.Combination_orientation","sap.viz.ui5.types.Datalabel_orientation","sap.viz.ui5.types.Datalabel_outsidePosition","sap.viz.ui5.types.Datalabel_paintingMode","sap.viz.ui5.types.Datalabel_position","sap.viz.ui5.types.Legend_layout_position","sap.viz.ui5.types.Line_drawingEffect","sap.viz.ui5.types.Line_marker_shape","sap.viz.ui5.types.Line_orientation","sap.viz.ui5.types.Pie_drawingEffect","sap.viz.ui5.types.Pie_valign","sap.viz.ui5.types.Scatter_drawingEffect","sap.viz.ui5.types.StackedVerticalBar_drawingEffect","sap.viz.ui5.types.StackedVerticalBar_mode","sap.viz.ui5.types.StackedVerticalBar_orientation","sap.viz.ui5.types.Title_alignment","sap.viz.ui5.types.Tooltip_drawingEffect","sap.viz.ui5.types.VerticalBar_drawingEffect","sap.viz.ui5.types.VerticalBar_orientation","sap.viz.ui5.types.controller.Interaction_pan_orientation","sap.viz.ui5.types.controller.Interaction_selectability_mode","sap.viz.ui5.types.legend.Common_alignment","sap.viz.ui5.types.legend.Common_drawingEffect","sap.viz.ui5.types.legend.Common_position","sap.viz.ui5.types.legend.Common_type"],"interfaces":[]}}}}',
	"sap/viz/resources/chart/templates/standard_fiori/template.js":function(){
/* the subsequent text seems not to contain a copyright or license statement */
(function(){var t=Object.prototype.toString;
function c(i){return t.call(i)==='[object Array]';}
function d(i){return t.call(i)==='[object Object]';}
function _(a,b){for(var e in b){if(c(b[e])){a[e]=b[e].slice();}else if(d(b[e])){a[e]=a[e]||{};_(a[e],b[e]);}else{a[e]=b[e];}}return a;}
function m(){var a={};for(var i=0;i<arguments.length;++i){_(a,arguments[i]);}return a;}
var f="#333333";var g="#d8d8d8";var p=["#5cbae6","#b6d957","#fac364","#8cd3ff","#d998cb","#fade64","#93b9c6","#d9d6c7","#52bacc","#dce65c","#98aafb"];var h={background:{border:{top:{visible:false},bottom:{visible:false},left:{visible:false},right:{visible:false}},drawingEffect:"normal"}};var j={title:{visible:true}};var l={legend:{selectionFeedback:true,drawingEffect:"normal",title:{visible:false},marker:{shape:"square",showLine:true,size:14}}};var k={plotArea:{drawingEffect:"normal",dataPointStyleMode:"override",colorPalette:p,dataPoint:{stroke:{visible:true,color:'#ffffff'}},marker:{hoverOnlyMode:false},dataLabel:{distance:0,line:{color:"#e5e5e5",visible:false},style:{colorRange:"outside",color:"#000000"}},gridline:{zeroLine:{unhighlightAxis:false,color:"#666666"}},radius:0.33}};var n={general:{'groupData':true,'layout':{'padding':16,'isFixedPadding':true}},categoryAxis:{'title':{'style':{'color':"#333",'fontSize':"12px",'fontWeight':"regular",'letterSpacing':"0.5"}}},categoryAxis2:{'title':{'style':{'color':"#333",'fontSize':"12px",'fontWeight':"regular",'letterSpacing':"0.5"}}},valueAxis:{'title':{'style':{'color':"#333",'fontSize':"12px",'fontWeight':"regular",'letterSpacing':"0.5"}}},valueAxis2:{'title':{'style':{'color':"#333",'fontSize':"12px",'fontWeight':"regular",'letterSpacing':"0.5"}}},timeAxis:{'title':{'style':{'color':"#333",'fontSize':"12px",'fontWeight':"regular",'letterSpacing':"0.5"}}}};var o={interaction:{deselected:{stroke:{visible:true,color:'#ffffff'},opacity:0.6},hover:{stroke:{color:"#666666"}},selected:{stroke:{color:"#666666",width:"2px"}},zoom:{enablement:'enabled',direction:'categoryAxis'},enableKeyboard:true}};var q={plotArea:{dataPointStyleMode:"override",dataLabel:{style:{colorRange:"outside",color:"#000000"}},dataPoint:{stroke:{visible:true,color:'#ffffff'}},marker:{hoverOnlyMode:false},drawingEffect:"normal",primaryValuesColorPalette:["#5cbae5","#27a3dd","#1b7eac"],secondaryValuesColorPalette:["#b6d957","#9dc62d","#759422"],gridline:{zeroLine:{unhighlightAxis:false,color:"#666666"}}}};var z={zAxis:{title:{visible:true},color:f}};var r={title:{visible:true},gridline:{color:g},color:f};var s={axisline:{visible:true}};var u={axisLine:{visible:true}};var v={axisline:{visible:false}};var w={axisLine:{visible:false}};var x={axisTick:{visible:false}};var y={gridline:{type:"line",color:g,showLastLine:true}};var A={gridline:{type:"line",color:g,showFirstLine:true}};var B={title:{applyAxislineColor:true}};var C=m(j,n);var D=m(h,l,o,k);var E=m(h,l,o,q);var F={xAxis:m(r,v,y),yAxis:m(r),xAxis2:m(r,v)};var G={categoryAxis:{layout:{maxWidth:0.5}}};var H=m(F,{xAxis:B,xAxis2:B});var I={yAxis:m(r,v,A),xAxis:r,yAxis2:m(r,v)};var J=m(I,{yAxis:B,yAxis2:B});var K=m(D,F);var L=m(D,z,F);var M=m(E,H);var N=m(D,I);var O=m(D,z,I);var P=m(E,J);var Q=m(D,F);var R=m(E,H);var S=m(D,I);var T=m(D,{plotArea:{area:{stroke:{visible:true,color:'#ffffff'}}}});var U=m(E,J);var V=m(D,I);var W=m(E,J);var X=m(D,F);var Y=m(E,H);var Z=m(D,I);var $=m(E,J);var a1=m(D,F);var b1=m(E,H);var c1=m(D,{yAxis:m(r,v,y),xAxis:r});var d1=m(l,k,o,{plotArea:{dataLabel:{type:"percentage"},alignment:{vertical:"center"}},interaction:{hover:{stroke:{color:"darken(0%)"}}}});var e1=d1;var f1=m(l,k,{background:{visible:false},plotArea:{valueAxis:{gridline:{color:g}},dataline:{fill:{transparency:0}},polarAxis:{title:{style:{letterSpacing:"0.5"}}},valueAxis:{title:{style:{letterSpacing:"0.5"}}}}});var g1=m(D,{yAxis:m(r,v,{gridline:{type:"line"}}),xAxis:m(r,s),xAxis2:m(r,s)});var h1=m(D,{xAxis:m(r,v,{gridline:{type:"line"}}),yAxis:m(r,s),yAxis2:m(r,s)});var i1=m(l,h,k,o,{valueAxis:{title:{visible:true}},categoryAxis:{title:{visible:true}},plotArea:{dataPoint:{stroke:{visible:true,color:"#ffffff"}},actualColor:["#27a3dd","#9dc62d","#f8ac29","#848f94"],additionalColor:["#84caec","#c6e17d","#fbd491","#bac1c4"],forecastColor:["#84caec","#c6e17d","#fbd491","#bac1c4"],gridline:{visible:true},target:{valueColor:"#343434",shadowColor:"#ffffff"}}});var j1={legend:{title:{visible:true}},plotArea:{dataLabel:{style:{colorRange:"outside",color:"#000000"}}}};var k1=m(l,{plotArea:{dataLabel:{style:{colorRange:"outside",color:"#000000"}}}});var l1={plotArea:{datapoint:{color:{positive:"#61a656",negative:"#d32030",total:"#69767c"}}}};var m1={plotArea:{linkline:{size:2}}};var n1={legend:{visible:true,title:{visible:true},label:{text:{negativeValue:'< 0',positiveValue:'> 0'}}}};var o1=C1(m(N,l1));var p1=m(S,l1);var q1=C1(m(K,l1));;var r1=m(Q,l1);var s1={plotArea:{gap:{barSpacing:0.5,groupSpacing:0.65}}};var t1={plotArea:{gap:{innerGroupSpacing:0,barSpacing:0.5,groupSpacing:1}}};sap.viz.extapi.env.Template.register({id:"standard_fiori",name:"Default Standard Fiori Template",version:"5.13.0",properties:{'viz/bar':K,'viz/3d_bar':L,'viz/image_bar':K,'viz/multi_bar':K,'viz/dual_bar':M,'viz/multi_dual_bar':M,'viz/column':N,'viz/3d_column':O,'viz/multi_column':N,'viz/dual_column':P,'viz/multi_dual_column':P,'viz/stacked_bar':Q,'viz/multi_stacked_bar':Q,'viz/dual_stacked_bar':R,'viz/multi_dual_stacked_bar':R,'viz/100_stacked_bar':Q,'viz/multi_100_stacked_bar':Q,'viz/100_dual_stacked_bar':R,'viz/multi_100_dual_stacked_bar':R,'viz/stacked_column':S,'viz/multi_stacked_column':S,'viz/dual_stacked_column':U,'viz/multi_dual_stacked_column':U,'viz/100_stacked_column':S,'viz/multi_100_stacked_column':S,'viz/100_dual_stacked_column':U,'viz/multi_100_dual_stacked_column':U,'riv/cbar':m(l,k,{background:{drawingEffect:"normal"},yAxis:r}),'viz/combination':Z,'viz/horizontal_combination':a1,'viz/dual_combination':$,'viz/dual_horizontal_combination':b1,'viz/boxplot':m(D,{yAxis:m(r,v,A),xAxis:r}),'viz/horizontal_boxplot':m(D,{xAxis:m(r,v,y),yAxis:r}),'viz/waterfall':m(D,{yAxis:m(r,v,A),xAxis:{title:{visible:true},color:f}}),'viz/horizontal_waterfall':m(D,{xAxis:m(r,v,y),yAxis:{title:{visible:true},color:f}}),'viz/stacked_waterfall':S,'viz/horizontal_stacked_waterfall':Q,'viz/line':V,'viz/multi_line':V,'viz/dual_line':W,'viz/multi_dual_line':W,'viz/horizontal_line':X,'viz/multi_horizontal_line':X,'viz/dual_horizontal_line':Y,'viz/multi_dual_horizontal_line':Y,'viz/area':V,'viz/multi_area':V,'viz/100_area':V,'viz/multi_100_area':V,'viz/horizontal_area':X,'viz/multi_horizontal_area':X,'viz/100_horizontal_area':X,'viz/multi_100_horizontal_area':X,'viz/pie':d1,'viz/multi_pie':d1,'viz/donut':d1,'viz/multi_donut':d1,'viz/pie_with_depth':e1,'viz/donut_with_depth':e1,'viz/multi_pie_with_depth':e1,'viz/multi_donut_with_depth':e1,'viz/bubble':c1,'viz/multi_bubble':c1,'viz/scatter':c1,'viz/multi_scatter':c1,'viz/scatter_matrix':c1,'viz/radar':f1,'viz/multi_radar':f1,'viz/tagcloud':{legend:{title:{visible:true}}},'viz/heatmap':{legend:{title:{visible:true}},xAxis:{title:{visible:true},color:f},yAxis:{title:{visible:true},color:f}},'viz/treemap':j1,'viz/mekko':g1,'viz/100_mekko':g1,'viz/horizontal_mekko':h1,'viz/100_horizontal_mekko':h1,'viz/number':{plotArea:{"colorPalette":p,valuePoint:{label:{fontColor:'#000000'}}}},'info/area':u1(T),'info/radar':u1(f1),'info/column':m(s1,u1(N)),'info/timeseries_column':m(s1,v1(N)),'info/timeseries_stacked_column':m(s1,v1(N)),'info/timeseries_100_stacked_column':m(s1,v1(N)),'info/bar':m(s1,G,u1(K)),'info/line':u1(V),"info/timeseries_line":w1(V),"info/timeseries_combination":m(s1,v1(Z)),"info/timeseries_stacked_combination":m(s1,v1(Z)),"info/dual_timeseries_combination":m(s1,y1($)),'info/pie':u1(d1),'info/donut':u1(d1),'info/scatter':B1(c1),'info/bubble':B1(c1),'info/timeseries_scatter':A1(c1),'info/timeseries_bubble':A1(c1),'info/stacked_column':m(s1,u1(S)),'info/stacked_bar':m(s1,G,u1(Q)),'info/mekko':z1(S),'info/100_mekko':z1(S),'info/horizontal_mekko':m(G,z1(Q)),'info/100_horizontal_mekko':m(G,z1(Q)),'info/combination':m(s1,u1(Z)),'info/stacked_combination':m(s1,u1(Z)),'info/dual_combination':m(s1,x1($)),'info/dual_stacked_combination':m(s1,x1($)),'info/dual_column':m(s1,x1(P)),'info/dual_line':x1(W),'info/dual_bar':m(s1,G,x1(M)),'info/100_stacked_column':m(s1,u1(S)),'info/100_stacked_bar':m(s1,G,u1(Q)),'info/horizontal_line':m(G,u1(X)),'info/dual_horizontal_line':m(G,x1(Y)),'info/horizontal_combination':m(s1,G,u1(a1)),'info/horizontal_stacked_combination':m(s1,G,u1(a1)),'info/dual_horizontal_combination':m(s1,G,x1(b1)),'info/dual_horizontal_stacked_combination':m(s1,G,x1(b1)),'info/treemap':m(u1(k1),{interaction:{deselected:{opacity:0.6},selected:{stroke:{width:2,color:"#666666"}},hover:{stroke:{width:2,color:"#666666"}}}}),'info/timeseries_waterfall':m(t1,v1(o1)),'info/waterfall':m(s1,u1(o1)),'info/stacked_waterfall':m(s1,u1(p1)),'info/horizontal_waterfall':m(G,s1,u1(q1)),'info/horizontal_stacked_waterfall':m(G,s1,u1(r1)),'info/dual_stacked_bar':m(s1,G,x1(R)),'info/100_dual_stacked_bar':m(s1,G,x1(R)),'info/dual_stacked_column':m(s1,x1(U)),'info/100_dual_stacked_column':m(s1,x1(U)),'info/time_bubble':B1(c1),'info/bullet':m(u1(i1),{categoryAxis:{layout:{maxWidth:0.5}},valueAxis:{layout:{position:'bottom'}}}),'info/timeseries_bullet':v1(u1(i1)),'info/vertical_bullet':u1(i1),'info/heatmap':m(C,l,{plotArea:{dataLabel:{style:{colorRange:"outside",color:"#000000"}},dimensionLabel:{style:{color:null}}},categoryAxis:{title:{visible:true},axisLine:{visible:false}},categoryAxis2:{title:{visible:true},axisLine:{visible:false},layout:{maxWidth:0.5}},interaction:{deselected:{opacity:0.6},selected:{stroke:{width:2,color:"#666666"}},hover:{stroke:{width:2,color:"#666666"}}}})},css:".v-datapoint .v-boxplotmidline{stroke:#333333}         .v-longtick{stroke:#b3b3b3;}",isBuiltIn:true,scales:function(){var a={};var b=["info/column","info/bar","info/line","info/pie","info/donut","info/scatter","info/bubble","info/stacked_column","info/stacked_bar","info/combination","info/stacked_combination","info/100_stacked_column","info/100_stacked_bar","info/mekko","info/100_mekko","info/horizontal_mekko","info/100_horizontal_mekko","info/horizontal_line","info/horizontal_combination","info/horizontal_stacked_combination","info/time_bubble","info/radar"];b.forEach(function(e){a[e]=[{"feed":"color","palette":p}];});var i=["info/dual_combination","info/dual_stacked_combination","info/dual_column","info/dual_line","info/dual_bar","info/dual_horizontal_line","info/dual_horizontal_combination","info/dual_horizontal_stacked_combination","info/dual_stacked_bar","info/100_dual_stacked_bar","info/dual_stacked_column","info/dual_timeseries_combination","info/100_dual_stacked_column"];i.forEach(function(e){a[e]=[{"feed":"color","palette":[q.plotArea.primaryValuesColorPalette,q.plotArea.secondaryValuesColorPalette]}];});var E1=['info/heatmap',"info/treemap"];E1.forEach(function(e){a[e]=[{feed:"color",type:"quantize",nullColor:"#bac1c4",palette:["#84caec","#5cbae5","#27a3dd","#1b7eac","#156489"],numOfSegments:5}];});return a;}()});
function u1(a){var b={};for(var i in a){if(a.hasOwnProperty(i)){b[i]=a[i];}}b.valueAxis=m(r,w,x,y);b.categoryAxis=m(r);D1(b);b=m(b,C);return b;}
function v1(a){var b=u1(a);b.timeAxis=b.categoryAxis;delete b.categoryAxis;return b;}
function w1(a){var b=u1(a);b.timeAxis=b.categoryAxis;delete b.categoryAxis;b=m(b,{plotArea:{window:{start:'firstDataPoint'}}});return b;}
function x1(a){var b={};for(var i in a){if(a.hasOwnProperty(i)){b[i]=a[i];}}b.valueAxis=m(r,w,y,B);delete b.valueAxis.color;b.categoryAxis=m(r);b.valueAxis2=m(r,w,B);delete b.valueAxis2.color;D1(b);b=m(b,C);return b;}
function y1(a){var b=v1(a);b=m(b,h);b=x1(b);return b;}
function z1(a){return m(x1(a),{valueAxis:{title:{applyAxislineColor:false}},valueAxis2:{title:{applyAxislineColor:false},axisLine:{visible:true}}});}
function A1(a){var b=B1(a);b.valueAxis=b.valueAxis2;delete b.valueAxis2;b.timeAxis={title:{visible:true,style:{color:"#333",fontSize:"12px",fontWeight:"regular",letterSpacing:"0.5"}},gridline:{color:g},color:f};return b;}
function B1(a){var b={};for(var i in a){if(a.hasOwnProperty(i)){b[i]=a[i];}}b.valueAxis=m(r,u,y);b.valueAxis2=m(r,w,x);b.sizeLegend=m(a.sizeLegend||{},{title:{visible:true}});D1(b);b=m(b,C);return b;}
function C1(a){var b=m(a,m1,n1);b=m(b,C);return b;}
function D1(a){a.plotArea=a.plotArea||{};a.plotArea.background=a.background;delete a.background;delete a.xAxis;delete a.xAxis2;delete a.yAxis;delete a.yAxis2;}
})();
},
/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * @link   http://www.phpied.com/rgb-color-parser-in-javascript/
 * @license MIT license
 */
	"sap/viz/libs/rgbcolor.js":function(){
function RGBColor(c){this.ok=false;if(c.charAt(0)=='#'){c=c.substr(1,6);}c=c.replace(/ /g,'');c=c.toLowerCase();var s={aliceblue:'f0f8ff',antiquewhite:'faebd7',aqua:'00ffff',aquamarine:'7fffd4',azure:'f0ffff',beige:'f5f5dc',bisque:'ffe4c4',black:'000000',blanchedalmond:'ffebcd',blue:'0000ff',blueviolet:'8a2be2',brown:'a52a2a',burlywood:'deb887',cadetblue:'5f9ea0',chartreuse:'7fff00',chocolate:'d2691e',coral:'ff7f50',cornflowerblue:'6495ed',cornsilk:'fff8dc',crimson:'dc143c',cyan:'00ffff',darkblue:'00008b',darkcyan:'008b8b',darkgoldenrod:'b8860b',darkgray:'a9a9a9',darkgreen:'006400',darkkhaki:'bdb76b',darkmagenta:'8b008b',darkolivegreen:'556b2f',darkorange:'ff8c00',darkorchid:'9932cc',darkred:'8b0000',darksalmon:'e9967a',darkseagreen:'8fbc8f',darkslateblue:'483d8b',darkslategray:'2f4f4f',darkturquoise:'00ced1',darkviolet:'9400d3',deeppink:'ff1493',deepskyblue:'00bfff',dimgray:'696969',dodgerblue:'1e90ff',feldspar:'d19275',firebrick:'b22222',floralwhite:'fffaf0',forestgreen:'228b22',fuchsia:'ff00ff',gainsboro:'dcdcdc',ghostwhite:'f8f8ff',gold:'ffd700',goldenrod:'daa520',gray:'808080',green:'008000',greenyellow:'adff2f',honeydew:'f0fff0',hotpink:'ff69b4',indianred:'cd5c5c',indigo:'4b0082',ivory:'fffff0',khaki:'f0e68c',lavender:'e6e6fa',lavenderblush:'fff0f5',lawngreen:'7cfc00',lemonchiffon:'fffacd',lightblue:'add8e6',lightcoral:'f08080',lightcyan:'e0ffff',lightgoldenrodyellow:'fafad2',lightgrey:'d3d3d3',lightgreen:'90ee90',lightpink:'ffb6c1',lightsalmon:'ffa07a',lightseagreen:'20b2aa',lightskyblue:'87cefa',lightslateblue:'8470ff',lightslategray:'778899',lightsteelblue:'b0c4de',lightyellow:'ffffe0',lime:'00ff00',limegreen:'32cd32',linen:'faf0e6',magenta:'ff00ff',maroon:'800000',mediumaquamarine:'66cdaa',mediumblue:'0000cd',mediumorchid:'ba55d3',mediumpurple:'9370d8',mediumseagreen:'3cb371',mediumslateblue:'7b68ee',mediumspringgreen:'00fa9a',mediumturquoise:'48d1cc',mediumvioletred:'c71585',midnightblue:'191970',mintcream:'f5fffa',mistyrose:'ffe4e1',moccasin:'ffe4b5',navajowhite:'ffdead',navy:'000080',oldlace:'fdf5e6',olive:'808000',olivedrab:'6b8e23',orange:'ffa500',orangered:'ff4500',orchid:'da70d6',palegoldenrod:'eee8aa',palegreen:'98fb98',paleturquoise:'afeeee',palevioletred:'d87093',papayawhip:'ffefd5',peachpuff:'ffdab9',peru:'cd853f',pink:'ffc0cb',plum:'dda0dd',powderblue:'b0e0e6',purple:'800080',red:'ff0000',rosybrown:'bc8f8f',royalblue:'4169e1',saddlebrown:'8b4513',salmon:'fa8072',sandybrown:'f4a460',seagreen:'2e8b57',seashell:'fff5ee',sienna:'a0522d',silver:'c0c0c0',skyblue:'87ceeb',slateblue:'6a5acd',slategray:'708090',snow:'fffafa',springgreen:'00ff7f',steelblue:'4682b4',tan:'d2b48c',teal:'008080',thistle:'d8bfd8',tomato:'ff6347',turquoise:'40e0d0',violet:'ee82ee',violetred:'d02090',wheat:'f5deb3',white:'ffffff',whitesmoke:'f5f5f5',yellow:'ffff00',yellowgreen:'9acd32'};for(var k in s){if(c==k){c=s[k];}}var a=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:['rgb(123, 234, 45)','rgb(255,234,245)'],process:function(f){return[parseInt(f[1]),parseInt(f[2]),parseInt(f[3])];}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:['#00ff00','336699'],process:function(f){return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)];}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:['#fb0','f0f'],process:function(f){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)];}}];for(var i=0;i<a.length;i++){var d=a[i].re;var p=a[i].process;var f=d.exec(c);if(f){channels=p(f);this.r=channels[0];this.g=channels[1];this.b=channels[2];this.ok=true;}}this.r=(this.r<0||isNaN(this.r))?0:((this.r>255)?255:this.r);this.g=(this.g<0||isNaN(this.g))?0:((this.g>255)?255:this.g);this.b=(this.b<0||isNaN(this.b))?0:((this.b>255)?255:this.b);this.toRGB=function(){return'rgb('+this.r+', '+this.g+', '+this.b+')';};this.toHex=function(){var r=this.r.toString(16);var g=this.g.toString(16);var b=this.b.toString(16);if(r.length==1)r='0'+r;if(g.length==1)g='0'+g;if(b.length==1)b='0'+b;return'#'+r+g+b;};this.getHelpXML=function(){var b=new Array();for(var i=0;i<a.length;i++){var g=a[i].example;for(var j=0;j<g.length;j++){b[b.length]=g[j];}}for(var h in s){b[b.length]=h;}var x=document.createElement('ul');x.setAttribute('id','rgbcolor-examples');for(var i=0;i<b.length;i++){try{var l=document.createElement('li');var m=new RGBColor(b[i]);var n=document.createElement('div');n.style.cssText='margin: 3px; '+'border: 1px solid black; '+'background:'+m.toHex()+'; '+'color:'+m.toHex();n.appendChild(document.createTextNode('test'));var o=document.createTextNode(' '+b[i]+' -> '+m.toRGB()+' -> '+m.toHex());l.appendChild(n);l.appendChild(o);x.appendChild(l);}catch(e){}}return x;}}
this.RGBColor=RGBColor;
},
/*
 * canvg.js - Javascript SVG parser and renderer on Canvas
 * MIT Licensed 
 * Gabe Lerner (gabelerner@gmail.com)
 * http://code.google.com/p/canvg/
 *
 * Requires: rgbcolor.js - http://www.phpied.com/rgb-color-parser-in-javascript/
 */
	"sap/viz/libs/canvg.js":function(){(function(){
this.canvg=function(t,s,o){if(t==null&&s==null&&o==null){var a=document.getElementsByTagName('svg');for(var i=0;i<a.length;i++){var b=a[i];var c=document.createElement('canvas');c.width=b.clientWidth;c.height=b.clientHeight;b.parentNode.insertBefore(c,b);b.parentNode.removeChild(b);var d=document.createElement('div');d.appendChild(b);canvg(c,d.innerHTML);}return;}o=o||{};if(typeof t=='string'){t=document.getElementById(t);}if(t.svg!=null)t.svg.stop();t.svg=svg=h();svg.opts=o;var e=t.getContext('2d');if(typeof(s.documentElement)!='undefined'){svg.loadXmlDoc(e,s);}else if(s.substr(0,1)=='<'){svg.loadXml(e,s);}else{svg.load(e,s);}};
function h(){var o={};o.FRAMERATE=30;o.MAX_VIRTUAL_PIXELS=30000;o.init=function(c){o.Definitions={};o.Styles={};o.Animations=[];o.Images=[];o.ctx=c;o.ViewPort=new(function(){this.viewPorts=[];this.Clear=function(){this.viewPorts=[];};this.SetCurrent=function(w,a){this.viewPorts.push({width:w,height:a});};this.RemoveCurrent=function(){this.viewPorts.pop();};this.Current=function(){return this.viewPorts[this.viewPorts.length-1];};this.width=function(){return this.Current().width;};this.height=function(){return this.Current().height;};this.ComputeSize=function(d){if(d!=null&&typeof(d)=='number')return d;if(d=='x')return this.width();if(d=='y')return this.height();return Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2);}});};o.init();o.ImagesLoaded=function(){for(var i=0;i<o.Images.length;i++){if(!o.Images[i].loaded)return false;}return true;};o.trim=function(s){return s.replace(/^\s+|\s+$/g,'');};o.compressSpaces=function(s){return s.replace(/[\s\r\t\n]+/gm,' ');};o.ajax=function(u){var A;if(window.XMLHttpRequest){A=new XMLHttpRequest();}else{A=new ActiveXObject('Microsoft.XMLHTTP');}if(A){A.open('GET',u,false);A.send(null);return A.responseText;}return null;};o.parseXml=function(x){if(window.DOMParser){var p=new DOMParser();return p.parseFromString(x,'text/xml');}else{x=x.replace(/<!DOCTYPE svg[^>]*>/,'');var a=new ActiveXObject('Microsoft.XMLDOM');a.async='false';a.loadXML(x);return a;}};o.Property=function(n,v){this.name=n;this.value=v;};o.Property.prototype.getValue=function(){return this.value;};o.Property.prototype.hasValue=function(){return(this.value!=null&&this.value!=='');};o.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var n=parseFloat(this.value);if((this.value+'').match(/%$/)){n=n/100.0;}return n;};o.Property.prototype.valueOrDefault=function(d){if(this.hasValue())return this.value;return d;};o.Property.prototype.numValueOrDefault=function(d){if(this.hasValue())return this.numValue();return d;};o.Property.prototype.addOpacity=function(a){var n=this.value;if(a!=null&&a!=''&&typeof(this.value)=='string'){var c=new RGBColor(this.value);if(c.ok){n='rgba('+c.r+', '+c.g+', '+c.b+', '+a+')';}}return new o.Property(this.name,n);};o.Property.prototype.getDefinition=function(){var n=this.value.replace(/^(url\()?#([^\)]+)\)?$/,'$2');return o.Definitions[n];};o.Property.prototype.isUrlDefinition=function(){return this.value.indexOf('url(')==0};o.Property.prototype.getFillStyleDefinition=function(e){var d=this.getDefinition();if(d!=null&&d.createGradient){return d.createGradient(o.ctx,e);}if(d!=null&&d.createPattern){return d.createPattern(o.ctx,e);}return null;};o.Property.prototype.getDPI=function(v){return 96.0;};o.Property.prototype.getEM=function(v){var e=12;var f=new o.Property('fontSize',o.Font.Parse(o.ctx.font).fontSize);if(f.hasValue())e=f.toPixels(v);return e;};o.Property.prototype.getUnits=function(){var s=this.value+'';return s.replace(/[0-9\.\-]/g,'');};o.Property.prototype.toPixels=function(v){if(!this.hasValue())return 0;var s=this.value+'';if(s.match(/em$/))return this.numValue()*this.getEM(v);if(s.match(/ex$/))return this.numValue()*this.getEM(v)/2.0;if(s.match(/px$/))return this.numValue();if(s.match(/pt$/))return this.numValue()*this.getDPI(v)*(1.0/72.0);if(s.match(/pc$/))return this.numValue()*15;if(s.match(/cm$/))return this.numValue()*this.getDPI(v)/2.54;if(s.match(/mm$/))return this.numValue()*this.getDPI(v)/25.4;if(s.match(/in$/))return this.numValue()*this.getDPI(v);if(s.match(/%$/))return this.numValue()*o.ViewPort.ComputeSize(v);return this.numValue();};o.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var s=this.value+'';if(s.match(/s$/))return this.numValue()*1000;if(s.match(/ms$/))return this.numValue();return this.numValue();};o.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var s=this.value+'';if(s.match(/deg$/))return this.numValue()*(Math.PI/180.0);if(s.match(/grad$/))return this.numValue()*(Math.PI/200.0);if(s.match(/rad$/))return this.numValue();return this.numValue()*(Math.PI/180.0);};o.Font=new(function(){this.Styles='normal|italic|oblique|inherit';this.Variants='normal|small-caps|inherit';this.Weights='normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit';this.CreateFont=function(a,b,c,d,e,g){var f=g!=null?this.Parse(g):this.CreateFont('','','','','',o.ctx.font);return{fontFamily:e||f.fontFamily,fontSize:d||f.fontSize,fontStyle:a||f.fontStyle,fontWeight:c||f.fontWeight,fontVariant:b||f.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(' ')}}};var t=this;this.Parse=function(s){var f={};var d=o.trim(o.compressSpaces(s||'')).split(' ');var a={fontSize:false,fontStyle:false,fontWeight:false,fontVariant:false};var b='';for(var i=0;i<d.length;i++){if(!a.fontStyle&&t.Styles.indexOf(d[i])!=-1){if(d[i]!='inherit')f.fontStyle=d[i];a.fontStyle=true;}else if(!a.fontVariant&&t.Variants.indexOf(d[i])!=-1){if(d[i]!='inherit')f.fontVariant=d[i];a.fontStyle=a.fontVariant=true;}else if(!a.fontWeight&&t.Weights.indexOf(d[i])!=-1){if(d[i]!='inherit')f.fontWeight=d[i];a.fontStyle=a.fontVariant=a.fontWeight=true;}else if(!a.fontSize){if(d[i]!='inherit')f.fontSize=d[i].split('/')[0];a.fontStyle=a.fontVariant=a.fontWeight=a.fontSize=true;}else{if(d[i]!='inherit')b+=d[i];}}if(b!='')f.fontFamily=b;return f;}});o.ToNumberArray=function(s){var a=o.trim(o.compressSpaces((s||'').replace(/,/g,' '))).split(' ');for(var i=0;i<a.length;i++){a[i]=parseFloat(a[i]);}return a;};o.Point=function(x,y){this.x=x;this.y=y;};o.Point.prototype.angleTo=function(p){return Math.atan2(p.y-this.y,p.x-this.x);};o.Point.prototype.applyTransform=function(v){var x=this.x*v[0]+this.y*v[2]+v[4];var y=this.x*v[1]+this.y*v[3]+v[5];this.x=x;this.y=y;};o.CreatePoint=function(s){var a=o.ToNumberArray(s);return new o.Point(a[0],a[1]);};o.CreatePath=function(s){var a=o.ToNumberArray(s);var p=[];for(var i=0;i<a.length;i+=2){p.push(new o.Point(a[i],a[i+1]));}return p;};o.BoundingBox=function(d,e,g,j){this.x1=Number.NaN;this.y1=Number.NaN;this.x2=Number.NaN;this.y2=Number.NaN;this.x=function(){return this.x1;};this.y=function(){return this.y1;};this.width=function(){return this.x2-this.x1;};this.height=function(){return this.y2-this.y1;};this.addPoint=function(x,y){if(x!=null){if(isNaN(this.x1)||isNaN(this.x2)){this.x1=x;this.x2=x;}if(x<this.x1)this.x1=x;if(x>this.x2)this.x2=x;}if(y!=null){if(isNaN(this.y1)||isNaN(this.y2)){this.y1=y;this.y2=y;}if(y<this.y1)this.y1=y;if(y>this.y2)this.y2=y;}};this.addX=function(x){this.addPoint(x,null);};this.addY=function(y){this.addPoint(null,y);};this.addBoundingBox=function(b){this.addPoint(b.x1,b.y1);this.addPoint(b.x2,b.y2);};this.addQuadraticCurve=function(p,a,b,c,f,k){var l=p+2/3*(b-p);var m=a+2/3*(c-a);var n=l+1/3*(f-p);var q=m+1/3*(k-a);this.addBezierCurve(p,a,l,n,m,q,f,k);};this.addBezierCurve=function(p,k,l,m,n,q,r,s){var u=[p,k],v=[l,m],w=[n,q],x=[r,s];this.addPoint(u[0],u[1]);this.addPoint(x[0],x[1]);for(i=0;i<=1;i++){var f=function(t){return Math.pow(1-t,3)*u[i]+3*Math.pow(1-t,2)*t*v[i]+3*(1-t)*Math.pow(t,2)*w[i]+Math.pow(t,3)*x[i];};var b=6*u[i]-12*v[i]+6*w[i];var a=-3*u[i]+9*v[i]-9*w[i]+3*x[i];var c=3*v[i]-3*u[i];if(a==0){if(b==0)continue;var t=-c/b;if(0<t&&t<1){if(i==0)this.addX(f(t));if(i==1)this.addY(f(t));}continue;}var y=Math.pow(b,2)-4*c*a;if(y<0)continue;var z=(-b+Math.sqrt(y))/(2*a);if(0<z&&z<1){if(i==0)this.addX(f(z));if(i==1)this.addY(f(z));}var A=(-b-Math.sqrt(y))/(2*a);if(0<A&&A<1){if(i==0)this.addX(f(A));if(i==1)this.addY(f(A));}}};this.isPointInBox=function(x,y){return(this.x1<=x&&x<=this.x2&&this.y1<=y&&y<=this.y2);};this.addPoint(d,e);this.addPoint(g,j);};o.Transform=function(v){var t=this;this.Type={};this.Type.translate=function(s){this.p=o.CreatePoint(s);this.apply=function(a){a.translate(this.p.x||0.0,this.p.y||0.0);};this.applyToPoint=function(p){p.applyTransform([1,0,0,1,this.p.x||0.0,this.p.y||0.0]);}};this.Type.rotate=function(s){var a=o.ToNumberArray(s);this.angle=new o.Property('angle',a[0]);this.cx=a[1]||0;this.cy=a[2]||0;this.apply=function(e){e.translate(this.cx,this.cy);e.rotate(this.angle.toRadians());e.translate(-this.cx,-this.cy);};this.applyToPoint=function(p){var a=this.angle.toRadians();p.applyTransform([1,0,0,1,this.p.x||0.0,this.p.y||0.0]);p.applyTransform([Math.cos(a),Math.sin(a),-Math.sin(a),Math.cos(a),0,0]);p.applyTransform([1,0,0,1,-this.p.x||0.0,-this.p.y||0.0]);}};this.Type.scale=function(s){this.p=o.CreatePoint(s);this.apply=function(a){a.scale(this.p.x||1.0,this.p.y||this.p.x||1.0);};this.applyToPoint=function(p){p.applyTransform([this.p.x||0.0,0,0,this.p.y||0.0,0,0]);}};this.Type.matrix=function(s){this.m=o.ToNumberArray(s);this.apply=function(a){a.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5]);};this.applyToPoint=function(p){p.applyTransform(this.m);}};this.Type.SkewBase=function(s){this.base=t.Type.matrix;this.base(s);this.angle=new o.Property('angle',s);};this.Type.SkewBase.prototype=new this.Type.matrix;this.Type.skewX=function(s){this.base=t.Type.SkewBase;this.base(s);this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0];};this.Type.skewX.prototype=new this.Type.SkewBase;this.Type.skewY=function(s){this.base=t.Type.SkewBase;this.base(s);this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0];};this.Type.skewY.prototype=new this.Type.SkewBase;this.transforms=[];this.apply=function(a){for(var i=0;i<this.transforms.length;i++){this.transforms[i].apply(a);}};this.applyToPoint=function(p){for(var i=0;i<this.transforms.length;i++){this.transforms[i].applyToPoint(p);}};var d=o.trim(o.compressSpaces(v)).split(/\s(?=[a-z])/);for(var i=0;i<d.length;i++){var b=d[i].split('(')[0];var s=d[i].split('(')[1].replace(')','');var c=new this.Type[b](s);this.transforms.push(c);}};o.AspectRatio=function(c,a,w,d,b,e,m,f,r,g){a=o.compressSpaces(a);a=a.replace(/^defer\s/,'');var j=a.split(' ')[0]||'xMidYMid';var k=a.split(' ')[1]||'meet';var s=w/d;var l=b/e;var n=Math.min(s,l);var p=Math.max(s,l);if(k=='meet'){d*=n;e*=n;}if(k=='slice'){d*=p;e*=p;}r=new o.Property('refX',r);g=new o.Property('refY',g);if(r.hasValue()&&g.hasValue()){c.translate(-n*r.toPixels('x'),-n*g.toPixels('y'));}else{if(j.match(/^xMid/)&&((k=='meet'&&n==l)||(k=='slice'&&p==l)))c.translate(w/2.0-d/2.0,0);if(j.match(/YMid$/)&&((k=='meet'&&n==s)||(k=='slice'&&p==s)))c.translate(0,b/2.0-e/2.0);if(j.match(/^xMax/)&&((k=='meet'&&n==l)||(k=='slice'&&p==l)))c.translate(w-d,0);if(j.match(/YMax$/)&&((k=='meet'&&n==s)||(k=='slice'&&p==s)))c.translate(0,b-e);}if(j=='none')c.scale(s,l);else if(k=='meet')c.scale(n,n);else if(k=='slice')c.scale(p,p);c.translate(m==null?0:-m,f==null?0:-f);};o.Element={};o.EmptyProperty=new o.Property('EMPTY','');o.Element.ElementBase=function(n){this.attributes={};this.styles={};this.children=[];this.attribute=function(e,k){var a=this.attributes[e];if(a!=null)return a;if(k==true){a=new o.Property(e,'');this.attributes[e]=a;}return a||o.EmptyProperty;};this.style=function(e,k){var s=this.styles[e];if(s!=null)return s;var a=this.attribute(e);if(a!=null&&a.hasValue()){this.styles[e]=a;return a;}var p=this.parent;if(p!=null){var l=p.style(e);if(l!=null&&l.hasValue()){return l;}}if(k==true){s=new o.Property(e,'');this.styles[e]=s;}return s||o.EmptyProperty;};this.render=function(a){if(this.style('display').value=='none')return;if(this.attribute('visibility').value=='hidden')return;a.save();this.setContext(a);if(this.attribute('mask').hasValue()){var m=this.attribute('mask').getDefinition();if(m!=null)m.apply(a,this);}else if(this.style('filter').hasValue()){var k=this.style('filter').getDefinition();if(k!=null)k.apply(a,this);}else this.renderChildren(a);this.clearContext(a);a.restore();};this.setContext=function(a){};this.clearContext=function(a){};this.renderChildren=function(a){for(var i=0;i<this.children.length;i++){this.children[i].render(a);}};this.addChild=function(c,a){var k=c;if(a)k=o.CreateElement(c);k.parent=this;this.children.push(k);};if(n!=null&&n.nodeType==1){for(var i=0;i<n.childNodes.length;i++){var c=n.childNodes[i];if(c.nodeType==1)this.addChild(c,true);}for(var i=0;i<n.attributes.length;i++){var b=n.attributes[i];this.attributes[b.nodeName]=new o.Property(b.nodeName,b.nodeValue);}var d=o.Styles[n.nodeName];if(d!=null){for(var e in d){this.styles[e]=d[e];}}if(this.attribute('class').hasValue()){var f=o.compressSpaces(this.attribute('class').value).split(' ');for(var j=0;j<f.length;j++){d=o.Styles['.'+f[j]];if(d!=null){for(var e in d){this.styles[e]=d[e];}}d=o.Styles[n.nodeName+'.'+f[j]];if(d!=null){for(var e in d){this.styles[e]=d[e];}}}}if(this.attribute('id').hasValue()){var d=o.Styles['#'+this.attribute('id').value];if(d!=null){for(var e in d){this.styles[e]=d[e];}}}if(this.attribute('style').hasValue()){var d=this.attribute('style').value.split(';');for(var i=0;i<d.length;i++){if(o.trim(d[i])!=''){var g=d[i].split(':');var e=o.trim(g[0]);var v=o.trim(g[1]);this.styles[e]=new o.Property(e,v);}}}if(this.attribute('id').hasValue()){if(o.Definitions[this.attribute('id').value]==null){o.Definitions[this.attribute('id').value]=this;}}}};o.Element.RenderedElementBase=function(n){this.base=o.Element.ElementBase;this.base(n);this.setContext=function(c){if(this.style('fill').isUrlDefinition()){var f=this.style('fill').getFillStyleDefinition(this);if(f!=null)c.fillStyle=f;}else if(this.style('fill').hasValue()){var a=this.style('fill');if(a.value=='currentColor')a.value=this.style('color').value;c.fillStyle=(a.value=='none'?'rgba(0,0,0,0)':a.value);}if(this.style('fill-opacity').hasValue()){var a=new o.Property('fill',c.fillStyle);a=a.addOpacity(this.style('fill-opacity').value);c.fillStyle=a.value;}if(this.style('stroke').isUrlDefinition()){var f=this.style('stroke').getFillStyleDefinition(this);if(f!=null)c.strokeStyle=f;}else if(this.style('stroke').hasValue()){var s=this.style('stroke');if(s.value=='currentColor')s.value=this.style('color').value;c.strokeStyle=(s.value=='none'?'rgba(0,0,0,0)':s.value);}if(this.style('stroke-opacity').hasValue()){var s=new o.Property('stroke',c.strokeStyle);s=s.addOpacity(this.style('stroke-opacity').value);c.strokeStyle=s.value;}if(this.style('stroke-width').hasValue())c.lineWidth=this.style('stroke-width').toPixels();if(this.style('stroke-linecap').hasValue())c.lineCap=this.style('stroke-linecap').value;if(this.style('stroke-linejoin').hasValue())c.lineJoin=this.style('stroke-linejoin').value;if(this.style('stroke-miterlimit').hasValue())c.miterLimit=this.style('stroke-miterlimit').value;if(typeof(c.font)!='undefined'){c.font=o.Font.CreateFont(this.style('font-style').value,this.style('font-variant').value,this.style('font-weight').value,this.style('font-size').hasValue()?this.style('font-size').toPixels()+'px':'',this.style('font-family').value).toString();}if(this.attribute('transform').hasValue()){var t=new o.Transform(this.attribute('transform').value);t.apply(c);}if(this.attribute('clip-path').hasValue()){var b=this.attribute('clip-path').getDefinition();if(b!=null)b.apply(c);}if(this.style('opacity').hasValue()){c.globalAlpha=this.style('opacity').numValue();}}};o.Element.RenderedElementBase.prototype=new o.Element.ElementBase;o.Element.PathElementBase=function(n){this.base=o.Element.RenderedElementBase;this.base(n);this.path=function(c){if(c!=null)c.beginPath();return new o.BoundingBox();};this.renderChildren=function(c){this.path(c);o.Mouse.checkPath(this,c);if(c.fillStyle!='')c.fill();if(c.strokeStyle!='')c.stroke();var m=this.getMarkers();if(m!=null){if(this.style('marker-start').isUrlDefinition()){var a=this.style('marker-start').getDefinition();a.render(c,m[0][0],m[0][1]);}if(this.style('marker-mid').isUrlDefinition()){var a=this.style('marker-mid').getDefinition();for(var i=1;i<m.length-1;i++){a.render(c,m[i][0],m[i][1]);}}if(this.style('marker-end').isUrlDefinition()){var a=this.style('marker-end').getDefinition();a.render(c,m[m.length-1][0],m[m.length-1][1]);}}};this.getBoundingBox=function(){return this.path();};this.getMarkers=function(){return null;}};o.Element.PathElementBase.prototype=new o.Element.RenderedElementBase;o.Element.svg=function(n){this.base=o.Element.RenderedElementBase;this.base(n);this.baseClearContext=this.clearContext;this.clearContext=function(c){this.baseClearContext(c);o.ViewPort.RemoveCurrent();};this.baseSetContext=this.setContext;this.setContext=function(c){c.strokeStyle='rgba(0,0,0,0)';c.lineCap='butt';c.lineJoin='miter';c.miterLimit=4;this.baseSetContext(c);if(!this.attribute('x').hasValue())this.attribute('x',true).value=0;if(!this.attribute('y').hasValue())this.attribute('y',true).value=0;c.translate(this.attribute('x').toPixels('x'),this.attribute('y').toPixels('y'));var w=o.ViewPort.width();var a=o.ViewPort.height();if(!this.attribute('width').hasValue())this.attribute('width',true).value='100%';if(!this.attribute('height').hasValue())this.attribute('height',true).value='100%';if(typeof(this.root)=='undefined'){w=this.attribute('width').toPixels('x');a=this.attribute('height').toPixels('y');var x=0;var y=0;if(this.attribute('refX').hasValue()&&this.attribute('refY').hasValue()){x=-this.attribute('refX').toPixels('x');y=-this.attribute('refY').toPixels('y');}c.beginPath();c.moveTo(x,y);c.lineTo(w,y);c.lineTo(w,a);c.lineTo(x,a);c.closePath();c.clip();}o.ViewPort.SetCurrent(w,a);if(this.attribute('viewBox').hasValue()){var v=o.ToNumberArray(this.attribute('viewBox').value);var m=v[0];var b=v[1];w=v[2];a=v[3];o.AspectRatio(c,this.attribute('preserveAspectRatio').value,o.ViewPort.width(),w,o.ViewPort.height(),a,m,b,this.attribute('refX').value,this.attribute('refY').value);o.ViewPort.RemoveCurrent();o.ViewPort.SetCurrent(v[2],v[3]);}}};o.Element.svg.prototype=new o.Element.RenderedElementBase;o.Element.rect=function(n){this.base=o.Element.PathElementBase;this.base(n);this.path=function(c){var x=this.attribute('x').toPixels('x');var y=this.attribute('y').toPixels('y');var w=this.attribute('width').toPixels('x');var a=this.attribute('height').toPixels('y');var r=this.attribute('rx').toPixels('x');var b=this.attribute('ry').toPixels('y');if(this.attribute('rx').hasValue()&&!this.attribute('ry').hasValue())b=r;if(this.attribute('ry').hasValue()&&!this.attribute('rx').hasValue())r=b;if(c!=null){c.beginPath();c.moveTo(x+r,y);c.lineTo(x+w-r,y);c.quadraticCurveTo(x+w,y,x+w,y+b);c.lineTo(x+w,y+a-b);c.quadraticCurveTo(x+w,y+a,x+w-r,y+a);c.lineTo(x+r,y+a);c.quadraticCurveTo(x,y+a,x,y+a-b);c.lineTo(x,y+b);c.quadraticCurveTo(x,y,x+r,y);c.closePath();}return new o.BoundingBox(x,y,x+w,y+a);}};o.Element.rect.prototype=new o.Element.PathElementBase;o.Element.circle=function(n){this.base=o.Element.PathElementBase;this.base(n);this.path=function(c){var a=this.attribute('cx').toPixels('x');var b=this.attribute('cy').toPixels('y');var r=this.attribute('r').toPixels();if(c!=null){c.beginPath();c.arc(a,b,r,0,Math.PI*2,true);c.closePath();}return new o.BoundingBox(a-r,b-r,a+r,b+r);}};o.Element.circle.prototype=new o.Element.PathElementBase;o.Element.ellipse=function(n){this.base=o.Element.PathElementBase;this.base(n);this.path=function(c){var K=4*((Math.sqrt(2)-1)/3);var r=this.attribute('rx').toPixels('x');var a=this.attribute('ry').toPixels('y');var b=this.attribute('cx').toPixels('x');var d=this.attribute('cy').toPixels('y');if(c!=null){c.beginPath();c.moveTo(b,d-a);c.bezierCurveTo(b+(K*r),d-a,b+r,d-(K*a),b+r,d);c.bezierCurveTo(b+r,d+(K*a),b+(K*r),d+a,b,d+a);c.bezierCurveTo(b-(K*r),d+a,b-r,d+(K*a),b-r,d);c.bezierCurveTo(b-r,d-(K*a),b-(K*r),d-a,b,d-a);c.closePath();}return new o.BoundingBox(b-r,d-a,b+r,d+a);}};o.Element.ellipse.prototype=new o.Element.PathElementBase;o.Element.line=function(n){this.base=o.Element.PathElementBase;this.base(n);this.getPoints=function(){return[new o.Point(this.attribute('x1').toPixels('x'),this.attribute('y1').toPixels('y')),new o.Point(this.attribute('x2').toPixels('x'),this.attribute('y2').toPixels('y'))];};this.path=function(c){var p=this.getPoints();if(c!=null){c.beginPath();c.moveTo(p[0].x,p[0].y);c.lineTo(p[1].x,p[1].y);}return new o.BoundingBox(p[0].x,p[0].y,p[1].x,p[1].y);};this.getMarkers=function(){var p=this.getPoints();var a=p[0].angleTo(p[1]);return[[p[0],a],[p[1],a]];}};o.Element.line.prototype=new o.Element.PathElementBase;o.Element.polyline=function(n){this.base=o.Element.PathElementBase;this.base(n);this.points=o.CreatePath(this.attribute('points').value);this.path=function(c){var b=new o.BoundingBox(this.points[0].x,this.points[0].y);if(c!=null){c.beginPath();c.moveTo(this.points[0].x,this.points[0].y);}for(var i=1;i<this.points.length;i++){b.addPoint(this.points[i].x,this.points[i].y);if(c!=null)c.lineTo(this.points[i].x,this.points[i].y);}return b;};this.getMarkers=function(){var m=[];for(var i=0;i<this.points.length-1;i++){m.push([this.points[i],this.points[i].angleTo(this.points[i+1])]);}m.push([this.points[this.points.length-1],m[m.length-1][1]]);return m;}};o.Element.polyline.prototype=new o.Element.PathElementBase;o.Element.polygon=function(n){this.base=o.Element.polyline;this.base(n);this.basePath=this.path;this.path=function(c){var b=this.basePath(c);if(c!=null){c.lineTo(this.points[0].x,this.points[0].y);c.closePath();}return b;}};o.Element.polygon.prototype=new o.Element.polyline;o.Element.path=function(n){this.base=o.Element.PathElementBase;this.base(n);var d=this.attribute('d').value;d=d.replace(/,/gm,' ');d=d.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,'$1 $2');d=d.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,'$1 $2');d=d.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,'$1 $2');d=d.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,'$1 $2');d=d.replace(/([0-9])([+\-])/gm,'$1 $2');d=d.replace(/(\.[0-9]*)(\.)/gm,'$1 $2');d=d.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,'$1 $3 $4 ');d=o.compressSpaces(d);d=o.trim(d);this.PathParser=new(function(d){this.tokens=d.split(' ');this.reset=function(){this.i=-1;this.command='';this.previousCommand='';this.start=new o.Point(0,0);this.control=new o.Point(0,0);this.current=new o.Point(0,0);this.points=[];this.angles=[];};this.isEnd=function(){return this.i>=this.tokens.length-1;};this.isCommandOrEnd=function(){if(this.isEnd())return true;return this.tokens[this.i+1].match(/^[A-Za-z]$/)!=null;};this.isRelativeCommand=function(){switch(this.command){case'm':case'l':case'h':case'v':case'c':case's':case'q':case't':case'a':case'z':return true;break;}return false;};this.getToken=function(){this.i++;return this.tokens[this.i];};this.getScalar=function(){return parseFloat(this.getToken());};this.nextCommand=function(){this.previousCommand=this.command;this.command=this.getToken();};this.getPoint=function(){var p=new o.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(p);};this.getAsControlPoint=function(){var p=this.getPoint();this.control=p;return p;};this.getAsCurrentPoint=function(){var p=this.getPoint();this.current=p;return p;};this.getReflectedControlPoint=function(){if(this.previousCommand.toLowerCase()!='c'&&this.previousCommand.toLowerCase()!='s'){return this.current;}var p=new o.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return p;};this.makeAbsolute=function(p){if(this.isRelativeCommand()){p.x+=this.current.x;p.y+=this.current.y;}return p;};this.addMarker=function(p,f,a){if(a!=null&&this.angles.length>0&&this.angles[this.angles.length-1]==null){this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(a);}this.addMarkerAngle(p,f==null?null:f.angleTo(p));};this.addMarkerAngle=function(p,a){this.points.push(p);this.angles.push(a);};this.getMarkerPoints=function(){return this.points;};this.getMarkerAngles=function(){for(var i=0;i<this.angles.length;i++){if(this.angles[i]==null){for(var j=i+1;j<this.angles.length;j++){if(this.angles[j]!=null){this.angles[i]=this.angles[j];break;}}}}return this.angles;}})(d);this.path=function(b){var e=this.PathParser;e.reset();var f=new o.BoundingBox();if(b!=null)b.beginPath();while(!e.isEnd()){e.nextCommand();switch(e.command){case'M':case'm':var p=e.getAsCurrentPoint();e.addMarker(p);f.addPoint(p.x,p.y);if(b!=null)b.moveTo(p.x,p.y);e.start=e.current;while(!e.isCommandOrEnd()){var p=e.getAsCurrentPoint();e.addMarker(p,e.start);f.addPoint(p.x,p.y);if(b!=null)b.lineTo(p.x,p.y);}break;case'L':case'l':while(!e.isCommandOrEnd()){var c=e.current;var p=e.getAsCurrentPoint();e.addMarker(p,c);f.addPoint(p.x,p.y);if(b!=null)b.lineTo(p.x,p.y);}break;case'H':case'h':while(!e.isCommandOrEnd()){var g=new o.Point((e.isRelativeCommand()?e.current.x:0)+e.getScalar(),e.current.y);e.addMarker(g,e.current);e.current=g;f.addPoint(e.current.x,e.current.y);if(b!=null)b.lineTo(e.current.x,e.current.y);}break;case'V':case'v':while(!e.isCommandOrEnd()){var g=new o.Point(e.current.x,(e.isRelativeCommand()?e.current.y:0)+e.getScalar());e.addMarker(g,e.current);e.current=g;f.addPoint(e.current.x,e.current.y);if(b!=null)b.lineTo(e.current.x,e.current.y);}break;case'C':case'c':while(!e.isCommandOrEnd()){var j=e.current;var k=e.getPoint();var q=e.getAsControlPoint();var t=e.getAsCurrentPoint();e.addMarker(t,q,k);f.addBezierCurve(j.x,j.y,k.x,k.y,q.x,q.y,t.x,t.y);if(b!=null)b.bezierCurveTo(k.x,k.y,q.x,q.y,t.x,t.y);}break;case'S':case's':while(!e.isCommandOrEnd()){var j=e.current;var k=e.getReflectedControlPoint();var q=e.getAsControlPoint();var t=e.getAsCurrentPoint();e.addMarker(t,q,k);f.addBezierCurve(j.x,j.y,k.x,k.y,q.x,q.y,t.x,t.y);if(b!=null)b.bezierCurveTo(k.x,k.y,q.x,q.y,t.x,t.y);}break;case'Q':case'q':while(!e.isCommandOrEnd()){var j=e.current;var q=e.getAsControlPoint();var t=e.getAsCurrentPoint();e.addMarker(t,q,q);f.addQuadraticCurve(j.x,j.y,q.x,q.y,t.x,t.y);if(b!=null)b.quadraticCurveTo(q.x,q.y,t.x,t.y);}break;case'T':case't':while(!e.isCommandOrEnd()){var j=e.current;var q=e.getReflectedControlPoint();e.control=q;var t=e.getAsCurrentPoint();e.addMarker(t,q,q);f.addQuadraticCurve(j.x,j.y,q.x,q.y,t.x,t.y);if(b!=null)b.quadraticCurveTo(q.x,q.y,t.x,t.y);}break;case'A':case'a':while(!e.isCommandOrEnd()){var j=e.current;var w=e.getScalar();var x=e.getScalar();var y=e.getScalar()*(Math.PI/180.0);var z=e.getScalar();var A=e.getScalar();var t=e.getAsCurrentPoint();var B=new o.Point(Math.cos(y)*(j.x-t.x)/2.0+Math.sin(y)*(j.y-t.y)/2.0,-Math.sin(y)*(j.x-t.x)/2.0+Math.cos(y)*(j.y-t.y)/2.0);var l=Math.pow(B.x,2)/Math.pow(w,2)+Math.pow(B.y,2)/Math.pow(x,2);if(l>1){w*=Math.sqrt(l);x*=Math.sqrt(l);}var s=(z==A?-1:1)*Math.sqrt(((Math.pow(w,2)*Math.pow(x,2))-(Math.pow(w,2)*Math.pow(B.y,2))-(Math.pow(x,2)*Math.pow(B.x,2)))/(Math.pow(w,2)*Math.pow(B.y,2)+Math.pow(x,2)*Math.pow(B.x,2)));if(isNaN(s))s=0;var C=new o.Point(s*w*B.y/x,s*-x*B.x/w);var D=new o.Point((j.x+t.x)/2.0+Math.cos(y)*C.x-Math.sin(y)*C.y,(j.y+t.y)/2.0+Math.sin(y)*C.x+Math.cos(y)*C.y);var m=function(v){return Math.sqrt(Math.pow(v[0],2)+Math.pow(v[1],2));};var r=function(u,v){return(u[0]*v[0]+u[1]*v[1])/(m(u)*m(v))};var a=function(u,v){return(u[0]*v[1]<u[1]*v[0]?-1:1)*Math.acos(r(u,v));};var E=a([1,0],[(B.x-C.x)/w,(B.y-C.y)/x]);var u=[(B.x-C.x)/w,(B.y-C.y)/x];var v=[(-B.x-C.x)/w,(-B.y-C.y)/x];var F=a(u,v);if(r(u,v)<=-1)F=Math.PI;if(r(u,v)>=1)F=0;if(A==0&&F>0)F=F-2*Math.PI;if(A==1&&F<0)F=F+2*Math.PI;var G=new o.Point(D.x+w*Math.cos((E+(E+F))/2),D.y+x*Math.sin((E+(E+F))/2));e.addMarkerAngle(G,(E+(E+F))/2+(A==0?-1:1)*Math.PI/2);e.addMarkerAngle(t,(E+F)+(A==0?-1:1)*Math.PI/2);f.addPoint(t.x,t.y);if(b!=null){var r=w>x?w:x;var H=w>x?1:w/x;var I=w>x?x/w:1;b.translate(D.x,D.y);b.rotate(y);b.scale(H,I);b.arc(0,0,r,E,E+F,1-A);b.scale(1/H,1/I);b.rotate(-y);b.translate(-D.x,-D.y);}}break;case'Z':case'z':if(b!=null)b.closePath();e.current=e.start;}}return f;};this.getMarkers=function(){var p=this.PathParser.getMarkerPoints();var a=this.PathParser.getMarkerAngles();var m=[];for(var i=0;i<p.length;i++){m.push([p[i],a[i]]);}return m;}};o.Element.path.prototype=new o.Element.PathElementBase;o.Element.pattern=function(n){this.base=o.Element.ElementBase;this.base(n);this.createPattern=function(a,e){var t=new o.Element.svg();t.attributes['viewBox']=new o.Property('viewBox',this.attribute('viewBox').value);t.attributes['x']=new o.Property('x',this.attribute('x').value);t.attributes['y']=new o.Property('y',this.attribute('y').value);t.attributes['width']=new o.Property('width',this.attribute('width').value);t.attributes['height']=new o.Property('height',this.attribute('height').value);t.children=this.children;var c=document.createElement('canvas');document.body.appendChild(c);c.width=this.attribute('width').toPixels('x')+this.attribute('x').toPixels('x');c.height=this.attribute('height').toPixels('y')+this.attribute('y').toPixels('y');t.render(c.getContext('2d'));return a.createPattern(c,'repeat');}};o.Element.pattern.prototype=new o.Element.ElementBase;o.Element.marker=function(n){this.base=o.Element.ElementBase;this.base(n);this.baseRender=this.render;this.render=function(c,p,a){c.translate(p.x,p.y);if(this.attribute('orient').valueOrDefault('auto')=='auto')c.rotate(a);if(this.attribute('markerUnits').valueOrDefault('strokeWidth')=='strokeWidth')c.scale(c.lineWidth,c.lineWidth);c.save();var t=new o.Element.svg();t.attributes['viewBox']=new o.Property('viewBox',this.attribute('viewBox').value);t.attributes['refX']=new o.Property('refX',this.attribute('refX').value);t.attributes['refY']=new o.Property('refY',this.attribute('refY').value);t.attributes['width']=new o.Property('width',this.attribute('markerWidth').value);t.attributes['height']=new o.Property('height',this.attribute('markerHeight').value);t.attributes['fill']=new o.Property('fill',this.attribute('fill').valueOrDefault('black'));t.attributes['stroke']=new o.Property('stroke',this.attribute('stroke').valueOrDefault('none'));t.children=this.children;t.render(c);c.restore();if(this.attribute('markerUnits').valueOrDefault('strokeWidth')=='strokeWidth')c.scale(1/c.lineWidth,1/c.lineWidth);if(this.attribute('orient').valueOrDefault('auto')=='auto')c.rotate(-a);c.translate(-p.x,-p.y);}};o.Element.marker.prototype=new o.Element.ElementBase;o.Element.defs=function(n){this.base=o.Element.ElementBase;this.base(n);this.render=function(c){}};o.Element.defs.prototype=new o.Element.ElementBase;o.Element.GradientBase=function(n){this.base=o.Element.ElementBase;this.base(n);this.gradientUnits=this.attribute('gradientUnits').valueOrDefault('objectBoundingBox');this.stops=[];for(var i=0;i<this.children.length;i++){var a=this.children[i];this.stops.push(a);}this.getGradient=function(){};this.createGradient=function(b,e){var s=this;if(this.attribute('xlink:href').hasValue()){s=this.attribute('xlink:href').getDefinition();}var g=this.getGradient(b,e);if(g==null)return s.stops[s.stops.length-1].color;for(var i=0;i<s.stops.length;i++){g.addColorStop(s.stops[i].offset,s.stops[i].color);}if(this.attribute('gradientTransform').hasValue()){var r=o.ViewPort.viewPorts[0];var d=new o.Element.rect();d.attributes['x']=new o.Property('x',-o.MAX_VIRTUAL_PIXELS/3.0);d.attributes['y']=new o.Property('y',-o.MAX_VIRTUAL_PIXELS/3.0);d.attributes['width']=new o.Property('width',o.MAX_VIRTUAL_PIXELS);d.attributes['height']=new o.Property('height',o.MAX_VIRTUAL_PIXELS);var f=new o.Element.g();f.attributes['transform']=new o.Property('transform',this.attribute('gradientTransform').value);f.children=[d];var t=new o.Element.svg();t.attributes['x']=new o.Property('x',0);t.attributes['y']=new o.Property('y',0);t.attributes['width']=new o.Property('width',r.width);t.attributes['height']=new o.Property('height',r.height);t.children=[f];var c=document.createElement('canvas');c.width=r.width;c.height=r.height;var j=c.getContext('2d');j.fillStyle=g;t.render(j);return j.createPattern(c,'no-repeat');}return g;}};o.Element.GradientBase.prototype=new o.Element.ElementBase;o.Element.linearGradient=function(n){this.base=o.Element.GradientBase;this.base(n);this.getGradient=function(c,e){var b=e.getBoundingBox();var x=(this.gradientUnits=='objectBoundingBox'?b.x()+b.width()*this.attribute('x1').numValue():this.attribute('x1').toPixels('x'));var y=(this.gradientUnits=='objectBoundingBox'?b.y()+b.height()*this.attribute('y1').numValue():this.attribute('y1').toPixels('y'));var a=(this.gradientUnits=='objectBoundingBox'?b.x()+b.width()*this.attribute('x2').numValue():this.attribute('x2').toPixels('x'));var d=(this.gradientUnits=='objectBoundingBox'?b.y()+b.height()*this.attribute('y2').numValue():this.attribute('y2').toPixels('y'));if(x==a&&y==d)return null;return c.createLinearGradient(x,y,a,d);}};o.Element.linearGradient.prototype=new o.Element.GradientBase;o.Element.radialGradient=function(n){this.base=o.Element.GradientBase;this.base(n);this.getGradient=function(c,e){var b=e.getBoundingBox();if(!this.attribute('cx').hasValue())this.attribute('cx',true).value='50%';if(!this.attribute('cy').hasValue())this.attribute('cy',true).value='50%';if(!this.attribute('r').hasValue())this.attribute('r',true).value='50%';var a=(this.gradientUnits=='objectBoundingBox'?b.x()+b.width()*this.attribute('cx').numValue():this.attribute('cx').toPixels('x'));var d=(this.gradientUnits=='objectBoundingBox'?b.y()+b.height()*this.attribute('cy').numValue():this.attribute('cy').toPixels('y'));var f=a;var g=d;if(this.attribute('fx').hasValue()){f=(this.gradientUnits=='objectBoundingBox'?b.x()+b.width()*this.attribute('fx').numValue():this.attribute('fx').toPixels('x'));}if(this.attribute('fy').hasValue()){g=(this.gradientUnits=='objectBoundingBox'?b.y()+b.height()*this.attribute('fy').numValue():this.attribute('fy').toPixels('y'));}var r=(this.gradientUnits=='objectBoundingBox'?(b.width()+b.height())/2.0*this.attribute('r').numValue():this.attribute('r').toPixels());return c.createRadialGradient(f,g,0,a,d,r);}};o.Element.radialGradient.prototype=new o.Element.GradientBase;o.Element.stop=function(n){this.base=o.Element.ElementBase;this.base(n);this.offset=this.attribute('offset').numValue();var s=this.style('stop-color');if(this.style('stop-opacity').hasValue())s=s.addOpacity(this.style('stop-opacity').value);this.color=s.value;};o.Element.stop.prototype=new o.Element.ElementBase;o.Element.AnimateBase=function(n){this.base=o.Element.ElementBase;this.base(n);o.Animations.push(this);this.duration=0.0;this.begin=this.attribute('begin').toMilliseconds();this.maxDuration=this.begin+this.attribute('dur').toMilliseconds();this.getProperty=function(){var a=this.attribute('attributeType').value;var b=this.attribute('attributeName').value;if(a=='CSS'){return this.parent.style(b,true);}return this.parent.attribute(b,true);};this.initialValue=null;this.initialUnits='';this.removed=false;this.calcValue=function(){return'';};this.update=function(d){if(this.initialValue==null){this.initialValue=this.getProperty().value;this.initialUnits=this.getProperty().getUnits();}if(this.duration>this.maxDuration){if(this.attribute('repeatCount').value=='indefinite'){this.duration=0.0}else if(this.attribute('fill').valueOrDefault('remove')=='remove'&&!this.removed){this.removed=true;this.getProperty().value=this.initialValue;return true;}else{return false;}}this.duration=this.duration+d;var u=false;if(this.begin<this.duration){var a=this.calcValue();if(this.attribute('type').hasValue()){var t=this.attribute('type').value;a=t+'('+a+')';}this.getProperty().value=a;u=true;}return u;};this.from=this.attribute('from');this.to=this.attribute('to');this.values=this.attribute('values');if(this.values.hasValue())this.values.value=this.values.value.split(';');this.progress=function(){var r={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var p=r.progress*(this.values.value.length-1);var l=Math.floor(p),u=Math.ceil(p);r.from=new o.Property('from',parseFloat(this.values.value[l]));r.to=new o.Property('to',parseFloat(this.values.value[u]));r.progress=(p-l)/(u-l);}else{r.from=this.from;r.to=this.to;}return r;}};o.Element.AnimateBase.prototype=new o.Element.ElementBase;o.Element.animate=function(n){this.base=o.Element.AnimateBase;this.base(n);this.calcValue=function(){var p=this.progress();var a=p.from.numValue()+(p.to.numValue()-p.from.numValue())*p.progress;return a+this.initialUnits;};};o.Element.animate.prototype=new o.Element.AnimateBase;o.Element.animateColor=function(n){this.base=o.Element.AnimateBase;this.base(n);this.calcValue=function(){var p=this.progress();var f=new RGBColor(p.from.value);var t=new RGBColor(p.to.value);if(f.ok&&t.ok){var r=f.r+(t.r-f.r)*p.progress;var g=f.g+(t.g-f.g)*p.progress;var b=f.b+(t.b-f.b)*p.progress;return'rgb('+parseInt(r,10)+','+parseInt(g,10)+','+parseInt(b,10)+')';}return this.attribute('from').value;};};o.Element.animateColor.prototype=new o.Element.AnimateBase;o.Element.animateTransform=function(n){this.base=o.Element.animate;this.base(n);};o.Element.animateTransform.prototype=new o.Element.animate;o.Element.font=function(n){this.base=o.Element.ElementBase;this.base(n);this.horizAdvX=this.attribute('horiz-adv-x').numValue();this.isRTL=false;this.isArabic=false;this.fontFace=null;this.missingGlyph=null;this.glyphs=[];for(var i=0;i<this.children.length;i++){var c=this.children[i];if(c.type=='font-face'){this.fontFace=c;if(c.style('font-family').hasValue()){o.Definitions[c.style('font-family').value]=this;}}else if(c.type=='missing-glyph')this.missingGlyph=c;else if(c.type=='glyph'){if(c.arabicForm!=''){this.isRTL=true;this.isArabic=true;if(typeof(this.glyphs[c.unicode])=='undefined')this.glyphs[c.unicode]=[];this.glyphs[c.unicode][c.arabicForm]=c;}else{this.glyphs[c.unicode]=c;}}}};o.Element.font.prototype=new o.Element.ElementBase;o.Element.fontface=function(n){this.base=o.Element.ElementBase;this.base(n);this.ascent=this.attribute('ascent').value;this.descent=this.attribute('descent').value;this.unitsPerEm=this.attribute('units-per-em').numValue();};o.Element.fontface.prototype=new o.Element.ElementBase;o.Element.missingglyph=function(n){this.base=o.Element.path;this.base(n);this.horizAdvX=0;};o.Element.missingglyph.prototype=new o.Element.path;o.Element.glyph=function(n){this.base=o.Element.path;this.base(n);this.horizAdvX=this.attribute('horiz-adv-x').numValue();this.unicode=this.attribute('unicode').value;this.arabicForm=this.attribute('arabic-form').value;};o.Element.glyph.prototype=new o.Element.path;o.Element.text=function(n){this.base=o.Element.RenderedElementBase;this.base(n);if(n!=null){this.children=[];for(var i=0;i<n.childNodes.length;i++){var c=n.childNodes[i];if(c.nodeType==1){this.addChild(c,true);}else if(c.nodeType==3){this.addChild(new o.Element.tspan(c),false);}}}this.baseSetContext=this.setContext;this.setContext=function(a){this.baseSetContext(a);if(this.style('dominant-baseline').hasValue())a.textBaseline=this.style('dominant-baseline').value;if(this.style('alignment-baseline').hasValue())a.textBaseline=this.style('alignment-baseline').value;};this.renderChildren=function(a){var t=this.style('text-anchor').valueOrDefault('start');var x=this.attribute('x').toPixels('x');var y=this.attribute('y').toPixels('y');for(var i=0;i<this.children.length;i++){var b=this.children[i];if(b.attribute('x').hasValue()){b.x=b.attribute('x').toPixels('x');}else{if(this.attribute('dx').hasValue())y+=this.attribute('dx').toPixels('x');if(b.attribute('dx').hasValue())x+=b.attribute('dx').toPixels('x');b.x=x;}var d=b.measureText(a);if(t!='start'&&(i==0||b.attribute('x').hasValue())){var g=d;for(var j=i+1;j<this.children.length;j++){var e=this.children[j];if(e.attribute('x').hasValue())break;g+=e.measureText(a);}b.x-=(t=='end'?g:g/2.0);}x=b.x+d;if(b.attribute('y').hasValue()){b.y=b.attribute('y').toPixels('y');}else{if(this.attribute('dy').hasValue())y+=this.attribute('dy').toPixels('y');if(b.attribute('dy').hasValue())y+=b.attribute('dy').toPixels('y');b.y=y;}y=b.y;b.render(a);}}};o.Element.text.prototype=new o.Element.RenderedElementBase;o.Element.TextElementBase=function(n){this.base=o.Element.RenderedElementBase;this.base(n);this.getGlyph=function(f,t,i){var c=t[i];var g=null;if(f.isArabic){var a='isolated';if((i==0||t[i-1]==' ')&&i<t.length-2&&t[i+1]!=' ')a='terminal';if(i>0&&t[i-1]!=' '&&i<t.length-2&&t[i+1]!=' ')a='medial';if(i>0&&t[i-1]!=' '&&(i==t.length-1||t[i+1]==' '))a='initial';if(typeof(f.glyphs[c])!='undefined'){g=f.glyphs[c][a];if(g==null&&f.glyphs[c].type=='glyph')g=f.glyphs[c];}}else{g=f.glyphs[c];}if(g==null)g=f.missingGlyph;return g;};this.renderChildren=function(c){var a=this.parent.style('font-family').getDefinition();if(a!=null){var f=this.parent.style('font-size').numValueOrDefault(o.Font.Parse(o.ctx.font).fontSize);var b=this.parent.style('font-style').valueOrDefault(o.Font.Parse(o.ctx.font).fontStyle);var t=this.getText();if(a.isRTL)t=t.split("").reverse().join("");var d=o.ToNumberArray(this.parent.attribute('dx').value);for(var i=0;i<t.length;i++){var g=this.getGlyph(a,t,i);var s=f/a.fontFace.unitsPerEm;c.translate(this.x,this.y);c.scale(s,-s);var l=c.lineWidth;c.lineWidth=c.lineWidth*a.fontFace.unitsPerEm/f;if(b=='italic')c.transform(1,0,.4,1,0,0);g.render(c);if(b=='italic')c.transform(1,0,-.4,1,0,0);c.lineWidth=l;c.scale(1/s,-1/s);c.translate(-this.x,-this.y);this.x+=f*(g.horizAdvX||a.horizAdvX)/a.fontFace.unitsPerEm;if(typeof(d[i])!='undefined'&&!isNaN(d[i])){this.x+=d[i];}}return;}if(c.strokeStyle!='')c.strokeText(o.compressSpaces(this.getText()),this.x,this.y);if(c.fillStyle!='')c.fillText(o.compressSpaces(this.getText()),this.x,this.y);};this.getText=function(){};this.measureText=function(c){var a=this.parent.style('font-family').getDefinition();if(a!=null){var f=this.parent.style('font-size').numValueOrDefault(o.Font.Parse(o.ctx.font).fontSize);var m=0;var t=this.getText();if(a.isRTL)t=t.split("").reverse().join("");var d=o.ToNumberArray(this.parent.attribute('dx').value);for(var i=0;i<t.length;i++){var g=this.getGlyph(a,t,i);m+=(g.horizAdvX||a.horizAdvX)*f/a.fontFace.unitsPerEm;if(typeof(d[i])!='undefined'&&!isNaN(d[i])){m+=d[i];}}return m;}var b=o.compressSpaces(this.getText());if(!c.measureText)return b.length*10;c.save();this.setContext(c);var w=c.measureText(b).width;c.restore();return w;}};o.Element.TextElementBase.prototype=new o.Element.RenderedElementBase;o.Element.tspan=function(n){this.base=o.Element.TextElementBase;this.base(n);this.text=n.nodeType==3?n.nodeValue:n.childNodes.length>0?n.childNodes[0].nodeValue:n.text;this.getText=function(){return this.text;}};o.Element.tspan.prototype=new o.Element.TextElementBase;o.Element.tref=function(n){this.base=o.Element.TextElementBase;this.base(n);this.getText=function(){var e=this.attribute('xlink:href').getDefinition();if(e!=null)return e.children[0].getText();}};o.Element.tref.prototype=new o.Element.TextElementBase;o.Element.a=function(n){this.base=o.Element.TextElementBase;this.base(n);this.hasText=true;for(var i=0;i<n.childNodes.length;i++){if(n.childNodes[i].nodeType!=3)this.hasText=false;}this.text=this.hasText?n.childNodes[0].nodeValue:'';this.getText=function(){return this.text;};this.baseRenderChildren=this.renderChildren;this.renderChildren=function(c){if(this.hasText){this.baseRenderChildren(c);var f=new o.Property('fontSize',o.Font.Parse(o.ctx.font).fontSize);o.Mouse.checkBoundingBox(this,new o.BoundingBox(this.x,this.y-f.toPixels('y'),this.x+this.measureText(c),this.y));}else{var g=new o.Element.g();g.children=this.children;g.parent=this;g.render(c);}};this.onclick=function(){var w="noopener,noreferrer";var u=window.navigator.userAgent;if(/MSIE|Trident|Edge/.test(u)){var N=window.open("about:blank",undefined,w);if(N){N.opener=null;N.location.href=this.attribute('xlink:href').value;}}else{window.open(this.attribute('xlink:href').value,undefined,w);}};this.onmousemove=function(){o.ctx.canvas.style.cursor='pointer';}};o.Element.a.prototype=new o.Element.TextElementBase;o.Element.image=function(n){this.base=o.Element.RenderedElementBase;this.base(n);var a=this.attribute('xlink:href').value;var b=a.match(/\.svg$/);o.Images.push(this);this.loaded=false;if(!b){this.img=document.createElement('img');var s=this;this.img.onload=function(){s.loaded=true;};this.img.onerror=function(){if(console)console.log('ERROR: image "'+a+'" not found');s.loaded=true;};this.img.src=a;}else{this.img=o.ajax(a);this.loaded=true;}this.renderChildren=function(c){var x=this.attribute('x').toPixels('x');var y=this.attribute('y').toPixels('y');var w=this.attribute('width').toPixels('x');var d=this.attribute('height').toPixels('y');if(w==0||d==0)return;c.save();if(b){c.drawSvg(this.img,x,y,w,d);}else{c.translate(x,y);o.AspectRatio(c,this.attribute('preserveAspectRatio').value,w,this.img.width,d,this.img.height,0,0);c.drawImage(this.img,0,0);}c.restore();}};o.Element.image.prototype=new o.Element.RenderedElementBase;o.Element.g=function(n){this.base=o.Element.RenderedElementBase;this.base(n);this.getBoundingBox=function(){var b=new o.BoundingBox();for(var i=0;i<this.children.length;i++){b.addBoundingBox(this.children[i].getBoundingBox());}return b;};};o.Element.g.prototype=new o.Element.RenderedElementBase;o.Element.symbol=function(n){this.base=o.Element.RenderedElementBase;this.base(n);this.baseSetContext=this.setContext;this.setContext=function(c){this.baseSetContext(c);if(this.attribute('viewBox').hasValue()){var v=o.ToNumberArray(this.attribute('viewBox').value);var m=v[0];var a=v[1];width=v[2];height=v[3];o.AspectRatio(c,this.attribute('preserveAspectRatio').value,this.attribute('width').toPixels('x'),width,this.attribute('height').toPixels('y'),height,m,a);o.ViewPort.SetCurrent(v[2],v[3]);}}};o.Element.symbol.prototype=new o.Element.RenderedElementBase;o.Element.style=function(n){this.base=o.Element.ElementBase;this.base(n);var c=n.childNodes[0].nodeValue+(n.childNodes.length>1?n.childNodes[1].nodeValue:'');c=c.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,'');c=o.compressSpaces(c);var a=c.split('}');for(var i=0;i<a.length;i++){if(o.trim(a[i])!=''){var b=a[i].split('{');var d=b[0].split(',');var e=b[1].split(';');for(var j=0;j<d.length;j++){var g=o.trim(d[j]);if(g!=''){var p={};for(var k=0;k<e.length;k++){var l=e[k].indexOf(':');var m=e[k].substr(0,l);var v=e[k].substr(l+1,e[k].length-l);if(m!=null&&v!=null){p[o.trim(m)]=new o.Property(o.trim(m),o.trim(v));}}o.Styles[g]=p;if(g=='@font-face'){var q=p['font-family'].value.replace(/"/g,'');var r=p['src'].value.split(',');for(var s=0;s<r.length;s++){if(r[s].indexOf('format("svg")')>0){var u=r[s].indexOf('url');var t=r[s].indexOf(')',u);var w=r[s].substr(u+5,t-u-6);var x=o.parseXml(o.ajax(w));var y=x.getElementsByTagName('font');for(var f=0;f<y.length;f++){var z=o.CreateElement(y[f]);o.Definitions[q]=z;}}}}}}}}};o.Element.style.prototype=new o.Element.ElementBase;o.Element.use=function(n){this.base=o.Element.RenderedElementBase;this.base(n);this.baseSetContext=this.setContext;this.setContext=function(c){this.baseSetContext(c);if(this.attribute('x').hasValue())c.translate(this.attribute('x').toPixels('x'),0);if(this.attribute('y').hasValue())c.translate(0,this.attribute('y').toPixels('y'));};this.getDefinition=function(){var e=this.attribute('xlink:href').getDefinition();if(this.attribute('width').hasValue())e.attribute('width',true).value=this.attribute('width').value;if(this.attribute('height').hasValue())e.attribute('height',true).value=this.attribute('height').value;return e;};this.path=function(c){var e=this.getDefinition();if(e!=null)e.path(c);};this.renderChildren=function(c){var e=this.getDefinition();if(e!=null){var a=e.parent;e.parent=null;e.render(c);e.parent=a;}}};o.Element.use.prototype=new o.Element.RenderedElementBase;o.Element.mask=function(n){this.base=o.Element.ElementBase;this.base(n);this.apply=function(a,e){var x=this.attribute('x').toPixels('x');var y=this.attribute('y').toPixels('y');var w=this.attribute('width').toPixels('x');var b=this.attribute('height').toPixels('y');var m=e.attribute('mask').value;e.attribute('mask').value='';var d=document.createElement('canvas');d.width=x+w;d.height=y+b;var f=d.getContext('2d');this.renderChildren(f);var c=document.createElement('canvas');c.width=x+w;c.height=y+b;var t=c.getContext('2d');e.render(t);t.globalCompositeOperation='destination-in';t.fillStyle=f.createPattern(d,'no-repeat');t.fillRect(0,0,x+w,y+b);a.fillStyle=t.createPattern(c,'no-repeat');a.fillRect(0,0,x+w,y+b);e.attribute('mask').value=m;};this.render=function(c){}};o.Element.mask.prototype=new o.Element.ElementBase;o.Element.clipPath=function(n){this.base=o.Element.ElementBase;this.base(n);this.apply=function(c){for(var i=0;i<this.children.length;i++){if(this.children[i].path){this.children[i].path(c);c.clip();}}};this.render=function(c){}};o.Element.clipPath.prototype=new o.Element.ElementBase;o.Element.filter=function(n){this.base=o.Element.ElementBase;this.base(n);this.apply=function(a,e){var b=e.getBoundingBox();var x=this.attribute('x').toPixels('x');var y=this.attribute('y').toPixels('y');if(x==0||y==0){x=b.x1;y=b.y1;}var w=this.attribute('width').toPixels('x');var d=this.attribute('height').toPixels('y');if(w==0||d==0){w=b.width();d=b.height();}var f=e.style('filter').value;e.style('filter').value='';var g=.20;var p=g*w;var j=g*d;var c=document.createElement('canvas');c.width=w+2*p;c.height=d+2*j;var t=c.getContext('2d');t.translate(-x+p,-y+j);e.render(t);for(var i=0;i<this.children.length;i++){this.children[i].apply(t,0,0,w+2*p,d+2*j);}a.drawImage(c,0,0,w+2*p,d+2*j,x-p,y-j,w+2*p,d+2*j);e.style('filter',true).value=f;};this.render=function(c){}};o.Element.filter.prototype=new o.Element.ElementBase;o.Element.feGaussianBlur=function(n){this.base=o.Element.ElementBase;this.base(n);function m(s){s=Math.max(s,0.01);var l=Math.ceil(s*4.0)+1;mask=[];for(var i=0;i<l;i++){mask[i]=Math.exp(-0.5*(i/s)*(i/s));}return mask;}function b(a){var s=0;for(var i=1;i<a.length;i++){s+=Math.abs(a[i]);}s=2*s+Math.abs(a[0]);for(var i=0;i<a.length;i++){a[i]/=s;}return a;}function c(s,g,j,w,k){for(var y=0;y<k;y++){for(var x=0;x<w;x++){var a=d(s,x,y,w,k,3)/255;for(var r=0;r<4;r++){var l=j[0]*(a==0?255:d(s,x,y,w,k,r))*(a==0||r==3?1:a);for(var i=1;i<j.length;i++){var p=d(s,Math.max(x-i,0),y,w,k,3)/255;var q=d(s,Math.min(x+i,w-1),y,w,k,3)/255;l+=j[i]*((p==0?255:d(s,Math.max(x-i,0),y,w,k,r))*(p==0||r==3?1:p)+(q==0?255:d(s,Math.min(x+i,w-1),y,w,k,r))*(q==0||r==3?1:q));}e(g,y,x,k,w,r,l);}}}}function d(a,x,y,w,g,r){return a[y*w*4+x*4+r];}function e(a,x,y,w,g,r,v){a[y*w*4+x*4+r]=v;}function f(a,w,g,s){var j=a.getImageData(0,0,w,g);var k=m(s);k=b(k);tmp=[];c(j.data,tmp,k,w,g);c(tmp,j.data,k,g,w);a.clearRect(0,0,w,g);a.putImageData(j,0,0);}this.apply=function(a,x,y,w,g){f(a,w,g,this.attribute('stdDeviation').numValue());}};o.Element.filter.prototype=new o.Element.feGaussianBlur;o.Element.title=function(n){};o.Element.title.prototype=new o.Element.ElementBase;o.Element.desc=function(n){};o.Element.desc.prototype=new o.Element.ElementBase;o.Element.MISSING=function(n){if(console)console.log('ERROR: Element \''+n.nodeName+'\' not yet implemented.');};o.Element.MISSING.prototype=new o.Element.ElementBase;o.CreateElement=function(n){var c=n.nodeName.replace(/^[^:]+:/,'');c=c.replace(/\-/g,'');var e=null;if(typeof(o.Element[c])!='undefined'){e=new o.Element[c](n);}else{e=new o.Element.MISSING(n);}e.type=n.nodeName;return e;};o.load=function(c,u){o.loadXml(c,o.ajax(u));};o.loadXml=function(c,x){o.loadXmlDoc(c,o.parseXml(x));};o.loadXmlDoc=function(c,d){o.init(c);var m=function(p){var e=c.canvas;while(e){p.x-=e.offsetLeft;p.y-=e.offsetTop;e=e.offsetParent;}if(window.scrollX)p.x+=window.scrollX;if(window.scrollY)p.y+=window.scrollY;return p;};if(o.opts['ignoreMouse']!=true){c.canvas.onclick=function(e){var p=m(new o.Point(e!=null?e.clientX:event.clientX,e!=null?e.clientY:event.clientY));o.Mouse.onclick(p.x,p.y);};c.canvas.onmousemove=function(e){var p=m(new o.Point(e!=null?e.clientX:event.clientX,e!=null?e.clientY:event.clientY));o.Mouse.onmousemove(p.x,p.y);};}var e=o.CreateElement(d.documentElement);e.root=true;var a=true;var b=function(){o.ViewPort.Clear();if(c.canvas.parentNode)o.ViewPort.SetCurrent(c.canvas.parentNode.clientWidth,c.canvas.parentNode.clientHeight);if(o.opts['ignoreDimensions']!=true){if(e.style('width').hasValue()){c.canvas.width=e.style('width').toPixels('x');c.canvas.style.width=c.canvas.width+'px';}if(e.style('height').hasValue()){c.canvas.height=e.style('height').toPixels('y');c.canvas.style.height=c.canvas.height+'px';}}var f=c.canvas.clientWidth||c.canvas.width;var g=c.canvas.clientHeight||c.canvas.height;if(o.opts['ignoreDimensions']==true&&e.style('width').hasValue()&&e.style('height').hasValue()){f=e.style('width').toPixels('x');g=e.style('height').toPixels('y');}o.ViewPort.SetCurrent(f,g);if(o.opts['offsetX']!=null)e.attribute('x',true).value=o.opts['offsetX'];if(o.opts['offsetY']!=null)e.attribute('y',true).value=o.opts['offsetY'];if(o.opts['scaleWidth']!=null&&o.opts['scaleHeight']!=null){var x=1,y=1,v=o.ToNumberArray(e.attribute('viewBox').value);if(e.attribute('width').hasValue())x=e.attribute('width').toPixels('x')/o.opts['scaleWidth'];else if(!isNaN(v[2]))x=v[2]/o.opts['scaleWidth'];if(e.attribute('height').hasValue())y=e.attribute('height').toPixels('y')/o.opts['scaleHeight'];else if(!isNaN(v[3]))y=v[3]/o.opts['scaleHeight'];e.attribute('width',true).value=o.opts['scaleWidth'];e.attribute('height',true).value=o.opts['scaleHeight'];e.attribute('viewBox',true).value='0 0 '+(f*x)+' '+(g*y);e.attribute('preserveAspectRatio',true).value='none';}if(o.opts['ignoreClear']!=true){c.clearRect(0,0,f,g);}e.render(c);if(a){a=false;if(typeof(o.opts['renderCallback'])=='function')o.opts['renderCallback']();}};var w=true;if(o.ImagesLoaded()){w=false;b();}o.intervalID=setInterval(function(){var n=false;if(w&&o.ImagesLoaded()){w=false;n=true;}if(o.opts['ignoreMouse']!=true){n=n|o.Mouse.hasEvents();}if(o.opts['ignoreAnimation']!=true){for(var i=0;i<o.Animations.length;i++){n=n|o.Animations[i].update(1000/o.FRAMERATE);}}if(typeof(o.opts['forceRedraw'])=='function'){if(o.opts['forceRedraw']()==true)n=true;}if(n){b();o.Mouse.runEvents();}},1000/o.FRAMERATE);};o.stop=function(){if(o.intervalID){clearInterval(o.intervalID);}};o.Mouse=new(function(){this.events=[];this.hasEvents=function(){return this.events.length!=0;};this.onclick=function(x,y){this.events.push({type:'onclick',x:x,y:y,run:function(e){if(e.onclick)e.onclick();}});};this.onmousemove=function(x,y){this.events.push({type:'onmousemove',x:x,y:y,run:function(e){if(e.onmousemove)e.onmousemove();}});};this.eventElements=[];this.checkPath=function(a,c){for(var i=0;i<this.events.length;i++){var e=this.events[i];if(c.isPointInPath&&c.isPointInPath(e.x,e.y))this.eventElements[i]=a;}};this.checkBoundingBox=function(a,b){for(var i=0;i<this.events.length;i++){var e=this.events[i];if(b.isPointInBox(e.x,e.y))this.eventElements[i]=a;}};this.runEvents=function(){o.ctx.canvas.style.cursor='';for(var i=0;i<this.events.length;i++){var e=this.events[i];var a=this.eventElements[i];while(a){e.run(a);a=a.parent;}}this.events=[];this.eventElements=[];}});return o;}
})();if(CanvasRenderingContext2D){CanvasRenderingContext2D.prototype.drawSvg=function(s,d,a,b,c){canvg(this.canvas,s,{ignoreMouse:true,ignoreAnimation:true,ignoreDimensions:true,ignoreClear:true,offsetX:d,offsetY:a,scaleWidth:b,scaleHeight:c});}}
}
},"sap/viz/library-preload"
);
//# sourceMappingURL=library-preload.js.map