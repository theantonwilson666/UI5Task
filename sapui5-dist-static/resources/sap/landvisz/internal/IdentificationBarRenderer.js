/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.define(["sap/landvisz/library","sap/landvisz/EntityConstants","sap/ui/commons/Button","sap/ui/commons/Callout","sap/ui/commons/library"],function(l,E,B,C,c){"use strict";var T=c.TextViewDesign;var a=l.ComponentType;var b=l.EntityCSSSize;var L=l.LandscapeObject;var d=l.TechnicalSystemType;var I={};I.render=function(r,o){this.tSize=null;this.sEntityIconSizePath="32x32",this.tSIDTextSize=T.H4;this.squalifierTextSize=null;this.sQualifierIconSizePath=null;var e=sap.ui.getCore().getLibraryResourceBundle("sap.landvisz");var i=o.getId();var s=o.getRenderingSize();if(!this.initializationDone){o.initControls();o.initializationDone=true;r.write("<div");r.writeControlData(o);this._renderObjectType(r,o);var t=o._oBundle.getText(o.getType());r.writeAttributeEscaped('title',t);if(o.entityMaximized!=true){r.addClass("sapLandVisIdentificationBarSize");if(s==b.Small){r.addClass("sapLandVisIdentificationBarSmallSize");this.sEntityIconSizePath="32x32";}else if(s==b.RegularSmall){r.addClass("sapLandVisIdentificationBarRegularSmallSize");this.sEntityIconSizePath="48x48";}else if(s==b.Regular){r.addClass("sapLandVisIdentificationBarRegularSize");this.sEntityIconSizePath="48x48";}else if(s==b.Medium){r.addClass("sapLandVisIdentificationBarMediumSize");this.sEntityIconSizePath="48x48";}if(s==b.Large){r.addClass("sapLandVisIdentificationBarLargeSize");this.sEntityIconSizePath="48x48";}}else if(o.entityMaximized==true){r.addClass("sapLandVisIdentificationBarSize");r.addClass("sapLandVisIdentificationBarMaximizeSize");if(o.maxHeight&&o.maxHeight!=0)r.addStyle("height",o.maxHeight+"px");this.sEntityIconSizePath="48x48";}r.writeStyles();r.writeClasses();r.write(">");this._renderIdentificationProperties(r,o);if(o.getType()==L.TechnicalSystem||o.getType()==L.SapComponent)this._renderQualifierProperties(r,o);this._renderDescriptionCallOut(r,o);r.write("</div>");}};I._renderObjectType=function(r,o){var t=o.getType();switch(t){case L.TechnicalSystem:r.addStyle("background-color","rgb(0, 143, 211)");break;case L.ProductSystem:r.addStyle("background-color","rgb(243, 155, 2)");break;case L.Database:r.addStyle("background-color","rgb(0, 0, 0)");break;case L.Product:r.addStyle("background-color","rgb(137, 124, 98)");break;case L.ProductVersion:r.addStyle("background-color","rgb(137, 124, 98)");break;case L.SapComponent:r.addStyle("background-color","rgb(102, 102, 102)");break;}};I._renderIdentificationProperties=function(r,o){if(o){var t=o.getType();o.oIdentifierText.setText(o.getText());o.oIdentifierText.setTooltip(o.getTooltip());o.oIdentifierText.addStyleClass("IdentificationText");o.oIdentifierText.attachBrowserEvent("mouseclick",function(h){E.internalEvent=true;});var s=this._renderIdentifireIcon(o,"enable");o.oIdentifierIcon.setSrc(s).addStyleClass("img");o.oIdentifierIcon.attachPress(function(h){E.internalEvent=true;});o.oIdentifierIcon.setAlt("landscape Entity Image");var e=o._oBundle.getText(o.getType());var f=o.getComponentType();if(o.getType()==L.SapComponent&&f==a.onDemand)e=e+"-"+o.OnDemandText;else if(o.getType()==L.SapComponent&&f==a.onPremise)e=e+"-"+o.OnPremiseText;o.oIdentifierIcon.setTooltip(e);r.write("<div");r.addClass("entityIcon");r.writeClasses();r.write(">");var g=this;o.oIdentifierIcon.attachBrowserEvent("mouseenter",function(h){h.currentTarget.src=g._renderIdentifireIcon(o,"hover");});o.oIdentifierIcon.attachBrowserEvent("mouseleave",function(h){h.currentTarget.src=g._renderIdentifireIcon(o,"enable");});r.renderControl(o.oIdentifierIcon);r.write("</div>");r.write("<div");var i=0;if(o.maxHeight!=0)i=o.maxHeight-175;if(o.entityMaximized==true){if(i!=0)r.addStyle("height",i+"px");}else r.addStyle("height","auto");r.addStyle("text-align","center");r.writeStyles();r.write(">");r.renderControl(o.oIdentifierText);r.write("</div>");}};I._renderIdentifireIcon=function(o,e){var i=sap.ui.resource("sap.landvisz","themes/base/img/landscapeobjects/");if(o.getRenderingSize()==b.Small)i=i+"32x32";else i=i+"48x48";var t=o.getType();var f=o.getComponentType();switch(t){case L.TechnicalSystem:i=i+"/TechnicalSystem_"+e+".png";break;case L.ProductSystem:i=i+"/ProductSystem_"+e+".png";break;case L.Database:i=i+"/Database_"+e+".png";break;case L.Product:i=i+"/Product_"+e+".png";break;case L.ProductVersion:i=i+"/ProductVersion_"+e+".png";break;case L.SapComponent:if(f==a.onDemand)i=i+"/sap_on_demand.png";else if(f==a.onPremise)i=i+"/sap_on_premise.png";break;}return i;};I._renderQualifierProperties=function(r,o){if(o){o.oQualifierText.setText(o.getQualifierText());o.oIdentifierText.setTooltip(o.getQualifierTooltip());var t=o._oBundle.getText(o.getQualifierText());o.oQualifierText.addStyleClass("qualifierText");o.oQualifierText.setTooltip(t);o.oQualifierText.attachBrowserEvent("mouseclick",function(e){E.internalEvent=true;});this._setQualifierIconSrc(r,o);o.oQualifierIcon.setTooltip(t);o.oQualifierIcon.attachPress(function(e){E.internalEvent=true;});r.write("<div");r.addClass("qualifierIcon");r.writeClasses();r.write(">");r.renderControl(o.oQualifierIcon);r.write("</div>");r.write("<div");r.addClass("");r.writeClasses();r.write(">");r.renderControl(o.oQualifierText);r.write("</div>");}};I._setQualifierIconSrc=function(r,o){var q=o.getQualifierType();switch(q){case d.ABAP:o.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/ABAPApplicationServer.png"));break;case d.JAVA:o.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/ApplicationServerJava.png"));break;case d.HANADB:o.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/HanaDatabase.png"));break;case d.SBOP:o.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/BusinessObjectsCluster.png"));break;case d.DUAL:o.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/DualStackSystem.png"));break;case d.SUP:o.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/SybaseUnwiredPlatform.png"));break;case d.GENERIC:o.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/GenaricApplications.png"));break;case d.INTROSCOPEMGR:o.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/IntroscopeManagerCluster.png"));break;case d.INTROSCOPESTD:o.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/IntroscopeManagerStandalone.png"));break;case d.LIVECACHESAP:o.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/LiveCache.png"));break;case d.MDM:o.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/MasterDataManagement.png"));break;case d.TREX:o.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/TREX.png"));break;case d.UNSP3TIER:o.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/Unspecific3LayerSystem.png"));break;case d.UNSPCLUSTER:o.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/UnspecificCluster.png"));break;case d.UNSPAPP:o.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/UnspecificStandaloneApplication.png"));break;case d.MSNET:o.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/VendorSpecificServer.png"));break;case d.APACHESERVER:o.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/VendorSpecificServer.png"));break;case d.WEBSPHERE:o.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/VendorSpecificServer.png"));break;case d.MSIISINST:o.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/VendorSpecificServer.png"));break;case d.WEBDISP:o.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/WebDispatcher.png"));break;}};I._renderDescriptionCallOut=function(r,o){if(o){if(o.getDescription()){function e(t){o.oButton=new B({text:t,lite:true});o.oCallout=new C({content:o.oButton});return o.oCallout;};o.oIdentifierIcon.setTooltip(e(o.getDescription()));}}};return I;},true);
