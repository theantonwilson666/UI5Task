/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2017 SAP SE. All rights reserved
 */
sap.ui.define(['./MessageQueueUtil','sap/m/MessageBox','sap/ui/base/Object','jquery.sap.resources','jquery.sap.global'],function(M,a,B,q){"use strict";var C=B.extend("sap.collaboration.components.utils.CommonUtil",{constructor:function(){this.MessageQueueUtil=new M();},getLanguageBundle:function(){if(!this.oLangBundle){var l=sap.ui.getCore().getConfiguration().getLanguage();this.oLangBundle=q.sap.resources({url:q.sap.getModulePath("sap.collaboration.components")+"/resources/i18n/messagebundle.properties",locale:l});}return this.oLangBundle;},displayError:function(e){var s=this;var m="";var o={icon:a.Icon.ERROR,title:s.getLanguageBundle().getText("SYSTEM_ERROR_MESSAGEBOX_TITLE")};if(!e||e===""){m=s.getLanguageBundle().getText("SYSTEM_ERROR_MESSAGEBOX_GENERAL_TEXT");}else{m=e;}this.MessageQueueUtil.displayMessage(m,o,"MBox");},showMessage:function(m,o){this.MessageQueueUtil.displayMessage(m,o,"MToast");},isValidDate:function(d){if(Object.prototype.toString.call(d)!=="[object Date]"||isNaN(d.getTime())){q.sap.log.error("DateUtils invalid date="+d);return false;}return true;},isString:function(o){return Object.prototype.toString.call(o)==="[object String]";},isObject:function(o){return Object.prototype.toString.call(o)==="[object Object]";},isFunction:function(o){return Object.prototype.toString.call(o)==="[object Function]";},isArrayOfStrings:function(o){var i;if(Array.isArray(o)){for(i in o){if(!this.isString(o[i])){return false;}}return true;}else{return false;}},getIconFromMimeType:function(v){var i="";if(!v){return"sap-icon://document";}if(v.indexOf('image')===0){i="sap-icon://attachment-photo";}else if(v.indexOf('video')===0){i="sap-icon://attachment-video";}else if(v.indexOf('text')===0){i="sap-icon://attachment-text-file";}else if(v.indexOf('audio')===0){i="sap-icon://attachment-audio";}else if(v.indexOf('audio')===0){i="sap-icon://attachment-audio";}else if(v.indexOf('application')===0){switch(v){case'application/vnd.openxmlformats-officedocument.presentationml.presentation':case'application/vnd.ms-powerpoint':case'application/vnd.openxmlformats-officedocument.presentationml.template':i="sap-icon://ppt-attachment";break;case'application/msword':case'application/vnd.openxmlformats-officedocument.wordprocessingml.document':case'application/vnd.openxmlformats-officedocument.wordprocessingml.template':i="sap-icon://doc-attachment";break;case'application/vnd.ms-excel':case'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':case'application/vnd.openxmlformats-officedocument.spreadsheetml.template':i="sap-icon://excel-attachment";break;case'application/pdf':i="sap-icon://pdf-attachment";break;case'application/xhtml+xml':i="sap-icon://attachment-html";break;case'application/zip':case'application/gzip':i="sap-icon://attachment-zip-file";break;default:i="sap-icon://document";}}else{i="sap-icon://document";}return i;},areArraysEqual:function(b,c){var o=function(x,y){var o=true;for(var p in x){if(x[p]!==y[p]){o=false;break;}}return o;};if(b.length!==c.length){return false;}for(var i=0;i<b.length;i++){if(!o(b[i],c[i])){return false;}}return true;},b64toBlob:function(b,c,s){c=c||'';s=s||512;var d=window.atob(b);var e=[];for(var o=0;o<d.length;o+=s){var f=d.slice(o,o+s);var g=new Array(f.length);for(var i=0;i<f.length;i++){g[i]=f.charCodeAt(i);}var h=new window.Uint8Array(g);e.push(h);}var j=new window.Blob(e,{type:c});return j;},getODataResult:function(d){return d.results?d.results:d;},});return C;});
