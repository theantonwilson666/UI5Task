/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2017 SAP SE. All rights reserved
 */
sap.ui.define(['sap/collaboration/components/utils/CommonUtil','sap/collaboration/library','sap/ui/core/UIComponent','jquery.sap.global','sap/ui/core/mvc/View','sap/ui/core/library'],function(C,l,U,q,V,c){"use strict";var a=c.mvc.ViewType;var b=U.extend("sap.collaboration.components.fiori.notification.Component",{metadata:{properties:{oDataServiceUrl:{type:"sap.ui.core.URI",defaultValue:"/sap/opu/odata/sap/SM_INTEGRATION_SRV"},numberOfNotifications:{type:"int",defaultValue:10},transitionInterval:{type:"int",defaultValue:10},refreshInterval:{type:"int",defaultValue:300},notificationsTargetUrl:{type:"sap.ui.core.URI"}}},init:function(){this.iMillisecondsPerSecond=1000;this.oCommonUtil=new C();this.oLangBundle=this.oCommonUtil.getLanguageBundle();this.sStyleClassPrefix="sapClbNotif";},onBeforeRendering:function(){},onAfterRendering:function(){q.sap.log.debug("Notification Component properties:",this.mProperties.toString(),"sap.collaboration.components.fiori.notification.Component.onAfterRendering()");q.sap.log.debug("oDataServiceUrl: "+this.getODataServiceUrl());q.sap.log.debug("numberOfNotifications: "+this.getNumberOfNotifications());q.sap.log.debug("transitionInterval: "+this.getTransitionInterval());q.sap.log.debug("refreshInterval: "+this.getRefreshInterval());q.sap.log.debug("notificationsTargetUrl: "+this.getNotificationsTargetUrl());if(!this.oNotificationView){this.oNotificationView=sap.ui.view({id:this.getId()+"_NotificationView",viewData:{controlId:this.getId(),langBundle:this.oLangBundle,oDataServiceUrl:this.getODataServiceUrl(),numberOfNotifications:this.getNumberOfNotifications(),transitionInterval:this.getTransitionInterval()*this.iMillisecondsPerSecond,refreshInterval:this.getRefreshInterval()*this.iMillisecondsPerSecond,notificationsTargetUrl:this.getNotificationsTargetUrl(),styleClassPrefix:this.sStyleClassPrefix},type:a.JS,viewName:"sap.collaboration.components.fiori.notification.Notification"});}this.oNotificationView.placeAt(this.getId());},exit:function(){this.deactivateNotificationRefreshAndTransition();this.oNotificationView.destroy();},render:function(r){r.write("<div id='"+this.getId()+"'");r.addClass(this.sStyleClassPrefix+"Component");r.addClass(this.sStyleClassPrefix+"CursorPointer");r.writeClasses();r.write(">");r.write("</div>");},deactivateNotificationRefreshAndTransition:function(){this.oNotificationView.getController().deactivateNotificationTransition();this.oNotificationView.getController().deactivateNotificationRefresh();}});return b;});
