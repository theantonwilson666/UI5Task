//@ui5-bundle sap/ushell_abap/bootstrap/appruntime-min-2.js
sap.ui.require.preload({
	"sap/ui/thirdparty/jquery-mobile-custom.js":function(){
/*
* jQuery Mobile v1.3.1
* http://jquerymobile.com
*
* Copyright 2010, 2013 jQuery Foundation, Inc. and other contributors
* Released under the MIT license.
* http://jquery.org/license
*
*/
(function(r,d,f){if(typeof define==="function"&&define.amd){define(["jquery"],function($){f($,r,d);return $.mobile;});}else{f(r.jQuery,r,d);}}(this,document,function(Q,d,f,u){
// About: License
// Copyright (c) 2010 "Cowboy" Ben Alman,
// Dual licensed under the MIT and GPL licenses.
// http://benalman.com/about/license/
(function($,d,u){var s='hashchange',a=f,b,c=$.event.special,e=a.documentMode,g='on'+s in d&&(e===u||e>7);function h(i){i=i||location.href;return'#'+i.replace(/^[^#]*#?(.*)$/,'$1');};$.fn[s]=function(i){return i?this.on(s,i):this.trigger(s);};$.fn[s].delay=50;c[s]=$.extend(c[s],{setup:function(){if(g){return false;}$(b.start);},teardown:function(){if(g){return false;}$(b.stop);}});b=(function(){var i={},t,l=h(),j=function(v){return v;},k=j,m=j;i.start=function(){t||p();};i.stop=function(){t&&clearTimeout(t);t=u;};function p(){var n=h(),o=m(l);if(n!==l){k(l=n,o);$(d).trigger(s);}else if(o!==l){location.href=location.href.replace(/#.*/,'')+o;}t=setTimeout(p,$.fn[s].delay);};return i;})();})(Q,this);(function($){$.mobile={};Q.mobile.orientationChangeEnabled=true;}(Q));(function($,d,u){var n={};$.mobile=$.extend($.mobile,{version:"1.3.1",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:true,hashListeningEnabled:true,linkBindingEnabled:true,defaultPageTransition:"fade",maxTransitionWidth:false,minScrollBack:250,touchOverflowEnabled:false,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"e",phonegapNavigationEnabled:false,autoInitializePage:true,pushStateEnabled:true,ignoreContentEnabled:false,orientationChangeEnabled:true,buttonMarkup:{hoverDelay:200},window:$(d),document:$(f),keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},behaviors:{},silentScroll:function(y){if(typeof y!=="number"){y=$.mobile.defaultHomeScroll;}$.event.special.scrollstart.enabled=false;setTimeout(function(){d.scrollTo(0,y);$.mobile.document.trigger("silentscroll",{x:0,y:y});},20);setTimeout(function(){$.event.special.scrollstart.enabled=true;},150);},nsNormalizeDict:n,nsNormalize:function(p){if(!p){return;}return n[p]||(n[p]=$.camelCase($.mobile.ns+p));},getInheritedTheme:function(a,b){var e=a[0],l="",r=/ui-(bar|body|overlay)-([a-z])\b/,c,m;while(e){c=e.className||"";if(c&&(m=r.exec(c))&&(l=m[2])){break;}e=e.parentNode;}return l||b||"a";},closestPageData:function(a){return a.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("mobile-page");},enhanceable:function(a){return this.haveParents(a,"enhance");},hijackable:function(a){return this.haveParents(a,"ajax");},haveParents:function(a,b){if(!$.mobile.ignoreContentEnabled){return a;}var g=a.length,h=$(),e,k,l;for(var i=0;i<g;i++){k=a.eq(i);l=false;e=a[i];while(e){var c=e.getAttribute?e.getAttribute("data-"+$.mobile.ns+b):"";if(c==="false"){l=true;break;}e=e.parentNode;}if(!l){h=h.add(k);}}return h;},getScreenHeight:function(){return d.innerHeight||$.mobile.window.height();}},$.mobile);$.fn.jqmData=function(p,v){var r;if(typeof p!=="undefined"){if(p){p=$.mobile.nsNormalize(p);}if(arguments.length<2||v===u){r=this.data(p);}else{r=this.data(p,v);}}return r;};$.jqmData=function(e,p,v){var r;if(typeof p!=="undefined"){r=$.data(e,p?$.mobile.nsNormalize(p):p,v);}return r;};$.fn.jqmRemoveData=function(p){return this.removeData($.mobile.nsNormalize(p));};$.jqmRemoveData=function(e,p){return $.removeData(e,$.mobile.nsNormalize(p));};$.fn.removeWithDependents=function(){$.removeWithDependents(this);};$.removeWithDependents=function(e){var a=$(e);(a.jqmData('dependents')||$()).remove();a.remove();};$.fn.addDependents=function(a){$.addDependents($(this),a);};$.addDependents=function(e,a){var b=$(e).jqmData('dependents')||$();$(e).jqmData('dependents',$.merge(b,a));};$.fn.getEncodedText=function(){return $("<div/>").text($(this).text()).html();};$.fn.jqmEnhanceable=function(){return $.mobile.enhanceable(this);};$.fn.jqmHijackable=function(){return $.mobile.hijackable(this);};var o=$.find,j=/:jqmData\(([^)]*)\)/g;$.find=function(s,c,r,e){s=s.replace(j,"[data-"+($.mobile.ns||"")+"$1]");return o.call(this,s,c,r,e);};$.extend($.find,o);})(Q,this);(function($,u){
/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */
d.matchMedia=d.matchMedia||(function(a,u){var b,c=a.documentElement,r=c.firstElementChild||c.firstChild,e=a.createElement("body"),g=a.createElement("div");g.id="mq-test-1";g.style.cssText="position:absolute;top:-100em";e.style.background="none";e.appendChild(g);return function(q){g.innerHTML="&shy;<style media=\""+q+"\"> #mq-test-1 { width: 42px; }</style>";c.insertBefore(e,r);b=g.offsetWidth===42;c.removeChild(e);return{matches:b,media:q};};}(f));$.mobile.media=function(q){return d.matchMedia(q).matches;};})(Q);(function($,u){var s={touch:"ontouchend"in f};if(d.sap&&sap.ui&&sap.ui.Device&&sap.ui.Device.support&&!(sap.ui.Device.browser.msie||sap.ui.Device.browser.edge)){s.touch=sap.ui.Device.support.touch}$.mobile.support=$.mobile.support||{};$.extend($.support,s);$.extend($.mobile.support,s);}(Q));(function($,u){$.extend($.support,{orientation:"orientation"in d&&"onorientationchange"in d});}(Q));(function($,u){function p(a){var i=a.charAt(0).toUpperCase()+a.substr(1),s=(a+" "+e.join(i+" ")+i).split(" ");for(var v in s){if(c[s[v]]!==u){return true;}}}var b=$("<body>").prependTo("html"),c=b[0].style,e=["Webkit","Moz","O"],g="palmGetResource"in d,o=d.opera,h=d.operamini&&({}).toString.call(d.operamini)==="[object OperaMini]",j=d.blackberry&&!p("-webkit-transform");function k(a,v,s){var t=f.createElement('div'),w=function(B){return B.charAt(0).toUpperCase()+B.substr(1);},x=function(B){if(B===""){return"";}else{return"-"+B.charAt(0).toLowerCase()+B.substr(1)+"-";}},y=function(B){var C=x(B)+a+": "+v+";",D=w(B),E=D+(D===""?a:w(a));t.setAttribute("style",C);if(!!t.style[E]){A=true;}},z=s?s:e,A;for(var i=0;i<z.length;i++){y(z[i]);}return!!A;}function l(){var a="transform-3d",i=$.mobile.media("(-"+e.join("-"+a+"),(-")+"-"+a+"),("+a+")");if(i){return!!i;}var s=f.createElement("div"),v={'MozTransform':'-moz-transform','transform':'transform'};b.append(s);for(var t in v){if(s.style[t]!==u){s.style[t]='translate3d( 100px, 1px, 1px )';i=d.getComputedStyle(s).getPropertyValue(v[t]);}}return(!!i&&i!=="none");}function m(){var a=f.createElement('x'),i=f.documentElement,s=d.getComputedStyle,t=s&&s(a,''),v;if(!('pointerEvents'in a.style)){return false;}a.style.pointerEvents='auto';a.style.pointerEvents='x';i.appendChild(a);v=t&&t.pointerEvents==='auto';i.removeChild(a);return!!v;}function n(){var a=f.createElement("div");return typeof a.getBoundingClientRect!=="undefined";}$.extend($.mobile,{browser:{}});$.mobile.browser.oldIE=(function(){var v=3,i=f.createElement("div"),a=i.all||[];do{i.innerHTML="<!--[if gt IE "+(++v)+"]><br><![endif]-->";}while(a[0]);return v>4?v:!v;})();function q(){var w=d,a=navigator.userAgent,i=navigator.platform,s=a.match(/AppleWebKit\/([0-9]+)/),t=!!s&&s[1],v=a.match(/Fennec\/([0-9]+)/),x=!!v&&v[1],y=a.match(/Opera Mobi\/([0-9]+)/),z=!!y&&y[1];if(((i.indexOf("iPhone")>-1||i.indexOf("iPad")>-1||i.indexOf("iPod")>-1)&&t&&t<534)||(w.operamini&&({}).toString.call(w.operamini)==="[object OperaMini]")||(y&&z<7458)||(a.indexOf("Android")>-1&&t&&t<533)||(x&&x<6)||("palmGetResource"in d&&t&&t<534)||(a.indexOf("MeeGo")>-1&&a.indexOf("NokiaBrowser/8.5.0")>-1)){return false;}return true;}$.extend($.support,{cssTransitions:"WebKitTransitionEvent"in d||k('transition','height 100ms linear',["Webkit","Moz",""])&&!$.mobile.browser.oldIE&&!o,pushState:"pushState"in history&&"replaceState"in history&&!(d.navigator.userAgent.indexOf("Firefox")>=0&&d.top!==d)&&(d.navigator.userAgent.search(/CriOS/)===-1),mediaquery:$.mobile.media("only all"),cssPseudoElement:!!p("content"),touchOverflow:!!p("overflowScrolling"),cssTransform3d:l(),boxShadow:!!p("boxShadow")&&!j,fixedPosition:q(),scrollTop:("pageXOffset"in d||"scrollTop"in f.documentElement||"scrollTop"in b[0])&&!g&&!h,dynamicBaseTag:true,cssPointerEvents:m(),boundingRect:n()});b.remove();var r=(function(){var a=d.navigator.userAgent;return a.indexOf("Nokia")>-1&&(a.indexOf("Symbian/3")>-1||a.indexOf("Series60/5")>-1)&&a.indexOf("AppleWebKit")>-1&&a.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/);})();$.mobile.gradeA=function(){return($.support.mediaquery||$.mobile.browser.oldIE&&$.mobile.browser.oldIE>=7)&&($.support.boundingRect||$.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/)!==null);};$.mobile.ajaxBlacklist=d.blackberry&&!d.WebKitPoint||h||r;if(r){$(function(){$("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet");});}if(!$.support.boxShadow){$("html").addClass("ui-mobile-nosupport-boxshadow");}})(Q);(function($,u){var a=$.mobile.window,s,h;$.event.special.navigate=s={bound:false,pushStateEnabled:true,originalEventName:u,isPushStateEnabled:function(){return $.support.pushState&&$.mobile.pushStateEnabled===true&&this.isHashChangeEnabled();},isHashChangeEnabled:function(){return $.mobile.hashListeningEnabled===true;},popstate:function(e){var n=new $.Event("navigate"),b=new $.Event("beforenavigate"),c=e.originalEvent.state||{},g=location.href;a.trigger(b);if(b.isDefaultPrevented()){return;}if(e.historyState){$.extend(c,e.historyState);}n.originalEvent=e;setTimeout(function(){a.trigger(n,{state:c});},0);},hashchange:function(e,b){var n=new $.Event("navigate"),c=new $.Event("beforenavigate");a.trigger(c);if(c.isDefaultPrevented()){return;}n.originalEvent=e;a.trigger(n,{state:e.hashchangeState||{}});},setup:function(b,n){if(s.bound){return;}s.bound=true;if(s.isPushStateEnabled()){s.originalEventName="popstate";a.on("popstate.navigate",s.popstate);}else if(s.isHashChangeEnabled()){s.originalEventName="hashchange";a.on("hashchange.navigate",s.hashchange);}}};})(Q);(function($){$.event.special.throttledresize={setup:function(){$(this).on("resize",h);},teardown:function(){$(this).off("resize",h);}};var t=250,h=function(){c=(new Date()).getTime();b=c-l;if(b>=t){l=c;$(this).trigger("throttledresize");}else{if(a){clearTimeout(a);}a=setTimeout(h,t-b);}},l=0,a,c,b;})(Q);(function($,d){var w=$(d),e="orientationchange",s,g,l,i,a,p={"0":true,"180":true};if($.support.orientation){var b=d.innerWidth||w.width(),c=d.innerHeight||w.height(),h=50;i=b>c&&(b-c)>h;a=p[d.orientation];if((i&&a)||(!i&&!a)){p={"-90":true,"90":true};}}$.event.special.orientationchange=$.extend({},$.event.special.orientationchange,{setup:function(){if($.support.orientation&&!$.event.special.orientationchange.disabled){return false;}l=g();w.on("throttledresize",j);},teardown:function(){if($.support.orientation&&!$.event.special.orientationchange.disabled){return false;}w.off("throttledresize",j);},add:function(k){var o=k.handler;k.handler=function(m){m.orientation=g();return o.apply(this,arguments);};}});function j(){var o=g();if(o!==l){l=o;w.trigger(e);}}$.event.special.orientationchange.orientation=g=function(){var k=true,m=f.documentElement;if($.support.orientation){k=p[d.orientation];}else{k=m&&m.clientWidth/m.clientHeight<1.1;}return k?"portrait":"landscape";};$.fn[e]=function(k){return k?this.on(e,k):this.trigger(e);};if($.attrFn){$.attrFn[e]=true;}}(Q,this));(function($,d,f,u){var a="virtualMouseBindings",c="virtualTouchID",v="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),g="clientX clientY pageX pageY screenX screenY".split(" "),m=$.event.mouseHooks?$.event.mouseHooks.props:[],h=("altKey bubbles cancelable ctrlKey currentTarget detail eventPhase "+"metaKey relatedTarget shiftKey target timeStamp view which").split(" "),l=h.concat(m),n={},r=0,s=0,p=0,q=false,w=[],z=false,A=false,B="addEventListener"in f,C=$(f),D=1,E=0,F;$.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};function G(e){while(e&&typeof e.originalEvent!=="undefined"){e=e.originalEvent;}return e;}function H(e,b){var t=e.type,o,k,x,y,ct,b1,i,j,c1;e=$.Event(e);e.type=b;o=e.originalEvent;k=h;if(t.search(/^(mouse|click)/)>-1){k=l;}if(o){for(i=k.length,y;i;){y=k[--i];e[y]=o[y];}}if(t.search(/mouse(down|up)|click/)>-1&&!e.which){e.which=1;}if(t.search(/^touch/)!==-1){x=G(o);t=x.touches;ct=x.changedTouches;b1=(t&&t.length)?t[0]:((ct&&ct.length)?ct[0]:u);if(b1){for(j=0,c1=g.length;j<c1;j++){y=g[j];e[y]=b1[y];}}}return e;}function I(e){var j={},b,k;while(e){b=$.data(e,a);for(k in b){if(b[k]){j[k]=j.hasVirtualBinding=true;}}e=e.parentNode;}return j;}function J(e,j){var b;while(e){b=$.data(e,a);if(b&&(!j||b[j])){return e;}e=e.parentNode;}return null;}function K(){A=false;}function L(){A=true;}function M(){E=0;w.length=0;z=false;L();}function N(){K();}function O(){P();r=setTimeout(function(){r=0;M();},$.vmouse.resetTimerDuration);}function P(){if(r){clearTimeout(r);r=0;}}function R(e,b,j){var k;if((j&&j[e])||(!j&&J(b.target,e))){k=H(b,e);$(b.target).trigger(k);}return k;}function S(e){var t=$.data(e.target,c);if(!z&&(!E||E!==t)){var b=R("v"+e.type,e);if(b){if(b.isDefaultPrevented()){e.preventDefault();}if(b.isPropagationStopped()){e.stopPropagation();}if(b.isImmediatePropagationStopped()){e.stopImmediatePropagation();}}}}function T(e){var b=G(e).touches,j,k;if(b&&b.length===1){j=e.target;k=I(j);if(k.hasVirtualBinding){E=D++;$.data(j,c,E);P();N();q=false;var t=G(e).touches[0];s=t.pageX;p=t.pageY;R("vmouseover",e,k);R("vmousedown",e,k);}}}function U(e){if(A){return;}if(!q){R("vmousecancel",e,I(e.target));}q=true;O();}function V(e){if(A){return;}var t=G(e).touches[0],b=q,j=$.vmouse.moveDistanceThreshold,k=I(e.target);q=q||(Math.abs(t.pageX-s)>j||Math.abs(t.pageY-p)>j);if(q&&!b){R("vmousecancel",e,k);}R("vmousemove",e,k);O();}function W(e){if(A){return;}L();var b=I(e.target),t;R("vmouseup",e,b);if(!q){R("vclick",e,b);if($.support.touch){t=G(e).changedTouches[0];w.push({touchID:E,x:t.clientX,y:t.clientY+d.scrollY,target:e.target});z=true;}}R("vmouseout",e,b);q=false;O();}function X(e){var b=$.data(e,a),k;if(b){for(k in b){if(b[k]){return true;}}}return false;}function Y(){}function Z(e){var b=e.substr(1);return{setup:function(j,k){if(!X(this)){$.data(this,a,{});}var o=$.data(this,a);o[e]=true;n[e]=(n[e]||0)+1;if(n[e]===1){C.on(b,S);}$(this).on(b,Y);if(B){n["touchstart"]=(n["touchstart"]||0)+1;if(n["touchstart"]===1){C.on("touchstart",T).on("touchend",W).on("touchmove",V);}}},teardown:function(j,k){--n[e];if(!n[e]){C.off(b,S);}if(B){--n["touchstart"];if(!n["touchstart"]){C.off("touchstart",T).off("touchmove",V).off("touchend",W).off("scroll",U);}}var o=$(this),t=$.data(this,a);if(t){t[e]=false;}o.off(b,Y);if(!X(this)){o.removeData(a);}}};}for(var i=0;i<v.length;i++){$.event.special[v[i]]=Z(v[i]);}if(B){function _(e){var b=w.length,t=e.target,x,y,j,i,o,k;if(b){x=e.clientX;y=e.clientY+d.scrollY;F=$.vmouse.clickDistanceThreshold;j=t;while(j){for(i=0;i<b;i++){o=w[i];k=0;if((j===t&&Math.abs(o.x-x)<F&&Math.abs(o.y-y)<F)||$.data(j,c)===o.touchID){if(!e.isSynthetic){e._sapui_delayedMouseEvent=true;}if(t===o.target){return;}e.preventDefault();e.stopPropagation();return;}}j=j.parentNode;}}};if(!(sap.ui.Device.os.windows_phone&&sap.ui.Device.os.version<10)){f.addEventListener("mousedown",_,true);f.addEventListener("mouseup",_,true);f.addEventListener("click",_,true);}}})(Q,d,f);(function($,d,u){var a=$(f);$.each(("touchstart touchmove touchend "+"tap taphold "+"swipe swipeleft swiperight "+"scrollstart scrollstop").split(" "),function(i,n){$.fn[n]=function(h){return h?this.on(n,h):this.trigger(n);};if($.attrFn){$.attrFn[n]=true;}});var s=$.mobile.support.touch,b="touchmove scroll",t=s?"touchstart":"mousedown",c=s?"touchend touchcancel":"mouseup",e=s?"touchmove":"mousemove";function g(o,h,i){var j=i.type;i.type=h;$.event.dispatch.call(o,i);i.type=j;}$.event.special.scrollstart={enabled:true,setup:function(){var h=this,i=$(h),j,k;function l(m,n){j=n;g(h,j?"scrollstart":"scrollstop",m);}i.on(b,function(m){if(!$.event.special.scrollstart.enabled){return;}if(!j){l(m,true);}clearTimeout(k);k=setTimeout(function(){l(m,false);},50);});}};$.event.special.tap={tapholdThreshold:750,setup:function(){var h=this,i=$(h),m,j,k;function l(r){var v=r.target;var w=sap.ui.Device.browser;return w.edge&&w.version>=14&&(v.tagName.toLowerCase()==="button"&&v.contains(m)||m.tagName.toLowerCase()==="button"&&m.contains(v));}function n(){clearTimeout(k);}function o(){n();i.removeData("__tap_event_in_progress");i.off("vclick",q).off("vmouseup",n);a.off("vmousecancel",o).off("vmouseup",p);}function p(r){if(r.target!==m&&!$.contains(m,r.target)&&!l(r)){o();}}function q(r){o();if(m===r.target||l(r)){g(h,"tap",r);}}i.on("vmousedown",function(r){if(r.which&&r.which!==1){return;}m=r.target;j=r.originalEvent;if(i.data("__tap_event_in_progress")){o();}i.data("__tap_event_in_progress","X");i.on("vmouseup",n).on("vclick",q);a.on("vmousecancel",o).on("vmouseup",p);k=setTimeout(function(){var T=$.event.fix(j);T.type="taphold";g(h,"taphold",T);},$.event.special.tap.tapholdThreshold);});}};$.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1000,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(h){var i=h.originalEvent&&h.originalEvent.touches?h.originalEvent.touches[0]:h;return{time:(new Date()).getTime(),coords:[i.pageX,i.pageY],origin:$(h.target)};},stop:function(h){var i=h.originalEvent&&h.originalEvent.touches?h.originalEvent.touches[0]:h;return{time:(new Date()).getTime(),coords:[i.pageX,i.pageY]};},handleSwipe:function(h,i){if(i.time-h.time<$.event.special.swipe.durationThreshold&&Math.abs(h.coords[0]-i.coords[0])>$.event.special.swipe.horizontalDistanceThreshold&&Math.abs(h.coords[1]-i.coords[1])<$.event.special.swipe.verticalDistanceThreshold){h.origin.trigger("swipe").trigger(h.coords[0]>i.coords[0]?"swipeleft":"swiperight");}},setup:function(){var h=this,i=$(h);i.on(t,function(j){if(j.isMarked("swipestartHandled")){return;}j.setMarked("swipestartHandled");var k=$.event.special.swipe.start(j),l;function m(j){if(!k){return;}l=$.event.special.swipe.stop(j);if(j.cancelable&&(!sap.ui.Device.system.desktop||sap.ui.Device.browser.name!=="cr")){if(!sap.ui.Device.os.blackberry&&Math.abs(k.coords[0]-l.coords[0])>$.event.special.swipe.scrollSupressionThreshold){j.preventDefault();}}}function n(j){i.off(e,m).off(c,n);if(k&&l){$.event.special.swipe.handleSwipe(k,l);}k=l=u;}i.on(e,m).on(c,n);});}};$.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(h,i){$.event.special[h]={setup:function(){$(this).on(i,$.noop);}};});})(Q,this);}));
}
});
/*
 * ! @copyright@
 */
sap.ui.predefine('sap/fe/navigation/NavigationHandler',["./NavError","./SelectionVariant","./library","sap/ui/base/Object","sap/ui/core/UIComponent","sap/ui/core/routing/HashChanger","sap/base/util/extend","sap/base/util/isEmptyObject","sap/base/Log","sap/base/assert","sap/base/util/merge","sap/ui/thirdparty/URI","sap/ui/util/openWindow"],function(N,S,a,B,U,H,e,b,L,c,m,d,o){"use strict";var f=a.NavType;var P=a.ParamHandlingMode;var g=a.SuppressionBehavior;var M=a.Mode;var h=B.extend("sap.fe.navigation.NavigationHandler",{metadata:{publicMethods:["navigate","parseNavigation","storeInnerAppState","storeInnerAppStateWithImmediateReturn","processBeforeSmartLinkPopoverOpens","processBeforeSemanticLinkPopoverOpens","mixAttributesAndSelectionVariant","setModel","getTechnicalParameters","setTechnicalParameters","replaceHash","constructContextUrl"]},constructor:function(C,s,p){if(!C){throw new N("NavigationHandler.INVALID_INPUT");}if(C instanceof U){this.oRouter=C.getRouter();this.oComponent=C;}else{if(typeof C.getOwnerComponent!=="function"){throw new N("NavigationHandler.INVALID_INPUT");}this.oRouter=this._getRouter(C);this.oComponent=C.getOwnerComponent();}if(this.oComponent&&this.oComponent.getAppComponent){this.oComponent=this.oComponent.getAppComponent();}if(typeof this.oRouter==="undefined"||typeof this.oComponent==="undefined"||typeof this.oComponent.getComponentData!=="function"){throw new N("NavigationHandler.INVALID_INPUT");}try{this.oCrossAppNavService=this._getAppNavigationService();if(!this.oCrossAppNavService){L.error("NavigationHandler: CrossApplicationNavigation is not available.");throw new N("NavigationHandler.NO.XAPPSERVICE");}}catch(i){L.error("NavigationHandler: UShell service API for CrossApplicationNavigation is not available.");}this.IAPP_STATE="sap-iapp-state";this.sDefaultedParamProp="sap-ushell-defaultedParameterNames";this.sSAPSystemProp="sap-system";this._aTechnicalParamaters=["hcpApplicationId"];this._oLastSavedInnerAppData={sAppStateKey:"",oAppData:{},iCacheHit:0,iCacheMiss:0};this._rIAppStateOld=new RegExp("/"+this.IAPP_STATE+"=([^/?]+)");this._rIAppStateOldAtStart=new RegExp("^"+this.IAPP_STATE+"=([^/?]+)");this._rIAppStateNew=new RegExp("[?&]"+this.IAPP_STATE+"=([^&]+)");if(p===P.URLParamWins||p===P.InsertInSelOpt){this.sParamHandlingMode=p;}else{this.sParamHandlingMode=P.SelVarWins;}if(s===M.ODataV2){this._sMode=s;}},_getAppNavigationService:function(){return sap.ushell.Container.getService("CrossApplicationNavigation");},_getRouter:function(C){return U.getRouterFor(C);},navigate:function(s,A,n,i,O,E,j){var k,p,x,C,l,q=false,t={};C=this.oComponent.getComponentData();if(C){l=C.startupParameters;if(l&&l["sap-ushell-next-navmode"]&&l["sap-ushell-next-navmode"].length>0){q=l["sap-ushell-next-navmode"][0]==="explace";}}if(j&&(j==="inplace"||j==="explace")){q=j==="explace";}else if(j){throw new N("NavigationHandler.INVALID_NAV_MODE");}if(E===undefined||E===null){x={};}else{x=E;}if(typeof n==="string"){k=n;}else if(typeof n==="object"){var r=this._splitInboundNavigationParameters(new S(),n,[]).oNavigationSelVar;k=r.toJSONString();}else{throw new N("NavigationHandler.INVALID_INPUT");}t.selectionVariant=new S(k).toJSONObject();t=this._removeMeasureBasedInformation(t);t=this._checkIsPotentiallySensitive(t);if(t.selectionVariant){p=this._getURLParametersFromSelectionVariant(new S(t.selectionVariant));k=new S(t.selectionVariant).toJSONString();}else{p={};k=null;}var u=this;var v={target:{semanticObject:s,action:A},params:p||{}};if(j){v.params["sap-ushell-navmode"]=q?"explace":"inplace";}var w=u.oCrossAppNavService.isNavigationSupported([v],u.oComponent);w.done(function(T){if(T[0].supported){var R;if(!q){R=u.storeInnerAppStateWithImmediateReturn(i,true);if(R&&R.appStateKey){u.replaceHash(R.appStateKey);}}if(!x.selectionVariant){x.selectionVariant=k;}x=u._removeMeasureBasedInformation(x);R=u._saveAppStateWithImmediateReturn(x,O);if(R){v.appStateKey=R.appStateKey;if(j=="explace"){var y=u.oCrossAppNavService.hrefForExternal(v,u.oComponent,false);o(y);}else{u.oCrossAppNavService.toExternal(v,u.oComponent);}}}else{if(O){var z=new N("NavigationHandler.isIntentSupported.notSupported");O(z);}}});if(O){w.fail(function(){var y=u._createTechnicalError("NavigationHandler.isIntentSupported.failed");O(y);});}},parseNavigation:function(){var A=H.getInstance().getHash();var i=this._getInnerAppStateKey(A);var C=this.oComponent.getComponentData();if(C===undefined){L.warning("The navigation Component's data was not set properly; assuming instead that no parameters are provided.");C={};}var s=C.startupParameters;var D=[];if(s&&s[this.sDefaultedParamProp]&&s[this.sDefaultedParamProp].length>0){D=JSON.parse(s[this.sDefaultedParamProp][0]);}var j=jQuery.Deferred();var n=this;if(i){this._loadAppState(i,j);}else{var I=C["sap-xapp-state"]!==undefined;if(I){var k=this.oCrossAppNavService.getStartupAppState(this.oComponent);k.done(function(q){var p=q.getData();if(p){try{p=JSON.parse(JSON.stringify(p));}catch(x){var E=n._createTechnicalError("NavigationHandler.AppStateData.parseError");j.reject(E,s,f.xAppState);return j.promise();}}if(p){var r=new S(p.selectionVariant);var l=n._splitInboundNavigationParameters(r,s,D);p.selectionVariant=l.oNavigationSelVar.toJSONString();p.oSelectionVariant=l.oNavigationSelVar;p.oDefaultedSelectionVariant=l.oDefaultedSelVar;p.bNavSelVarHasDefaultsOnly=l.bNavSelVarHasDefaultsOnly;j.resolve(p,s,f.xAppState);}else{E=n._createTechnicalError("NavigationHandler.getDataFromAppState.failed");j.reject(E,s||{},f.xAppState);}});k.fail(function(){var E=n._createTechnicalError("NavigationHandler.getStartupState.failed");j.reject(E,{},f.xAppState);});}else{if(s){var l=n._splitInboundNavigationParameters(new S(),s,D);if(l.oNavigationSelVar.isEmpty()&&l.oDefaultedSelVar.isEmpty()){j.resolve({},s,f.initial);}else{var p={};p.selectionVariant=l.oNavigationSelVar.toJSONString();p.oSelectionVariant=l.oNavigationSelVar;p.oDefaultedSelectionVariant=l.oDefaultedSelVar;p.bNavSelVarHasDefaultsOnly=l.bNavSelVarHasDefaultsOnly;j.resolve(p,s,f.URLParams);}}else{j.resolve({},{},f.initial);}}}return j.promise();},setTechnicalParameters:function(t){if(!t){t=[];}if(!Array.isArray(t)){L.error("NavigationHandler: parameter incorrect, array of strings expected");throw new N("NavigationHandler.INVALID_INPUT");}this._aTechnicalParamaters=t;},getTechnicalParameters:function(){return this._aTechnicalParamaters.concat([]);},_isTechnicalParameter:function(p){if(p){if(p.toLowerCase().indexOf("sap-")===0){return true;}else if(this._aTechnicalParamaters.indexOf(p)>=0){return true;}}return false;},_splitInboundNavigationParameters:function(s,j,D){if(!Array.isArray(D)){throw new N("NavigationHandler.INVALID_INPUT");}var p,i;var k={};for(p in j){if(!j.hasOwnProperty(p)){continue;}if(this._isTechnicalParameter(p)){continue;}if(typeof j[p]==="string"){k[p]=j[p];}else if(Array.isArray(j[p])&&j[p].length===1){k[p]=j[p][0];}else if(Array.isArray(j[p])&&j[p].length>1){k[p]=j[p];}else{throw new N("NavigationHandler.INVALID_INPUT");}}var l=new S();var n=new S();var q=s.getParameterNames().concat(s.getSelectOptionsPropertyNames());for(i=0;i<q.length;i++){p=q[i];if(p in k){if(D.indexOf(p)>-1){n.massAddSelectOption(p,s.getValue(p));this._addParameterValues(l,p,"I","EQ",k[p]);}else{switch(this.sParamHandlingMode){case P.SelVarWins:n.massAddSelectOption(p,s.getValue(p));break;case P.URLParamWins:this._addParameterValues(n,p,"I","EQ",k[p]);break;case P.InsertInSelOpt:n.massAddSelectOption(p,s.getValue(p));this._addParameterValues(n,p,"I","EQ",k[p]);break;default:throw new N("NavigationHandler.INVALID_INPUT");}}}else{if(D.indexOf(p)>-1){l.massAddSelectOption(p,s.getValue(p));}else{n.massAddSelectOption(p,s.getValue(p));}}}for(p in k){if(q.indexOf(p)>-1){continue;}if(D.indexOf(p)>-1){this._addParameterValues(l,p,"I","EQ",k[p]);}else{this._addParameterValues(n,p,"I","EQ",k[p]);}}var r=false;if(n.isEmpty()){r=true;var t=l.getSelectOptionsPropertyNames();for(i=0;i<t.length;i++){n.massAddSelectOption(t[i],l.getValue(t[i]));}}return{oNavigationSelVar:n,oDefaultedSelVar:l,bNavSelVarHasDefaultsOnly:r};},_addParameterValues:function(s,p,j,O,v){if(Array.isArray(v)){for(var i=0;i<v.length;i++){s.addSelectOption(p,j,O,v[i]);}}else{s.addSelectOption(p,j,O,v);}},replaceHash:function(A){var i=this.oRouter.oHashChanger?this.oRouter.oHashChanger:H.getInstance();var s=i.getHash();var j=this._replaceInnerAppStateKey(s,A);i.replaceHash(j);},storeInnerAppState:function(i,I){if(typeof I!=="boolean"){I=true;}var n=this;var j=jQuery.Deferred();var r=function(s){var p=n.oRouter.oHashChanger?n.oRouter.oHashChanger:H.getInstance();var q=p.getHash();var t=n._replaceInnerAppStateKey(q,s);p.replaceHash(t);};if(b(i)){j.resolve("");return j.promise();}var A=this._oLastSavedInnerAppData.sAppStateKey;var k=JSON.stringify(i)===JSON.stringify(this._oLastSavedInnerAppData.oAppData);if(k&&A){this._oLastSavedInnerAppData.iCacheHit++;r(A);j.resolve(A);return j.promise();}this._oLastSavedInnerAppData.iCacheMiss++;var O=function(s){if(!I){r(s);}n._oLastSavedInnerAppData.oAppData=i;n._oLastSavedInnerAppData.sAppStateKey=s;j.resolve(s);};var l=function(E){j.reject(E);};var s=this._saveAppState(i,O,l);if(s!==undefined){if(I){r(s);}}return j.promise();},storeInnerAppStateWithImmediateReturn:function(i,I){if(typeof I!=="boolean"){I=false;}var t=this;var A=jQuery.Deferred();if(b(i)){return{appStateKey:"",promise:A.resolve("")};}var s=this._oLastSavedInnerAppData.sAppStateKey;var j=JSON.stringify(i)===JSON.stringify(this._oLastSavedInnerAppData.oAppData);if(j&&s){this._oLastSavedInnerAppData.iCacheHit++;return{appStateKey:s,promise:A.resolve(s)};}this._oLastSavedInnerAppData.iCacheMiss++;var O=function(l){if(!I){t.replaceHash(l);}t._oLastSavedInnerAppData.oAppData=i;t._oLastSavedInnerAppData.sAppStateKey=l;A.resolve(l);};var k=function(E){A.reject(E);};var l=this._saveAppState(i,O,k);return{appStateKey:l,promise:A.promise()};},processBeforeSmartLinkPopoverOpens:function(t,s,i,E){var j=jQuery.Deferred();var k;if(t!=undefined){k=t.semanticAttributes;}var x,n=this;if(E===undefined){x={};}else{x=E;}var l=function(k,s){s=x.selectionVariant||s||"{}";var q=g.raiseErrorOnNull|g.raiseErrorOnUndefined;var r=n.mixAttributesAndSelectionVariant(k,s,q);s=r.toJSONString();var T={};T.selectionVariant=r.toJSONObject();T=n._removeMeasureBasedInformation(T);T=n._checkIsPotentiallySensitive(T);k=T.selectionVariant?n._getURLParametersFromSelectionVariant(new S(T.selectionVariant)):{};var O=function(A){if(t===undefined){j.resolve(k,A);}else{t.setSemanticAttributes(k);t.setAppStateKey(A);t.open();j.resolve(t);}};var u=function(v){j.reject(v);};x.selectionVariant=s;x=n._removeMeasureBasedInformation(x);n._saveAppState(x,O,u);};if(i){var p=this.storeInnerAppState(i,true);p.done(function(){l(k,s);});p.fail(function(q){j.reject(q);});}else{l(k,s);}return j.promise();},_getAppStateKeyAndUrlParameters:function(s){return this.processBeforeSmartLinkPopoverOpens(undefined,s,undefined,undefined);},_mixAttributesToSelVariant:function(s,i,j){for(var p in s){if(s.hasOwnProperty(p)){var v=s[p];if(v instanceof Date){v=v.toJSON();}else if(Array.isArray(v)||(v&&typeof v==="object")){v=JSON.stringify(v);}else if(typeof v==="number"||typeof v==="boolean"){v=v.toString();}if(v===""){if(j&sap.fe.navigation.SuppressionBehavior.ignoreEmptyString){L.info("Semantic attribute "+p+" is an empty string and due to the chosen Suppression Behiavour is being ignored.");continue;}}if(v===null){if(j&sap.fe.navigation.SuppressionBehavior.raiseErrorOnNull){throw new N("NavigationHandler.INVALID_INPUT");}else{L.warning("Semantic attribute "+p+" is null and ignored for mix in to selection variant");continue;}}if(v===undefined){if(j&sap.fe.navigation.SuppressionBehavior.raiseErrorOnUndefined){throw new N("NavigationHandler.INVALID_INPUT");}else{L.warning("Semantic attribute "+p+" is undefined and ignored for mix in to selection variant");continue;}}if(typeof v==="string"||v instanceof String){i.addSelectOption(p,"I","EQ",v);}else{throw new N("NavigationHandler.INVALID_INPUT");}}}return i;},mixAttributesAndSelectionVariant:function(s,k,l){var n=new S(k);var p=new S();var t=this;if(n.getFilterContextUrl()){p.setFilterContextUrl(n.getFilterContextUrl());}if(n.getParameterContextUrl()){p.setParameterContextUrl(n.getParameterContextUrl());}if(Array.isArray(s)){s.forEach(function(v){t._mixAttributesToSelVariant(v,p,l);});}else{this._mixAttributesToSelVariant(s,p,l);}var q=n.getParameterNames();for(var i=0;i<q.length;i++){if(!p.getSelectOption(q[i])){p.addSelectOption(q[i],"I","EQ",n.getParameter(q[i]));}}var r=n.getSelectOptionsPropertyNames();for(i=0;i<r.length;i++){var u=n.getSelectOption(r[i]);if(!p.getSelectOption(r[i])){for(var j=0;j<u.length;j++){p.addSelectOption(r[i],u[j].Sign,u[j].Option,u[j].Low,u[j].High);}}}return p;},_ensureSelectionVariantFormatString:function(s){if(s===undefined){return undefined;}var C=s;if(typeof s==="object"){C=JSON.stringify(s);}return C;},_saveAppState:function(A,O,i){var r=this._saveAppStateWithImmediateReturn(A,i);if(r){r.promise.done(function(){if(O){O(r.appStateKey);}});if(i){var n=this;r.promise.fail(function(){var E=n._createTechnicalError("NavigationHandler.AppStateSave.failed");i(E);});}return r.appStateKey;}return undefined;},_saveAppStateWithImmediateReturn:function(A,O){var i=this.oCrossAppNavService.createEmptyAppState(this.oComponent);var s=i.getKey();var j={};if(A.hasOwnProperty("selectionVariant")){j.selectionVariant=A.selectionVariant;if(A.selectionVariant){if(typeof A.selectionVariant==="string"){try{j.selectionVariant=JSON.parse(A.selectionVariant);}catch(x){var E=this._createTechnicalError("NavigationHandler.AppStateSave.parseError");if(O){O(E);}return undefined;}}}}if(this._sMode===M.ODataV2){j=e({selectionVariant:{},tableVariantId:"",customData:{}},j);if(A.tableVariantId){j.tableVariantId=A.tableVariantId;}if(A.customData){j.customData=A.customData;}if(A.presentationVariant){j.presentationVariant=A.presentationVariant;}if(A.valueTexts){j.valueTexts=A.valueTexts;}if(A.semanticDates){j.semanticDates=A.semanticDates;}}else{var k=Object.assign({},A);j=m(k,j);}j=this._checkIsPotentiallySensitive(j);i.setData(j);var l=i.save();return{appStateKey:s,promise:l.promise()};},_loadAppState:function(A,D){var i=this.oCrossAppNavService.getAppState(this.oComponent,A);var n=this;i.done(function(j){var k={};var l=j.getData();if(typeof l==="undefined"){var E=n._createTechnicalError("NavigationHandler.getDataFromAppState.failed");D.reject(E,{},f.iAppState);}else{if(n._sMode===M.ODataV2){k={selectionVariant:"{}",oSelectionVariant:new S(),oDefaultedSelectionVariant:new S(),bNavSelVarHasDefaultsOnly:false,tableVariantId:"",customData:{},appStateKey:A,presentationVariant:{},valueTexts:{},semanticDates:{}};if(l.selectionVariant){k.selectionVariant=n._ensureSelectionVariantFormatString(l.selectionVariant);k.oSelectionVariant=new S(k.selectionVariant);}if(l.tableVariantId){k.tableVariantId=l.tableVariantId;}if(l.customData){k.customData=l.customData;}if(l.presentationVariant){k.presentationVariant=l.presentationVariant;}if(l.valueTexts){k.valueTexts=l.valueTexts;}if(l.semanticDates){k.semanticDates=l.semanticDates;}}else{k=m(k,l);if(l.selectionVariant){k.selectionVariant=n._ensureSelectionVariantFormatString(l.selectionVariant);k.oSelectionVariant=new S(k.selectionVariant);}}}D.resolve(k,{},f.iAppState);});i.fail(function(){var E=n._createTechnicalError("NavigationHandler.getAppState.failed");D.reject(E,{},f.iAppState);});},_getInnerAppStateKey:function(A){if(!A){return undefined;}var i=this._rIAppStateNew.exec(A);if(i===null){i=this._rIAppStateOld.exec(A);}if(i===null){i=this._rIAppStateOldAtStart.exec(A);}if(i===null){return undefined;}return i[1];},_replaceInnerAppStateKey:function(A,s){var n=this.IAPP_STATE+"="+s;if(!A){return"?"+n;}var i=function(A){if(A.indexOf("?")!==-1){return A+"&"+n;}return A+"?"+n;};if(!this._getInnerAppStateKey(A)){return i(A);}if(this._rIAppStateNew.test(A)){return A.replace(this._rIAppStateNew,function(j){return j.replace(/\=.*/gi,"="+s);});}var r=function(j,A){A=A.replace(j,"");return i(A);};if(this._rIAppStateOld.test(A)){return r(this._rIAppStateOld,A);}if(this._rIAppStateOldAtStart.test(A)){return r(this._rIAppStateOldAtStart,A);}c(false,"internal inconsistency: Approach of sap-iapp-state not known, but _getInnerAppStateKey returned it");return undefined;},_getURLParametersFromSelectionVariant:function(s){var u={};var i=0;if(typeof s==="string"){var j=new S(s);}else if(typeof s==="object"){j=s;}else{throw new N("NavigationHandler.INVALID_INPUT");}var k=j.getSelectOptionsPropertyNames();for(i=0;i<k.length;i++){var l=j.getSelectOption(k[i]);if(l.length===1&&l[0].Sign==="I"&&l[0].Option==="EQ"){u[k[i]]=l[0].Low;}}var p=j.getParameterNames();for(i=0;i<p.length;i++){var n=j.getParameter(p[i]);u[p[i]]=n;}return u;},_createTechnicalError:function(E){return new N(E);},setModel:function(i){this._oModel=i;},_getModel:function(){return this._oModel||this.oComponent.getModel();},_removeAllProperties:function(D){if(D){if(D.selectionVariant){D.selectionVariant=null;}if(D.valueTexts){D.valueTexts=null;}if(D.semanticDates){D.semanticDates=null;}}},_removeProperties:function(F,p,D){if(F.length&&D&&(D.selectionVariant||D.valueTexts||D.semanticDates)){F.forEach(function(n){if(D.selectionVariant.SelectOptions){D.selectionVariant.SelectOptions.some(function(v,i){if(n===v.PropertyName){D.selectionVariant.SelectOptions.splice(i,1);return true;}return false;});}if(D.valueTexts&&D.valueTexts.Texts){D.valueTexts.Texts.forEach(function(t){if(t.PropertyTexts){t.PropertyTexts.some(function(v,i){if(n===v.PropertyName){t.PropertyTexts.splice(i,1);return true;}return false;});}});}if(D.semanticDates&&D.semanticDates.Dates){D.semanticDates.Dates.forEach(function(i,j){if(n===i.PropertyName){D.semanticDates.Dates.splice(j,1);}});}});}if(p.length&&D&&D.selectionVariant&&D.selectionVariant.Parameters){p.forEach(function(n){D.selectionVariant.Parameters.some(function(v,i){if(n===v.PropertyName||"$Parameter."+n===v.PropertyName){D.selectionVariant.Parameters.splice(i,1);return true;}return false;});});}},_isTermTrue:function(p,t){var i=function(T){if(T){return T.Bool?T.Bool!=="false":true;}return false;};return!!p[t]&&i(p[t]);},_isExcludedFromNavigationContext:function(p){return this._isTermTrue(p,"com.sap.vocabularies.UI.v1.ExcludeFromNavigationContext");},_isPotentiallySensitive:function(p){return this._isTermTrue(p,"com.sap.vocabularies.PersonalData.v1.IsPotentiallySensitive");},_isMeasureProperty:function(p){return this._isTermTrue(p,"com.sap.vocabularies.Analytics.v1.Measure");},_isToBeExcluded:function(p){return this._isPotentiallySensitive(p)||this._isExcludedFromNavigationContext(p);},constructContextUrl:function(E,i){if(!E){throw new N("NavigationHandler.NO_ENTITY_SET_PROVIDED");}if(i===undefined){i=this._getModel();}return this._constructContextUrl(i)+"#"+E;},_constructContextUrl:function(i){var s;if(i&&i.isA("sap.ui.model.odata.v2.ODataModel")){s=i._getServerUrl();}else if(i&&i.isA("sap.ui.model.odata.v4.ODataModel")){var j=new d(i.sServiceUrl).absoluteTo(document.baseURI);s=new d("/").absoluteTo(j).toString();}if(s&&s.lastIndexOf("/")===s.length-1){s=s.substr(0,s.length-1);}return s+i.sServiceUrl+"/$metadata";},_checkIsPotentiallySensitive:function(D){var A=D;if(D&&D.selectionVariant&&((D.selectionVariant.FilterContextUrl&&D.selectionVariant.SelectOptions)||(D.selectionVariant.ParameterContextUrl&&D.selectionVariant.Parameters))){var k=this._getModel();if(this.oComponent&&k&&k.isA("sap.ui.model.odata.v2.ODataModel")){var s=[],l=[],i,n,E,p,q,r,F=[],t=[];n=k.getMetaModel();if(k.getServiceMetadata()&&n&&n.oModel){if(D.selectionVariant.FilterContextUrl){F=D.selectionVariant.FilterContextUrl.split("#");}if(F.length===2&&D.selectionVariant.SelectOptions&&this._constructContextUrl(k).indexOf(F[0])===0){E=n.getODataEntitySet(F[1]);if(E){p=n.getODataEntityType(E.entityType);}else{p=n.getODataEntityType(F[1]);}if(p){if(p&&p.property){for(i=0;i<p.property.length;i++){if(this._isToBeExcluded(p.property[i])){s.push(p.property[i].name);}}}if(p.navigationProperty){for(i=0;i<p.navigationProperty.length;i++){r=n.getODataAssociationEnd(p,p.navigationProperty[i].name);if(!r||r.type===D.selectionVariant.FilterContextUrl){continue;}if(r.multiplicity==="1"||r.multiplicity==="0..1"){q=n.getODataEntityType(r.type);if(q&&q.property){for(var j=0;j<q.property.length;j++){if(this._isToBeExcluded(q.property[j])){s.push(p.navigationProperty[i].name+"."+q.property[j].name);}}}}}}}}if(D.selectionVariant.ParameterContextUrl){t=D.selectionVariant.ParameterContextUrl.split("#");}if(t.length===2&&D.selectionVariant.Parameters&&this._constructContextUrl(k).indexOf(t[0])===0){E=n.getODataEntitySet(t[1]);if(E){p=n.getODataEntityType(E.entityType);}else{p=n.getODataEntityType(F[1]);}if(p){if(p.property){for(i=0;i<p.property.length;i++){if(this._isToBeExcluded(p.property[i])){l.push(p.property[i].name);}}}}}if(s.length||l.length){A=e(true,{},A);this._removeProperties(s,l,A);}}else{this._removeAllProperties(A);L.error("NavigationHandler: oMetadata are not fully loaded!");}}else if(this.oComponent&&k&&k.isA("sap.ui.model.odata.v4.ODataModel")){return this._removeSensitiveDataForODataV4(A);}}return A;},_removeMeasureBasedInformation:function(A){var i=A;if(A.selectionVariant){if(typeof A.selectionVariant==="string"){try{i.selectionVariant=JSON.parse(A.selectionVariant);}catch(x){L.error("NavigationHandler: _removeMeasureBasedInformation parse error");}}i=this._removeMeasureBasedProperties(i);}return i;},_removeMeasureBasedProperties:function(D){var A=D,k=[],l=[];var i,n,p,E,q,s,r,F=[],t=[];if(D&&D.selectionVariant&&((D.selectionVariant.FilterContextUrl&&D.selectionVariant.SelectOptions)||(D.selectionVariant.ParameterContextUrl&&D.selectionVariant.Parameters))){n=this._getModel();if(this.oComponent&&n&&n.isA("sap.ui.model.odata.v2.ODataModel")){p=n.getMetaModel();if(n.getServiceMetadata()&&p&&p.oModel){if(D.selectionVariant.FilterContextUrl){F=D.selectionVariant.FilterContextUrl.split("#");}if(F.length===2&&D.selectionVariant.SelectOptions&&this._constructContextUrl(n).indexOf(F[0])===0){E=p.getODataEntitySet(F[1]);if(E){q=p.getODataEntityType(E.entityType);}else{q=p.getODataEntityType(F[1]);}if(q){if(q&&q.property){for(i=0;i<q.property.length;i++){if(this._isMeasureProperty(q.property[i])){k.push(q.property[i].name);}}}if(q.navigationProperty){for(i=0;i<q.navigationProperty.length;i++){r=p.getODataAssociationEnd(q,q.navigationProperty[i].name);if(!r||r.type===D.selectionVariant.FilterContextUrl){continue;}if(r.multiplicity==="1"||r.multiplicity==="0..1"){s=p.getODataEntityType(r.type);if(s&&s.property){for(var j=0;j<s.property.length;j++){if(this._isMeasureProperty(s.property[j])){k.push(q.navigationProperty[i].name+"."+s.property[j].name);}}}}}}}}if(D.selectionVariant.ParameterContextUrl){t=D.selectionVariant.ParameterContextUrl.split("#");}if(t.length===2&&D.selectionVariant.Parameters&&this._constructContextUrl(n).indexOf(t[0])===0){E=p.getODataEntitySet(t[1]);if(E){q=p.getODataEntityType(E.entityType);}else{q=p.getODataEntityType(F[1]);}if(q){if(q.property){for(i=0;i<q.property.length;i++){if(this._isMeasureProperty(q.property[i])){l.push(q.property[i].name);}}}}}if(k.length||l.length){A=e(true,{},A);this._removeProperties(k,l,A);}}else{this._removeAllProperties(A);L.error("NavigationHandler: oMetadata are not fully loaded!");}}else if(this.oComponent&&n&&n.isA("sap.ui.model.odata.v4.ODataModel")){return this._removeSensitiveDataForODataV4(A,true);}}return A;},_removeSensitiveDataForODataV4:function(D,i){var t=this,F,s=new S(D.selectionVariant),j=this._getModel();if(!j.getMetaModel().getObject("/")){this._removeAllProperties(D);L.error("NavigationHandler: oMetadata are not fully loaded!");return D;}if(D.selectionVariant.FilterContextUrl){F=D.selectionVariant.FilterContextUrl.split("#");}if(F.length===2&&D.selectionVariant.SelectOptions&&this._constructContextUrl(j).indexOf(F[0])===0){s.removeSelectOption("@odata.context");s.removeSelectOption("@odata.metadataEtag");s.removeSelectOption("SAP__Messages");var E=F[1],l=j.getMetaModel(),n=s.getPropertyNames()||[],I=function(x,u,y){var z;u=u||E;y=y;z=l.getObject("/"+u+"/"+x+"@");if(z){if((i&&z["@com.sap.vocabularies.Analytics.v1.Measure"])||t._checkPropertyAnnotationsForSensitiveData(z)){return true;}else if(z["@com.sap.vocabularies.Common.v1.FieldControl"]){var A=z["@com.sap.vocabularies.Common.v1.FieldControl"];if(A["$EnumMember"]&&A["$EnumMember"].split("/")[1]==="Inapplicable"){return true;}}}return false;};var q=l.getObject("/"+E+"/");for(var k=0;k<n.length;k++){var r=n[k];if(q[r]&&q[r].$kind&&q[r].$kind==="Property"&&I(r,E)){s.removeSelectOption(r);}else if(q[r]&&q[r].$kind&&q[r].$kind==="NavigationProperty"){var u="/"+l.getObject("/"+E+"/$NavigationPropertyBinding/"+r),v=JSON.parse(s.getSelectOption(r)[0].Low),w=Object.keys(v);for(var p=0;p<w.length;p++){var x=w[p];if(I(x,u)){delete v[x];s.removeSelectOption(r);s.addSelectOption(r,"I","EQ",JSON.stringify(v));}}}}D.selectionVariant=s.toJSONObject();}return D;},_checkPropertyAnnotationsForSensitiveData:function(p){return(p["@com.sap.vocabularies.PersonalData.v1.IsPotentiallySensitive"]||p["@com.sap.vocabularies.UI.v1.ExcludeFromNavigationContext"]);}});return h;});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2017 SAP SE. All rights reserved
 */
sap.ui.predefine('sap/collaboration/components/fiori/sharing/dialog/Component',['sap/collaboration/components/utils/CommonUtil','sap/ui/core/UIComponent','sap/ui/core/mvc/View','sap/ui/core/library','sap/m/Dialog','sap/m/Button','sap/ui/Device','jquery.sap.global'],function(C,U,V,c,D,B,a,q){"use strict";var b=c.mvc.ViewType;var d=U.extend("sap.collaboration.components.fiori.sharing.dialog.Component",{metadata:{includes:["../../../resources/css/Sharing.css"],properties:{attachments:{type:"object"},object:{type:"object"},externalObject:{type:"object"}},aggregations:{},events:{}},systemSettings:{width:"400px",height:"",oDataServiceUrl:"/sap/opu/odata/sap/SM_INTEGRATION_V2_SRV",collaborationHostODataServiceUrl:"/sap/bc/ui2/smi/rest_tunnel/Jam/api/v1/OData",collaborationHostRestService:{url:"/sap/bc/ui2/smi/rest_tunnel/Jam/api/v1",urlParams:""}},init:function(){this.oCommonUtil=new C();this.oLangBundle=this.oCommonUtil.getLanguageBundle();},setSettings:function(s){this.setObject(s.object);this.setAttachments(s.attachments);if(JSON.stringify(s.externalObject)==='{}'){this.setExternalObject(undefined);}else{this.setExternalObject(s.externalObject);}},_createSharingView:function(){var s=this;var o;var O;var e;var f=this.getObject();if(f){e=s._handleObjectId(f.id);o=f.display;O=f.share;}var n=function(){s.close();s.openoNoGroupsDialog(s.oSharingView.getController().sJamUrl);};if(!this.oSharingView){this.oSharingView=sap.ui.view({id:this.getId()+"_SharingView",viewData:{controlId:this.getId(),odataServiceUrl:this.systemSettings.oDataServiceUrl,collaborationHostODataServiceUrl:this.systemSettings.collaborationHostODataServiceUrl,collaborationHostRestService:this.systemSettings.collaborationHostRestService,langBundle:this.oLangBundle,jamGroups:this.aJamGroups,sharingDialog:this._oSharingDialog,noGroupsCallBack:n,objectDisplay:o,objectShare:O,objectId:e,attachments:this.getAttachments(),externalObject:this.getExternalObject()},type:b.JS,viewName:"sap.collaboration.components.fiori.sharing.Sharing"});}else{this.oSharingView.getViewData().objectId=e;this.oSharingView.getViewData().objectShare=O;this.oSharingView.getViewData().objectDisplay=o;this.oSharingView.getViewData().externalObject=this.getExternalObject();this.oSharingView.getViewData().attachments=this.getAttachments();}},_createSharingDialog:function(){var s=new D(this.getId()+"_SharingDialog",{title:this.oLangBundle.getText("SHARING_PAGE_TITLE"),contentWidth:this.systemSettings.width,stretch:false,afterClose:function(){}}).addStyleClass("sapUiPopupWithPadding");return s;},createNoGroupsDialog:function(j){if(!this.oNoGroupsView){this.oNoGroupsView=sap.ui.view({id:this.getId()+"_NoGroupsView",viewData:{controlId:this.getId(),langBundle:this.oLangBundle,jamUrl:j},type:b.JS,viewName:"sap.collaboration.components.fiori.sharing.NoGroups"});}var n=new D(this.getId()+"_NoGroupsDialog",{title:this.oLangBundle.getText("SHARING_PAGE_TITLE"),stretch:false,content:this.oNoGroupsView,beginButton:new B(this.getId()+"_CloseButton",{text:this.oLangBundle.getText("CLOSE_BUTTON_TEXT"),press:function(){n.close();}})}).addStyleClass("sapUiPopupWithPadding");return n;},open:function(){if(this.bStopRendering===undefined||this.bStopRendering===false){if(!this._oSharingDialog){this._logComponentProperties();this._oSharingDialog=this._createSharingDialog();}try{this._createSharingView();this._oSharingDialog.addAriaLabelledBy(this.getId()+"_SharingView");this._oSharingDialog.addContent(this.oSharingView);this._oSharingDialog.setInitialFocus(this.oSharingView);this._createDialogButtons();if(a.system.phone){this._oSharingDialog.setStretch(true);}this._oSharingDialog.open();}catch(e){q.sap.log.error(e);this.oCommonUtil.displayError();}}},close:function(){if(this._oSharingDialog){this._oSharingDialog.close();}},openoNoGroupsDialog:function(j){this._oSharingDialog.removeAllContent();if(!this.oNoGroupsDialog){this.oNoGroupsDialog=this.createNoGroupsDialog(j);}this.oNoGroupsDialog.open();},_createDialogButtons:function(){if(!this.oMentionButton){this.oMentionButton=new B(this.getId()+"_mentionButton",{text:"@",enabled:false,press:[function(){this.oSharingView.getController().atMentionsButtonPressed();},this]});this._oSharingDialog.addButton(this.oMentionButton);}if(a.system.phone){this.oMentionButton.setVisible(false);}if(!this.oLeftButton){this.oLeftButton=new B(this.getId()+"_LeftButton",{text:this.oLangBundle.getText("OK_BUTTON_TEXT"),enabled:false,press:[function(){this.oSharingView.getController().shareToJam();this._oSharingDialog.close();},this]});this._oSharingDialog.addButton(this.oLeftButton);}if(!this.oRightButton){this.oRightButton=new B(this.getId()+"_RightButton",{text:this.oLangBundle.getText("CANCEL_BUTTON_TEXT"),press:[function(){this._oSharingDialog.close();},this]});this._oSharingDialog.addButton(this.oRightButton);}},setDialogButtons:function(){},setCloseButton:function(){this._oSharingDialog.destroyBeginButton();this._oSharingDialog.setEndButton(this.oCloseButton);},_handleObjectId:function(o){var O=typeof o;var s;switch(O){case"undefined":case"":case"string":s=o;break;case"function":s=o();if(typeof s=="string"){break;};default:q.sap.log.error("object->id is not a sting or callback function that returns a string");throw new Error();};return s;},_logComponentProperties:function(){q.sap.log.debug("Share Component properties:","","sap.collaboration.components.fiori.sharing.Component._logComponentProperties()");q.sap.log.debug("width: "+this.systemSettings.width);q.sap.log.debug("height: "+this.systemSettings.height);q.sap.log.debug("oDataServiceUrl: "+this.systemSettings.oDataServiceUrl);q.sap.log.debug("collaborationHostODataServiceUrl: "+this.systemSettings.collaborationHostODataServiceUrl);q.sap.log.debug("collaborationHostRestService: "+this.systemSettings.collaborationHostRestService.url+this.systemSettings.collaborationHostRestService.urlParams);if(this.getObject()){q.sap.log.debug("object->id: "+this.getObject().id);q.sap.log.debug("object->display: "+this.getObject().display);q.sap.log.debug("object->share: "+this.getObject().share);}else{q.sap.log.debug("object: undefined");}if(this.getAttachments()&&this.getAttachments().attachmentsArray){q.sap.log.debug("Attachments:");var e=this.getAttachments().attachmentsArray;for(var i=0;i<e.length;i++){q.sap.log.debug("Attachments"+(i+1)+":");q.sap.log.debug(e[i].mimeType);q.sap.log.debug(e[i].name);q.sap.log.debug(e[i].url);}}else{q.sap.log.debug("attachments: undefined");}if(this.getExternalObject()){q.sap.log.debug("externalObject->appContext: "+this.getExternalObject().appContext);q.sap.log.debug("externalObject->odataServicePath: "+this.getExternalObject().odataServicePath);q.sap.log.debug("externalObject->collection: "+this.getExternalObject().collection);q.sap.log.debug("externalObject->key: "+this.getExternalObject().key);q.sap.log.debug("object->name: "+this.getExternalObject().name);q.sap.log.debug("object->summary: "+this.getExternalObject().summary);}else{q.sap.log.debug("externalObject: undefined");}}});return d;});
sap.ui.predefine('sap/fe/navigation/library',["sap/ui/core/Core","sap/ui/core/library"],function(){"use strict";sap.ui.getCore().initLibrary({name:"sap.fe.navigation",version:"1.88.0",dependencies:["sap.ui.core"],types:["sap.fe.navigation.NavType","sap.fe.navigation.ParamHandlingMode","sap.fe.navigation.SuppressionBehavior"],interfaces:[],controls:[],elements:[],noLibraryCSS:true});sap.fe.navigation.ParamHandlingMode={SelVarWins:"SelVarWins",URLParamWins:"URLParamWins",InsertInSelOpt:"InsertInSelOpt"};sap.fe.navigation.NavType={initial:"initial",URLParams:"URLParams",xAppState:"xAppState",iAppState:"iAppState"};sap.fe.navigation.SuppressionBehavior={standard:0,ignoreEmptyString:1,raiseErrorOnNull:2,raiseErrorOnUndefined:4};sap.fe.navigation.Mode={ODataV2:"ODataV2",ODataV4:"ODataV4"};return sap.fe.navigation;});
/*!
 * @copyright@
 */
sap.ui.predefine('sap/fe/navigation/PresentationVariant',["./NavError","sap/ui/base/Object","sap/base/util/extend","sap/base/util/each","sap/base/Log"],function(N,B,e,a,L){"use strict";var P=B.extend("sap.fe.navigation.PresentationVariant",{constructor:function(p){this._sId="";if(p!==undefined){if(typeof p==="string"){this._parseFromString(p);}else if(typeof p==="object"){this._parseFromObject(p);}else{throw new N("PresentationVariant.INVALID_INPUT_TYPE");}}},getID:function(){return this._sId;},setID:function(i){this._sId=i;},setText:function(n){if(typeof n!=="string"){throw new N("PresentationVariant.INVALID_INPUT_TYPE");}this._sText=n;},getText:function(){return this._sText;},setContextUrl:function(u){if(typeof u!=="string"){throw new N("PresentationVariant.INVALID_INPUT_TYPE");}this._sCtxUrl=u;},getContextUrl:function(){return this._sCtxUrl;},isEmpty:function(){return(Object.keys(this.getTableVisualization()).length===0&&Object.keys(this.getChartVisualization()).length===0&&Object.keys(this.getProperties()).length===0);},setProperties:function(p){this._mProperties=e({},p);},getProperties:function(){return this._mProperties;},setTableVisualization:function(p){this._mVisTable=e({},p);},getTableVisualization:function(){return this._mVisTable;},setChartVisualization:function(p){this._mVisChart=e({},p);},getChartVisualization:function(){return this._mVisChart;},toJSONObject:function(){var E={Version:{Major:"1",Minor:"0",Patch:"0"},PresentationVariantID:this._sId};if(this._sCtxUrl){E.ContextUrl=this._sCtxUrl;}if(this._sText){E.Text=this._sText;}else{E.Text="Presentation Variant with ID "+this._sId;}this._serializeProperties(E);this._serializeVisualizations(E);return E;},toJSONString:function(){return JSON.stringify(this.toJSONObject());},_serializeProperties:function(E){if(!this.getProperties()){return;}e(E,this.getProperties());},_serializeVisualizations:function(E){if(this.getTableVisualization()){if(!E.Visualizations){E.Visualizations=[];}E.Visualizations.push(this.getTableVisualization());}if(this.getChartVisualization()){if(!E.Visualizations){E.Visualizations=[];}E.Visualizations.push(this.getChartVisualization());}},_parseFromString:function(j){if(j===undefined){throw new N("PresentationVariant.UNABLE_TO_PARSE_INPUT");}if(typeof j!=="string"){throw new N("PresentationVariant.INVALID_INPUT_TYPE");}var i=JSON.parse(j);this._parseFromObject(i);},_parseFromObject:function(i){if(i.PresentationVariantID===undefined){L.warning("PresentationVariantID is not defined");i.PresentationVariantID="";}var I=e({},i);delete I.Version;this.setID(i.PresentationVariantID);delete I.PresentationVariantID;if(i.ContextUrl!==undefined&&i.ContextUrl!==""){this.setContextUrl(i.ContextUrl);delete I.ContextUrl;}if(i.Text!==undefined){this.setText(i.Text);delete I.Text;}if(i.Visualizations){this._parseVisualizations(i.Visualizations);delete I.Visualizations;}this._parseProperties(I);},_parseProperties:function(i){var p={};a(i,function(k,v){p[k]=v;});this.setProperties(p);},_parseVisualizations:function(v){if(!Array.isArray(v)){throw new N("PresentationVariant.INVALID_INPUT_TYPE");}if(typeof v.length>2){throw new N("PresentationVariant.TOO_MANY_VISUALIZATIONS");}for(var i=0;i<v.length;i++){if(v[i].Type&&v[i].Type.indexOf("Chart")>=0){this.setChartVisualization(v[i]);}else{this.setTableVisualization(v[i]);}}}});return P;});
sap.ui.predefine('sap/fe/navigation/SelectionVariant',["./NavError","sap/ui/base/Object","sap/base/util/each","sap/base/Log"],function(N,B,e,L){"use strict";var S=B.extend("sap.fe.navigation.SelectionVariant",{_rVALIDATE_SIGN:new RegExp("[E|I]"),_rVALIDATE_OPTION:new RegExp("EQ|NE|LE|GE|LT|GT|BT|CP"),constructor:function(s){this._mParameters={};this._mSelectOptions={};this._sId="";if(s!==undefined){if(typeof s==="string"){this._parseFromString(s);}else if(typeof s==="object"){this._parseFromObject(s);}else{throw new N("SelectionVariant.INVALID_INPUT_TYPE");}}},getID:function(){return this._sId;},setID:function(i){this._sId=i;},setText:function(n){if(typeof n!=="string"){throw new N("SelectionVariant.INVALID_INPUT_TYPE");}this._sText=n;},getText:function(){return this._sText;},setParameterContextUrl:function(u){if(typeof u!=="string"){throw new N("SelectionVariant.INVALID_INPUT_TYPE");}this._sParameterCtxUrl=u;},getParameterContextUrl:function(){return this._sParameterCtxUrl;},getFilterContextUrl:function(){return this._sFilterCtxUrl;},setFilterContextUrl:function(u){if(typeof u!=="string"){throw new N("SelectionVariant.INVALID_INPUT_TYPE");}this._sFilterCtxUrl=u;},addParameter:function(n,v){if(typeof n!=="string"){throw new N("SelectionVariant.INVALID_INPUT_TYPE");}if(typeof v!=="string"){throw new N("SelectionVariant.INVALID_INPUT_TYPE");}if(n===""){throw new N("SelectionVariant.PARAMETER_WITHOUT_NAME");}if(this._mSelectOptions[n]){throw new N("SelectionVariant.PARAMETER_SELOPT_COLLISION");}this._mParameters[n]=v;return this;},removeParameter:function(n){if(typeof n!=="string"){throw new N("SelectionVariant.INVALID_INPUT_TYPE");}if(n===""){throw new N("SelectionVariant.PARAMETER_WITHOUT_NAME");}delete this._mParameters[n];return this;},renameParameter:function(n,s){if(typeof n!=="string"||typeof s!=="string"){throw new N("SelectionVariant.INVALID_INPUT_TYPE");}if(n===""||s===""){throw new N("SelectionVariant.PARAMETER_WITHOUT_NAME");}if(this._mParameters[n]!==undefined){if(this._mSelectOptions[s]){throw new N("SelectionVariant.PARAMETER_SELOPT_COLLISION");}if(this._mParameters[s]){throw new N("SelectionVariant.PARAMETER_COLLISION");}this._mParameters[s]=this._mParameters[n];delete this._mParameters[n];}return this;},getParameter:function(n){if(typeof n!=="string"){throw new N("SelectionVariant.INVALID_INPUT_TYPE");}return this._mParameters[n];},getParameterNames:function(){return Object.keys(this._mParameters);},addSelectOption:function(p,s,o,l,h){if(typeof p!=="string"){throw new N("SelectionVariant.INVALID_INPUT_TYPE");}if(p===""){throw new N("SelectionVariant.INVALID_PROPERTY_NAME");}if(typeof s!=="string"){throw new N("SelectionVariant.INVALID_INPUT_TYPE");}if(typeof o!=="string"){throw new N("SelectionVariant.INVALID_INPUT_TYPE");}if(typeof l!=="string"){throw new N("SelectionVariant.INVALID_INPUT_TYPE");}if(o==="BT"&&typeof h!=="string"){throw new N("SelectionVariant.INVALID_INPUT_TYPE");}if(!this._rVALIDATE_SIGN.test(s.toUpperCase())){throw new N("SelectionVariant.INVALID_SIGN");}if(!this._rVALIDATE_OPTION.test(o.toUpperCase())){throw new N("SelectionVariant.INVALID_OPTION");}if(this._mParameters[p]){throw new N("SelectionVariant.PARAMETER_SELOPT_COLLISION");}if(o!=="BT"){if(h!==undefined&&h!==""&&h!==null){throw new N("SelectionVariant.HIGH_PROVIDED_THOUGH_NOT_ALLOWED");}}if(this._mSelectOptions[p]===undefined){this._mSelectOptions[p]=[];}var E={Sign:s.toUpperCase(),Option:o.toUpperCase(),Low:l};if(o==="BT"){E.High=h;}else{E.High=null;}for(var i=0;i<this._mSelectOptions[p].length;i++){var a=this._mSelectOptions[p][i];if(a.Sign===E.Sign&&a.Option===E.Option&&a.Low===E.Low&&a.High===E.High){return this;}}this._mSelectOptions[p].push(E);return this;},removeSelectOption:function(n){if(typeof n!=="string"){throw new N("SelectionVariant.SELOPT_WRONG_TYPE");}if(n===""){throw new N("SelectionVariant.SELOPT_WITHOUT_NAME");}delete this._mSelectOptions[n];return this;},renameSelectOption:function(n,s){if(typeof n!=="string"||typeof s!=="string"){throw new N("SelectionVariant.SELOPT_WRONG_TYPE");}if(n===""||s===""){throw new N("SelectionVariant.SELOPT_WITHOUT_NAME");}if(this._mSelectOptions[n]!==undefined){if(this._mSelectOptions[s]){throw new N("SelectionVariant.SELOPT_COLLISION");}if(this._mParameters[s]){throw new N("SelectionVariant.PARAMETER_SELOPT_COLLISION");}this._mSelectOptions[s]=this._mSelectOptions[n];delete this._mSelectOptions[n];}return this;},getSelectOption:function(p){if(typeof p!=="string"){throw new N("SelectionVariant.INVALID_INPUT_TYPE");}if(p===""){throw new N("SelectionVariant.INVALID_PROPERTY_NAME");}var E=this._mSelectOptions[p];if(!E){return undefined;}return JSON.parse(JSON.stringify(E));},getSelectOptionsPropertyNames:function(){return Object.keys(this._mSelectOptions);},getPropertyNames:function(){return this.getParameterNames().concat(this.getSelectOptionsPropertyNames());},massAddSelectOption:function(p,s){if(!Array.isArray(s)){throw new N("SelectionVariant.INVALID_INPUT_TYPE");}for(var i=0;i<s.length;i++){var o=s[i];this.addSelectOption(p,o.Sign,o.Option,o.Low,o.High);}return this;},getValue:function(n){var v=this.getSelectOption(n);if(v!==undefined){return v;}var p=this.getParameter(n);if(p!==undefined){v=[{Sign:"I",Option:"EQ",Low:p,High:null}];return v;}return undefined;},isEmpty:function(){return this.getParameterNames().length===0&&this.getSelectOptionsPropertyNames().length===0;},toJSONObject:function(){var E={Version:{Major:"1",Minor:"0",Patch:"0"},SelectionVariantID:this._sId};if(this._sParameterCtxUrl){E.ParameterContextUrl=this._sParameterCtxUrl;}if(this._sFilterCtxUrl){E.FilterContextUrl=this._sFilterCtxUrl;}if(this._sText){E.Text=this._sText;}else{E.Text="Selection Variant with ID "+this._sId;}this._determineODataFilterExpression(E);this._serializeParameters(E);this._serializeSelectOptions(E);return E;},toJSONString:function(){return JSON.stringify(this.toJSONObject());},_determineODataFilterExpression:function(E){E.ODataFilterExpression="";},_serializeParameters:function(E){if(this._mParameters.length===0){return;}E.Parameters=[];e(this._mParameters,function(p,P){var o={PropertyName:p,PropertyValue:P};E.Parameters.push(o);});},_serializeSelectOptions:function(E){if(this._mSelectOptions.length===0){return;}E.SelectOptions=[];e(this._mSelectOptions,function(p,a){var s={PropertyName:p,Ranges:a};E.SelectOptions.push(s);});},_parseFromString:function(j){if(j===undefined){throw new N("SelectionVariant.UNABLE_TO_PARSE_INPUT");}if(typeof j!=="string"){throw new N("SelectionVariant.INVALID_INPUT_TYPE");}var i=JSON.parse(j);this._parseFromObject(i);},_parseFromObject:function(i){if(i.SelectionVariantID===undefined){L.warning("SelectionVariantID is not defined");i.SelectionVariantID="";}this.setID(i.SelectionVariantID);if(i.ParameterContextUrl!==undefined&&i.ParameterContextUrl!==""){this.setParameterContextUrl(i.ParameterContextUrl);}if(i.FilterContextUrl!==undefined&&i.FilterContextUrl!==""){this.setFilterContextUrl(i.FilterContextUrl);}if(i.Text!==undefined){this.setText(i.Text);}if(i.Parameters){this._parseFromStringParameters(i.Parameters);}if(i.SelectOptions){this._parseFromStringSelectOptions(i.SelectOptions);}},_parseFromStringParameters:function(p){e(p,function(i,E){this.addParameter(E.PropertyName,E.PropertyValue);}.bind(this));},_parseFromStringSelectOptions:function(s){e(s,function(i,o){if(!o.Ranges){L.warning("Select Option object does not contain a Ranges entry; ignoring entry");return true;}if(!Array.isArray(o.Ranges)){throw new N("SelectionVariant.SELECT_OPTION_RANGES_NOT_ARRAY");}e(o.Ranges,function(I,r){this.addSelectOption(o.PropertyName,r.Sign,r.Option,r.Low,r.High);}.bind(this));}.bind(this));}});return S;},true);
// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.predefine('sap/ushell/Config',["sap/ushell/EventHub","sap/ushell/bootstrap/common/common.create.configcontract.core","sap/ushell/_Config/utils"],function(E,C,c){"use strict";var o=C.createConfigContract(window["sap-ushell-config"]);var f=E.createChannel(o);var a=Object.keys(f).reduce(function(a,m){a[m]=function(){if(!f){f=E.createChannel(o);}return f[m].apply(f,arguments);};return a;},{_reset:function(){f=null;},registerConfiguration:function(O,b){o=b;},createModel:function(p,b){if(!f){f=E.createChannel(o);}return c.createModel(f,o,p,b);}});return a;},false);
sap.ui.predefine('sap/ushell/Fiori20Adapter',["sap/ui/base/Object","sap/ui/core/Component","sap/ui/core/UIComponent","sap/ui/model/resource/ResourceModel","sap/m/Fiori20Adapter","sap/ui/thirdparty/hasher"],function(B,C,U,R,S,h){"use strict";var u;U._fnOnInstanceDestroy=function(c){if(c._fioriAdapter){c._fioriAdapter.destroy();}};var A=B.extend("AppInfo",{constructor:function(c){B.call(this);this._oComponent=c;},getDefaultTitle:function(){var t,r,m=this._oComponent.getMetadata();var a=m.getManifestEntry("sap.app");if(a&&a.title){t=a.title;if(this._isLocalizationKey(t)){r=(a.i18n||"i18n/i18n.properties");return this._getLocalized(t,r);}return t;}var o=m.getManifestEntry("sap.ui5");if(o&&o.config&&o.config.resourceBundle&&o.config.titleResource){t=o.config.titleResource;r=o.config.resourceBundle;return this._getLocalized(t,r);}return;},_getLocalized:function(t,r){var m=new R({bundleUrl:sap.ui.require.toUrl(this._oComponent.getMetadata().getComponentName())+"/"+r});return m.getResourceBundle().getText(t.replace(/^{{/,"").replace(/}}$/,""));},_isLocalizationKey:function(t){return(t.indexOf("{{")===0)&&(t.indexOf("}}")>0);}});var H=B.extend("HeaderInfo",{constructor:function(c,o,a){B.call(this);this._oConfig=o;this._oAppInfo=a;this._aHierarchy=[];this._defaultTitle=this._oAppInfo.getDefaultTitle();this._oCurrentViewInfo={oTitleInfo:{text:this._defaultTitle}};},registerView:function(v){if(this._oConfig.bMoveTitle===true){if(!v.oTitleInfo&&v.oSubTitleInfo){v.oTitleInfo=v.oSubTitleInfo;}this._oCurrentViewInfo=v;var t=this._oCurrentViewInfo.oTitleInfo?this._oCurrentViewInfo.oTitleInfo.text:undefined;if(t!==u.getTitle()){u.setTitle(t);}this._updateHierarchy();}this._setBackNavigation(v.oBackButton,v.oAdaptOptions);},_setBackNavigation:function(b,a){if(a&&a.bHideBackButton===false){return;}var f;if(b){f=b.firePress.bind(b);}u.setBackNavigation(f);},_updateHierarchy:function(){if(this._oConfig.bHierarchy===false){return;}if(!this._oCurrentViewInfo){return;}var n=true,s="#"+h.getHash();for(var i=this._aHierarchy.length-1;i>=0;i--){var e=this._aHierarchy[i],k=(e.id===this._oCurrentViewInfo.sViewId),K=(e.intent===s);if(k||K){n=false;e=this._updateHierarchyEntry(e);this._aHierarchy[i]=e;this._aHierarchy=this._aHierarchy.slice(0,i+1);if(k){e.intent=s;}break;}}if(n){this._aHierarchy.push(this._createHierarchyEntry());}var N=[];for(var j=this._aHierarchy.length-2;j>=0;j--){N.push(this._aHierarchy[j]);}u.setHierarchy(this._deleteUndefinedProperties(N));},_createHierarchyEntry:function(){var s="#"+h.getHash(),e={id:this._oCurrentViewInfo.sViewId,title:this._oCurrentViewInfo.oTitleInfo?this._oCurrentViewInfo.oTitleInfo.text:this._defaultTitle,subtitle:this._oCurrentViewInfo.oSubTitleInfo?this._oCurrentViewInfo.oSubTitleInfo.text:undefined,intent:s};return e;},_updateHierarchyEntry:function(e){e.id=this._oCurrentViewInfo.sViewId;e.title=this._oCurrentViewInfo.oTitleInfo?this._oCurrentViewInfo.oTitleInfo.text:this._defaultTitle;e.subtitle=this._oCurrentViewInfo.oSubTitleInfo?this._oCurrentViewInfo.oSubTitleInfo.text:undefined;return e;},_deleteUndefinedProperties:function(o){o.forEach(function(O){for(var p in O){if(O.hasOwnProperty(p)&&!O[p]&&p!=="title"){delete O[p];}}});return o;}});var F=B.extend("sap.ushell.Fiori20Adapter",{constructor:function(c,o){B.call(this);this._oComponent=c;this._oConfig=o;this._oHeaderInfo=new H(c,o,new A(c));if(S){S.attachViewChange(this._onViewChange,this);}},init:function(){if(!S){return;}var c=jQuery.extend({},this._oConfig);S.traverse(this._oComponent.getAggregation("rootControl"),c);},destroy:function(){if(S){S.detachViewChange(this._onViewChange,this);}},_onViewChange:function(e){this._oHeaderInfo.registerView(e.getParameters());}});F.applyTo=function(c,o,a,s){var O=c instanceof U?c:C.getOwnerComponentFor(c);if(!O){O=o;}if(O&&!O._fioriAdapter){u=s;O._fioriAdapter=new F(O,a);O._fioriAdapter.init();}};return F;});
sap.ui.predefine('sap/ushell/Fiori20AdapterTest',["sap/base/util/UriParameters","sap/ui/core/UIComponent","sap/ushell/Fiori20Adapter","sap/ui/core/library","sap/ui/core/service/ServiceFactoryRegistry","sap/base/Log","sap/base/util/Version"],function(U,a,F,c,S,L,V){"use strict";var b={I_DEFAULT_SEARCH_DEPTH:5,B_DEFAULT_LATE_ADAPTATION:false,S_FIORI20ADAPTER_URL_PARAM_NAME:"sap-ui-xx-fiori2Adaptation",S_FIORI20ADAPTER_METADATA_PARAM_NAME:"sapFiori2Adaptation",A_ALLOWLIST:["fin.*","ssuite.fin.*","fscm.*","sap.fin.*","cus.sd.*","cus.o2c.*","sap.apf.*","tl.ibp.*","ux.fnd.apf.o2c.*","fnd.apf.*","fnd.pob.o2c.*","fcg.sll.*","ux.fnd.generic-apf-application.*","hpa.cei.*","query.viewbrowser.s1.*","ssuite.vdm.viewbrowser.s1.*","ssuite.smartbusiness.kpi.s1.*","ssuite.smartbusiness.evaluation.s1.*","ssuite.smartbusiness.association.s1.*","ssuite.smartbusiness.drilldown.s1.*","ssuite.smartbusiness.tile.s1.*","ssuite.smartbusiness.tile.ce.s1.*","ssuite.smartbusiness.workspace.s1.*","ssuite.smartbusiness.runtime.s1.*","gs.fin.customersummarycn.display.*","gs.fin.financialstatement.structure.manage.*","gs.fin.financialstatement.display.*","uipsm.*","publicservices.her.*"],getConfiguration:function(C){var o=this._getURLParamConfiguration();if(!o){o=this._getMetadataConfiguration(C);}if(!o){o=this._getDefaultConfiguration(C);}o.iSearchDepth=o.iSearchDepth||b.I_DEFAULT_SEARCH_DEPTH;if((typeof o.iSearchDepth==="string")&&!isNaN(o.iSearchDepth)){o.iSearchDepth=parseInt(o.iSearchDepth,10);}return o;},_getURLParamConfiguration:function(){if(typeof sap.ui.getCore().getConfiguration().getFiori2Adaptation!=="function"){return;}if(!this._isURLParameterSpecified(b.S_FIORI20ADAPTER_URL_PARAM_NAME)){return;}var u=sap.ui.getCore().getConfiguration().getFiori2Adaptation(),d,s;if(typeof(u)==="boolean"){d=u;}else if(u&&(u.length>=1)){s=u;}if(!s&&(d===undefined)){return;}return{bStylePage:s?s.indexOf("style")>-1:d,bMoveTitle:s?s.indexOf("title")>-1:d,bHideBackButton:s?s.indexOf("back")>-1:d,bCollapseHeader:s?s.indexOf("collapse")>-1:d,bHierarchy:s?s.indexOf("hierarchy")>-1:d};},_getMetadataConfiguration:function(C){var A=C.getMetadata("config").getConfig(b.S_FIORI20ADAPTER_METADATA_PARAM_NAME),d,e;if(typeof(A)==="boolean"){d=A;}else if((typeof A==="object")&&!jQuery.isEmptyObject(A)){e=A;}if(!e&&(d===undefined)){return;}return{bStylePage:e?this._isSgnTrue(e.style):d,bMoveTitle:e?this._isSgnTrue(e.title):d,bHideBackButton:e?this._isSgnTrue(e.back):d,bCollapseHeader:e?this._isSgnTrue(e.collapse):d,bHierarchy:e?this._isSgnTrue(e.hierarchy):d,bLateAdaptation:e?this._isSgnTrue(e.lateAdaptation):b.B_DEFAULT_LATE_ADAPTATION};},_getDefaultConfiguration:function(C){var e=this._hasMinVersionSmallerThan(C,"1.42")&&this._isAllowed(C);return{bStylePage:e,bMoveTitle:e,bHideBackButton:e,bCollapseHeader:e,bHierarchy:e};},_isURLParameterSpecified:function(p){var u=new U(window.location.href),A=u.mParams&&u.mParams[p];return A&&(A.length>0);},_isAllowed:function(C){var s=C.getMetadata().getName();for(var i=0;i<b.A_ALLOWLIST.length;i++){var n=b.A_ALLOWLIST[i].substring(0,b.A_ALLOWLIST[i].length-2);if(this._isPrefixedString(s,n)){return true;}}return false;},_isAdaptationRequired:function(A){for(var o in A){if(A[o]===true){return true;}}return false;},_isPrefixedString:function(s,p){return s&&p&&(s.substring(0,p.length)===p);},_hasMinVersionSmallerThan:function(C,v){var i=C.getMetadata().getManifestEntry("sap.ui5"),m=true;if(i&&i.dependencies&&i.dependencies.minUI5Version){var M=new V(i.dependencies.minUI5Version);m=M.compareTo(new V(v))<0;}return m;},_isSgnTrue:function(v){return(v===true)||(v==="true");}};a._fnOnInstanceInitialized=function(C){var o=C.getAggregation("rootControl");if(!o||o.getId()==="navContainerFlp"||C.getId().indexOf("application-")!==0){return;}var d=b.getConfiguration(C);if(!b._isAdaptationRequired(d)){return;}if(!c.service||!S||typeof S.get!=="function"){L.warning("Fiori20Adapter not loaded because static FactoryRegistry is not available","sap.ui.core.service.ServiceFactoryRegistry should be a function","sap.ushell.Fiori20AdapterTest");return;}var D={onBeforeRendering:function(){o.removeEventDelegate(D);var s=S.get("sap.ushell.ui5service.ShellUIService"),e=s&&s.createInstance();if(!s||!e){L.warning("Fiori20Adapter not loaded because ShellUIService is not available","sap.ushell.ui5service.ShellUIService should be declared by configuration","sap.ushell.Fiori20AdapterTest");return;}e.then(function(s){if(s&&(s.getUxdVersion()===2)){F.applyTo(o,C,d,s);}},function(E){L.warning("Fiori20Adapter not loaded as ShellUIService is not available",E,"sap.ushell.Fiori20AdapterTest");});}};o.addEventDelegate(D);};});
sap.ui.predefine('sap/ushell/System',[],function(){"use strict";var S=function(d){this._oData=d;};S.prototype.getAlias=function(){return this._oData.alias;};S.prototype.getBaseUrl=function(){return this._oData.baseUrl;};S.prototype.getClient=function(){return this._oData.client;};S.prototype.getClientRole=function(){return this._oData.clientRole;};S.prototype.getName=function(){return this._oData.system;};S.prototype.getPlatform=function(){return this._oData.platform;};S.prototype.getProductVersion=function(){return this._oData.productVersion;};S.prototype.getProductName=function(){return this._oData.productName;};S.prototype.getSystemName=function(){return this._oData.systemName;};S.prototype.getSystemRole=function(){return this._oData.systemRole;};S.prototype.getTenantRole=function(){return this._oData.tenantRole;};S.prototype.isTrial=function(){return!!this._oData.isTrialSystem;};S.prototype.adjustUrl=function(u){if(u.indexOf("/")!==0||u==="/"){throw new Error("Invalid URL: "+u);}if(this._oData.baseUrl===";o="){if(this._oData.alias){u=u+";o="+this._oData.alias;}}else if(this._oData.baseUrl){u=this._oData.baseUrl.replace(/\/$/,"")+u;}if(this._oData.client){u+=(u.indexOf("?")>=0?"&":"?")+"sap-client="+this._oData.client;}return u;};S.prototype.toString=function(){return JSON.stringify(this._oData);};return S;},true);
sap.ui.predefine('sap/ushell/Ui5NativeServiceFactory',["sap/ui/core/service/ServiceFactory"],function(S){"use strict";var u={_servicePromises:{},createServiceFactory:function(s){var o=this._servicePromises;var U=S.extend("sap.ushell.ui5Service."+s+"Factory",{createInstance:function(){var a=o[s];if(!a){a=new Promise(function(r,b){sap.ui.require(["sap/ushell/ui5service/"+s],function(c){var d;if(!c){b();}d=new c();r(d);});});o[s]=a;}return a;}});return new U();}};return u;});
sap.ui.predefine('sap/ushell/Ui5ServiceFactory',["sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","sap/base/Log","sap/base/util/ObjectPath"],function(S,a,L,O){"use strict";var A;function s(i){A=i;}function g(){return A;}function b(m){return!!/^[^_].+/.test(m);}function c(o){var p,P=[];for(p in o){P.push(p);}return P;}function d(p,P,l){var o=P[l];P[l]=function(){var i,m,C=g();if(!p||p.scopeObject.getId()!==C){L.warning("Call to "+l+" is not allowed","This may be caused by an app component other than the active '"+C+"' that tries to call the method","sap.ushell.Ui5ServiceFactory");return undefined;}m=new Array(arguments.length);for(i=0;i<m.length;++i){m[i]=arguments[i];}return o.apply(P,m);};}function e(u,p,P,i){c(u).filter(b).filter(function(n){var v=u[n];p[n]=v;return typeof v==="function";}).forEach(function(F){p[F]=p[F].bind(u);if(i){d(P,p,F);}});}function f(C){var G;if(typeof C==="undefined"){return true;}if(!jQuery.isPlainObject(C)){return false;}if(!C.scopeType){return false;}G=O.get("scopeObject.getId",C);if(typeof G!=="function"){return false;}return true;}function h(p,u,i){var P={};if(i){i=typeof p==="object";}e(u,P,p,i);if(i&&p.scopeType==="component"&&p.scopeObject&&p.scopeObject.getId){s(p.scopeObject.getId());}return P;}function j(u){return new Promise(function(r,R){try{var U=sap.ushell.Container.getService(u);r(U);}catch(E){R(E);}});}function k(u,i){var U=S.extend("sap.ushell.ui5service."+u+"Factory",{createInstance:function(p){return new Promise(function(r,R){j(u).then(function(o){var l,m,n;if(!f(p)){L.error("Invalid context for "+u+" service interface","The context must be empty or an object like { scopeType: ..., scopeObject: ... }","sap.ushell.Ui5ServiceFactory");R("Invalid Context for "+u+" service");return;}m=h(p,o,i);n=a.extend("sap.ushell.ui5service."+u,{getInterface:function(){return m;}});l=new n(p);r(l);},function(G){R(G);});});}});return new U();}return{createServiceFactory:k};});
sap.ui.predefine('sap/ushell/User',["sap/ui/thirdparty/URI","sap/ui/base/EventProvider","sap/ui/core/LocaleData","sap/base/Log"],function(U,E,L,a){"use strict";function c(o){if(o===undefined){return undefined;}return jQuery.extend(true,{},o);}function g(u){var o;if(u.host&&typeof u.host==="function"&&u.host()){o=u.host();if(typeof u.protocol==="function"&&u.protocol()){o=u.protocol()+"://"+o;}return o;}return"";}function b(t){return t.indexOf("sap_")===0;}var d=function(C){var e=[],B,s,o,S,f=new E();this.getEmail=function(){return C.email;};this.getFirstName=function(){return C.firstName;};this.getFullName=function(){return C.fullName;};this.getTimeZone=function(){return C.timeZone;};this.getInitials=function(){var F=C.fullName||"",I="",n=true;for(var i=0,l=F.length;i<l;++i){if(F[i]===" "){n=true;}else if(n){n=false;I+=F[i];}}return I;};this.getId=function(){return C.id;};this.getLanguage=function(){return C.language;};this.getLanguageBcp47=function(){return C.languageBcp47;};this.getLanguageText=function(){var l=sap.ui.getCore().getConfiguration().getLocale(),h=new L(l),i=sap.ui.getCore().getConfiguration().getLanguageTag();i=i.replace("-","_");var j=h.getLanguages(),k=j[i]||this.getLanguage().toUpperCase();return k;};this.getLastName=function(){return C.lastName;};this.getImage=function(){return C.image;};this.setImage=function(u){C.image=u;f.fireEvent("onSetImage",u);};this.attachOnSetImage=function(F,D){f.attachEvent("onSetImage",F,D);};this.isJamActive=function(){return C.isJamActive===true;};this.isLanguagePersonalized=function(){return C.isLanguagePersonalized===true;};this.getTheme=function(t){if(t===d.prototype.constants.themeFormat.ORIGINAL_THEME){return S.originalTheme.theme;}if(t===d.prototype.constants.themeFormat.THEME_NAME_PLUS_URL){return o.theme+(o.locationPath?"@"+o.locationOrigin+o.locationPath:"");}if(t===d.prototype.constants.themeFormat.NWBC){if(b(o.theme)){return o.theme;}return this.getTheme(d.prototype.constants.themeFormat.THEME_NAME_PLUS_URL);}return o.theme;};this.getThemeRoot=function(t){if(C.ranges&&C.ranges.theme&&C.ranges.theme[t]&&C.ranges.theme[t].themeRoot){return C.ranges.theme[t].themeRoot;}return"";};this.setTheme=function(n){if(this.isSetThemePermitted()===false){var h="setTheme not permitted";a.error(h);throw new Error(h);}o=this._amendTheme({theme:n,root:this.getThemeRoot(n)},s);if(n!==S.originalTheme.theme){this.setChangedProperties({propertyName:"theme",name:"THEME"},S.originalTheme.theme,n);S=o;}this.applyTheme(n);};this.applyTheme=function(n){var t=this;var T=this._amendTheme({theme:n,root:this.getThemeRoot(n)},s),N;o=T;if(T.suppliedRoot){sap.ui.getCore().applyTheme(T.theme,T.suppliedRoot+"/UI5/");}else if(T.path){sap.ui.getCore().applyTheme(T.theme,T.path+"/UI5/");}else{sap.ui.getCore().applyTheme(T.theme);}sap.ui.require(["sap/ushell/components/applicationIntegration/AppLifeCycle"],function(A){N=t.getTheme(d.prototype.constants.themeFormat.NWBC);A.postMessageToIframeApp("sap.ushell.appRuntime","themeChange",{currentThemeId:N,themeServiceRoute:window.location.protocol+"//"+window.location.host+"/comsapuitheming.runtime/themeroot/v1"});});};this.setLanguage=function(n){if(n){this.setChangedProperties({propertyName:"language",name:"LANGUAGE"},C.language,n);C.language=n;}};this.getAccessibilityMode=function(){return C.accessibility;};this.setAccessibilityMode=function(A){if(this.isSetAccessibilityPermitted()===false){var h="setAccessibilityMode not permitted";a.error(h);throw new Error(h);}C.accessibility=A;};this.isSetAccessibilityPermitted=function(){return C.setAccessibilityPermitted;};this.isSetThemePermitted=function(){return C.setThemePermitted;};this.getContentDensity=function(){return C.contentDensity;};this.setContentDensity=function(h){if(this.isSetContentDensityPermitted()===false){var i="setContentDensity not permitted";a.error(i);throw new Error(i);}this.setChangedProperties({propertyName:"contentDensity",name:"CONTENT_DENSITY"},C.contentDensity,h);C.contentDensity=h;};this.isSetContentDensityPermitted=function(){return C.setContentDensityPermitted;};this.getChangedProperties=function(){return jQuery.extend(true,[],e);};this.setChangedProperties=function(p,h,n){e.push({propertyName:p.propertyName,name:p.name,oldValue:h,newValue:n});};this.resetChangedProperties=function(){e=[];};this.resetChangedProperty=function(p){e=e.filter(function(P){return!(p===P.propertyName);});};this.getTrackUsageAnalytics=function(){return C.trackUsageAnalytics;};this.setTrackUsageAnalytics=function(t){this.setChangedProperties({propertyName:"trackUsageAnalytics",name:"TRACKING_USAGE_ANALYTICS"},C.trackUsageAnalytics,t);C.trackUsageAnalytics=t;};this.setImageConsent=function(i){this.setChangedProperties({propertyName:"isImageConsent",name:"ISIMAGECONSENT"},C.isImageConsent,i);C.isImageConsent=i;};this.getImageConsent=function(){return C.isImageConsent;};s={locationPathUi5:(new U(sap.ui.require.toUrl(""))).absoluteTo(document.location).pathname(),locationPathCustom:C.themeRoot||"",locationOrigin:g(new U(document.location))};if(!s.locationPathUi5){a.warning("User: Could not set UI5 location path");}if(!s.locationPathCustom){a.warning("User: Could not set location path for custom themes");}if(!s.locationOrigin){a.warning("User: Could not set front-end server location origin");}B=C.bootTheme||{theme:"",root:""};o=this._amendTheme(B,s);S=o;};d.prototype._amendTheme=function(t,s){var T={},e,r;function f(R,o){var u,O,p={};u=new U(R);O=g(u);if(O){p.locationOrigin=O;p.locationPath=u.path();}else{p.locationOrigin=o.locationOrigin;p.locationPath=R;}return p;}if(!t||!t.theme||!s){return{originalTheme:{theme:"",root:""},theme:"",suppliedRoot:"",path:"",locationPath:"",locationOrigin:""};}T.originalTheme=c(t);if(T.originalTheme.theme.indexOf("@")>0){e=T.originalTheme.theme.split("@",2);T.theme=e[0];T.suppliedRoot=e[1];r=f(e[1],s);T.locationPath=r.locationPath;T.path=T.locationPath;T.locationOrigin=r.locationOrigin;return T;}T.theme=T.originalTheme.theme;if(T.originalTheme.root){T.suppliedRoot=T.originalTheme.root;r=f(T.originalTheme.root,s);T.locationPath=r.locationPath;T.path=T.locationPath;T.locationOrigin=r.locationOrigin;return T;}T.suppliedRoot="";if(b(T.theme)){T.locationOrigin=s.locationOrigin;T.locationPath=s.locationPathUi5;T.path="";return T;}T.locationOrigin=s.locationOrigin;T.locationPath=s.locationPathCustom;T.path=T.locationPath;return T;};d.prototype.constants={themeFormat:{ORIGINAL_THEME:"O",THEME_NAME_PLUS_URL:"N+U",NWBC:"NWBC"}};return d;},true);
sap.ui.predefine('sap/ushell/_Config/utils',[],function(){"use strict";function i(p,C){var e=[];var n=[];var o=C;var f=false;var P=p.split("/");P.shift();P.forEach(function(g){if(!f&&o.hasOwnProperty(g)){o=o[g];e.push(g);return;}f=true;n.push(g);});return{contractPart:"/"+e.join("/"),nonContractPart:n};}function a(v){return v&&v.isA&&v.isA("sap.ui.model.Context");}function w(C,p,o,v){var D=o;p.forEach(function(P,I){if(I===p.length-1){D[P]=v;return;}if(!D.hasOwnProperty(P)){throw new Error("Cannot find "+P+" inside "+C);}D=D[P];});}function c(p){var P=function(e){return p+e;};if(typeof p==="object"){var S="/";P=function(e){var f=e.split(S);f.shift();var F=f.shift();return p[F]+(f.length>0?S+f.join(S):"");};}return P;}function b(p,m,P){var f=c(P);var F=f(p);if(a(m)&&p.charAt(0)!=="/"){var r=m.getPath()+"/"+p;F=f(r);}return F;}function s(f,C,m,p){m.setData=function(P,D){throw new Error("not yet implemented");};m.setProperty=function(P,D,M){var F=b(P,M,p);var I=i(F,C);if(I.nonContractPart.length===0){f.emit(I.contractPart,D);return;}var B=f.last(I.contractPart);w(I.contractPart,I.nonContractPart,B,D);f.emit(I.contractPart,B);};return m;}function d(f,C,p,e){var m,S,g,P;if(typeof p==="string"){var h=p;P=h;var I=f.last(h);if(Object.prototype.toString.apply(I)!=="[object Object]"){throw new Error("Cannot bind on leaf property of Configuration: '"+h+"'");}m=new e(I);g=m.setData.bind(m);f.on(h).do(function(v){g(v);});return s(f,C,m,P);}if(Object.prototype.toString.apply(p)==="[object Object]"){var D=p;var M=Object.keys(D).reduce(function(M,k){var j=D[k];M[k]=f.last(j);f.on(j).do(function(k,v){S("/"+k,v);}.bind(null,k));return M;},{});m=new e(M);S=m.setProperty.bind(m);return s(f,C,m,D);}throw new Error("Invalid parameter provided to createModel. Must be an object or a string.");}return{createModel:d};},false);
sap.ui.predefine('sap/ushell/appRuntime/ui5/AppCommunicationMgr',["sap/ushell/appRuntime/ui5/AppRuntimePostMessage","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath","sap/base/Log","sap/ui/thirdparty/URI"],function(A,q,O,L,U){"use strict";var C="sap.ushell.appRuntime.ui5.AppCommunicationMgr";var s,t={},T={},a=0,b=[],p=0;function c(){this.init=function(){var d=this;s=A.getHandlers();A.registerCommunicationHandler("sap.ushell.PostMessage",{oServiceCalls:{"callTunnelFunction":{executeServiceCallFn:function(S){var e=S.oMessageData.body.content,f=d.restoreArray(e.arguments);t[e.UUID].fnCallback.apply(this,Object.values(f));return new q.Deferred().resolve().promise();}}}});d.handleMessageEvent=c.prototype._handleMessageEvent.bind(d,d);addEventListener("message",d.handleMessageEvent);};this.restoreArray=function(o){var d=[],i=0;while(o[i]){d.push(o[i]);i++;}return d;};this.destroy=function(){removeEventListener("message",this.handleMessageEvent);};this._handleMessageResponse=function(m){if(m.request_id&&b[m.request_id]){var r=b[m.request_id];if(m.status==="success"){r.resolve(m.body.result);}else{r.reject();}}};this._handleMessageRequest=function(o,m,M){var d=this,P=O.create("sap-ushell-config.services.PostMessage.config"),S=M&&M.service,e,f,g,h,i;L.debug("App Runtime received post message request from origin '"+m.origin+"': "+JSON.stringify(M),null,C);if(!S){return;}if(P&&P.enabled===false){L.warning("App Runtime received message for "+f+", but this "+"feature is disabled. It can be enabled via launchpad configuration "+"property 'services.PostMessage.config.enabled: true'",undefined,C);return;}if(!this._isTrustedPostMessageSource(o,m)){L.warning("App Runtime received message from untrusted origin '"+m.origin+"': "+JSON.stringify(m.data),null,C);return;}if(S.indexOf(".")>0){e=S.split(".");g=e[e.length-1];f=S.substr(0,S.length-g.length-1);}else{L.warning("App Runtime received message with invalid service name ("+S+") :"+JSON.stringify(m.data),null,C);return;}var j={oMessage:m,oMessageData:M,oContainer:o};try{h=s[f];i=h&&h.oServiceCalls[g];if(i&&i.executeServiceCallFn){i.executeServiceCallFn(j).done(function(r){d.sendResponseMessage(m,M,"success",{result:r});}).fail(function(k){d.sendResponseMessage(m,M,"error",{message:k});});}else{L.warning("App Runtime received message with unknown service name ("+M.service+") :"+JSON.stringify(m.data),null,C);}}catch(E){L.warning("Error in processing message: "+E.message+") :"+JSON.stringify(m.data),null,C);}};this._getCFLPWindow=function(){return window.parent;};this._isTrustedPostMessageSource=function(o,m){var d=false,P=o._getCFLPWindow();if(P){d=(m.source===P);}return d;};this.sendResponseMessage=function(m,M,S,B){var r=this.stringify({type:"response",service:M.service,request_id:M.request_id,status:S,body:B});L.debug("Sending post message response to origin ' "+m.origin+"': "+r,null,C);if(typeof m.source!=="object"||m.source===null){L.debug("Cannot send response message to origin ' "+m.origin,"`source` member of request message is not an object",C);return;}m.source.postMessage(r,m.origin);};this._getTargetWindow=function(){return window.parent;};this.postMessage=function(m){var d,e=this._getTargetWindow();if(m){try{if(m.type==="request"&&!m.request_id){m.request_id=this.getId();}d=this.stringify(m);e.postMessage(d,"*");}catch(f){L.error("Message '"+m+"' cannot be posted: "+f,"sap.ui5Isolation.AppCommunicationMgr");}}};this.sendMessageToOuterShell=function(m,P,r){var d=new q.Deferred(),M={"type":"request","service":m,"body":(P||{}),"request_id":r};this.postMessage(M);b[M.request_id]=d;return d.promise();};this.getId=function(){return"SAPUI5_APPRUNTIME_MSGID_"+(++p);};}c.prototype._handleMessageEvent=function(o,m){if(m===undefined){return;}var M=m.data;if(typeof M==="string"){try{M=this.parse(m.data,this);}catch(e){L.debug("Message received from origin '"+m.origin+"' cannot be parsed: "+e,M,C);return;}}if(M.type==="request"){return o._handleMessageRequest(o,m,M);}else if(M.type==="response"){return o._handleMessageResponse(M);}};c.prototype.stringify=function(d){var e=function(g){if(t[g]){return{type:"tunnel",UUID:t[g]};}a++;t[a]={fnCallback:g};t[g]=a;return{type:"tunnel",UUID:a};},f=[],r=JSON.stringify(d,function(k,v){if(v!==null){if(typeof v==='object'||typeof v==="function"){if(f.indexOf(v)!==-1){return;}f.push(v);}}if(typeof v==="function"){var n=T[v];if(n){return{type:"reversetunnel",UUID:n};}return e(v);}return v;});return r;};c.prototype.parse=function(d,o){return JSON.parse(d,function(k,v){if(v&&v.type==="tunnel"){var e=function(){return o.sendMessageToOuterShell("sap.ushell.PostMessage.callTunnelFunction",{"content":{UUID:v.UUID,arguments:arguments}});};T[e]=v.UUID;return e;}else if(v&&v.type==="reversetunnel"){return t[v.UUID].fnCallback;}return v;});};return new c();},false);
sap.ui.predefine('sap/ushell/appRuntime/ui5/AppRuntimePostMessage',["sap/ui/thirdparty/jquery","sap/ushell/components/applicationIntegration/application/PostMessageAPIInterface"],function(q,P){"use strict";var a={};function A(){this.getHandlers=function(){return a;};this.registerCommHandlers=function(c){var i=[];Object.keys(c).forEach(function(k){var C=c[k];if(C.oServiceCalls){Object.keys(C.oServiceCalls).forEach(function(b){i.push({action:b,service:k});});}});q.extend(a,c);return i;};this.registerCommunicationHandler=function(k,c){var C=a[k],i=[];if(!C){C=a[k]={oServiceCalls:{}};}if(c.oServiceCalls){Object.keys(c.oServiceCalls).forEach(function(b){C.oServiceCalls[b]=c.oServiceCalls[b];i.push({action:b,service:k});});}return i;};this.registerCommunicationHandlers=function(c){var t=this;Object.keys(c).forEach(function(k){t.registerCommunicationHandler(k,c[k]);});};this._getPostMesageInterface=function(s,i){var c=a[s],I;if(c&&c.oRequestCalls&&c.oRequestCalls[i]){I=c.oRequestCalls[i];}return I;};}var o=new A();P.init(false,o.registerCommunicationHandlers.bind(o));return o;});
sap.ui.predefine('sap/ushell/appRuntime/ui5/AppRuntimePostMessageAPI',["sap/ushell/appRuntime/ui5/AppRuntimePostMessage","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(A,a){"use strict";function b(){this.getHandlers=function(){return A.getHandlers();};this.registerCommHandlers=function(c){var i=A.registerCommHandlers(c);a.sendMessageToOuterShell("sap.ushell.services.appLifeCycle.subscribe",i);};this.registerCommunicationHandler=function(k,c){var i=A.registerCommunicationHandler(k,c);a.sendMessageToOuterShell("sap.ushell.services.appLifeCycle.subscribe",i);};this._getPostMesageInterface=function(s,i){return A._getPostMesageInterface(s,i);};}return new b();});
sap.ui.predefine('sap/ushell/appRuntime/ui5/AppRuntimeService',["sap/ushell/appRuntime/ui5/AppCommunicationMgr"],function(A){"use strict";function a(){this.sendMessageToOuterShell=function(m,p,r){return A.sendMessageToOuterShell(m,p,r);};}return new a();},false);
sap.ui.predefine('sap/ushell/appRuntime/ui5/SessionHandlerAgent',["sap/ushell/appRuntime/ui5/AppRuntimePostMessageAPI","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ui/thirdparty/URI","sap/base/Log","sap/ui/thirdparty/jquery"],function(A,a,U,L,q){"use strict";function S(){this.init=function(){var t=this;A.registerCommunicationHandler("sap.ushell.sessionHandler",{oServiceCalls:{logout:{executeServiceCallFn:function(m){return t.handleLogoutEvent(m);}},extendSessionEvent:{executeServiceCallFn:function(m){return t.handleExtendSessionEvent(m);}}}});this.attachUserEvents();this.userActivityHandler();};this.handleLogoutEvent=function(){var d=new q.Deferred(),t=this;this.detachUserEvents();sap.ushell.Container.getFLPUrl(true).then(function(f){if(t.isSameDomain(f,document.URL)===false){sap.ushell.Container.logout().then(d.resolve,d.resolve);}else{d.resolve();}});return d.promise();};this.isSameDomain=function(u,b){var o,c,d=false;try{o=new U(u);c=new U(b);if(o.origin()===c.origin()){d=true;}}catch(e){L.error("Check for same domain of iframe and FLP failed: "+u+" "+b,e,"sap.ushell.appRuntime.ui5.SessionHandlerAgent");}return d;};this.handleExtendSessionEvent=function(){sap.ushell.Container.sessionKeepAlive();return new q.Deferred().resolve().promise();};this.attachUserEvents=function(){q(document).on("mousedown.sessionTimeout mousemove.sessionTimeout",this.userActivityHandler.bind(this));q(document).on("keyup.sessionTimeout",this.userActivityHandler.bind(this));q(document).on("touchstart.sessionTimeout",this.userActivityHandler.bind(this));};this.detachUserEvents=function(){q(document).off("mousedown.sessionTimeout mousemove.sessionTimeout");q(document).off("keydown.sessionTimeout");q(document).off("touchstart.sessionTimeout");};this.userActivityHandler=function(e){if(this.oUserActivityTimer!==undefined){return;}var t=this;this.oUserActivityTimer=setTimeout(function(){a.sendMessageToOuterShell("sap.ushell.sessionHandler.notifyUserActive",{});t.oUserActivityTimer=undefined;},1000);};}var s=new S();return s;});
sap.ui.predefine('sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils',["sap/base/util/ObjectPath"],function(O){"use strict";var A={getAppLifeCycleService:function(){var c=A.getContainer();return c.getService("AppLifeCycle");},getContainer:function(){var c=O.get("sap.ushell.Container");if(!c){throw new Error("Illegal state: shell container not available; this component must be executed in a unified shell runtime context.");}return c;},getCurrentRunningApplication:function(){var a=A.getAppLifeCycleService();return a.getCurrentApplication();}};return A;});
sap.ui.predefine('sap/ushell/appRuntime/ui5/plugins/baseRta/BaseRTAPluginStatus',function(){"use strict";return{STATUS_STARTING:"starting",STATUS_STARTED:"started",STATUS_STOPPING:"stopping",STATUS_STOPPED:"stopped"};},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/plugins/baseRta/CheckConditions',["sap/base/util/UriParameters","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils"],function(U,A){"use strict";var C={_getAppDescriptor:function(c){if(c&&c.getMetadata){var o=c.getMetadata();if(o&&o.getManifest){return o.getManifest();}}return{};},checkRestartRTA:function(l){var u=new U(window.location.href);var s=u.get("sap-ui-layer");l=s||l;var r=!!window.sessionStorage.getItem("sap.ui.rta.restart."+l);if(r){window.sessionStorage.removeItem("sap.ui.rta.restart."+l);}return r;},checkFlexEnabledOnStart:function(){var c=A.getCurrentRunningApplication(),r=c.componentInstance,a=this._getAppDescriptor(r),f=a["sap.ui5"]&&a["sap.ui5"].flexEnabled;return f!==false;},checkUI5App:function(){var c=A.getCurrentRunningApplication();var i=c&&c.applicationType==="UI5";return i;}};return C;},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/plugins/baseRta/Renderer',["sap/base/Log","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils"],function(L,A){"use strict";var R={getRenderer:function(c){var C=A.getContainer();return new Promise(function(r,a){var o=C.getRenderer();if(o){c.oRenderer=o;r(o);}else{c._onRendererCreated=function(e){o=e.getParameter("renderer");if(o){c.oRenderer=o;r(o);}else{a("Illegal state: shell renderer not available after recieving 'rendererCreated' event.");}};C.attachRendererCreatedEvent(c._onRendererCreated,c);}});},createActionButton:function(c,o,i){return this.getRenderer(c).then(function(r){r.addActionButton("sap.ushell.ui.launchpad.ActionItem",{id:c.mConfig.id,text:c.mConfig.i18n.getText(c.mConfig.text),icon:c.mConfig.icon,press:o,visible:i},true,false,[r.LaunchpadState.App]);}).catch(function(e){L.error(e,undefined,c.mConfig.sComponentName);});},exit:function(){}};return R;},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/plugins/baseRta/Trigger',["sap/ui/thirdparty/hasher","sap/ui/core/BusyIndicator","sap/ushell/appRuntime/ui5/plugins/baseRta/BaseRTAPluginStatus","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils"],function(h,B,P,A){"use strict";var S=P.STATUS_STARTING;var a=P.STATUS_STARTED;var b=P.STATUS_STOPPING;var c=P.STATUS_STOPPED;function r(){return new Promise(function(d,e){sap.ui.require(["sap/ui/rta/api/startAdaptation"],d,e);});}var T=function(C){this.mConfig=C;this.sStatus=P.STATUS_STOPPED;this.oStartingPromise=null;this.oStoppingPromise=null;var o=A.getContainer();o.registerDirtyStateProvider(this._dirtyStateProvider.bind(this));};T.prototype.errorHandler=function(e){B.hide();if(e==="Reload triggered"){this.sStatus=c;}};T.prototype._startRta=function(R){this.sStatus=S;sap.ui.getCore().getEventBus().subscribe("sap.ushell.renderers.fiori2.Renderer","appClosed",this._onAppClosed,this);B.show(0);return sap.ui.getCore().loadLibraries(["sap.ui.rta"],{async:true}).then(r.bind(this)).then(function(s){this.sOldHash=h.getHash();var o={rootControl:R,flexSettings:{layer:this.mConfig.layer,developerMode:this.mConfig.developerMode}};return s(o,this.mConfig.loadPlugins,this.mConfig.onStartHandler,this.mConfig.onErrorHandler,this.mConfig.onStopHandler);}.bind(this)).then(function(o){B.hide();this._oRTA=o;this.sStatus=a;}.bind(this)).catch(this.mConfig.onErrorHandler);};T.prototype._stopRta=function(){this.sStatus=b;return this._oRTA.stop.apply(this._oRTA,arguments).then(function(){this.exitRta();}.bind(this));};T.prototype.triggerStartRta=function(){var C=A.getCurrentRunningApplication();var R=C.componentInstance;var s=this.sStatus;switch(s){case S:break;case a:this.oStartingPromise=Promise.resolve();break;case b:this.oStartingPromise=this.oStoppingPromise.then(function(){return this._startRta(R);}.bind(this));break;case c:this.oStartingPromise=this._startRta(R);break;default:}if(s!==S){this.oStartingPromise.then(function(){this.oStartingPromise=null;}.bind(this));}return this.oStartingPromise;};T.prototype.triggerStopRta=function(){var s=this.sStatus;switch(s){case S:this.oStoppingPromise=this.oStartingPromise.then(function(){return this._stopRta.apply(this,arguments);}.bind(this));break;case a:this.oStoppingPromise=this._stopRta.apply(this,arguments);break;case b:break;case c:this.oStoppingPromise=Promise.resolve();break;default:}if(s!==b){this.oStoppingPromise.then(function(){this.oStoppingPromise=null;}.bind(this));}return this.oStoppingPromise;};T.prototype.handleFlexDisabledOnStart=function(){sap.ui.require(["sap/ui/rta/util/showMessageBox","sap/m/MessageBox"],function(s,M){s(this.i18n.getText("MSG_FLEX_DISABLED"),{icon:M.Icon.INFORMATION,title:this.i18n.getText("HEADER_FLEX_DISABLED"),actions:[M.Action.OK],initialFocus:null,isCustomAction:false});});};T.prototype._dirtyStateProvider=function(){if(this._oRTA&&this.sStatus===a){var u=A.getContainer();var U=u.getService("URLParsing");var H=h.getHash();var p=U.parseShellHash(H);var o=U.parseShellHash(this.sOldHash);this.sOldHash=H;if(p.semanticObject===o.semanticObject&&p.action===o.action&&p.appSpecificRoute!==o.appSpecificRoute){return false;}return this._oRTA.canUndo();}return false;};T.prototype.exitRta=function(){if(this._oRTA){this._oRTA.destroy();this.sStatus=c;this.oStartingPromise=null;this.oStoppingPromise=null;this._oRTA=null;}sap.ui.getCore().getEventBus().unsubscribe("sap.ushell.renderers.fiori2.Renderer","appClosed",this._onAppClosed,this);};T.prototype._onAppClosed=function(){this.triggerStopRta(true,true);};return T;},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/plugins/rtaAgent/Component',["sap/ui/core/Component","sap/ui/fl/write/api/FeaturesAPI","sap/ushell/appRuntime/ui5/plugins/baseRta/CheckConditions","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils","sap/ushell/appRuntime/ui5/plugins/baseRta/Trigger","sap/base/Log"],function(C,F,a,A,T,L){"use strict";var p;function g(){return{sComponentName:"sap.ushell.appRuntime.ui5.plugins.rtaAgent",layer:"CUSTOMER",developerMode:false};}function b(v){return new Promise(function(r,e){p.postMessageToFlp("user.postapi.rtaPlugin","switchToolbarVisibility",{visible:v}).done(r).fail(e);});}function c(){return new Promise(function(r,e){p.postMessageToFlp("user.postapi.rtaPlugin","activatePlugin").done(r).fail(e);});}function d(){if(a.checkUI5App()){p.postMessageToFlp("user.postapi.rtaPlugin","showAdaptUI").fail(function(e){throw new Error(e);});}}return C.extend("sap.ushell.appRuntime.ui5.plugins.rtaAgent.Component",{metadata:{manifest:"json"},init:function(){this.mConfig=g();p=this.getComponentData().oPostMessageInterface;return F.isKeyUser().then(function(i){if(i){return c();}return Promise.reject();}).then(function(){this.mConfig.i18n=this.getModel("i18n").getResourceBundle();this.mConfig.onStartHandler=this._onStartHandler.bind(this);this.mConfig.onErrorHandler=this._onErrorHandler.bind(this);this.mConfig.onStopHandler=this._onStopHandler.bind(this);this.oTrigger=new T(this.mConfig);this._registerPostMessages();this._restartRtaIfRequired();var o=A.getAppLifeCycleService();o.attachAppLoaded(this._onAppLoaded,this);}.bind(this)).then(d).catch(function(e){if(e){L.error(e);}});},_registerPostMessages:function(){p.registerPostMessageAPIs({"user.postapi.rtaPlugin":{inCalls:{startUIAdaptation:{executeServiceCallFn:function(){this.oTrigger.triggerStartRta(this);return p.createPostMessageResult();}.bind(this)}},outCalls:{activatePlugin:{},showAdaptUI:{}}}});},_restartRtaIfRequired:function(){if(a.checkUI5App()){if(a.checkRestartRTA(this.mConfig.layer)){return b(false).then(function(){return this.oTrigger.triggerStartRta(this);}.bind(this));}}return Promise.resolve();},_onAppLoaded:function(){if(a.checkUI5App()){this._restartRtaIfRequired();d();}},_onStopHandler:function(){this._exitAdaptation();},_onStartHandler:function(){},_onErrorHandler:function(e){this.oTrigger.errorHandler(e);if(e!=="Reload triggered"){this._exitAdaptation();var E;var m;if(e instanceof Error){E=e.stack;m=this.mConfig.i18n.getText("TECHNICAL_ERROR");}else if(typeof e==="string"){E=m=e;}L.error("Cannot start UI Adaptation: ",E);sap.ui.require(["sap/ui/rta/Utils","sap/m/MessageBox"],function(U,M){M.error(m,{title:this.mConfig.i18n.getText("ERROR_TITLE"),onClose:null,styleClass:U.getRtaStyleClassName()});}.bind(this));}},_exitAdaptation:function(){b(true);this.oTrigger.exitRta();},exit:function(){b(true);var o=A.getAppLifeCycleService();o.detachAppLoaded(this._onAppLoaded,this);}});});
sap.ui.predefine('sap/ushell/appRuntime/ui5/plugins/rtaShell/Component',["sap/ui/core/Component","sap/ushell/appRuntime/ui5/plugins/baseRta/Renderer","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils"],function(C,R,A){"use strict";var p;var F="sapUiRtaFioriHeaderInvisible";function g(){return{sComponentName:"sap.ushell.appRuntime.ui5.plugins.rtaShell",layer:"CUSTOMER",id:"RTA_AppRuntime_Plugin_ActionButton",text:"RTA_BUTTON_TEXT",icon:"sap-icon://wrench",visible:false};}function s(f,v){if(f){if(v){f.removeStyleClass(F);}else{f.addStyleClass(F);}}}function a(f){return new Promise(function(r,b){s(f,false);p.postMessageToApp("user.postapi.rtaPlugin","startUIAdaptation").done(r).fail(b);});}return C.extend("sap.ushell.appRuntime.ui5.plugins.rtaShell.Component",{metadata:{manifest:"json"},init:function(){this.mConfig=g();p=this.getComponentData().oPostMessageInterface;this._registerPostMessages();},_registerPostMessages:function(){p.registerPostMessageAPIs({"user.postapi.rtaPlugin":{inCalls:{activatePlugin:{executeServiceCallFn:function(){return p.createPostMessageResult(this._initPlugin());}.bind(this)},showAdaptUI:{executeServiceCallFn:function(){this._changeActionButtonVisibility(true);return p.createPostMessageResult();}.bind(this)},switchToolbarVisibility:{executeServiceCallFn:function(S){var v=S.oMessageData.body.visible;s(this._oFioriHeader,v);return p.createPostMessageResult();}.bind(this)}},outCalls:{startUIAdaptation:{}}}});},_initPlugin:function(){if(this.bIsInitialized){return new jQuery.Deferred().resolve();}this.bIsInitialized=true;this.mConfig.i18n=this.getModel("i18n").getResourceBundle();return new jQuery.Deferred(function(d){R.getRenderer(this).then(function(r){this.oRenderer=r;this._oFioriHeader=this.oRenderer&&this.oRenderer.getRootControl&&this.oRenderer.getRootControl().getOUnifiedShell().getHeader();}.bind(this)).then(function(){return R.createActionButton(this,a.bind(undefined,this._oFioriHeader),this.mConfig.visible);}.bind(this)).then(function(){var o=A.getAppLifeCycleService();o.attachAppLoaded(this._onAppLoaded,this);}.bind(this)).catch(function(e){this.bIsInitialized=false;return Promise.reject(e);}.bind(this)).then(d.resolve,d.reject);}.bind(this)).promise();},_changeActionButtonVisibility:function(v){var c=sap.ui.getCore().byId(this.mConfig.id);if(c){c.setVisible(v);}},_onAppLoaded:function(){this._changeActionButtonVisibility(false);},exit:function(){if(this._oFioriHeader){this._oFioriHeader.removeStyleClass(F);}var o=A.getAppLifeCycleService();o.detachAppLoaded(this._onAppLoaded,this);if(this._onRendererCreated){var c=A.getContainer();c.detachRendererCreatedEvent(this._onRendererCreated,this);}}});});
sap.ui.predefine('sap/ushell/appRuntime/ui5/plugins/scriptAgent/Component',["sap/ui/core/Component","sap/ui/thirdparty/jquery","sap/base/Log"],function(C,q,L){"use strict";return C.extend("sap.ushell.appRuntime.ui5.plugins.scriptAgent.Component",{init:function(){var c=this.getComponentData();q.ajaxSetup({cache:true});try{q.getScript(c.config.url);}catch(e){L.error(e);}q.ajaxSetup({cache:false});}});});
sap.ui.predefine('sap/ushell/appRuntime/ui5/renderers/fiori2/AccessKeysAgent',["sap/ushell/appRuntime/ui5/AppRuntimeService"],function(A){"use strict";var a=function(){this.init=function(){document.addEventListener("keydown",function(e){var d=false,p;if(e.altKey&&!e.ctrlKey&&!e.shiftKey){if(e.keyCode===65||e.keyCode===70||e.keyCode===72||e.keyCode===77||e.keyCode===78||e.keyCode===83){d=true;}}else if(e.ctrlKey&&!e.altKey&&!e.shiftKey){if(e.keyCode===188||e.keyCode===112||e.keyCode===83){d=true;}}else if(e.ctrlKey&&e.shiftKey&&!e.altKey){if(e.keyCode===70){d=true;}}if(d){p={altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,keyCode:e.keyCode,key:e.key};if(e.keyCode===188){p.key=",";}A.sendMessageToOuterShell("sap.ushell.services.ShellUIService.processHotKey",p);}}.bind(this),true);};};return new a();},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer',['sap/base/util/ObjectPath',"sap/ushell/appRuntime/ui5/AppRuntimeService","sap/base/Log","sap/ushell/appRuntime/ui5/renderers/fiori2/RendererExtensions"],function(O,A,L){"use strict";var b=[];function R(){var t=this;O.set("sap.ushell.renderers.fiori2.Renderer",t);["init","createContent","createExtendedShellState","applyExtendedShellState","showLeftPaneContent","showHeaderItem","showRightFloatingContainerItem","showRightFloatingContainer","showToolAreaItem","showFloatingActionButton","showHeaderEndItem","setHeaderVisibility","showSubHeader","showSignOutItem","showSettingsItem","setFooter","setShellFooter","setFooterControl","hideHeaderItem","removeToolAreaItem","removeRightFloatingContainerItem","hideLeftPaneContent","hideFloatingActionButton","hideSubHeader","removeFooter","getCurrentViewportState","addShellSubHeader","addSubHeader","addUserAction","addActionButton","addFloatingButton","addFloatingActionButton","addSidePaneContent","addLeftPaneContent","addHeaderItem","addRightFloatingContainerItem","addToolAreaItem","getModelConfiguration","addEndUserFeedbackCustomUI","addUserPreferencesEntry","setHeaderTitle","setLeftPaneVisibility","showToolArea","setHeaderHiding","setFloatingContainerContent","setFloatingContainerVisibility","getFloatingContainerVisiblity","getRightFloatingContainerVisibility","setFloatingContainerDragSelector","makeEndUserFeedbackAnonymousByDefault","showEndUserFeedbackLegalAgreement","createTriggers","convertButtonsToActions","createItem","addEntryInShellStates","removeCustomItems","addCustomItems","addRightViewPort","addLeftViewPort","getShellController","getViewPortContainerCurrentState","ViewPortContainerNavTo","switchViewPortStateByControl","setMeAreaSelected","getMeAreaSelected","setNotificationsSelected","getNotificationsSelected","addShellDanglingControl","getShellConfig","getEndUserFeedbackConfiguration","reorderUserPrefEntries","addUserProfilingEntry","logRecentActivity","setCurrentCoreView","getCurrentCoreView"].forEach(function(m){t[m]=function(){L.error("'Renderer' api '"+m+"' is not supported when UI5 application is running inside an iframe (sap.ushell.appRuntime.ui5.renderers.fiori2.Renderer)");};});this.LaunchpadState={App:"app",Home:"home"};this._addButtonHandler=function(i,h){b[i]=h;};this.handleHeaderButtonClick=function(B){if(b[B]!==undefined){b[B]();}};this.addHeaderItem=function(c,C,i,a,s){if(typeof(arguments[0])==="object"&&typeof(arguments[1])==="boolean"){C=arguments[0];i=arguments[1];a=arguments[2];s=arguments[3];}this._addHeaderItem("sap.ushell.services.Renderer.addHeaderItem",C,i,a,s);};this.addHeaderEndItem=function(c,C,i,a,s){if(typeof(arguments[0])==="object"&&typeof(arguments[1])==="boolean"){C=arguments[0];i=arguments[1];a=arguments[2];s=arguments[3];}this._addHeaderItem("sap.ushell.services.Renderer.addHeaderEndItem",C,i,a,s);};this.showHeaderItem=function(i){A.sendMessageToOuterShell("sap.ushell.services.Renderer.showHeaderItem",{"aIds":i,"bCurrentState":true,"aStates":""});};this.showHeaderEndItem=function(i){A.sendMessageToOuterShell("sap.ushell.services.Renderer.showHeaderEndItem",{"aIds":i,"bCurrentState":true,"aStates":""});};this.hideHeaderItem=function(i){A.sendMessageToOuterShell("sap.ushell.services.Renderer.hideHeaderItem",{"aIds":i,"bCurrentState":true,"aStates":""});};this.hideHeaderEndItem=function(i){A.sendMessageToOuterShell("sap.ushell.services.Renderer.hideHeaderEndItem",{"aIds":i,"bCurrentState":true,"aStates":""});};this._addHeaderItem=function(a,c,i){if(c.click!==undefined){this._addButtonHandler(c.id,c.click);}else if(c.press!==undefined){this._addButtonHandler(c.id,c.press);}A.sendMessageToOuterShell(a,{sId:c.id,sTooltip:c.tooltip,sIcon:c.icon,bVisible:i,bCurrentState:true});};this.setHeaderTitle=function(T){A.sendMessageToOuterShell("sap.ushell.services.Renderer.setHeaderTitle",{"sTitle":T});};this.setHeaderVisibility=function(v,c,s){A.sendMessageToOuterShell("sap.ushell.services.Renderer.setHeaderVisibility",{"bVisible":v,"bCurrentState":c,"aStates":s});};this.createShellHeadItem=function(p){if(p.press!==undefined){this._addButtonHandler(p.id,p.press);delete p.press;}A.sendMessageToOuterShell("sap.ushell.services.Renderer.createShellHeadItem",{params:p});};this.showActionButton=function(i,c,s){A.sendMessageToOuterShell("sap.ushell.services.Renderer.showActionButton",{"aIds":i,"bCurrentState":c,"aStates":s});};this.hideActionButton=function(i,c,s){A.sendMessageToOuterShell("sap.ushell.services.Renderer.hideActionButton",{"aIds":i,"bCurrentState":c,"aStates":s});};this.addUserAction=function(p){if(p.oControlProperties.press!==undefined){this._addButtonHandler(p.oControlProperties.id,p.oControlProperties.press);delete p.oControlProperties["press"];}A.sendMessageToOuterShell("sap.ushell.services.Renderer.addUserAction",{"oParameters":p});};}return new R();});
sap.ui.predefine('sap/ushell/appRuntime/ui5/renderers/fiori2/RendererExtensions',["sap/base/util/ObjectPath","sap/base/util/uid","sap/ushell/EventHub","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(O,g,E,A){"use strict";function _(C){setTimeout(function(){sap.ui.getCore().getEventBus().publish("sap.ushell","rendererLoaded",{rendererName:"fiori2"});},0);E.emit("RendererLoaded",{rendererName:"fiori2"});}function a(y,D){setTimeout(function(){sap.ui.getCore().getEventBus().publish("sap.ushell.renderers.fiori2.Renderer",y,D);},0);}function b(I,L,y){}function c(I,L,y){}function d(I,L,y){}function e(I,L,y){}function f(B,L,y){var z=g()+"-apprt",S=[L];B.idAppRuntime=z;sap.ushell.renderers.fiori2.Renderer._addButtonHandler(z,function(){B.firePress();});if(y!==undefined){S.push(y);}return A.sendMessageToOuterShell("sap.ushell.services.Renderer.addOptionsActionSheetButton",{id:z,text:B.getText(),icon:B.getIcon(),tooltip:B.getTooltip(),aStates:S});}function h(B,L,y){var S=[L];if(y!==undefined){S.push(y);}return A.sendMessageToOuterShell("sap.ushell.services.Renderer.removeOptionsActionSheetButton",{id:B.idAppRuntime,aStates:S});}function i(C,L,y){}function j(L,y){}function k(I,L,y){}function l(I,L,y){}function m(I,L,y){}function n(I,L,y){}function o(){return{};}function p(I,L,T,y){}function q(C,S){}function r(y){}function s(T){}function t(L,V){}function u(H){}function v(F){}function w(){}function R(){this.addHeaderItem=d;this.setHeaderItemVisibility=p;this.addSubHeader=b;this.removeSubHeader=c;this.addHeaderEndItem=m;this.removeHeaderItem=e;this.removeHeaderEndItem=n;this.addEndUserFeedbackCustomUI=q;this.addOptionsActionSheetButton=f;this.removeOptionsActionSheetButton=h;this.setFooter=v;this.removeFooter=w;this.addUserPreferencesEntry=r;this.setHeaderTitle=s;this.setHeaderHiding=u;this.LaunchpadState={App:"app",Home:"home"};this.addFloatingActionButton=k;this.removeFloatingActionButton=l;this.setLeftPaneContent=i;this.removeLeftPaneContent=j;this.setLeftPaneVisibility=t;this.getConfiguration=o;}var x=new R();var U={publishExternalEvent:a,init:_};O.set("sap.ushell.renderers.fiori2.utils",U);O.set("sap.ushell.renderers.fiori2.RendererExtensions",x);return x;},false);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/AppConfiguration',["sap/ushell/services/AppConfiguration","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(A,a){"use strict";function b(){sap.ushell.services.AppConfiguration=this;A.constructor.call(this);this.setApplicationFullWidth=function(v){a.sendMessageToOuterShell("sap.ushell.services.AppConfiguration.setApplicationFullWidth",{"bValue":v});};}return new b();},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/AppDelegationBootstrap',["sap/ushell/appRuntime/ui5/services/TunnelsAgent"],function(t){"use strict";function A(){this.init=function(){};this.bootstrap=function(){t.reflectEvents({"addlistener":{iInterface:document,sFuncName:"addEventListener",fnProxy:function(e,c,u){var C={};if(c.getPairedInterface){C={pairedInterface:c.getPairedInterface()};}else{C=c;}return[e,C,u];},fnSpy:function(e){return e==="click"||e==="keypress";}},"removelistener":{iInterface:document,sFuncName:"removeEventListener",fnProxy:function(e,c,u){var C={};if(c.getPairedInterface){C={pairedInterface:c.getPairedInterface()};}else{C=c;}return[e,C,u];},fnSpy:function(e){return e==="click"||e==="keypress";}},"appOpening":{iInterface:sap.ui.getCore().getEventBus(),sFuncName:"subscribe",fnSpy:function(p,e){return p==="launchpad"&&e==="appOpening";}}});};}return new A();},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/AppLifeCycleAgent',["sap/ushell/appRuntime/ui5/AppRuntimePostMessageAPI","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/base/util/UriParameters","sap/ui/thirdparty/URI","sap/ui/thirdparty/jquery","sap/ushell/appRuntime/ui5/services/TunnelsAgent","sap/ushell/appRuntime/ui5/services/AppDelegationBootstrap","sap/ui/Device","sap/ui/core/BusyIndicator"],function(A,a,U,b,q,t,d,D,B){"use strict";function c(C){var e=this,s,o,f={},g,h={},r,R,i={};this.init=function(m,j,k,l,n){s=m;g=j;R=k;if(l&&n){f[l]=n;}A.registerCommHandlers({"sap.ushell.services.appLifeCycle":{"oServiceCalls":{"create":{executeServiceCallFn:function(M){var p=JSON.parse(M.oMessage.data),l=new U(p.body.sUrl).get("sap-ui-app-id"),H;if(p.body.sUrl.indexOf("#")>0){H=p.body.sUrl.split("#")[1];window.hasher.replaceHash(decodeURIComponent(H));}e.create(l,p.body.sUrl);return new q.Deferred().resolve().promise();}},"destroy":{executeServiceCallFn:function(M){var p=JSON.parse(M.oMessage.data);e.destroy(p.body.sCacheId);return new q.Deferred().resolve().promise();}},"store":{executeServiceCallFn:function(M){var p=JSON.parse(M.oMessage.data);e.store(p.body.sCacheId);return new q.Deferred().resolve().promise();}},"restore":{executeServiceCallFn:function(M){var p=JSON.parse(M.oMessage.data),H;if(p.body.sUrl.indexOf("#")>0){H=p.body.sUrl.split("#")[1];window.hasher.replaceHash(decodeURIComponent(H));}e.restore(p.body.sCacheId);return new q.Deferred().resolve().promise();}}}},"sap.ushell.eventDelegation":{"oServiceCalls":{"registerEventHandler":{executeServiceCallFn:function(S){var E=JSON.parse(S.oMessageData.body.sEventObject),p=E.eventKey,u=E.eventData;if(i.hasOwnProperty(p)){var v=i[p];for(var w=0;w<v.length;w++){v[w](u);}}return new q.Deferred().resolve().promise();}}}}});this.initialSetup();};this.initialSetup=function(){d.bootstrap();a.sendMessageToOuterShell("sap.ushell.services.appLifeCycle.setup",{isStateful:true,isKeepAlive:true,lifecycle:{bActive:true,bSwitch:true,bStorageIdentifier:true},settings:{bTheme:true,bLocal:true},session:{bSignOffSupport:true,bExtendSessionSupport:true}});};this.restore=function(S){var j=h[S],k=j.getComponentInstance();j.setVisible(true);if(k){if(k.restore){k.restore();}if(k.getRouter&&k.getRouter()&&k.getRouter().initialize){k.getRouter().initialize();}r=j;}};this.store=function(S){var j=r,k;h[S]=j;k=j.getComponentInstance();j.setVisible(false);if(k){if(k.suspend){k.suspend();}if(k.getRouter&&k.getRouter()){k.getRouter().stop();}}};this.getURLParameters=function(u){return new Promise(function(j,k){if(u.hasOwnProperty("sap-intent-param")){var l=u["sap-intent-param"];a.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getAppStateData",{"sAppStateKey":l}).then(function(p){delete u["sap-intent-param"];var m=q.extend({},u,(new b("?"+p)).query(true),true);j(m);},function(E){j(u);});}else{j(u);}});};this.getAppInfo=function(j,u){return new Promise(function(k){function G(){o.getAppInfo(j,u).then(function(l){f[j]=JSON.parse(JSON.stringify(l));k(l);});}if(f[j]){k(JSON.parse(JSON.stringify(f[j])));}else if(o){G();}else{sap.ui.require([s.replace(/\./g,"/")],function(O){o=O;G();});}});};this.create=function(j,u){if(D.browser.chrome){B.show(0);}var k=new Promise(function(l){e.getAppInfo(j,u).then(function(m){l(m);});}).then(function(l){e.getURLParameters(new b(u).query(true)).then(function(m){g(j,m,l).then(function(n){R(n);});});});return k;};this.setComponent=function(j){r=j;};this.destroy=function(S){if(S){if(h[S]===r){r=undefined;}h[S].destroy();delete h[S];}else if(r){r.destroy();r=undefined;}};this.jsonStringifyFn=function(j){var k=JSON.stringify(j,function(l,v){return(typeof v==="function")?v.toString():v;});return k;};}return new c();},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/AppState',["sap/ushell/services/AppState","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/services/_AppState/AppState","sap/ushell/utils","sap/ui/thirdparty/jquery"],function(A,a,b,u,q){"use strict";function c(o,C,p,d){A.call(this,o,C,p,d);this.getAppState=function(k){var D=new q.Deferred();a.sendMessageToOuterShell("sap.ushell.services.AppState.getAppState",{"sKey":k}).done(function(s){var e=new b(sap.ushell.Container.getService("AppState"),s._sKey,s._bModifiable,s._sData,s._sAppName,s._sACHComponent,s._bTransient,s._iPersistencyMethod,s._oPersistencySettings);D.resolve(e);});return D.promise();};this._saveAppState=function(k,D,s,e,t,P,f){return a.sendMessageToOuterShell("sap.ushell.services.AppState._saveAppState",{"sKey":k,"sData":D,"sAppName":s,"sComponent":e,"bTransient":t,"iPersistencyMethod":P,"oPersistencySettings":f});};this._loadAppState=function(k){return a.sendMessageToOuterShell("sap.ushell.services.AppState._loadAppState",{"sKey":k});};A.prototype.deleteAppState=function(k){return a.sendMessageToOuterShell("sap.ushell.services.AppState.deleteAppState",{"sKey":k});};this.getAppStateData=function(k){return a.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getAppStateData",{"sAppStateKey":k});};this.createNewInAppState=function(D){return a.sendMessageToOuterShell("sap.ushell.services.AppState.createNewInAppState",{"sData":D});};this.updateInAppStateData=function(D){return a.sendMessageToOuterShell("sap.ushell.services.AppState.updateInAppState",{"sData":D});};this.getInAppStateData=function(){return a.sendMessageToOuterShell("sap.ushell.services.AppState.getInAppStateData");};this.makeStatePersistent=function(k,P,e){return a.sendMessageToOuterShell("sap.ushell.services.AppState.makeStatePersistent",{"sKey":k,"iPersistencyMethod":P,"oPersistencySettings":e});};}c.prototype=A.prototype;c.hasNoAdapter=A.hasNoAdapter;c.WindowAdapter=A.WindowAdapter;return c;},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/Bookmark',["sap/ushell/services/Bookmark","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(B,A){"use strict";function a(c,p,s){B.call(this,c,p,s);this.addBookmark=function(P,C){return A.sendMessageToOuterShell("sap.ushell.services.Bookmark.addBookmarkUI5",{oParameters:P,vContainer:C});};this.getShellGroupIDs=function(){return A.sendMessageToOuterShell("sap.ushell.services.Bookmark.getShellGroupIDs");};this.addBookmarkByGroupId=function(P,g){return A.sendMessageToOuterShell("sap.ushell.services.Bookmark.addBookmark",{oParameters:P,groupId:g});};this.addCatalogTileToGroup=function(C,g,o){return A.sendMessageToOuterShell("sap.ushell.services.Bookmark.addCatalogTileToGroup",{sCatalogTileId:C,sGroupId:g,oCatalogData:o});};this.countBookmarks=function(u){return A.sendMessageToOuterShell("sap.ushell.services.Bookmark.countBookmarks",{sUrl:u});};this.deleteBookmarks=function(u){return A.sendMessageToOuterShell("sap.ushell.services.Bookmark.deleteBookmarks",{sUrl:u});};this.updateBookmarks=function(u,P){return A.sendMessageToOuterShell("sap.ushell.services.Bookmark.updateBookmarks",{sUrl:u,oParameters:P});};this.getContentNodes=function(){var d=A.sendMessageToOuterShell("sap.ushell.services.Bookmark.getContentNodes");return new Promise(function(r,R){d.done(function(v){r(v);}).fail(function(e){R(e);});});};this.addCustomBookmark=function(v,C,b){var d=A.sendMessageToOuterShell("sap.ushell.services.Bookmark.addCustomBookmark",{sVizType:v,oConfig:C,vContentNodes:b});return new Promise(function(r,R){d.done(function(e){r(e);}).fail(function(e){R(e);});});};this.countCustomBookmarks=function(i){var d=A.sendMessageToOuterShell("sap.ushell.services.Bookmark.countCustomBookmarks",{oIdentifier:i});return new Promise(function(r,R){d.done(function(v){r(v);}).fail(function(e){R(e);});});};this.updateCustomBookmarks=function(i,C){var d=A.sendMessageToOuterShell("sap.ushell.services.Bookmark.updateCustomBookmarks",{oIdentifier:i,oConfig:C});return new Promise(function(r,R){d.done(function(v){r(v);}).fail(function(e){R(e);});});};this.deleteCustomBookmarks=function(i){var d=A.sendMessageToOuterShell("sap.ushell.services.Bookmark.deleteCustomBookmarks",{oIdentifier:i});return new Promise(function(r,R){d.done(function(v){r(v);}).fail(function(e){R(e);});});};}a.prototype=B.prototype;a.hasNoAdapter=B.hasNoAdapter;return a;},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/Container',["sap/ushell/services/Container","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer","sap/ushell/appRuntime/ui5/ui/UIProxy"],function(c,A,R,U){"use strict";function C(){var a,o;this.bootstrap=function(p,m){return sap.ushell.bootstrap(p,m).then(function(b){o=sap.ushell.Container.setDirtyFlag;a=sap.ushell.Container._getAdapter();sap.ushell.Container.inAppRuntime=function(){return true;};sap.ushell.Container.runningInIframe=sap.ushell.Container.inAppRuntime;sap.ushell.Container.setDirtyFlag=function(i){o(i);A.sendMessageToOuterShell("sap.ushell.services.ShellUIService.setDirtyFlag",{"bIsDirty":i});};sap.ushell.Container.getFLPUrl=function(i){return A.sendMessageToOuterShell("sap.ushell.services.Container.getFLPUrl",{"bIncludeHash":i});};sap.ushell.Container.getRenderer=function(){return R;};sap.ushell.Container.logout=function(){return a.logout();};});};}return new C();},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/CrossApplicationNavigation',["sap/ushell/services/CrossApplicationNavigation","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/services/_AppState/AppState","sap/ui/thirdparty/jquery"],function(C,A,a,q){"use strict";function b(c,p,s){C.call(this,c,p,s);this.backToPreviousApp=function(){return A.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.backToPreviousApp");};this.expandCompactHash=function(h){return A.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.expandCompactHash",{"sHashFragment":h});};this.getDistinctSemanticObjects=function(){return A.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getDistinctSemanticObjects");};this.getLinks=function(v){if(Array.isArray(v)){v.forEach(function(e){if(e[0]){delete e[0].ui5Component;}});}else{delete v.ui5Component;}return A.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getLinks",v);};this.getPrimaryIntent=function(S,P){return A.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getPrimaryIntent",{"sSemanticObject":S,"mParameters":P});};this.getSemanticObjectLinks=function(S,P,i,o,d,e){return A.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getSemanticObjectLinks",{"sSemanticObject":S,"mParameters":P,"bIgnoreFormFactor":i,"sAppStateKey":d,"bCompactIntents":e});};this.historyBack=function(S){return A.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.historyBack",{"iSteps":S});};this.isIntentSupported=function(i,o){return A.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.isIntentSupported",{"aIntents":i});};this.isNavigationSupported=function(i,o){return A.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.isNavigationSupported",{"aIntents":i});};this.toExternal=function(o,d){return A.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{"oArgs":o});};this.getAppState=function(o,d){var D=new q.Deferred();A.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getAppState",{"sAppStateKey":d}).done(function(S){var e=new a(sap.ushell.Container.getService("AppState"),S._sKey,S._bModifiable,S._sData,S._sAppName,S._sACHComponent,S._bTransient);D.resolve(e);});return D.promise();};}this.resolveIntent=function(h){return A.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.resolveIntent",{"sHashFragment":h});};b.prototype=C.prototype;b.hasNoAdapter=C.hasNoAdapter;return b;},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/LaunchPage',["sap/ushell/services/LaunchPage","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(L,A){"use strict";function a(c,p,s){L.call(this,c,p,s);this.getGroupsForBookmarks=function(){return A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.getGroupsForBookmarks");};}a.prototype=L.prototype;a.hasNoAdapter=L.hasNoAdapter;return a;},false);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/NavTargetResolution',["sap/ushell/services/NavTargetResolution","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(N,A){"use strict";function a(o,c,p,s){N.call(this,o,c,p,s);this.getDistinctSemanticObjects=function(){return A.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.getDistinctSemanticObjects");};this.expandCompactHash=function(h){return A.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.expandCompactHash",{"sHashFragment":h});};this.resolveHashFragment=function(h){return A.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.resolveHashFragment",{"sHashFragment":h});};this.isNavigationSupported=function(i){return A.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.isNavigationSupported",{"aIntents":i});};}a.prototype=N.prototype;a.hasNoAdapter=N.hasNoAdapter;return a;},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/PluginManager',["sap/ushell/services/PluginManager","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/AppRuntime"],function(P,A,a){"use strict";function b(c,p,s){P.call(this,c,p,s);var o=this.registerPlugins,d=this._handlePluginCreation;this.isPluginAgentSupported=function(S){var e=a.getStartupPlugins();return!!e[S];};this._handlePluginCreation=function(e,f,g,h){var i=this._oPluginCollection[e][f],j=i.config&&i.config["sap-plugin-agent-id"];d.call(this,e,f,g,h);if(j===undefined){return;}A.sendMessageToOuterShell("sap.ushell.services.pluginManager.status",{name:j,status:"loading"});g.then(function(l){var I=l.componentHandle.getInstance(),k=I.exit;A.sendMessageToOuterShell("sap.ushell.services.pluginManager.status",{name:j,status:"started"});I.exit=function(){k(arguments);A.sendMessageToOuterShell("sap.ushell.services.pluginManager.status",{name:j,status:"exit"});};}).fail(function(E){A.sendMessageToOuterShell("sap.ushell.services.pluginManager.status",{name:j,status:"failed"});});};this.registerPlugins=function(e){o.call(this,e);};}b.prototype=P.prototype;b.hasNoAdapter=P.hasNoAdapter;return b;},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/ShellNavigation',["sap/ushell/services/ShellNavigation","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(S,A){"use strict";function a(c,p,s){S.call(this,c,p,s);this.toExternal=function(o,C,w){A.sendMessageToOuterShell("sap.ushell.services.ShellNavigation.toExternal",{"oArgs":o,"bWriteHistory":w});};this.toAppHash=function(b,w){A.sendMessageToOuterShell("sap.ushell.services.ShellNavigation.toExternal",{"sAppHash":b,"bWriteHistory":w});};}a.prototype=S.prototype;a.hasNoAdapter=S.hasNoAdapter;return a;},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/ShellUIService',["sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","../../../ui5service/_ShellUIService/shelluiservice.class.factory","sap/ushell/appRuntime/ui5/AppRuntimePostMessageAPI","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(S,a,b,d,A,c){"use strict";var s=d({serviceRegistry:S,serviceFactory:a,service:b});var l,r=false,B;var e=s.extend("sap.ushell.appRuntime.services.ShellUIService",{setTitle:function(t){l=t;return c.sendMessageToOuterShell("sap.ushell.services.ShellUIService.setTitle",{sTitle:t});},getTitle:function(){return l;},setHierarchy:function(h){return c.sendMessageToOuterShell("sap.ushell.services.ShellUIService.setHierarchy",{aHierarchyLevels:h});},setRelatedApps:function(R){return c.sendMessageToOuterShell("sap.ushell.services.ShellUIService.setRelatedApps",{aRelatedApps:R});},setBackNavigation:function(C){r=true;if(r===true){return;}if(!r){r=true;A.registerCommHandlers({"sap.ushell.appRuntime":{oServiceCalls:{handleBackNavigation:{executeServiceCallFn:function(o){if(B){B();}}}}}});}B=C;c.sendMessageToOuterShell("sap.ushell.ui5service.ShellUIService.setBackNavigation",{callbackMessage:{service:"sap.ushell.appRuntime.handleBackNavigation"}});}});return e;},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/TunnelsAgent',["sap/ushell/appRuntime/ui5/AppRuntimeService"],function(A){"use strict";function T(){var t={},a=this;this.reflectEvents=function(s){for(var S in s){if(s.hasOwnProperty(S)){this.reflectEventEntry(S,s[S]);}}};this.reflectEventEntry=function(s,S){var i=S.iInterface,f=S.sFuncName,b=s,c=S.fnSpy,p=S.fnProxy,e="",C=function(){var o=arguments,d=c.apply(undefined,arguments);if(p){o=p.apply(undefined,arguments);}if(d){a.callTunnel({tunnelName:b,oData:o});}};if(!S.iInterface){e+="strategy "+s+" is missing mandatory property 'iInterface'.\n";}if(!S.sFuncName){e+="strategy "+s+" is missing mandatory property 'sFuncName'.\n";}if(e){throw e;}this.replace({iInterface:i,sFuncName:f,fnCallback:C,sWrap:"after"});};this.getCallTunnelFunction=function(){var t={},a=this;return function(p){var f=p.tunnelName,o=p.oData;if(!t[f]){a.getTunnel(f).done(function(r){t[f]=r.endPoint;t[f].apply(undefined,o);});}else{t[f].apply(undefined,o);}};};this.callTunnel=function(p){var f=p.tunnelName,o=p.oData;return new Promise(function(r){if(!t[f]){a.getTunnel(f).done(function(R){t[f]=R.endPoint;t[f].apply(undefined,o).done(function(d){r(d);});});}else{t[f].apply(undefined,o).done(function(d){r(d);});}});};this.replace=function(p){var o=p.iInterface[p.sFuncName],w=p.sWrap;p.iInterface[p.sFuncName]=function(){if(w==="before"){o.apply(this,arguments);}p.fnCallback.apply(undefined,arguments);if(w==="after"){o.apply(this,arguments);}};return{getOriginal:function(){return o;}};};this.useInterface=function(d){var i=d.name,c=d.callback,p=d.params;var C="sap.ushell.tunnelRegistry."+i;A.sendMessageToOuterShell(C,p).done(c);};this.getTunnel=function(s){var c="sap.ushell.tunnelRegistry."+s;return A.sendMessageToOuterShell(c,{});};this.usePairedInterface=function(c){var s=c.sService,m=c.sMethodName,p=c.fnPackArgs,C=s+"."+m;var b=function(){var P=p.apply(undefined,arguments);return A.sendMessageToOuterShell(C,P);};b.getPairedInterface=function(){return[s,m].join('.');};return b;};}return new T();},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/UserInfo',["sap/ushell/services/UserInfo","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ui/thirdparty/jquery","sap/base/Log","sap/base/util/ObjectPath"],function(U,A,q,L,O){"use strict";function a(o,c){U.call(this,o,c);this.getThemeList=function(){L.warning("'UserInfo.getThemeList' is private API and should not be called");return q.Deferred().resolve().promise();};this.updateUserPreferences=function(){L.warning("'UserInfo.updateUserPreferences' is private API and should not be called");return q.Deferred().resolve().promise();};this.getLanguageList=function(){L.warning("'UserInfo.getLanguageList' is private API and should not be called");return q.Deferred().resolve().promise();};}O.set("sap.ushell.services.UserInfo",a);a.prototype=U.prototype;a.hasNoAdapter=U.hasNoAdapter;return a;},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/adapters/ContainerAdapter',["sap/base/Log","sap/ushell/User","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath"],function(L,U,q,O){"use strict";var C=function(s,p,c){var u,l,k,K;this.load=function(){var b;l=O.get("config.systemProperties.logoutUrl",c);k=O.get("config.systemProperties.sessionKeepAlive.url",c);K=O.get("config.systemProperties.sessionKeepAlive.method",c);b=q.extend(true,{id:""},O.get("config.userProfile.defaults",c));u=new U(b);a(b);return new q.Deferred().resolve().promise();};this.getSystem=function(){return s;};this.getUser=function(){return u;};this.logout=function(){var d=new q.Deferred();try{if(typeof l==="string"&&l.length>0){this._logoutViaHiddenIFrame(d,l);setTimeout(d.resolve,4000);}else{d.resolve();}}catch(e){L.error("logout from iframe "+document.URL+" failed",e,"sap.ushell.appRuntime.ui5.SessionHandlerAgent");d.resolve();}return d.promise();};this._logoutViaHiddenIFrame=function(d,b){var f=document.createElement("iframe"),S=b.replace(/"/g,"\\\"");window.addEventListener("message",function(e){if((e.data&&e.data.url)===b){d.resolve();}});f.style.visibility="hidden";f.setAttribute("src",b);function o(){this.contentWindow.parent.postMessage({url:S,request_id:"dummy-logout-id"},"*");}f.addEventListener("load",o);f.addEventListener("error",o);document.body.appendChild(f);};this.sessionKeepAlive=function(){if(typeof k==="string"&&k.length>0&&typeof K==="string"&&K.length>0){var x=new XMLHttpRequest();x.open(K,k,true);x.onreadystatechange=function(){if(this.readyState===4){L.debug("Server session was extended");}};x.send();}};function a(S){var o=sap.ui.getCore(),b=o.getConfiguration(),f=b.getFormatSettings();if(S.sapDateFormat){f.setLegacyDateFormat(S.sapDateFormat);}if(S.sapDateCalendarCustomizing){f.setLegacyDateCalendarCustomizing(S.sapDateCalendarCustomizing);}if(S.sapNumberFormat){f.setLegacyNumberFormat(S.sapNumberFormat);}if(S.sapTimeFormat){f.setLegacyTimeFormat(S.sapTimeFormat);}if(typeof S.currencyFormats==="object"){f.addCustomCurrencies(S.currencyFormats);}}};return C;},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/adapters/EmptyAdapter',[],function(){"use strict";var E=function(){};return E;},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/ui/UIProxy',["sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer","sap/m/Button","sap/base/util/ObjectPath"],function(R,B,O){"use strict";function U(){O.set("sap.ushell.ui.shell.ShellHeadItem",function(p){var t=this;Object.keys(p).forEach(function(P){t[P]=p[P];t["get"+P[0].toUpperCase()+P.slice(1)]=function(){return p[P];};});R.createShellHeadItem(p);});}return new U();});
sap.ui.predefine('sap/ushell/bootstrap/common/common.create.configcontract.core',["sap/ui/thirdparty/URI"],function(U){"use strict";var d={};function c(m){var G={};function a(M,p){var P=p.split("/");var s=P.slice(0,P.length-1).join("/");var l=P.pop();if(M.hasOwnProperty(s)){return M[s][l];}var D=P.reduce(function(o,h){if(!o||!o.hasOwnProperty(h)){return{};}return o[h];},m);M[s]=D;return D[l];}function b(p,D){var s=a(G,p);d[p]=D;return s!==undefined?s:D;}function e(p,o){var E=b("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",undefined);var P=b("renderers/fiori2/componentData/config/applications/Shell-home/"+p,undefined);var O=b("renderers/fiori2/componentData/config/applications/Shell-home/"+o,undefined);P=(E===false)?false:P;P=(P!==undefined)?P:E;if(E===undefined||E){if(P===false){return false;}return(O!==undefined)?O:P;}return false;}function f(){var p="renderers/fiori2/componentData/config/enableBackGroundShapes";var E=!!a(G,p);if(E){E=!b("ushell/spaces/enabled",false);}d[p]=E;return E;}var C={core:{extension:{enableHelp:b("renderers/fiori2/componentData/config/enableHelp",false),EndUserFeedback:b("services/EndUserFeedback/config/enabled",true),SupportTicket:b("services/SupportTicket/config/enabled",false)},navigation:{enableInPlaceForClassicUIs:{GUI:b("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/GUI",false),WDA:b("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/WDA",false),WCF:b("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/WCF",true)},enableWebguiLocalResolution:true,enableWdaLocalResolution:true,flpURLDetectionPattern:b("services/ClientSideTargetResolution/config/flpURLDetectionPattern","[/]FioriLaunchpad.html[^#]+#[^-]+?-[^-]+")},spaces:{enabled:b("ushell/spaces/enabled",false),configurable:b("ushell/spaces/configurable",false),extendedChangeDetection:{enabled:b("ushell/spaces/extendedChangeDetection/enabled",true)}},menu:{enabled:b("ushell/menu/enabled",false)||b("ushell/spaces/enabled",false),visibleInAllStates:b("ushell/menu/visibleInAllStates",false)},darkMode:{enabled:b("ushell/darkMode/enabled",false),supportedThemes:b("ushell/darkMode/supportedThemes",[{dark:"sap_fiori_3_dark",light:"sap_fiori_3"}])},contentProviders:{providerInfo:{show:b("ushell/contentProviders/providerInfo/show",false)}},productSwitch:{enabled:!!b("ushell/productSwitch/url",""),url:b("ushell/productSwitch/url","")},shellHeader:{application:{},centralAreaElement:null,headEndItems:[],headItems:[],headerVisible:true,showLogo:false,ShellAppTitleState:undefined,rootIntent:b("renderers/fiori2/componentData/config/rootIntent",""),title:""},userPreferences:{dialogTitle:"Settings",isDetailedEntryMode:false,activeEntryPath:null,entries:[],profiling:[]},shell:{cacheConfiguration:b("renderers/fiori2/componentData/config/cacheConfiguration",{}),enableAbout:b("renderers/fiori2/componentData/config/enableAbout",true),enablePersonalization:b("renderers/fiori2/componentData/config/enablePersonalization",b("renderers/fiori2/componentData/config/applications/Shell-home/enablePersonalization",true)),enableRecentActivity:b("renderers/fiori2/componentData/config/enableRecentActivity",true),enableRecentActivityLogging:b("renderers/fiori2/componentData/config/enableRecentActivityLogging",true),enableFiori3:true,sessionTimeoutIntervalInMinutes:b("renderers/fiori2/componentData/config/sessionTimeoutIntervalInMinutes",-1),enableFeaturePolicyInIframes:b("renderers/fiori2/componentData/config/enableFeaturePolicyInIframes",false),model:{enableSAPCopilotWindowDocking:undefined,enableBackGroundShapes:f(),personalization:undefined,contentDensity:undefined,setTheme:undefined,userDefaultParameters:undefined,disableHomeAppCache:undefined,enableHelp:undefined,enableTrackingActivity:undefined,searchAvailable:false,searchFiltering:true,showEndUserFeedback:false,searchTerm:"",isPhoneWidth:false,enableNotifications:b("services/Notifications/config/enabled",false),enableNotificationsUI:false,notificationsCount:0,currentViewPortState:"Center",migrationConfig:undefined,allMyAppsMasterLevel:undefined,userStatus:undefined,userStatusUserEnabled:true,shellAppTitleData:{currentViewInPopover:"navigationMenu",enabled:false,showGroupsApps:false,showCatalogsApps:false,showExternalProvidersApps:false},userImage:{personPlaceHolder:null,account:"sap-icon://account"},currentState:{stateName:"blank",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:false,showRecentActivity:true,search:"",paneContent:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[]}}},home:{disableSortedLockedGroups:b("renderers/fiori2/componentData/config/applications/Shell-home/disableSortedLockedGroups",false),draggedTileLinkPersonalizationSupported:true,editTitle:false,enableHomePageSettings:b("renderers/fiori2/componentData/config/applications/Shell-home/enableHomePageSettings",true),enableRenameLockedGroup:b("renderers/fiori2/componentData/config/applications/Shell-home/enableRenameLockedGroup",false),enableTileActionsIcon:b("renderers/fiori2/componentData/config/enableTileActionsIcon",b("renderers/fiori2/componentData/config/applications/Shell-home/enableTileActionsIcon",false)),enableTransientMode:b("ushell/home/enableTransientMode",false),featuredGroup:{enable:b("ushell/home/featuredGroup/enable",false),frequentCard:b("ushell/home/featuredGroup/frequentCard",true)&&b("ushell/home/featuredGroup/enable",false),recentCard:b("ushell/home/featuredGroup/recentCard",true)&&b("ushell/home/featuredGroup/enable",false)},gridContainer:b("ushell/home/gridContainer",false),homePageGroupDisplay:b("renderers/fiori2/componentData/config/applications/Shell-home/homePageGroupDisplay","scroll"),isInDrag:false,optimizeTileLoadingThreshold:b("renderers/fiori2/componentData/config/applications/Shell-home/optimizeTileLoadingThreshold",100),sizeBehavior:b("renderers/fiori2/componentData/config/sizeBehavior","Responsive"),sizeBehaviorConfigurable:b("renderers/fiori2/componentData/config/sizeBehaviorConfigurable",false),wrappingType:b("ushell/home/tilesWrappingType","Normal"),segments:b("renderers/fiori2/componentData/config/applications/Shell-home/segments",undefined),tileActionModeActive:false},catalog:{enabled:b("renderers/fiori2/componentData/config/enablePersonalization",b("renderers/fiori2/componentData/config/applications/Shell-home/enablePersonalization",true))||b("renderers/fiori2/componentData/config/enableAppFinder",false),appFinderDisplayMode:b("renderers/fiori2/componentData/config/applications/Shell-home/appFinderDisplayMode",undefined),easyAccessNumbersOfLevels:b("renderers/fiori2/componentData/config/applications/Shell-home/easyAccessNumbersOfLevels",undefined),enableCatalogSearch:b("renderers/fiori2/componentData/config/enableSearchFiltering",b("renderers/fiori2/componentData/config/applications/Shell-home/enableSearchFiltering",b("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogSearch",true))),enableCatalogSelection:b("renderers/fiori2/componentData/config/enableCatalogSelection",b("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogSelection",true)),enableCatalogTagFilter:b("renderers/fiori2/componentData/config/applications/Shell-home/enableTagFiltering",b("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogTagFilter",true)),enableEasyAccess:b("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",undefined),enableEasyAccessSAPMenu:(b("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",undefined)===false)?false:b("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessSAPMenu",b("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",undefined)),enableEasyAccessSAPMenuSearch:e("enableEasyAccessSAPMenu","enableEasyAccessSAPMenuSearch"),enableEasyAccessUserMenu:(b("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",undefined)===false)?false:b("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessUserMenu",b("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",undefined)),enableEasyAccessUserMenuSearch:e("enableEasyAccessUserMenu","enableEasyAccessUserMenuSearch"),enableHideGroups:b("renderers/fiori2/componentData/config/enableHideGroups",b("renderers/fiori2/componentData/config/applications/Shell-home/enableHideGroups",true)),sapMenuServiceUrl:undefined,userMenuServiceUrl:b("renderers/fiori2/componentData/config/applications/Shell-home/userMenuServiceUrl",undefined)},esearch:{defaultSearchScopeApps:b("renderers/fiori2/componentData/config/esearch/defaultSearchScopeApps",false),searchBusinessObjects:b("renderers/fiori2/componentData/config/esearch/searchBusinessObjects",true),searchScopeWithoutAll:b("renderers/fiori2/componentData/config/esearch/searchScopeWithoutAll",false)}}};return C;}function g(){return d;}return{createConfigContract:c,getDefaultConfiguration:g};},false);
sap.ui.predefine('sap/ushell/components/applicationIntegration/application/PostMessageAPIInterface',[],function(){"use strict";var U="user.postapi.";function P(){var _,a;this.init=function(i,D){_=i;a=D;};this.getInterface=function(){var i={};i["registerPostMessageAPIs"]=r.bind(null,a);i[(_===true?"postMessageToApp":"postMessageToFlp")]=d.bind(null,_);i["createPostMessageResult"]=c;return i;};}function r(D,p){var R={status:"success",desc:""},o={isActiveOnly:true,distributionType:["all"],fnResponseHandler:function(){}};if(p===undefined||Object.keys(p).length<=0){R.status="error";R.desc="no handler was found to register";return R;}Object.keys(p).forEach(function(s){if(typeof s!=="string"){R.status="error";R.desc="oPostMessageAPIs should contain only string keys";}else if(s.indexOf(U)!==0){R.status="error";R.desc="all user custom Message APIs must start with '"+U+"'";}else{Object.keys(p[s]).forEach(function(t){if(t=="inCalls"){p[s]["oServiceCalls"]=p[s][t];delete p[s][t];}else if(t=="outCalls"){Object.keys(p[s][t]).forEach(function(m){p[s][t][m]=jQuery.extend(true,{},o,p[s][t][m]);});p[s]["oRequestCalls"]=p[s][t];delete p[s][t];}else{R.status="error";R.desc="api should contain either 'inCalls' or 'outCalls'";}});}});if(R.status==="success"){D(p);}return R;}function d(i,s,I,p){var D=new jQuery.Deferred();if(p===undefined){p={};}if(i){sap.ui["require"](["sap/ushell/components/applicationIntegration/AppLifeCycle"],function(A){A.postMessageToIframeApp(s,I,p,true).then(function(R){D.resolve(R&&R[0]&&R[0].body.result);});});}else{sap.ui["require"](["sap/ushell/appRuntime/ui5/AppRuntimeService"],function(A){A.sendMessageToOuterShell(s+"."+I,p).done(function(R){D.resolve(R);});});}return D.promise();}function c(R){if(R===undefined){R={};}return new jQuery.Deferred().resolve(R).promise();}return new P();},false);
sap.ui.predefine('sap/ushell/library',["sap/ui/core/Core"],function(){"use strict";sap.ui.getCore().initLibrary({name:"sap.ushell",version:"1.88.1",dependencies:["sap.f","sap.m","sap.ui.core","sap.ui.layout"],types:["sap.ushell.AllMyAppsState","sap.ushell.AppTitleState","sap.ushell.ContentNodeType","sap.ushell.components.container.ApplicationType","sap.ushell.DisplayFormat","sap.ushell.NavigationState","sap.ushell.ui.launchpad.ViewPortState","sap.ushell.ui.tile.State","sap.ushell.ui.tile.StateArrow","sap.ushell.VisualizationLoadState"],interfaces:[],controls:["sap.ushell.components.container.ApplicationContainer","sap.ushell.components.factsheet.controls.PictureTile","sap.ushell.components.factsheet.controls.PictureViewer","sap.ushell.components.factsheet.controls.PictureViewerItem","sap.ushell.components.shell.Settings.userDefaults.UserDefaultsForm","sap.ushell.components.tiles.sbtilecontent","sap.ushell.renderers.fiori2.search.controls.CustomSearchResultListItem","sap.ushell.renderers.fiori2.search.controls.CustomSearchResultListItemContent","sap.ushell.renderers.fiori2.search.controls.DivContainer","sap.ushell.renderers.fiori2.search.controls.SearchAdvancedCondition","sap.ushell.renderers.fiori2.search.controls.SearchButton","sap.ushell.renderers.fiori2.search.controls.SearchFacet","sap.ushell.renderers.fiori2.search.controls.SearchFacetBarChart","sap.ushell.renderers.fiori2.search.controls.SearchFacetDialog","sap.ushell.renderers.fiori2.search.controls.SearchFacetFilter","sap.ushell.renderers.fiori2.search.controls.SearchFacetItem","sap.ushell.renderers.fiori2.search.controls.SearchFacetPieChart","sap.ushell.renderers.fiori2.search.controls.SearchFacetTabBar","sap.ushell.renderers.fiori2.search.controls.SearchFieldGroup","sap.ushell.renderers.fiori2.search.controls.SearchFilterBar","sap.ushell.renderers.fiori2.search.controls.SearchInput","sap.ushell.renderers.fiori2.search.controls.SearchLabel","sap.ushell.renderers.fiori2.search.controls.SearchLayout","sap.ushell.renderers.fiori2.search.controls.SearchLink","sap.ushell.renderers.fiori2.search.controls.SearchMultiSelectionControl","sap.ushell.renderers.fiori2.search.controls.SearchNoResultScreen","sap.ushell.renderers.fiori2.search.controls.SearchObjectSuggestionImage","sap.ushell.renderers.fiori2.search.controls.SearchRelatedObjectsToolbar","sap.ushell.renderers.fiori2.search.controls.SearchResultGrid","sap.ushell.renderers.fiori2.search.controls.SearchResultList","sap.ushell.renderers.fiori2.search.controls.SearchResultListContainer","sap.ushell.renderers.fiori2.search.controls.SearchResultListItem","sap.ushell.renderers.fiori2.search.controls.SearchResultListItemDocument","sap.ushell.renderers.fiori2.search.controls.SearchResultListItemNote","sap.ushell.renderers.fiori2.search.controls.SearchResultMap","sap.ushell.renderers.fiori2.search.controls.SearchResultTable","sap.ushell.renderers.fiori2.search.controls.SearchSelect","sap.ushell.renderers.fiori2.search.controls.SearchText","sap.ushell.renderers.fiori2.search.controls.SearchTilesContainer","sap.ushell.renderers.fiori2.search.controls.twitter.SearchTweet","sap.ushell.renderers.fiori2.search.inputhelp.SearchInputHelp","sap.ushell.renderers.fiori2.search.inputhelp.SearchInputHelpDialog","sap.ushell.renderers.fiori2.search.inputhelp.SearchInputHelpPage","sap.ushell.renderers.fiori2.search.inputhelp.SearchInputHelpWizard","sap.ushell.ui.launchpad.VizInstance","sap.ushell.ui.launchpad.VizInstanceAbap","sap.ushell.ui.launchpad.VizInstanceCdm","sap.ushell.ui.launchpad.VizInstanceLaunchPage","sap.ushell.ui.launchpad.VizInstanceLink","sap.ushell.ui.AppContainer","sap.ushell.ui.ContentNodeSelector","sap.ushell.ui.bookmark.ContentNodeTreeItem","sap.ushell.ui.CustomGroupHeaderListItem","sap.ushell.ui.ShellHeader","sap.ushell.ui.appfinder.AppBox","sap.ushell.ui.appfinder.PinButton","sap.ushell.ui.footerbar.AboutButton","sap.ushell.ui.footerbar.AddBookmarkButton","sap.ushell.ui.footerbar.ContactSupportButton","sap.ushell.ui.footerbar.EndUserFeedback","sap.ushell.ui.footerbar.JamDiscussButton","sap.ushell.ui.footerbar.JamShareButton","sap.ushell.ui.footerbar.LogoutButton","sap.ushell.ui.footerbar.SendAsEmailButton","sap.ushell.ui.footerbar.SettingsButton","sap.ushell.ui.footerbar.UserPreferencesButton","sap.ushell.ui.launchpad.ActionItem","sap.ushell.ui.launchpad.AnchorItem","sap.ushell.ui.launchpad.AnchorNavigationBar","sap.ushell.ui.launchpad.CatalogEntryContainer","sap.ushell.ui.launchpad.CatalogsContainer","sap.ushell.ui.launchpad.DashboardGroupsContainer","sap.ushell.ui.launchpad.GridContainer","sap.ushell.ui.launchpad.GroupHeaderActions","sap.ushell.ui.launchpad.GroupListItem","sap.ushell.ui.launchpad.LinkTileWrapper","sap.ushell.ui.launchpad.LoadingDialog","sap.ushell.ui.launchpad.Page","sap.ushell.ui.launchpad.Panel","sap.ushell.ui.launchpad.PlusTile","sap.ushell.ui.launchpad.Section","sap.ushell.ui.launchpad.Tile","sap.ushell.ui.launchpad.TileContainer","sap.ushell.ui.launchpad.TileState","sap.ushell.ui.launchpad.section.CompactArea","sap.ushell.ui.shell.FloatingContainer","sap.ushell.ui.shell.NavigationMiniTile","sap.ushell.ui.shell.OverflowListItem","sap.ushell.ui.shell.RightFloatingContainer","sap.ushell.ui.shell.ShellAppTitle","sap.ushell.ui.shell.ShellFloatingAction","sap.ushell.ui.shell.ShellFloatingActions","sap.ushell.ui.shell.ShellHeadItem","sap.ushell.ui.shell.ShellLayout","sap.ushell.ui.shell.ShellNavigationMenu","sap.ushell.ui.shell.ToolArea","sap.ushell.ui.shell.ToolAreaItem","sap.ushell.ui.tile.DynamicTile","sap.ushell.ui.tile.ImageTile","sap.ushell.ui.tile.StaticTile","sap.ushell.ui.tile.TileBase"],elements:["sap.ushell.ui.launchpad.AccessibilityCustomData"],extensions:{"sap.ui.support":{diagnosticPlugins:["sap/ushell/support/plugins/flpConfig/FlpConfigurationPlugin"]}}});var u=sap.ushell;u.AllMyAppsState={FirstLevel:"FirstLevel",SecondLevel:"SecondLevel",Details:"Details",FirstLevelSpread:"FirstLevelSpread"};u.AppTitleState={ShellNavMenuOnly:"ShellNavMenuOnly",AllMyAppsOnly:"AllMyAppsOnly",ShellNavMenu:"ShellNavMenu",AllMyApps:"AllMyApps"};u.ContentNodeType={HomepageGroup:"HomepageGroup",Space:"Space",Page:"Page"};u.components.container.ApplicationType={NWBC:"NWBC",SAPUI5:"SAPUI5",TR:"TR",URL:"URL",WCF:"WCF",WDA:"WDA"};u.DisplayFormat={Standard:"standard",Compact:"compact",Flat:"flat",FlatWide:"flatWide",StandardWide:"standardWide"};u.NavigationState={InProgress:"InProgress",Finished:"Finished"};u.ui.launchpad.ViewPortState={Left:"Left",Center:"Center",Right:"Right",LeftCenter:"LeftCenter",CenterLeft:"CenterLeft",RightCenter:"RightCenter",CenterRight:"CenterRight"};u.ui.tile.State={Neutral:"Neutral",None:"None",Negative:"Negative",Error:"Error",Positive:"Positive",Success:"Success",Critical:"Critical",Warning:"Warning"};u.ui.tile.StateArrow={None:"None",Up:"Up",Down:"Down"};u.VisualizationLoadState={Loading:"Loading",Loaded:"Loaded",InsufficientRoles:"InsufficientRoles",OutOfRoleContext:"OutOfRoleContext",NoNavTarget:"NoNavTarget",Failed:"Failed",Disabled:"Disabled"};return u;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/HashChangeHandler',['sap/ushell/renderers/fiori2/search/SearchModel','sap/ushell/renderers/fiori2/search/SearchHelper'],function(S,a){"use strict";var m=sap.ushell.renderers.fiori2.search.HashChangeHandler={};jQuery.extend(m,{handle:function(h){if(!a.isLoggingEnabled()){return;}var t=this;t.sourceUrlArray=[];if(h.oldShellHash!==null){t.sourceUrlArray.push(h.oldShellHash);}if(h.oldAppSpecificRoute!==null){if(h.oldAppSpecificRoute.substring(0,2)==="&/"){t.sourceUrlArray.push(h.oldAppSpecificRoute.substring(2));}else{t.sourceUrlArray.push(h.oldAppSpecificRoute);}}t._createSearchModel().then(function(){var e={type:"ITEM_NAVIGATE",sourceUrlArray:this.sourceUrlArray,targetUrl:"#"+h.newShellHash,systemAndClient:this._getSID()};if(e.targetUrl.indexOf("=")!==-1){this.searchModel.sinaNext.logUserEvent(e);}}.bind(this));},_createSearchModel:function(){var t=this;if(t.initializedDeferred){return t.initializedDeferred;}t.searchModel=sap.ushell.renderers.fiori2.search.getModelSingleton();t.initializedDeferred=t.searchModel.initBusinessObjSearch();return t.initializedDeferred;},_getSID:function(){var s={"systemId":"","client":""};var u=window.location.href;var b=u.indexOf("sap-system=sid(");if(b!==-1){var c=u.substring(b).indexOf(")");if(c!==-1){var d=u.substring(b+15,b+c);if(d.split(".").length===2){s.systemId=d.split(".")[0];s.client=d.split(".")[1];}}}return s;}});return m;});
sap.ui.predefine('sap/ushell/resources',["sap/ui/model/resource/ResourceModel"],function(R){"use strict";var r={};r.getTranslationModel=function(l){var o;if(r._oResourceModel){o=r._oResourceModel;}else{o=new R({bundleUrl:sap.ui.require.toUrl("sap/ushell/renderers/fiori2/resources/resources.properties"),bundleLocale:l});r._oResourceModel=o;}return o;};r.i18nModel=r.getTranslationModel(sap.ui.getCore().getConfiguration().getLanguage());r.i18n=r.i18nModel.getResourceBundle();return r;},true);
sap.ui.predefine('sap/ushell/services/AppConfiguration',["sap/ushell/utils","sap/ushell/EventHub","sap/base/Log","sap/ui/util/Mobile","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath","sap/base/i18n/ResourceBundle","sap/ushell/resources","sap/ui/core/IconPool","sap/m/library"],function(u,E,L,M,q,O,R,r,I,m){"use strict";var B=m.ButtonType;function A(){var o={},a=true,c=null,b=[],d=[];E.on("AppRendered").do(e.bind(this));function e(){a=false;if(d.length){for(var i=0;i<d.length;i++){d[i]();}d.length=0;}}this.addActivity=function(g){var C=sap.ushell.Container;return C&&C.getService("UserRecents").addActivity(g);};this.setApplicationInInitMode=function(){a=true;};this.getApplicationRequestQueue=function(){return d;};this.getCurrentApplication=function(){return c;};this.getCurrentAppliction=this.getCurrentApplication;this.getMetadata=function(g){if(!g){g=c;}if(g){var h=hasher&&hasher.getHash?hasher.getHash():"",k=this._processKey(h);if(!(o.hasOwnProperty(k))||!o[k].complete){this.addMetadata(g,k);}if(!o[k]){o[k]={complete:false};}if(!o[k].title){o[k].title=g.text||r.i18n.getText("default_app_title");}return o[k];}return{};};this._processKey=function(C){var i=C.split("?")[0],p=C.split("?")[1],s,P={},S,g="",h="",j;if(p){s=p.split("&");s.forEach(function(k){var l=k.split("=");P[l[0]]=l[1];});S=Object.keys(P).sort();S.forEach(function(k,l){h=l?"&":"?";g+=h+k+"="+P[k];});return i+g;}j=sap.ushell.Container.getService("URLParsing").parseShellHash(C);i=j?j.semanticObject+"-"+j.action:"";return i;};this.setCurrentApplication=function(g){c=g;if(d.length){d.length=0;}};this.setHeaderHiding=function(){L.warning("Application configuration headerHiding property is deprecated and has no effect");};this.addApplicationSettingsButtons=function(g){if(a){d.push(function(){f(g);});}else{f(g);}};function f(g){var i,h=[],j=sap.ushell.Container.getRenderer("fiori2");for(i=0;i<g.length;i++){var C=g[i];h.push(C.getId());C.setIcon(C.getIcon()||I.getIconURI("customize"));if(r.i18n.getText("userSettings")===C.getProperty("text")){C.setProperty("text",r.i18n.getText("userAppSettings"));}C.setType(B.Unstyled);}if(sap.ushell.Container&&j){if(b.length){j.hideActionButton(b,true);}b=h;j.showActionButton(h,true,undefined,true);}}this.setWindowTitle=function(t){window.document.title=t;};this.setIcons=function(i){M.setIcons(i);};this.setApplicationFullWidth=function(v){sap.ushell.components.applicationIntegration.AppLifeCycle.setApplicationFullWidth(v);};this.getSettingsControlAsync=function(){var D=new q.Deferred();sap.ui.require(["sap/ushell/ui/footerbar/SettingsButton"],function(S){D.resolve(new S());});return D.promise();};this.getSettingsControl=function(){var s="sap/ushell/ui/footerbar/SettingsButton",g="sap.ushell.ui.footerbar.SettingsButton",S=sap.ui.require(s);if(S){return new S();}q.sap.require(g);S=O.get(g||"");return new S();};this.getApplicationName=function(g){var h,s=(g&&g.additionalInformation)||null;if(s){h=/^SAPUI5\.Component=(.+)$/i.exec(s);if(h){return h[1];}}return null;};this.getApplicationUrl=function(g){var U=(g&&g.url)||null,s="P_TCODE",i;if(U){if(g.applicationType==="NWBC"&&U.indexOf(s)){return U;}i=U.indexOf("?");if(i>=0){U=U.slice(0,i);}if(U.slice(-1)!=="/"){U+="/";}}return U;};this.getPropertyValueFromConfig=function(C,p,g){var v;if(g&&C.hasOwnProperty(p+"Resource")){v=g.getText(C[p+"Resource"]);}else if(C.hasOwnProperty(p)){v=C[p];}return v;};this.getPropertyValueFromManifest=function(l,p,P){var s=p[P].manifestEntryKey,g=p[P].path,h=l.getManifestEntry(s);return O.get(g||"",h);};this.addMetadata=function(g,k){try{var C=this.getApplicationName(g),U=this.getApplicationUrl(g),l,h,p={fullWidth:{manifestEntryKey:"sap.ui",path:"fullWidth"},hideLightBackground:{manifestEntryKey:"sap.ui",path:"hideLightBackground"},title:{manifestEntryKey:"sap.app",path:"title"},icon:{manifestEntryKey:"sap.ui",path:"icons.icon"},favIcon:{manifestEntryKey:"sap.ui",path:"icons.favIcon"},homeScreenIconPhone:{manifestEntryKey:"sap.ui",path:"icons.phone"},"homeScreenIconPhone@2":{manifestEntryKey:"sap.ui",path:"icons.phone@2"},homeScreenIconTablet:{manifestEntryKey:"sap.ui",path:"icons.tablet"},"homeScreenIconTablet@2":{manifestEntryKey:"sap.ui",path:"icons.tablet@2"},startupImage320x460:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x920"},startupImage640x920:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x920"},startupImage640x1096:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x1096"},startupImage768x1004:{manifestEntryKey:"sap.ui",path:"icons.startupImage768x1004"},startupImage748x1024:{manifestEntryKey:"sap.ui",path:"icons.startupImage748x1024"},startupImage1536x2008:{manifestEntryKey:"sap.ui",path:"icons.startupImage1536x2008"},startupImage1496x2048:{manifestEntryKey:"sap.ui",path:"icons.startupImage1496x2048"},compactContentDensity:{manifestEntryKey:"sap.ui5",path:"contentDensities.compact"},cozyContentDensity:{manifestEntryKey:"sap.ui5",path:"contentDensities.cozy"}},i,s,j,n,P,t,v,w=g&&g.componentHandle;if(k){if(!(o.hasOwnProperty(k))){o[k]={complete:false};}if(!o[k].complete){if(w){l=w.getMetadata();}else if(C){L.warning("No component handle available for '"+C+"'; SAPUI5 component metadata is incomplete",null,"sap.ushell.services.AppConfiguration");return;}if(l){h=l.getConfig();n=(l.getManifest()!==undefined);o[k].complete=true;if(h){t=h.resourceBundle||"";if(t){if(t.slice(0,1)!=="/"){t=U+t;}v=R.create({url:t,locale:sap.ui.getCore().getConfiguration().getLanguage()});}}for(P in p){if(p.hasOwnProperty(P)){if(n){o[k][P]=this.getPropertyValueFromManifest(l,p,P);}if(h&&o[k][P]===undefined){o[k][P]=this.getPropertyValueFromConfig(h,P,v);}}}o[k].version=l.getVersion();o[k].technicalName=l.getComponentName();}else if(u.isApplicationTypeEmbeddedInIframe(g.applicationType)){var W="/~canvas;window=app/wda/",x=g.url.indexOf(W),y="/sap/bc/webdynpro/sap/",z="/bc/gui/sap/its/webgui",D=g.url.indexOf(z);if(x>=0){o[k].technicalName=g.url.substring((x+W.length),g.url.indexOf("/",(x+W.length)));}if(g.url.indexOf(y)>=0){o[k].technicalName=new RegExp(y+"(.*)[?]").exec(g.url)[1];}o[k].complete=true;if(D>=0){var F="etransaction=",G=g.url.indexOf(F,D+z.length),H=g.url.indexOf("&",G),J=(H>=0)?H:g.url.length;o[k].technicalName=decodeURIComponent(g.url.substring(G+F.length,J))+" (TCODE)";}}else{L.warning("No technical information for the given application could be determined",null,"sap.ushell.services.AppConfiguration");}}i=["favIcon","homeScreenIconPhone","homeScreenIconPhone@2","homeScreenIconTablet","homeScreenIconTablet@2","startupImage320x460","startupImage640x920","startupImage640x1096","startupImage768x1004","startupImage748x1024","startupImage1536x2008","startupImage1496x2048"];s=(U&&U[U.length-1]==="/")?U.substring(0,U.length-1):U;j=function(U){if(U.match(/^https?:\/\/.*/)){return false;}return U&&U[0]!=="/";};i.forEach(function(N){var Q=o[k][N],S=null;if(Q){S=j(Q)?s+"/"+Q:Q;}o[k][N]=S;});}}catch(K){L.warning("Application configuration could not be parsed");}};}return new A();},true);
sap.ui.predefine('sap/ushell/services/AppLifeCycle',["sap/ui/base/EventProvider","sap/ushell/TechnicalParameters","sap/ushell/AppInfoParameters","sap/base/Log"],function(E,T,A,L){"use strict";var S="appLoaded";function a(o,c,p,C){var b,e,v;this.getCurrentApplication=function(){return b;};this.attachAppLoaded=function(d,f,l){e.attachEvent(S,d,f,l);};this.detachAppLoaded=function(f,l){e.detachEvent(S,f,l);};this.prepareCurrentAppObject=function(d,f,h,g){s(d,f,h,g);};this.reloadCurrentApp=function(){try{sap.ushell.Container.getService("ShellNavigation").hashChanger.treatHashChanged(window.hasher.getHash());}catch(d){L.error("Error when trying to re-load the current displayed application",d,"sap.ushell.services.AppLifeCycle");}};e=new E();if(sap.ushell.Container.inAppRuntime()===false){r();}function r(){v=sap.ui.getCore().byId("viewPortContainer");if(!v||typeof v.attachAfterNavigate!=="function"){jQuery.sap.log.error("Error during instantiation of AppLifeCycle service","Could not attach to afterNavigate event","sap.ushell.services.AppLifeCycle");return;}v.attachAfterNavigate(function(d){var f,g,h,i,j,H=false;if(d.mParameters.toId.indexOf("applicationShellPage")===0){g=d.mParameters.to.getApp();}else if(d.mParameters.toId.indexOf("application")===0){g=d.mParameters.to;}if(g&&typeof g.getComponentHandle==="function"&&g.getComponentHandle()){i=g.getComponentHandle().getInstance();}else if(g){f=g.getAggregation("child");if(f){i=f.getComponentInstance();}}else{i=sap.ui.getCore().getComponent(d.mParameters.to.getComponent());}if(i){j=i.getId();H=j.indexOf("Shell-home-component")!==-1||j.indexOf("pages-component")!==-1||j.indexOf("Shell-appfinder-component")!==-1;}h=g&&typeof g.getApplicationType==="function"&&g.getApplicationType();if((!h||h==="URL")&&i){h="UI5";}s(h,i,H,g);});}function s(d,f,h,g){b={applicationType:d,componentInstance:f,homePage:h,getTechnicalParameter:function(P){return T.getParameterValue(P,f,g,d);},getIntent:function(){var H=hasher&&hasher.getHash();if(!H){return Promise.reject("Could not identify current application hash");}var i=sap.ushell.Container.getServiceAsync("URLParsing");return i.then(function(P){return P.parseShellHash(H);});},getInfo:function(P){return A.getInfo(P,b);},getSystemContext:function(){var i=sap.ushell.services.AppConfiguration.getCurrentApplication()||{};var j=i.contentProviderId||"";return sap.ushell.Container.getService("ClientSideTargetResolution").getSystemContext(j);}};setTimeout(function(){e.fireEvent(S,b);},0);}}a.hasNoAdapter=true;return a;},true);
sap.ui.predefine('sap/ushell/services/AppState',["sap/ushell/services/_AppState/WindowAdapter","sap/ushell/services/_AppState/SequentializingAdapter","sap/ushell/services/_AppState/AppState","sap/ushell/services/_AppState/Sequentializer","sap/ushell/services/_AppState/AppStatePersistencyMethod","sap/ushell/utils","sap/ui/thirdparty/jquery"],function(W,S,A,a,b,u,q){"use strict";function g(C){return u.isDefined(C)&&u.isDefined(C.transient)?!!C.transient:true;}function c(o,C,p,e){this._oConfig=e&&e.config;this._sSessionKey="";this._oAdapter=new S(o);this._oAdapter=new W(this,this._oAdapter,e);}c.prototype._getSessionKey=function(){if(!this._sSessionKey){this._sSessionKey=this._getGeneratedKey();}return this._sSessionKey;};c.prototype.getAppState=function(k){var D=new q.Deferred(),t=this,o;this._loadAppState(k).done(function(k,s,p,P){o=new A(t,k,false,s,undefined,undefined,undefined,p,P);D.resolve(o);}).fail(function(){o=new A(t,k);D.resolve(o);});return D.promise();};c.prototype._getGeneratedKey=function(t){var k=sap.ushell.Container.getService("Personalization").getGeneratedKey();if(t){k=("TAS"+k).substring(0,41);}else{k=("AS"+k).substring(0,40);}return k;};c.prototype.createEmptyAppState=function(C,t,p,P){var o,s="",e="",U=u.isDefined(t)?t:g(this._oConfig),k=this._getGeneratedKey(U);if(p!==undefined&&!this.isPersistencyMethodSupported(p)){p=undefined;P=undefined;}if(C){if(!(C instanceof sap.ui.core.UIComponent)){throw new Error("oComponent passed must be a UI5 Component");}if(C.getMetadata&&C.getMetadata()&&typeof C.getMetadata().getName==="function"){s=C.getMetadata().getName()||"";}if(!s&&C.getMetadata&&C.getMetadata().getComponentName){s=C.getMetadata().getComponentName();}if(C.getMetadata&&C.getMetadata()&&typeof C.getMetadata().getManifest==="function"&&typeof C.getMetadata().getManifest()==="object"&&typeof C.getMetadata().getManifest()["sap.app"]==="object"){e=C.getMetadata().getManifest()["sap.app"].ach||"";}}if(U===true){p=P=undefined;}else if(p===undefined&&this.isPersistencyMethodSupported(b.PersonalState)){p=b.PersonalState;P=undefined;}o=new A(this,k,true,undefined,s,e,U,p,P);return o;};c.prototype.createEmptyUnmodifiableAppState=function(){var k=this._getGeneratedKey(),o;o=new A(this,k,false);return o;};c.prototype._saveAppState=function(k,D,s,C,t,p,P){var e=this._getSessionKey(),U=u.isDefined(t)?t:g(this._oConfig);if(U){p=undefined;P=undefined;}else if(p!==undefined){if(!this.isPersistencyMethodSupported(p)){if(this.isPersistencyMethodSupported(b.PersonalState)){p=b.PersonalState;}else{p=undefined;}P=undefined;}}return this._oAdapter.saveAppState(k,e,D,s,C,U,p,P);};c.prototype._loadAppState=function(k){return this._oAdapter.loadAppState(k);};c.prototype.deleteAppState=function(k){return this._oAdapter.deleteAppState(k);};c._getSequentializer=function(){return new a();};c.prototype.getSupportedPersistencyMethods=function(){if(this._oAdapter.getSupportedPersistencyMethods){return this._oAdapter.getSupportedPersistencyMethods();}return[];};c.prototype.isPersistencyMethodSupported=function(p){var s=this.getSupportedPersistencyMethods();if(s.length>0&&p!==undefined){return(s.indexOf(p)>=0);}return false;};c.prototype.setAppStateToPublic=function(e){var x=d(e,"sap-xapp-state"),i=d(e,"sap-iapp-state"),X=new q.Deferred().resolve(),I=new q.Deferred().resolve(),D=new q.Deferred(),s=undefined,f=undefined;if(x!==undefined){X=this.makeStatePersistent(x,b.PublicState).done(function(n){if(x!==n){e=e.replace(x,n);s=n;}}).fail(D.reject);}if(i!==undefined){I=this.makeStatePersistent(i,b.PublicState).done(function(n){if(i!==n){e=e.replace(i,n);f=n;}}).fail(D.reject);}q.when(X,I).done(function(){D.resolve(e,x,i,s,f);});return D.promise();};function d(U,p){var r=new RegExp("(?:"+p+"=)([^&/]+)"),R=r.exec(U),v;if(R&&R.length===2){v=R[1];}return v;}c.prototype.makeStatePersistent=function(k,p,e){var D=new q.Deferred();if(this.getSupportedPersistencyMethods().length===0){return D.resolve(k);}if(this.isPersistencyMethodSupported(p)){this.getAppState(k).done(function(o){if(o._iPersistencyMethod!==p){o.bTransient=false;o._iPersistencyMethod=p;o._oPersistencySettings=e;if(k.startsWith("TAS")){k=k.substring(1,k.length);}this._saveAppState(k,o._sData,o._sAppName,o._sACHComponent,false,p,e).done(function(){D.resolve(k);}).fail(D.reject);}else{D.resolve(k);}}.bind(this)).fail(D.reject);}else{D.reject("AppState.makeStatePersistent - adapter does not support persistence method: "+p);}return D.promise();};c.WindowAdapter=W;c.hasNoAdapter=false;return c;},true);
sap.ui.predefine('sap/ushell/services/Container',["sap/ushell/utils","sap/ushell/System","sap/ushell/Ui5ServiceFactory","sap/ushell/Ui5NativeServiceFactory","sap/ui/base/EventProvider","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/Control","sap/ui/performance/Measurement","sap/ui/thirdparty/URI","sap/ui/util/Mobile","sap/base/util/uid","sap/base/assert","sap/base/Log"],function(u,S,U,a,E,b,C,M,c,d,f,g,L){"use strict";var h="sap.ushell.services.Container",j="sap.ushell.Container.dirtyState.",o={},k,p,F,A=[];function l(){close();}function r(){document.location="about:blank";}function m(P){if(p&&p[P]){return p[P];}return"sap.ushell.adapters."+P;}function n(e){return(k.services&&k.services[e])||{};}function q(N,e,P,i){var v=n(N).adapter||{},w=v.module||m(e.getPlatform())+"."+N+"Adapter";function x(){return new(jQuery.sap.getObject(w))(e,P,{config:v.config||{}});}if(i){return new Promise(function(y,z){var B=w.replace(/\./g,"/");sap.ui.require([B],function(){try{y(x());}catch(D){z(D);}},z);});}jQuery.sap.require(w);return x();}function s(v){var w=new E(),x=false,R=[],y={},z="sap.ushell.Container."+v.getSystem().getPlatform()+".remoteSystem.",B={},G,D,H=u.getLocalStorage(),I=new u.Map(),J=new u.Map(),K="sap.ushell.Container."+v.getSystem().getPlatform()+".sessionTermination",N=this;this.cancelLogon=function(){if(this.oFrameLogonManager){this.oFrameLogonManager.cancelLogon();}};this.createRenderer=function(e,i){var Q,T,V;M.start("FLP:Container.InitLoading","Initial Loading","FLP");u.setPerformanceMark("FLP - renderer created");e=e||k.defaultRenderer;if(!e){throw new Error("Missing renderer name");}V=(k.renderers&&k.renderers[e])||{};T=V.module||(e.indexOf(".")<0?"sap.ushell.renderers."+e+".Renderer":e);if(V.componentData&&V.componentData.config){Q={config:V.componentData.config};}function W(){var X=new(jQuery.sap.getObject(T))({componentData:Q}),Y=X instanceof sap.ui.core.UIComponent?new sap.ui.core.ComponentContainer({component:X,height:"100%",width:"100%"}):X;if(!(Y instanceof C)){throw new Error("Unsupported renderer type for name "+e);}Y.placeAt=function(Z,$){var a1=Z,b1="canvas",c1=document.body;if(Z===c1.id){a1=document.createElement("div");a1.setAttribute("id",b1);a1.classList.add("sapUShellFullHeight");switch($){case"first":if(c1.firstChild){c1.insertBefore(a1,c1.firstChild);break;}case"only":c1.innerHTML="";default:c1.appendChild(a1);}Z=b1;$="";}C.prototype.placeAt.call(this,Z,$);};y[e]=X;w.fireEvent("rendererCreated",{renderer:X});return Y;}if(i){return new Promise(function(X,Y){var Z=T.replace(/\./g,"/");sap.ui.require([Z],function(){try{X(W());}catch($){Y($);}});});}jQuery.sap.require(T);return W();};this.getRenderer=function(e){var i,Q;e=e||k.defaultRenderer;if(e){i=y[e];}else{Q=Object.keys(y);if(Q.length===1){i=y[Q[0]];}else{L.warning("getRenderer() - cannot determine renderer, because no default renderer is configured and multiple instances exist.",null,h);}}if(i&&i.isA("sap.ui.core.ComponentContainer")){return i.getComponentInstance();}return i;};this.DirtyState={CLEAN:"CLEAN",DIRTY:"DIRTY",MAYBE_DIRTY:"MAYBE_DIRTY",PENDING:"PENDING",INITIAL:"INITIAL"};this.getGlobalDirty=function(){var i,Q=new jQuery.Deferred(),T=f(),V,W=0,X=this.DirtyState.CLEAN;function Y(){if(W===0||X===N.DirtyState.DIRTY){Q.resolve(X);L.debug("getGlobalDirty() Resolving: "+X,null,"sap.ushell.Container");}}function Z($){if($.key.indexOf(j)===0&&$.newValue!==N.DirtyState.INITIAL&&$.newValue!==N.DirtyState.PENDING){L.debug("getGlobalDirty() Receiving event key: "+$.key+" value: "+$.newValue,null,"sap.ushell.Container");if($.newValue===N.DirtyState.DIRTY||$.newValue===N.DirtyState.MAYBE_DIRTY){X=$.newValue;}W-=1;Y();}}try{H.setItem(T,"CHECK");H.removeItem(T);}catch(e){L.warning("Error calling localStorage.setItem(): "+e,null,"sap.ushell.Container");return Q.resolve(this.DirtyState.MAYBE_DIRTY).promise();}if(G){throw new Error("getGlobalDirty already called!");}G=Q;window.addEventListener("storage",Z);Q.always(function(){window.removeEventListener("storage",Z);G=undefined;});for(i=H.length-1;i>=0;i-=1){V=H.key(i);if(V.indexOf(j)===0){if(H.getItem(V)==="PENDING"){H.removeItem(V);L.debug("getGlobalDirty() Cleanup of unresolved 'PENDINGS':"+V,null,"sap.ushell.Container");}else{W+=1;u.localStorageSetItem(V,this.DirtyState.PENDING,true);L.debug("getGlobalDirty() Requesting status for: "+V,null,"sap.ushell.Container");}}}Y();setTimeout(function(){if(Q.state()!=="resolved"){Q.resolve("MAYBE_DIRTY");L.debug("getGlobalDirty() Timeout reached, - resolved 'MAYBE_DIRTY'",null,"sap.ushell.Container");}},W*2000);return Q.promise();};this.getLogonSystem=function(){return v.getSystem();};this.getUser=function(){return v.getUser();};this.getDirtyFlag=function(){var e=x;var Q=sap.ushell.Container.getService("ShellNavigation").getNavigationContext();for(var i=0;i<R.length;i++){e=e||R[i](Q);}return e;};this.setDirtyFlag=function(i){x=i;};this.sessionKeepAlive=function(){if(v.sessionKeepAlive){v.sessionKeepAlive();}};this.registerDirtyStateProvider=function(e){if(typeof e!=="function"){throw new Error("fnDirty must be a function");}R.push(e);};this.deregisterDirtyStateProvider=function(e){if(typeof e!=="function"){throw new Error("fnDirty must be a function");}var Q=-1;for(var i=R.length-1;i>=0;i--){if(R[i]===e){Q=i;break;}}if(Q===-1){return;}R.splice(Q,1);};this.getService=function(e,i,Q){L.warning("Deprecated API call of 'sap.ushell.Container.getService'. Please use 'getServiceAsync' instead",null,"sap.ushell.services.Container");return N._getService.apply(N,arguments);};this.getServiceAsync=function(e,i){return N._getService(e,i,true);};this._getService=function(e,i,Q){var T={},V,W,X,Y,Z,$;function a1(e1){var f1=new jQuery.Deferred();if(!e1){throw new Error("Missing system");}f1.resolve(q(e,e1,i));sap.ushell.Container.addRemoteSystem(e1);return f1.promise();}if(!e){throw new Error("Missing service name");}if(e.indexOf(".")>=0){throw new Error("Unsupported service name");}Z=n(e);V=Z.module||"sap.ushell.services."+e;W=V+"/"+(i||"");$={config:Z.config||{}};function b1(e1,Y){T.createAdapter=a1;return new e1(Y,T,i,$);}function c1(X,Q){var e1;if(X.hasNoAdapter){e1=new X(T,i,$);}else{Y=q(e,v.getSystem(),i,Q);if(Q){return Y.then(function(f1){var e1=b1(X,f1);I.put(W,e1);return e1;});}e1=b1(X,Y);}I.put(W,e1);return Q?Promise.resolve(e1):e1;}if(!I.containsKey(W)){if(Q){if(!J.containsKey(W)){var d1=new Promise(function(e1,f1){sap.ui.require([V.replace(/[.]/g,"/")],function(g1){e1(c1(g1,true));},f1);});J.put(W,d1);return d1;}return J.get(W);}X=sap.ui.requireSync(V.replace(/[.]/g,"/"));return c1(X);}if(Q){return Promise.resolve(I.get(W));}return I.get(W);};function O(){var Q,T,i,V;for(i=H.length-1;i>=0;i-=1){V=H.key(i);if(V.indexOf(z)===0){try{Q=V.substring(z.length);T=JSON.parse(H.getItem(V));B[Q]=new S(T);}catch(e){H.removeItem(V);}}}return B;}function P(){if(typeof OData==="undefined"){return;}function e(i,Q,T){L.warning(i,null,"sap.ushell.Container");if(T){setTimeout(T.bind(null,i),5000);}return{abort:function(){return;}};}OData.read=function(i,Q,T){return e("OData.read('"+(i&&i.Uri?i.requestUri:i)+"') disabled during logout processing",Q,T);};OData.request=function(i,Q,T){return e("OData.request('"+(i?i.requestUri:"")+"') disabled during logout processing",Q,T);};}this.addRemoteSystem=function(e){var i=e.getAlias(),Q=B[i];if(this._isLocalSystem(e)){return;}if(Q){if(Q.toString()===e.toString()){return;}L.warning("Replacing "+Q+" by "+e,null,"sap.ushell.Container");}else{L.debug("Added "+e,null,"sap.ushell.Container");}B[i]=e;u.localStorageSetItem(z+i,e);};this._isLocalSystem=function(e){var i=e.getAlias();if(i&&i.toUpperCase()==="LOCAL"){return true;}var Q=new c(u.getLocationHref()),T=this.getLogonSystem().getClient()||"";if(e.getBaseUrl()===Q.origin()&&e.getClient()===T){return true;}return false;};this.addRemoteSystemForServiceUrl=function(e){var i,Q={baseUrl:";o="};if(!e||e.charAt(0)!=="/"||e.indexOf("//")===0){return;}i=/^[^?]*;o=([^\/;?]*)/.exec(e);if(i&&i.length>=2){Q.alias=i[1];}e=e.replace(/;[^\/?]*/g,"");if(/^\/sap\/(bi|hana|hba)\//.test(e)){Q.platform="hana";Q.alias=Q.alias||"hana";}else if(/^\/sap\/opu\//.test(e)){Q.platform="abap";}if(Q.alias&&Q.platform){this.addRemoteSystem(new S(Q));}};this.attachLogoutEvent=function(e,Q){var T=false;if(Q===true){g(typeof(e)==="function","Container.attachLogoutEvent: fnFunction must be a function");for(var i=0;i<A.length;i++){if(A[i]===e){T=true;break;}}if(!T){A.push(e);}}else{w.attachEvent("Logout",e);}};this.detachLogoutEvent=function(e){w.detachEvent("Logout",e);for(var i=0;i<A.length;i++){if(A[i]===e){A.splice(i,1);break;}}};this.attachRendererCreatedEvent=function(e){w.attachEvent("rendererCreated",e);};this.detachRendererCreatedEvent=function(e){w.detachEvent("rendererCreated",e);};this.defaultLogout=function(){var Q=new jQuery.Deferred();function T(){v.logout(true).always(function(){H.removeItem(K);Q.resolve();});}function V(){var e=new jQuery.Deferred(),X=e.promise(),Y=[];if(A.length>0){for(var i=0;i<A.length;i++){Y.push(A[i]());}Promise.all(Y).then(e.resolve);setTimeout(e.resolve,4000);}else{e.resolve();}X.done(function(){if(w.fireEvent("Logout",true)){T();}else{setTimeout(T,1000);}});}function W(){var B,i=[];if(D){window.removeEventListener("storage",D);}u.localStorageSetItem(K,"pending");N._suppressOData();B=N._getRemoteSystems();Object.keys(B).forEach(function(X){try{i.push(q("Container",B[X]).logout(false));}catch(e){L.warning("Could not create adapter for "+X,e.toString(),"sap.ushell.Container");}H.removeItem(z+X);});jQuery.when.apply(jQuery,i).done(V);}if(typeof v.addFurtherRemoteSystems==="function"){v.addFurtherRemoteSystems().always(W);}else{W();}return Q.promise();};this.logout=this.defaultLogout;this.registerLogout=function(e){this.logout=e;};this.setLogonFrameProvider=function(e){if(this.oFrameLogonManager){this.oFrameLogonManager.logonFrameProvider=e;}};this.setXhrLogonTimeout=function(e,T){if(this.oFrameLogonManager){this.oFrameLogonManager.setTimeout(e,T);}};this.getFLPConfig=function(){var N=this,e=new Promise(function(i,Q){var T={URL:N.getFLPUrl()};if(o.CDMPromise){o.CDMPromise.then(function(V){V.getSite().then(function(W){T.scopeId=W.site.identification.id;i(T);});});}else{i(T);}});return e;};this.getFLPUrl=function(i){var e=u.getLocationHref(),Q=e.indexOf(this.getService("URLParsing").getShellHash(e));if(Q===-1||i===true){return e;}return e.substr(0,Q-1);};this.inAppRuntime=function(){return false;};this.runningInIframe=this.inAppRuntime;this._getAdapter=function(){return v;};this._closeWindow=l;this._redirectWindow=r;this._getRemoteSystems=O;this._suppressOData=P;sap.ui.getCore().getEventBus().subscribe("sap.ushell.Container","addRemoteSystemForServiceUrl",function(e,i,Q){N.addRemoteSystemForServiceUrl(Q);});if(typeof v.logoutRedirect==="function"){D=function(e){function i(){N._closeWindow();N._redirectWindow();}if(sap.ushell.Container!==N){return;}if(e.key.indexOf(z)===0&&e.newValue&&e.newValue!==H.getItem(e.key)){u.localStorageSetItem(e.key,e.newValue);}if(e.key===K){if(e.newValue==="pending"){N._suppressOData();if(w.fireEvent("Logout",true)){i();}else{setTimeout(i,1000);}}}};window.addEventListener("storage",D);}this._getFunctionsForUnitTest=function(){return{createAdapter:q};};}function t(e,i){e.forEach(function(v){var w=U.createServiceFactory(v,i);b.register("sap.ushell.ui5service."+v,w);});}function _(e){e.forEach(function(i){var v=a.createServiceFactory(i);b.register("sap.ushell.ui5service."+i,v);});}sap.ushell.bootstrap=function(P,e){var i,D=new jQuery.Deferred();d.init();if(sap.ushell.Container!==undefined){i=new Error("Unified shell container is already initialized - cannot initialize twice.\nStacktrace of first initialization:"+F);L.error(i,i.stack,h);throw i;}F=(new Error()).stack;k=jQuery.extend({},true,window["sap-ushell-config"]||{});p=e;if(typeof window["sap.ushell.bootstrap.callback"]==="function"){setTimeout(window["sap.ushell.bootstrap.callback"]);}t(["Personalization","URLParsing","CrossApplicationNavigation"],true);t(["Configuration"],false);_(["CardNavigation","CardUserRecents","CardUserFrequents"]);var v=new S({alias:"",platform:k.platform||P});q("Container",v,null,true).then(function(w){w.load().then(function(){function x(){var z,B;var G=window["sap-ushell-config"];if(!G||!G.services){return false;}z=G.services.PluginManager;B=z&&z.config;return B&&B.loadPluginsFromSite;}sap.ushell.Container=new s(w);var y=[sap.ushell.Container.getServiceAsync("PluginManager")];if(x()){o.CDMPromise=sap.ushell.Container.getServiceAsync("CommonDataModel");y.push(o.CDMPromise);}Promise.all(y).then(function(z){var B=z[0],G=z[1];var H=G?G.getPlugins():jQuery.when({});H.then(function(I){var J=jQuery.extend(true,{},k.bootstrapPlugins,I);B.registerPlugins(J);});}).then(function(){if(u.hasFLPReady2NotificationCapability()){sap.ui.require(["sap/ushell/NWBCInterface"],function(N){u.getPrivateEpcm().doEventFlpReady2(N);});}else if(u.hasFLPReadyNotificationCapability()){u.getPrivateEpcm().doEventFlpReady();}sap.ui.require(["sap/ushell/Config"],function(z){if(z.last("/core/darkMode/enabled")){sap.ushell.Container.getService("DarkModeSupport").setup();}});});D.resolve();});});return D.promise();};});
sap.ui.predefine('sap/ushell/services/CrossApplicationNavigation',["sap/ushell/services/AppConfiguration","sap/ushell/services/_CrossApplicationNavigation/utils","sap/ushell/utils/type","sap/ushell/TechnicalParameters","sap/ushell/components/applicationIntegration/AppLifeCycle","sap/base/util/isPlainObject","sap/base/util/UriParameters","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath","sap/base/util/merge","sap/ushell/utils","sap/ushell/ApplicationType"],function(a,u,t,T,A,i,U,q,O,m,b,c){"use strict";function C(o,p,s){var d,S;if(s&&s.config){S=s.config;}function g(v,f){var r,h,n,j,k;if(typeof v!=="string"&&!i(v)&&v!==undefined){q.sap.log.error("Unexpected input type",null,"sap.ushell.services.CrossApplicationNavigation");return undefined;}if(v===undefined){return undefined;}r=a.getCurrentApplication();if(f){if(typeof f.getComponentData!=="function"||!i(f.getComponentData())||!f.getComponentData().startupParameters||!i(f.getComponentData().startupParameters)){q.sap.log.error("Cannot call getComponentData on component","the component should be an application root component","sap.ushell.services.CrossApplicationNavigation");}else{k=f.getComponentData().startupParameters;if(k.hasOwnProperty("sap-system")){h=k["sap-system"][0];}if(k.hasOwnProperty("sap-ushell-next-navmode")){n=k["sap-ushell-next-navmode"][0];}}}else{if(r&&r["sap-system"]){h=r["sap-system"];}else if(r&&r.url){h=new U(r.url).get("sap-system");}if(r&&r["sap-ushell-next-navmode"]){n=r["sap-ushell-next-navmode"];}else if(r&&r.url){n=new U(r.url).get("sap-ushell-next-navmode");}}if(r){j=r.contentProviderId;}var I=u._injectParameters({type:t,inject:{"sap-system":h,"sap-ushell-navmode":n,"sap-app-origin-hint":j},injectEmptyString:{"sap-app-origin-hint":true},args:v});return I;}function e(v){var f,h,j;if(localStorage&&localStorage["sap-ushell-enc-test"]==="false"){return v;}if(!S||!S["sap-ushell-enc-test"]){if(localStorage&&localStorage["sap-ushell-enc-test"]!=="true"){return v;}}if(typeof v!=="string"&&!i(v)&&v!==undefined){q.sap.log.error("Unexpected input type",null,"sap.ushell.services.CrossApplicationNavigation");return undefined;}if(v===undefined){return undefined;}if(i(v)){h=q.extend(true,{},v);if(h.target&&h.target.shellHash){if(typeof h.target.shellHash==="string"){if(h.target.shellHash!=="#"&&h.target.shellHash!==""){h.target.shellHash=e(h.target.shellHash);}}return h;}h.params=h.params||{};h.params["sap-ushell-enc-test"]=["A B%20C"];return h;}j=v;if(!/[?&]sap-system=/.test(j)){f=(j.indexOf("?")>-1)?"&":"?";j+=f+"sap-ushell-enc-test="+encodeURIComponent("A B%20C");}return j;}this._extractInnerAppRoute=function(I){var f=this,P,h;if(typeof I==="string"){P=I.split("&/");h=P.shift();return{intent:h,innerAppRoute:P.length>0?"&/"+P.join("&/"):""};}if(Object.prototype.toString.apply(I)==="[object Object]"){var j=O.get("target.shellHash",I);if(typeof j==="string"){var r=f._extractInnerAppRoute(j);I.target.shellHash=r.intent;return{intent:I,innerAppRoute:r.innerAppRoute};}if(I.hasOwnProperty("appSpecificRoute")){var v=I.appSpecificRoute;delete I.appSpecificRoute;var k=typeof v==="string"&&v.indexOf("&/")!==0&&v.length>0;return{innerAppRoute:k?"&/"+v:v,intent:I};}return{intent:I,innerAppRoute:""};}q.sap.log.error("Invalid input parameter","expected string or object","sap.ushell.services.CrossApplicationNavigation");return{intent:I};};this._injectInnerAppRoute=function(I,f){var h,j=this;if(!f){return I;}if(typeof I==="string"){return I+f;}if(Object.prototype.toString.apply(I)==="[object Object]"){h=O.get("target.shellHash",I);if(typeof h==="string"){I.target.shellHash=j._injectInnerAppRoute(h,f);return I;}I.appSpecificRoute=f;}return I;};this.hrefForExternal=function(f,h,j){var k,E,I;if(sap.ushell&&sap.ushell.Container&&typeof sap.ushell.Container.getService==="function"&&sap.ushell.Container.getService("ShellNavigation")){k=m({},f);E=this._extractInnerAppRoute(k);I=E.intent;u.addXAppStateFromParameter(I,"sap-xapp-state-data");k=g(I,h);k=u._injectStickyParameters({args:k,appLifeCycle:A,technicalParameters:T,type:t});k=e(k);k=this._injectInnerAppRoute(k,E.innerAppRoute);return sap.ushell.Container.getService("ShellNavigation").hrefForExternal(k,undefined,h,j);}q.sap.log.debug("Shell not available, no Cross App Navigation");if(j){return(new q.Deferred()).resolve("").promise();}return"";};this.expandCompactHash=function(h){return sap.ushell.Container.getService("NavTargetResolution").expandCompactHash(h);};this.backToPreviousApp=function(){if(this.isInitialNavigation()){this.toExternal({target:{shellHash:"#"},writeHistory:false});return;}this.historyBack();};this.historyBack=function(f){var h=-1;if(f&&typeof f==="number"){if(f<=0){q.sap.log.warning("historyBack called with an argument <= 0 and will result in a forward navigation or refresh","expected was an argument > 0","sap.ushell.services.CrossApplicationNavigation#historyBack");}h=f*-1;}window.history.go(h);};this.isInitialNavigation=function(){var f=sap.ushell&&sap.ushell.Container&&typeof sap.ushell.Container.getService==="function"&&sap.ushell.Container.getService("ShellNavigation");if(!f){q.sap.log.debug("ShellNavigation service not available","This will be treated as the initial navigation","sap.ushell.services.CrossApplicationNavigation");return true;}var I=f.isInitialNavigation();if(typeof I==="undefined"){return true;}return I;};this.toExternal=function(f,h){var j,E,I,w=f.writeHistory;if(sap.ushell&&sap.ushell.Container&&typeof sap.ushell.Container.getService==="function"&&sap.ushell.Container.getService("ShellNavigation")){j=m({},f);this._processShellHashWithParams(j);E=this._extractInnerAppRoute(j);I=E.intent;u.addXAppStateFromParameter(I,"sap-xapp-state-data");j=g(I,h);j=u._injectStickyParameters({args:j,appLifeCycle:A,technicalParameters:T,type:t});j=e(j);delete j.writeHistory;j=this._injectInnerAppRoute(j,E.innerAppRoute);sap.ushell.Container.getService("ShellNavigation").toExternal(j,h,w);return;}q.sap.log.debug("Shell not avialable, no Cross App Navigation");return;};this.hrefForAppSpecificHash=function(f){if(sap.ushell&&sap.ushell.Container&&typeof sap.ushell.Container.getService==="function"&&sap.ushell.Container.getService("ShellNavigation")){return sap.ushell.Container.getService("ShellNavigation").hrefForAppSpecificHash(f);}q.sap.log.debug("Shell not available, no Cross App Navigation; fallback to app-specific part only");return"#"+encodeURI(f);};this.getPrimaryIntent=function(f,P){var Q={},h,r=/^#\w+-displayFactSheet(?:$|\?.)/;Q.tags=["primaryAction"];Q.semanticObject=f;if(P){Q.params=P;}return this.getLinks(Q).then(function(l){if(l.length===0){delete Q.tags;Q.action="displayFactSheet";h=function(L,j){var E;if(L.intent===j.intent){return 0;}E=r.test(L.intent)^r.test(j.intent);if(E){return r.test(L.intent)?-1:1;}return L.intent<j.intent?-1:1;};return this.getLinks(Q);}h=function(L,j){if(L.intent===j.intent){return 0;}return L.intent<j.intent?-1:1;};return l;}.bind(this)).then(function(l){return l.length===0?null:l.sort(h)[0];});};this.getSemanticObjectLinks=function(f,P,I,h,j,k){var l,n,E;l=u._injectStickyParameters({args:{params:P},appLifeCycle:A,technicalParameters:T,type:t});l=g(l,h).params;l=e({params:l}).params;n=sap.ushell.Container.getService("NavTargetResolution");var v;if(Array.isArray(f)){v=[];f.forEach(function(r){v.push([{semanticObject:r[0],params:r[1],ignoreFormFactor:!!r[2],ui5Component:r[3],appStateKey:r[4],compactIntents:!!(r[5])}]);});}else{v={semanticObject:f,params:l,ignoreFormFactor:I,ui5Component:h,appStateKey:j,compactIntents:!!k};}E=b.invokeUnfoldingArrayArguments(n.getLinks.bind(n),[v]);return E;};this.getLinks=function(v){var E;E=b.invokeUnfoldingArrayArguments(this._getLinks.bind(this),[v]);return E;};this._getLinks=function(n){var N,P,f,h=sap.ushell.Container.getService("NavTargetResolution");if(typeof n==="undefined"){n={};}N=q.extend(true,{},n);N.compactIntents=!!N.compactIntents;N.action=N.action||undefined;N.paramsOptions=u.extractGetLinksParameterOptions(N.params);N=u._injectStickyParameters({args:N,appLifeCycle:A,technicalParameters:T,type:t});P=N.params?u.extractGetLinksParameterDefinition(N.params):N.params;f=g({params:P},N.ui5Component).params;f=e({params:f}).params;if(N.appStateKey){f["sap-xapp-state"]=[N.appStateKey];delete N.appStateKey;}N.params=f;return h.getLinks(N);};this.getDistinctSemanticObjects=function(){var f=sap.ushell.Container.getService("NavTargetResolution");return f.getDistinctSemanticObjects();};this.isIntentSupported=function(I,f){var D=new q.Deferred(),h={},j=I.map(function(k){var l=g(k,f);h[l]=k;return l;});sap.ushell.Container.getService("NavTargetResolution").isIntentSupported(j).done(function(k){var l={};Object.keys(k).forEach(function(K){l[h[K]]=k[K];});D.resolve(l);}).fail(D.reject.bind(D));return D.promise();};this.isNavigationSupported=function(I,f){var h=I.map(function(j){return g(j,f);});return sap.ushell.Container.getService("NavTargetResolution").isNavigationSupported(h);};this.isUrlSupported=function(f){var D=new q.Deferred(),h,H;if(typeof f!=="string"){D.reject();return D.promise();}h=sap.ushell.Container.getService("URLParsing");if(h.isIntentUrl(f)){H=h.getHash(f);this.isIntentSupported(["#"+H]).done(function(r){if(r["#"+H]&&r["#"+H].supported){D.resolve();}else{D.reject();}}).fail(function(){D.reject();});}else{D.resolve();}return D.promise();};this.createComponentInstance=function(I,f,h){var D=new q.Deferred(),j=sap.ushell.Container;this.createComponentData(I,f).then(function(r){j.getServiceAsync("Ui5ComponentLoader").then(function(k){if(h){h.runAsOwner(function(){l(r);});}else{l(r);}function l(n){n.loadDefaultDependencies=false;k.instantiateComponent(n).then(function(v){D.resolve(v.componentHandle.getInstance());},function(E){E=E||"";q.sap.log.error("Cannot create UI5 component: "+E,E.stack,"sap.ushell.services.CrossApplicationNavigation");D.reject(E);});}});},function(E){D.reject(E);});return D.promise();};this.createComponentData=function(I,f){return new Promise(function(r,R){var h=sap.ushell.Container,j,k;if(!f){f={};}else{k=Object.keys(f).length;if(k>1||(k===1&&!f.componentData)){R("`oConfig` argument should either be an empty object or contain only the `componentData` property.");return;}}if(f.componentData){delete f.componentData.startupParameters;delete f.componentData.config;delete f.componentData["sap-xapp-state"];}h.getServiceAsync("URLParsing").then(function(l){j=l.constructShellHash(l.parseShellHash(I));if(!j){R("Navigation intent invalid!");return;}h.getServiceAsync("NavTargetResolution").then(function(N){N.resolveHashFragment("#"+j).then(function(n){function v(x){x=q.extend(true,{},x,f);if(!x.ui5ComponentName){if(x.additionalInformation){x.ui5ComponentName=x.additionalInformation.replace(/^SAPUI5\.Component=/,"");}else if(x.name){x.ui5ComponentName=x.name;}}return x;}if(n.applicationType===c.URL.type&&n.appCapabilities&&n.appCapabilities.appFrameworkId==="UI5"&&sap.ushell.Container.inAppRuntime()){sap.ui["require"](["sap/ushell/appRuntime/ui5/services/AppLifeCycleAgent"],function(x){x.getAppInfo(n.appCapabilities.technicalAppComponentId).then(function(y){y=v(y);w({ui5ComponentName:n.appCapabilities.technicalAppComponentId,applicationDependencies:y,url:y.url});});});}else if(n.applicationType!==c.URL.type&&!(/^SAPUI5\.Component=/.test(n.additionalInformation))){R("The resolved target mapping is not of type UI5 component.");}else{w(n);}function w(x){h.getServiceAsync("Ui5ComponentLoader").then(function(y){x=v(x);x.loadDefaultDependencies=false;y.createComponentData(x).then(function(z){r(z);},function(E){E=E||"";q.sap.log.error("Cannot get UI5 component data: "+E,E.stack,"sap.ushell.services.CrossApplicationNavigation");R(E);});});}});});});});};this.createEmptyAppState=function(f,h,P,j){if(!d){d=sap.ushell.Container.getService("AppState");}if(!(f instanceof sap.ui.core.UIComponent)){throw new Error("The passed oAppComponent must be a UI5 Component.");}return d.createEmptyAppState(f,h,P,j);};this.getStartupAppState=function(f){this._checkComponent(f);var h=f.getComponentData()&&f.getComponentData()["sap-xapp-state"]&&f.getComponentData()["sap-xapp-state"][0];return this.getAppState(f,h);};this._checkComponent=function(f){if(!(f instanceof sap.ui.core.UIComponent)){throw new Error("oComponent passed must be a UI5 Component");}};this.getAppState=function(f,h){var j,D=new q.Deferred();this._checkComponent(f);if(!d){d=sap.ushell.Container.getService("AppState");}if(typeof h!=="string"){if(h!==undefined){q.sap.log.error("Illegal Argument sAppStateKey ");}setTimeout(function(){j=d.createEmptyUnmodifiableAppState(f);D.resolve(j);},0);return D.promise();}return d.getAppState(h);};this.getAppStateData=function(f){return b.invokeUnfoldingArrayArguments(this._getAppStateData.bind(this),[f]);};this._getAppStateData=function(f){var D=new q.Deferred();if(!d){d=sap.ushell.Container.getService("AppState");}if(typeof f!=="string"){if(f!==undefined){q.sap.log.error("Illegal Argument sAppStateKey ");}setTimeout(function(){D.resolve(undefined);},0);}else{d.getAppState(f).done(function(h){D.resolve(h.getData());}).fail(D.resolve.bind(D,undefined));}return D.promise();};this.saveMultipleAppStates=function(f){var r=[],D=new q.Deferred();f.forEach(function(h){r.push(h.save());});q.when.apply(this,r).done(function(){D.resolve(r);}).fail(function(){D.reject("save failed");});return D.promise();};this._processShellHashWithParams=function(f){var h,H;if(f&&f.processParams===true&&f.target&&f.target.shellHash&&f.params){h=sap.ushell.Container.getService("URLParsing");H=h.parseShellHash(f.target.shellHash);f.target={semanticObject:H.semanticObject,action:H.action,contextRaw:H.contextRaw};f.appSpecificRoute=H.appSpecificRoute;f.params=Object.assign({},f.params,H.params);}};this.getSupportedAppStatePersistencyMethods=function(){if(!d){d=sap.ushell.Container.getService("AppState");}return d.getSupportedPersistencyMethods();};this.makeStatePersistent=function(k,P,f){if(!d){d=sap.ushell.Container.getService("AppState");}return d.makeStatePersistent(k,P,f);};this.resolveIntent=function(h){var D=new q.Deferred();sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(N){N.resolveHashFragment(h).then(function(r){D.resolve({url:r.url});}).fail(function(M){D.reject(M);});});return D.promise();};}C.hasNoAdapter=true;return C;},true);
sap.ui.predefine('sap/ushell/services/Personalization',["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants","sap/ushell/services/_Personalization/ContextContainer","sap/ushell/services/_Personalization/WindowAdapter","sap/ushell/services/_Personalization/TransientPersonalizer","sap/ushell/services/_Personalization/PersonalizationContainer","sap/ushell/services/_Personalization/Personalizer","sap/ushell/services/_Personalization/VariantSetAdapter","sap/ushell/services/_Personalization/Variant","sap/ushell/services/_Personalization/VariantSet","sap/ushell/services/_Personalization/WindowAdapterContainer","sap/ui/base/ManagedObject","sap/ui/thirdparty/jquery","sap/base/Log"],function(u,p,a,C,W,T,P,b,V,c,d,e,M,q,L){"use strict";function f(A,o,s,g){this._oConfig=(g&&g.config)||{};this._seed=(g&&g.config&&typeof g.config.seed==="string"&&g.config.seed)||"12345678901AFERANDOMBETTER";while(this._seed.length<40){this._seed=this._seed+this._seed;}this._oAppVariantAdapterWithBackendAdapter=this._configureAppVariantStorage(this._oConfig.appVariantStorage);this._oAdapterWithBackendAdapter={lazy:false,instance:new W(this,A)};this._oAdapterWindowOnly={lazy:false,instance:new W(this,undefined)};this._oContainerMap=new u.Map();this._oPendingOperationsMap=new u.Map();}f.prototype.SAVE_DEFERRED_DROPPED="Deferred save dropped (OK) - Data superseeded by subsequent save";f.prototype.constants=a;f.prototype._configureAppVariantStorage=function(A){var t=this,D="sap.ushell.adapters.AppVariantPersonalizationAdapter";if(!A){A={adapter:{module:D}};}if(Object.keys(A).length===0||A.enabled===false){return;}var s=(A.adapter&&A.adapter.module)||D,g=s.split(".").join("/");var h=function(){t._oAppVariantAdapterLoadPromise=t._oAppVariantAdapterLoadPromise||(function(){var o=new q.Deferred();try{sap.ui.require([g],R);}catch(r){o.reject(r);}function R(i){try{var j=new i();var w=new W(t,j);o.resolve(w);}catch(E){o.reject(E);}}return o.promise();})();return t._oAppVariantAdapterLoadPromise;};return{lazy:true,create:h};};f.prototype.getGeneratedKey=function(){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",g=s.length,r="",t=this;var R=function(i){return(t._seed.charCodeAt(i)+Math.floor(Math.random()*g))%g;};if(window&&window.crypto&&window.crypto.getRandomValues){var h=new window.Uint32Array(40);window.crypto.getRandomValues(h);R=function(i){return(h[i]+t._seed.charCodeAt(i))%s.length;};}var j=function(i){return s[R(i)];};while(r.length<40){r+=j(r.length);}return r;};f.prototype.getPersonalizer=function(o,s,g){g=g||this._getApplicationComponent();return new b(this,this._oAdapterWithBackendAdapter.instance,o,s,g);};f.prototype._getApplicationComponent=function(){var o;var O=M._sOwnerId;if(O){o=sap.ui.getCore().getComponent(O);if(o instanceof sap.ui.core.UIComponent){return o;}}return undefined;};f.prototype.getTransientPersonalizer=function(){return new T();};f.prototype.getContainer=function(s,S,o){o=o||this._getApplicationComponent();return this._createContainer(s,S,false,o);};f.prototype.createEmptyContainer=function(s,S,o){o=o||this._getApplicationComponent();return this._createContainer(s,S,true,o);};f.prototype._createContainer=function(s,S,g,o){var t=this,l,h,i,j,A,k,U,D=new q.Deferred();if(typeof s!=="string"){throw new u.Error("sContainerKey is not a string: sap.ushell.services.Personalization"," ");}l=p.isLaunchpadReload();U=!!(p.isAppVariant(o)&&(!S||!S.shared)&&this._oAppVariantAdapterWithBackendAdapter);A=p.adjustScope(S,l);k=p.addContainerPrefix(s);if(U){var m=o.getManifestObject();A.component=o;A.appVarId=m.getEntry("/sap.ui5/appVariantId");A.appVersion=m.getEntry("/sap.app/applicationVersion/version");k+="#"+m.getEntry("/sap.ui5/appVariantId");}i=U?this._oAppVariantAdapterWithBackendAdapter:this._oAdapterWithBackendAdapter;h=t._oAdapterWindowOnly;j=p.pickAdapter(S,l,h,i);p.loadAdapter(j).then(function(n){var r,v=new C(t,n,k,A,o);var w=(n&&n.supportsGetWithoutSubsequentLoad===true);if(g&&w){r=new q.Deferred();r.resolve(v);}else{r=v.load();}r.fail(function(){D.reject();}).done(function(){if(g||v._isExpired()){v.clear();}D.resolve(v);});},function(E){D.reject(E);});return D.promise();};f.prototype.delContainer=function(s,S){var D={},o,g="",t=this;S=t._adjustScope(S,false);g=p.addContainerPrefix(s);D=new q.Deferred();o=t._pendingContainerOperations_cancelAddNext(s,null);o.always(function(){t.getContainer(s,S).fail(function(){t._pendingContainerOperations_cancelAddNext(s,D);D.reject();}).done(function(){var A;t._pendingContainerOperations_cancelAddNext(s,D);A=S.validity===0?t._oAdapterWindowOnly:t._oAdapterWithBackendAdapter;p.loadAdapter(A).then(function(l){l.delAdapterContainer(g,S).fail(function(){D.reject();}).done(function(){D.resolve();});},function(){D.reject();});});});return D.promise();};f.prototype._pendingContainerOperations_flushAddNext=function(s,D){var o,S;o=this._oPendingOperationsMap.get(s);if(!o){o=new q.Deferred();o.resolve();}if(D!==null){this._oPendingOperationsMap.put(s,D);}if(!o||o.state()!=="pending"){return o;}clearTimeout(o._sapTimeoutId);o._sapTimeoutId=undefined;if(typeof o._sapFnSave==="function"){S=o._sapFnSave;o._sapFnSave=undefined;S();}return o;};f.prototype._pendingContainerOperations_cancelAddNext=function(s,D){var o;o=this._oPendingOperationsMap.get(s);if(!o){o=new q.Deferred();o.resolve();}if(D!==null){this._oPendingOperationsMap.put(s,D);}if(!o||o.state()!=="pending"){return o;}if(o._sapTimeoutId){clearTimeout(o._sapTimeoutId);o._sapTimeoutId=undefined;o.resolve(f.prototype.SAVE_DEFERRED_DROPPED);}return o;};f.prototype.getPersonalizationContainer=function(s){var g="",o={},D={};if(typeof s!=="string"){throw new u.Error("sContainerKey is not a string: sap.ushell.services.Personalization"," ");}g=p.addContainerPrefix(s);if(this._oContainerMap.containsKey(g)){return this._oContainerMap.get(g).promise();}D=new q.Deferred();o=new P(this._oAdapterWithBackendAdapter.instance,g);o.done(function(h){D.resolve(h);}).fail(function(h){D.reject(h);});this._oContainerMap.put(g,D);return D.promise();};f.prototype.delPersonalizationContainer=function(s){var D={},g="",t=this;g=p.addContainerPrefix(s);D=new q.Deferred();this.getPersonalizationContainer(s).fail(function(){D.reject();}).done(function(){t._oAdapterWithBackendAdapter.instance.delAdapterContainer(g).fail(function(){D.reject();}).done(function(){t._oContainerMap.remove(g);D.resolve();});});return D.promise();};f.prototype._getBackendAdapter=function(){return this._oAdapterWithBackendAdapter.instance._oBackendAdapter;};f.prototype.resetEntirePersonalization=function(){var A=this._getBackendAdapter();return this.isResetEntirePersonalizationSupported().then(function(i){if(i){return A.resetEntirePersonalization();}return Promise.reject();});};f.prototype.isResetEntirePersonalizationSupported=function(){var A=this._getBackendAdapter();if(typeof A.resetEntirePersonalization!=="function"){return Promise.resolve(false);}if(typeof A.isResetEntirePersonalizationSupported==="function"){return A.isResetEntirePersonalizationSupported().then(function(i){return i;}).catch(function(E){L.error("isResetEntirePersonalizationSupported failed with error: "+E.toString());return Promise.reject(E);});}return Promise.resolve(true);};f.prototype._adjustScope=p.adjustScope;f.hasNoAdapter=false;f.ContextContainer=C;f.Variant=c;f.VariantSet=d;f.VariantSetAdapter=V;f.WindowAdapter=W;f.WindowAdapterContainer=e;return f;},true);
sap.ui.predefine('sap/ushell/services/PluginManager',["sap/ushell/services/_PluginManager/Extensions","sap/base/Log","sap/ushell/EventHub","sap/ui/thirdparty/jquery","sap/base/util/UriParameters","sap/ushell/utils","sap/ushell/components/applicationIntegration/application/PostMessageAPIInterface"],function(g,L,E,q,U,u,P){"use strict";var S="sap.ushell.services.PluginManager",a="sap-ushell-plugin-type",b="RendererExtensions",c="sap.ushell.components.shell.defaults",s=[b,"UserDefaults","UserImage","ContentProvider","AppWarmup"];function d(C,p,o){var t=this,f=[],h=false,l;this._oPluginCollection={};this._oCategoryLoadingProgress={};this._mInitializedComponentPromise={};this._sPluginAgentsNames="";this._oConfig=(o&&o.config)||{};if(this._oConfig.isBlueBox===undefined){this._oConfig.isBlueBox=false;}s.forEach(function(e){t._oPluginCollection[e]={};t._oCategoryLoadingProgress[e]=new q.Deferred();});this._handlePluginCreation=function(e,i,j,k){var t=this,m=(t._oPluginCollection[e])[i];u.setPerformanceMark("FLP -- PluginManager.loadPlugin["+e+"]["+i+"]");try{if(m.hasOwnProperty("component")){if(t._mInitializedComponentPromise.hasOwnProperty(m.component)){t._mInitializedComponentPromise[m.component].then(function(){t._instantiateComponent(m,j,k);},function(){t._instantiateComponent(m,j,k);});}else{t._mInitializedComponentPromise[m.component]=t._instantiateComponent(m,j,k);}}else{L.error("Invalid plugin configuration. The plugin "+i+" must contain a <component> key",S);}}catch(n){L.error("Error while loading bootstrap plugin: "+m.component||"",S);if(j){j.reject(n);}}};this._getFileNameForXhrAuth=function(){return"Component-preload.js";};this._handleXhrAuthentication=function(A,e){var x;if(A&&["true",true,"X"].indexOf(A["sap-ushell-xhr-authentication"])>-1){if(!e){L.error(["Illegal state: configuration parameter 'sap-ushell-xhr-authentication-timeout' set, but no component URL specified.","XHR authentication request will not be sent. Please check the target mapping definitions for plug-ins","and the application index."].join(" "),undefined,S);return q.when();}if(A.hasOwnProperty("sap-ushell-xhr-authentication-timeout")){x=parseInt(A["sap-ushell-xhr-authentication-timeout"],10);if(isNaN(x)){L.error(["Invalid value for configuration parameter 'sap-ushell-xhr-authentication-timeout' for plug-in component with URL '",e,"': '",A["sap-ushell-xhr-authentication-timeout"],"' is not a number. Timeout will be ignored."].join(""),undefined,S);}else{sap.ushell.Container.setXhrLogonTimeout(e,x);}}return q.ajax(e+"/"+this._getFileNameForXhrAuth());}return q.when();};this._instantiateComponent=function(e,i,j){var D=new q.Deferred(),k=JSON.parse(JSON.stringify(e)),A={ui5ComponentName:k.component,url:k.url,getExtensions:g.bind(null,e.component)};function m(r){return function(v){r=r||"Cannot create UI5 plugin component: (componentId/appdescrId :"+A.ui5ComponentName+")\n"+v+" properties "+JSON.stringify(A)+"\n This indicates a plugin misconfiguration, see e.g. Note 2316443.";v=v||"";L.error(r,v.stack,S);if(i){i.reject.apply(this,arguments);}D.reject.apply(this,arguments);};}function n(){sap.ushell.Container.getService("Ui5ComponentLoader").createComponent(A).done(function(r){if(e.config&&e.config["sap-component-agents"]){f.push({componentName:e.component,url:e.url,agents:e.config["sap-component-agents"],pluginComp:r});}if(i){i.resolve(r);}D.resolve.apply(this,arguments);}).fail(m());}k.name=k.component;delete k.component;A.applicationDependencies=k;if(k.config){A.applicationConfiguration=k.config;delete k.config;}A.loadDefaultDependencies=false;if(j!==undefined){A.oPostMessageInterface=j;}this._handleXhrAuthentication(A.applicationConfiguration,k.url).done(n).fail(m("XHR logon for FLP plugin failed"));return D.promise();};this.getSupportedPluginCategories=function(){return JSON.parse(JSON.stringify(s));};this.getRegisteredPlugins=function(){return JSON.parse(JSON.stringify(this._oPluginCollection));};this.registerPlugins=function(i){var t=this,j,k,m,n=[],r,v;if(!i){return;}if(this._oConfig.isBlueBox===true){r=new U(window.location.href).get("sap-plugins");if(r&&r.length>0){r=","+r+",";}else{r=undefined;}}else{E.emit("pluginConfiguration",i);}Object.keys(i).sort().forEach(function(w){j=i[w]||{};k=j.config||{};m=k[a]||"";if(j.enabled===false){return;}if(!t._isFormFactorSupported(j)){L.info("Plugin '"+w+"' filtered from result: form factor not supported");return;}if(t._oConfig.isBlueBox===true){if(j.config&&j.config["sap-plugin-agent"]===true){v=(j.config["sap-plugin-agent-id"]||w);if(!t.isPluginAgentSupported(v)){if(r){if(r.indexOf(","+v+",")<0){return;}}else{return;}}}}if(j.enabled===undefined){j.enabled=true;}if(j.hasOwnProperty("module")){L.error("Plugin "+w+" cannot get registered, because the module mechanism for plugins is not valid anymore. Plugins need to be defined as SAPUI5 components.",S);q.sap.require(j.module);return;}if(k&&k.hasOwnProperty(a)){if(s&&Array.prototype.indexOf.call(s,m)!==-1){if(n.indexOf(m)===-1){n.push(m);}t._oPluginCollection[m][w]=JSON.parse(JSON.stringify(j));}else{L.warning("Plugin "+w+" will not be inserted into the plugin collection of the PluginManager, because of unsupported category "+m,S);}}else{t._oPluginCollection[b][w]=JSON.parse(JSON.stringify(j));if(n.indexOf(b)===-1){n.push(b);}}});try{if(t._oConfig.isBlueBox!==true){t._buildNamesOfPluginsWithAgents();}}catch(e){L.error("failed to build plugin agents names list",(e.message||e.toString()),"sap.ushell.services.PluginManager");}n.forEach(function(w){if(t._oCategoryLoadingProgress.hasOwnProperty(w)&&t._oCategoryLoadingProgress[w].state()==="resolved"){t.loadPlugins(w);}});};this._isFormFactorSupported=function(e){var D=e.deviceTypes,i=u.getFormFactor();if(D&&D[i]===false){return false;}return true;};this.getPluginLoadingPromise=function(e){if(this._oCategoryLoadingProgress.hasOwnProperty(e)){return this._oCategoryLoadingProgress[e].promise();}};this.registerAgentLifeCycleManager=function(i){l=i;if(h){l(f);}};this.loadPlugins=function(e){var t=this,i,j,k,m;u.setPerformanceMark("FLP -- PluginManager.startLoadPlugins["+e+"]");if(e===b){m=P.getInterface();}if(s&&Array.prototype.indexOf.call(s,e)!==-1){if(t._oCategoryLoadingProgress[e].pluginLoadingTriggered===undefined){t._oCategoryLoadingProgress[e].pluginLoadingTriggered=true;}if(Object.keys(t._oPluginCollection[e]).length>0){i=[];k=Object.keys(t._oPluginCollection[e]);if(new U(window.location.href).get("sap-ushell-xx-pluginmode")==="discard"&&(e==="RendererExtensions"||e==="AppWarmup")){k=k.filter(function(I){return(t._oPluginCollection[e][I].component===c);});}k.forEach(function(n){var r=t._oPluginCollection[e][n];if(!r.loaded){r.loaded=true;j=new q.Deferred();i.push(j.promise());t._handlePluginCreation(e,n,j,m);}});if(i.length>0){q.when.apply(undefined,i).done(function(){u.setPerformanceMark("FLP -- PluginManager.endLoadPlugins["+e+"]");if(l){l(f);}h=true;t._oCategoryLoadingProgress[e].resolve();}).fail(t._oCategoryLoadingProgress[e].reject.bind());}}else{t._oCategoryLoadingProgress[e].resolve();}}else{L.error("Plugins with category "+e+" cannot be loaded by the PluginManager",S);t._oCategoryLoadingProgress[e].reject("Plugins with category "+e+" cannot be loaded by the PluginManager");}return t._oCategoryLoadingProgress[e].promise();};this._buildNamesOfPluginsWithAgents=function(){var t=this,n="",e;Object.keys(t._oPluginCollection).forEach(function(i){Object.keys(t._oPluginCollection[i]).forEach(function(j){e=t._oPluginCollection[i][j];if(e&&e.enabled&&e.enabled===true){if(e.config&&e.config["sap-plugin-agent"]===true){n+=(e.config["sap-plugin-agent-id"]||j)+",";}}});});if(n.endsWith(",")){n=n.slice(0,-1);}this._sPluginAgentsNames=n;};this._getNamesOfPluginsWithAgents=function(){return this._sPluginAgentsNames;};}d.hasNoAdapter=true;return d;},true);
sap.ui.predefine('sap/ushell/services/ShellNavigation',["sap/ushell/services/ShellNavigationHashChanger","sap/m/MessageBox","sap/ui/core/routing/HashChanger"],function(S,M,H){"use strict";var A=M.Action;var I=M.Icon;function a(c,p,s){function r(){sap.ui.require(["sap/m/MessageBox"],function(M){M.show("Due to a configuration change on the server,\nclient and server are out of sync.\n We strongly recommend to reload the page soon.\nReload page now?",{icon:I.ERROR,title:"Client out of sync with server.",actions:[A.YES,A.NO],onClose:function(b){if(b===A.YES){window.setTimeout(function(){window.location.reload();},0);}}});});}var o=s&&s.config;this.hashChanger=new S(o);this._navigationFilterForForwardingToRegisteredRouters=function(h){var m=this._aRouters.some(function(R){return R.match(h);});if(m){var b=sap.ushell.Container.getService("AppLifeCycle"),C=b.getCurrentApplication(),i=C&&C.componentInstance&&!C.homePage,d;if(i){d=C.componentInstance.getRouter();if(d){d.stop();}}return this.NavigationFilterStatus.Keep;}return this.NavigationFilterStatus.Continue;};this.getNavigationContext=function(){var n=this.hashChanger.getCurrentNavigationState();var i=!this.hashChanger.isInnerAppNavigation(n.oldHash,n.newHash);return{status:n.status,isCrossAppNavigation:i,innerAppRoute:this.hashChanger.getHash()};};this.isInitialNavigation=function(){return this._bIsInitialNavigation;};this.setIsInitialNavigation=function(i){this._bIsInitialNavigation=i;};this.hrefForExternal=function(b,v,C,d){return this.hashChanger.hrefForExternal(b,v,C,d);};this.hrefForAppSpecificHash=function(b){return this.hashChanger.hrefForAppSpecificHash(b);};this.compactParams=function(P,R,C,t){return this.hashChanger.compactParams(P,R,C,t);};this.toExternal=function(b,C,w){this.hashChanger.toExternal(b,C,w);};this.toAppHash=function(b,w){this.hashChanger.toAppHash(b,w);};this.init=function(f){this._bIsInitialNavigation=true;hasher.prependHash="";H.replaceHashChanger(this.hashChanger);var b=sap.ui.getCore().getEventBus();b.subscribe("sap.ui.core.UnrecoverableClientStateCorruption","RequestReload",r);this.hashChanger.initShellNavigation(f);this._enableHistoryEntryReplacedDetection();return this;};this._enableHistoryEntryReplacedDetection=function(){this._lastHashChangeMode=null;this._fnOriginalSetHash=hasher.setHash;this._fnOriginalReplaceHash=hasher.replaceHash;hasher.setHash=function(){this._hashChangedByApp=true;this._lastHashChangeMode="setHash";return this._fnOriginalSetHash.apply(hasher,arguments);}.bind(this);hasher.replaceHash=function(){this._hashChangedByApp=true;this._lastHashChangeMode="replaceHash";return this._fnOriginalReplaceHash.apply(hasher,arguments);}.bind(this);};this.wasHistoryEntryReplaced=function(){return this._lastHashChangeMode==="replaceHash";};this.resetHistoryEntryReplaced=function(){this._lastHashChangeMode=null;};this.replaceHashWithoutNavigation=function(n){hasher.changed.active=false;this._fnOriginalSetHash(n);hasher.changed.active=true;};this.NavigationFilterStatus=this.hashChanger.NavigationFilterStatus;this.registerNavigationFilter=function(f){this.hashChanger.registerNavigationFilter(f);};this._aRouters=[];this.registerExtraRouter=function(R){this._aRouters.push(R);};this.unregisterNavigationFilter=function(f){this.hashChanger.unregisterNavigationFilter(f);};this.registerNavigationFilter(function(){if(!this._hashChangedByApp){this.resetHistoryEntryReplaced();}this._hashChangedByApp=undefined;return this.NavigationFilterStatus.Continue;}.bind(this));this.registerNavigationFilter(this._navigationFilterForForwardingToRegisteredRouters.bind(this));}a.hasNoAdapter=true;return a;},true);
sap.ui.predefine('sap/ushell/services/ShellNavigationHashChanger',["sap/ushell/library","sap/ui/core/routing/HashChanger","sap/ui/thirdparty/hasher","sap/ushell/TechnicalParameters","sap/base/util/UriParameters","sap/base/util/isEmptyObject","sap/ui/thirdparty/jquery","sap/base/Log","sap/base/util/deepEqual"],function(l,H,h,T,U,a,q,L,d){"use strict";var N=l.NavigationState;var O={HASH_SET:{name:"hashSet",historyEntry:true},HASH_REPLACED:{name:"hashReplaced",historyEntry:false},SHELL_HASH_CHANGED:{name:"shellHashChanged",historyEntry:true,usedByUi5HistoryDetection:true,ui5EventParameterNames:{oldHash:"oldAppSpecificRouteNoSeparator",newHash:"newAppSpecificRouteNoSeparator"},updateHashOnly:true},SHELL_HASH_PARAMETER_CHANGED:{name:"shellHashParameterChanged",historyEntry:null},HASH_CHANGED:{name:"hashChanged",historyEntry:false,usedByUi5HistoryDetection:true,ui5EventParameterNames:{newHash:"newHash",fullHash:"fullHash"}}};var S=H.extend("sap.ushell.services.ShellNavigatonHashChanger",{constructor:function(c){var u;this.oServiceConfig=c;this._oNavigationState={};if(new U(window.location.href).get("sap-ushell-reload")){if(new U(window.location.href).get("sap-ushell-reload")==="X"||new U(window.location.href).get("sap-ushell-reload")==="true"){u=true;}else{u=false;}}if(u!==undefined){if(typeof this.oServiceConfig!=="object"){this.oServiceConfig={};}this.oServiceConfig.reload=u;}H.apply(this);this._initializedByShellNav=false;this.oURLShortening=sap.ushell.Container.getService("URLShortening");this.oURLParsing=sap.ushell.Container.getService("URLParsing");this.privfnShellCallback=null;this.privappHashPrefix="&/";this.privhashPrefix="#";this.aNavigationFilters=[];this.NavigationFilterStatus={Continue:"Continue",Custom:"Custom",Abandon:"Abandon",Keep:"Keep"};this.getRelevantEventsInfo=function(){return this._getAllEvents().filter(function(e){return e.usedByUi5HistoryDetection;}).map(function(e){var E={name:e.name,paramMapping:e.ui5EventParameterNames};if(e.updateHashOnly!==undefined){E.updateHashOnly=e.updateHashOnly;}return E;});};}});S.prototype.privgetCurrentShellHash=function(){var r=this.privsplitHash(h.getHash());return{hash:"#"+((r&&r.shellPart)?r.shellPart:"")};};S.prototype.privconstructHash=function(A){var o=this.privgetCurrentShellHash();o.hash+=A;return o;};S.prototype.privconstructShellHash=function(s){return this.oURLParsing.constructShellHash(s);};S.prototype.privsplitHash=function(s){var o,c,A;if(s===undefined||s===null||s===""){return{shellPart:null,appSpecificRoute:null,intent:null,params:null};}o=this.oURLParsing.parseShellHash(s);if(o===undefined||o===null){return null;}c=(o.params&&!a(o.params))?o.params:null;A=o.appSpecificRoute;o.appSpecificRoute=undefined;return{shellPart:this.privstripLeadingHash(this.privconstructShellHash(o))||null,appSpecificRoute:A||null,intent:(o.semanticObject&&o.action&&(o.semanticObject+"-"+o.action+(o.contextRaw||"")))||null,params:c};};S.prototype.privsetHash=function(f,A,w){h.prependHash="";f=this.privstripLeadingHash(f);A=A||"";if(w===undefined){w=true;}if(w){this.fireEvent(O.HASH_SET.name,{sHash:A});h.setHash(f);}else{this.fireEvent(O.HASH_REPLACED.name,{sHash:A});h.replaceHash(f);}};S.prototype.privstripLeadingHash=function(s){if(s[0]==="#"){return s.substring(1);}return s;};S.prototype.registerNavigationFilter=function(f){if(typeof f!=="function"){throw new Error("fnFilter must be a function");}this.aNavigationFilters.push(f);};S.prototype.unregisterNavigationFilter=function(f){if(typeof f!=="function"){throw new Error("fnFilter must be a function");}this.aNavigationFilters=this.aNavigationFilters.filter(function(r){return r!==f;});};function b(c,t){this.oAppState=undefined;this.oPromise=(new q.Deferred()).resolve();this.getNextKey=function(){this.oAppState=sap.ushell.Container.getService("AppState").createEmptyAppState(c,t);return this.oAppState.getKey();};this.store=function(v){var n;this.oAppState.setData(v);n=this.oAppState.save();this.oPromise=q.when(this.oPromise,n);};this.getPromise=function(){return this.oPromise;};}S.prototype.compactParams=function(p,r,c,t){var s,C,R,P,D=new q.Deferred(),e=this.oURLParsing.constructShellHash({target:{semanticObject:"SO",action:"action"},params:p},s);if(p===undefined||Object.keys(p).length===0){return D.resolve(p).promise();}s=new b(c,t);R=this.oURLShortening.compactHash(e,r,s);C=this.oURLParsing.parseParameters(R.hash.match(/\?.*/)[0]);P=s.getPromise();P.done(function(){D.resolve(C);}).fail(function(m){D.reject(m);});return D;};S.prototype.hrefForExternal=function(A,v,c,e){var r=this.hrefForExternalNoEnc(A,v,c,e);function f(R,v){if(v===true){R.hash=encodeURI(R.hash);}else{R=encodeURI(R);}return R;}if(!e){return f(r,v);}var D=new q.Deferred();r.done(function(R){D.resolve(f(R,v));}).fail(D.reject.bind(D));return D;};S.prototype.hrefForExternalNoEnc=function(A,v,c,e){var t,p,D,s=new b(c),r;t=this.privhrefForExternalNoEnc(A,s);if(v===true){r={hash:t.hash,params:t.params,skippedParams:t.skippedParams};}else{r=t.hash;}if(!e){return r;}p=s.getPromise();D=new q.Deferred();p.done(function(){D.resolve(r);}).fail(function(m){D.reject(m);});return D;};S.prototype.privhrefForExternalNoEnc=function(A,s){var r;if(A===undefined){return this.privgetCurrentShellHash();}if(A&&A.target&&(typeof A.target.semanticObject==="string"||typeof A.target.shellHash==="string")){r="#"+this.privconstructShellHash(A);return this.oURLShortening.compactHash(r,undefined,s);}return this.privgetCurrentShellHash();};S.prototype.privgetAppHash=function(A){var s,o;if(A&&A.target&&(typeof A.target.shellHash==="string")){o=this.oURLParsing.parseShellHash(A.target.shellHash);s=o&&o.appSpecificRoute;s=s&&s.substring(2);}return s;};S.prototype.hrefForAppSpecificHash=function(A){return encodeURI(this.privconstructHash(this.privappHashPrefix+A).hash);};S.prototype.toExternal=function(A,c,w){var s,o=new b(c),e;s=this.privhrefForExternalNoEnc(A,o).hash;e=this.privgetAppHash(A);this.privsetHash(s,e,w);};S.prototype.toAppHash=function(A,w){var s=this.privconstructHash(this.privappHashPrefix+A).hash;this.privsetHash(s,A,w);};S.prototype.initShellNavigation=function(s){if(this._initializedByShellNav){L.info("initShellNavigation already called on this ShellNavigationHashChanger instance.");return false;}this.privfnShellCallback=s;h.changed.add(this.treatHashChanged,this);if(!h.isActive()){h.initialized.addOnce(this.treatHashChanged,this);h.init();}else{this.treatHashChanged(h.getHash());}this._initializedByShellNav=true;return true;};S.prototype.init=function(){if(this._initialized){L.info("init already called on this ShellNavigationHashChanger instance.");return false;}var n=this.privsplitHash(h.getHash()),A=((n&&n.appSpecificRoute)||"  ").substring(2),D=A?"&/":"",s=(n&&n.shellPart)||"";this.fireEvent(O.HASH_CHANGED.name,{newHash:A,fullHash:s+D+A});this._initialized=true;return true;};S.prototype._removeInnerAppSeparator=function(i){return(i||"").replace("&/","");};S.prototype._setNavigationStatus=function(n){this._oNavigationState.status=n;};S.prototype._trackNavigation=function(o,n){this._oNavigationState.oldHash=o;this._oNavigationState.newHash=n;};S.prototype.getCurrentNavigationState=function(){return this._oNavigationState;};S.prototype.treatHashChanged=function(n,o){this._trackNavigation(o,n);this._setNavigationStatus(N.InProgress);if(this.inAbandonFlow){this._setNavigationStatus(N.Finished);return;}var A,s,c,f,g,j,E,i,F,k,m,p;n=this.oURLShortening.expandHash(n);o=this.oURLShortening.expandHash(o);c=this.privsplitHash(n);f=this.privsplitHash(o);if(!c){E=new Error("Illegal new hash - cannot be parsed: '"+n+"'");this.fireEvent(O.SHELL_HASH_CHANGED.name,{newShellHash:n,newAppSpecificRoute:null,fullHash:n,oldShellHash:(f?f.shellPart:o),error:E});this.privfnShellCallback(n,null,(f?f.shellPart:o),(f?f.appSpecificRoute:null),E);this._setNavigationStatus(N.Finished);return;}if(!f){f={shellPart:o,appSpecificRoute:null};}for(i=0;i<this.aNavigationFilters.length;i++){try{F=this.aNavigationFilters[i].call(undefined,n,o);k=F;if(typeof F!=="string"){k=F.status;m=F.hash;}if(k===this.NavigationFilterStatus.Custom){if(m&&m.length>0){this.inAbandonFlow=true;h.replaceHash(m);this.inAbandonFlow=false;}this._setNavigationStatus(N.Finished);return;}if(k===this.NavigationFilterStatus.Abandon){this.inAbandonFlow=true;h.replaceHash(o);this.inAbandonFlow=false;this._setNavigationStatus(N.Finished);return;}if(k===this.NavigationFilterStatus.Keep){p=true;}}catch(e){L.error("Error while calling Navigation filter! ignoring filter...",e.message,"sap.ushell.services.ShellNavigation");}}if(p){this.fireEvent(O.HASH_CHANGED.name,{newHash:n,oldHash:o,fullHash:n});this._setNavigationStatus(N.Finished);return;}var r=this.isInnerAppNavigation(n,o);if(r){A=this._removeInnerAppSeparator(c.appSpecificRoute);s=this._removeInnerAppSeparator(f.appSpecificRoute);L.info("Inner App Hash changed from '"+s+"' to '"+A+"'",null,"sap.ushell.services.ShellNavigation");this.fireEvent(O.HASH_CHANGED.name,{newHash:A,oldHash:s,fullHash:n});this._setNavigationStatus(N.Finished);return;}var t=this._haveSameIntent(n,o);if(t&&this.hasListeners(O.SHELL_HASH_PARAMETER_CHANGED.name)){g=this.oURLParsing.paramsToString(c.params);j=this.oURLParsing.paramsToString(f.params);L.info("Shell hash parameters changed from '"+j+"' to '"+g+"'",null,"sap.ushell.services.ShellNavigation");this.fireEvent(O.SHELL_HASH_PARAMETER_CHANGED.name,{oNewParameters:c.params,oOldParameters:f.params});this._setNavigationStatus(N.Finished);return;}if(o!==undefined&&this.oServiceConfig&&this.oServiceConfig.reload){window.location.hash="#"+encodeURI(n);window.location.reload();}L.info("Outer shell hash changed from '"+o+"' to '"+n+"'",null,"sap.ushell.services.ShellNavigation");this.fireEvent(O.SHELL_HASH_CHANGED.name,{newShellHash:c.shellPart,newAppSpecificRoute:c.appSpecificRoute,fullHash:n,oldShellHash:f.shellPart,oldAppSpecificRoute:f.appSpecificRoute,error:"",oldAppSpecificRouteNoSeparator:this._removeInnerAppSeparator(f.appSpecificRoute),newAppSpecificRouteNoSeparator:this._removeInnerAppSeparator(c.appSpecificRoute)});this.privfnShellCallback(c.shellPart,c.appSpecificRoute,f.shellPart,f.appSpecificRoute);this._setNavigationStatus(N.Finished);};S.prototype._parametersChanged=function(n,o){return!d(n,o);};S.prototype.setHash=function(s){this.toAppHash(s,true);};S.prototype.replaceHash=function(s){this.toAppHash(s,false);};S.prototype.getHash=function(){return this.getAppHash();};S.prototype.getAppHash=function(){var n=this.privsplitHash(h.getHash()),A=((n&&n.appSpecificRoute)||"  ").substring(2);return A;};S.prototype.destroy=function(){h.changed.remove(this.treatHashChanged,this);H.prototype.destroy.apply(this,arguments);};S.prototype._getAllEvents=function(){return Object.keys(O).map(function(e){return O[e];});};S.prototype.getReplaceHashEvents=function(){return this._getAllEvents().filter(function(e){return e.historyEntry===false;}).map(function(e){return e.name;});};S.prototype.getSetHashEvents=function(){return this._getAllEvents().filter(function(e){return e.historyEntry===true;}).map(function(e){return e.name;});};S.prototype.isInnerAppNavigation=function(n,o){var c=this.privsplitHash(n)||{};var e=this.privsplitHash(o)||{};var f=this._haveSameIntent(n,o);c.params=this._removeNonIntentParameters(c.params);e.params=this._removeNonIntentParameters(e.params);var g=!this._parametersChanged(c.params,e.params);return f&&g;};S.prototype._haveSameIntent=function(n,o){var c=this.privsplitHash(n)||{};var e=this.privsplitHash(o)||{};var s=c.intent;var f=e.intent;return s===f&&o!==undefined;};S.prototype._removeNonIntentParameters=function(o){var t=T.getParameters({isIntentParameter:false}),c;if(o){for(var i=0;i<t.length;i++){c=t[i];if(o[c.name]){delete o[c.name];}}}return o||{};};return S;},true);
sap.ui.predefine('sap/ushell/services/URLParsing',["sap/ui/thirdparty/URI","sap/ushell/utils","sap/base/util/UriParameters"],function(U,u,b){"use strict";function c(){var r=/^(([A-Za-z0-9_/]+)-([A-Za-z0-9_/-]+)(~([A-Z0-9a-z=+/]+))?)?([?]([^&]|(&[^/]))*&?)?$/;this.getShellHash=function(s){var a=/[^#]*#(([^&]|&[^/])*)(&\/.*)?/,m=a.exec(s);if(m){return m[1];}return undefined;};this.getHash=function(s){var a=/#(.*)/,m=a.exec(s);if(m){return m[1];}return undefined;};this.isIntentUrl=function(s){var a=/^#/,t,l,T,L,h,p;if(typeof s!=="string"){return false;}if(!a.test(s)){t=(new U(s)).normalize();T=t.protocol()+"://"+t.host()+t.pathname();l=(new U(window.location.href)).normalize();L=l.protocol()+"://"+l.host()+l.pathname();if(T!==L){return false;}}h=this.getHash(s);if(!h){return false;}p=this.parseShellHash(h);if(p&&p.semanticObject&&p.action){return true;}return false;};this.parseParameters=function(p){var o=b.fromQuery(p);var k=o.keys();var K=k.next();var P={};while(K["done"]===false){P[K.value]=o.getAll(K.value);K=k.next();}return P;};this.paramsToString=function(p){return u.urlParametersToString(p);};this.privparamsToString=function(p,D,a){return u.urlParametersToString(p,D,a);};this.parseShellHash=function(h){var a=r,s,S,A,C,p,m,e;if(!h){return undefined;}s=this.splitHash(h);m=a.exec(s.shellPart);if(m){S=m[2];A=m[3];C=m[5];p=m[6];e=this.parseParameters(p);return{semanticObject:S,action:A,contextRaw:C,params:e,appSpecificRoute:s.appSpecificRoute};}if(s.appSpecificRoute){return{semanticObject:undefined,action:undefined,contextRaw:undefined,params:{},appSpecificRoute:s.appSpecificRoute};}return undefined;};this.privstripLeadingHash=function(h){if(h[0]==="#"){return h.substring(1);}return h;};this.splitHash=function(h){var a=/^(?:#|)([\S\s]*?)(&\/[\S\s]*)?$/,m,s,A;if(h===undefined||h===null||h===""){return{};}m=a.exec(h);s=m[1];if(s!==""&&!r.test(s)){return{};}A=m[2];if(s||A){return{shellPart:s,appSpecificRoute:A};}return{};};function d(s,a){if(a){return s+a;}return s;}this.constructShellHash=function(s){var e,p,f,i=null,k,l=[],g="?",a=null;if(!s){return"";}if(!s.target){s.target={};s.target.semanticObject=s.semanticObject;s.target.action=s.action;s.target.contextRaw=s.contextRaw;}if(s.target.shellHash||s.target.shellHash===""){f=this.privstripLeadingHash(s.target.shellHash);return d(f,s.appSpecificRoute);}if(s.target.semanticObject&&s.target.action){e=s.target.semanticObject+"-"+s.target.action.replace(/[?].*/,"");}else{return d("",s.appSpecificRoute);}if(s.target.contextRaw){e+="~"+s.target.contextRaw;}g="?";a=null;l=[];for(a in s.params){if(s.params.hasOwnProperty(a)){l.push(a);}}p=(s.params&&JSON.parse(JSON.stringify(s.params)))||{};if(s.appStateKey){l.push("sap-xapp-state");p["sap-xapp-state"]=s.appStateKey;}l.sort();for(k=0;k<l.length;k=k+1){a=l[k];if(Array.isArray(p[a])){if(p[a].length>1){jQuery.sap.log.error("Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!");}for(i=0;i<p[a].length;i=i+1){e+=g+encodeURIComponent(a)+"="+encodeURIComponent(p[a][i]);g="&";}}else{e+=g+encodeURIComponent(a)+"="+encodeURIComponent(p[a]);g="&";}}return d(e,s.appSpecificRoute);};this.addSystemToServiceUrl=function(s,C){var R,o,S=C;if(!s||s.indexOf("/")!==0||s.indexOf("//")===0){throw new u.Error("Invalid URL: "+s,"sap.ushell.services.URLParsing");}if(C instanceof sap.ui.core.Component){o=(typeof C.getComponentData==="function")&&C.getComponentData();S=o&&o.startupParameters&&o.startupParameters["sap-system"]&&o.startupParameters["sap-system"][0];}R=sap.ushell.Container.getService("NavTargetResolution").getCurrentResolution();if(!S&&!C&&R&&R.url){S=new b(R.url).get("sap-system");}if(/^[^?]*(;mo([/;?]|$))/.test(s)){}else if(/^[^?]*(;o=([/;?]|$))/.test(s)){s=s.replace(/;o=([/;?]|$)/,(S?";o="+S:"")+"$1");}else if(!/^[^?]*;o=/.test(s)&&S){s=s.replace(/(\/[^?]*?)(\/$|$|(\/?\?.*))/,"$1;o="+S+"$2");}sap.ushell.Container.addRemoteSystemForServiceUrl(s);return s;};}c.hasNoAdapter=true;return c;},true);
sap.ui.predefine('sap/ushell/services/URLShortening',function(){"use strict";function U(){var t=this;this.ABBREV_PARAM_NAME="sap-intent-param";this.URL_LENGTH_LIMIT=1023;this.URL_PARAMS_LENGTH_LIMIT=512;this._replaceSapXAppStateRawWithKeyIfRequired=function(v,s){var V,k;if(typeof v!=="string"||/^[A-Z0-9]{40,41}$/.test(v)){return v;}try{V=JSON.parse(v);}catch(e){jQuery.sap.log.error("This cannot happen: sap-xapp-state parameter value is neither key nor JSON parseable");return v;}k=s&&s.getNextKey();this._storeValue(k,V,s);return k;};this.compactHash=function(u,r,s){var S,k,R,p,o,a,b=[this.ABBREV_PARAM_NAME,"sap-system","sap-xapp-state"];if(r){r.forEach(function(A){b.push(A);});}o=sap.ushell.Container.getService("URLParsing");S=o.parseShellHash(u);if(!S){jQuery.sap.log.error("the URL "+u+" is not compliant. It may break the product and cause unwanted navigation behavior.");return{hash:u};}p="";if(u.charAt(0)==="#"){p="#";}var v=S&&S.params&&S.params["sap-xapp-state"]&&S.params["sap-xapp-state"][0];if(v){S.params["sap-xapp-state"]=[this._replaceSapXAppStateRawWithKeyIfRequired(v,s)];u=p+o.constructShellHash({target:{semanticObject:S.semanticObject,action:S.action,contextRaw:S.contextRaw},params:S.params,appSpecificRoute:S.appSpecificRoute});}if(typeof u!=="string"||u.length<t.URL_LENGTH_LIMIT){return{hash:u};}if(S&&((S.params&&S.params[t.ABBREV_PARAM_NAME]))){return{hash:u};}k=s&&s.getNextKey();R=this._splitParameters(S.params,b,k);if(!R.key){return{hash:u};}a=o.paramsToString(R.tailParams);this._storeValue(R.key,a,s);return{hash:p+o.constructShellHash({target:{semanticObject:S.semanticObject,action:S.action,contextRaw:S.contextRaw},params:R.headParams,appSpecificRoute:S.appSpecificRoute}),params:R.headParams,skippedParams:R.tailParams};};this.checkHashLength=function(u){var s,r,p,o;if(typeof u!=="string"||u.length<t.URL_LENGTH_LIMIT){return{hash:u};}o=sap.ushell.Container.getService("URLParsing");s=o.parseShellHash(u);p="";if(u.charAt(0)==="#"){p="#";}r=this._splitParameters(s.params,[],"DummyKey");if(r.key){jQuery.sap.log.error("Application startup parameter length exceeds "+t.URL_PARAMS_LENGTH_LIMIT+" characters, truncation occured!");delete r.headParams[this.ABBREV_PARAM_NAME];return{hash:p+o.constructShellHash({target:{semanticObject:s.semanticObject,action:s.action,contextRaw:s.contextRaw},params:r.headParams,appSpecificRoute:s.appSpecificRoute}),params:r.headParams,skippedParams:r.tailParams};}jQuery.sap.log.error("URL exceeds dangerous limits, arbitrary shortening or worse may occur!");return{hash:u};};this._findIndex=function(a,T){var r=a.indexOf(T);if(r>=0){return r;}r=-1;a.every(function(A,i){if(A.length>0&&A[A.length-1]==="*"&&A.substring(0,A.length-1)===T.substring(0,A.length-1)){r=i;return false;}return true;});return r;};this._cmpByList=function(a,A,b){var i,c;a=a||[];if(A===b){return 0;}i=this._findIndex(a,A);c=this._findIndex(a,b);if(i>=0&&c>=0){if((i-c)!==0){return i-c;}if(A<b){return-1;}if(A>b){return+1;}return 0;}if(i>=0){return-1;}if(c>=0){return+1;}if(A<b){return-1;}return+1;};this._sortByPriority=function(l,r){return l.sort(this._cmpByList.bind(this,r));};this._splitParameters=function(p,r,K){var a,i,k,h={},b={},c=false,o,d,e=0,f,l=[];if(!K||typeof K!=="string"){throw new Error("sap.ushell.services.URLShortening._splitParameters: key must be supplied!");}for(a in p){if(Object.prototype.hasOwnProperty.call(p,a)){l.push(a);}}l.sort();l=this._sortByPriority(l,r);for(k=0;k<l.length;k=k+1){a=l[k];o=p[a];if(o.length>1){jQuery.sap.log.error("Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!");}for(i=0;i<o.length;i=i+1){d=p[a][i];f=a.length+d.length;if(f+e>this.URL_PARAMS_LENGTH_LIMIT){if(b[a]){b[a].push(d);}else{b[a]=[d];}c=true;}else if(h[a]){h[a].push(d);}else{h[a]=[d];}e=e+f+1;}}if(c){h[this.ABBREV_PARAM_NAME]=[K];}return{key:K,tailParams:b,headParams:h};};this.expandHash=function(u){var r=function(k){return t._retrieveValue(k);};return this.expandParamGivenRetrievalFunction(u,this.ABBREV_PARAM_NAME,r);};this.expandParamGivenRetrievalFunction=function(u,p,r){var s,v,k,a,b;if(typeof u!=="string"){return u;}s=sap.ushell.Container.getService("URLParsing").parseShellHash(u);k=s&&s.params&&s.params[p]&&s.params[p][0];if(!k){return u;}a="";if(u.charAt(0)==="#"){a="#";}v=r(k);if(!v){return u;}b=this._blendParameters(s.params,p,v);return a+sap.ushell.Container.getService("URLParsing").constructShellHash({target:{semanticObject:s.semanticObject,action:s.action,contextRaw:s.contextRaw},params:b,appSpecificRoute:s.appSpecificRoute});};this._retrieveValue=function(){return undefined;};this._storeValue=function(k,v,s){if(s&&typeof s.store==="function"){s.store(v);}};this._blendParameters=function(p,P,v){var n=sap.ushell.Container.getService("URLParsing").parseParameters("?"+v),a;delete p[P];for(a in n){if(Object.prototype.hasOwnProperty.call(n,a)){if(p[a]){p[a]=p[a].concat(n[a]);}else{p[a]=n[a];}}}return p;};}U.hasNoAdapter=true;return U;},true);
sap.ui.predefine('sap/ushell/services/Ui5ComponentHandle',function(){"use strict";var U=function(c){this._oComponent=c;};U.onBeforeApplicationInstanceCreated=function(){sap.ui.require(["sap/ushell/Fiori20AdapterTest"],function(){});};U.prototype.getInstance=function(){return this._oComponent;};U.prototype.getMetadata=function(){return this._oComponent.getMetadata();};return U;});
sap.ui.predefine('sap/ushell/services/Ui5ComponentLoader',["sap/ushell/utils","sap/ushell/services/Ui5ComponentHandle","sap/ushell/services/_Ui5ComponentLoader/utils","sap/ushell/EventHub","sap/ui/thirdparty/jquery"],function(u,U,o,e,q){"use strict";function a(c,p,C){this._oConfig=(C&&C.config)||{};this.createComponent=function(A,P,w){var d=new q.Deferred(),t=this;this.createComponentData(A,P,w).then(function(D){t.instantiateComponent(D).then(d.resolve,d.reject);},function(){d.resolve(A);});return d.promise();};this.createComponentData=function(A,P,w){var t=this;return new Promise(function(r,R){var d={},b=A||{},l=o.shouldLoadCoreExt(b),f=o.shouldUseAmendedLoading(t._oConfig),L=o.shouldLoadDefaultDependencies(b,t._oConfig,f),n=u.getParameterValueBoolean("sap-ushell-nocb"),g=b.applicationDependencies||{};o.logAnyApplicationDependenciesMessages(g.name,g.messages);if(!b.ui5ComponentName){R();return;}delete b.loadCoreExt;delete b.loadDefaultDependencies;var h=o.createComponentData(b.componentData||{},b.url,b.applicationConfiguration,b.reservedParameters);if(b.getExtensions){h.getExtensions=b.getExtensions;delete b.getExtensions;}if(b.oPostMessageInterface){h.oPostMessageInterface=b.oPostMessageInterface;delete b.oPostMessageInterface;}var s=o.constructAppComponentId(P||{}),i=l&&f,j=o.prepareBundle(t._oConfig.coreResourcesComplement),k=o.createComponentProperties(i,L,n,w,b.applicationDependencies||{},b.ui5ComponentName,b.url,s,j);d.componentData=h;d.componentProperties=k;d.appPropertiesSafe=b;d.loadCoreExt=l;r(d);});};this.instantiateComponent=function(d){var b=d.componentProperties,f=d.componentData,A=d.appPropertiesSafe,l=d.loadCoreExt;U.onBeforeApplicationInstanceCreated.call(null,b);var D=new q.Deferred();o.createUi5Component(b,f).then(function(g){var h=new U(g);A.componentHandle=h;var i=l;if(i){A.coreResourcesFullyLoaded=i;e.emit("CoreResourcesComplementLoaded",{status:"success"});}D.resolve(A);},function(E){var s=JSON.stringify(b,null,4);o.logInstantiateComponentError(b.name,E+"",E.status,E.stack,s);D.reject(E);});return D.promise();};this.loadCoreResourcesComplement=function(){if(this.loadCoreResourcesComplementPromise){return this.loadCoreResourcesComplementPromise.promise();}var b=o.prepareBundle(this._oConfig.coreResourcesComplement),d=new q.Deferred();o.loadBundle(b).done(function(){e.emit("CoreResourcesComplementLoaded",{status:"success"});this.loadCoreResourcesComplementPromise=d;d.resolve();}.bind(this)).fail(function(){e.emit("CoreResourcesComplementLoaded",{status:"failed"});d.reject();});return d.promise();};e.once("loadCoreResourcesComplement").do(function(){this.loadCoreResourcesComplement();}.bind(this));}a.hasNoAdapter=true;return a;},true);
sap.ui.predefine('sap/ushell/services/UserInfo',["sap/base/Log"],function(L){"use strict";function U(a,c){this.getId=function(){return sap.ushell.Container.getUser().getId();};this.getFirstName=function(){return sap.ushell.Container.getUser().getFirstName();};this.getLastName=function(){return sap.ushell.Container.getUser().getLastName();};this.getFullName=function(){return sap.ushell.Container.getUser().getFullName();};this.getEmail=function(){return sap.ushell.Container.getUser().getEmail();};this.getUser=function(){return sap.ushell.Container.getUser();};this.getThemeList=function(){var p=a.getThemeList();p.fail(function(){L.error("getThemeList failed");});return p;};this.updateUserPreferences=function(){var p=a.updateUserPreferences(sap.ushell.Container.getUser());p.fail(function(){L.error("updateAttributes: ");});return p;};this.getLanguageList=function(){var p=a.getLanguageList();p.fail(function(){L.error("getLanguageList failed");});return p;};this.getUserSettingList=function(){var p=a.getUserProfilePropertyValueLists();p.fail(function(){L.error("getUserProfilePropertyValueLists failed");});return p;};this.getUserSettingListEditSupported=function(){if(typeof a.getUserProfilePropertyValueLists!=="undefined"){return true;}return false;};}U.hasNoAdapter=false;return U;},true);
sap.ui.predefine('sap/ushell/services/_AppState/AppState',["sap/base/Log","sap/ui/thirdparty/jquery"],function(L,q){"use strict";function A(S,k,m,D,a,b,t,p,P){this._oServiceInstance=S;this._sKey=k;this._sData=D;this._sAppName=a;this._sACHComponent=b;this._bTransient=t;this._bModifiable=m;this._sPersistencyMethod=p;this._oPersistencySettings=P;if(this._bModifiable){this.setData=function(o){try{this._sData=JSON.stringify(o);}catch(e){L.error("Data can not be serialized","sap.ushell.services.AppState.AppState");this._sData=undefined;}};this.save=s.bind(this);this.delete=d.bind(this);}}function s(){var D=new q.Deferred();this._oServiceInstance._saveAppState(this._sKey,this._sData,this._sAppName,this._sACHComponent,this._bTransient,this._sPersistencyMethod,this._oPersistencySettings).done(function(){D.resolve();}).fail(function(m){D.reject(m);});return D.promise();}function d(){var D=new q.Deferred();this._oServiceInstance._deleteAppState(this._sKey).done(function(){D.resolve();}).fail(function(m){D.reject(m);});return D.promise();}A.prototype.getData=function(){var o;if(this._sData===undefined||this._sData===""){return undefined;}try{o=JSON.parse(this._sData);}catch(e){L.error("Could not parse ["+this._sData+"]"+e);}return o;};A.prototype.getPersistencyMethod=function(){return this._sPersistencyMethod;};A.prototype.getPersistencySettings=function(){return this._oPersistencySettings;};A.prototype.getKey=function(){return this._sKey;};return A;});
sap.ui.predefine('sap/ushell/services/_AppState/AppStatePersistencyMethod',[],function(){"use strict";function A(){this.PersonalState="PersonalState";this.ACLProtectedState="ACLProtectedState";this.PublicState="PublicState";this.AuthorizationProtectedState="AuthorizationProtectedState";}return new A();});
sap.ui.predefine('sap/ushell/services/_CrossApplicationNavigation/utils',["sap/base/util/ObjectPath"],function(O){"use strict";var U={};U.extractGetLinksParameterOptions=function(g){return U.parseGetLinksParameters(g).filter(function(p){return Object.keys(p.options).length>0;}).map(function(p){return{name:p.name,options:p.options};});};U.extractGetLinksParameterDefinition=function(g){return U.parseGetLinksParameters(g).reduce(function(r,p){r[p.name]=p.value;return r;},{});};U.parseGetLinksParameters=function(g){if(Object.prototype.toString.apply(g)!=="[object Object]"){return[];}var p=JSON.parse(JSON.stringify(g));return Object.keys(p).map(function(P){var v=p[P];var o={};if(Object.prototype.toString.apply(v)==="[object Object]"){v=v.value;delete p[P].value;o=p[P];}return{name:P,value:v,options:o};});};U.safeParseToObject=function(o){try{return JSON.parse(o);}catch(e){jQuery.sap.log.error("Cannot parse the given string to object",o,"sap.ushell.services.CrossApplicationNavigation");}return null;};U.createAppStateFromData=function(d){var a=sap.ushell.Container.getService("AppState");var A=a.createEmptyAppState(null);A.setData(d);A.save();return A.getKey();};U.extractParameter=function(i,p){var I,P=null,u;if(typeof i==="string"){if(i.indexOf(p+"=")===-1){return{intent:i,data:null};}u=sap.ushell.Container.getService("URLParsing");var o=u.parseShellHash(i);if(!o){return{intent:i,data:null};}P=o.params[p];delete o.params[p];I=u.constructShellHash(o);return{intent:I,data:P};}if(Object.prototype.toString.apply(i)==="[object Object]"){var s=O.get("target.shellHash",i);if(typeof s==="string"){var r=U.extractParameter(s,p);i.target.shellHash=r.intent;return{intent:i,data:r.data};}var a=i.params;if(a&&a[p]){P=typeof a[p]==="string"?[a[p]]:a[p];delete a[p];}return{intent:i,data:P};}jQuery.sap.log.error("Invalid input parameter","expected string or object","sap.ushell.services.CrossApplicationNavigation");return{intent:i};};U.addXAppStateFromParameter=function(i,s){var I,x,a,X,A;x=U.extractParameter(i,s);I=x.intent;X=x.data&&x.data[0];if(!X){return;}a=U.safeParseToObject(X);if(!a){return;}A=U.createAppStateFromData(a);U.injectParameter(I,"sap-xapp-state",A);};U.injectParameter=function(i,p,P){if(typeof i==="string"){var u=sap.ushell.Container.getService("URLParsing");var o=u.parseShellHash(i);o.params[p]=P;return u.constructShellHash(o);}if(Object.prototype.toString.apply(i)==="[object Object]"){var s=O.get("target.shellHash",i);if(typeof s==="string"){i.target.shellHash=U.injectParameter(s,p,P);return i;}if(!i.params){i.params={};}i.params[p]=P;}return i;};U._injectParameters=function(p){var P=p.inject,i=(p.injectEmptyString||{}),t=p.type,a=p.args;function s(v,I){return(v||(v===""&&I));}if(t.isPlainObject(a)){if(a.target&&a.target.shellHash){if(typeof a.target.shellHash==="string"){a.target.shellHash=U._injectParameters({inject:P,injectEmptyString:i,type:p.type,args:a.target.shellHash});}return a;}var n=Object.keys(P).reduce(function(I,b){var v=P[b],c=(i[b]===true);if(s(v,c)&&typeof I==="string"){var r=new RegExp("[&]"+b);var h=!r.test(I);if(h){var d=I?"&":"";I+=d+b+"="+v;}}else if(s(v,c)&&!I.hasOwnProperty(b)){I[b]=v;}return I;},a.params||{});if(n&&Object.keys(n).length>0){a.params=n;}return a;}var S=a;if(S){Object.keys(P).forEach(function(b){var v=P[b];var I=(i[b]===true);var r=new RegExp("[?&]"+b);var h=!r.test(S);if(s(v,I)&&h){var c=S.indexOf("?")>-1?"&":"?";S+=c+b+"="+v;}});}return S;};U._injectStickyParameters=function(p){var a=sap.ushell.Container.getService("AppLifeCycle");if(!a||Object.keys(a).length<=0){return p.args;}var c=a.getCurrentApplication();if(!c||Object.keys(c).length<=0){return p.args;}var A=p.appLifeCycle;var t=p.technicalParameters;var s=t.getParameters({sticky:true}).reduce(function(S,n){var N=n.name;var C=c.componentInstance;var b=c.applicationType;var d;if(b==="UI5"){d={};}else{d=A.getCurrentApplication().container;}var e=t.getParameterValueSync(N,C,d,b);var f=n.stickyName||N;S[f]=e;return S;},{});var o={type:p.type,inject:s,args:p.args};return U._injectParameters(o);};return U;});
sap.ui.predefine('sap/ushell/services/_Personalization/ContextContainer',["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants.private","sap/ui/core/format/DateFormat","sap/ui/core/UIComponent","sap/ui/thirdparty/jquery"],function(u,p,c,D,U,q){"use strict";function C(){this._init.apply(this,arguments);}C.prototype._init=function(s,a,b,S,o){this._oService=s;this._sContainerKey=b;this._oAdapterContainer={};this._oScope=S||p.adjustScope(S);this._aLoadedKeys=[];this._oUnmodifiableContainer=undefined;var A;if(!(o instanceof U)&&o!==undefined){throw new Error("oComponent passed must be a UI5 Component or must be undefined");}if(o&&o.getMetadata&&o.getMetadata().getComponentName){A=o.getMetadata().getComponentName();}this.clear();if(!this._sContainerKey||typeof this._sContainerKey!=="string"){throw new u.Error("Invalid container key: sap.ushell.services.Personalization"," ");}this._oAdapterContainer=a.getAdapterContainer(this._sContainerKey,this._oScope,A);return this;};C.prototype.getValidity=function(){return this._oScope.validity;};C.prototype.clear=function(){this._oItemMap={};this._aLoadedItemKeys=[];this._clear=true;this._oItemMap=new u.Map();};C.prototype.load=function(){var d={},P,t=this;d=new q.Deferred();if(!this._sContainerKey){throw new u.Error("Invalid container key: sap.ushell.services.Personalization"," ");}this.clear();P=this._oService._pendingContainerOperations_flushAddNext(this._sContainerKey,d);P.always(function(){t._oAdapterContainer.load().fail(function(){d.reject();}).done(function(){t._copyFromAdapter();if(t._isExpired()){t.clear();}d.resolve();});});return d.promise();};C.prototype._copyFromAdapter=function(){var t=this,a;a=t._oAdapterContainer.getItemKeys().splice(0);a.forEach(function(i){t._oItemMap.put(i,JSON.stringify(t._oAdapterContainer.getItemValue(i)));});this._aLoadedItemKeys=t._oItemMap.keys().splice(0);};C.prototype._isExpired=function(){var f,t,T;if(this.getValidity()===Infinity||this.getValidity()===0){return false;}t=this._getItemValueInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_EXPIRE);f=D.getDateInstance({pattern:c.S_ABAPTIMESTAMPFORMAT});T=f.format(this._getNow(),true);return t&&T>t;};C.prototype._getNow=function(){return new Date();};C.prototype._copyToAdapterUpdatingValidity=function(){var i=[],d=[],t=this,n,f,T,s;if(this._clear){i=this._oAdapterContainer.getItemKeys().splice(0);i.forEach(function(I){t._oAdapterContainer.delItem(I);});this._clear=false;}if(this.getValidity()===Infinity||this.getValidity()===0){this._delItemInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_SCOPE);this._delItemInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_EXPIRE);this._delItemInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_STORAGE);}else{f=D.getDateInstance({pattern:c.S_ABAPTIMESTAMPFORMAT});n=this._getNow();s=f.format(n,true);T=f.format(new Date(n.getTime()+this.getValidity()*60000),true);this._setItemValueInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_SCOPE,this._oScope);this._setItemValueInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_EXPIRE,T);this._setItemValueInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_STORAGE,s);}i=this._oItemMap.keys();i.forEach(function(I){t._oAdapterContainer.setItemValue(I,p.cloneToObject(t._oItemMap.get(I)));});d=this._aLoadedItemKeys.filter(function(I){return!(i.indexOf(I)>-1);});d.forEach(function(I){t._oAdapterContainer.delItem(I);});};C.prototype.save=function(){var s,P,t=this;this._copyToAdapterUpdatingValidity();s=new q.Deferred();P=this._oService._pendingContainerOperations_cancelAddNext(this._sContainerKey,s);P.always(function(){try{t._oAdapterContainer.save().fail(function(){s.reject();}).done(function(){s.resolve();});}catch(e){s.reject();}});return s.promise();};C.prototype.saveDeferred=function(n){var s,P,t=this;this._copyToAdapterUpdatingValidity();s=new q.Deferred();P=this._oService._pendingContainerOperations_cancelAddNext(this._sContainerKey,s);function d(){P.always(function(){try{t._oAdapterContainer.save().fail(function(){s.reject();}).done(function(){s.resolve();});}catch(e){s.reject();}});}s._sapFnSave=d;s._sapTimeoutId=setTimeout(d,n);return s.promise();};C.prototype.flush=function(){var s,P;this._copyToAdapterUpdatingValidity();s=new q.Deferred();P=this._oService._pendingContainerOperations_flushAddNext(this._sContainerKey,s);P.fail(function(){s.reject();}).done(function(){s.resolve();});return s.promise();};C.prototype.getItemKeys=function(){var f=this._oItemMap.keys().filter(function(s){return s.indexOf(c.S_ITEM_PREFIX)===0;});return f.map(function(e){return e.replace(c.S_ITEM_PREFIX,"","");});};C.prototype._getInternalKeys=function(){return this._oItemMap.keys().splice(0);};C.prototype.getItemValue=function(i){return this._getItemValueInternal(c.S_ITEM_PREFIX,i);};C.prototype._getItemValueInternal=function(P,i){if(typeof i!=="string"||typeof P!=="string"){return undefined;}return p.cloneToObject(this._oItemMap.get(P+i));};C.prototype.containsItem=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.containsKey(c.S_ITEM_PREFIX+i);};C.prototype.setItemValue=function(i,I){this._setItemValueInternal(c.S_ITEM_PREFIX,i,I);};C.prototype._setItemValueInternal=function(i,I,o){if(typeof I!=="string"||typeof i!=="string"){throw new u.Error("Parameter value of sItemKey or sItemValue is not a string: sap.ushell.services.Personalization"," ");}if(I.length>40){q.sap.log.error("Personalization Service item key/variant set name (\""+I+"\") should be less than 40 characters [current :"+I.length+"]");}this._oItemMap.put(i+I,JSON.stringify(o));};C.prototype.delItem=function(i){this._delItemInternal(c.S_ITEM_PREFIX,i);};C.prototype._delItemInternal=function(P,i){if(typeof i!=="string"){return undefined;}if(typeof P!=="string"){return undefined;}this._oItemMap.remove(P+i);};C.prototype.getKey=function(){return this._sContainerKey.substring(c.S_CONTAINER_PREFIX.length);};C.prototype.getUnmodifiableContainer=function(){var t=this;if(!this._oUnmodifiableContainer){this._oUnmodifiableContainer=(function(){var o={};["clear","delItem","flush","load","save","saveDeferred","setItemValue"].forEach(function(f){o[f]=function(n){throw new u.Error("Function "+n+" can't be called on unmodifiable container","ContextContainer"," ");}.bind(undefined,f);});["containsItem","getItemKeys","getItemValue","getUnmodifiableContainer","getValidity"].forEach(function(f){if(t[f]){o[f]=t[f].bind(t);}});return o;}());}return this._oUnmodifiableContainer;};return C;});
sap.ui.predefine('sap/ushell/services/_Personalization/PersonalizationContainer',["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants.private","sap/ushell/services/_Personalization/PersonalizationContainerVariantSet","sap/ui/thirdparty/jquery"],function(u,p,c,P,q){"use strict";function a(A,C){this._sContainerKey=C;this._oAdapterContainer={};this._aLoadedVariantSetKeys=[];this._aLoadedItemKeys=[];var d={},t=this;this._init();d=new q.Deferred();if(!this._sContainerKey||typeof this._sContainerKey!=="string"){throw new u.Error("Invalid container key: sap.ushell.services.Personalization"," ");}this._oAdapterContainer=A.getAdapterContainer(this._sContainerKey);this.load().fail(function(){d.reject();}).done(function(){d.resolve(t);});return d.promise();}a.prototype._init=function(){this._oVariantSetMap={};this._oItemMap={};this._aLoadedVariantSetKeys=[];this._aLoadedItemKeys=[];this._oVariantSetMap=new u.Map();this._oItemMap=new u.Map();};a.prototype.load=function(){var d={},i=[],v=[],I=[],m=[],t=this;function b(I){var n=[],e=[];n=I.filter(function(s){return s.indexOf(c.S_ITEM_PREFIX)!==0;});if(n.length===0){return I;}e=I.filter(function(s){return s.indexOf(c.S_ITEM_PREFIX)===0;});n.forEach(function(s){var o={},f="";f=c.S_ITEM_PREFIX+s;o=p.clone(t._oAdapterContainer.getItemValue(s));t._oAdapterContainer.setItemValue(f,o);t._oAdapterContainer.delItem(s);if(e&&Array.prototype.indexOf.call(e,f)===-1){e.push(f);}});return e;}d=new q.Deferred();if(!this._sContainerKey){throw new u.Error("Invalid container key: sap.ushell.services.Personalization"," ");}this._init();this._oAdapterContainer.load().fail(function(){d.reject();}).done(function(){i=t._oAdapterContainer.getItemKeys().splice(0);v=i.filter(function(s){return s.indexOf(c.S_VARIANT_PREFIX)===0;});v.forEach(function(V){var o={};o=new P(V,t._oAdapterContainer);t._oVariantSetMap.put(V,o);});I=i.filter(function(s){return s.indexOf(c.S_VARIANT_PREFIX)!==0;});m=b(I);m.forEach(function(s){t._oItemMap.put(s,p.clone(t._oAdapterContainer.getItemValue(s)));});t._aLoadedVariantSetKeys=t._oVariantSetMap.keys().splice(0);t._aLoadedItemKeys=t._oItemMap.keys().splice(0);d.resolve();});return d.promise();};a.prototype.save=function(){var s,i;this._serializeVariantSets();this._serializeItems();s=new q.Deferred();function S(){s.resolve();}function f(){s.reject();}try{i=this._oAdapterContainer.save();i.fail(f);i.done(S);}catch(e){s.reject();}return s.promise();};a.prototype.getItemKeys=function(){return this._oItemMap.keys().map(function(e){return e.replace(c.S_ITEM_PREFIX,"","");});};a.prototype.getItemValue=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.get(c.S_ITEM_PREFIX+i);};a.prototype.containsItem=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.containsKey(c.S_ITEM_PREFIX+i);};a.prototype.setItemValue=function(i,I){if(typeof i!=="string"){throw new u.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ");}this._oItemMap.put(c.S_ITEM_PREFIX+i,I);};a.prototype.delItem=function(i){if(typeof i!=="string"){return undefined;}if(this.containsItem(i)){this._oItemMap.remove(c.S_ITEM_PREFIX+i);}};a.prototype._serializeItems=function(){var i=[],d=[],t=this;i=this._oItemMap.keys();i.forEach(function(I){t._oAdapterContainer.setItemValue(I,p.clone(t._oItemMap.get(I)));});d=this._aLoadedItemKeys.filter(function(I){return!(i.indexOf(I)>-1);});d.forEach(function(I){t._oAdapterContainer.delItem(I);});};a.prototype.getVariantSetKeys=function(){var v=[],b=[];b=this._oVariantSetMap.keys();v=b.map(function(e){return e.replace(c.S_VARIANT_PREFIX,"","");});return v;};a.prototype.containsVariantSet=function(v){return this._oVariantSetMap.containsKey(c.S_VARIANT_PREFIX+v);};a.prototype.getVariantSet=function(v){var s,V={};s=c.S_VARIANT_PREFIX+v;V=this._oVariantSetMap.get(s);return V;};a.prototype.addVariantSet=function(v){var e={},V={},s="";if(this.containsVariantSet(v)){throw new u.Error("Container already contains a variant set with key '"+v+"': sap.ushell.services.Personalization"," ");}s=c.S_VARIANT_PREFIX+v;e={currentVariant:null,variants:{}};this._oAdapterContainer.setItemValue(s,e);V=new P(s,this._oAdapterContainer);this._oVariantSetMap.put(s,V);return V;};a.prototype._serializeVariantSets=function(){var v=[],d=[],t=this;v=this._oVariantSetMap.keys();v.forEach(function(V){var o={},b={};o=t._oVariantSetMap.get(V);b=o._serialize();t._oAdapterContainer.setItemValue(V,p.clone(b));});d=this._aLoadedVariantSetKeys.filter(function(V){return!(v.indexOf(V)>-1);});d.forEach(function(V){t._oAdapterContainer.delItem(V);});};a.prototype.delVariantSet=function(v){var s="";s=c.S_VARIANT_PREFIX+v;this._oVariantSetMap.remove(s);return this._oAdapterContainer.delItem(s);};return a;});
sap.ui.predefine('sap/ushell/services/_Personalization/PersonalizationContainerVariant',["sap/ushell/utils"],function(u){"use strict";function P(v,V,o){if(typeof v!=="string"){throw new u.Error("Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization"," ");}if(typeof V!=="string"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}if(o&&typeof o!=="object"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}this._oVariantKey=v;this._oVariantName=V;this._oItemMap=new u.Map();this._oItemMap.entries=o||{};};P.prototype.getVariantKey=function(){return this._oVariantKey;};P.prototype.getVariantName=function(){return this._oVariantName;};P.prototype.getItemValue=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.get(i);};P.prototype.setItemValue=function(i,I){if(typeof i!=="string"){throw new u.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ");}return this._oItemMap.put(i,I);};P.prototype.containsItem=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.containsKey(i);};P.prototype.getItemKeys=function(){return this._oItemMap.keys();};P.prototype.delItem=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.remove(i);};P.prototype._serialize=function(){var i=[],v={},I={},t=this;v.name=this.getVariantName();i=this._oItemMap.keys();i.forEach(function(s){I[s]=t.getItemValue(s);});v.variantData=I;return v;};return P;});
sap.ui.predefine('sap/ushell/services/_Personalization/PersonalizationContainerVariantSet',["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/PersonalizationContainerVariant"],function(u,p,P){"use strict";function c(v,a){var V,s,b,o,d;this._sVariantSetKey=v;this._oAdapterContainer=a;this._oVariantNameMap=new u.Map();this._oVariantMap=new u.Map();V=p.clone(this._oAdapterContainer.getItemValue(v));if(V.hasOwnProperty("currentVariant")){this._sCurrentVariantKey=V.currentVariant;}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}if(V.hasOwnProperty("variants")){for(s in V.variants){if(V.variants.hasOwnProperty(s)){b=V.variants[s].name;o=V.variants[s].variantData;if(this._oVariantNameMap.containsKey(b)){throw new u.Error("Variant name already exists: sap.ushell.services.Personalization"," ");}else{this._oVariantNameMap.put(b,s);d=new P(s,b,o);this._oVariantMap.put(s,d);}}}}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}return this;};c.prototype.getCurrentVariantKey=function(){return this._sCurrentVariantKey;};c.prototype.setCurrentVariantKey=function(v){this._sCurrentVariantKey=v;};c.prototype.getVariantKeys=function(){return this._oVariantMap.keys();};c.prototype.getVariantNamesAndKeys=function(){return JSON.parse(JSON.stringify(this._oVariantNameMap.entries));};c.prototype.getVariant=function(v){if(typeof v!=="string"){return undefined;}return this._oVariantMap.get(v);};c.prototype.getVariantKeyByName=function(v){if(typeof v!=="string"){return undefined;}return this._oVariantNameMap.get(v);};c.prototype.containsVariant=function(v){if(typeof v!=="string"){return undefined;}return this._oVariantMap.containsKey(v);};c.prototype.addVariant=function(v){var m=0,V="",o={};m=parseInt(this._oVariantMap.keys().sort(function(a,b){return a-b;}).reverse()[0],10);V=isNaN(m)?"0":(m+1).toString();if(this._oVariantMap.containsKey(V)){throw new u.Error("Variant key '"+V+"' already exists in variant set"+this._sVariantSetKey+"': sap.ushell.services.Personalization"," ");}if(typeof v!=="string"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}if(this._oVariantNameMap.containsKey(v)){throw new u.Error("Variant name '"+v+"' already exists in variant set '"+this._sVariantSetKey+"' (Old key: '"+this._oVariantNameMap.get(v)+"' New key: '"+V+"') ': sap.ushell.services.Personalization"," ");}o=new P(V,v);this._oVariantMap.put(V,o);this._oVariantNameMap.put(v,V);return o;};c.prototype._serialize=function(){var v=[],V={},o={},t=this;V.currentVariant=this._sCurrentVariantKey;v=this.getVariantKeys();v.forEach(function(s){var a={};a=t._oVariantMap.get(s);o[s]=a._serialize();});V.variants=o;return V;};c.prototype.delVariant=function(v){var V=this._oVariantMap.get(v);if(V){this._oVariantNameMap.remove(V.getVariantName());this._oVariantMap.remove(v);}};return c;});
sap.ui.predefine('sap/ushell/services/_Personalization/Personalizer',["sap/ushell/utils","sap/ui/thirdparty/jquery","sap/base/Log"],function(u,q,L){"use strict";function P(s,a,p,S,c){this._sPersContainer="";this._sPersItem="";this._sPersVariant=null;this._oAdapter=a;this._oService=s;this._oScope=S;this._oComponent=c;if(!p||!p.container||!p.item||typeof p.container!=="string"||typeof p.item!=="string"){throw new u.Error("Invalid input for oPersId: sap.ushell.services.Personalization"," ");}this._sPersContainer=p.container;this._sPersItem=p.item;}P.prototype._getContainer=function(p){if(!this._oGetContainerPromise){this._oGetContainerPromise=this._oService.getContainer(p,this._oScope,this._oComponent);}return this._oGetContainerPromise;};P.prototype.getPersData=function(){var d={},t=this;d=new q.Deferred();this._getContainer(this._sPersContainer).fail(function(){d.reject();}).done(function(c){d.resolve(c.getItemValue(t._sPersItem));});d.fail(function(){L.error("Fail to get Personalization data for Personalizer container: "+t._sPersContainer);});return d.promise();};P.prototype.setPersData=function(v){var d={},t=this;d=new q.Deferred();this._getContainer(this._sPersContainer).fail(function(){d.reject();}).done(function(c){c.setItemValue(t._sPersItem,v);c.save().fail(function(){d.reject();}).done(function(){d.resolve();});});d.fail(function(){L.error("Fail to set Personalization data for Personalizer container: "+t._sPersContainer);});return d.promise();};P.prototype.delPersData=function(){var d={},t=this,m;d=new q.Deferred();this._getContainer(this._sPersContainer).fail(function(){d.reject();}).done(function(c){c.delItem(t._sPersItem);c.save().fail(function(){d.reject();}).done(function(){d.resolve();});});m=d.promise();m.fail(function(){L.error("Fail to delete Personalization data for Personalizer container: "+this._sPersContainer);});return m;};return P;});
sap.ui.predefine('sap/ushell/services/_Personalization/TransientPersonalizer',["sap/ui/thirdparty/jquery"],function(q){"use strict";function T(){this._oValue=undefined;}T.prototype.getPersData=function(){var d;d=new q.Deferred();d.resolve(this._oValue);return d.promise();};T.prototype.setPersData=function(v){var d;d=new q.Deferred();this._oValue=v;d.resolve();return d.promise();};T.prototype.delPersData=function(){var d;d=new q.Deferred();this._oValue=undefined;d.resolve();return d.promise();};T.prototype.setValue=function(v){this._oValue=v;};T.prototype.getValue=function(){return this._oValue;};return T;});
sap.ui.predefine('sap/ushell/services/_Personalization/Variant',["sap/ushell/utils","sap/ushell/services/_Personalization/utils"],function(u,p){"use strict";function V(v,s,a){if(typeof s!=="string"){throw new u.Error("Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization"," ");}if(typeof a!=="string"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}this._oVariantSet=v;this._sVariantKey=s;this._sVariantName=a;}V.prototype.getVariantKey=function(){return this._sVariantKey;};V.prototype.getVariantName=function(){return this._sVariantName;};V.prototype.setVariantName=function(v){var o=this._oVariantSet._getVariantSet(),a;if(typeof v!=="string"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}if(this._oVariantSet.getVariantKeyByName(v)!==undefined){throw new u.Error("Variant with name '"+v+"' already exists in variant set '"+this._oVariantSet._sVariantSetKey+"': sap.ushell.services.Personalization"," ");}if(Object.prototype.hasOwnProperty.call(o,"variants")&&Object.prototype.hasOwnProperty.call(o.variants,this._sVariantKey)){a=o.variants[this._sVariantKey];a.name=v;this._sVariantName=v;this._oVariantSet._serialize();}else{throw new u.Error("Variant does not longer exist"," ");}};V.prototype.getItemValue=function(i){if(typeof i!=="string"){return undefined;}var v=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;return Object.prototype.hasOwnProperty.call(v,i)&&p.clone(v[i]);};V.prototype.setItemValue=function(i,I){if(typeof i!=="string"){throw new u.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ");}var v,a=this._oVariantSet._getVariantSet().variants&&this._oVariantSet._getVariantSet().variants[this._sVariantKey];if(!a){throw new u.Error("Variant does not longer exist"," ");}if(!a.variantData){a.variantData={};}v=a.variantData;v[i]=p.clone(I);this._oVariantSet._serialize();};V.prototype.containsItem=function(i){if(typeof i!=="string"){return undefined;}var v=this.oAccess.variantSet._getVariantSet().variants[this._sVariantKey].variantData;return Object.prototype.hasOwnProperty.call(v,i);};V.prototype.getItemKeys=function(){var v=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData,i,I=[];for(i in v){if(Object.prototype.hasOwnProperty.call(v,i)){I.push(i);}}I.sort();return I;};V.prototype.delItem=function(i){if(typeof i!=="string"){return undefined;}var v=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;delete v[i];this._oVariantSet._serialize();};return V;});
sap.ui.predefine('sap/ushell/services/_Personalization/VariantSet',["sap/ushell/utils","sap/ushell/services/_Personalization/constants.private","sap/ushell/services/_Personalization/PersonalizationContainerVariant","sap/ushell/services/_Personalization/Variant"],function(u,c,P,V){"use strict";function d(v,C){var s,a,o=new u.Map(),b=new u.Map(),e,f;this._oContextContainer=C;this._sVariantSetKey=v;this._oVariantSetData=this._oContextContainer._getItemValueInternal(c.S_VARIANT_PREFIX,this._sVariantSetKey);if(!Object.prototype.hasOwnProperty.call(this._oVariantSetData,"currentVariant")){throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}if(Object.prototype.hasOwnProperty.call(this._oVariantSetData,"variants")){for(s in this._oVariantSetData.variants){if(Object.prototype.hasOwnProperty.call(this._oVariantSetData.variants,s)){a=this._oVariantSetData.variants[s].name;e=this._oVariantSetData.variants[s].variantData;if(o.containsKey(a)){throw new u.Error("Variant name already exists: sap.ushell.services.Personalization"," ");}else{o.put(a,s);f=new P(s,a,e);b.put(s,f);}}}}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}return this;}d.prototype._getVariantSet=function(){return this._oVariantSetData;};d.prototype._serialize=function(){this._oContextContainer._setItemValueInternal(c.S_VARIANT_PREFIX,this._sVariantSetKey,this._oVariantSetData);};d.prototype.getCurrentVariantKey=function(){return this._getVariantSet().currentVariant;};d.prototype.setCurrentVariantKey=function(v){this._getVariantSet().currentVariant=v;this._serialize();};d.prototype.getVariantKeys=function(){var v=new u.Map(),o=this._getVariantSet(this._sVariantSetKey),s;if(Object.prototype.hasOwnProperty.call(o,"variants")){for(s in o.variants){if(Object.prototype.hasOwnProperty.call(o.variants,s)){v.put(s,"dummy");}}}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}return v.keys();};d.prototype.getVariantNamesAndKeys=function(){var v=new u.Map(),o=new u.Map(),a=this._getVariantSet(this._sVariantSetKey),s,b;if(Object.prototype.hasOwnProperty.call(a,"variants")){for(s in a.variants){if(Object.prototype.hasOwnProperty.call(a.variants,s)){b=a.variants[s].name;if(v.containsKey(b)){throw new u.Error("Variant name already exists: sap.ushell.services.Personalization"," ");}else{v.put(b,s);}o.put(s,"dummy");}}}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}return v.entries;};d.prototype.getVariant=function(v){if(typeof v!=="string"){return undefined;}var o=this._getVariantSet(this._sVariantSetKey),s,a,b;if(Object.prototype.hasOwnProperty.call(o,"variants")&&Object.prototype.hasOwnProperty.call(o.variants,v)){s=o.variants[v].name;b=o.variants[v].variantData;a=new V(this,v,s,b);return a;}return undefined;};d.prototype.getVariantKeyByName=function(v){if(typeof v!=="string"){return undefined;}var o=this._getVariantSet(this._sVariantSetKey),s;if(Object.prototype.hasOwnProperty.call(o,"variants")){for(s in o.variants){if(Object.prototype.hasOwnProperty.call(o.variants,s)){if(v===o.variants[s].name){return s;}}}}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}return undefined;};d.prototype.containsVariant=function(v){var o=this._getVariantSet();if(typeof v!=="string"){return undefined;}return Object.prototype.hasOwnProperty.call(o,"variants")&&Object.prototype.hasOwnProperty.call(o.variants,v);};d.prototype.addVariant=function(v){var k=[],m=0,s="",o={};k=this.getVariantKeys();m=parseInt(k.sort(function(a,b){return a-b;}).reverse()[0],10);s=isNaN(m)?"0":(m+1).toString();if(k.indexOf(s)>=0){throw new u.Error("Variant key '"+s+"' already exists in variant set"+this._sVariantSetKey+"': sap.ushell.services.Personalization"," ");}if(typeof v!=="string"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}if(this.getVariantKeyByName(v)!==undefined){throw new u.Error("Variant name '"+v+"' already exists in variant set '"+this._sVariantSetKey+"' (Old key: '"+this.getVariantKeyByName(v)+"' New key: '"+s+"') ': sap.ushell.services.Personalization"," ");}o=new V(this,s,v);this._getVariantSet(this._sVariantSetKey).variants[s]={name:v,variantData:{}};this._serialize();return o;};d.prototype.delVariant=function(v){var o;if(typeof v!=="string"){return undefined;}o=this._getVariantSet();if(o&&o.variants){delete this._oVariantSetData.variants[v];}this._serialize();};return d;});
sap.ui.predefine('sap/ushell/services/_Personalization/VariantSetAdapter',["sap/ushell/services/_Personalization/constants.private","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/VariantSet"],function(c,u,V){"use strict";function a(C){this._oContextContainer=C;};a.prototype.save=function(){return this._oContextContainer.save();};a.prototype.getVariantSetKeys=function(){var p=this._oContextContainer._getInternalKeys(),v=[];v=p.map(function(e){return e.replace(c.S_VARIANT_PREFIX,"","");});return v;};a.prototype.containsVariantSet=function(v){return this.getVariantSetKeys().indexOf(v)>=0;};a.prototype.getVariantSet=function(v){var o=this._oContextContainer._getItemValueInternal(c.S_VARIANT_PREFIX,v);if(!o){return undefined;}return new V(v,this._oContextContainer);};a.prototype.addVariantSet=function(v){var e={},o={};if(this.containsVariantSet(v)){throw new u.Error("Container already contains a variant set with key '"+v+"': sap.ushell.services.Personalization"," ");}e={currentVariant:null,variants:{}};this._oContextContainer._setItemValueInternal(c.S_VARIANT_PREFIX,v,e);o=new V(v,this._oContextContainer);return o;};a.prototype.delVariantSet=function(v){this._oContextContainer._delItemInternal(c.S_VARIANT_PREFIX,v);};return a;});
sap.ui.predefine('sap/ushell/services/_Personalization/WindowAdapter',["sap/ui/thirdparty/jquery"],function(q){"use strict";var W=function(p,b){this._oBackendAdapter=b;if(b){this.supportsGetWithoutSubsequentLoad=b.supportsGetWithoutSubsequentLoad;}};W.prototype.data={};W.prototype.getAdapterContainer=function(c,s,a){var b=this._oBackendAdapter&&this._oBackendAdapter.getAdapterContainer(c,s,a);var d=sap.ui.requireSync("sap/ushell/services/_Personalization/WindowAdapterContainer");return new d(c,s,b);};W.prototype.delAdapterContainer=function(c,s){var d=new q.Deferred();delete W.prototype.data[c];if(this._oBackendAdapter){this._oBackendAdapter.delAdapterContainer(c,s).done(function(){d.resolve();}).fail(function(m){d.reject(m);});}else{d.resolve();}return d.promise();};return W;});
sap.ui.predefine('sap/ushell/services/_Personalization/WindowAdapterContainer',["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/WindowAdapter","sap/ui/thirdparty/jquery"],function(u,p,W,q){"use strict";function a(C,s,b){this._oBackendContainer=b;this._oItemMap=new u.Map();this._sContainerKey=C;}function c(C){var i,k=C.getItemKeys();for(i=0;i<k.length;i=i+1){C.delItem(k[i]);}}a.prototype.load=function(){var d=new q.Deferred(),i,k,t=this;if(W.prototype.data[this._sContainerKey]){this._oItemMap.entries=p.clone(W.prototype.data[this._sContainerKey]);if(this._oBackendContainer){c(this._oBackendContainer);k=this.getItemKeys();for(i=0;i<k.length;i=i+1){this._oBackendContainer.setItemValue(k[i],this._oItemMap.get(k[i]));}}d.resolve();}else if(this._oBackendContainer){this._oBackendContainer.load().done(function(){k=t._oBackendContainer.getItemKeys();for(i=0;i<k.length;i=i+1){t.setItemValue(k[i],t._oBackendContainer.getItemValue(k[i]));}W.prototype.data[t._sContainerKey]=p.clone(t._oItemMap.entries);d.resolve();}).fail(function(m){d.reject(m);});}else{W.prototype.data[this._sContainerKey]={};d.resolve();}return d.promise();};a.prototype.save=function(){var d=new q.Deferred();W.prototype.data[this._sContainerKey]=p.clone(this._oItemMap.entries);if(this._oBackendContainer){this._oBackendContainer.save().done(function(){d.resolve();}).fail(function(m){d.reject(m);});}else{d.resolve();}return d.promise();};a.prototype.getItemKeys=function(){return this._oItemMap.keys();};a.prototype.containsItem=function(i){this._oItemMap.containsKey(i);};a.prototype.getItemValue=function(i){return this._oItemMap.get(i);};a.prototype.setItemValue=function(i,I){this._oItemMap.put(i,I);if(this._oBackendContainer){this._oBackendContainer.setItemValue(i,I);}};a.prototype.delItem=function(i){this._oItemMap.remove(i);if(this._oBackendContainer){this._oBackendContainer.delItem(i);}};return a;});
sap.ui.predefine('sap/ushell/services/_Personalization/constants',[],function(){"use strict";return{keyCategory:{"FIXED_KEY":"FIXED_KEY","GENERATED_KEY":"GENERATED_KEY"},writeFrequency:{"HIGH":"HIGH","LOW":"LOW"}};});
sap.ui.predefine('sap/ushell/services/_Personalization/constants.private',[],function(){"use strict";return{S_CONTAINER_PREFIX:"sap.ushell.personalization#",S_ITEM_PREFIX:"ITEM#",S_VARIANT_PREFIX:"VARIANTSET#",S_ABAPTIMESTAMPFORMAT:"yyyyMMddHHmmss",S_ADMIN_PREFIX:"ADMIN#",S_ITEMKEY_SCOPE:"sap-ushell-container-scope",S_ITEMKEY_STORAGE:"sap-ushell-container-storageUTCTimestamp",S_ITEMKEY_EXPIRE:"sap-ushell-container-expireUTCTimestamp"};});
sap.ui.predefine('sap/ushell/services/_Personalization/utils',["sap/ushell/services/_Personalization/constants","sap/ushell/services/_Personalization/constants.private","sap/ui/thirdparty/jquery"],function(c,p,q){"use strict";function a(e,k){var m;for(m in k){if(typeof k[m]!=="function"){if(k.hasOwnProperty(m)){if(m===e){return true;}}}}return false;}function b(C){if(C.length>40){q.sap.log.error("Personalization Service container key (\""+C+"\") should be less than 40 characters [current :"+C.length+"]");}return p.S_CONTAINER_PREFIX+C;}function d(o,L,t,P){if(o&&o.validity===0&&!L){return t;}return P;}function i(){var r=window["sap-ushell-config"]&&window["sap-ushell-config"].services&&window["sap-ushell-config"].services.ShellNavigation&&window["sap-ushell-config"].services.ShellNavigation.config&&window["sap-ushell-config"].services.ShellNavigation.config.reload;return r;}function f(s,L){var A={validity:Infinity,keyCategory:c.keyCategory.GENERATED_KEY,writeFrequency:c.writeFrequency.HIGH,clientStorageAllowed:false};if(s){A.validity=s.validity;if(A.validity===null||A.validity===undefined||typeof A.validity!=="number"){A.validity=Infinity;}if(!(typeof A.validity==="number"&&((A.validity>=0&&A.validity<1000)||A.validity===Infinity))){A.liftime=Infinity;}A.keyCategory=a(s.keyCategory,c.keyCategory)?s.keyCategory:A.keyCategory;A.writeFrequency=a(s.writeFrequency,c.writeFrequency)?s.writeFrequency:A.writeFrequency;if(typeof s.clientStorageAllowed==="boolean"&&(s.clientStorageAllowed===true||s.clientStorageAllowed===false)){A.clientStorageAllowed=s.clientStorageAllowed;}}if(A.validity===0&&L){A.validity=1440;}return A;}function l(A){if(!A.lazy){return q.when(A.instance);}try{return A.create.call(null);}catch(e){return new q.Deferred().reject(e).promise();}}function g(C){if(!C){return false;}var A=C.getManifestObject();if(!A){return false;}var s=A.getEntry("/sap.ui5/appVariantId");if(!s){return false;}var e=A.getComponentName();if(s===e){return false;}return true;}function h(o){if(o===undefined){return undefined;}try{return JSON.parse(o);}catch(e){return undefined;}}function j(o){if(o===undefined){return undefined;}try{return JSON.parse(JSON.stringify(o));}catch(e){return undefined;}}return{adjustScope:f,cloneToObject:h,clone:j,addContainerPrefix:b,pickAdapter:d,isAppVariant:g,loadAdapter:l,isLaunchpadReload:i};});
sap.ui.predefine('sap/ushell/services/_Ui5ComponentLoader/utils',["sap/ui/thirdparty/jquery","sap/base/util/UriParameters","sap/ui/core/util/AsyncHintsHelper","sap/base/Log"],function(q,U,a,L){"use strict";var i=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getLogonSystem().getPlatform()==="abap";var O={name:"core-ext-light",count:4,debugName:"core-ext-light",path:i?"sap/ushell_abap/bootstrap/evo/":"sap/fiori/"};function c(C,t){var D=new q.Deferred();C.componentData=t;C.async=true;sap.ui.component(C).then(function(w){D.resolve(w);},function(E){D.reject(E);});return D.promise();}function s(S){var A=(S&&S.hasOwnProperty("amendedLoading"))?S.amendedLoading:true;return A;}function b(A){var t=true;if(A.hasOwnProperty("loadCoreExt")){t=A.loadCoreExt;}return t;}function d(A,S,t){var w=true;if(A.hasOwnProperty("loadDefaultDependencies")){w=A.loadDefaultDependencies;}if(S&&S.hasOwnProperty("loadDefaultDependencies")){w=w&&S.loadDefaultDependencies;}w=w&&t;return w;}function e(P){var S=P.semanticObject||null;var A=P.action||null;if(!S||!A){return null;}return"application-"+S+"-"+A+"-component";}function u(t){return t&&t.indexOf("?")>=0;}function r(t){var w=new RegExp("[/]~[\\w-]+~[A-Z0-9]?");return t.replace(w,"");}function f(t){if(!t){return t;}var I=t.indexOf("?");if(I>=0){return t.slice(0,I);}return t;}function g(){return q.sap.isDeclared("sap.fiori.core",true)||q.sap.isDeclared("sap.fiori.core-ext-light",true);}function l(A,E,t,w,C){var x="The issue is most likely caused by application "+A,y="Failed to load UI5 component with properties: '"+C+"'.";if(w){y+=" Error likely caused by:\n"+w;}else{y+=" Error: '"+E+"'";}if(t==="parsererror"){x+=", as one or more of its resources could not be parsed";}x+=". Please create a support incident and assign it to the support component of the respective application.";L.error(x,y,A);}function h(t){var P=new U(t||window.location.href).mParams,x=P["sap-xapp-state"],R;delete P["sap-xapp-state"];R={startupParameters:P};if(x){R["sap-xapp-state"]=x;}return R;}function j(A,M){if(!Array.isArray(M)){return;}M.forEach(function(t){var S=String.prototype.toLowerCase.call(t.severity||"");S=["trace","debug","info","warning","error","fatal"].indexOf(S)!==-1?S:"error";L[S](t.text,t.details,A);});}function p(C){var B,t={name:"CoreResourcesComplement"};if(v(C)){B=C;}else{B=O;}if(window["sap-ui-debug"]===true){t.aResources=[B.path+B.debugName+".js"];}else{t.aResources=k(B.name,B.path,B.count);}return t;}function k(B,P,R){var t=arguments[3]||[],w=P;if(typeof B!=="string"||typeof w!=="string"||typeof R!=="number"){L.error("Ui5ComponentLoader: _buildBundleResourcesArray called with invalid arguments");return null;}if(w.substr(-1)!=="/"){w+="/";}if(R===1){t.push(w+B+".js");}if(t.length>=R){return t;}t.push(w+B+"-"+t.length+".js");return k(B,w,R,t);}function v(C){var t=true;if(!C){return false;}if(!C.name||typeof C.name!=="string"){L.error("Ui5ComponentLoader: Configured CoreResourcesComplement Bundle has incorrect 'name' property");t=false;}if(!C.count||typeof C.count!=="number"){L.error("Ui5ComponentLoader: Configured CoreResourcesComplement Bundle has incorrect 'count' property");t=false;}if(!C.debugName||typeof C.debugName!=="string"){L.error("Ui5ComponentLoader: Configured CoreResourcesComplement Bundle has incorrect 'debugName' property");t=false;}if(!C.path||typeof C.path!=="string"){L.error("Ui5ComponentLoader: Configured CoreResourcesComplement Bundle has incorrect 'path' property");t=false;}return t;}function m(B){if(!B||!Array.isArray(B.aResources)||!B.name){L.error("Ui5ComponentLoader: loadBundle called with invalid arguments");return null;}var P=[],D=new q.Deferred();B.aResources.forEach(function(R){P.push(q.sap._loadJSResourceAsync(R));});Promise.all(P).then(function(){D.resolve();}).catch(function(){L.error("Ui5ComponentLoader: failed to load bundle: "+B.name);D.reject();});return D.promise();}function n(A,t,N,w,x,y,C,z,B){var D=q.extend(true,{},x);if(!D.asyncHints){D.asyncHints=t?{libs:["sap.ca.scfld.md","sap.ca.ui","sap.me","sap.ui.unified"]}:{};}if(A){D.asyncHints.preloadBundles=D.asyncHints.preloadBundles||[];D.asyncHints.preloadBundles=D.asyncHints.preloadBundles.concat(B.aResources);}if(w){D.asyncHints.waitFor=w;}if(!D.name){D.name=y;}if(C){D.url=f(C);}if(z){D.id=z;}if(N&&D.asyncHints){a.modifyUrls(D.asyncHints,r);}return D;}function o(B,C,A,t){var w=q.extend(true,{startupParameters:{}},B);if(A){w.config=A;}if(t){w.technicalParameters=t;}if(u(C)){var x=h(C);w.startupParameters=x.startupParameters;if(x["sap-xapp-state"]){w["sap-xapp-state"]=x["sap-xapp-state"];}}return w;}return{constructAppComponentId:e,getParameterMap:h,isCoreExtAlreadyLoaded:g,logAnyApplicationDependenciesMessages:j,logInstantiateComponentError:l,shouldLoadCoreExt:b,shouldLoadDefaultDependencies:d,shouldUseAmendedLoading:s,urlHasParameters:u,removeParametersFromUrl:f,createUi5Component:c,prepareBundle:p,loadBundle:m,createComponentProperties:n,createComponentData:o,buildBundleResourcesArray:k};},false);
sap.ui.predefine('sap/ushell/ui/footerbar/AddBookmarkButton',["sap/base/Log","sap/m/Button","sap/m/ButtonRenderer","sap/m/Dialog","sap/m/library","sap/m/MessageBox","sap/m/Text","sap/m/VBox","sap/ui/core/library","sap/ui/core/mvc/View","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/library","sap/ushell/resources"],function(L,B,a,D,m,M,T,V,c,b,d,J,C,u,r){"use strict";var e=m.ButtonType;var f=c.ValueState;var g=c.mvc.ViewType;var A=B.extend("sap.ushell.ui.footerbar.AddBookmarkButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"function",group:"Misc",defaultValue:null},afterPressHandler:{type:"any",group:"Misc",defaultValue:null},title:{type:"string",group:"Misc",defaultValue:null},subtitle:{type:"string",group:"Misc",defaultValue:null},info:{type:"string",group:"Misc",defaultValue:null},tileIcon:{type:"string",group:"Appearance",defaultValue:null},numberUnit:{type:"string",group:"Appearance",defaultValue:null},keywords:{type:"string",group:"Misc",defaultValue:null},customUrl:{type:"any",group:"Misc",defaultValue:null},serviceUrl:{type:"any",group:"Misc",defaultValue:null},serviceRefreshInterval:{type:"string",group:"Misc",defaultValue:null},showGroupSelection:{type:"boolean",group:"Misc",defaultValue:true},showPageSelection:{type:"boolean",group:"Misc",defaultValue:true},appData:{type:"object",group:"Misc",defaultValue:null}}},renderer:"sap.m.ButtonRenderer"});A.prototype.init=function(){if(B.prototype.init){B.prototype.init.apply(this,arguments);}this.setIcon("sap-icon://add-favorite");this.setText(r.i18n.getText("addToHomePageBtn"));this.setEnabled();this.bSpaceEnabled=C.last("/core/spaces/enabled");this.oModel=new J({showGroupSelection:true,showPageSelection:true,title:"",subtitle:"",numberValue:0,info:"",icon:"",numberUnit:"",keywords:""});this.attachPress(function(){var h=this.getBeforePressHandler();if(h){h();}this.showAddBookmarkDialog();}.bind(this));};A.prototype.exit=function(){if(this.oDialog){this.oDialog.destroy();}if(this.oModel){this.oModel.destroy();}if(B.prototype.exit){B.prototype.exit.apply(this,arguments);}};A.prototype.setBookmarkTileView=function(v){this.bookmarkTileView=v;};A.prototype.getBookmarkTileView=function(){return this.bookmarkTileView;};A.prototype.showAddBookmarkDialog=function(){var o=this.getAppData()||{};var v={serviceUrl:this.getServiceUrl()||o.serviceUrl,customUrl:this.getCustomUrl()||o.customUrl};this.oModel.setProperty("/serviceUrl",!!v.serviceUrl);var h;if(this.bSpaceEnabled){h=b.create({type:g.XML,viewName:"sap.ushell.ui.bookmark.SaveOnPage",viewData:v});}else{h=b.create({type:g.JS,viewName:"sap.ushell.ui.footerbar.SaveAsTile",viewData:v});}return h.then(function(i){this.setBookmarkTileView(i);i.setModel(this.oModel);return new Promise(function(j,k){sap.ui.require(["sap/ui/layout/form/SimpleForm","sap/ui/layout/form/SimpleFormLayout"],function(S,l){this.oSimpleForm=new S({id:"bookmarkFormId",layout:l.ResponsiveGridLayout,content:[i],editable:true}).addStyleClass("sapUshellAddBookmarkForm");j(this._openDialog(this.oSimpleForm));}.bind(this));}.bind(this));}.bind(this));};A.prototype._openDialog=function(o){this.oDialog=new D({id:"bookmarkDialog",title:r.i18n.getText("addToHomePageBtn"),contentWidth:"25rem",content:o,beginButton:new B("bookmarkOkBtn",{text:r.i18n.getText("okBtn"),type:e.Emphasized,press:[this._handleOKButtonPress,this]}),endButton:new B("bookmarkCancelBtn",{text:r.i18n.getText("cancelBtn"),press:[this._handleCancelButtonPress,this]}),stretch:d.system.phone,horizontalScrolling:false,afterClose:function(){var h=this.getAfterPressHandler();if(h){h();}this._restoreDialogEditableValuesToDefault();this.oDialog.destroy();delete this.oDialog;}.bind(this)}).addStyleClass("sapContrastPlus");this.oDialog.open();return this.oDialog;};A.prototype._handleOKButtonPress=function(){if(this.bSpaceEnabled){this._handleOKButtonPressSpacesMode();}else{this._handleOKButtonPressClassicMode();}};A.prototype._handleCancelButtonPress=function(){if(this.bSpaceEnabled){this._handleCancelButtonPressSpacesMode();}else{this._handleCancelButtonPressClassicMode();}};A.prototype.setTitle=function(t){this.setProperty("title",t,true);this.oModel.setProperty("/title",t);return this;};A.prototype.setSubtitle=function(s){this.setProperty("subtitle",s,true);this.oModel.setProperty("/subtitle",s);return this;};A.prototype.setInfo=function(i){this.setProperty("info",i,true);this.oModel.setProperty("/info",i);return this;};A.prototype.setTileIcon=function(i){this.setProperty("tileIcon",i,true);this.oModel.setProperty("/icon",i);return this;};A.prototype.setShowGroupSelection=function(s){this.setProperty("showGroupSelection",s,true);this.oModel.setProperty("/showGroupSelection",s);return this;};A.prototype.setNumberUnit=function(n){this.setProperty("numberUnit",n,true);this.oModel.setProperty("/numberUnit",n);return this;};A.prototype.setServiceRefreshInterval=function(s){this.setProperty("serviceRefreshInterval",s,true);this.oModel.setProperty("/serviceRefreshInterval",s);return this;};A.prototype.setKeywords=function(k){this.setProperty("keywords",k,true);this.oModel.setProperty("/keywords",k);return this;};A.prototype.setAppData=function(o){this.setProperty("appData",o,true);var h=["showGroupSelection","title","subtitle","info","icon","numberUnit","keywords","serviceRefreshInterval"];var i=["showInfo","showPreview"];Object.keys(o).forEach(function(k){if(h.indexOf(k)>-1){var p=k==="icon"?"tileIcon":k;this.setProperty(p,o[k],true);}if(h.indexOf(k)>-1||i.indexOf(k)>-1){this.oModel.setProperty("/"+k,o[k]);}}.bind(this));return this;};A.prototype._restoreDialogEditableValuesToDefault=function(){if(this.oModel){this.oModel.setProperty("/title",this.getTitle());this.oModel.setProperty("/subtitle",this.getSubtitle());this.oModel.setProperty("/info",this.getInfo());}};A.prototype._handleCancelButtonPressSpacesMode=function(){var o=this.getBookmarkTileView().getController();var h=o.getBookmarkTileData();if(h.title||h.subtitle||h.info||h.pages.length){var s=r.i18n.getText("SaveAsTileDialog.MessageBox.Action.Discard");var i=r.i18n.getText("SaveAsTileDialog.MessageBox.Message.Discard");var t=r.i18n.getText("SaveAsTileDialog.MessageBox.Title.Discard");M.show(i,{title:t,actions:[s,M.Action.CANCEL],emphasizedAction:s,onClose:function(R){if(R===s){this.oDialog.close();}}.bind(this)});}else{this.oDialog.close();}};A.prototype._handleOKButtonPressSpacesMode=function(){var o=this.getBookmarkTileView().getController();var h=o.getBookmarkTileData();var v=true;if(h.pages.length===0){var p=o.byId("pageSelect");if(p){p.setValueState(f.Error);p.setValueStateText(r.i18n.getText("bookmarkPageSelectError"));v=false;}}if(!h.title||h.title.length<1){var t=o.byId("bookmarkTitleInput");if(t){t.setValueState(f.Error);t.setValueStateText(r.i18n.getText("bookmarkTitleInputError"));v=false;}}if(!v){return;}this.oDialog.setBusy(true);var i=h.pages;delete h.pages;var j=sap.ushell.Container.getServiceAsync("Bookmark");var k=i.map(function(P){return j.then(function(l){return l.addBookmarkToPage(h,P);}).then(function(){return{pageId:P,status:"resolved"};}).catch(function(s){L.error("Failed to add one a bookmark: ",s,"sap.ushell.ui.footerbar.AddBookmarkButton");return{pageId:P,error:s,status:"failed"};});});Promise.all(k).then(function(R){sap.ushell.Container.getServiceAsync("Message").then(function(l){var s=R.filter(function(n){return n.status==="resolved";}).length;var F=R.filter(function(n){return n.status==="failed";});if(s===1){l.info(r.i18n.getText("SaveAsTileDialog.MessageToast.TileCreatedInPage"));}else if(s>1){l.info(r.i18n.getText("SaveAsTileDialog.MessageToast.TileCreatedInPages"));}if(F.length){this._showErrorDialog(F,s,h.title);}this.oDialog.setBusy(false);this.oDialog.close();}.bind(this));}.bind(this));};A.prototype._showErrorDialog=function(h,n,i){sap.ushell.Container.getServiceAsync("Message").then(function(o){var E,s;if(h.length===1){if(n===0){E=r.i18n.getText("SaveAsTileDialog.MessageBox.SinglePageError");}else{E=r.i18n.getText("SaveAsTileDialog.MessageBox.OnePageError");}s=r.i18n.getText("SaveAsTileDialog.MessageBox.PageErrorDetail",[i,h[0].pageId]);}else if(h.length>1){if(n===0){E=r.i18n.getText("SaveAsTileDialog.MessageBox.AllPagesError");}else{E=r.i18n.getText("SaveAsTileDialog.MessageBox.SomePagesError");}var p=h.map(function(F){return F.pageId;}).join("\n");s=r.i18n.getText("SaveAsTileDialog.MessageBox.PagesErrorDetail",[i,p]);}var j=new V({items:[new T({text:s}).addStyleClass("sapUiSmallMarginBottom"),new T({text:h.map(function(F){return F.error;}).join("\n")}).addStyleClass("sapUiSmallMarginBottom"),new T({text:r.i18n.getText("SaveAsTileDialog.MessageBox.PageErrorSolution")})]});o.errorWithDetails(E,j);});};A.prototype._handleCancelButtonPressClassicMode=function(){this.oDialog.close();};A.prototype._handleOKButtonPressClassicMode=function(){var o=this.getBookmarkTileView();var h=o.getController();var i=h.getBookmarkTileData();if(!i.title||i.title.length<1){var t=o.getTitleInput();if(t){t.setValueState(f.Error);t.setValueStateText(r.i18n.getText("bookmarkTitleInputError"));return Promise.reject();}}this.oDialog.setBusy(true);var s=i.group?i.group.object:"";delete i.group;return Promise.all([sap.ushell.Container.getServiceAsync("Bookmark"),sap.ushell.Container.getServiceAsync("Message")]).then(function(R){var j=R[0];var k=R[1];return new Promise(function(l,n){j.addBookmark(i,s).done(l).fail(n);}).then(function(){k.info(r.i18n.getText("tile_created_msg"));}).catch(function(l){L.error("Failed to add bookmark",l,"sap.ushell.ui.footerbar.AddBookmarkButton");k.error(r.i18n.getText("fail_to_add_tile_msg"));});}).finally(function(){this.oDialog.setBusy(false);this.oDialog.close();}.bind(this));};A.prototype.setEnabled=function(E){var s="",p=true,S;if(sap.ushell.renderers&&sap.ushell.renderers.fiori2&&sap.ushell.renderers.fiori2.RendererExtensions){S=sap.ushell.renderers.fiori2.RendererExtensions.getConfiguration();if(S.appState){s=S.appState;}if(S.enablePersonalization!==undefined){p=S.enablePersonalization;}}if(s==="headerless"||s==="standalone"||s==="embedded"||s==="merged"||!p){E=false;}if(!sap.ushell.Container){if(this.getEnabled()){L.warning("Disabling 'Save as Tile' button: unified shell container not initialized",null,"sap.ushell.ui.footerbar.AddBookmarkButton");}E=false;}B.prototype.setEnabled.call(this,E);if(!E){this.addStyleClass("sapUshellAddBookmarkButton");}};return A;});
sap.ui.predefine('sap/ushell/ui/footerbar/SendAsEmailButton',["sap/base/Log","sap/m/Button","sap/m/ButtonRenderer","sap/ushell/Config","sap/ushell/resources"],function(L,B,a,C,r){"use strict";var S=B.extend("sap.ushell.ui.footerbar.SendAsEmailButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"any",group:"Misc",defaultValue:null},afterPressHandler:{type:"any",group:"Misc",defaultValue:null}}},renderer:"sap.m.ButtonRenderer"});S.prototype.init=function(){if(B.prototype.init){B.prototype.init.apply(this,arguments);}this.setIcon("sap-icon://email");this.setText(r.i18n.getText("sendEmailBtn"));this.setTooltip(r.i18n.getText("sendEmailBtn_tooltip"));this.attachPress(function(){if(this.getBeforePressHandler()){this.getBeforePressHandler()();}this.sendAsEmailPressed(this.getAfterPressHandler());}.bind(this));};S.prototype.sendAsEmailPressed=function(c){if(sap.ushell.Container.inAppRuntime()){sap.ui["require"](["sap/ushell/appRuntime/ui5/AppRuntimeService"],function(b){b.sendMessageToOuterShell("sap.ushell.services.ShellUIService.sendEmailWithFLPButton",{bSetAppStateToPublic:true});});}else{var u=document.URL;var A=C.last("/core/shellHeader/application").title;var s=(A===undefined)?r.i18n.getText("linkToApplication"):r.i18n.getText("linkTo")+" '"+A+"'";sap.ushell.Container.getServiceAsync("AppState").then(function(o){o.setAppStateToPublic(u).done(function(n){sap.m.URLHelper.triggerEmail(null,s,n);}).fail(L.error);});}if(c){c();}};return S;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/ActionItem',["sap/m/Button","sap/m/ButtonRenderer","sap/m/library"],function(B,a,m){"use strict";var b=m.ButtonType;var A=B.extend("sap.ushell.ui.launchpad.ActionItem",{metadata:{library:"sap.ushell",properties:{actionType:{type:"string",group:"Appearance",defaultValue:"standard"}},events:{press:{},afterRendering:{}}},renderer:"sap.m.ButtonRenderer"});A.prototype.setActionType=function(t){if(!this.sOrigType){this.sOrigType=this.getType();}this.setType(t==="action"?b.Unstyled:this.sOrigType||b.Standard);this.setProperty("actionType",t,true);};return A;});
sap.ui.predefine('sap/ushell/ui/utils',["sap/ushell/EventHub","sap/ui/thirdparty/jquery"],function(E,q){"use strict";function s(e){var r=new q.Deferred(),w,c,t=0,f=0,a=0,p=[],b=[],d,A={refresh:false};function o(h){if(h&&h.refresh===true){A.refresh=true;}a++;r.notify();}function g(h){b.push({entry:d,message:h});f++;r.notify();}var u=E.last("UserSettingsOpened")||{};Object.keys(u).forEach(function(i){var I=parseInt(i,10);c=e[I].onSave();c.done(o);d=e[I].title;c.fail(g);p.push(c);t++;});w=q.when.apply(null,p);w.done(function(){E.emit("UserSettingsOpened",null);r.resolve(A);});r.progress(function(){if(f>0&&(f+a===t)){r.reject(b);}});return r.promise();}return{saveUserPreferenceEntries:s};});
sap.ui.predefine('sap/ushell/ui5service/UserStatus',["sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","sap/ui/base/EventProvider"],function(S,a,b,E){"use strict";var O={statusChanged:"statusChanged",serviceStateChanged:"serviceStateChanged"};var U=b.extend("sap.ushell.ui5service.UserStatus",{init:function(){U.prototype.isEnabled=false;S.register("sap.ushell.ui5service.UserStatus",new a(U));this.oEventProvider=new E();U.prototype.AvailableStatus={AVAILABLE:"AVAILABLE",AWAY:"AWAY",BUSY:"BUSY",APPEAR_OFFLINE:"APPEAR_OFFLINE"};},exit:function(){this.oEventProvider.destroy();}});U.prototype.setEnabled=function(e){this.oEventProvider.fireEvent(O.serviceStateChanged,{data:e});U.prototype.isEnabled=e;return;};U.prototype.setStatus=function(n){if(!U.prototype.isEnabled){throw new Error("Unable to change status because the UserStatus service is disabled.");}if(!U.prototype.AvailableStatus[n]&&n!==null){throw new Error("Enter a valid status.");}this.oEventProvider.fireEvent(O.statusChanged,{data:n});};U.prototype.attachStatusChanged=function(f){this.oEventProvider.attachEvent(O.statusChanged,f);};U.prototype.detachStatusChanged=function(f){this.oEventProvider.detachEvent(O.statusChanged,f);};return U;});
sap.ui.predefine('sap/ushell/ui5service/_ShellUIService/shelluiservice.class.factory',["sap/ui/base/EventProvider","sap/ui/thirdparty/hasher","sap/base/util/isPlainObject","sap/base/util/Version"],function(E,h,i,V){"use strict";return function(s){var S=s.serviceRegistry,a=s.serviceFactory,b=s.service;var l;var e=new E();var O={hierarchyChanged:"hierarchyChanged",relatedAppsChanged:"relatedAppsChanged",titleChanged:"titleChanged",backNavigationChanged:"backNavigationChanged"};var A;var c=b.extend("sap.ushell.ui5service.ShellUIService",{init:function(){var t=this,p=this.getInterface();p.init=function(){t._amendPublicServiceInstance.call(t,this);};S.register("sap.ushell.ui5service.ShellUIService",new a(p));},_setActiveComponentId:function(I){A=I;},_getActiveComponentId:function(){return A;},_shouldEnableAutoHierarchy:function(o){return typeof o.getManifestEntry==="function"&&o.getManifestEntry("/sap.ui5/services/ShellUIService/settings/setHierarchy")==="auto";},_shouldEnableAutoTitle:function(o){return typeof o.getManifestEntry==="function"&&o.getManifestEntry("/sap.ui5/services/ShellUIService/settings/setTitle")==="auto";},_enableAutoHierarchy:function(o){var t=this;var r=o.getRouter&&o.getRouter();if(!r){jQuery.sap.log.error("Could not enable automatic setHierarchy on the current app","Router could not be obtained on the app root component via getRouter","sap.ushell.ui5service.ShellUIService");return;}r.attachTitleChanged(function(d){var H=d.getParameter("history");t.setHierarchy(H.reverse().map(function(u){var f=t._getCurrentShellHashWithoutAppRoute();return{title:u.title,intent:f+"&/"+u.hash};}));});},_enableAutoTitle:function(o){var t=this;var r=o.getRouter&&o.getRouter();if(!r){jQuery.sap.log.error("Could not enable automatic setTitle on the current app","Router could not be obtained on the app root component via getRouter","sap.ushell.ui5service.ShellUIService");return;}var T=r.getTitleHistory()[0];if(T&&T.title){setTimeout(function(){t.setTitle(T.title);},0);}r.attachTitleChanged(function(d){var f=d.getParameter("title");t.setTitle(f);});},_getCurrentShellHashWithoutAppRoute:function(){var f="#"+h.getHash();var u=sap.ushell.Container.getService("URLParsing");var U=u.getShellHash(f);if(!U){jQuery.sap.log.error("Cannot get the current shell hash","URLParsing service returned a falsy value for "+f,"sap.ushell.ui5service.ShellUIService");return"";}return"#"+U;},_getEventProvider:function(){return e;},_getLastSetTitle:function(){return l;},_ensureArrayOfObjectOfStrings:function(v,m){var d=Array.isArray(v)&&v.every(function(o){return i(o)&&Object.keys(o).length>0&&Object.keys(o).every(function(k){return typeof o[k]==="string";});});if(!d){jQuery.sap.log.error("'"+m+"' was called with invalid parameters","An array of non-empty objects with string values is expected","sap.ushell.ui5service.ShellUIService");}return d;},_ensureFunction:function(v,m){var t=typeof v;if(t!=="function"){jQuery.sap.log.error("'"+m+"' was called with invalid arguments","the parameter should be a function, got '"+t+"' instead","sap.ushell.ui5service.ShellUIService");return false;}return true;},_ensureString:function(v,m){var t=typeof v;if(t!=="string"){jQuery.sap.log.error("'"+m+"' was called with invalid arguments","the parameter should be a string, got '"+t+"' instead","sap.ushell.ui5service.ShellUIService");return false;}return true;},_addCallAllowedCheck:function(p,P){var t=this;p[P]=function(){var C=p.getContext();if(!C||C.scopeObject.getId()!==A){jQuery.sap.log.warning("Call to "+P+" is not allowed","This may be caused by an app component other than the active '"+A+"' that tries to call the method","sap.ushell.ui5service.ShellUIService");return undefined;}if(P==="setHierarchy"&&C.scopeType==="component"&&C.scopeObject&&t._shouldEnableAutoHierarchy(C.scopeObject)){jQuery.sap.log.warning("Call to "+P+" is not allowed","The app defines that setHierarchy should be called automatically","sap.ushell.ui5service.ShellUIService");return undefined;}if(P==="setTitle"&&C.scopeType==="component"&&C.scopeObject&&t._shouldEnableAutoTitle(C.scopeObject)){jQuery.sap.log.warning("Call to "+P+" is not allowed","The app defines that setTitle should be called automatically","sap.ushell.ui5service.ShellUIService");return undefined;}return t[P].apply(p,arguments);};},_amendPublicServiceInstance:function(p){var t=this,C;C=p.getContext();if(typeof C==="undefined"){return;}["setTitle","setHierarchy","setRelatedApps","setBackNavigation"].forEach(function(m){t._addCallAllowedCheck(p,m);});var o=C.scopeObject;if(C.scopeType==="component"&&o){this._setActiveComponentId(o.getId());if(this._shouldEnableAutoHierarchy(o)){this._enableAutoHierarchy(o);}if(this._shouldEnableAutoTitle(o)){this._enableAutoTitle(o);}return;}jQuery.sap.log.error("Invalid context for ShellUIService interface","The context must be empty or an object like { scopeType: ..., scopeObject: ... }","sap.ushell.ui5service.ShellUIService");},setHierarchy:function(H){if(typeof H!=="undefined"&&!c.prototype._ensureArrayOfObjectOfStrings(H,"setHierarchy")){return;}var C=this.getContext().scopeObject;e.fireEvent(O.hierarchyChanged,{data:H,component:C});},setTitle:function(t){if(typeof t!=="undefined"&&!c.prototype._ensureString(t,"setTitle")){return;}var C=this.getContext().scopeObject;l=t;e.fireEvent(O.titleChanged,{data:t,component:C});},setBackNavigation:function(C){if(typeof C!=="undefined"&&!c.prototype._ensureFunction(C,"setBackNavigation")){return;}var o=this.getContext().scopeObject;e.fireEvent(O.backNavigationChanged,{data:C,component:o});},getTitle:function(){return this._getLastSetTitle();},setRelatedApps:function(r){if(typeof r!=="undefined"&&!c.prototype._ensureArrayOfObjectOfStrings(r,"setRelatedApps")){return;}var C=this.getContext().scopeObject;e.fireEvent(O.relatedAppsChanged,{data:r,component:C});},getUxdVersion:function(){if((new V(sap.ui.version).compareTo("1.37.0"))>=0){return 2;}return 1;},_attachHierarchyChanged:function(f){this._getEventProvider().attachEvent(O.hierarchyChanged,f);},_detachHierarchyChanged:function(f){this._getEventProvider().detachEvent(O.hierarchyChanged,f);},_attachTitleChanged:function(f){this._getEventProvider().attachEvent(O.titleChanged,f);},_attachBackNavigationChanged:function(f){this._getEventProvider().attachEvent(O.backNavigationChanged,f);},_detachBackNavigationChanged:function(f){this._getEventProvider().detachEvent(O.backNavigationChanged,f);},_detachTitleChanged:function(f){this._getEventProvider().detachEvent(O.titleChanged,f);},_attachRelatedAppsChanged:function(f){this._getEventProvider().attachEvent(O.relatedAppsChanged,f);},_detachRelatedAppsChanged:function(f){this._getEventProvider().detachEvent(O.relatedAppsChanged,f);}});return c;};});
sap.ui.predefine('sap/ushell/utils',["sap/base/util/UriParameters","sap/base/util/uid","sap/base/util/ObjectPath","sap/ui/thirdparty/URI","sap/ushell/utils/clone","sap/ushell/utils/type","sap/ushell/utils/objectOperations","sap/ui/Device","sap/base/Log"],function(U,u,O,b,c,t,o,D,L){"use strict";var d={};d.isArray=t.isArray;d.isPlainObject=t.isPlainObject;d.isDefined=t.isDefined;d.clone=c;d.getMember=o.getMember;d.updateProperties=o.updateProperties;d.getNestedObjectProperty=o.getNestedObjectProperty;d.removeDuplicatedActions=function(a){if(Array.isArray(a)){var f=a.reduce(function(r,i){if(r.indexOf(i)<0){r.push(i);}return r;},[]);return f;}return a;};d.storeSapSystemData=function(s,S){var k,l,a,f=[s.id];if(arguments.length>1){f.unshift(S);}try{a=JSON.stringify(s);}catch(e){L.error("Cannot stringify and store expanded system data: "+e);}if(a){l=d.getLocalStorage();k=d.generateLocalStorageKey("sap-system-data",f);l.setItem(k,a);}};d.getLocalSystemInSidFormat=function(){var s=sap.ushell.Container.getLogonSystem(),S=s.getName(),a=s.getClient();return"sid("+S+"."+a+")";};d.matchesLocalSid=function(s){return d.getLocalSystemInSidFormat().toLowerCase()===s.toLowerCase();};d.storeSapSystemToLocalStorage=function(a){var p=(a||{}).params;if(!p||!p.hasOwnProperty("sap-system")){return;}if(d.isPlainObject(p["sap-system"])){var s=p["sap-system"],S=p["sap-system-src"];if(typeof S==="string"){d.storeSapSystemData(s,S);p["sap-system-src"]=S;}else{d.storeSapSystemData(s);}p["sap-system"]=s.id;}else if(d.matchesLocalSid(p["sap-system"])){delete p["sap-system"];}};d.setPerformanceMark=function(m,C){if(performance&&performance.mark){if(!C){C={};}if(C.bUseUniqueMark){if(C.bUseLastMark){performance.clearMarks(m);}else if(performance.getEntriesByName(m,"mark").length!=0){return;}}performance.mark(m);}};d.setPerformanceMeasure=function(m,s,e){if(performance&&performance.measure&&s&&e){performance.measure(m,s,e);}};d.Error=function(m,C){this.name="sap.ushell.utils.Error";this.message=m;L.error(m,null,C);};d.Error.prototype=new Error();d.localStorageSetItem=function(k,v,l){var E;try{localStorage.setItem(k,v);if(l){E=document.createEvent("StorageEvent");E.initStorageEvent("storage",false,false,k,"",v,"",localStorage);dispatchEvent(E);}}catch(e){L.warning("Error calling localStorage.setItem(): "+e,null,"sap.ushell.utils");}};d.getLocalStorage=function(){return window.localStorage;};d.getLocalStorageItem=function(k){return window.localStorage.getItem(k);};d.generateUniqueId=function(T){var s,e,i;if(Array.isArray(T)){e=T;i=function(g){return e.indexOf(g)===-1;};}else{i=T;}do{s=d._getUid();}while(!i(s));return s;};d._getUid=function(){return u();};d.reload=function(){location.reload();};d.calculateOrigin=function(a){var e;if(a.origin){return a.origin;}if(a.protocol&&a.hostname){return a.protocol+"//"+a.hostname+(a.port?":"+a.port:"");}if(a.href){e=new b(a.href);return e.protocol()+"://"+e.hostname()+(e.port()?":"+e.port():"");}};d.getPrivateEpcm=function(){if(window.external&&window.external&&typeof window.external.getPrivateEpcm!=="undefined"){return window.external.getPrivateEpcm();}return undefined;};d.hasNativeNavigationCapability=function(){return d.isFeatureBitEnabled(1);};d.hasNativeLogoutCapability=function(){return d.isFeatureBitEnabled(2);};d.hasNavigationModeCapability=function(){return d.isFeatureBitEnabled(4);};d.hasFLPReadyNotificationCapability=function(){return d.isFeatureBitEnabled(8);};d.hasFLPReady2NotificationCapability=function(){return d.isFeatureBitEnabled(16);};d.isFeatureBitEnabled=function(f){var F="0",p;p=d.getPrivateEpcm();if(p){try{F=p.getNwbcFeatureBits();L.debug("Detected epcm getNwbcFeatureBits returned feature bits: "+F);}catch(e){L.error("failed to get feature bit vector via call getNwbcFeatureBits on private epcm object",e.stack,"sap.ushell.utils");}}return(parseInt(F,16)&f)>0;};d.isApplicationTypeEmbeddedInIframe=function(a){return a==="NWBC"||a==="TR"||a==="WCF";};d.appendUserIdToUrl=function(p,s){var a=sap.ushell.Container.getService("UserInfo").getUser().getId(),S=s.indexOf("?")>=0?"&":"?";return s+S+p+"="+a;};d.appendSapShellParam=function(s,a){var e=a==="TR"?"":"-NWBC",v=d.getUi5Version();if(v){s+=s.indexOf("?")>=0?"&":"?";s+="sap-shell="+encodeURIComponent("FLP"+v+e);}return s;};d.getUi5Version=function(){var v,m;try{v=sap.ui.getVersionInfo().version;}catch(e){L.error("sap ui version could not be determined, using sap.ui.version (core version) as fallback "+e);v=window.sap&&sap.ui&&sap.ui.version;}m=/\d+\.\d+\.\d+/.exec(v);if(m&&m[0]){v=m[0];}else{v=undefined;}return v;};d.isNativeWebGuiNavigation=function(r){var a=O.get("applicationType",r);var n=O.get("appCapabilities.nativeNWBCNavigation",r);if(this.hasNativeNavigationCapability()&&(a==="TR"||n)){return true;}return false;};d.Map=function(){this.entries={};};d.Map.prototype.put=function(k,v){var a=this.get(k);this.entries[k]=v;return a;};d.Map.prototype.containsKey=function(k){if(typeof k!=="string"){throw new d.Error("Not a string key: "+k,"sap.ushell.utils.Map");}return Object.prototype.hasOwnProperty.call(this.entries,k);};d.Map.prototype.get=function(k){if(this.containsKey(k)){return this.entries[k];}};d.Map.prototype.keys=function(){return Object.keys(this.entries);};d.Map.prototype.remove=function(k){delete this.entries[k];};d.Map.prototype.toString=function(){var r=["sap.ushell.utils.Map("];r.push(JSON.stringify(this.entries));r.push(")");return r.join("");};d.getParameterValueBoolean=function(p,P){var a=U.fromQuery(P||window.location.search),A=a.getAll(p),T=["true","x"],f=["false",""],v;if(!A||A.length===0){return undefined;}v=A[0].toLowerCase();if(T.indexOf(v)>=0){return true;}if(f.indexOf(v)>=0){return false;}return undefined;};d.call=function(s,f,a){var m;if(a){setTimeout(function(){d.call(s,f,false);},0);return;}try{s();}catch(e){m=e.message||e.toString();L.error("Call to success handler failed: "+m,e.stack,"sap.ushell.utils");if(f){f(m);}}};d.handleTilesVisibility=function(){d.getVisibleTiles();};d.refreshTiles=function(){sap.ui.getCore().getEventBus().publish("launchpad","refreshTiles");};d.setTilesNoVisibility=function(){sap.ui.getCore().getEventBus().publish("launchpad","setTilesNoVisibility");};d.getBasicHash=function(h){if(!d.validHash(h)){L.debug("Utils ; getBasicHash ; Got invalid hash");return false;}var a=sap.ushell.Container.getService("URLParsing"),s=a.parseShellHash(h);return s?s.semanticObject+"-"+s.action:h;};d.validHash=function(h){return(h&&h.constructor===String&&jQuery.trim(h)!=="");};d.getCurrentHiddenGroupIds=function(m){var l=sap.ushell.Container.getService("LaunchPage"),g=m.getProperty("/groups"),h=[],G,a,e;for(a=0;a<g.length;a++){e=g[a]?g[a].isGroupVisible:true;if(g[a].object){G=l.getGroupId(g[a].object);}if(!e&&G!==undefined){h.push(G);}}return h;};d.getFormFactor=function(){var s=sap.ui.Device.system;if(s.desktop){return s.SYSTEMTYPE.DESKTOP;}if(s.tablet){return s.SYSTEMTYPE.TABLET;}if(s.phone){return s.SYSTEMTYPE.PHONE;}};d.getVisibleTiles=function(){var n=document.body.clientHeight,C=sap.ui.getCore().byId("dashboardGroups"),N=sap.ui.getCore().byId("viewPortContainer"),g,a,e,f,h,i,T,j,k,l,m,s=jQuery("#shell-hdr").height(),p=[],G,I,v=[],E=sap.ui.getCore().getEventBus(),q,r,w,x;if(window.document.hidden){E.publish("launchpad","onHiddenTab");}if(C&&C.getGroups()&&N){G=jQuery(C.getDomRef());I=G?G.is(":visible"):false;q=C.getGroups();for(g=0;g<q.length;g=g+1){f=q[g];h=f.getTiles();i=f.getLinks();r=[h,i];for(e=0;e<r.length;e++){w=r[e];if(w){for(a=0;a<w.length;a++){T=w[a];if(!I||window.document.hidden){p.push(T);}else{j=jQuery(T.getDomRef());k=j.offset();if(k){l=j.offset().top;m=l+j.height();x=f.getVisible()&&(m>s-300)&&(l<n+300);if(x){v.push({oTile:d.getTileModel(T),iGroup:g,bIsExtanded:!(m>s)||!(l<n)});}else if(v.length>0){E.publish("launchpad","visibleTilesChanged",v);return p;}p.push(T);}}}}}}}if(v.length>0){E.publish("launchpad","visibleTilesChanged",v);}return p;};d.getTileModel=function(a){var e=a.getBindingContext();return e.getObject()?e.getObject():null;};d.getTileObject=function(a){var e=a.getBindingContext();return e.getObject()?e.getObject().object:null;};d.recalculateBottomSpace=function(){var j=jQuery("#dashboardGroups").find(".sapUshellTileContainer:visible"),l=j.last(),h=jQuery(".sapUshellShellHead > header").height(),a=l.parent().height(),g=parseInt(l.find(".sapUshellContainerTitle").css("margin-top"),10),e=parseInt(jQuery(".sapUshellDashboardGroupsContainer").css("padding-bottom"),10),n;if(j.length===1){n=0;}else{n=jQuery(window).height()-h-a-g-e;n=(n<0)?0:n;}jQuery(".sapUshellDashboardGroupsContainer").css("margin-bottom",n+"px");};d.calcVisibilityModes=function(g,p){var i=true,I=true,l=g.pendingLinks&&g.pendingLinks.length?g.pendingLinks:g.links,h=d.groupHasVisibleTiles(g.tiles,l);if(!h&&(!p||(g.isGroupLocked)||(g.isDefaultGroup)||D.system.phone||(D.system.tablet&&!D.system.desktop))){i=false;}if(!h&&!p){I=false;}return[i,I];};d.groupHasVisibleTiles=function(g,a){var v=false,e,f,h=!g?[]:g,l=!a?[]:a;h=h.concat(l);if(!h.length){return false;}for(e=0;e<h.length;e=e+1){f=h[e];if(f.isTileIntentSupported){v=true;break;}}return v;};d.invokeUnfoldingArrayArguments=function(f,A){var e=this,g,h,p,r,i;if(!Array.isArray(A[0])){return f.apply(this,A);}g=A[0];if(g.length===0){return new jQuery.Deferred().resolve([]).promise();}h=new jQuery.Deferred();p=[];r=[];i=new jQuery.Deferred().resolve();g.forEach(function(n,I){if(!Array.isArray(n)){var E="Expected Array as nTh Argument of multivalue invokation: "+"first Argument must be array of array of arguments: single valued f(p1,p2), f(p1_2,p2_2), f(p1_3,p2_3) : "+"multivalued : f([[p1,p2],[p1_2,p2_2],[p1_3,p2_3]]";L.error(E);throw new Error(E);}var j=f.apply(e,n),k=new jQuery.Deferred();j.done(function(){var a=Array.prototype.slice.call(arguments);r[I]=a;k.resolve();}).fail(k.reject.bind(k));p.push(k.promise());i=jQuery.when(i,k);});jQuery.when.apply(jQuery,p).done(function(){h.resolve(r);}).fail(function(){h.reject("failure");});return h.promise();};d._getCurrentDate=function(){return new Date();};d._convertToUTC=function(a){return Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds());};d.formatDate=function(C){var i,n,T,a,h,m;i=d._convertToUTC(new Date(C));n=d._convertToUTC(d._getCurrentDate());T=n-i;a=parseInt(T/(1000*60*60*24),10);if(a>0){if(a===1){return sap.ushell.resources.i18n.getText("time_day",a);}return sap.ushell.resources.i18n.getText("time_days",a);}h=parseInt(T/(1000*60*60),10);if(h>0){if(h===1){return sap.ushell.resources.i18n.getText("time_hour",h);}return sap.ushell.resources.i18n.getText("time_hours",h);}m=parseInt(T/(1000*60),10);if(m>0){if(m===1){return sap.ushell.resources.i18n.getText("time_minute",m);}return sap.ushell.resources.i18n.getText("time_minutes",m);}return sap.ushell.resources.i18n.getText("just_now");};d.toExternalWithParameters=function(s,a,p){var C=sap.ushell.Container.getService("CrossApplicationNavigation"),T={},P={},i,e,f;T.target={semanticObject:s,action:a};if(p&&p.length>0){P={};for(i=0;i<p.length;i++){e=p[i].Key;f=p[i].Value;P[e]=f;}T.params=P;}C.toExternal(T);};d.moveElementInsideOfArray=function(a,n,e){if(!d.isArray(a)||n===undefined||e===undefined){throw"Incorrect input parameters passed";}if(n>=a.length||e>=a.length||e<0||n<0){throw"Index out of bounds";}var E=a.splice(n,1)[0];a.splice(e,0,E);return a;};d.shallowMergeObject=function(T){return Array.prototype.slice.call(arguments,1,arguments.length).map(function(s){return{sourceObject:s,properties:Object.keys(s)};}).reduce(function(r,s){s.properties.forEach(function(p){r[p]=s.sourceObject[p];});return r;},T);};d.getLocationHref=function(){return window.location.href;};d.generateLocalStorageKey=function(p,i){var n=i.length;if(n===0){throw new Error("At least one id should be provided when generating the local storage key");}var s="$";if(n===2){s="#";}else if(n>2){s="@"+n+"@";}return p+s+i.join(":");};d.urlParametersToString=function(p,e,f){var g,a,k,i,l,s="";e=e||"&";f=f||"=";g="";a=null;l=[];for(a in p){if(p.hasOwnProperty(a)){l.push(a);}}l.sort();for(k=0;k<l.length;k=k+1){a=l[k];if(Array.isArray(p[a])){for(i=0;i<p[a].length;i=i+1){s+=g+encodeURIComponent(a)+f+encodeURIComponent(p[a][i]);g=e;}}else{s+=g+encodeURIComponent(a)+f+encodeURIComponent(p[a]);g=e;}}return s;};d.isRootIntent=function(i){if(typeof i!=="string"){throw new Error("The given intent must be a string");}var r="renderers.fiori2.componentData.config.rootIntent";var C=O.get(r,window["sap-ushell-config"])||"#Shell-home";var R=C.replace("#","");var I=i.replace("#","");return I===""||I===R;};d.isFlpHomeIntent=function(i){if(typeof i!=="string"){throw new Error("The given intent must be a string");}var I=i.replace("#","");return I==="Shell-home"||I.indexOf("Launchpad-openFLPPage")===0;};return d;},true);
sap.ui.predefine('sap/ushell/utils/clone',["sap/ushell/utils/type"],function(t){"use strict";function c(d){function a(o){return t.isPlainObject(o)?{}:[];}function b(v){if(v instanceof Promise){return false;}return t.isPlainObject(v)||t.isArray(v);}function g(v){if(t.isPlainObject(v)){return Object.keys(v).map(function(k){return{key:k,value:v[k]};});}var j=v.length;var I=[];for(var i=0;i<j;i++){I.push({value:v[i]});}return I;}function e(i,v){var A=t.isPlainObject(v)?function(i,v){v[i.key]=i.value;}:function(i,v){v.push(i.value);};A(i,v);}function s(i,j,q){j.push(i.length);Array.prototype.push.apply(q,i);}if(!b(d)){return d;}var C=a(d);var f=[C];var r=[];var R=[];var V=new WeakMap();V.set(d,C);s(g(d),R,r);while(f.length>0){var T=f.shift();var h=R.shift();r.splice(0,h).forEach(function(i){var p=i.value;if(!b(p)){e(i,T);return;}var o=p;var A=V.get(o);if(A){e({key:i.key,value:A},T);return;}var v=a(o);V.set(o,v);e({key:i.key,value:v},T);f.push(v);s(g(o),R,r);});}return C;}return c;},false);
sap.ui.predefine('sap/ushell/utils/objectOperations',[],function(){"use strict";var o={};o.getMember=function(O,a){var p=a.split("."),n=O;if(!O){return undefined;}p.forEach(function(s){if(typeof n!=="object"){return undefined;}n=n[s.replace(/[|]/g,".")];});return n;};o.updateProperties=function(t,s){Object.keys(t).forEach(function(p){if(s.hasOwnProperty(p)){t[p]=s[p];}});};o.getNestedObjectProperty=function(O,a,d){var M="Missing or invalid parameter";if(!O||!Array.isArray(O)||O.length==0||!a){throw new Error(M);}if(Array.isArray(a)&&a.length!=O.length){throw new Error(M);}var A=a;if(!Array.isArray(a)){A=Array.apply(null,Array(O.length)).map(function(){return a;});}var n=O.reduce(function(m,b,i){if(m!==undefined){return m;}return this.getMember(b,A[i]);}.bind(this),undefined);return(n!=undefined)?n:d;};return o;},false);
sap.ui.predefine('sap/ushell/utils/type',[],function(){"use strict";function i(v){return Object.prototype.toString.apply(v)==="[object Array]";}function a(v){return Object.prototype.toString.apply(v)==="[object Object]";}function b(v){return typeof v!=="undefined";}return{isArray:i,isPlainObject:a,isDefined:b};},false);
sap.ui.predefine('sap/ushell_abap/adapters/abap/AdapterContainer',["sap/base/util/ObjectPath","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/core/format/DateFormat"],function(O,L,q,D){"use strict";var c="PersContainers",a="yyyyMMddHHmmss",I=new Date(9999,1,1,0,0,0),s=new Date(9999,1,1,0,0,0,0),b="ADMIN#sap-ushell-container-expireUTCTimestamp",d="ADMIN#sap-ushell-container-storageUTCTimestamp",f="ADMIN#sap-ushell-container-scope";function r(C){var e="sap.ushell.personalization#";if(C.substring(0,e.length)!==e){L.error("Unexpected ContainerKey "+C);return C;}return C.substring(e.length,e.length+40);}var A=function(C,S,o,e){this._oService=S;this._oScope=o;this["sap-cache-id"]=O.get("_oService._oConfig.services.personalization.cacheId",this);this._sContainerKey=r(C);this._sAppName=e||"";var P=sap.ui.require("sap/ushell_abap/adapters/abap/PersonalizationAdapter");if(P){this._category=P.prototype._determineCategory(o);}this._oJSONContainer={"category":this._category,"clientExpirationTime":s,"appName":this._sAppName,"component":"","id":this._sContainerKey,PersContainerItems:[]};this._oPropertyBag={};this._aOperationQueue=[];};A.prototype._reset=function(){this._oJSONContainer.PersContainerItems=[];};A.prototype._obtainODataWrapper=function(){return this._oService._oWrapper;};A.prototype.load=function(){var o=new q.Deferred(),t=this,e=this._obtainODataWrapper(),R=c+"(category='"+this._category+"',id='"+encodeURIComponent(this._sContainerKey)+"')?$expand=PersContainerItems";if(this._category&&this._category==="P"&&this["sap-cache-id"]){R=R+"&sap-cache-id="+this["sap-cache-id"];}sap.ui2.srvc.ODataService.call(this,e,function(){return false;});e.read(R,function(h){t._oJSONContainer=h;t._oJSONContainer.category=t._category;t._oJSONContainer.id=t._sContainerKey;t._oJSONContainer.appName=t._sAppName;t._oJSONContainer.PersContainerItems=(t._oJSONContainer.PersContainerItems&&t._oJSONContainer.PersContainerItems.results)||[];o.resolve(t);},function(h){L.warning(h);t._reset();o.resolve(t);});return o.promise();};A.prototype.save=function(){var o=new q.Deferred(),t=this,e=this._obtainODataWrapper(),R=c;sap.ui2.srvc.ODataService.call(this,e,function(){return false;});e.create(R,this._oJSONContainer,function(){o.resolve(t);},function(h){o.reject(h);});return o.promise();};A.prototype.del=function(){var o=new q.Deferred(),t=this,e=this._obtainODataWrapper(),R=c+"(category='"+this._category+"',id='"+encodeURIComponent(this._sContainerKey)+"')";sap.ui2.srvc.ODataService.call(this,e,function(){return false;});e.del(R,function(h){o.resolve(t);},function(h){o.reject(h);});this._reset();return o.promise();};A.prototype.getItemKeys=function(){var e=[];this._oJSONContainer.PersContainerItems.forEach(function(m){if(m.category==="V"){e.push("VARIANTSET#"+m.id);}else if(m.category==="I"){e.push("ITEM#"+m.id);}});if(this._oJSONContainer.validity>=0){e.push(d);e.push(b);e.push(f);}return e;};A.prototype.containsItem=function(i){return this.getItemKeys().indexOf(i)>=0;};function g(e){if(e===undefined||e===null){return null;}var F=D.getDateInstance({pattern:a});return F.parse(JSON.parse(e),true);}function E(o){var F=D.getDateInstance({pattern:a});if(o===null){o=s;}if(typeof o==="string"){if(/\/Date\(([0-9]+)\)\//.exec(o)){o=new Date(parseInt(/\/Date\(([0-9]+)\)\//.exec(o)[1],10));}else{L.error("Expected Date format "+o);}}if(+o===+s){return undefined;}return F.format(o,true);}A.prototype._findItemIndex=function(e,C){var i;for(i=0;i<this._oJSONContainer.PersContainerItems.length;i=i+1){if(this._oJSONContainer.PersContainerItems[i].id===e&&this._oJSONContainer.PersContainerItems[i].category===C){return i;}}return undefined;};A.prototype._locateItem=function(i){var e={index:-1};if(i===b){return{containerProperty:"clientExpirationTime",initialValue:s,convToABAP:g,convFromABAP:E};}if(i===f){return{containerProperty:"validity",initialValue:0,convToABAP:function(o){if(!o){return null;}return JSON.parse(o).validity;},convFromABAP:function(v,o){if(v<=0){return undefined;}o=o||{};o.validity=v;return o;}};}if(i===d){return{containerProperty:" ignore",initialValue:I,convToABAP:g,convFromABAP:E};}if(i.indexOf("ITEM#")===0){e.trueItemKey=i.substring("ITEM#".length,"ITEM#".length+40);e.category="I";}else if(i.indexOf("VARIANTSET#")===0){e.trueItemKey=i.substring("VARIANTSET#".length,"VARIANTSET#".length+40);e.category="V";}else if(i.indexOf("ADMIN#")!==0){L.error("Unknown itemkey prefix"+i);}e.index=this._findItemIndex(e.trueItemKey,e.category);return e;};A.prototype.getItemValue=function(i){var h="",o,j=this._locateItem(i);if(j.containerProperty===" ignore"){return undefined;}if(j.index>=0){h=this._oJSONContainer.PersContainerItems[j.index].value;try{o=JSON.parse(h);}catch(e){if(h==="X"){o=true;}else{o=undefined;}}}if(j.containerProperty){if(typeof j.convFromABAP==="function"){return j.convFromABAP(this._oJSONContainer[j.containerProperty],o);}return this._oJSONContainer[j.containerProperty];}return o;};A.prototype.setItemValue=function(i,o){var e=JSON.stringify(o),h=this._locateItem(i);if(h.containerProperty===" ignore"){return;}if(h.containerProperty){if(typeof h.convToABAP==="function"){this._oJSONContainer[h.containerProperty]=h.convToABAP(e);}else{this._oJSONContainer[h.containerProperty]=e;}if(!h.trueItemKey){return;}}if(h.index>=0){this._oJSONContainer.PersContainerItems[h.index].value=e;return;}this._oJSONContainer.PersContainerItems.push({"value":e,"id":h.trueItemKey,"category":h.category,"containerId":this._sContainerKey,"containerCategory":this._category});};A.prototype.delItem=function(i){var o=this._locateItem(i);if(o.containerProperty===" ignore"){return;}if(o.containerProperty){this._oJSONContainer[o.containerProperty]=o.initialValue;return;}if(o.index>=0){this._oJSONContainer.PersContainerItems.splice(o.index,1);return;}};return A;},true);
sap.ui.predefine('sap/ushell_abap/adapters/abap/PersonalizationAdapter',["sap/ushell_abap/adapters/abap/AdapterContainer","sap/ushell/services/Personalization","sap/ushell/services/_Personalization/constants","sap/ui2/srvc/ODataWrapper","sap/ui2/srvc/ODataService","sap/base/util/ObjectPath"],function(A,P,c,O,a,b){"use strict";var d=function(s,p,C){this._oConfig=C&&C.config;var e=(b.get("config.services.personalization.baseUrl",C)||"/sap/opu/odata/UI2/INTEROP")+"/";var o={baseUrl:e,"sap-language":sap.ushell.Container.getUser().getLanguage(),"sap-client":sap.ushell.Container.getLogonSystem().getClient()};this._oWrapper=sap.ui2.srvc.createODataWrapper(o);function D(m){sap.ui2.srvc.Error(m,"sap.ushell_abap.adapters.abap.PersonalizationAdapter");}sap.ui2.srvc.ODataService.call(this,this._oWrapper,D);};d.prototype.supportsGetWithoutSubsequentLoad=true;d.prototype.getAdapterContainer=function(C,s,e){return new A(C,this,s,e);};d.prototype.delAdapterContainer=function(C,s){return this.getAdapterContainer(C,s).del();};sap.ui2.srvc.testPublishAt(d);d.prototype._determineCategory=function(s){if(!s){return"U";}var C=c;if(s.keyCategory&&s.keyCategory===C.keyCategory.FIXED_KEY&&s.writeFrequency&&s.writeFrequency===C.writeFrequency.LOW&&s.clientStorageAllowed&&s.clientStorageAllowed===true){return"P";}return"U";};return d;},true);
sap.ui.predefine('sap/ushell_abap/ui5appruntime/AppInfoAdapter',["sap/base/Log","sap/ui/thirdparty/URI","sap/ui/thirdparty/jquery","sap/base/util/UriParameters"],function(L,U,q,a){"use strict";var l=L.getLogger("sap/ushell_abap/ui5appruntime/AppInfoAdapter",L.Level.INFO);function A(){}A.prototype.getAppInfo=function(s){var u=new a(window.location.href);if(s===undefined){s=u.get("sap-ui-app-id");}if(s){return this._loadAppIndexData("/sap/bc/ui2/app_index/ui5_app_info_json",s);}return Promise.reject(new Error("Cannot load app info - no app-id provided and URL parameter 'sap-ui-app-id' not set"));};A.prototype._loadAppIndexData=function(s,b){var u=new U(s).query({"id":b}).toString();return new Promise(function(r,c){q.ajax({type:"GET",dataType:"json",url:u}).done(function(R){var o=R[b];if(o){r(R[b]);}else{c(new Error("UI5 app index data loaded from "+u+" does not contain app "+b));}}).fail(function(e){l.error(e.responseText);c(new Error("Failed to load UI5 app index data loaded from "+u+": "+e.responseText));});});};return new A();},false);
sap.ui.require.preload({
	"sap/ui2/srvc/ODataService.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ui2.srvc.ODataService");var r;r=function(){jQuery.sap.require.apply(this,arguments);};function n(){}var c;if(!sap.ui2.srvc.Map){r("sap.ui2.srvc.utils");}c=new sap.ui2.srvc.Map();sap.ui2.srvc.ODataService=function(o,d){var b;this.getCsrfToken=function(){if(c.get(b)&&c.get(b).token){return c.get(b).token;}return"";};this.getDefaultErrorHandler=function(){return d;};this.openBatchQueue=function(){o.openBatchQueue();};this.refreshCsrfToken=function(s,f){var t;if(typeof s!=="function"){throw new sap.ui2.srvc.Error("Success callback is not a function","sap.ui2.srvc.ODataService");}f=f||d;t=c.get(b);if(!t.fetchingInProgress){t.token=undefined;t.fetchingInProgress=true;o.read("",function(){if(!c.get(b)||!c.get(b).token){f("No CSRF token delivered");t.errorHandlers.forEach(function(h){h("No CSRF token delivered");});}else{s();t.successHandlers.forEach(function(h){h();});}t.successHandlers=[];t.errorHandlers=[];t.fetchingInProgress=false;},function(){t.fetchingInProgress=false;f.apply(null,arguments);});}else{t.successHandlers.push(s);t.errorHandlers.push(f);}};this.setCsrfToken=function(N){var t;if(N&&typeof N!=="string"){throw new sap.ui2.srvc.Error("Invalid CSRF token: "+N,"sap.ui2.srvc.ODataService");}t=c.get(b);t.token=N;};this.setDefaultErrorHandler=function(N){if(N&&typeof N!=="function"){throw new sap.ui2.srvc.Error("Error callback is not a function","sap.ui2.srvc.ODataService");}d=N||n;};this.submitBatchQueue=function(){o.submitBatchQueue.apply(o,arguments);};this.toString=function(v){var R=['sap.ui2.srvc.ODataService({'];if(v){R.push('csrfToken:"',this.getCsrfToken(),'"');R.push(',oODataWrapper:',o.toString(true));}R.push('})');return R.join('');};if(!sap.ui2.srvc.Error){r("sap.ui2.srvc.error");}if(!o){throw new sap.ui2.srvc.Error("Missing OData wrapper","sap.ui2.srvc.ODataService");}b=o.getBaseUrl();if(!c.get(b)){c.put(b,{fetchingInProgress:false,successHandlers:[],errorHandlers:[]});}this.setDefaultErrorHandler(d);};sap.ui2.srvc.ODataService.resetSharedCsrfTokens=function(){c=new sap.ui2.srvc.Map();};}());
},
	"sap/ui2/srvc/ODataWrapper.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ui2.srvc.ODataWrapper");var r=function(){jQuery.sap.require.apply(this,arguments);};function n(){}sap.ui2.srvc.testPublishAt=sap.ui2.srvc.testPublishAt||function(){};if(typeof OData!=="object"){r("sap.ui.thirdparty.datajs");}function a(d,R){if(sap.ui2.srvc.isArray(d)){d.forEach(function(D){D.reject(R);});}else{d.reject(R);}}sap.ui2.srvc.ODataWrapper=function(s,o){var S="saplb",B,C,d,t=this,e,f;function g(A){var s={};s.baseUrl=A[0];if(typeof A[2]==='boolean'){s.supportsChangeSets=A[2];}return s;}sap.ui2.srvc.testPublishAt(t);function k(){return B;}sap.ui2.srvc.testPublishAt(t);function l(K,H){K=K.toLowerCase();for(var i in H){if(Object.prototype.hasOwnProperty.call(H,i)&&i.toLowerCase()===K){return H[i];}}return undefined;}function m(H){var i=s["sap-language"]||sap.ui2.srvc.ODataWrapper["sap-language"],j=s["sap-statistics"]||sap.ui2.srvc.ODataWrapper["sap-statistics"],A=s["sap-client"]||sap.ui2.srvc.ODataWrapper["sap-client"];H=H||{};if(i){H["sap-language"]=i;}if(j||(j==="false")){H["sap-statistics"]=""+j;}if(A){H["sap-client"]=A;}return H;}function p(H){H=H||{};var i=sap.ui2.srvc.ODataWrapper.oStickySessionConfiguration[e];if(typeof i==="undefined"){return H;}if(i&&i.enabled&&typeof i.value!=="undefined"){H[S]=i.value;}return H;}sap.ui2.srvc.testPublishAt(t);function q(R){var H,i=sap.ui2.srvc.ODataWrapper.oStickySessionConfiguration[e];if(!i||!i.enabled){return;}H=l(S,R);if(typeof H==="undefined"){return;}if(i.value!==H){i.value=H;}}sap.ui2.srvc.testPublishAt(t);function u(H){return l("x-csrf-token",H)||"";}sap.ui2.srvc.testPublishAt(t);function v(R,M,P,i,F,H,I){var j;i=i||n;F=F||o.getDefaultErrorHandler();t.check(i,F);j={'Accept':"application/json",'Accept-Language':(sap.ui&&sap.ui.getCore().getConfiguration().getLanguage())||"",'X-CSRF-Token':o.getCsrfToken()};m(j);p(j);OData.request({requestUri:R,method:M,data:P,headers:j},function(D,A){q((A||{}).headers);jQuery.sap.log.debug("Received OData response for "+M+' "'+R+'"',null,"sap.ui2.srvc.ODataWrapper");sap.ui2.srvc.call(i.bind(null,D),F);},function(E){function A(){F.apply(null,arguments);}function D(){i.apply(null,arguments);}if(!I&&E.response.statusCode===403&&u(E.response.headers).toLowerCase()==="required"){jQuery.sap.log.debug("CSRF token required for "+M+' "'+R+'", refreshing it',JSON.stringify(E.response),"sap.ui2.srvc.ODataWrapper");o.refreshCsrfToken(v.bind(t,R,M,P,D,A,H,true),A);}else{t.onError(M,R,F,null,E);}},H);jQuery.sap.log.debug("Sent OData request for "+M+' "'+R+'"',null,"sap.ui2.srvc.ODataWrapper");}sap.ui2.srvc.testPublishAt(t);function w(R){var i=R.indexOf(e);if(i<0){throw new sap.ui2.srvc.Error('Not relative to base URL "'+e+'": '+R,"sap.ui2.srvc.ODataWrapper");}return R.slice(i+e.length);}sap.ui2.srvc.testPublishAt(t);function x(R){if(/^\//.test(R)){throw new sap.ui2.srvc.Error("Not a relative URL: "+R,"sap.ui2.srvc.ODataWrapper");}return e+R;}sap.ui2.srvc.testPublishAt(t);function y(R,i,j){var D,A=x(R),H=p(m());if(B){jQuery.sap.log.debug('Queued OData request for GET "'+R+'"',null,"sap.ui2.srvc.ODataWrapper");B.push({method:"GET",requestUri:R,headers:H});D=(new jQuery.Deferred()).done(i).fail(j);d.push(D);C=false;return;}H["Accept"]="application/json";H["Accept-Language"]=(sap.ui&&sap.ui.getCore().getConfiguration().getLanguage())||"";H["X-CSRF-Token"]="Fetch";OData.read({requestUri:A,headers:H},i,j);jQuery.sap.log.debug('Sent OData request for GET "'+A+'"',null,"sap.ui2.srvc.ODataWrapper");}sap.ui2.srvc.testPublishAt(t);function z(R,M,P,i,F){var D,j={data:P,method:M,requestUri:R,headers:p(m())},A=x(R);if(B){i=i||n;F=F||o.getDefaultErrorHandler();t.check(i,F);jQuery.sap.log.debug("Queued OData request for "+M+' "'+R+'"',null,"sap.ui2.srvc.ODataWrapper");if(!C){B.push({__changeRequests:[]});d.push([]);C=f;}B[B.length-1].__changeRequests.push(j);D=(new jQuery.Deferred()).done(function(E,G){jQuery.sap.log.debug("Received OData response for "+M+' "'+A+'"',null,"sap.ui2.srvc.ODataWrapper");sap.ui2.srvc.call(i.bind(null,E),F);}).fail(t.onError.bind(t,M,A,F,null));d[d.length-1].push(D);return;}v(A,M,P,i,F);}this.isStickySessionEnabled=function(){return(sap.ui2.srvc.ODataWrapper.oStickySessionConfiguration[e]||{}).enabled||false;};this.enableStickySession=function(){sap.ui2.srvc.ODataWrapper.oStickySessionConfiguration[e].enabled=true;};this.check=function(i,F){if(!i){throw new sap.ui2.srvc.Error("Missing success callback","sap.ui2.srvc.ODataWrapper");}if(typeof i!=="function"){throw new sap.ui2.srvc.Error("Success callback is not a function","sap.ui2.srvc.ODataWrapper");}if(!F){throw new sap.ui2.srvc.Error("Missing error callback","sap.ui2.srvc.ODataWrapper");}if(typeof F!=="function"){throw new sap.ui2.srvc.Error("Error callback is not a function","sap.ui2.srvc.ODataWrapper");}};this.create=function(R,P,i,F){z(R,"POST",P,i,F);};this.del=function(E,i,F){var R=E;if(typeof R!=="string"){R=w(E.__metadata.uri);}z(R,"DELETE",null,function(D){if(i){i();}},F);};this.getBaseUrl=function(){return e;};this.getODataService=function(){return o;};this.onError=function(M,R,F,D,E){var P,i="Error ";if(E.response&&E.response.statusCode){i+="("+E.response.statusCode+", "+E.response.statusText+") ";}i+="in OData response for "+M+' "'+R+'": '+E.message;if(E.response&&E.response.body){try{P=JSON.parse(E.response.body).error;if(P){if(P.hasOwnProperty("message")&&P.message.hasOwnProperty("value")){i+="\nDetails: "+P.message.value;}if(E.response.statusCode&&!P.httpStatus){P.httpStatus=E.response.statusCode;}}}catch(j){}}jQuery.sap.log.error(i,JSON.stringify(E.response),"sap.ui2.srvc.ODataWrapper");if(D){D.reject(i,P);}F(i,P);};this.openBatchQueue=function(){if(B){throw new sap.ui2.srvc.Error("Batch queue already open","sap.ui2.srvc.ODataWrapper");}B=[];d=[];C=false;};this.isBatchQueueOpen=function(){return!!B;};this.read=function(R,i,F,j){var D,A=x(R),E;function G(H,I){q(I.headers);o.setCsrfToken(u(I.headers)||o.getCsrfToken());jQuery.sap.log.debug('Received OData response for GET "'+A+'"',null,"sap.ui2.srvc.ODataWrapper");E=l("sap-message",I.headers);if(E){jQuery.sap.log.warning("SAP message for GET "+A,E,"sap.ui2.srvc.ODataWrapper");}if(D){D.resolve(JSON.parse(JSON.stringify(H)),o.getCsrfToken());}sap.ui2.srvc.call(i.bind(null,H),F);}F=F||o.getDefaultErrorHandler();this.check(i,F);if(j){OData.read.$cache=OData.read.$cache||new sap.ui2.srvc.Map();D=OData.read.$cache.get(A);if(D){jQuery.sap.log.debug('Using cached response for GET "'+A+'"',null,"sap.ui2.srvc.ODataWrapper");D.done(function(H,I){o.setCsrfToken(o.getCsrfToken()||I);sap.ui2.srvc.call(i.bind(null,JSON.parse(JSON.stringify(H))),F);}).fail(F);return;}D=new jQuery.Deferred();OData.read.$cache.put(A,D.promise());}y(R,G,this.onError.bind(this,"GET",A,F,D));};this.batch=function(P,i,F){var R=x("$batch");v(R,"POST",P,i,F,OData.batchHandler);};this.submitBatchQueue=function(A,D){var M=d;function E(F){var G=F.__batchResponses.length,H=M.length;if(H!==G){t.onError("POST",x("$batch"),D,null,{message:"Protocol error! Expected "+H+" responses, but received "+G});return;}F.__batchResponses.forEach(function(R,i){var I=M[i];if(R.response){a(I,R);}else if(R.__changeResponses){R.__changeResponses.forEach(function(J,j){I[j].resolve(J.data,J);});}else{I.resolve(R.data,R);}});if(A){sap.ui2.srvc.call(A,o.getDefaultErrorHandler());}}if(!B){throw new sap.ui2.srvc.Error("No open batch queue to submit","sap.ui2.srvc.ODataWrapper");}if(B.length>0){this.batch({__batchRequests:B},E,D);}else if(A){sap.ui2.srvc.call(A,o.getDefaultErrorHandler(),true);}B=undefined;d=undefined;};this.toString=function(V){var R=['sap.ui2.srvc.ODataWrapper({sBaseUrl:"',e,'"'];R.push('})');return R.join('');};this.put=function(R,P,i,F){z(R,"PUT",P,function(D){if(i){i();}},F);};this.update=function(E,i,F){var P={"__metadata":{type:E.__metadata&&E.__metadata.type}},j,R=w(E.__metadata.uri);for(j in E){if(Object.prototype.hasOwnProperty.call(E,j)&&j.indexOf('$')!==0&&typeof E[j]!=="object"){P[j]=E[j];}}this.put(R,P,i,F);};if(!sap.ui2.srvc.Map){r("sap.ui2.srvc.utils");}if(typeof s==='string'){s=g(arguments);}else if(typeof s==='object'){s=c(s);}if(!s||!s.baseUrl||typeof s.baseUrl!=="string"){throw new sap.ui2.srvc.Error("Missing base URL","sap.ui2.srvc.ODataWrapper");}if(!o||typeof o!=="object"){throw new sap.ui2.srvc.Error("Missing OData service facade","sap.ui2.srvc.ODataWrapper");}s.baseUrl=s.baseUrl.replace(/\/$/,"")+"/";e=s.baseUrl;f=s.supportsChangeSets;if(typeof sap.ui2.srvc.ODataWrapper.oStickySessionConfiguration==="undefined"){jQuery.sap.log.error("sap.ui2.srvc.ODataWrapper.oStickySessionConfiguration is not defined!","the sap.ui2.srvc.ODataWrapper constructor was called before the static property was defined","sap.ui2.srvc.ODataWrapper");}else if(typeof sap.ui2.srvc.ODataWrapper.oStickySessionConfiguration[e]==="undefined"){sap.ui2.srvc.ODataWrapper.oStickySessionConfiguration[e]={enabled:false,value:undefined};}};function h(A){var s={};var t={};s.baseUrl=A[0];if(typeof A[1]==='boolean'){s.supportsChangeSets=A[1];}if(typeof A[2]==='function'){t.defaultFailure=A[2];}t.settings=s;return t;}function c(i){if(i===undefined){return undefined;}try{return JSON.parse(JSON.stringify(i));}catch(e){return undefined;}}if(typeof sap.ui2.srvc.ODataWrapper.oStickySessionConfiguration==="undefined"){sap.ui2.srvc.ODataWrapper.oStickySessionConfiguration={};}sap.ui2.srvc.testPublishAt(sap.ui2.srvc.ODataWrapper);function b(w){try{sap.ui2.srvc.ODataWrapper["sap-statistics"]=sap.ui.getCore().getConfiguration().getStatistics();}catch(e){sap.ui2.srvc.ODataWrapper["sap-statistics"]=/sap-statistics=(true|x|X)/.test(w);}}b(window.location.search);sap.ui2.srvc.createODataWrapper=function(s,d){if(typeof arguments[0]==='string'){var t=h(arguments);s=t.settings;if(t.defaultFailure){d=t.defaultFailure;}}else if(typeof arguments[0]==='object'){s=c(s);}function S(){var w=new sap.ui2.srvc.ODataWrapper(s,this);r("sap.ui2.srvc.ODataService");sap.ui2.srvc.ODataService.call(this,w,d);return w;}return new S();};}());
},
	"sap/ui2/srvc/utils.js":function(){this.sap=this.sap||{};(function(){"use strict";if(!Function.prototype.bind){Function.prototype.bind=function(t){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");}var a=Array.prototype.slice.call(arguments,1),b=this,N=function(){},B=function(){return b.apply(this instanceof N?this:t,a.concat(Array.prototype.slice.call(arguments)));};N.prototype=this.prototype;B.prototype=new N();return B;};}sap.ui2=sap.ui2||{};sap.ui2.srvc=sap.ui2.srvc||{};if(sap.ui2.srvc.log){return;}var c;if(typeof jQuery==="function"&&jQuery.sap){jQuery.sap.declare("sap.ui2.srvc.utils");}function q(){return typeof jQuery==="function"&&jQuery.sap&&jQuery.sap.log;}function f(m,d,C){return(m||"")+" - "+(d||"")+" "+(C||"");}sap.ui2.srvc.log={debug:function(m,d,C){if(q()){jQuery.sap.log.debug(m,d,C);return;}if(typeof console==="object"){if(typeof console.debug==="function"){console.debug(f(m,d,C));}else{console.log(f(m,d,C));}}},error:function(m,d,C){if(q()){jQuery.sap.log.error(m,d,C);return;}if(typeof console==="object"){console.error(f(m,d,C));}},info:function(m,d,C){if(q()){jQuery.sap.log.info(m,d,C);return;}if(typeof console==="object"){console.info(f(m,d,C));}},warning:function(m,d,C){if(q()){jQuery.sap.log.warning(m,d,C);return;}if(typeof console==="object"){console.warn(f(m,d,C));}}};sap.ui2.srvc.absoluteUrl=function(u,b){b=b||location.href;if(b.indexOf('://')<0&&b.charAt(0)!=='/'){throw new sap.ui2.srvc.Error("Illegal base URL: "+b,"sap.ui2.srvc");}if(!u||u.indexOf('://')>=0||u.charAt(0)==='/'){return this.addCacheBusterTokenUsingUshellConfig(u);}if(b.search(/^([^:]*:)?\/\/[^\/]+$/)<0){b=b.replace(/\/[^\/]*$/,'');}return this.addCacheBusterTokenUsingUshellConfig(b+'/'+u);};sap.ui2.srvc.call=function(s,F,a){var m;if(a){setTimeout(function(){sap.ui2.srvc.call(s,F,false);},0);return;}try{s();}catch(e){m=e.message||e.toString();sap.ui2.srvc.log.error("Call to success handler failed: "+m,e.stack,"sap.ui2.srvc");if(F){F(m);}}};sap.ui2.srvc.get=function(u,x,s,F,X,C){if(typeof s!=="function"){throw new sap.ui2.srvc.Error("Missing success handler","sap.ui2.srvc");}if(typeof F!=="function"){throw new sap.ui2.srvc.Error("Missing error handler","sap.ui2.srvc");}if(x&&C){throw new sap.ui2.srvc.Error("Caching of XML responses not supported","sap.ui2.srvc");}if(typeof sap.ui2.srvc.addCacheBusterTokenUsingUshellConfig==="function"){u=sap.ui2.srvc.addCacheBusterTokenUsingUshellConfig(u);}X=X||new XMLHttpRequest();X.onreadystatechange=function(){var r,o;if(this.readyState!==4){return;}sap.ui2.srvc.get.pending-=1;if(this.status!==200){sap.ui2.srvc.log.error("Error "+this.status+" in response for URL "+u,null,"sap.ui2.srvc");F(u+": "+this.status+" "+this.statusText,this.responseText);return;}sap.ui2.srvc.log.debug("Received response for URL "+u,null,"sap.ui2.srvc");if(x){o=this.responseXML;if(o===null||!o.documentElement){F(u+": no valid XML");return;}r=o;}else{r=this.responseText;if(C){c.put(u,r);}}sap.ui2.srvc.call(s.bind(null,r),F);};if(!x&&c.containsKey(u)){sap.ui2.srvc.log.debug("Return cached response for URL "+u,null,"sap.ui2.srvc");sap.ui2.srvc.call(s.bind(null,c.get(u)),F);}else{try{if(X.readyState<XMLHttpRequest.OPENED){X.open("GET",u,true);}else{sap.ui2.srvc.log.debug("XHR Request was already opened for "+u,null,"sap.ui2.srvc");}X.send();sap.ui2.srvc.get.pending+=1;sap.ui2.srvc.log.debug("Sent request to URL "+u,null,"sap.ui2.srvc");}catch(e){sap.ui2.srvc.log.error("Error '"+(e.message||e)+"' in request to URL "+u,null,"sap.ui2.srvc");throw e;}}};sap.ui2.srvc.addCacheBusterToken=function(u,p,r,t){if(p.test(u)){u=u.replace(p,r);u=u.replace(/\[CacheBusterToken\]/g,t);}return u;};sap.ui2.srvc.removeCBAndNormalizeUrl=function(u){var m,U,C,s;jQuery.sap.require("sap.ui.thirdparty.URI");var a=sap.ui.require('sap/ui/thirdparty/URI');if(typeof u!=="string"||u===""||b(u)){return u;}function b(e){var o=new a(e),p=o.path();if(o.is("absolute")){return false;}if(p&&p.charAt(0)==="/"){return false;}return true;}m=u.match(/(.*)(\/~[\w\-]+~[A-Z0-9]?)(.*)/);if(m){U=m[1];C=m[2];s=m[3];}function n(e){return new a(e).normalizePathname().toString();}function d(p){var S=new a(p).segment(),i,P=0;for(i=0;i<S.length&&P>=0;i+=1){if(S[i]===".."){P=P-1;}else{P=P+1;}}return P<0;}if(C){if(s&&d(s)){u=U+s;}}return n(u);};sap.ui2.srvc.addCacheBusterTokenUsingUshellConfig=function(u){var C=window["sap-ushell-config"]&&window["sap-ushell-config"].cacheBusting,p=C&&C.patterns,s=u,P=[],S,r=[];P=sap.ui2.srvc.getParameterMap();S=P["sap-ushell-nocb"]&&P["sap-ushell-nocb"][0];if((S==='true'||S==='X')&&typeof u==="string"){u=u.replace(/\/~[\w\-]+~[A-Z0-9]?/,"");return u;}if(!C||typeof u!=="string"||u===""||/[\/=]~[\w\-]+~[A-Z0-9]?[\/#\?\&]/.test(u)||/[\/=]~[\w\-]+~[A-Z0-9]?$/.test(u)){return u;}if(C&&C.urls){if(u.charAt(u.length-1)==="/"){u=u.substr(0,u.length-1);}if(C.urls.hasOwnProperty(u)){return u+"/"+C.urls[u].cacheBusterToken;}if(C.urls.hasOwnProperty(u+"/")){return u+"/"+C.urls[u+"/"].cacheBusterToken;}}if(!p){return u;}Object.keys(p).forEach(function(a){if(p.hasOwnProperty(a)){var R=p[a];R.pattern=new RegExp(a);r.push(R);}});r.sort(function(R,o){return R.order-o.order;});r.every(function(R){if(R.pattern.test(u)){if(!R.cacheBusterToken){R.cacheBusterToken=C.cacheBusterToken;}s=sap.ui2.srvc.addCacheBusterToken(u,R.pattern,R.replacement,R.cacheBusterToken);return false;}return true;});return s;};sap.ui2.srvc.get.clearCache=function(){c=new sap.ui2.srvc.Map();};sap.ui2.srvc.get.pending=0;sap.ui2.srvc.getFormFactor=function(){var s=sap.ui.Device.system;if(s.desktop){return s.SYSTEMTYPE.DESKTOP;}if(s.tablet){return s.SYSTEMTYPE.TABLET;}if(s.phone){return s.SYSTEMTYPE.PHONE;}};sap.ui2.srvc.getParameterMap=function(s){var i,n,r={},k,v,I,K,S=arguments.length>0?s:location.search;if(S&&S.charAt(0)!=="?"){throw new sap.ui2.srvc.Error("Illegal search string "+S,"sap.ui2.srvc");}if(!S||S==="?"){return{};}K=S.substring(1).replace(/\+/g,' ').split(/[&;]/);for(i=0,n=K.length;i<n;i+=1){k=K[i];v="";I=k.indexOf("=");if(I>=0){v=k.slice(I+1);v=decodeURIComponent(v);k=k.slice(0,I);}k=decodeURIComponent(k);if(!Object.prototype.hasOwnProperty.call(r,k)){r[k]=[];}r[k].push(v);}return r;};sap.ui2.srvc.getParameterValue=function(u,n){var p,Q;if(typeof n!=="string"){throw new sap.ui2.srvc.Error("Missing parameter name","sap.ui2.srvc");}u=u.split('#')[0];Q=u.indexOf("?");if(Q>=0){p=sap.ui2.srvc.getParameterMap(u.slice(Q));if(p[n]){return p[n][0];}}return"";};sap.ui2.srvc.isArray=function(o){return Object.prototype.toString.apply(o)==='[object Array]';};sap.ui2.srvc.isString=function n(o){return/String/.test(Object.prototype.toString.call(o));};sap.ui2.srvc.parseXml=function(x){var X;if(!x||typeof x!=="string"){return null;}X=new DOMParser().parseFromString(x,"text/xml");if(X.getElementsByTagName("parsererror").length){throw new sap.ui2.srvc.Error("Invalid XML: "+x,"sap.ui2.srvc");}return X;};sap.ui2.srvc.testPublishAt=function(o){};if(sap.ui2.srvc.Error===undefined){sap.ui2.srvc.Error=function(m,C,l){var e=new Error(m);l=l===undefined?true:l;e.name="sap.ui2.srvc.Error";if(l===true){sap.ui2.srvc.log.error(m,null,C);}return e;};}sap.ui2.srvc.Map=function(){this.entries={};};sap.ui2.srvc.Map.prototype.put=function(k,v){var o=this.get(k);this.entries[k]=v;return o;};sap.ui2.srvc.Map.prototype.containsKey=function(k){if(typeof k!=="string"){throw new sap.ui2.srvc.Error("Not a string key: "+k,"sap.ui2.srvc");}return Object.prototype.hasOwnProperty.call(this.entries,k);};sap.ui2.srvc.Map.prototype.get=function(k){if(this.containsKey(k)){return this.entries[k];}};sap.ui2.srvc.Map.prototype.keys=function(){return Object.keys(this.entries);};sap.ui2.srvc.Map.prototype.remove=function(k){delete this.entries[k];};sap.ui2.srvc.Map.prototype.toString=function(){var r=['sap.ui2.srvc.Map('];r.push(JSON.stringify(this.entries));r.push(')');return r.join('');};sap.ui2.srvc.get.clearCache();}());
},
	"sap/ushell/EventHub.js":function(){(function(){"use strict";var d=(!window.sap||!sap.ui||!sap.ui.define)?function(v,c){return c();}:sap.ui.define;return d([],function(){var _={pendingEvents:{},subscribers:{},dispatchOperations:{},store:c(),dispatchTimeoutIds:new Set()};function c(){return{nextKey:0,objectToKey:new WeakMap(),keyToObject:{}};}function l(M,D,C){if(jQuery&&jQuery.sap&&jQuery.sap.log&&jQuery.sap.log.error){jQuery.sap.log.error(M,D,"sap.ushell.EventHub");return;}if(window.console){var o=[M,D];if(C){o.push("error caused by:");o.push(C);}window.console.error.apply(window.console,o);}}function a(o){var M="An exception was raised while executing a registered callback on event '"+o.eventName+"'",D="Data passed to the event were: '"+o.eventData+"'";if(o.error.stack){D+=" Error details: "+o.error.stack;}l(M,D,o.fnCausedBy);}function s(o,C,D){var R;try{R=C(D);}catch(v){a({eventName:o,eventData:D,fnCausedBy:C,error:v});}return R;}function J(H){if(typeof arguments[2]==="function"){return y(H,arguments[2]);}return arguments[2];}function b(H){if(typeof arguments[2]==="string"&&arguments[2].indexOf("<function")===0){return z(H,arguments[2]);}return arguments[2];}function e(H,D,P){if(typeof D==="object"||typeof D==="function"){try{var S=[D,J.bind(null,H)];if(P){S.push(3);}return JSON.stringify.apply(JSON,S);}catch(o){l(""+o,o.stack,e);}}return D;}function f(H,D){try{return JSON.parse(D,b.bind(null,H));}catch(o){return D;}}function g(H,o,S){if(!H.subscribers[o]){H.subscribers[o]=[];}H.subscribers[o].push(S);}function u(H,o,v){H.subscribers[o]=(H.subscribers[o]||[]).map(function(S){return S.filter(function(L){return L.fn!==v;});}).filter(function(G){return G.length>0;});}function h(){var D,o=new Promise(function(R){D=R;}),v={dispatching:o,cancelled:false,cancel:function(){v.cancelled=true;},complete:function(){D();}};return v;}function i(H,o){if(!H.subscribers.hasOwnProperty(o)){return null;}var D=h(),S=H.subscribers[o],G=S.map(function(v){return j(H,o,v,D,0);});Promise.all(G).then(D.complete,D.complete);return D;}function j(H,o,S,D,v){var O=S.length,C=S.slice(v);return C.reduce(function(P,F){return P.then(function(G){if(D.cancelled){if(G){u(H,o,F.fn);}return G;}return n(H,o,F,S).then(function(I){if(I){D.cancelled=true;}return I;});});},Promise.resolve(false)).then(function(F){if(!F&&O<S.length){return j(H,o,S,D,O);}return F;});}function n(H,o,S,v){return new Promise(function(R){var D=f(H,H.pendingEvents[o]);var C=setTimeout(function(){H.dispatchTimeoutIds.delete(C);if(S.called&&v.offed){R(false);return;}S.called=true;var O=v.offed;s(o,S.fn,D);var F=v.offed;if(F){u(H,o,S.fn);}R(!O&&F);},0);H.dispatchTimeoutIds.add(C);});}function k(H,o,S){return function(){S.forEach(function(L){if(L.called){u(H,o,L.fn);}});S.offed=true;return{off:k(H,o,[])};};}function m(H,o,S){return function(C){var v={fn:C,called:false};S.push(v);if(H.pendingEvents.hasOwnProperty(o)){var D=H.dispatchOperations[o];if(!D){n(H,o,v,S);}else{D.dispatching.then(function(){if(!v.called){n(H,o,v,S);}});}}return{do:m(H,o,S),off:k(H,o,S)};};}function p(H,o){var S=[];g(H,o,S);return{do:m(H,o,S),off:k(H,o,S)};}function q(H,o){var D=p(H,o);D.off();return D;}function r(H,o,D,F){var S=e(H,D);if(!F&&H.pendingEvents.hasOwnProperty(o)&&H.pendingEvents[o]===S){return this;}H.pendingEvents[o]=S;var v=H.dispatchOperations[o];if(v){v.cancel();}var N=i(H,o);H.dispatchOperations[o]=N;return this;}function t(H,o){return f(H,H.pendingEvents[o]);}function w(){var o=Array.prototype.slice.call(arguments);o.shift();var C=0,O=new Array(o.length).join(",").split(",").map(function(){return 1;}),v=[],D={do:function(F){o.forEach(function(G,I){G.do(function(I,V){v[I]=V;C+=O[I];O[I]=0;if(C===o.length){F.apply(null,v);}}.bind(null,I));});return{off:D.off};},off:function(){var F=o.reduce(function(F,G){return G.off();},function(){});return{off:F};}};return D;}function x(H,o){var D=H.dispatchOperations[o];return D?D.dispatching:Promise.resolve();}function y(H,o){if(H.store.objectToKey.has(o)){return H.store.objectToKey.get(o);}H.store.nextKey++;var K="<"+typeof o+">#"+H.store.nextKey;H.store.keyToObject[K]=o;H.store.objectToKey.set(o,K);return K;}function z(H,K){return H.store.keyToObject[K];}function A(H){var o={};o.emit=r.bind(o,H);o.on=p.bind(null,H);o.once=q.bind(null,H);o.last=t.bind(null,H);o.join=w.bind(null,H);o.wait=x.bind(null,H);o._reset=function(H){H.pendingEvents={};H.subscribers={};H.dispatchOperations={};H.store=c();H.dispatchTimeoutIds.forEach(clearTimeout);H.dispatchTimeoutIds=new Set();}.bind(null,H);return o;}function B(C){var D={pendingEvents:{},subscribers:{},dispatchOperations:{},store:c(),dispatchTimeoutIds:new Set()},F=A(D),G=f(D,e(D,C));function H(o){var v=o.charAt(0);if(v.match(/[a-zA-Z0-9]/)){throw new Error("Invalid path separator '"+v+"'. Please ensure path starts with a non alphanumeric character");}var X=o.split(v);X.shift();return X;}function I(v,o){var X=v,Y="";if(arguments.length===2){X=o;Y=v;}return Y+"/"+X.join("/");}function K(v){return Object.prototype.toString.apply(v)==="[object Array]";}function L(v){return Object(v)!==v;}function M(v){return(K(v)?v.length:Object.keys(v).length)===0;}function N(v,X,Y,Z){var $="",a1=v,b1=[];Y.reduce(function(c1,d1,e1){$=I($,[d1]);a1=a1[d1];if(e1===Y.length-1){if(!L(Z)&&!L(a1)&&Object.keys(a1).length>0){var f1,g1=Object.keys(a1).reduce(function(o,d1){o[d1]=true;return o;},{}),h1=Object.keys(Z).some(function(d1){f1=d1;var o=g1.hasOwnProperty(d1);delete g1[d1];var m1=!L(a1[d1])&&Object.keys(a1[d1]).length>0;return!o||m1;}),i1=(Object.keys(g1).length>0),j1=(h1||i1);if(j1){var k1=h1?"One or more values are not defined in the channel contract or are defined as a non-empty object/array, for example, check '"+f1+"'.":"Some keys are missing in the event data: "+Object.keys(g1).join(", ")+".";throw new Error("Cannot write value '"+e(D,Z,true)+"' to path '"+$+"'. "+k1+" All childrens in the value must appear in the channel contract and must have a simple value or should be defined as an empty complex value");}var l1=Object.keys(Z).map(function(d1){return{serializedPath:I($,[d1]),value:Z[d1]};});Array.prototype.push.apply(b1,l1);}c1[d1]=Z;}else if(!c1.hasOwnProperty(d1)){c1[d1]=K(a1)?[]:{};}b1.push({serializedPath:$,value:c1[d1]});return c1[d1];},X);return b1;}function O(o,v){var X="",Y=v.reduce(function(Z,$){X+="/"+$;if(K(Z)&&!$.match(/^[0-9]+$/)){throw new Error("Invalid array index '"+$+"' provided in path '"+X+"'");}if(!Z.hasOwnProperty($)){throw new Error("The item '"+$+"' from path "+X+" cannot be accessed in the object: "+e(D,Z));}return Z[$];},o);return Y;}function P(o,v,X){return v.reduce(function(Y,Z,$){var a1=$===(v.length-1);if(Y.hasOwnProperty(Z)){return Y[Z];}return a1?X:{};},o);}function Q(o,v){v.pop();var X=o,Y=[];return v.reduce(function(Z,$){X=X[$];Y.push($);Z.push({serializedPath:I(Y),value:X});return Z;},[]);}function R(o){return o.map(function(v){var X=v.serializedPath;if(!D.subscribers.hasOwnProperty(X)||D.subscribers[X].length===0){return null;}return{path:X,value:v.value};}).filter(function(v){return!!v;});}function S(o,v){var X=H(o);O(C,X);var Y=N(C,G,X,v);Y.forEach(function(Z){F.emit(Z.serializedPath,Z.value);});}function T(o){var v=H(o),X=O(C,v);return P(G,v,X);}function U(o){var v=H(o),X=I(v),Y=F.last(X),Z=D.pendingEvents.hasOwnProperty(X);if(Z){return F.on(X);}Y=O(C,v);if(typeof Y!=="undefined"&&(L(Y)||!M(f(F,e(F,Y))))){F.emit(X,Y);}return F.on(X);}function V(o){var v=U(o);v.off();return v;}function W(o){var v=H(o),X=Q(G,v),Y=R(X).map(function(Z){return F.wait(Z.path,Z.value);});return Promise.all(Y.concat(F.wait(o)));}return{emit:S,on:U,once:V,last:T,wait:W,join:w.bind(null,F)};}var E=A(_);E.createChannel=B.bind(null);return E;},false);})();
},
	"sap/ushell/appRuntime/ui5/AppRuntime.js":'// Copyright (c) 2009-2020 SAP SE, All Rights Reserved\nprepareModules();sap.ui.define(["sap/base/util/LoaderExtensions","sap/ushell/appRuntime/ui5/AppRuntimePostMessageAPI","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ui/thirdparty/URI","sap/ushell/appRuntime/ui5/SessionHandlerAgent","sap/ushell/appRuntime/ui5/services/AppLifeCycleAgent","sap/ushell/appRuntime/ui5/services/ShellUIService","sap/ushell/ui5service/UserStatus","sap/ushell/appRuntime/ui5/services/AppConfiguration","sap/ushell/appRuntime/ui5/services/UserInfo","sap/ui/core/Popup","sap/ui/thirdparty/jquery","sap/base/util/isEmptyObject","sap/base/Log","sap/ui/core/ComponentContainer","sap/ushell/appRuntime/ui5/renderers/fiori2/AccessKeysAgent","sap/ui/core/BusyIndicator"],function(L,A,a,b,U,S,c,d,f,g,h,P,q,i,j,C,k,B){"use strict";var p=new U().search(true),o,s,E=false,l=false,m={};function n(){this.main=function(){var e=this;a.init();this.getPageConfig();Promise.all([c.getURLParameters(e._getURI()),e.fetchStartupPlugins()]).then(function(w){var x=w[0],y=x["sap-ui-app-id"];m=w[1];e.setModulePaths();e.init();Promise.all([e.initServicesContainer(),e.getAppInfo(y)]).then(function(w){var z=w[1];S.init();k.init();e._setInitialAppRoute();e.createApplication(y,x,z).then(function(R){e.renderApplication(R);});});});};this._setInitialAppRoute=function(){sap.ushell.Container.getServiceAsync("URLParsing").then(function(e){var H=e.parseShellHash(window.hasher.getHash());if(H&&H.appSpecificRoute&&H.appSpecificRoute.length>0){b.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.setInnerAppRoute",{appSpecificRoute:decodeURIComponent(H.appSpecificRoute)});}});};this._getURI=function(){return new U().query(true);};this.init=function(){A.registerCommHandlers({"sap.ushell.appRuntime":{oServiceCalls:{"hashChange":{executeServiceCallFn:function(e){var H=e.oMessageData.body.sHash;if(H&&H.length>0){window.hasher.replaceHash(H);}return new q.Deferred().resolve().promise();}},"setDirtyFlag":{executeServiceCallFn:function(e){var I=e.oMessageData.body.bIsDirty;if(I!==sap.ushell.Container.getDirtyFlag()){sap.ushell.Container.setDirtyFlag(I);}return new q.Deferred().resolve().promise();}},"themeChange":{executeServiceCallFn:function(e){var w=e.oMessageData.body.currentThemeId;sap.ushell.Container.getUser().setTheme(w);return new q.Deferred().resolve().promise();}},"buttonClick":{executeServiceCallFn:function(e){sap.ushell.renderers.fiori2.Renderer.handleHeaderButtonClick(e.oMessageData.body.buttonId);return new q.Deferred().resolve().promise();}},"uiDensityChange":{executeServiceCallFn:function(e){var w=e.oMessageData.body.isTouch;q("body").toggleClass("sapUiSizeCompact",(w==="0")).toggleClass("sapUiSizeCozy",(w==="1"));return new q.Deferred().resolve().promise();}}}}});};this.getStartupPlugins=function(){return m;};this.inIframe=function(){try{return window.self!==window.top;}catch(e){return true;}};this.isInsideYellowBox=function(){var I=false,e=this;return new Promise(function(R){if(e.inIframe()){var T=setTimeout(function(){if(!I){R(false);}},500);b.sendMessageToOuterShell("sap.ushell.appRuntime.shellCheck",{}).then(function(){I=true;clearTimeout(T);R(I);});}else{R(false);}});};this.fetchStartupPlugins=function(){var e=this;return new Promise(function(R){e.isInsideYellowBox().then(function(I){if(I){b.sendMessageToOuterShell("sap.ushell.appRuntime.startupPlugins",{}).then(function(m){R(m);});}else{R({});}});});};this.getPageConfig=function(){var e,w={};e=q("meta[name=\'sap.ushellConfig.ui5appruntime\']")[0];if(e!==undefined){w=JSON.parse(e.content);}window["sap-ushell-config"]=q.extend(true,{},r(),w);};this.setModulePaths=function(){if(window["sap-ushell-config"].modulePaths){var e=Object.keys(window["sap-ushell-config"].modulePaths);for(var w in e){(function(){var x={};x[e[w].replace(/\\./g,"/")]=window["sap-ushell-config"].modulePaths[e[w]];sap.ui.loader.config({paths:x});}());}}};this.initServicesContainer=function(){return new Promise(function(R){sap.ui.require(["sap/ushell/appRuntime/ui5/services/Container"],function(e){e.bootstrap("apprt",{apprt:"sap.ushell.appRuntime.ui5.services.adapters"}).then(function(){R();});});});};this._getURIParams=function(){return p;};this.getAppInfo=function(e){var D=window["sap-ushell-config"].ui5appruntime.config.appIndex.data,M=window["sap-ushell-config"].ui5appruntime.config.appIndex.module,w=this;return new Promise(function(R){if(D&&!i(D)){c.init(M,w.createApplication.bind(w),w.renderApplication.bind(w),e,D);R(D);}else{c.init(M,w.createApplication.bind(w),w.renderApplication.bind(w));c.getAppInfo(e,document.URL).then(function(x){R(x);});}});};this.setApplicationParameters=function(e,w){var x,y,z,D=new q.Deferred();function F(G,I){var H="";if(G&&G.length>0){H=(G.startsWith("?")?"":"?")+G;}if(I&&I.length>0){H+=(H.length>0?"&":"?")+I;}return H;}if(w.hasOwnProperty("sap-startup-params")){x=(new U("?"+w["sap-startup-params"])).query(true);if(x.hasOwnProperty("sap-intent-param")){y=x["sap-intent-param"];delete x["sap-intent-param"];}z=(new U("?")).query(x).toString();if(y){b.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getAppStateData",{"sAppStateKey":y}).then(function(M){e.url+=F(z,M);D.resolve();},function(G){e.url+=F(z);D.resolve();});}else{e.url+=F(z);D.resolve();}}else{D.resolve();}return D.promise();};this.setHashChangedCallback=function(){function e(w){if(w&&typeof w==="string"&&w.length>0){b.sendMessageToOuterShell("sap.ushell.appRuntime.hashChange",{"newHash":decodeURIComponent(w)});}}window.hasher.changed.add(e.bind(this),this);};this.createApplication=function(e,w,x){var y=this,z=function(D){b.sendMessageToOuterShell("sap.ushell.services.ShellUIService.showShellUIBlocker",{"bShow":D.getParameters().visible});};return new Promise(function(R){o=new C({id:e+"-content",width:"100%",height:"100%"});var D="0";if(p.hasOwnProperty("sap-touch")){D=p["sap-touch"];if(D!=="0"&&D!=="1"){D="0";}}q("body").toggleClass("sapUiSizeCompact",(D==="0")).toggleClass("sapUiSizeCozy",(D==="1"));if(!s){sap.ushell.renderers.fiori2.utils.init();s=sap.ushell.Container.getService("ShellNavigation");s.init(function(){});s.registerNavigationFilter(function(){if(sap.ushell.Container.getDirtyFlag()){return s.NavigationFilterStatus.Abandon;}return s.NavigationFilterStatus.Continue;});}c.setComponent(o);new d({scopeObject:o,scopeType:"component"});new f({scopeObject:o,scopeType:"component"});if(P.attachBlockLayerStateChange){P.attachBlockLayerStateChange(z);}y.setApplicationParameters(x,w).done(function(){y.setHashChangedCallback();sap.ushell.Container.getServiceAsync("Ui5ComponentLoader").then(function(F){F.createComponent({ui5ComponentName:e,applicationDependencies:x,url:x.url},"todo-replaceDummyShellHash",false).then(function(G){sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(H){H.prepareCurrentAppObject("UI5",G.componentHandle.getInstance(),false,undefined);});y.overrideSendAsEmailFn();y.loadPlugins();R(G);});});});});};this.overrideSendAsEmailFn=function(){if(E===true){return;}E=true;if(sap.m&&sap.m.URLHelper&&sap.m.URLHelper.triggerEmail){sap.m.URLHelper.triggerEmail=function(T,e,w,x,y){b.sendMessageToOuterShell("sap.ushell.services.ShellUIService.sendEmail",{sTo:T,sSubject:e,sBody:w,sCc:x,sBcc:y,sIFrameURL:document.URL,bSetAppStateToPublic:true});};}};this.loadPlugins=function(){if(l===true){return;}u();v();l=true;sap.ushell.Container.getServiceAsync("PluginManager").then(function(e){e.loadPlugins("RendererExtensions");});};function u(){sap.ushell.Container.getService("PluginManager").registerPlugins({RTAPluginAgent:{component:"sap.ushell.appRuntime.ui5.plugins.rtaAgent",url:q.sap.getResourcePath("sap/ushell/appRuntime/ui5/plugins/rtaAgent"),config:{"sap-plugin-agent":true}}});}function v(){var e;if(p.hasOwnProperty("sap-wa-debug")&&p["sap-wa-debug"]=="dev"){e="https://education3.hana.ondemand.com/education3/web_assistant/framework/FioriAgent.js";}else if(p.hasOwnProperty("sap-wa-debug")&&p["sap-wa-debug"]=="prev"){e="https://webassistant-outlook.enable-now.cloud.sap/web_assistant/framework/FioriAgent.js";}else{e="https://webassistant.enable-now.cloud.sap/web_assistant/framework/FioriAgent.js";}sap.ushell.Container.getService("PluginManager").registerPlugins({WAPluginAgent:{component:"sap.ushell.appRuntime.ui5.plugins.scriptAgent",url:q.sap.getResourcePath("sap/ushell/appRuntime/ui5/plugins/scriptAgent"),config:{"sap-plugin-agent":true,"url":e}}});}this.renderApplication=function(R){o.setComponent(R.componentHandle.getInstance()).placeAt("content");B.hide();};}function r(){return{services:{CrossApplicationNavigation:{module:"sap.ushell.appRuntime.ui5.services.CrossApplicationNavigation",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},NavTargetResolution:{module:"sap.ushell.appRuntime.ui5.services.NavTargetResolution",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},ShellNavigation:{module:"sap.ushell.appRuntime.ui5.services.ShellNavigation",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},AppConfiguration:{module:"sap.ushell.appRuntime.ui5.services.AppConfiguration"},Bookmark:{module:"sap.ushell.appRuntime.ui5.services.Bookmark",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},LaunchPage:{module:"sap.ushell.appRuntime.ui5.services.LaunchPage",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},UserInfo:{module:"sap.ushell.appRuntime.ui5.services.UserInfo",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},AppState:{module:"sap.ushell.appRuntime.ui5.services.AppState",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},PluginManager:{module:"sap.ushell.appRuntime.ui5.services.PluginManager",config:{isBlueBox:true}},Ui5ComponentLoader:{config:{amendedLoading:false}}}};}var t=new n();t.main();return t;});\nfunction prepareModules(){"use strict";sap.ui.require(["sap/ui/core/BusyIndicator"],function(B){B.show(0);});if(document.URL.indexOf("ui5appruntime")>0){sap.ui.define("sap/ushell/ApplicationType",[],function(){return{URL:{type:"URL"},WDA:{type:"WDA"},TR:{type:"TR"},NWBC:{type:"NWBC"},WCF:{type:"WCF"},SAPUI5:{type:"SAPUI5"}};});sap.ui.define("sap/ushell/components/applicationIntegration/AppLifeCycle",[],function(){return{};});sap.ui.define("sap/ushell/services/_AppState/WindowAdapter",[],function(){return function(){};});sap.ui.define("sap/ushell/services/_AppState/SequentializingAdapter",[],function(){return function(){};});sap.ui.define("sap/ushell/services/_AppState/Sequentializer",[],function(){return function(){};});sap.ui.define("sap/ushell/services/Configuration",[],function(){function C(){this.attachSizeBehaviorUpdate=function(){};this.hasNoAdapter=true;}C.hasNoAdapter=true;return C;});sap.ui.define("sap/ushell/services/_PluginManager/Extensions",[],function(){return function(){};});sap.ui.define("sap/ushell/TechnicalParameters",[],function(){return{getParameterValue:function(){return Promise.resolve([]);},getParameterValueSync:function(){return[];},getParameters:function(){return[];},getParameterNames:function(){return[];},isTechnicalParameter:function(){return false;}};});sap.ui.define("sap/ushell/AppInfoParameters",[],function(){return{getInfo:function(){return Promise.resolve({});}};});}}\n'
},"sap/ushell/appruntime-min-preload"
);
//# sourceMappingURL=appruntime-min-2.js.map