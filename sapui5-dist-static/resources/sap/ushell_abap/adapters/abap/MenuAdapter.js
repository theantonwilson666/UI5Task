// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/Config","sap/base/Log"],function(C,L){"use strict";var M=function(){};M.prototype.isMenuEnabled=function(){var m=C.last("/core/menu/enabled");var a=this._getAssignedSpaces().length;return Promise.resolve(m&&a>0);};M.prototype.getMenuEntries=function(){var m=this._getAssignedSpaces().filter(function(s){if(!s.pages||s.pages.length===0){L.warning("FLP space "+s.id+" without page omitted in FLP menu.","","sap.ushell_abap.adapters.abap.MenuAdapter");return false;}return true;}).map(function(s){var t={title:s.title||s.id,"help-id":"Space-"+s.id,description:s.description,icon:undefined,type:"IBN",target:{semanticObject:"Launchpad",action:"openFLPPage",parameters:[{name:"spaceId",value:s.id},{name:"pageId",value:s.pages[0].id}],innerAppRoute:undefined},menuEntries:[]};var S=s.pages.map(function(p){return{title:p.title||p.id,"help-id":"Page-"+p.id,description:p.description,icon:undefined,type:"IBN",target:{semanticObject:"Launchpad",action:"openFLPPage",parameters:[{name:"spaceId",value:s.id},{name:"pageId",value:p.id}],innerAppRoute:undefined},menuEntries:[]};});if(S.length>1){t.menuEntries=S;}return t;});return Promise.resolve(m);};M.prototype._getAssignedSpaces=function(){var m=document.querySelector("meta[name='sap.ushell.assignedSpaces']");if(!m){return[];}return JSON.parse(m.getAttribute("content"));};return M;},true);
