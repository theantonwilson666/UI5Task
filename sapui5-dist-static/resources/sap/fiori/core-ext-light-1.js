//@ui5-bundle sap/fiori/core-ext-light-1.js
// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.predefine('sap/ushell/renderers/fiori2/search/SearchNavigationObject',['sap/ushell/renderers/fiori2/search/eventlogging/EventLogger','sap/ushell/renderers/fiori2/search/SearchHelper'],function(E,S){"use strict";return sap.ui.base.Object.extend("sap.ushell.renderers.fiori2.search.SearchNavigationObject",{constructor:function(p){this._model=sap.ushell.renderers.fiori2.search.getModelSingleton();if(p){this.setHref(p.href);this.setText(p.text);this.setTarget(p.target);this.setLoggingType(p.loggingType);this.setPositionInList(p.positionInList);}if(this._model.eventLogger===undefined){this._model.eventLogger=E.newInstance({sinaNext:this._model.sinaNext});}if(typeof this._loggingType==='undefined'){this.setLoggingType(this._model.eventLogger.RESULT_LIST_ITEM_NAVIGATE);}},getPositionInList:function(){return this._positionInList;},setPositionInList:function(p){this._positionInList=p;},getHref:function(){return this._href;},setHref:function(h){this._href=h;},getText:function(){return this._text;},setText:function(t){this._text=t;},getTarget:function(){return this._target;},setTarget:function(t){this._target=t;},getLoggingType:function(){return this._loggingType;},setLoggingType:function(l){this._loggingType=l;},performNavigation:function(p){this.trackNavigation(p);if(!this._target){S.openURL(this._href);}else{S.openURL(this._href,this._target);}},trackNavigation:function(p){this._model.eventLogger.logEvent({type:(p&&p.loggingType)||this.getLoggingType(),targetUrl:this.getHref(),positionInList:this.getPositionInList(),executionId:this.getResultSetId()});},getResultSetId:function(){return'';},isEqualTo:function(o){if(!o){return false;}return this.getHref()==o.getHref();}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/SearchNavigationObjectForSinaNavTarget',['sap/ushell/renderers/fiori2/search/SearchNavigationObject'],function(S){"use strict";return S.extend("sap.ushell.renderers.fiori2.search.SearchNavigationObjectForSinaNavTarget",{constructor:function(s){S.prototype.constructor.apply(this,arguments);this._sinaNavigationTarget=s;this.setHref(s.targetUrl);this.setText(s.label);this.setTarget(s.target);this.sina=this._sinaNavigationTarget.sina;},performNavigation:function(p){this.trackNavigation();this._sinaNavigationTarget.performNavigation(p);},getResultSet:function(){return this.getResultSetItem().parent;},getResultSetItem:function(){var p=this._sinaNavigationTarget.parent;if(p instanceof this.sina.SearchResultSetItemAttribute){p=p.parent;}if(!(p instanceof this.sina.SearchResultSetItem)){throw'programm error';}if(p.parent instanceof this.sina.ObjectSuggestion){p=p.parent;}return p;},getResultSetId:function(){return this.getResultSet().id;},getPositionInList:function(){var r=this.getResultSet();var a=this.getResultSetItem();return r.items.indexOf(a);}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/SearchResultListFormatter',['sap/ushell/renderers/fiori2/search/SearchConfiguration','sap/ushell/renderers/fiori2/search/SearchHelper','sap/ushell/renderers/fiori2/search/SearchNavigationObject','sap/ushell/renderers/fiori2/search/SearchNavigationObjectForSinaNavTarget'],function(S,a,b,c){"use strict";var m=sap.ushell.renderers.fiori2.search.SearchResultListFormatter=function(){this.init.apply(this,arguments);};m.prototype={init:function(){},format:function(s,t,o){o=o||{};o.suppressHighlightedValues=o.suppressHighlightedValues||false;var d=s.sina;var l={};var f=[];var r=s.items;var i,z;for(i=0;i<r.length;i++){var e=r[i];var g={};var I=[];for(z=0;z<e.detailAttributes.length;z++){var h=e.detailAttributes[z];var k=h.value;switch(h.metadata.type){case d.AttributeType.ImageBlob:if(k&&k.trim().length>0){k="data:;base64,"+k;}case d.AttributeType.ImageUrl:g.imageUrl=k;g.imageFormat=h.metadata.format?h.metadata.format.toLowerCase():undefined;if(h.defaultNavigationTarget){g.imageNavigation=new c(h.defaultNavigationTarget);}break;case d.AttributeType.GeoJson:g.geoJson={value:k,label:(e.title||h.label)};break;case d.AttributeType.Group:var n=this._formatAttributeGroup(h,o,z);I.push(n);break;case d.AttributeType.Double:case d.AttributeType.Integer:case d.AttributeType.String:case d.AttributeType.Date:case d.AttributeType.Time:case d.AttributeType.Timestamp:var p=this._formatSingleAttribute(h,o,z);I.push(p);break;}}g.key=e.key;g.keystatus=e.keystatus;g.dataSource=e.dataSource;g.dataSourceName=e.dataSource.label;if(e.titleAttributes){var q,u,v;var w=[];for(z=0;z<e.titleAttributes.length;z++){q=e.titleAttributes[z];if(q.metadata.type===d.AttributeType.Group){u=this._formatAttributeGroup(q,o,z);}else{u=this._formatSingleAttribute(q,o,z);}v=u.value;w.push(v);}g.title=w.join(' ');}else{g.title=o.suppressHighlightedValues?e.title:e.titleHighlighted;}if(e.titleDescriptionAttributes){var x,y,A;var B=[];var C=[];for(z=0;z<e.titleDescriptionAttributes.length;z++){x=e.titleDescriptionAttributes[z];if(x.metadata.type===d.AttributeType.Group){y=this._formatAttributeGroup(x,o,z);}else{y=this._formatSingleAttribute(x,o,z);}A=y.value;B.push(A);C.push(y.name);}g.titleDescription=B.join(' ');g.titleDescriptionLabel=C.join(' ');}g.itemattributes=I;if(e.defaultNavigationTarget){g.titleNavigation=new c(e.defaultNavigationTarget);if(!g.title||g.title.length===0){g.title=e.defaultNavigationTarget.label;}}if(e.navigationTargets&&e.navigationTargets.length>0){g.navigationObjects=[];for(var j=0;j<e.navigationTargets.length;j++){var D=new c(e.navigationTargets[j]);D.setLoggingType('RESULT_LIST_ITEM_NAVIGATE_CONTEXT');g.navigationObjects.push(D);}}var E=l[e.dataSource.id]||{};l[e.dataSource.id]=E;g.layoutCache=E;g.selected=g.selected||false;g.expanded=g.expanded||false;var F={};this._formatResultForDocuments(e,F);this._formatResultForNotes(e,F);g.additionalParameters=F;g.positionInList=i;g.resultSetId=s.id;f.push(g);}return f;},_formatAttributeGroup:function(d,o,e){var f={};var g={};f.name=d.label;var h=false;var j=false;var p=d.metadata._private;var k,l;for(var i=0;i<d.attributes.length;i++){var n=d.attributes[i];var _=n.attribute;var q=n.metadata.nameInGroup;var r;if(_.metadata.type===_.sina.AttributeType.Group){r=this._formatAttributeGroup(_,o,e);}else{r=this._formatSingleAttribute(_,o,e);}if(p){if(p.parentAttribute===_.metadata){k=r;}else if(p.childAttribute===_.metadata){l=r;}}if(r.value!==undefined&&r.value.length>0){g[q]=r;h=h||r.whyfound;j=j||r.longtext!==undefined;}}f.value="";f.valueRaw=undefined;f.valueWithoutWhyfound="";f.whyfound=false;if(Object.keys(g).length>0){var s=true;if(p&&k&&l&&(p.isUnitOfMeasure||p.isCurrency||p.isDescription)){var t=k.value;var u=l.value;t=t!==undefined&&t.trim().length>0?t:undefined;u=u!==undefined&&u.trim().length>0?u:undefined;if(!(t&&u)){if(p.isUnitOfMeasure||p.isCurrency){if(t&&!u){f.value=k.value;f.valueRaw=k.valueRaw;f.valueWithoutWhyfound=k.valueWithoutWhyfound;s=false;}}else if(p.isDescription){var v=p.textArrangement;var w=d.sina;if(v===w.AttributeGroupTextArrangement.TextFirst){if(!t&&u){f.value=l.value;f.valueRaw=l.valueRaw;f.valueWithoutWhyfound=l.valueWithoutWhyfound;s=false;}}else if(v===w.AttributeGroupTextArrangement.TextLast){if(t&&!u){f.value=k.value;f.valueRaw=k.valueRaw;f.valueWithoutWhyfound=k.valueWithoutWhyfound;s=false;}}else if(v===w.AttributeGroupTextArrangement.TextOnly){if(!u){s=false;}}}}}if(s){f.value=this._formatBasedOnGroupTemplate(d.template,g,"value");f.valueRaw=this._formatBasedOnGroupTemplate(d.template,g,"valueRaw");f.valueWithoutWhyfound=this._formatBasedOnGroupTemplate(d.template,g,"valueWithoutWhyfound");}f.whyfound=h;}f.key=d.id;f.isTitle=false;f.isSortable=d.metadata.isSortable;f.attributeIndex=e;f.displayOrder=d.metadata.usage.Detail&&d.metadata.usage.Detail.displayOrder;if(j){f.longtext=f.value;}return f;},_formatSingleAttribute:function(d,o,i){var I={};var s=d.sina;I.name=d.label;I.valueRaw=d.value;I.value=o.suppressHighlightedValues?d.valueFormatted:d.valueHighlighted;I.valueWithoutWhyfound=d.valueFormatted;I.key=d.id;I.isTitle=false;I.isSortable=d.metadata.isSortable;I.attributeIndex=i;I.displayOrder=d.metadata.usage.Detail&&d.metadata.usage.Detail.displayOrder;I.whyfound=d.isHighlighted;if(d.defaultNavigationTarget){I.defaultNavigationTarget=new c(d.defaultNavigationTarget);}if(d.metadata.format&&(d.metadata.format===s.AttributeFormatType.MultilineText||d.metadata.format===s.AttributeFormatType.Longtext)){I.longtext=d.value;}return I;},_formatBasedOnGroupTemplate:function(t,d,v){if(!(t&&d&&v)){return"";}var e="",p=0;var f,r=/{\w+}/gi;while((f=r.exec(t))!==null){e+=t.substring(p,f.index);var g=f[0].slice(1,-1);e+=d[g]&&d[g][v]||"";p=r.lastIndex;}e+=t.substring(p);return e;},_formatResultForDocuments:function(r,d){var k='';d.isDocumentConnector=false;var j,e;for(j=0;j<r.detailAttributes.length;j++){e=r.detailAttributes[j];if(e.metadata.id==='FILE_PROPERTY'){d.isDocumentConnector=true;}if(e.metadata.isKey===true){if(k.length>0){k+=';';}k=k+e.metadata.id+'='+e.value;}}if(d.isDocumentConnector===true){var s=';o=sid('+r.dataSource.system+'.'+r.dataSource.client+')';var f=r.dataSource.id;d.imageUrl="/sap/opu/odata/SAP/ESH_SEARCH_SRV"+s+"/FileLoaderFiles(ConnectorId='"+f+"',FileType='ThumbNail',SelectionParameters='"+k+"')/$value";d.titleUrl="/sap/opu/odata/SAP/ESH_SEARCH_SRV"+s+"/FileLoaderFiles(ConnectorId='"+f+"',FileType='BinaryContent',SelectionParameters='"+k+"')/$value";var g="/sap/opu/odata/SAP/ESH_SEARCH_SRV"+s+"/FileLoaderFiles(ConnectorId='"+f+"',FileType='SUVFile',SelectionParameters='"+k+"')/$value";d.suvlink='/sap/bc/ui5_ui5/ui2/ushell/resources/sap/fileviewer/viewer/web/viewer.html?file='+encodeURIComponent(g);if(!r.navigationObjects){r.navigationObjects=[];}var n=new b({text:"Show Document",href:d.suvlink,target:"_blank"});r.navigationObjects.push(n);for(j=0;j<r.detailAttributes.length;j++){e=r.detailAttributes[j];if(e.id==="PHIO_ID_THUMBNAIL"&&e.value){d.containsThumbnail=true;}if(e.id==="PHIO_ID_SUV"&&e.value){d.containsSuvFile=true;}}}},_formatResultForNotes:function(r,d){}};return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/SearchShellHelper',['sap/ushell/renderers/fiori2/search/controls/SearchFieldGroup','sap/ushell/renderers/fiori2/search/SearchHelper','sap/base/Log'],function(S,a,L){"use strict";var m={};var s="sapUshellShellShowSearchOverlay";var b;m.injectSearchModel=function(_){b=b||_;};jQuery.extend(m,{init:function(){var t=this;sap.ushell.Container.getService("Search").prefetch();sap.ui.require('sap/ushell/renderers/fiori2/search/SearchModel');t.oModel=sap.ushell.renderers.fiori2.search.getModelSingleton();t.oShellHeader=sap.ui.getCore().byId('shell-header');t.oSearchFieldGroup=new S("searchFieldInShell");t.oSearchFieldGroup.setModel(t.oModel);t.oShellHeader.setSearch(t.oSearchFieldGroup);t.setSearchState('COL');this.setSearchStateSync=this.setSearchState;this.setSearchState=a.delayedExecution(this.setSearchState,500);t.oSearchInput=t.oSearchFieldGroup.input;t.oSearchInput.setMaxSuggestionWidth("30rem");t.oSearchInput.setValue(t.oModel.getSearchBoxTerm());t.oSearchSelect=t.oSearchFieldGroup.select;var l=new sap.ui.core.InvisibleText("selectLabel",{text:sap.ushell.resources.i18n.getText("searchIn")});if(l){t.oSearchSelect.addAriaLabelledBy("selectLabel");}t.oSearchSelect.setTooltip(sap.ushell.resources.i18n.getText("searchInTooltip"));t.oSearchSelect.addEventDelegate({onAfterRendering:function(e){jQuery('#searchFieldInShell-select-icon').attr('title',sap.ushell.resources.i18n.getText("searchIn"));}},t.oSearchSelect);t.oSearchSelect.setTooltip(sap.ushell.resources.i18n.getText("searchIn"));t.oSearchSelect.attachChange(function(e){t.focusInputField({selectContent:true});});t.oSearchButton=t.oSearchFieldGroup.button;t.oSearchButton.bindProperty("type",{parts:[{path:'/searchButtonStatus'}],formatter:function(c){if(c==='search'){return sap.m.ButtonType.Emphasized;}return sap.m.ButtonType.Default;}});t.oSearchButton.attachPress(function(){t.handleClickSearchButton();});t.oSearchButton.addEventDelegate({onAfterRendering:function(){var c=jQuery("div.sapUshellShellSearchHidden").length===0;var d=t.oModel.getProperty("/searchButtonStatus")==="close";var $=jQuery(t.oSearchButton.getDomRef());if(c){if(d){$.attr("aria-pressed",true);}else{$.removeAttr("aria-pressed");}}else{$.attr("aria-pressed",false);}}});t.oSearchCancelButton=t.oSearchFieldGroup.cancelButton;t.oSearchCancelButton.attachPress(function(){t.setSearchState('COL');window.setTimeout(function(){sap.ui.getCore().byId('sf').focus();},1000);});this.oSearchFieldGroup.setCancelButtonActive(false);t.registerFocusHandler();sap.ui.getCore().getEventBus().subscribe("shell","searchCompLoaded",t.onSearchComponentLoaded,t);sap.ui.getCore().getEventBus().subscribe("allSearchFinished",t.onAllSearchFinished,t);sap.ui.getCore().byId('viewPortContainer').attachAfterNavigate(t.onAfterNavigate,t);sap.ui.getCore().getEventBus().subscribe("sap.ushell","appComponentLoaded",function(){var o=sap.ui.getCore().byId('searchContainerResultsView');if(o&&o.oFocusHandler){o.oFocusHandler.setFocus();}});t.oShellHeader.attachSearchSizeChanged(this.sizeSearchFieldChanged.bind(this));},sizeSearchFieldChanged:function(e){var c=e.mParameters.remSize;var l=24;if(c<=l){this.oSearchSelect.setDisplayMode('icon');}else{this.oSearchSelect.setDisplayMode('default');}l=9;if(c<l){this.oSearchButton.setVisible(false);}else{this.oSearchButton.setVisible(true);}if(e.getParameter('isFullWidth')){this.oSearchFieldGroup.setCancelButtonActive(true);this.oSearchFieldGroup.addStyleClass('sapUshellSearchInputFullWidth');}else{this.oSearchFieldGroup.setCancelButtonActive(false);this.oSearchFieldGroup.removeStyleClass('sapUshellSearchInputFullWidth');}},sizeChanged:function(p){switch(p.name){case"Phone":this.oSearchFieldGroup.setCancelButtonActive(true);break;case"Tablet":this.oSearchFieldGroup.setCancelButtonActive(false);break;case"Desktop":this.oSearchFieldGroup.setCancelButtonActive(false);break;default:break;}},registerFocusHandler:function(){var r=true;if(!r){return;}var t=this;var c=t.oSearchInput.getModel();t.oSearchInput.addEventDelegate({onAfterRendering:function(){var i=jQuery(t.oSearchInput.getDomRef()).find('input')[0];var $=jQuery(i);$.on('focus',function(e){t.log('raw_in',document.activeElement);if(!t.isFocusHandlerActive){return;}t.setSearchState('EXP');});$.on('blur',function(e){t.log('raw_out',document.activeElement);if(!t.isFocusHandlerActive){return;}var p=t.oSearchSelect.getPicker();if(p&&p.oPopup&&p.oPopup.eOpenState==="OPENING"){return;}if(!a.isSearchAppActive()&&t.oSearchInput.getValue().length===0&&c.getDataSource()===c.getDefaultDataSource()){t.setSearchState('COL');}else{t.setSearchState('EXP_S');}});}});t.oSearchSelect.addEventDelegate({onAfterRendering:function(){var d=t.oSearchSelect.getDomRef();d=d.querySelector('#searchFieldInShell-select-hiddenSelect');d.addEventListener('focus',function(e){t.log('raw_in_select',document.activeElement);if(!t.isFocusHandlerActive){return;}if(t.oShellHeader.getSearchState()==='EXP_S'&&!t.isNoSearchResultsScreen()){t.setSearchState('EXP_S',true);return;}t.setSearchState.abort();});d.addEventListener('blur',function(e){t.log('raw_out_select',document.activeElement);if(!t.isFocusHandlerActive){return;}var p=t.oSearchSelect.getPicker();if(p&&p.oPopup&&p.oPopup.eOpenState==="OPENING"){return;}if(!a.isSearchAppActive()&&t.oSearchInput.getValue().length===0&&c.getDataSource()===c.getDefaultDataSource()){t.setSearchState('COL');}else{t.setSearchState('EXP_S');}});}});t.oSearchButton.addEventDelegate({onAfterRendering:function(){var d=t.oSearchButton.getDomRef();d.addEventListener('focus',function(e){t.log('raw_in_button',document.activeElement);if(!t.isFocusHandlerActive){return;}t.setSearchState.abort();});d.addEventListener('blur',function(e){t.log('raw_out_button',document.activeElement);if(!t.isFocusHandlerActive){return;}if(!a.isSearchAppActive()&&t.oSearchInput.getValue().length===0&&c.getDataSource()===c.getDefaultDataSource()){t.setSearchState('COL');}else{t.setSearchState('EXP_S');}});}});this.enableFocusHandler(true);},enableFocusHandler:function(c){this.isFocusHandlerActive=c;if(!c&&this.setSearchState.abort){this.setSearchState.abort();}},isOverlayShown:function(){var c=this.oShellHeader.getShellLayoutControl();return c.hasStyleClass(s);},setSearchState:function(c,d){var e=sap.ui.getCore().byId('sf');if(!e){return;}if(typeof d==='undefined'){switch(c){case'EXP':d=true;break;case'EXP_S':d=false;break;case'COL':d=false;break;}if(this.isNoSearchResultsScreen()){d=false;}}if(sap.ui.getCore().byId('searchFieldInShell')===undefined){return;}if(this.oShellHeader.getSearchState()===c&&d===this.isOverlayShown()){return;}if(c==='COL'){this.enableFocusHandler(false);}else{this.enableFocusHandler(true);}this.log('set search state',c,document.activeElement);switch(c){case'COL':this.oModel.abortSuggestions();this.oShellHeader.setSearchState(c,35,d);this.oSearchCancelButton.setVisible(false);e.setVisible(true);break;case'EXP_S':this.oShellHeader.setSearchState(c,35,d);this.oSearchCancelButton.setVisible(true);e.setVisible(false);break;case'EXP':this.oShellHeader.setSearchState(c,35,d);this.oSearchCancelButton.setVisible(true);e.setVisible(false);this.focusInputField({selectContent:false});break;default:break;}},isNoSearchResultsScreen:function(){return a.isSearchAppActive()&&this.oModel.getProperty("/boCount")===0&&this.oModel.getProperty("/appCount")===0;},onShellSearchButtonPressed:function(e){if(sap.ui.getCore().byId('searchFieldInShell')===undefined){this.init();}else if(!a.isSearchAppActive()&&this.oShellHeader.getSearchState()==='COL'){this.resetModel();}this.setSearchState('EXP');var t=this;function E(o){if(o.keyCode===27){o.preventDefault();if(a.isSearchAppActive()){return;}if(t.oSearchInput){if(t.oSearchInput.getValue()===""){jQuery(document).off('keydown',E);t.setSearchState('COL');window.setTimeout(function(){sap.ui.getCore().byId('sf').focus();},1000);}else if(t.oSearchInput.getValue()===" "){t.oSearchInput.setValue("");}}}}jQuery(document).on('keydown',E);},handleClickSearchButton:function(){if(this.oSearchInput.getValue()===""&&this.oModel.getDataSource()===this.oModel.getDefaultDataSource()){this.setSearchState('COL');window.setTimeout(function(){sap.ui.getCore().byId('sf').focus();},1000);}},focusInputField:function(o){o=o||{};var t=this;if(t.focusInputFieldTimeout){window.clearTimeout(t.focusInputFieldTimeout);t.focusInputFieldTimeout=null;}var d=function(r){if(!t.oSearchInput){return;}t.focusInputFieldTimeout=null;var c=t.oSearchInput.getDomRef();if(c&&jQuery(c).is(':visible')&&!sap.ui.getCore().getUIDirty()){if(t.oSearchInput.getEnabled()){t.oSearchInput.focus();if(o.selectContent){t.oSearchInput.selectText(0,9999);}return;}}if(r>0){t.focusInputFieldTimeout=window.setTimeout(function(){if(!t.oModel.getProperty('/initializingObjSearch')){r--;}d(r);},100);}};d(10);},getDefaultOpen:function(){return this.defaultOpen;},setDefaultOpen:function(d){this.defaultOpen=d;},getSearchInput:function(){return this.oSearchFieldGroup?this.oSearchFieldGroup.input:null;},onAfterNavigate:function(e){if(e.getParameter('toId')!=='shellPage-Action-search'&&e.getParameter('toId')!=='applicationShellPage-Action-search'&&e.getParameter('toId')!=='application-Action-search'){return;}var o=sap.ui.getCore().byId('searchContainerResultsView');if(o&&o.oFocusHandler){o.oFocusHandler.setFocus();}if(o){var c=o.resultList;if(c&&c.getItems()){var M=c.getItems();for(var i=0;i<M.length;i++){var d=M[i];if(d.getContent()&&d.getContent().length>0){d.getContent()[0]._showOrHideExpandButton();}}}}sap.ui.getCore().getEventBus().publish("searchLayoutChanged");},onAllSearchFinished:function(){this.oSearchInput.setValue(this.oModel.getSearchBoxTerm());this.log('search finished');this.setSearchState('EXP_S');},onSearchComponentLoaded:function(){if(!a.isSearchAppActive()){return;}this.setSearchState('EXP_S');},resetModel:function(){this.oSearchInput.setValue('');this.oModel.resetQuery();},logSwitch:true,log:function(){if(!this.logSwitch){return;}var l=function(e){var f=e.getAttribute('id');if(f){return f;}return'unknown_id';};var c=function(e){var r=[];for(var i=0;i<e.classList.length;++i){r.push(e.classList.item(i));}return r.join(',');};var p=['xx'];for(var i=0;i<arguments.length;++i){var d=arguments[i];if(d&&d.getAttribute){p.push(l(d)+','+c(d));continue;}if(d){p.push(d);continue;}p.push('undef');}L.debug(p.join(' | '),undefined,"sap.ushell.renderers.fiori2.search.SearchShellHelper");}});return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/SearchShellHelperAndModuleLoader',['./SearchModel','./SearchShellHelper'],function(S,a){"use strict";S.injectSearchShellHelper(a);a.injectSearchModel(S);return{SearchModel:S,SearchShellHelper:a};});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/SearchTabStripsFormatter',[],function(){"use strict";var m={};m.Node=function(){this.init.apply(this,arguments);};m.Node.prototype={init:function(d,c){this.dataSource=d;this.children=[];this.parent=null;this.count=c;},equals:function(o){return this===o;},setCount:function(c){this.count=c;},getAncestors:function(){var a=[],c=this;while(c.parent){a.push(c.parent);c=c.parent;}return a;},getChildren:function(){var c=[];for(var i=0;i<this.children.length;++i){var a=this.children[i];if(a.unsureWhetherNodeisBelowRoot){continue;}c.push(a);}return c;},getChildrenSortedByCount:function(){var c=this.getChildren();c.sort(function(a,b){return b.count-a.count;});return c;},clearChildren:function(){for(var i=0;i<this.children.length;++i){var c=this.children[i];c.parent=null;}this.children=[];},appendNode:function(n){n.parent=this;this.children.push(n);},appendNodeAtIndex:function(n,i){n.parent=this;this.children.splice(i,0,n);},removeChildNode:function(n){var i=this.children.indexOf(n);if(i<0){return;}this.children.splice(i,1);n.parent=null;},hasChild:function(n){return this.children.indexOf(n)>-1;},hasSibling:function(n){if(this.equals(n)){return false;}var p=this.parent;if(!p){return false;}if(p.hasChild(n)){return true;}return false;},_findNode:function(d,r){if(this.dataSource===d){r.push(this);return;}for(var i=0;i<this.children.length;++i){var c=this.children[i];c._findNode(d,r);if(r.length>0){return;}}}};m.Tree=function(){this.init.apply(this,arguments);};m.Tree.prototype={init:function(r){this.rootNode=new m.Node(r,null);},reset:function(){this.rootNode=null;},invalidate:function(d){var n=this.findNode(d);if(!n){this.rootNode.children=[];this.rootNode.count=0;return;}var c=null;while(n){n.children=c?[c]:[];n.count=null;if(c){c.count=null;}c=n;n=n.parent;}},findNode:function(d){if(!this.rootNode){return null;}var r=[];this.rootNode._findNode(d,r);return r.length>0?r[0]:null;},hasChild:function(d,a){if(a.equals(this.rootNode.dataSource)){return false;}var n=this.findNode(d);if(!n){return false;}var b=this.findNode(a);if(!b){return false;}return n.hasChild(b);},hasSibling:function(d,a){if(a.equals(this.rootNode.dataSource)){return false;}var n=this.findNode(d);if(!n){return false;}var b=this.findNode(a);if(!b){return false;}return n.hasSibling(b);},updateFromPerspective:function(d,p,a){var c;if(p){c=p.totalCount;}var b=this.findNode(d);if(!b){b=new m.Node(d,c);b.unsureWhetherNodeisBelowRoot=true;this.rootNode.appendNode(b);}b.setCount(c);if(d===a.allDataSource){b.setCount(b.count+a.getProperty('/appCount'));}this.updateFromPerspectiveChildDataSources(b,p,a);this.updateAppTreeNode(d,a);},updateAppTreeNode:function(d,a){if(d!==a.allDataSource&&d!==a.appDataSource){return;}var b=this.findNode(a.appDataSource);if(b){this.rootNode.removeChildNode(b);}var c=a.getProperty('/appCount');if(c===0&&d!==a.appDataSource){return;}b=new m.Node(a.appDataSource,c);this.rootNode.appendNodeAtIndex(b,0);},updateFromPerspectiveChildDataSources:function(c,p,a){if(!p||c.dataSource===a.appDataSource){return;}var f=p.facets;if(f.length===0){return;}var d=f[0];if(d.type!==a.sinaNext.FacetType.DataSource){return;}var b=d.items;c.clearChildren();for(var i=0;i<b.length;++i){var e=b[i];var g=e.dataSource;var h=this.findNode(g);if(!h){h=new m.Node(g,e.measureValue);}if(h.unsureWhetherNodeisBelowRoot){h.unsureWhetherNodeisBelowRoot=false;this.rootNode.removeChildNode(h);}if(h.parent){h.parent.removeChildNode(h);}h.setCount(e.measureValue);c.appendNode(h);}}};m.Formatter=function(){this.init.apply(this,arguments);};m.Formatter.prototype={init:function(r){this.tree=new m.Tree(r);},format:function(d,p,a){this.tree.updateFromPerspective(d,p,a);var t=this.generateTabStrips(d,a);return t;},invalidate:function(d){if(this.tree){this.tree.invalidate(d);}},generateTabStrips:function(d,a){var t=9999;var i,c,b;var e={strips:[],selected:null};var n=this.tree.findNode(d);if(!n){if(d!==a.allDataSource){e.strips.push(a.allDataSource);}e.strips.push(d);e.selected=d;return e;}if(n.dataSource===a.allDataSource){e.strips.push(a.allDataSource);b=n.getChildrenSortedByCount();for(i=0;i<b.length&&e.strips.length<t;++i){c=b[i];e.strips.push(c.dataSource);}e.selected=a.allDataSource;return e;}if(n.parent===this.tree.rootNode&&!n.unsureWhetherNodeisBelowRoot){e.strips.push(a.allDataSource);var f=false;b=this.tree.rootNode.getChildrenSortedByCount();for(i=0;i<b.length;++i){c=b[i];if(f){if(e.strips.length>=t){break;}e.strips.push(c.dataSource);}else{if(e.strips.length<t-1||n===c){e.strips.push(c.dataSource);if(n===c){f=true;}}}}if(b.length===0){e.strips.push(n.dataSource);}e.selected=n.dataSource;return e;}e.strips.push(a.allDataSource);e.strips.push(n.dataSource);e.selected=n.dataSource;return e;}};return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/SearchUrlParser',['sap/ushell/renderers/fiori2/search/SearchHelper','sap/ushell/renderers/fiori2/search/SearchUrlParserInav2'],function(S,a){"use strict";var b=function(){this.init.apply(this,arguments);};b.prototype={init:function(p){this.model=p.model;this.urlParserInav2=new a(p);},parse:function(){if(S.getHashFromUrl().indexOf('#Action-search')!==0){return jQuery.when(undefined);}if(!S.hasher.hasChanged()){return jQuery.when(undefined);}return this.model.initBusinessObjSearch().then(function(){var p=S.getUrlParameters();if($.isEmptyObject(p)){return undefined;}if(p.datasource||p.searchterm){return this.urlParserInav2.parseUrlParameters(p);}return this.parseUrlParameters(p);}.bind(this)).then(function(){this.model.setProperty("/searchTermPlaceholder",this.model.calculatePlaceholder());this.model.calculateSearchButtonStatus();this.model._firePerspectiveQuery(true);}.bind(this));},parseUrlParameters:function(p){if(p.top){var t=parseInt(p.top,10);this.model.setTop(t,false);}var f;if(p.filter){var c=JSON.parse(p.filter);try{f=this.model.sinaNext.parseFilterFromJson(c);}catch(e){f=this.model.sinaNext.createFilter();if(c.searchTerm){f.setSearchTerm(c.searchTerm);}sap.m.MessageBox.show(sap.ushell.resources.i18n.getText('searchUrlParsingErrorLong')+'\n('+e.toString()+')',{icon:sap.m.MessageBox.Icon.ERROR,title:sap.ushell.resources.i18n.getText('searchUrlParsingError'),actions:[sap.m.MessageBox.Action.OK]});}this.model.setProperty("/uiFilter",f);this.model.setDataSource(f.dataSource,false,false);}},render:function(){return this.renderFromParameters(this.model.getTop(),this.model.getProperty('/uiFilter'),true);},renderFromParameters:function(t,f,e){var h="#Action-search";h+="&/top="+t;if(e){h+="&filter="+encodeURIComponent(JSON.stringify(f.toJson()));}else{h+="&filter="+JSON.stringify(f.toJson());}return h;}};return b;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/SearchUrlParserInav2',['./SearchHelper'],function(S){"use strict";var a=function(){this.init.apply(this,arguments);};a.prototype={init:function(p){this.model=p.model;},parseUrlParameters:function(p){if(p.top){var t=parseInt(p.top,10);this.model.setTop(t,false);}var d=this.model.sinaNext.allDataSource;if(p.datasource){var b=JSON.parse(p.datasource);var c=b.ObjectName.value;switch(b.Type){case'Category':if(c==='$$ALL$$'){d=this.model.sinaNext.allDataSource;}else{d=this.model.sinaNext.getDataSource(c);if(!d){d=this.model.sinaNext._createDataSource({type:this.model.sinaNext.DataSourceType.Category,id:c,label:b.label,labelPlural:b.labelPlural});}}break;case'BusinessObject':d=this.model.sinaNext.getDataSource(c);if(!d){d=this.model.sinaNext.allDataSource;delete p.filter;sap.m.MessageBox.show(sap.ushell.resources.i18n.getText('searchUrlParsingErrorLong')+'\n(Unknow datasource '+c+')',{icon:sap.m.MessageBox.Icon.ERROR,title:sap.ushell.resources.i18n.getText('searchUrlParsingError'),actions:[sap.m.MessageBox.Action.OK]});}break;default:throw'unknown datasource type '+b.Type;}}return S.convertPromiseTojQueryDeferred(this.model.sinaNext.loadMetadata(d)).then(function(){var e={dataSource:d};var r;if(p.filter){var f=JSON.parse(p.filter);r=this.parseCondition(e,f);}else{r=this.model.sinaNext.createComplexCondition();}var g=this.model.sinaNext.createFilter({dataSource:d,searchTerm:p.searchterm,rootCondition:r});this.model.setProperty("/uiFilter",g);this.model.setDataSource(g.dataSource,false);}.bind(this));},parseCondition:function(c,b){if(b.conditions){return this.parseComplexCondition(c,b);}return this.parseSimpleCondition(c,b);},parseComplexCondition:function(c,b){var s=[];for(var i=0;i<b.conditions.length;++i){var d=b.conditions[i];s.push(this.parseCondition(c,d));}return this.model.sinaNext.createComplexCondition({operator:b.operator,conditions:s,valueLabel:b.label});},parseSimpleCondition:function(c,b){c.attribute=b.attribute;return this.model.sinaNext.createSimpleCondition({attribute:b.attribute,attributeLabel:b.attributeLabel,value:this.parseValue(c,b.value),valueLabel:b.valueLabel||b.label,operator:this.parseOperator(c,b.operator)});},parseValue:function(c,v){var m=c.dataSource.getAttributeMetadata(c.attribute);return this.model.sinaNext.inav2TypeConverter.ina2Sina(m.type,v);},parseOperator:function(c,o){switch(o){case'=':return this.model.sinaNext.ComparisonOperator.Eq;case'>':return this.model.sinaNext.ComparisonOperator.Gt;case'>=':return this.model.sinaNext.ComparisonOperator.Ge;case'<':return this.model.sinaNext.ComparisonOperator.Lt;case'<=':return this.model.sinaNext.ComparisonOperator.Le;default:throw'Unknown operator '+o;}}};return a;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/UXLog',['sap/ushell/renderers/fiori2/search/SearchHelper'],function(S){"use strict";var m={};jQuery.extend(m,{logLines:[],log:function(){this._log.apply(this,arguments);},_log:function(t){this.logLines.push(t);this._save();},_save:function(){jQuery.ajax({type:'PUT',url:'/uxlog.txt',data:this.logLines.join('\n')+'\n',contentType:'text/plain'});this.logLines=[];}});m._save=S.delayedExecution(m._save,2000);return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/appsearch/AppSearch',['sap/ushell/renderers/fiori2/search/appsearch/CatalogSearch','sap/ushell/renderers/fiori2/search/appsearch/TransactionSearch'],function(C,T){"use strict";var A=function(){this.init.apply(this,arguments);};A.prototype={init:function(p){this.catalogSearch=new C(p);this.transactionSearch=new T(p);this.searchProviders=[this.catalogSearch,this.transactionSearch];},prefetch:function(){for(var i=0;i<this.searchProviders.length;i++){var s=this.searchProviders[i];s.prefetch();}},search:function(q){var a=[];for(var i=0;i<this.searchProviders.length;i++){var s=this.searchProviders[i];a.push(s.search(q));}return jQuery.when.apply(null,a).then(function(){var b=arguments;var r={totalCount:0,tiles:[]};for(var i=0;i<b.length;i++){var c=b[i];r.totalCount+=c.totalCount;r.tiles.push.apply(r.tiles,c.tiles);}return r;});}};return A;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/appsearch/CatalogSearch',['sap/ushell/renderers/fiori2/search/appsearch/JsSearchFactory','sap/base/Log','sap/ui/Device'],function(c,L,d){"use strict";var C=function(){this.init.apply(this,arguments);};C.prototype={init:function(p){this.launchPageService=sap.ushell.Container.getService("LaunchPage");this.optimizedAppSearch=p.optimizedAppSearch;this.searchEngines={};},prefetch:function(){return this._getTiles();},search:function(q){q.scope=q.scope||'allTiles';return this._getSearchEngine(q.scope).then(function(s){var a;try{a=s.search({searchFor:q.searchTerm,top:q.top,skip:q.skip});}catch(e){var b=new jQuery.Deferred();b.reject(e);return b;}var r=[];for(var i=0;i<a.results.length;++i){var f=a.results[i];var t=f.object;var h=f.highlighted.label;r.push(this._formatTile(t,h));}return{totalCount:a.totalCount,tiles:r};}.bind(this));},_getView:function(t){try{var a=t.tile.getContract('types');a.setType('tile');}catch(e){}var v=sap.ushell.Container.getService('LaunchPage').getCatalogTileView(t.tile);if(!v){v=new sap.m.GenericTile({header:t.title,subheader:t.subtitle,tileContent:new sap.m.TileContent({content:new sap.m.ImageContent({src:t.icon})}),press:function(E){var f=this.getModel().getProperty(E.getSource().getBindingContext().sPath);window.location.hash=f.url;}});}var b='app';if(t.tile.getTitle){b=t.tile.getTitle();}v.eventLoggingData={targetUrl:t.url,title:b};return v;},_getTiles:function(){var t=this;if(this.loadDeferred){return this.loadDeferred;}this.loadDeferred=this.launchPageService.getCatalogs().then(function(a){var b=[];for(var i=0;i<a.length;i++){b.push(this.launchPageService.getCatalogTiles(a[i]));}b.push(this._getPersonalizedGroupTiles());return jQuery.when.apply(jQuery,b).then(function(){var f=Array.prototype.slice.call(arguments);var a=f.slice(0,-1);var p=f.slice(-1);var g,h,k;try{k=[];return t._collectTilesOfCatalogs(a).then(function(r){g=[];for(var i=0;i<r.length;i++){g=g.concat(r[i]);}t._sortTiles(g);k.push.apply(k,g);k=t._removeDuplicateTiles(k);return t._collectTilesOfCatalogs(p);}).then(function(r){h=[];for(var j=0;j<r.length;j++){h=h.concat(r[j]);}t._sortTiles(h);k.push.apply(k,h);k=t._removeDuplicateTiles(k);t._sortTiles(k);return{catalogTiles:g,personalizedTiles:h,allTiles:k};});}catch(e){return jQuery.Deferred().reject(e);}});}.bind(this));return this.loadDeferred;},_getSearchEngine:function(s){return this._getTiles().then(function(t){var a=this.searchEngines[s];if(a){return a;}var b=true;var i=d&&d.browser&&d.browser.msie||false;if(!String.prototype.normalize||i){b=false;}a=c.createJsSearch({objects:t[s],fields:['label','keywords'],shouldNormalize:b});this.searchEngines[s]=a;return a;}.bind(this));},_formatTile:function(t,h){var a=this;var r=jQuery.extend({},t);if(h){r.label=h;}r.type="catalog";r.getView=function(){return a._getView(this);};return r;},_isTileViewNeeded:function(t){if(this.optimizedAppSearch){return false;}return!this.launchPageService.getCatalogTilePreviewTitle(t);},_collectTilesOfCatalogs:function(a){var p=[];for(var i=0;i<a.length;i++){p.push(this._collectTilesOfCatalog(a[i]));}return jQuery.when.apply(null,p).then(function(){var t=[];for(var i=0;i<arguments.length;i++){if(arguments[i].length!==0){t.push(arguments[i]);}}return t;},function(e){});},_collectTilesOfCatalog:function(a){var p=[];for(var i=0;i<a.length;i++){p.push(this._getTileAsync(a[i]));}return jQuery.when.apply(null,p).then(function(){var t=[];for(var i=0;i<arguments.length;i++){if(arguments[i]!==null){t.push(arguments[i]);}}return t;},function(e){});},_getTileAsync:function(t){var p=new jQuery.Deferred();var a,b,k,f,s,g,i;try{a=null;if(this._isTileViewNeeded(t)){a=this.launchPageService.getCatalogTileView(t);}k=this.launchPageService.getCatalogTileKeywords(t);f=this.launchPageService.getCatalogTileTargetURL(t);b=this.launchPageService.getCatalogTilePreviewTitle(t)||this.launchPageService.getCatalogTileTitle(t);s=this.launchPageService.getCatalogTilePreviewSubtitle(t);g=this.launchPageService.getCatalogTileSize(t);i=this.launchPageService.getCatalogTilePreviewIcon(t)||"sap-icon://business-objects-experience";if(a){if(!a.destroy){var h=new Error('The tileview "'+b+'" with target url "'+f+'" does not implement mandatory function destroy!');h.name='Missing Impementation';throw h;}a.destroy();}if(t.getContract){var j=t.getContract("preview");if(j){j.setEnabled(false);}}if(!this._isValid(t)){p.resolve(null);}if(!f){p.resolve(null);}var l=b;if(s){l+=' - '+s;}p.resolve({tile:t,keywords:(k instanceof Array)?k.join(' '):k,url:f,label:l,title:b||'',subtitle:s||'',tooltip:b||'',icon:i,size:g});}catch(e){p.resolve(null);L.error(e);if(e.toString().indexOf('does not implement mandatory function destroy')>=0){throw e;}}return p;},_isValid:function(t){if(this.launchPageService.isTileIntentSupported){return this.launchPageService.isTileIntentSupported(t);}return true;},_getPersonalizedGroupTiles:function(){return this.launchPageService.getGroups().then(function(g){var r=[];for(var j=0;j<g.length;j++){var t=this.launchPageService.getGroupTiles(g[j])||[];r.push.apply(r,t);}return r;}.bind(this));},_calcKey:function(t){return t.title+'$$'+t.subtitle+'$$'+t.url+'$$'+t.icon;},_removeDuplicateTiles:function(t){var a={};var r=[];for(var i=0;i<t.length;++i){var b=t[i];var k=this._calcKey(b);if(a[k]){continue;}a[k]=b;r.push(b);}return r;},_sortTiles:function(t){t.sort(function(a,b){if(a.title.toUpperCase()<b.title.toUpperCase()){return-1;}if(a.title.toUpperCase()>b.title.toUpperCase()){return 1;}return 0;});}};return C;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/appsearch/JsSearch',[],function(){"use strict";return function J(o){var d=this;if(!o){throw new Error('You must specify search options');}if(String.prototype.normalize){o.shouldNormalize=o.shouldNormalize!==undefined?o.shouldNormalize:true;}else{o.shouldNormalize=false;}if(!o.algorithm||!o.algorithm.id||!Array.isArray(o.algorithm.options)||typeof o.algorithm.options[0]!=='number'||typeof o.algorithm.options[1]!=='number'||typeof o.algorithm.options[2]!=='number'||typeof o.algorithm.options[3]!=='number'||typeof o.algorithm.options[4]!=='number'||typeof o.algorithm.options[5]!=='number'||typeof o.algorithm.options[6]!=='number'){throw new Error('You must specify a supported search algorithm with all options');}var e=_(o.algorithm.id,o.algorithm.options);if(e===undefined){throw new Error('You must specify a supported search algorithm');}var h=[];if(Array.isArray(o.fields)){o.fields.forEach(function(f){if(typeof f==='string'){h.push({field:f,weight:3});}});}else if(o.fields){if(Array.isArray(o.fields.groups)){var l=parseFloat(o.fields.scale);if(isNaN(l)){l=1;}else{l=Math.max(1,l);}o.fields.groups.forEach(function(g,i){var w=((o.fields.groups.length-1)-i)/(o.fields.groups.length-1)*(l-1)+1;if(Array.isArray(g)){g.forEach(function(f){if(typeof f==='string'){h.push({field:f,weight:w});}});}else if(typeof g==='string'){h.push({field:g,weight:w});}});}}if(h.length<1){throw new Error('You must specify fields to search in');}var n;var p=[];var q;this.setObjects=function(O){if(!Array.isArray(O)){throw new Error('You must give an array of objects');}q=O;n=undefined;};if(o.objects){this.setObjects(o.objects);}function u(s,m){var t=s;t=t.replace(/\[(\^?)(\\s)?a0\]/g,'[$1$2\\p{Letter}\\p{Number}]');t=t.replace(/\[(\^?)(\\s)?a\]/g,'[$1$2\\p{Letter}]');t=t.replace(/\[(\^?)(\\s)?0\]/g,'[$1$2\\p{Number}]');t=t.replace(/\[(\^?)(\\s)?a0\]/g,'[$1$2\\p{Number}]');t=t.replace(/\[\^\\p{Letter}\]/g,'(?:[\0-@\[-`\{-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u036F\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482-\u0489\u0530\u0557\u0558\u055A-\u0560\u0588-\u05CF\u05EB-\u05EF\u05F3-\u061F\u064B-\u066D\u0670\u06D4\u06D6-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u06FD\u06FE\u0700-\u070F\u0711\u0730-\u074C\u07A6-\u07B0\u07B2-\u07C9\u07EB-\u07F3\u07F6-\u07F9\u07FB-\u07FF\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u083F\u0859-\u085F\u086B-\u089F\u08B5\u08BE-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0970\u0981-\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA-\u09BC\u09BE-\u09CD\u09CF-\u09DB\u09DE\u09E2-\u09EF\u09F2-\u09FB\u09FD-\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A-\u0A58\u0A5D\u0A5F-\u0A71\u0A75-\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA-\u0ABC\u0ABE-\u0ACF\u0AD1-\u0ADF\u0AE2-\u0AF8\u0AFA-\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A-\u0B3C\u0B3E-\u0B5B\u0B5E\u0B62-\u0B70\u0B72-\u0B82\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BCF\u0BD1-\u0C04\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C3E-\u0C57\u0C5B-\u0C5F\u0C62-\u0C7F\u0C81-\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA-\u0CBC\u0CBE-\u0CDD\u0CDF\u0CE2-\u0CF0\u0CF3-\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D3E-\u0D4D\u0D4F-\u0D53\u0D57-\u0D5E\u0D62-\u0D79\u0D80-\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0E00\u0E31\u0E34-\u0E3F\u0E47-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EB1\u0EB4-\u0EBC\u0EBE\u0EBF\u0EC5\u0EC7-\u0EDB\u0EE0-\u0EFF\u0F01-\u0F3F\u0F48\u0F6D-\u0F87\u0F8D-\u0FFF\u102B-\u103E\u1040-\u104F\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16F0\u16F9-\u16FF\u170D\u1712-\u171F\u1732-\u173F\u1752-\u175F\u176D\u1771-\u177F\u17B4-\u17D6\u17D8-\u17DB\u17DD-\u181F\u1878-\u187F\u1885\u1886\u18A9\u18AB-\u18AF\u18F6-\u18FF\u191F-\u194F\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19FF\u1A17-\u1A1F\u1A55-\u1AA6\u1AA8-\u1B04\u1B34-\u1B44\u1B4C-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BFF\u1C24-\u1C4C\u1C50-\u1C59\u1C7E\u1C7F\u1C89-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CFF\u1DC0-\u1DFF\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u2070\u2072-\u207E\u2080-\u208F\u209D-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F-\u2182\u2185-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF4-\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7F\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF-\u2E2E\u2E30-\u3004\u3007-\u3030\u3036-\u303A\u303D-\u3040\u3097-\u309C\u30A0\u30FB\u3100-\u3104\u312F\u3130\u318F-\u319F\u31BB-\u31EF\u3200-\u33FF\u4DB6-\u4DFF\u9FEB-\u9FFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA620-\uA629\uA62C-\uA63F\uA66F-\uA67E\uA69E\uA69F\uA6E6-\uA716\uA720\uA721\uA789\uA78A\uA7AF\uA7B8-\uA7F6\uA802\uA806\uA80B\uA823-\uA83F\uA874-\uA881\uA8B4-\uA8F1\uA8F8-\uA8FA\uA8FC\uA8FE-\uA909\uA926-\uA92F\uA947-\uA95F\uA97D-\uA983\uA9B3-\uA9CE\uA9D0-\uA9DF\uA9E5\uA9F0-\uA9F9\uA9FF\uAA29-\uAA3F\uAA43\uAA4C-\uAA5F\uAA77-\uAA79\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAC3-\uAADA\uAADE\uAADF\uAAEB-\uAAF1\uAAF5-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB66-\uAB6F\uABE3-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB1E\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFE6F\uFE75\uFEFD-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEFF\uDF20-\uDF2C\uDF41\uDF4A-\uDF4F\uDF76-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0-\uDFFF]|\uD801[\uDC9E-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56-\uDC5F\uDC77-\uDC7F\uDC9F-\uDCDF\uDCF3\uDCF6-\uDCFF\uDD16-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE01-\uDE0F\uDE14\uDE18\uDE34-\uDE5F\uDE7D-\uDE7F\uDE9D-\uDEBF\uDEC8\uDEE5-\uDEFF\uDF36-\uDF3F\uDF56-\uDF5F\uDF73-\uDF7F\uDF92-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDFFF]|\uD804[\uDC00-\uDC02\uDC38-\uDC82\uDCB0-\uDCCF\uDCE9-\uDD02\uDD27-\uDD4F\uDD73-\uDD75\uDD77-\uDD82\uDDB3-\uDDC0\uDDC5-\uDDD9\uDDDB\uDDDD-\uDDFF\uDE12\uDE2C-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEDF-\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A-\uDF3C\uDF3E-\uDF4F\uDF51-\uDF5C\uDF62-\uDFFF]|\uD805[\uDC35-\uDC46\uDC4B-\uDC7F\uDCB0-\uDCC3\uDCC6\uDCC8-\uDD7F\uDDAF-\uDDD7\uDDDC-\uDDFF\uDE30-\uDE43\uDE45-\uDE7F\uDEAB-\uDEFF\uDF1A-\uDFFF]|\uD806[\uDC00-\uDC9F\uDCE0-\uDCFE\uDD00-\uDDFF\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE4F\uDE51-\uDE5B\uDE84\uDE85\uDE8A-\uDEBF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC2F-\uDC3F\uDC41-\uDC71\uDC90-\uDCFF\uDD07\uDD0A\uDD31-\uDD45\uDD47-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC00-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80B\uD80E-\uD810\uD812-\uD819\uD823-\uD82B\uD82D\uD82E\uD830-\uD834\uD836-\uD839\uD83C-\uD83F\uD87B-\uD87D\uD87F-\uDBFF][\uDC00-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F-\uDECF\uDEEE-\uDEFF\uDF30-\uDF3F\uDF44-\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDEFF\uDF45-\uDF4F\uDF51-\uDF92\uDFA0-\uDFDF\uDFE2-\uDFFF]|\uD821[\uDFED-\uDFFF]|\uD822[\uDEF3-\uDFFF]|\uD82C[\uDD1F-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC-\uDFFF]|\uD83A[\uDCC5-\uDCFF\uDD44-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD869[\uDED7-\uDEFF]|\uD86D[\uDF35-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])');t=t.replace(/\[\^\\p{Number}\]/g,'(?:[\0-\/:-\xB1\xB4-\xB8\xBA\xBB\xBF-\u065F\u066A-\u06EF\u06FA-\u07BF\u07CA-\u0965\u0970-\u09E5\u09F0-\u09F3\u09FA-\u0A65\u0A70-\u0AE5\u0AF0-\u0B65\u0B70\u0B71\u0B78-\u0BE5\u0BF3-\u0C65\u0C70-\u0C77\u0C7F-\u0CE5\u0CF0-\u0D57\u0D5F-\u0D65\u0D79-\u0DE5\u0DF0-\u0E4F\u0E5A-\u0ECF\u0EDA-\u0F1F\u0F34-\u103F\u104A-\u108F\u109A-\u1368\u137D-\u16ED\u16F1-\u17DF\u17EA-\u17EF\u17FA-\u180F\u181A-\u1945\u1950-\u19CF\u19DB-\u1A7F\u1A8A-\u1A8F\u1A9A-\u1B4F\u1B5A-\u1BAF\u1BBA-\u1C3F\u1C4A-\u1C4F\u1C5A-\u206F\u2071-\u2073\u207A-\u207F\u208A-\u214F\u2183\u2184\u218A-\u245F\u249C-\u24E9\u2500-\u2775\u2794-\u2CFC\u2CFE-\u3006\u3008-\u3020\u302A-\u3037\u303B-\u3191\u3196-\u321F\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\uA61F\uA62A-\uA6E5\uA6F0-\uA82F\uA836-\uA8CF\uA8DA-\uA8FF\uA90A-\uA9CF\uA9DA-\uA9EF\uA9FA-\uAA4F\uAA5A-\uABEF\uABFA-\uD7FF\uE000-\uFF0F\uFF1A-\uFFFF]|\uD800[\uDC00-\uDD06\uDD34-\uDD3F\uDD79-\uDD89\uDD8C-\uDEE0\uDEFC-\uDF1F\uDF24-\uDF40\uDF42-\uDF49\uDF4B-\uDFD0\uDFD6-\uDFFF]|\uD801[\uDC00-\uDC9F\uDCAA-\uDFFF]|\uD802[\uDC00-\uDC57\uDC60-\uDC78\uDC80-\uDCA6\uDCB0-\uDCFA\uDD00-\uDD15\uDD1C-\uDDBB\uDDBE\uDDBF\uDDD0\uDDD1\uDE00-\uDE3F\uDE48-\uDE7C\uDE7F-\uDE9C\uDEA0-\uDEEA\uDEF0-\uDF57\uDF60-\uDF77\uDF80-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC00-\uDCF9\uDD00-\uDE5F\uDE7F-\uDFFF]|\uD804[\uDC00-\uDC51\uDC70-\uDCEF\uDCFA-\uDD35\uDD40-\uDDCF\uDDDA-\uDDE0\uDDF5-\uDEEF\uDEFA-\uDFFF]|[\uD805\uD807][\uDC00-\uDC4F\uDC5A-\uDCCF\uDCDA-\uDE4F\uDE5A-\uDEBF\uDECA-\uDF2F\uDF3C-\uDFFF]|\uD806[\uDC00-\uDCDF\uDCF3-\uDFFF]|[\uD808\uD80A-\uD819\uD81B-\uD833\uD836-\uD839\uD83B\uD83D-\uDBFF][\uDC00-\uDFFF]|\uD809[\uDC6F-\uDFFF]|\uD81A[\uDC00-\uDE5F\uDE6A-\uDF4F\uDF5A\uDF62-\uDFFF]|\uD834[\uDC00-\uDF5F\uDF72-\uDFFF]|\uD835[\uDC00-\uDFCD]|\uD83A[\uDC00-\uDCC6\uDCD0-\uDD4F\uDD5A-\uDFFF]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])');t=t.replace(/\[\^\\p{Letter}\\p{Number}\]/g,'(?:[\0-\/:-@\[-`\{-\xA9\xAB-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u036F\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482-\u0489\u0530\u0557\u0558\u055A-\u0560\u0588-\u05CF\u05EB-\u05EF\u05F3-\u061F\u064B-\u065F\u066A-\u066D\u0670\u06D4\u06D6-\u06E4\u06E7-\u06ED\u06FD\u06FE\u0700-\u070F\u0711\u0730-\u074C\u07A6-\u07B0\u07B2-\u07BF\u07EB-\u07F3\u07F6-\u07F9\u07FB-\u07FF\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u083F\u0859-\u085F\u086B-\u089F\u08B5\u08BE-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0965\u0970\u0981-\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA-\u09BC\u09BE-\u09CD\u09CF-\u09DB\u09DE\u09E2-\u09E5\u09F2\u09F3\u09FA\u09FB\u09FD-\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A-\u0A58\u0A5D\u0A5F-\u0A65\u0A70\u0A71\u0A75-\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA-\u0ABC\u0ABE-\u0ACF\u0AD1-\u0ADF\u0AE2-\u0AE5\u0AF0-\u0AF8\u0AFA-\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A-\u0B3C\u0B3E-\u0B5B\u0B5E\u0B62-\u0B65\u0B70\u0B78-\u0B82\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BCF\u0BD1-\u0BE5\u0BF3-\u0C04\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C3E-\u0C57\u0C5B-\u0C5F\u0C62-\u0C65\u0C70-\u0C77\u0C7F\u0C81-\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA-\u0CBC\u0CBE-\u0CDD\u0CDF\u0CE2-\u0CE5\u0CF0\u0CF3-\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D3E-\u0D4D\u0D4F-\u0D53\u0D57\u0D62-\u0D65\u0D79\u0D80-\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DE5\u0DF0-\u0E00\u0E31\u0E34-\u0E3F\u0E47-\u0E4F\u0E5A-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EB1\u0EB4-\u0EBC\u0EBE\u0EBF\u0EC5\u0EC7-\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F1F\u0F34-\u0F3F\u0F48\u0F6D-\u0F87\u0F8D-\u0FFF\u102B-\u103E\u104A-\u104F\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B-\u1368\u137D-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16ED\u16F9-\u16FF\u170D\u1712-\u171F\u1732-\u173F\u1752-\u175F\u176D\u1771-\u177F\u17B4-\u17D6\u17D8-\u17DB\u17DD-\u17DF\u17EA-\u17EF\u17FA-\u180F\u181A-\u181F\u1878-\u187F\u1885\u1886\u18A9\u18AB-\u18AF\u18F6-\u18FF\u191F-\u1945\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19FF\u1A17-\u1A1F\u1A55-\u1A7F\u1A8A-\u1A8F\u1A9A-\u1AA6\u1AA8-\u1B04\u1B34-\u1B44\u1B4C-\u1B4F\u1B5A-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BFF\u1C24-\u1C3F\u1C4A-\u1C4C\u1C7E\u1C7F\u1C89-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CFF\u1DC0-\u1DFF\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u206F\u2072\u2073\u207A-\u207E\u208A-\u208F\u209D-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A-\u245F\u249C-\u24E9\u2500-\u2775\u2794-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF4-\u2CFC\u2CFE\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7F\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF-\u2E2E\u2E30-\u3004\u3008-\u3020\u302A-\u3030\u3036\u3037\u303D-\u3040\u3097-\u309C\u30A0\u30FB\u3100-\u3104\u312F\u3130\u318F-\u3191\u3196-\u319F\u31BB-\u31EF\u3200-\u321F\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DB6-\u4DFF\u9FEB-\u9FFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA62C-\uA63F\uA66F-\uA67E\uA69E\uA69F\uA6F0-\uA716\uA720\uA721\uA789\uA78A\uA7AF\uA7B8-\uA7F6\uA802\uA806\uA80B\uA823-\uA82F\uA836-\uA83F\uA874-\uA881\uA8B4-\uA8CF\uA8DA-\uA8F1\uA8F8-\uA8FA\uA8FC\uA8FE\uA8FF\uA926-\uA92F\uA947-\uA95F\uA97D-\uA983\uA9B3-\uA9CE\uA9DA-\uA9DF\uA9E5\uA9FF\uAA29-\uAA3F\uAA43\uAA4C-\uAA4F\uAA5A-\uAA5F\uAA77-\uAA79\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAC3-\uAADA\uAADE\uAADF\uAAEB-\uAAF1\uAAF5-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB66-\uAB6F\uABE3-\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB1E\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFE6F\uFE75\uFEFD-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDD06\uDD34-\uDD3F\uDD79-\uDD89\uDD8C-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEE0\uDEFC-\uDEFF\uDF24-\uDF2C\uDF4B-\uDF4F\uDF76-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56\uDC57\uDC77\uDC78\uDC9F-\uDCA6\uDCB0-\uDCDF\uDCF3\uDCF6-\uDCFA\uDD1C-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBB\uDDD0\uDDD1\uDE01-\uDE0F\uDE14\uDE18\uDE34-\uDE3F\uDE48-\uDE5F\uDE7F\uDEA0-\uDEBF\uDEC8\uDEE5-\uDEEA\uDEF0-\uDEFF\uDF36-\uDF3F\uDF56\uDF57\uDF73-\uDF77\uDF92-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCF9\uDD00-\uDE5F\uDE7F-\uDFFF]|\uD804[\uDC00-\uDC02\uDC38-\uDC51\uDC70-\uDC82\uDCB0-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDD02\uDD27-\uDD35\uDD40-\uDD4F\uDD73-\uDD75\uDD77-\uDD82\uDDB3-\uDDC0\uDDC5-\uDDCF\uDDDB\uDDDD-\uDDE0\uDDF5-\uDDFF\uDE12\uDE2C-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEDF-\uDEEF\uDEFA-\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A-\uDF3C\uDF3E-\uDF4F\uDF51-\uDF5C\uDF62-\uDFFF]|\uD805[\uDC35-\uDC46\uDC4B-\uDC4F\uDC5A-\uDC7F\uDCB0-\uDCC3\uDCC6\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDAF-\uDDD7\uDDDC-\uDDFF\uDE30-\uDE43\uDE45-\uDE4F\uDE5A-\uDE7F\uDEAB-\uDEBF\uDECA-\uDEFF\uDF1A-\uDF2F\uDF3C-\uDFFF]|\uD806[\uDC00-\uDC9F\uDCF3-\uDCFE\uDD00-\uDDFF\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE4F\uDE51-\uDE5B\uDE84\uDE85\uDE8A-\uDEBF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC2F-\uDC3F\uDC41-\uDC4F\uDC6D-\uDC71\uDC90-\uDCFF\uDD07\uDD0A\uDD31-\uDD45\uDD47-\uDD4F\uDD5A-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80B\uD80E-\uD810\uD812-\uD819\uD823-\uD82B\uD82D\uD82E\uD830-\uD833\uD836-\uD839\uD83D-\uD83F\uD87B-\uD87D\uD87F-\uDBFF][\uDC00-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDECF\uDEEE-\uDEFF\uDF30-\uDF3F\uDF44-\uDF4F\uDF5A\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDEFF\uDF45-\uDF4F\uDF51-\uDF92\uDFA0-\uDFDF\uDFE2-\uDFFF]|\uD821[\uDFED-\uDFFF]|\uD822[\uDEF3-\uDFFF]|\uD82C[\uDD1F-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDFFF]|\uD834[\uDC00-\uDF5F\uDF72-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC\uDFCD]|\uD83A[\uDCC5\uDCC6\uDCD0-\uDCFF\uDD44-\uDD4F\uDD5A-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDFFF]|\uD869[\uDED7-\uDEFF]|\uD86D[\uDF35-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])');t=t.replace(/\[\^\\s\\p{Letter}\\p{Number}\]/g,'(?:[\0-\x08\x0E-\x1F!-\/:-@\[-`\{-\x9F\xA1-\xA9\xAB-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u036F\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482-\u0489\u0530\u0557\u0558\u055A-\u0560\u0588-\u05CF\u05EB-\u05EF\u05F3-\u061F\u064B-\u065F\u066A-\u066D\u0670\u06D4\u06D6-\u06E4\u06E7-\u06ED\u06FD\u06FE\u0700-\u070F\u0711\u0730-\u074C\u07A6-\u07B0\u07B2-\u07BF\u07EB-\u07F3\u07F6-\u07F9\u07FB-\u07FF\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u083F\u0859-\u085F\u086B-\u089F\u08B5\u08BE-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0965\u0970\u0981-\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA-\u09BC\u09BE-\u09CD\u09CF-\u09DB\u09DE\u09E2-\u09E5\u09F2\u09F3\u09FA\u09FB\u09FD-\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A-\u0A58\u0A5D\u0A5F-\u0A65\u0A70\u0A71\u0A75-\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA-\u0ABC\u0ABE-\u0ACF\u0AD1-\u0ADF\u0AE2-\u0AE5\u0AF0-\u0AF8\u0AFA-\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A-\u0B3C\u0B3E-\u0B5B\u0B5E\u0B62-\u0B65\u0B70\u0B78-\u0B82\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BCF\u0BD1-\u0BE5\u0BF3-\u0C04\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C3E-\u0C57\u0C5B-\u0C5F\u0C62-\u0C65\u0C70-\u0C77\u0C7F\u0C81-\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA-\u0CBC\u0CBE-\u0CDD\u0CDF\u0CE2-\u0CE5\u0CF0\u0CF3-\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D3E-\u0D4D\u0D4F-\u0D53\u0D57\u0D62-\u0D65\u0D79\u0D80-\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DE5\u0DF0-\u0E00\u0E31\u0E34-\u0E3F\u0E47-\u0E4F\u0E5A-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EB1\u0EB4-\u0EBC\u0EBE\u0EBF\u0EC5\u0EC7-\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F1F\u0F34-\u0F3F\u0F48\u0F6D-\u0F87\u0F8D-\u0FFF\u102B-\u103E\u104A-\u104F\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B-\u1368\u137D-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u169B-\u169F\u16EB-\u16ED\u16F9-\u16FF\u170D\u1712-\u171F\u1732-\u173F\u1752-\u175F\u176D\u1771-\u177F\u17B4-\u17D6\u17D8-\u17DB\u17DD-\u17DF\u17EA-\u17EF\u17FA-\u180F\u181A-\u181F\u1878-\u187F\u1885\u1886\u18A9\u18AB-\u18AF\u18F6-\u18FF\u191F-\u1945\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19FF\u1A17-\u1A1F\u1A55-\u1A7F\u1A8A-\u1A8F\u1A9A-\u1AA6\u1AA8-\u1B04\u1B34-\u1B44\u1B4C-\u1B4F\u1B5A-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BFF\u1C24-\u1C3F\u1C4A-\u1C4C\u1C7E\u1C7F\u1C89-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CFF\u1DC0-\u1DFF\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u206F\u2072\u2073\u207A-\u207E\u208A-\u208F\u209D-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A-\u245F\u249C-\u24E9\u2500-\u2775\u2794-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF4-\u2CFC\u2CFE\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7F\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF-\u2E2E\u2E30-\u2FFF\u3001-\u3004\u3008-\u3020\u302A-\u3030\u3036\u3037\u303D-\u3040\u3097-\u309C\u30A0\u30FB\u3100-\u3104\u312F\u3130\u318F-\u3191\u3196-\u319F\u31BB-\u31EF\u3200-\u321F\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DB6-\u4DFF\u9FEB-\u9FFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA62C-\uA63F\uA66F-\uA67E\uA69E\uA69F\uA6F0-\uA716\uA720\uA721\uA789\uA78A\uA7AF\uA7B8-\uA7F6\uA802\uA806\uA80B\uA823-\uA82F\uA836-\uA83F\uA874-\uA881\uA8B4-\uA8CF\uA8DA-\uA8F1\uA8F8-\uA8FA\uA8FC\uA8FE\uA8FF\uA926-\uA92F\uA947-\uA95F\uA97D-\uA983\uA9B3-\uA9CE\uA9DA-\uA9DF\uA9E5\uA9FF\uAA29-\uAA3F\uAA43\uAA4C-\uAA4F\uAA5A-\uAA5F\uAA77-\uAA79\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAC3-\uAADA\uAADE\uAADF\uAAEB-\uAAF1\uAAF5-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB66-\uAB6F\uABE3-\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB1E\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFE6F\uFE75\uFEFD\uFEFE\uFF00-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDD06\uDD34-\uDD3F\uDD79-\uDD89\uDD8C-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEE0\uDEFC-\uDEFF\uDF24-\uDF2C\uDF4B-\uDF4F\uDF76-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56\uDC57\uDC77\uDC78\uDC9F-\uDCA6\uDCB0-\uDCDF\uDCF3\uDCF6-\uDCFA\uDD1C-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBB\uDDD0\uDDD1\uDE01-\uDE0F\uDE14\uDE18\uDE34-\uDE3F\uDE48-\uDE5F\uDE7F\uDEA0-\uDEBF\uDEC8\uDEE5-\uDEEA\uDEF0-\uDEFF\uDF36-\uDF3F\uDF56\uDF57\uDF73-\uDF77\uDF92-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCF9\uDD00-\uDE5F\uDE7F-\uDFFF]|\uD804[\uDC00-\uDC02\uDC38-\uDC51\uDC70-\uDC82\uDCB0-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDD02\uDD27-\uDD35\uDD40-\uDD4F\uDD73-\uDD75\uDD77-\uDD82\uDDB3-\uDDC0\uDDC5-\uDDCF\uDDDB\uDDDD-\uDDE0\uDDF5-\uDDFF\uDE12\uDE2C-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEDF-\uDEEF\uDEFA-\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A-\uDF3C\uDF3E-\uDF4F\uDF51-\uDF5C\uDF62-\uDFFF]|\uD805[\uDC35-\uDC46\uDC4B-\uDC4F\uDC5A-\uDC7F\uDCB0-\uDCC3\uDCC6\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDAF-\uDDD7\uDDDC-\uDDFF\uDE30-\uDE43\uDE45-\uDE4F\uDE5A-\uDE7F\uDEAB-\uDEBF\uDECA-\uDEFF\uDF1A-\uDF2F\uDF3C-\uDFFF]|\uD806[\uDC00-\uDC9F\uDCF3-\uDCFE\uDD00-\uDDFF\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE4F\uDE51-\uDE5B\uDE84\uDE85\uDE8A-\uDEBF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC2F-\uDC3F\uDC41-\uDC4F\uDC6D-\uDC71\uDC90-\uDCFF\uDD07\uDD0A\uDD31-\uDD45\uDD47-\uDD4F\uDD5A-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80B\uD80E-\uD810\uD812-\uD819\uD823-\uD82B\uD82D\uD82E\uD830-\uD833\uD836-\uD839\uD83D-\uD83F\uD87B-\uD87D\uD87F-\uDBFF][\uDC00-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDECF\uDEEE-\uDEFF\uDF30-\uDF3F\uDF44-\uDF4F\uDF5A\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDEFF\uDF45-\uDF4F\uDF51-\uDF92\uDFA0-\uDFDF\uDFE2-\uDFFF]|\uD821[\uDFED-\uDFFF]|\uD822[\uDEF3-\uDFFF]|\uD82C[\uDD1F-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDFFF]|\uD834[\uDC00-\uDF5F\uDF72-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC\uDFCD]|\uD83A[\uDCC5\uDCC6\uDCD0-\uDCFF\uDD44-\uDD4F\uDD5A-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDFFF]|\uD869[\uDED7-\uDEFF]|\uD86D[\uDF35-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])');t=t.replace(/\[\\p{Letter}\]/g,'(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])');t=t.replace(/\[\\p{Number}\]/g,'(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE47\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDE60-\uDE7E]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD834[\uDF60-\uDF71]|\uD835[\uDFCE-\uDFFF]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83C[\uDD00-\uDD0C])');t=t.replace(/\[\\p{Letter}\\p{Number}\]/g,'(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u3192-\u3195\u31A0-\u31BA\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE40-\uDE47\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDCFF\uDE60-\uDE7E]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEC0-\uDEC9\uDF00-\uDF19\uDF30-\uDF3B]|\uD806[\uDCA0-\uDCF2\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDF60-\uDF71]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])');t=t.replace(/\[\\s\\p{Letter}\\p{Number}\]/g,'(?:[\t-\r 0-9A-Za-z\xA0\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2000-\u200A\u2028\u2029\u202F\u205F\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3000\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u3192-\u3195\u31A0-\u31BA\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFEFF\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE40-\uDE47\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDCFF\uDE60-\uDE7E]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEC0-\uDEC9\uDF00-\uDF19\uDF30-\uDF3B]|\uD806[\uDCA0-\uDCF2\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDF60-\uDF71]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])');if(t.match(/\\p/)){throw new Error('JsSearch internal bug - Cannot convert RegExp');}else{return new RegExp(t,(m||''));}}var v={AlphaNum_atBegin:u('^[a0]'),Alpha_atBegin:u('^[a]'),Num_atBegin:u('^[0]'),AlphaNum_atEnd:u('[a0]$'),Alpha_atEnd:u('[a]$'),Num_atEnd:u('[0]$')};var A={};A.highlightChar='\u000f';A.regExpfillOneCharacterGaps=u(A.highlightChar+'(?!'+A.highlightChar+')[^a0]'+A.highlightChar,'g');A.initBitmap=function(s){return s;};A.calcBitmap=function(s,b,r){var a;var m;while(s!==a&&(m=s.match(r))&&m[0].length){a=s;s=m[1]+Array(m[2].length+1).join(A.highlightChar)+m[3];}if(a===s){throw new Error('JsSearch internal bug - Highlighting did not change');}for(var i=s.length-1;i>=0;i--){if(s[i]===A.highlightChar){b=b.substr(0,i)+A.highlightChar+b.substr(i+1);}}return b;};A.applyBitmap=function(s,b){var a=false;if(!b){return undefined;}b=b.replace(A.regExpfillOneCharacterGaps,A.highlightChar+A.highlightChar+A.highlightChar);for(var i=b.length-1;i>=0;i--){if(b[i]===A.highlightChar&&!a){s=s.substr(0,i+1)+'</b>'+s.substr(i+1);a=true;}if(b[i]!==A.highlightChar&&a){s=s.substr(0,i+1)+'<b>'+s.substr(i+1);a=false;}}if(a){s='<b>'+s;}return s;};function _(a,g){var t={'contains-ranked':{compileSearchTerm:function(j){var k={original:o.shouldNormalize?j.normalize('NFC'):j,parsed:[],hasTrailingWhitespace:false};function m(w){return w.children[0].cOriginal;}function C(w){return w.children[w.children.length-1].cOriginal;}function D(c){if(c.match(v.Alpha_atEnd)){return'(|[^a].*)';}else if(c.match(v.Num_atEnd)){return'(|[^0].*)';}return'(.*)';}function E(a,c,f){return a.map(function(b,i){if(b.type!==c){if(b.children){b.children=E(b.children,c,f);return b;}return b;}return f(b,i,a[i-1],a[i+1]);});}k.hasTrailingWhitespace=(k.original.substr(-1)===' ');var a=k.original.replace(/\\\"/g,"\u0010").split('"');var b=[];for(var i=0;i<a.length;i++){a[i]=a[i].replace(/\u0010/g,'\\"');var F=a[i].split(' ').map(function(x){var c={type:'word',wOriginal:x,children:[]};return c;});F=F.filter(function(w){return w.wOriginal.length>0;});if(a[i].length){if(i%2){b.push({type:'phrase',children:F});}else{b=b.concat(F);}}}k.parsed=b;k.parsed=E(k.parsed,'word',function(w){var b=[];var c=false;var f=w.wOriginal.split('');for(var i=0;i<f.length;i++){if(c){c=false;b.push({type:'character',cOriginal:'\\'+f[i]});}else if(f[i]==='\\'){c=true;}else{b.push({type:'character',cOriginal:f[i]});}}w.children=b;return w;});k.parsed=E(k.parsed,'character',function(c,i,f,s){var r=c.cOriginal;if(r==='*'){r='[^\\s]*?';}else if(r==='?'){r='[^\\s]';}else if(r.match(/\\[*?"\\]/)){}else{r=r.replace(/[\[\]\/\{\}\(\)\+\.\\\^\$\|]/,"\\$&");r=r.replace(/a/i,'(?:a|ae)');r=r.replace(/o/i,'(?:o|oe)');r=r.replace(/u/i,'(?:u|ue)');r=r.replace(/ä/i,'(?:ae|a)');r=r.replace(/ö/i,'(?:oe|o)');r=r.replace(/ü/i,'(?:ue|u)');r=r.replace(/ß/i,'ss');r=r.replace(/æ/i,'ae');r=r.replace(/œ/i,'oe');if(o.shouldNormalize){r=r.normalize('NFKD');r=r.replace(/[\u0300-\u036f]/g,"");}}c.cRegExp=r;return c;});E(k.parsed,'word',function(w){w.containsWildcard=false;var f='';var s='';for(var i=0;i<w.children.length;i++){if(i>0&&w.children[i].cOriginal.match(v.AlphaNum_atBegin)&&w.children[i-1].cOriginal.match(v.AlphaNum_atBegin)){s+='[^a0]*';}if(i<w.children.length-1){f+=w.children[i].cRegExp;s+=w.children[i].cRegExp;}if(w.children[i].cOriginal==='*'||w.children[i].cOriginal==='?'){w.containsWildcard=true;}}var c=w.children[w.children.length-1];var x='';if(c.cOriginal==='*'){x='(?:[a]+(?=[^a]|$)|[0]+(?=[^0]|$)|[^\\s]*?|)';}else if(c.cOriginal==='?'){x='(?:[a](?=[^a]|$)|[0](?=[^0]|$)|[^\\sa0](?=[\\sa0]))';}else{x=c.cRegExp;}w.wRegExp=f+x;w.wRegExp2=s+x;return w;});var G=true;var H=k.parsed.map(function(s){var c=[];if(s.type==='phrase'){G=false;s.children=s.children.filter(function(y,i){return(i===s.children.length-1||!s.children[i].wOriginal.match(/^\*+$/)||!s.children[i+1].wOriginal.match(/^\*+$/));});s.children=s.children.filter(function(y,i){return((i!==0&&i!==s.children.length-1)||!y.wOriginal.match(/^\*+$/));});if(!s.children.length){c.push({r:'^',score:g[0],applyHighlighting:false});}else{var f='';E(s.children,'word',function(w,i,x,y){if(w.wOriginal!=='*'){if(i!==0&&x.wOriginal!=='*'&&(!y||y.wOriginal!=='*')){if(!(x.wOriginal.match(v.Alpha_atEnd)&&w.wOriginal.match(v.Alpha_atBegin))&&!(x.wOriginal.match(v.Num_atEnd)&&w.wOriginal.match(v.Num_atEnd))){f+='[^a0]*';}else{f+='[^a0]+';}}f+=w.wRegExp;}else if(C(x).match(v.Alpha_atBegin)&&m(y).match(v.Alpha_atBegin)){f+='(?:[^a]|[^a].*?[^a])';}else if(C(x).match(v.Num_atEnd)&&m(y).match(v.Num_atEnd)){f+='(?:[^0]|[^0].*?[^0])';}else if(C(x).match(v.Alpha_atBegin)&&m(y).match(v.Num_atEnd)){f+='.*?';}else if(C(x).match(v.Num_atEnd)&&m(y).match(v.Alpha_atBegin)){f+='.*?';}else if(C(x)==='*'&&y&&m(y).match(v.Alpha_atBegin)){f+='.*?';}else if(C(x)==='*'&&y&&m(y).match(v.Num_atEnd)){f+='.*?';}else{f+='(?:[^a0]|[^a0].*?[^a0])';}});var z=s.children[s.children.length-1];c.push({r:'^(.*[^a0]|.*[a](?=[0])|.*[0](?=[a])|)('+f+')'+D(z.wOriginal)+'$',score:g[0],applyHighlighting:true});}}else if(s.type==='word'){if(s.wOriginal.match('^\\*+$')){G=false;c.push({r:'^',score:g[0],applyHighlighting:false});}else{c.push({r:'^(.*[^a0]|.*[a](?=[0])|.*[0](?=[a])|)('+s.wRegExp+')'+D(s.wOriginal)+'$',score:g[0],applyHighlighting:true});c.push({r:'^(.*[^a0]|.*[a](?=[0])|.*[0](?=[a])|)('+s.wRegExp2+')'+D(s.wOriginal)+'$',score:g[1],applyHighlighting:true});}}if(s.type==='word'&&s.containsWildcard===false){c.push({r:'^(.*[^a0]|.*[a](?=[0])|.*[0](?=[a])|)('+s.wRegExp+')(.*?)$',score:g[2],applyHighlighting:true});c.push({r:'^(.*[^a0]|.*[a](?=[0])|.*[0](?=[a])|)('+s.wRegExp2+')(.*?)$',score:g[3],applyHighlighting:true});}if(s.type==='word'&&s.containsWildcard===false){c.push({r:'^(.*)('+s.wRegExp+')(.*?)$',score:g[4],applyHighlighting:true});c.push({r:'^(.*)('+s.wRegExp2+')(.*?)$',score:g[5],applyHighlighting:true});}for(var i=0;i<c.length;i++){c[i].r=u(c[i].r,'i');}return{type:'mandatory',r:c};});if(G&&k.parsed.length>1){var r=[];k.parsed.forEach(function(s){r.push(s.wRegExp);});H.push({type:'optional',r:[{r:u('^(.*[^a0]|.*[a](?=[0])|.*[0](?=[a])|)'+r.join('\\s+'),'i'),score:g[6],applyHighlighting:false}]});}return H;},compileTestTerm:function(b){var c={original:'',normalizationMap:[],useNormalizationMap:false,normalized:''};c.original=o.shouldNormalize?b.normalize('NFC'):b;c.normalized=c.original.split('').map(function(r){r=r.replace(/ä/i,'ae');r=r.replace(/ö/i,'oe');r=r.replace(/ü/i,'ue');r=r.replace(/ß/i,'ss');r=r.replace(/æ/i,'ae');r=r.replace(/œ/i,'oe');r=r.replace(/(\n|\r)/m,' ');if(o.shouldNormalize){r=r.normalize('NFKD');r=r.replace(/[\u0300-\u036f]/g,"");}c.normalizationMap.push(r.length);if(r.length!==1){c.useNormalizationMap=true;}return r;}).join('');return c;}}};return t[a];}function B(s,t){var a=true;var b=0;var c=0;var f=0;var g={};var m={};var i,j,k;for(j in t){g[j]=A.initBitmap(t[j].normalized);}for(i=0;i<s.length;i++){var r=s[i];var w=false;var x=0;for(j in t){var y=false;var z=false;var C=0;for(k=0;k<r.r.length;k++){var D=r.r[k];if(t[j].normalized.match(D.r)){y=true;if(D.applyHighlighting){z=true;g[j]=A.calcBitmap(t[j].normalized,g[j],D.r);}C=Math.max(C,D.score*t[j].weight);}}x+=C;if(y){w=true;}if(z){m[j]=true;}}if(r.type==='mandatory'){f++;if(w){b+=x;}else{a=false;}}else{c+=x;}}var E=b/f+c;if(!a){E=-1;}for(j in m){if(t[j].useNormalizationMap){for(k=0;k<t[j].normalizationMap.length;k++){g[j]=g[j].substr(0,k+1)+g[j].substr(k+t[j].normalizationMap[k]);}}m[j]=A.applyBitmap(t[j].original,g[j]);}return{score:E,highlighted:m};}this.search=function(f){if(!Array.isArray(q)){throw new Error("You must specify objects to search in");}var s;if(typeof f==='string'){s=f;}if(f&&typeof f.searchFor==='string'){s=f.searchFor;}if(s===undefined){throw new Error("You must specify search terms");}var t=parseInt(f.top,10);var g=parseInt(f.skip,10);if(n!==s){var k=e.compileSearchTerm(s);p=[];for(var i=0;i<q.length;i++){var m={};var a;for(var j=0;j<h.length;j++){a=undefined;try{a=q[i][h[j].field];}finally{}if(typeof a==='string'){var c=e.compileTestTerm(a);c.weight=h[j].weight;m[h[j].field]=c;}}var b=B(k,m);if(b.score>-1){p.push({object:q[i],highlighted:b.highlighted,score:b.score});}}p=p.sort(function(a,b){return b.score-a.score;});if(!d.debug){p.forEach(function(a){delete a.score;});}n=s;}var r;if(isNaN(t)&&!isNaN(g)){r=p.slice(g);}else if(!isNaN(t)&&isNaN(g)){r=p.slice(0,t);}else if(!isNaN(t)&&!isNaN(g)){r=p.slice(g,g+t);}else{r=p;}return{totalCount:p.length,results:r};};};});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/appsearch/JsSearchFactory',['sap/ushell/renderers/fiori2/search/appsearch/JsSearch'],function(J){"use strict";return{createJsSearch:function(o){o.algorithm=o.algorithm||{id:'contains-ranked',options:[50,49,40,39,5,4,51]};return new J(o);}};});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/appsearch/TransactionSearch',["sap/ushell/renderers/fiori2/search/SearchHelper"],function(S){"use strict";var T=function(){this.init.apply(this,arguments);};T.prototype={init:function(p){var t=this;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(c){t.corssAppNavigator=c;});},prefetch:function(){},search:function(q){var t=this;var r={totalCount:0,tiles:[]};t.oModel=sap.ushell.renderers.fiori2.search.getModelSingleton();var a=t.oModel.getProperty('/appSearchDataSource');if(a===null){return r;}var s=t.oModel.sinaNext.createSearchQuery();s.skip=q.skip;s.top=q.top;s.filter.searchTerm=t._normalizeSearchTerm(q.searchTerm);s.filter.dataSource=a;return S.convertPromiseTojQueryDeferred(t.oModel.sinaNext.provider.executeSearchQuery(s)).then(function(b){r.totalCount=b.totalCount;return jQuery.when.apply(null,jQuery.map(b.items,this._formatTileAsync.bind(this)));}.bind(this)).then(function(){r.tiles=[].slice.call(arguments);return r;});},_getView:function(t){var v=new sap.m.GenericTile({header:t.title,subheader:t.subtitle,tileContent:new sap.m.TileContent({content:new sap.m.ImageContent({src:t.icon}),footer:sap.ushell.resources.i18n.getText("transactionText")})});if(t.isUshellSupported===false&&t.url.length===0){v.attachPress(function(){sap.m.MessageBox.information(sap.ushell.resources.i18n.getText("NavigationUnsupported"),{actions:[sap.m.MessageBox.Action.OK]});});}else{v.attachPress(function(){S.openURL(t.url,"_target");});}v.eventLoggingData={targetUrl:t.url,title:t.title};return v;},_formatTileAsync:function(i){var t=this;var a={};var c=t._getTcode(i).value;var b=t._getTcode(i).valueHighlighted;var d=t._getTitle(i).value;var e=t._getTitle(i).valueHighlighted+" - "+b;var u=t._getUshellUrl(i);var f=t._getBackendUrl(i);a={type:"transaction",icon:"sap-icon://action",title:d,label:e,subtitle:c,isUshellSupported:false,url:"",getView:function(){return t._getView(this);}};return t.corssAppNavigator.isIntentSupported([u]).then(function(g){a.isUshellSupported=g[u].supported;if(a.isUshellSupported){a.url=u;}else{a.url=f;}return a;},function(g){a.url=f;return jQuery.resolve(a);});},_normalizeSearchTerm:function(s){if(s==="*"){return s;}var f="";s=s.replace('*',' ');var a=s.split(' ');a.forEach(function(e){e=" *"+e+"* ";f=f+e;});return f;},_getTitle:function(a){var b=a.detailAttributes;var t={value:"",valueHighlighted:""};for(var i=0;i<b.length;i++){if(b[i].id==="TTEXT"){t.value=b[i].value||sap.ushell.resources.i18n.getText("transactionText");t.valueHighlighted=b[i].valueHighlighted||t.value;break;}}return t;},_getTcode:function(a){var b=a.titleAttributes;var t={value:"",valueHighlighted:""};for(var i=0;i<b.length;i++){if(b[i].id==="TCODE"){t.value=b[i].value;t.valueHighlighted=b[i].valueHighlighted||t.value;break;}}return t;},_getUshellUrl:function(i){var t=this;var s="";var a="";if(this.oModel.sinaNext.provider.serverInfo){s="sap-system="+t.oModel.sinaNext.provider.serverInfo.SystemId;}if(t._getTcode(i)!==""){a="&sap-ui2-tcode="+t._getTcode(i).value;}return"#Shell-startGUI?"+s+a;},_getBackendUrl:function(i){var t=this;var u="";if(this.oModel.sinaNext.provider.serverInfo){var h=t.oModel.sinaNext.provider.serverInfo.URL;var p=t.oModel.sinaNext.provider.serverInfo.Port;var c=t.oModel.sinaNext.provider.serverInfo.Client;var a=t._getTcode(i).value;if(h&&p&&c&&a.length!==""){u=h+":"+p+"/sap/bc/gui/sap/its/webgui/?sap-client="+c+"&~transaction="+a;}}return u;}};return T;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/cFLPUtil',[],function(){"use strict";return{readCFlpConfiguration:function(s){var c=false;if(!c){return Promise.resolve(s);}return sap.ushell.Container.getService("CommonDataModel").getApplications().then(function(a){var C=Object.keys(a).reduce(function(o,A){var d=a[A];var e=d["sap.app"]&&d["sap.app"].contentProviderId;if(e){o[e]=true;}return o;},{});var b=Object.keys(C);return b;}.bind(this)).then(function(a){var p=[];for(var i=0;i<a.length;++i){var b=a[i];p.push(this.createContentProviderSinaConfiguration(b));}return Promise.all(p);}.bind(this)).then(function(a){if(!a||a.length===0){return s;}else{return[{provider:'multi',subProviders:a,federationType:'advanced_round_robin'}];}}.bind(this));},createContentProviderSinaConfiguration:function(c){return sap.ushell.Container.getService("ClientSideTargetResolution").getSystemContext(c).then(function(s){var a=s.getProperty("esearch.provider");var r=s.getFullyQualifiedXhrUrl("sap/opu/odata/sap/ESH_SEARCH_SRV");return{provider:a.toLowerCase(),label:c,url:r};}.bind(this));}};});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/container/App.controller',['sap/m/MessageToast','sap/ushell/renderers/fiori2/search/SearchShellHelper'],function(M,S){"use strict";return sap.ui.controller("sap.ushell.renderers.fiori2.search.container.App",{onInit:function(){this.oShellNavigation=sap.ushell.Container.getService("ShellNavigation");this.oShellNavigation.hashChanger.attachEvent("hashChanged",this.hashChanged);if(S.oSearchFieldGroup===undefined){S.init();}S.setSearchState('EXP_S');},hashChanged:function(e){var m=sap.ushell.renderers.fiori2.search.getModelSingleton();m.parseURL();},onExit:function(){this.oShellNavigation.hashChanger.detachEvent("hashChanged",this.hashChanged);if(sap.ui.getCore().byId('searchContainerResultsView')&&sap.ui.getCore().byId('searchContainerResultsView').oTablePersoController&&sap.ui.getCore().byId('searchContainerResultsView').oTablePersoController.getTablePersoDialog()){sap.ui.getCore().byId('searchContainerResultsView').oTablePersoController.getTablePersoDialog().destroy();}if(S.getDefaultOpen()!==true){S.setSearchStateSync('COL');}else{S.setSearchState('EXP');}if(this.oView.oPage.oFacetDialog){this.oView.oPage.oFacetDialog.destroy();}}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/container/App.view',["sap/ushell/renderers/fiori2/search/SearchModel","sap/ushell/renderers/fiori2/search/SearchShellHelper","sap/m/Bar","sap/ushell/renderers/fiori2/search/SearchHelper","sap/ushell/renderers/fiori2/search/controls/SearchFilterBar"],function(S,a,B,b,c){"use strict";return sap.ui.jsview("sap.ushell.renderers.fiori2.search.container.App",{createContent:function(){var t=this;if(!this.oModel){this.oModel=sap.ushell.renderers.fiori2.search.getModelSingleton();}this.setModel(sap.ushell.resources.i18nModel,"i18n");this.oSearchResults=sap.ui.view({id:"searchContainerResultsView",tooltip:"{i18n>searchResultsView_tooltip}",viewName:"sap.ushell.renderers.fiori2.search.container.Search",type:sap.ui.core.mvc.ViewType.JS});this.oSearchResults.setModel(t.oModel);this.oSearchResults.setAppView(t);var s=new sap.m.Bar({contentLeft:[t.oSearchResults.assembleFilterButton(),t.oSearchResults.assembleDataSourceTapStrips()],contentRight:t.oSearchResults.assembleSearchToolbar()});s.addStyleClass('sapUshellSearchBar');var f=new sap.ushell.renderers.fiori2.search.controls.SearchFilterBar({visible:{parts:[{path:'/facetVisibility'},{path:'/uiFilter/rootCondition'}],formatter:function(d,r){if(!d&&r&&r.hasFilters()){return true;}return false;}}});this.oModel.parseURL();this.oPage=this.pageFactory("searchPage",this.oSearchResults,s,f);this.oSearchResults.reorgTabBarSequence();this.oPage.addEventDelegate({onAfterRendering:function(e){window.onbeforeunload=function(){t.oModel.eventLogger.logEvent({type:t.oModel.eventLogger.LEAVE_PAGE});};}});return this.oPage;},beforeExit:function(){},pageFactory:function(i,C,h,s){var t=this;var p=new sap.m.Page({id:i,customHeader:h,subHeader:s,content:[C],enableScrolling:true,showFooter:{parts:['/multiSelectionAvailable','/multiSelectionActions','/errors/length'],formatter:function(m,f,n){return m||n>0;}},showHeader:true,showSubHeader:{parts:[{path:'/facetVisibility'},{path:'/uiFilter/rootCondition'}],formatter:function(f,r){if(!f&&r&&r.hasFilters()){return true;}return false;}}});p.setModel(t.oModel);var e=["onAfterHide","onAfterShow","onBeforeFirstShow","onBeforeHide","onBeforeShow"];var d={};t.createFooter(p);jQuery.each(e,function(I,E){d[E]=function(f){jQuery.each(this.getContent(),function(I,C){C._handleEvent(f);});}.bind(p);});p.addEventDelegate(d);if(!sap.ui.Device.system.desktop){p._bUseIScroll=true;}return p;},getControllerName:function(){return"sap.ushell.renderers.fiori2.search.container.App";},createFooter:function(p){var t=this;if(jQuery.device.is.phone){return;}var m=new sap.m.ToggleButton({icon:"sap-icon://multi-select",tooltip:sap.ushell.resources.i18n.getText("toggleSelectionModeBtn"),press:function(){var d=t.oBar.getContent();var i,f;if(this.getPressed()){t.oSearchResults.resultList.enableSelectionMode();t.oModel.setProperty("/multiSelectionEnabled",true);for(i=0;i<d.length;i++){f=d[i];if(f.hasStyleClass("sapUshellSearchResultList-multiSelectionActionButton")){t.oBar.removeContent(f);}}var g=t.oModel.getDataSource();var h=t.oModel.config.getDataSourceConfig(g);var s=new h.searchResultListSelectionHandlerControl();var k=s.actionsForDataSource();t.oModel.setProperty("/multiSelectionActions",k);for(i=0;i<k.length;i++){var l=k[i];var n=new sap.m.Button({text:l.text,press:function(){var r=t.oModel.getProperty("/results");var j=[];for(var i=0;i<r.length;i++){var q=r[i];if(q.selected){j.push(q);}}l.action(j);},visible:{parts:[{path:'/multiSelectionEnabled'}],mode:sap.ui.model.BindingMode.OneWay}});n.setModel(t.oModel);n.addStyleClass("sapUshellSearchResultList-multiSelectionActionButton");t.oBar.insertContent(n,2);}}else{var o=t.oSearchResults.resultList.disableSelectionMode();o.done(function(){t.oModel.setProperty("/multiSelectionEnabled",false);t.oModel.setProperty("/multiSelectionActions",undefined);var r=t.oModel.getProperty("/boResults");if(r){for(var j=0;j<r.length;j++){var q=r[j];q.selected=false;}}for(i=0;i<d.length;i++){f=d[i];if(f.hasStyleClass("sapUshellSearchResultList-multiSelectionActionButton")){t.oBar.removeContent(f);}}});}},visible:{parts:[{path:'/multiSelectionAvailable'}],mode:sap.ui.model.BindingMode.OneWay}});m.setModel(this.oModel);m.addStyleClass("sapUshellSearchResultList-toggleMultiSelectionButton");var e=new sap.m.MessagePopover({placement:"Top"});e.setModel(this.oModel);t.oModel.setProperty("/errorPopoverControlId",e.getId());e.bindAggregation("items","/errors",function(i,C){var f=new sap.m.MessagePopoverItem({title:"{title}",description:"{description}"});switch(C.oModel.getProperty(C.sPath).type.toLowerCase()){case"error":f.setType(sap.ui.core.MessageType.Error);break;case"warning":f.setType(sap.ui.core.MessageType.Warning);break;default:f.setType(sap.ui.core.MessageType.Information);}return f;});var E=new sap.m.Button("searchErrorButton",{icon:sap.ui.core.IconPool.getIconURI("alert"),text:{parts:[{path:'/errors/length'}],formatter:function(l){return l;}},visible:{parts:[{path:'/errors/length'}],formatter:function(l){return l>0;},mode:sap.ui.model.BindingMode.OneWay},type:sap.m.ButtonType.Emphasized,tooltip:sap.ushell.resources.i18n.getText('errorBtn'),press:function(){e.setVisible(true);e.openBy(E);}});E.addDelegate({onAfterRendering:function(){if(!t.oModel.getProperty('/isErrorPopovered')){E.firePress();t.oModel.setProperty('/isErrorPopovered',true);}}});E.setLayoutData(new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow}));m.setLayoutData(new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow}));var d=[E,new sap.m.ToolbarSpacer(),m];t.oBar=new sap.m.OverflowToolbar({content:d}).addStyleClass("MyBar");p.setFooter(t.oBar);}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/container/Component',['sap/ui/core/UIComponent'],function(U){"use strict";return U.extend("sap.ushell.renderers.fiori2.search.container.Component",{metadata:{version:"1.88.1",library:"sap.ushell.renderers.fiori2.search.container",includes:[],dependencies:{libs:["sap.m"],components:[]},config:{title:sap.ushell.resources.i18n.getText("searchAppTitle"),compactContentDensity:true,cozyContentDensity:true}},createContent:function(){return sap.ui.view({id:"searchContainerApp",viewName:"sap.ushell.renderers.fiori2.search.container.App",type:sap.ui.core.mvc.ViewType.JS});}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/container/ComponentControl',['sap/ushell/renderers/fiori2/search/controls/SearchFieldGroup','sap/ushell/renderers/fiori2/search/controls/SearchFilterBar'],function(S,a){"use strict";var m={};jQuery.extend(m,{init:function(){this.oSearchFieldGroup=new S("searchFieldInShell");this.oSearchResults=sap.ui.view({id:"searchContainerResultsView",viewName:"sap.ushell.renderers.fiori2.search.container.Search",type:sap.ui.core.mvc.ViewType.JS});this.oSearchBar=new sap.m.Bar({visible:{parts:[{path:'/count'},{path:'/facetVisibility'}],formatter:function(c,f){if(f){return c!==0;}return c!==0;}},contentLeft:[this.oSearchResults.assembleFilterButton(),this.oSearchResults.assembleDataSourceTapStrips()],contentRight:this.oSearchResults.assembleSearchToolbar(true)});this.oSearchBar.addStyleClass('sapUshellSearchBar');this.oFilterBar=new sap.ushell.renderers.fiori2.search.controls.SearchFilterBar({visible:{parts:[{path:'/facetVisibility'},{path:'/uiFilter/rootCondition'}],formatter:function(f,r){if(!f&&r&&r.hasFilters()){return true;}return false;}}});this.oSearchPage=new sap.m.Page({id:'searchPage',customHeader:this.oSearchBar,subHeader:this.oFilterBar,content:[this.oSearchResults],enableScrolling:true,showFooter:{parts:['/errors/length'],formatter:function(n){return n>0;}},showHeader:true,showSubHeader:{parts:[{path:'/facetVisibility'},{path:'/uiFilter/rootCondition'}],formatter:function(f,r){if(!f&&r&&r.hasFilters()){return true;}return false;}}});},createFooter:function(p){var t=this;t.oModel=p.getModel();if(jQuery.device.is.phone){return;}var e=new sap.m.MessagePopover({placement:"Top"});e.setModel(t.oModel);t.oModel.setProperty("/errorPopoverControlId",e.getId());e.bindAggregation("items","/errors",function(i,C){var b=new sap.m.MessagePopoverItem({title:"{title}",description:"{description}"});switch(C.oModel.getProperty(C.sPath).type.toLowerCase()){case"error":b.setType(sap.ui.core.MessageType.Error);break;case"warning":b.setType(sap.ui.core.MessageType.Warning);break;default:b.setType(sap.ui.core.MessageType.Information);}return b;});var E=new sap.m.Button("searchErrorButton",{icon:sap.ui.core.IconPool.getIconURI("alert"),text:{parts:[{path:'/errors/length'}],formatter:function(l){return l;}},visible:{parts:[{path:'/errors/length'}],formatter:function(l){return l>0;},mode:sap.ui.model.BindingMode.OneWay},type:sap.m.ButtonType.Emphasized,tooltip:sap.ushell.resources.i18n.getText('errorBtn'),press:function(){e.setVisible(true);e.openBy(E);}});E.addDelegate({onAfterRendering:function(){if(!t.oModel.getProperty('/isErrorPopovered')){E.firePress();t.oModel.setProperty('/isErrorPopovered',true);}}});E.setLayoutData(new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow}));var c=[E];t.oBar=new sap.m.OverflowToolbar({content:c}).addStyleClass("MyBar");p.setFooter(t.oBar);}});return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/container/ComponentIndexScript',[],function(){"use strict";sap.ui.getCore().attachInit(function(){sap.ui.require(['sap/ushell/renderers/fiori2/search/container/ComponentService'],function(C){C.init();sap.ui.require(['sap/ushell/renderers/fiori2/search/personalization/PersonalizationStorage','sap/ushell/renderers/fiori2/search/SearchModel','sap/ushell/renderers/fiori2/search/container/ComponentControl'],function(P,S,a){P.getInstance();if(!this.oModel){this.oModel=sap.ushell.renderers.fiori2.search.getModelSingleton();}a.init();this.oSearchFieldGroup=a.oSearchFieldGroup;this.oSearchFieldGroup.setCancelButtonActive(false);this.oSearchFieldGroup.setModel(this.oModel);this.oSearchFieldGroup.addStyleClass('sapSearchFieldGroup');this.oSearchBar=new sap.ui.layout.HorizontalLayout();this.oSearchBar.addContent(this.oSearchFieldGroup);this.oSearchBar.addStyleClass('sapSearchBar');this.oSearchBar.placeAt("content","first");});});});var r=function(){if(window.location.hash.indexOf("#Action-search")===0){window.location.href=window.location.origin+window.location.pathname.slice(0,window.location.pathname.indexOf('/sap/ushell/renderers/fiori2/search/container/'))+"/sap/ushell/renderers/fiori2/search/container/Component.html"+window.location.search+window.location.hash;}};$(window).bind('hashchange',function(){r();});$(document).ready(function(){r();});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/container/ComponentScript',[],function(){"use strict";if(!window.location.hash){window.location.hash="#Action-search&/searchterm=*";}sap.ui.getCore().attachInit(function(){sap.ui.require(['sap/ushell/renderers/fiori2/search/container/ComponentService'],function(C){C.init();sap.ui.require(['sap/ushell/renderers/fiori2/search/personalization/PersonalizationStorage','sap/ushell/renderers/fiori2/search/SearchModel','sap/ushell/renderers/fiori2/search/container/ComponentControl'],function(P,S,a){P.getInstance();if(!this.oModel){this.oModel=sap.ushell.renderers.fiori2.search.getModelSingleton();}this.oModel.searchUrlParser.parse().then(function(){a.init();this.oSearchFieldGroup=a.oSearchFieldGroup;this.oSearchFieldGroup.setCancelButtonActive(false);this.oSearchFieldGroup.setModel(this.oModel);this.oSearchFieldGroup.addStyleClass('sapSearchFieldGroup');this.oSearchFieldGroup.input.setValue(this.oModel.getSearchBoxTerm());this.oLogo=new sap.m.Image({src:'/logo.png',press:function(){window.location='index.html';}});this.oLogoutButton=new sap.m.Button({icon:sap.ui.core.IconPool.getIconURI("log"),tooltip:sap.ushell.resources.i18n.getText("logoutBtn_tooltip"),press:function(){window.location='index.html';}}).addStyleClass('sapSearchLogout');this.oLogoutLabel=sap.ui.getCore().byId("logoutLabel");if(!this.oLogoutLabel){this.oLogoutLabel=new sap.ui.core.InvisibleText("logoutLabel",{text:sap.ushell.resources.i18n.getText("logoutBtn_title")});}this.oLogoutButton.addAriaLabelledBy("logoutLabel");this.oLogout=new sap.ui.layout.HorizontalLayout();this.oLogout.addContent(this.oLogoutButton);this.oLogout.addContent(this.oLogoutLabel);this.oSearchBar=new sap.ui.layout.HorizontalLayout();this.oSearchBar.addContent(this.oLogo);this.oSearchBar.addContent(this.oSearchFieldGroup);this.oSearchBar.addContent(this.oLogout);this.oSearchBar.addStyleClass('sapSearchBar');this.oSearchBar.placeAt("content","first");this.oSearchPage=a.oSearchPage;this.oSearchPage.setModel(this.oModel);this.oSearchPage.setModel(sap.ushell.resources.i18nModel,"i18n");this.oSearchPage.placeAt("content","last");this.oSearchPage.addStyleClass('sapSearchPage');a.createFooter(this.oSearchPage);}.bind(this));});});});$(window).bind('hashchange',function(){if(this.oModel){this.oModel.parseURL();this.oSearchFieldGroup.input.setValue(this.oModel.getSearchBoxTerm());}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/container/ComponentService',["sap/ushell/renderers/fiori2/search/SearchConfiguration","jquery.sap.storage"],function(S){"use strict";var m={};jQuery.extend(m,{init:function(){sap.ushell.Container={getService:function(n){if(n==="Search"){return{queryApplications:function(p){return jQuery.when().then(function(){return{totalResults:0,searchTerm:p.searchTerm,getElements:function(){return[];}};});}};}else if(n==="URLParsing"){return{parseParameters:function(s){s=s.substr(1);var r={};var p=s.split("&");for(var i=0;i<p.length;i++){var b=p[i].split("=");if(!b[1]){b[1]="";}r[b[0]]=[b[1]];}return r;},splitHash:function(h){var r={};r.appSpecificRoute=h.substr(14);return r;}};}},getLogonSystem:function(n){return{getName:function(){return;},getClient:function(){return;},getPlatform:function(){return;}};}};sap.ushell.resources={};var u=navigator.language||navigator.userLanguage;var a=sap.ui.require.toUrl("sap/ushell/renderers/fiori2/resources/resources.properties");sap.ushell.resources.i18nModel=new sap.ui.model.resource.ResourceModel({bundleUrl:a,bundleLocale:u});sap.ushell.resources.i18n=sap.ushell.resources.i18nModel.getResourceBundle();}});return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/container/Search.controller',["sap/ushell/renderers/fiori2/search/SearchModel"],function(S){"use strict";return sap.ui.controller("sap.ushell.renderers.fiori2.search.container.Search",{onInit:function(){var t=this;sap.ui.getCore().getEventBus().subscribe("allSearchStarted",t.getView().onAllSearchStarted,t.getView());sap.ui.getCore().getEventBus().subscribe("allSearchFinished",t.getView().onAllSearchFinished,t.getView());},onExit:function(){var t=this;sap.ui.getCore().getEventBus().unsubscribe("allSearchStarted",t.getView().onAllSearchStarted,t.getView());sap.ui.getCore().getEventBus().unsubscribe("allSearchFinished",t.getView().onAllSearchFinished,t.getView());}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/container/Search.view',['sap/ushell/renderers/fiori2/search/SearchConfiguration','sap/ushell/renderers/fiori2/search/controls/SearchLayout','sap/ushell/renderers/fiori2/search/controls/SearchResultListContainer','sap/ushell/renderers/fiori2/search/controls/SearchResultList','sap/ushell/renderers/fiori2/search/controls/SearchResultTable','sap/ushell/renderers/fiori2/search/controls/SearchResultGrid','sap/ushell/renderers/fiori2/search/controls/SearchSpreadsheet','sap/ushell/renderers/fiori2/search/controls/SearchNoResultScreen','sap/ushell/renderers/fiori2/search/SearchHelper','sap/ushell/renderers/fiori2/search/controls/SearchLabel','sap/ushell/renderers/fiori2/search/controls/SearchLink','sap/ushell/renderers/fiori2/search/controls/SearchResultMap','sap/ushell/renderers/fiori2/search/controls/SearchResultListItem','sap/ushell/renderers/fiori2/search/controls/CustomSearchResultListItem','sap/ushell/renderers/fiori2/search/controls/SearchFacetFilter','sap/ushell/renderers/fiori2/search/controls/DivContainer','sap/ushell/renderers/fiori2/search/controls/SearchTilesContainer','sap/ushell/renderers/fiori2/search/controls/SearchFilterBar','sap/ushell/services/Personalization','sap/m/TablePersoController','sap/ui/vbm/AnalyticMap','sap/ui/vbm/Spot','sap/m/BusyDialog'],function(S,a,b,c,d,f,g,h,j,k,m,n,o,C){"use strict";return sap.ui.jsview("sap.ushell.renderers.fiori2.search.container.Search",{createContent:function(e){var t=this;t.totalCountHiddenElement=t.assembleCountHiddenElement();t.centerArea=t.assembleCenterArea();var r=new b({centerArea:t.centerArea,totalCountBar:t.assembleCountLabel(),noResultScreen:new h({searchBoxTerm:{parts:[{path:'/queryFilter/searchTerm'}],formatter:function(s){return s;}},visible:{parts:[{path:'/count'},{path:'/isBusy'},{path:'/firstSearchWasExecuted'}],formatter:function(i,l,p){return i===0&&!l&&p;}}}),totalCountHiddenElement:t.totalCountHiddenElement});t.searchLayout=new a({resultListContainer:r,busyIndicator:new sap.m.BusyDialog(),isBusy:'{/isBusy}',busyDelay:'{/busyDelay}',showFacets:{parts:[{path:'/count'},{path:'/facetVisibility'},{path:'/uiFilter/rootCondition'},{path:'/isBusy'}],formatter:function(i,l,p,q){if(!l){return false;}var s=p&&p.conditions&&p.conditions.length>0;if(i===0&&!s&&!q){return false;}return true;}},vertical:false,facets:new sap.ushell.renderers.fiori2.search.controls.SearchFacetFilter()});t.searchLayout.addStyleClass('sapUshellSearchLayout');t.searchContainer=new sap.ushell.renderers.fiori2.search.controls.DivContainer({content:[t.searchLayout],cssClass:'sapUshellSearchContainer'});t.oFocusHandler=new j.SearchFocusHandler(t);return t.searchContainer;},assembleFilterButton:function(){var t=this;var e=new sap.m.ToggleButton({icon:sap.ui.core.IconPool.getIconURI("filter"),tooltip:{parts:[{path:'/facetVisibility'}],formatter:function(i){return i?sap.ushell.resources.i18n.getText("hideFacetBtn_tooltip"):sap.ushell.resources.i18n.getText("showFacetBtn_tooltip");}},pressed:'{/facetVisibility}',press:function(){if(this.getPressed()){t.searchLayout.setAnimateFacetTransition(true);t.getModel().setFacetVisibility(true);t.searchLayout.setAnimateFacetTransition(false);}else{t.searchLayout.setAnimateFacetTransition(true);t.getModel().setFacetVisibility(false);t.searchLayout.setAnimateFacetTransition(false);}},visible:{parts:[{path:'/businessObjSearchEnabled'},{path:'/count'}],formatter:function(i,l){if(l===0){return false;}return!sap.ui.Device.system.phone&&i;}}});e.addStyleClass('searchBarFilterButton');return e;},searchToolbarEntryVisibility:{parts:[{path:'/count'}],formatter:function(e){return e!==0&&!sap.ui.Device.system.phone;}},assembleCountLabel:function(){var l=new sap.m.Label({visible:{parts:[{path:'/count'}],formatter:function(e){return e!==0;}},text:{parts:[{path:'/count'},{path:'/nlqSuccess'},{path:'/nlqDescription'}],formatter:function(e,i,p){if(i){return p;}if(typeof e!=='number'){return"";}var q=j.formatInteger(e);return sap.ushell.resources.i18n.getText("results")+' ('+q+')';}}});l.addStyleClass('sapUshellSearchTotalCountSelenium');return l;},assembleCountHiddenElement:function(){var t=new sap.ui.core.InvisibleText({text:{parts:[{path:'/count'},{path:'/nlqSuccess'},{path:'/nlqDescription'}],formatter:function(e,i,l){if(i){return l;}if(typeof e!=='number'){return"";}return sap.ushell.resources.i18n.getText("results_count_for_screenreaders",[e]);}}});return t;},assembleSearchToolbar:function(w){var t=this;var e=t.assembleDisplaySwitchTapStrips();var i=new sap.m.Button({icon:"sap-icon://sort",tooltip:"{i18n>sortTable}",type:sap.m.ButtonType.Transparent,visible:{parts:[{path:'/displaySwitchVisibility'},{path:'/count'},{path:'/tableSortableColumns'}],formatter:function(q,r,u){return q&&r!==0&&u.length>1;}},press:function(q){t.tableSortDialog.open();}});e.addEventDelegate({onAfterRendering:function(E){var D=E.srcControl;var q=t.getModel().config.gridView?3:2;if(D.getItems().length===q&&t.determineIfMaps(t)){D.addItem(new sap.m.SegmentedButtonItem({icon:"sap-icon://map",tooltip:sap.ushell.resources.i18n.getText("displayMap"),key:"map"}));}else if(D.getItems().length===(q+1)&&!t.determineIfMaps(t)){D.removeItem(D.getItems()[q]);if(t.getModel().getProperty('/resultToDisplay')==="searchResultMap"){t.getModel().setProperty('/resultToDisplay',"searchResultList");}}}});e.addStyleClass("sapUshellSearchResultDisplaySwitch");i.addStyleClass("sapUshellSearchTableSortButton");var l=new sap.m.Button("tablePersonalizeButton",{icon:"sap-icon://action-settings",tooltip:"{i18n>personalizeTable}",type:sap.m.ButtonType.Transparent,visible:{parts:[{path:'/resultToDisplay'}],formatter:function(r){return r==="searchResultTable";}},press:function(q){t.oTablePersoController.openDialog();}});l.addStyleClass("sapUshellSearchTablePersonalizeButton");var p=new sap.m.Button("dataExportButton",{icon:"sap-icon://download",tooltip:"{i18n>exportData}",type:sap.m.ButtonType.Transparent,visible:{parts:[{path:'/displaySwitchVisibility'},{path:'/count'}],formatter:function(q,r){return q&&r!==0;}},press:function(){if(t.searchSpreadsheet===undefined){t.searchSpreadsheet=new g("ushell-search-spreadsheet");}t.searchSpreadsheet.onExport();}});if(!w){var s=this.assembleShareButton();return[p,l,i,s,e];}return[p,l,i,e];},assembleShareButton:function(){var t=this;var B=new sap.ushell.ui.footerbar.AddBookmarkButton({beforePressHandler:function(){var i={url:document.URL,title:t.getModel().getDocumentTitle(),icon:sap.ui.core.IconPool.getIconURI("search")};B.setAppData(i);}});B.setWidth('auto');var e=new sap.m.Button();e.setIcon("sap-icon://email");e.setText(sap.ushell.resources.i18n.getText("eMailFld"));e.attachPress(function(){sap.m.URLHelper.triggerEmail(null,t.getModel().getDocumentTitle(),document.URL);});e.setWidth('auto');var A=new sap.m.ActionSheet({placement:'Bottom',buttons:[B,e]});var s=new sap.m.Button({icon:'sap-icon://action',tooltip:sap.ushell.resources.i18n.getText('shareBtn'),press:function(){A.openBy(s);}});return s;},assembleDataSourceTapStrips:function(){var t=this;var e=new sap.m.OverflowToolbar({design:sap.m.ToolbarDesign.Transparent,visible:{parts:[{path:'/facetVisibility'},{path:'/count'},{path:'/businessObjSearchEnabled'}],formatter:function(i,p,q){return!i&&p>0&&q;}}});e.data("sap-ui-fastnavgroup","false",true);e.addStyleClass('searchTabStrips');t.tabBar=e;var l=new sap.ui.core.InvisibleText({text:"Data Sources"}).toStatic();e.addDependent(l);e.addAriaLabelledBy(l);e.bindAggregation('content','/tabStrips/strips',function(I,p){var q=new sap.m.ToggleButton({text:'{labelPlural}',type:{parts:[{path:'/tabStrips/selected'}],formatter:function(s){var i=this.getBindingContext().getObject();if(i===s){return sap.m.ButtonType.Transparent;}return sap.m.ButtonType.Transparent;}},pressed:{parts:[{path:'/tabStrips/selected'}],formatter:function(s){var i=this.getBindingContext().getObject();return i===s;}},press:function(s){if(t.getModel().config.searchScopeWithoutAll){return;}this.setType(sap.m.ButtonType.Transparent);if(this.getBindingContext().getObject()===t.getModel().getProperty('/tabStrips/selected')){this.setPressed(true);return;}var B=t.tabBar.getContent();for(var i=0;i<B.length;i++){if(B[i].getId()!==this.getId()){B[i].setType(sap.m.ButtonType.Transparent);if(B[i].getPressed()===true){B[i].setPressed(false);}}}t.getModel().setDataSource(this.getBindingContext().getObject());}});var r=new sap.ui.core.InvisibleText({text:p.getProperty("labelPlural")+", "+sap.ushell.resources.i18n.getText("dataSource")}).toStatic();q.addAriaLabelledBy(r);q.addDependent(r);return q;});e._setupItemNavigation=function(){if(!this.theItemNavigation){this.theItemNavigation=new sap.ui.core.delegate.ItemNavigation();this.addDelegate(this.theItemNavigation);}this.theItemNavigation.setCycling(false);this.theItemNavigation.setRootDomRef(this.getDomRef());var p=[];var q=this.getContent();for(var i=0;i<q.length;i++){if(!$(q[i].getDomRef()).attr("tabindex")){var r="-1";if(q[i].getPressed&&q[i].getPressed()){r="0";}$(q[i].getDomRef()).attr("tabindex",r);}p.push(q[i].getDomRef());}var s=this.getAggregation("_overflowButton");if(s&&s.getDomRef){var _=s.getDomRef();p.push(_);$(_).attr("tabindex","-1");}this.theItemNavigation.setItemDomRefs(p);};e.addEventDelegate({onAfterRendering:function(E){var t=this;t.getAggregation("_overflowButton").addEventDelegate({onAfterRendering:function(E){t._setupItemNavigation();}},t.getAggregation("_overflowButton"));var i=$(t.getDomRef());i.attr("role","tablist");i.children("button").attr("role","tab");t._setupItemNavigation();}},e);return e;},reorgTabBarSequence:function(){if(!this.tabBar){return;}var e=new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.High});var l=new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow});var B=this.tabBar.getContent();for(var i=0;i<B.length;i++){if(this.getModel().getProperty('/tabStrips/selected')===B[i].getBindingContext().getObject()){B[i].setLayoutData(l);}else{B[i].setLayoutData(e);}}},determineIfMaps:function(e){var I=false;if(e.getModel()){var l=e.getModel().getDataSource();if(typeof l!=='undefined'&&l.attributesMetadata){var p=l.attributesMetadata;for(var i=0;i<p.length;i++){var t=p[i].type;if(t==="GeoJson"){I=true;break;}}}if(e.getModel().config.maps===true){I=true;}else if(e.getModel().config.maps===false){I=false;}}return I;},assembleDisplaySwitchTapStrips:function(){var t=this;var i=[new sap.m.SegmentedButtonItem({icon:"sap-icon://list",tooltip:sap.ushell.resources.i18n.getText("displayList"),key:"list"}),new sap.m.SegmentedButtonItem({icon:"sap-icon://table-view",tooltip:sap.ushell.resources.i18n.getText("displayTable"),key:"table"})];var e=S.getInstance();if(e.gridView){i.push(new sap.m.SegmentedButtonItem({icon:"sap-icon://grid",tooltip:sap.ushell.resources.i18n.getText("displayGrid"),key:"grid"}));}if(t.determineIfMaps(t)){i.push(new sap.m.SegmentedButtonItem({icon:"sap-icon://map",tooltip:sap.ushell.resources.i18n.getText("displayMap"),key:"map"}));}var s=new sap.m.SegmentedButton('ResultViewType',{selectedKey:{parts:[{path:'/resultToDisplay'}],formatter:function(r){var l="list";if(r==="searchResultTable"){l="table";}else if(r==="searchResultGrid"){l="grid";}else if(r==="searchResultList"){l="list";}else if(r==="searchResultMap"){l="map";}return l;}},items:i,visible:{parts:[{path:'/displaySwitchVisibility'},{path:'/count'}],formatter:function(l,p){return l&&p!==0;}},select:function(l){var p=l.mParameters.key;var q=t.getModel();switch(p){case"list":q.setProperty('/resultToDisplay',"searchResultList");t.showMoreFooter.setVisible(t.isShowMoreFooterVisible());t.searchResultMap.setVisible(false);break;case"table":q.setProperty('/resultToDisplay',"searchResultTable");t.showMoreFooter.setVisible(t.isShowMoreFooterVisible());t.searchResultMap.setVisible(false);break;case"grid":q.setProperty('/resultToDisplay',"searchResultGrid");t.showMoreFooter.setVisible(t.isShowMoreFooterVisible());t.searchResultMap.setVisible(false);break;case"map":q.setProperty('/resultToDisplay',"searchResultMap");t.showMoreFooter.setVisible(t.isShowMoreFooterVisible());break;default:q.setProperty('/resultToDisplay',"searchResultList");t.showMoreFooter.setVisible(t.isShowMoreFooterVisible());}q.enableOrDisableMultiSelection();}.bind(this)});s.addStyleClass("sapUshellSearchDisplaySwitchTapStrips");return s;},isShowMoreFooterVisible:function(){var e=this.getModel();return e.getProperty("/boCount")>e.getProperty("/boResults").length;},assembleCenterArea:function(){var t=this;t.tableSortDialog=t.assembleSearchResultSortDialog();var s=t.assembleSearchResultList();t.searchResultTable=t.assembleSearchResultTable();t.searchResultTable.addDelegate({onBeforeRendering:function(){t.updateTableLayout();},onAfterRendering:function(){var e=$(t.searchResultTable.getDomRef()).find("table > thead > tr:first");if(e){e.attr("aria-labelledby",t.totalCountHiddenElement.getId());}}});t.searchResultGrid=t.assembleSearchResultGrid();t.searchResultMap=t.assembleSearchResultMap();t.searchResultMap.setVisible(false);t.appSearchResult=t.assembleAppSearch();t.showMoreFooter=t.assembleShowMoreFooter();return[t.tableSortDialog,s,t.searchResultTable,t.searchResultGrid,t.searchResultMap,t.appSearchResult,t.showMoreFooter,t.totalCountHiddenElement];},assembleSearchResultSortDialog:function(){var t=this;var e=new sap.m.ViewSettingsDialog({sortDescending:{parts:[{path:"/orderBy"}],formatter:function(i){return jQuery.isEmptyObject(i)||i.sortOrder==="DESC";}},confirm:function(i){var p=[];p=i.getParameters();if(p.sortItem){var l=t.getModel();if(p.sortItem.getKey()==="searchSortableColumnKeyDefault"){l.resetOrderBy();e.setSortDescending(true);}else{l.setOrderBy({orderBy:p.sortItem.getBindingContext().getObject().attributeId,sortOrder:p.sortDescending===true?"DESC":"ASC"});}}},cancel:function(i){var l=t.getModel().getOrderBy().orderBy===undefined?"searchSortableColumnKeyDefault":t.getModel().getOrderBy().orderBy;this.setSelectedSortItem(l);}});e.bindAggregation("sortItems","/tableSortableColumns",function(p,D){return new sap.m.ViewSettingsItem({key:"{key}",text:"{name}",selected:"{selected}"});});return e;},assembleSearchResultGrid:function(){var l=new sap.f.GridContainerSettings({rowSize:"11rem",columnSize:"11rem",gap:"0.5rem"});var r=new f("ushell-search-result-grid",{layout:l,snapToRow:true,visible:{parts:[{path:'/resultToDisplay'},{path:'/count'}],formatter:function(e,i){return e==="searchResultGrid"&&i!==0;}}});return r;},assembleSearchResultTable:function(){var t=this;var r=new d("ushell-search-result-table",{mode:{parts:[{path:'/multiSelectionEnabled'}],formatter:function(e){return e===true?sap.m.ListMode.MultiSelect:sap.m.ListMode.None;}},noDataText:'{i18n>noCloumnsSelected}',visible:{parts:[{path:'/resultToDisplay'},{path:'/count'}],formatter:function(e,i){return e==="searchResultTable"&&i!==0;}},popinLayout:sap.m.PopinLayout.GridLarge,rememberSelections:false});r.bindAggregation("columns","/tableColumns",function(p,D){var e=D.getObject();var i=new sap.m.Column(e.key,{header:new sap.m.Label({text:"{name}",tooltip:"{name}"}),visible:{parts:[{path:'index'}],formatter:function(l){return l<6;}}});return i;});r.bindAggregation("items","/tableResults",function(p,D){return t.assembleTableItems(D);});r.addEventDelegate({onAfterRendering:function(){t.updatePersoServiceAndController();var e=$(this.getDomRef());e.find("table tbody tr").each(function(){var i=$(this);var l=sap.ui.getCore().byId(i.attr("id"));if(l){var p=l.getAriaLabelledBy();if($.inArray(t.totalCountHiddenElement.getId(),p)===-1){l.addAriaLabelledBy(t.totalCountHiddenElement);}}return false;});}.bind(r)});return r;},assembleTableItems:function(D){var t=this;var e=D.getObject();if(e.type==='footer'){return new sap.m.CustomListItem({visible:false});}return t.assembleTableMainItems(e,D.getPath());},assembleTableMainItems:function(D,p){var s=p+"/cells";var e=new sap.m.ColumnListItem({selected:"{selected}"});e.bindAggregation("cells",s,function(s,l){if(l.getObject().isTitle){var t="";var q;var r=l.getObject().titleNavigation;if(r){t=r.getHref();q=r.getTarget();}var u=!!((t&&t.length>0));var v=new m({text:"{value}",enabled:u,href:t,press:function(){var r=l.getObject().titleNavigation;if(r){r.performNavigation({trackingOnly:true});}}});v.setTooltip(v.getText());v.addStyleClass("sapUshellSearchResultListItem-MightOverflow");if(q){v.setTarget(q);}return v;}else if((l.getObject().isRelatedApps)){var w=l.getObject().navigationObjects;var x=[];var y={};var z=function(B,A){A.performNavigation();};for(var i=0;i<w.length;i++){var A=w[i];y=new sap.m.Button({text:A.getText(),tooltip:A.getText()});y.attachPress(A,z);x.push(y);}return new sap.m.Button({icon:"sap-icon://action",press:function(){var B=new sap.m.ActionSheet({buttons:x,placement:sap.m.PlacementType.Auto});B.openBy(this);}});}return new k({text:"{value}"}).addStyleClass("sapUshellSearchResultListItem-MightOverflow");});return e;},onRegionClick:function(e){},onRegionContextMenu:function(e){},assembleSearchResultMap:function(){var s=new n({visible:{parts:[{path:'/resultToDisplay'},{path:'/count'}],formatter:function(r,e){return r==="searchResultMap"&&e!==0;}}});return s;},assembleShowMoreFooter:function(){var t=this;var e=new sap.m.Button({text:"{i18n>showMore}",type:sap.m.ButtonType.Transparent,press:function(){var l=t.getModel();l.setProperty('/focusIndex',l.getTop());var p=l.getTop()+l.pageSize;l.setTop(p);l.eventLogger.logEvent({type:l.eventLogger.SHOW_MORE});}});e.addStyleClass('sapUshellResultListMoreFooter');var i=new sap.m.FlexBox({visible:{parts:[{path:'/boCount'},{path:'/boResults'}],formatter:function(l,p){return p.length<l;}},justifyContent:sap.m.FlexJustifyContent.Center});i.addStyleClass('sapUshellResultListMoreFooterContainer');i.addItem(e);return i;},assembleSearchResultList:function(){var t=this;t.resultList=new c({mode:sap.m.ListMode.None,width:"auto",showNoData:false,visible:{parts:[{path:'/resultToDisplay'},{path:'/count'}],formatter:function(r,e){return r==="searchResultList"&&e!==0;}}});t.resultList.bindAggregation("items","/results",function(p,e){return t.assembleListItem(e);});return t.resultList;},assembleAppSearch:function(){var t=this;var e=new sap.ushell.renderers.fiori2.search.controls.SearchTilesContainer("AppSearchContainer",{addAccInformation:true,maxRows:99999,totalLength:'{/appCount}',visible:{parts:[{path:'/resultToDisplay'},{path:'/count'}],formatter:function(r,i){return r==="appSearchResult"&&i!==0;}},highlightTerms:'{/uiFilter/searchTerm}',showMore:function(){var i=t.getModel();i.setProperty('/focusIndex',e.getNumberDisplayedTiles()-1);var l=i.getTop()+i.pageSize*e.getTilesPerRow();i.setTop(l);}});e.bindAggregation('tiles','/appResults',function(i,l){if(t.getModel().getResultToDisplay()==="appSearchResult"){return l.getObject().getView();}return new sap.m.Text({text:""});});e.addStyleClass('sapUshellSearchTileResultList');return e;},assembleTitleItem:function(D){var i=new sap.m.CustomListItem();var t=new sap.m.Label({text:"{title}"});t.addStyleClass('bucketTitle');i.addStyleClass('bucketTitleContainer');i.addContent(new sap.m.HBox({items:[t]}));return i;},assembleAppContainerResultListItem:function(D,p){var t=this;var e=new sap.ushell.renderers.fiori2.search.controls.SearchTilesContainer("AppSearchContainerResultListItem",{maxRows:sap.ui.Device.system.phone?2:1,totalLength:'{/appCount}',highlightTerms:'{/uiFilter/searchTerm}',enableKeyHandler:false,resultList:t.resultList,showMore:function(){var i=t.getModel();i.setDataSource(i.appDataSource);}});e.bindAggregation('tiles','tiles',function(i,q){if(t.getModel().getResultToDisplay()!=="appSearchResult"){return q.getObject().getView();}return new sap.m.Text({text:""});});var l=new sap.m.CustomListItem({content:e});l.addStyleClass('sapUshellSearchResultListItem');l.addStyleClass('sapUshellSearchResultListItemApps');l.addEventDelegate({onAfterRendering:function(E){var i=$(l.getDomRef());i.removeAttr("tabindex");i.removeAttr("role");i.attr("aria-hidden","true");}},l);return l;},assembleResultListItem:function(D,p){var t=this;var e=this.getModel().config.getDataSourceConfig(D.dataSource);var s={dataSource:D.dataSource,title:"{title}",titleDescription:"{titleDescription}",titleNavigation:"{titleNavigation}",type:"{dataSourceName}",imageUrl:"{imageUrl}",imageFormat:"{imageFormat}",imageNavigation:"{imageNavigation}",geoJson:"{geoJson}",attributes:"{itemattributes}",navigationObjects:"{navigationObjects}",selected:"{selected}",expanded:"{expanded}",positionInList:"{positionInList}",resultSetId:"{resultSetId}",layoutCache:"{layoutCache}"};var i;if(e.searchResultListItemControl){i=new e.searchResultListItemControl(s);}else if(e.searchResultListItemContentControl){s.content=new e.searchResultListItemContentControl();i=new C(s);}else{i=new o(s);}if(i.setTotalCountHiddenElement){i.setTotalCountHiddenElement(t.totalCountHiddenElement);}var l=new sap.m.CustomListItem({content:i,type:sap.m.ListType.Inactive});l.addStyleClass('sapUshellSearchResultListItem');if(i.setParentListItem){i.setParentListItem(l);}return l;},assembleListItem:function(e){var t=this;var D=e.getObject();if(D.type==='title'){return t.assembleTitleItem(D);}else if(D.type==='footer'){return new sap.m.CustomListItem();}else if(D.type==='appcontainer'){return t.assembleAppContainerResultListItem(D,e.getPath());}return t.assembleResultListItem(D,e.getPath());},onAllSearchStarted:function(){},onAllSearchFinished:function(){var t=this;t.reorgTabBarSequence();t.oFocusHandler.setFocus();var v=sap.ui.getCore().byId('viewPortContainer');if(v&&v.switchState){v.switchState('Center');}},updatePersoServiceAndController:function(){var t=this;var e=t.getModel();var i=e.getDataSource().id;var s='search-result-table-state-'+i;if(!t.oTablePersoController){var p=e.getPersonalizationStorageInstance();t.oTablePersoController=new sap.m.TablePersoController({table:sap.ui.getCore().byId("ushell-search-result-table"),persoService:p.getPersonalizer(s)}).activate();t.oTablePersoController.refresh();}if(t.oTablePersoController&&t.oTablePersoController.getPersoService().getKey()!==s){t.oTablePersoController.setPersoService(e.getPersonalizationStorageInstance().getPersonalizer(s));t.oTablePersoController.refresh();}},updateTableLayout:function(){var t=this;if(t.searchResultTable&&t.oTablePersoController){var e=t.getModel().getDataSource().id;var s='search-result-table-state-'+e;t.oTablePersoController.getPersoService(s).getPersData().then(function(p){if(p&&p.aColumns){var l=p.aColumns;var q=this.searchResultTable.getColumns();var v=0;for(var i=0;i<l.length;i++){var r=l[i].id.split('table-searchColumnKey').pop();var u=q[parseInt(r,10)];if(u){u.setDemandPopin(false);if(l[i].visible){v++;u.setDemandPopin(true);u.setPopinDisplay(sap.m.PopinDisplay.Inline);var w=12*v;u.setMinScreenWidth(w+"rem");}}}if(v<=3){this.searchResultTable.setFixedLayout(false);}else{this.searchResultTable.setFixedLayout(true);}}}.bind(this));}},setAppView:function(A){var t=this;t.oAppView=A;if(t.oTilesContainer){t.oTilesContainer.setAppView(A);}},getControllerName:function(){return"sap.ushell.renderers.fiori2.search.container.Search";}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/CustomSearchResultListItem',['sap/ushell/renderers/fiori2/search/controls/SearchResultListItem','sap/ushell/renderers/fiori2/search/controls/CustomSearchResultListItemContent'],function(){"use strict";return sap.ushell.renderers.fiori2.search.controls.SearchResultListItem.extend("sap.ushell.renderers.fiori2.search.controls.CustomSearchResultListItem",{metadata:{properties:{content:{type:"sap.ushell.renderers.fiori2.search.controls.CustomSearchResultListItemContent"}}},init:function(){sap.ushell.renderers.fiori2.search.controls.SearchResultListItem.prototype.init.apply(this,arguments);},setupCustomContentControl:function(){var c=this.getContent();c.setTitle(this.getTitle());c.setTitleUrl(this.getTitleUrl());c.setType(this.getType());c.setImageUrl(this.getImageUrl());c.setAttributes(this.getAttributes());},renderer:function(r,c){c.setupCustomContentControl();sap.ushell.renderers.fiori2.search.controls.SearchResultListItemRenderer.render.apply(this,arguments);},onAfterRendering:function(){sap.ushell.renderers.fiori2.search.controls.SearchResultListItem.prototype.onAfterRendering.apply(this,arguments);this.getContent().getTitleVisibility();}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/CustomSearchResultListItemContent',[],function(){"use strict";return sap.ui.base.ManagedObject.extend("sap.ushell.renderers.fiori2.search.controls.CustomSearchResultListItemContent",{metadata:{properties:{title:"string",titleUrl:"string",type:"string",imageUrl:"string",attributes:{type:"object",multiple:true},intents:{type:"object",multiple:true}}},init:function(){},getContent:function(){return undefined;},getTitleVisibility:function(){return true;}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/DivContainer',[],function(){"use strict";return sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.DivContainer",{metadata:{properties:{"cssClass":"string"},aggregations:{"content":{singularName:"content",multiple:true}}},renderer:function(r,c){r.write('<div');r.writeControlData(c);r.addClass(c.getCssClass());r.writeClasses();r.write('>');var C=c.getContent();for(var i=0;i<C.length;i++){r.renderControl(C[i]);}r.write('</div>');}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchAdvancedCondition',['sap/ui/layout/HorizontalLayout','sap/ushell/renderers/fiori2/search/SearchFacetDialogHelper'],function(H,S){"use strict";return sap.ui.layout.HorizontalLayout.extend('sap.ushell.renderers.fiori2.search.controls.SearchAdvancedCondition',{metadata:{properties:{"type":""}},constructor:function(o){var t=this;o=jQuery.extend({},{allowWrapping:true,content:t.contentFactory(o)},o);sap.ui.layout.HorizontalLayout.prototype.constructor.apply(this,[o]);t.addStyleClass('sapUshellSearchFacetDialogDetailPageCondition');},renderer:'sap.ui.layout.HorizontalLayoutRenderer',contentFactory:function(o){var t=this;var a=new sap.m.CheckBox({select:function(e){if(o.type==="string"||o.type==="text"){S.updateCountInfo(e.getSource().getParent().getParent().getParent().getParent().getParent().getParent());}else{S.updateCountInfo(e.getSource().getParent().getParent().getParent());}}}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionCheckBox');var A=sap.ui.getCore().byId("advancedCheckBoxLabel");if(!A){A=new sap.ui.core.InvisibleText("advancedCheckBoxLabel",{text:sap.ushell.resources.i18n.getText("checkBox")});}a.addAriaLabelledBy("advancedCheckBoxLabel");var O=sap.ui.getCore().byId("operatorLabel");if(!O){O=new sap.ui.core.InvisibleText("operatorLabel",{text:sap.ushell.resources.i18n.getText("operator")});}var i,b,I,s;switch(o.type){case'timestamp':case'date':i=new sap.m.DateRangeSelection({width:'86%',change:function(e){t.onDateRangeSelectionChange(e);}}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionInput');i.onAfterRendering=function(){var e=$(this.getDomRef());$('input',e).attr('readonly','readonly');};break;case'string':a.setVisible(false);I=new sap.m.Input({width:'57%',placeholder:sap.ushell.resources.i18n.getText("filterCondition"),liveChange:function(e){t.onAdvancedInputChange(e);}}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionInput');s=new sap.m.Select({width:'40%',tooltip:sap.ushell.resources.i18n.getText("operator"),items:[new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("equals"),key:'eq'}),new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("beginsWith"),key:'bw'}),new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("endsWith"),key:'ew'}),new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("contains"),key:'co'})]}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionSelect');s.addAriaLabelledBy("operatorLabel");i=new sap.ui.layout.HorizontalLayout({allowWrapping:true,content:[s,I]});b=new sap.m.Button({icon:"sap-icon://sys-cancel",type:sap.m.ButtonType.Transparent,tooltip:sap.ushell.resources.i18n.getText("removeButton"),press:function(e){t.onDeleteButtonPress(e);}});break;case'text':a.setVisible(false);I=new sap.m.Input({width:'57%',placeholder:sap.ushell.resources.i18n.getText("filterCondition"),liveChange:function(e){t.onAdvancedInputChange(e);}}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionInput');s=new sap.m.Select({width:'40%',tooltip:sap.ushell.resources.i18n.getText("operator"),items:[new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("containsWords"),key:'co'})]}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionSelect');s.addAriaLabelledBy("operatorLabel");i=new sap.ui.layout.HorizontalLayout({allowWrapping:true,content:[s,I]});b=new sap.m.Button({icon:"sap-icon://sys-cancel",type:sap.m.ButtonType.Transparent,tooltip:sap.ushell.resources.i18n.getText("removeButton"),press:function(e){t.onDeleteButtonPress(e);}});break;case'integer':case'number':var c=new sap.m.Input({width:'46.5%',placeholder:sap.ushell.resources.i18n.getText("fromPlaceholder"),liveChange:function(e){t.onAdvancedNumberInputChange(e);}}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionInput');var d=new sap.m.Input({width:'46.5%',placeholder:sap.ushell.resources.i18n.getText("toPlaceholder"),liveChange:function(e){t.onAdvancedNumberInputChange(e);}}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionInput');var l=new sap.m.Label({text:'...'}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionLabel');i=new sap.ui.layout.HorizontalLayout({allowWrapping:true,content:[c,l,d]});i.addEventDelegate({onAfterRendering:function(e){var f=e.srcControl.getParent().getParent().getContent().length;var g=e.srcControl.getParent().getParent().indexOfAggregation("content",e.srcControl.getParent());if(g===f-2){var v=e.srcControl.getContent()[2].getValue();e.srcControl.getContent()[2].setValue();e.srcControl.getContent()[2].setValue(v);}}});break;default:break;}return[a,i,b];},onDateRangeSelectionChange:function(e){var d=e.getSource();var a=d.getParent();var A=a.getContent()[0];if(d.getDateValue()&&d.getSecondDateValue()){A.setSelected(true);S.insertNewAdvancedCondition(a,"date");S.updateCountInfo(a.getParent().getParent());}else{A.setSelected(false);}},onAdvancedInputChange:function(e){var i=e.getSource();var a=i.getParent().getParent();var A=a.getContent()[0];if(i.getValue()){A.setSelected(true);S.updateCountInfo(a.getParent().getParent().getParent().getParent().getParent());}else{A.setSelected(false);}},onDeleteButtonPress:function(e){var a=e.getSource().getParent();S.deleteAdvancedCondition(a);},onAdvancedNumberInputChange:function(e){var i=e.getSource();var a=i.getParent().getParent();var A=a.getContent()[0];if(i.getParent().getContent()[0].getValue()&&i.getParent().getContent()[2].getValue()){A.setSelected(true);S.insertNewAdvancedCondition(a,"number");S.updateCountInfo(a.getParent().getParent());}else{A.setSelected(false);}}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchButton',['sap/ushell/renderers/fiori2/search/SearchHelper','sap/m/Button'],function(S){"use strict";sap.m.Button.extend('sap.ushell.renderers.fiori2.search.controls.SearchButton',{constructor:function(i,o){o=jQuery.extend({},{icon:sap.ui.core.IconPool.getIconURI("search"),tooltip:sap.ushell.resources.i18n.getText("search"),enabled:{parts:[{path:"/initializingObjSearch"}],formatter:function(a){return!S.isSearchAppActive()||!a;}}},o);sap.m.Button.prototype.constructor.apply(this,[i,o]);this.addStyleClass('searchBtn');},renderer:'sap.m.ButtonRenderer'});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchFacet',["sap/m/List","sap/ushell/library","sap/ushell/renderers/fiori2/search/controls/SearchFacetItem"],function(){"use strict";sap.m.List.extend("sap.ushell.renderers.fiori2.search.controls.SearchFacet",{metadata:{properties:{eshRole:{type:"string",defaultValue:"datasource"}}},init:function(){this.data("sap-ui-fastnavgroup","false",true);},constructor:function(i,o){o=jQuery.extend({},{mode:sap.m.ListMode.SingleSelectMaster,showSeparators:sap.m.ListSeparators.None,includeItemInSelection:true,selectionChange:function(e){if(this.getEshRole()==="attribute"){this.handleItemPress(e);}},itemPress:function(e){if(this.getModel().config.searchScopeWithoutAll){return;}if(this.getEshRole()==="datasource"){this.handleItemPress(e);}}},o);sap.m.List.prototype.constructor.apply(this,[i,o]);this.addStyleClass("sapUshellSearchFacet");},handleItemPress:function(e){var l=e.mParameters.listItem;var s=l.getBindingContext().getObject();if(l.getSelected()){this.getModel().addFilterCondition(s.filterCondition);this.getModel().eventLogger.logEvent({type:this.getModel().eventLogger.FACET_FILTER_ADD,referencedAttribute:s.facetAttribute,clickedValue:s.value,clickedPosition:l.getList().getItems().indexOf(l)});}else{this.getModel().removeFilterCondition(s.filterCondition);this.getModel().eventLogger.logEvent({type:this.getModel().eventLogger.FACET_FILTER_DEL,referencedAttribute:s.facetAttribute,clickedValue:s.value,clickedPosition:l.getList().getItems().indexOf(l)});}},renderer:"sap.m.ListRenderer",onAfterRendering:function(){var i=jQuery(this.getDomRef()).closest(".sapUshellSearchFacetIconTabBar").find(".sapUshellSearchFacetInfoZeile")[0];if(i){var I=sap.ui.getCore().byId(i.id);I.setVisible(false);}},setEshRole:function(r){var t=this;var i={path:"items",template:new sap.ushell.renderers.fiori2.search.controls.SearchFacetItem(),groupHeaderFactory:function(g){var a=new sap.m.GroupHeaderListItem({title:g.key,upperCase:false});if(t.getModel().config.charts){a.setVisible(false);}return a;}};switch(r.toLowerCase()){case"attribute":this.setMode(sap.m.ListMode.MultiSelect);this.setHeaderText("");break;default:this.setMode(sap.m.ListMode.SingleSelectMaster);this.setHeaderText(sap.ushell.resources.i18n.getText("searchIn"));break;}this.bindAggregation("items",i);this.setProperty("eshRole",r);return this;},setModel:function(){return sap.m.List.prototype.setModel.apply(this,arguments);}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchFacetBarChart',["sap/suite/ui/microchart/ComparisonMicroChart","sap/ushell/library"],function(H){"use strict";sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchFacetBarChart",{metadata:{properties:{lastUpdated:{type:"string"},aItems:{type:"object"}},aggregations:{items:{type:"sap.suite.ui.microchart.ComparisonMicroChartData",multiple:true}}},constructor:function(o){var t=this;t.options=o;sap.ui.core.Control.prototype.constructor.apply(this);this.bindAggregation("items","items",function(){var c=new sap.suite.ui.microchart.ComparisonMicroChartData({title:"{label}",value:"{value}",color:{path:"selected",formatter:function(v){var r=sap.m.ValueColor.Good;if(!v){r=sap.m.ValueColor.Neutral;}return r;}},displayValue:"{valueLabel}",press:function(e){var a=e.getSource().getBindingContext();var m=a.getModel();var d=a.getObject();var i=d.selected;var f=d.filterCondition;if(i){if(t.options.oSearchFacetDialog){t.options.oSearchFacetDialog.onDetailPageSelectionChangeCharts(e);}else{m.removeFilterCondition(f,true);}}else if(t.options.oSearchFacetDialog){t.options.oSearchFacetDialog.onDetailPageSelectionChangeCharts(e);}else{m.addFilterCondition(f,true);}}});return c;});},renderer:function(r,c){r.write("<div");r.writeControlData(c);r.writeClasses();r.write(">");var C=new sap.suite.ui.microchart.ComparisonMicroChart({width:"90%",colorPalette:"",press:function(e){},tooltip:"",shrinkable:true});if(c.options.oSearchFacetDialog){C.setWidth("95%");C.addStyleClass("sapUshellSearchFacetBarChartLarge");}else{C.addStyleClass("sapUshellSearchFacetBarChart");}C.addEventDelegate({onAfterRendering:function(e){$("#"+this.sId).has(".Good").addClass("sapUshellSearchFacetBarChartSelected");}});var a=c.getItems();var b=c.getAItems();if(a.length===0&&b){a=b;}var m=0;for(var i=0;i<a.length;++i){var d=a[i];if(!c.options.oSearchFacetDialog){if(d.mProperties&&d.mProperties.value){C.addData(d);}else if(d.mProperties&&!d.mProperties.value){m++;}}else{C.addData(d);}}c.iMissingCnt=m;r.renderControl(C);r.write("</div>");},onAfterRendering:function(){var t=this;var a=$(this.getDomRef()).closest(".sapUshellSearchFacetIconTabBar").find(".sapUshellSearchFacetInfoZeile")[0];var I=sap.ui.getCore().byId(a.id);if(t.iMissingCnt>0){I.setVisible(true);var m=sap.ushell.resources.i18n.getText("infoZeileNumberMoreSelected",[t.iMissingCnt]);I.setText(m);I.rerender();}else{I.setVisible(false);}var A=$(".sapSuiteUiMicroChartPointer");for(var i=0;i<A.length;i++){var b=A[i];var s=b.title;if(s&&s.indexOf(":")===-1){b.title=s.replace(/( \d+) *$/,":$1");}}},setEshRole:function(){}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchFacetDialog',["sap/ushell/library","sap/ushell/renderers/fiori2/search/SearchHelper","sap/ushell/renderers/fiori2/search/SearchFacetDialogHelper","sap/ushell/renderers/fiori2/search/SearchFacetDialogHelperCharts","sap/ushell/renderers/fiori2/search/controls/SearchAdvancedCondition"],function(u,s,a,b){"use strict";sap.m.Dialog.extend("sap.ushell.renderers.fiori2.search.controls.SearchFacetDialog",{constructor:function(o){var t=this;t.bConditionValidateError=false;t.bShowCharts=true;t.bOldPieChart=true;if(jQuery.sap.getUriParameters().mParams.newpie&&jQuery.sap.getUriParameters().get("newpie")!=="false"){t.bOldPieChart=false;}t.chartOnDisplayIndex=o.selectedTabBarIndex;t.facetOnDisplayIndex=0;t.chartOnDisplayIndexByFilterArray=[];t.aItemsForBarChart=[];t.tabBarItems=o.tabBarItems;t.searchFacetDialogHelperCharts=b;if(!t.tabBarItems){b.setDummyTabBarItems(t);}o=jQuery.extend({},{showHeader:false,horizontalScrolling:false,verticalScrolling:false,contentHeight:"35rem",beginButton:new sap.m.Button({text:sap.ushell.resources.i18n.getText("okDialogBtn"),type:sap.m.ButtonType.Emphasized,press:function(e){t.onOkClick(e);t.close();t.destroy();}}),endButton:new sap.m.Button({text:sap.ushell.resources.i18n.getText("cancelDialogBtn"),press:function(e){t.onCancelClick(e);t.close();t.destroy();}}),content:[t.createContainer()]},o);t.selectedAttribute=o.selectedAttribute?o.selectedAttribute:"";delete o.selectedAttribute;delete o.selectedTabBarIndex;delete o.tabBarItems;sap.m.Dialog.prototype.constructor.apply(this,[o]);a.init(t);b.init(t);t.addStyleClass("sapUshellSearchFacetDialog");t.onSearchFieldLiveChange=s.delayedExecution(t.onSearchFieldLiveChange,1000);},renderer:"sap.m.DialogRenderer",createContainer:function(){var t=this;t.oSplitContainer=new sap.m.SplitContainer({masterPages:t.createMasterPages()});t.oSplitContainer.bindAggregation("detailPages","/facetDialog",function(i,c){return t.createDetailPages(i,c);});t.oSplitContainer.addStyleClass("sapUshellSearchFacetDialogContainer");return t.oSplitContainer;},createMasterPages:function(){var t=this;var f=new sap.m.List({mode:sap.m.ListMode.SingleSelectMaster,selectionChange:function(e){t.onMasterPageSelectionChange(e);}});f.addStyleClass("sapUshellSearchFacetDialogFacetList");f.bindAggregation("items","/facetDialog",function(i,c){var l=new sap.m.StandardListItem({title:"{title}",counter:"{count}"});return l;});var r=new sap.m.Button({icon:"sap-icon://clear-filter",tooltip:sap.ushell.resources.i18n.getText("resetFilterButton_tooltip"),type:"Transparent",enabled:false,press:function(e){t.resetAllFilters(e);}});r.addStyleClass("sapUshellSearchFacetDialogFilterResetButton");var m=new sap.m.Page({title:sap.ushell.resources.i18n.getText("filters"),headerContent:r,content:[f]}).addStyleClass("sapUshellSearchFacetDialogMasterContainer");m.addEventDelegate({onAfterRendering:function(e){if(t.selectedAttribute){for(var i=0;i<f.getItems().length;i++){var l=f.getItems()[i];var B=l.getBindingContext().getObject();if(t.selectedAttribute===B.dimension){f.setSelectedItem(l);t.facetOnDisplayIndex=i;t.chartOnDisplayIndexByFilterArray.push(t.chartOnDisplayIndex);}else{var n=0;var c=l.getBindingContext().getModel().oData.facets;for(var j=0;j<c.length;j++){if(c[j].chartIndex&&c[j].dimension===B.dimension&&!isNaN(c[j].chartIndex)){n=c[j].chartIndex;}}t.chartOnDisplayIndexByFilterArray.push(n);}}}if(!f.getSelectedItem()){f.setSelectedItem(f.getItems()[0]);}var S=f.getSelectedItem();a.updateDetailPage(S,null,true);t.resetEnabledForFilterResetButton();}});var M=[m];return M;},resetAllFilters:function(e){var c=$(".sapUshellSearchFacetDialogSettingsContainer").find(".sapMCbBg.sapMCbHoverable.sapMCbMark");if(c.length===1){var i=c[0].parentNode.id;var C=sap.ui.getCore().byId(i);C.setSelected(false);C.setEnabled(false);}var m=this.getModel();m.aFilters=[];a.bResetFilterIsActive=true;var M=a.getFacetList();var f=M.getItems();for(var j=0;j<f.length;j++){f[j].setCounter(0);}this.resetAdvancedConditionFilters();a.resetChartQueryFilters();a.updateDetailPage(M.getSelectedItem());this.resetEnabledForFilterResetButton();a.bResetFilterIsActive=false;},resetAdvancedConditionFilters:function(){var t=this;var A,c,n,d,p,C,j;var D=t.oSplitContainer.getDetailPages();for(var i=0;i<D.length;i++){var o=D[i];n=a.POS_ATTRIBUTE_LIST_CONTAINER;A=o.getContent()[n];if(A){for(j=A.getContent().length-2;j>0;j--){c=A.getContent()[j];p=c.getParent();C=c;p.removeContent(C);}}else{n=a.POS_ICONTABBAR;d=a.POS_TABBAR_CONDITION;A=o.getContent()[n].getItems()[d].getContent()[0];if(A){for(j=A.getContent().length-1;j>-1;j--){c=A.getContent()[j];if(c.getContent&&c.getContent()[1]){var e=c.getContent()[1].getContent()[1];var f=e.getValue();if(f&&(""+f).length>0){p=c.getParent();C=c;p.removeContent(C);}}}}}}},resetEnabledForFilterResetButton:function(f){var F=false;var o=0;var m=a.getFacetList();var c=m.getItems();for(var i=0;i<c.length;i++){o+=c[i].getCounter();}var M=this.getModel();if(M.aFilters&&M.aFilters.length>0||f||o>0){F=true;}var d=$(".sapUshellSearchFacetDialogFilterResetButton")[0].id;var r=sap.ui.getCore().byId(d);r.setEnabled(F);},onMasterPageSelectionChange:function(e){var t=this;var l=e.mParameters.listItem;t.facetOnDisplayIndex=l.getParent().indexOfItem(l.getParent().getSelectedItem());t.setChartOnDisplayIndexForFacetListItem(t.facetOnDisplayIndex);var m=l.getParent().getModel();var B=l.getBindingContext().sPath;t.resetIcons(m,B,t);a.updateDetailPage(l);if(t.oSplitContainer.getMode()==="ShowHideMode"){t.oSplitContainer.hideMaster();}t.controlChartVisibility(t,t.chartOnDisplayIndex);},createDetailPages:function(i,c){var t=this;var f=c.oModel.getProperty(c.sPath).facetType;var d=c.oModel.getAttributeDataType(c.oModel.getProperty(c.sPath));var S=new sap.m.Select({items:[new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("notSorted"),key:"notSorted"}),new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("sortByCount"),key:"sortCount"}),new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("sortByName"),key:"sortName"})],selectedKey:(d==="string"||d==="text")?"sortCount":"notSorted",change:function(E){t.onSelectChange(E);}}).addStyleClass("sapUshellSearchFacetDialogSettingsSelect");var h=new sap.m.HBox({alignItems:sap.m.FlexAlignItems.End,justifyContent:sap.m.FlexJustifyContent.End,items:[S]});var C=new sap.m.CheckBox({text:sap.ushell.resources.i18n.getText("showSelectedOnTop"),enabled:false,select:function(E){t.onCheckBoxSelect(E);}});var o=new sap.m.VBox({items:[h,C]}).addStyleClass("sapUshellSearchFacetDialogSettingsContainer");o.setVisible(false);var l=new sap.m.List({backgroundDesign:sap.m.BackgroundDesign.Transparent,includeItemInSelection:true,showNoData:false,showSeparators:sap.m.ListSeparators.None,selectionChange:function(E){t.onDetailPageSelectionChange(E);}});l.addStyleClass("sapUshellSearchFacetDialogDetailPageList");l.addStyleClass("largeChart0");if(f==="attribute"){l.setMode(sap.m.ListMode.MultiSelect);}var B={path:"items",factory:function(i,c){var q=c.oModel.getProperty(c.sPath);var r=new sap.m.StandardListItem({title:"{label}",tooltip:sap.ushell.resources.i18n.getText("facetListTooltip",["{label}","{value}"]),info:"{valueLabel}",selected:"{selected}"});if(q.selected){c.oModel.addFilter(q);}return r;}};if(d==="number"||d==="integer"){S.removeItem(2);}B.filters=new sap.ui.model.Filter("advanced",sap.ui.model.FilterOperator.NE,true);l.bindAggregation("items",B);l.data("dataType",d);if(t.bShowCharts){l.addEventDelegate({onAfterRendering:function(E){t.hideSelectively(E,t,0);}});}var L,e,g;e=b.getBarChartPlaceholder();e.addEventDelegate({onAfterRendering:function(E){t.hideSelectively(E,t,1);}});e.data("dataType",d);if(t.bOldPieChart){g=b.getPieChartPlaceholder();}else{g={};}g.addEventDelegate({onAfterRendering:function(E){t.hideSelectively(E,t,2);}});if(t.bShowCharts&&(d==="string"||d==="text")){L=new sap.m.ScrollContainer({height:"67.2%",horizontal:false,vertical:true,content:[l,e,g]});}else{L=new sap.m.ScrollContainer({height:"calc(100% - 0.25rem)",horizontal:false,vertical:true,content:[l]});}L.addStyleClass("sapUshellSearchFacetDialogDetailPageListContainer");L.addStyleClass("searchFacetLargeChartContainer");L.setBusyIndicatorDelay(0);var A=new sap.ushell.renderers.fiori2.search.controls.SearchAdvancedCondition({type:d});var p;if(d==="string"||d==="text"){var j=new sap.m.ScrollContainer({horizontal:false,vertical:true,content:[A]});j.addStyleClass("sapUshellSearchFacetDialogDetailPageAdvancedContainer");var P=new sap.m.Button({icon:"sap-icon://add",type:sap.m.ButtonType.Transparent,press:function(E){t.onPlusButtonPress(E,d);}});j.addContent(P);j.data("dataType",d);j.data("initial",true);L.setHeight("calc(100% - 0.25rem)");j.setHeight("100%");var k=b.getDropDownButton(t);var m=new sap.m.Toolbar({content:[new sap.m.SearchField({placeholder:sap.ushell.resources.i18n.getText("filterPlaceholder"),liveChange:function(E){t.onSearchFieldLiveChange(E.oSource.getValue());}}),new sap.m.ToggleButton({icon:"sap-icon://sort",press:function(E){t.onSettingButtonPress(E);}}).addStyleClass("sapUshellSearchFacetDialogSortButton")]}).addStyleClass("sapUshellSearchFacetDialogSubheaderToolbar");m.addEventDelegate({onAfterRendering:function(E){$(".sapUshellSearchFacetDialogSubheaderToolbar").removeClass("sapContrastPlus");}});if(t.bShowCharts){m.addContent(k);}var T=new sap.m.Page({showHeader:false,subHeader:m,content:[o,L]}).addStyleClass("sapUshellSearchFacetDialogDetailPage");var I=new sap.m.IconTabBar({expandable:false,stretchContentHeight:true,backgroundDesign:sap.m.BackgroundDesign.Transparent,applyContentPadding:false,select:function(E){t.controlChartVisibility(t,t.chartOnDisplayIndex);},items:[new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText("selectFromList"),content:[T]}),new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText("defineCondition"),content:[j]})]});I.addStyleClass("sapUshellSearchFacetDialogIconTabBar");p=new sap.m.Page({showHeader:true,title:c.oModel.getProperty(c.sPath).title,content:[I]});p.addStyleClass("sapUshellSearchFacetDialogDetailPageString");}else{L.addContent(A);L.data("dataType",d);L.data("initial",true);if(t.bShowCharts){var n=c.oModel.getProperty(c.sPath).title;p=new sap.m.Page({title:n,showHeader:true,content:[o,L]});}else{p=new sap.m.Page({showHeader:true,title:c.oModel.getProperty(c.sPath).title,content:[o,L]});}p.addStyleClass("sapUshellSearchFacetDialogDetailPage");}p.addEventDelegate({onAfterRendering:function(E){t.controlChartVisibility(t,t.chartOnDisplayIndex);}});return p;},onDetailPageSelectionChange:function(e){var t=this;var S=e.mParameters.listItem;var B=S.getBindingContext().getObject();if(S.getSelected()){B.listed=true;t.getModel().addFilter(B);}else{B.listed=false;t.getModel().removeFilter(B);}var l=e.oSource;var d;if(l.data("dataType")==="string"||l.data("dataType")==="text"){d=l.getParent().getParent().getParent().getParent().getParent().getParent();}else{d=l.getParent().getParent();}a.updateCountInfo(d);var o=l.getParent().getParent().getContent()[a.POS_SETTING_CONTAINER];var c=o.getItems()[a.POS_SHOWONTOP_CHECKBOX];var f=o.getItems()[a.POS_SORTING_SELECT].getItems()[0];if(c.getSelected()){c.setSelected(false);f.setSelectedKey("notSorted");}if(l.getSelectedContexts().length>0){c.setEnabled(true);}else{c.setEnabled(false);}},onSearchFieldLiveChange:function(v){var S=a.getFacetList().getSelectedItem();a.updateDetailPage(S,v);},onSettingButtonPress:function(e){var p=e.oSource.getPressed();var S=e.oSource.getParent().getParent().getContent()[a.POS_SETTING_CONTAINER];var l=e.oSource.getParent().getParent().getContent()[a.POS_ATTRIBUTE_LIST_CONTAINER];if(p){S.setVisible(true);l.setHeight("calc(100% - 4.25rem)");}else{S.setVisible(false);l.setHeight("calc(100% - 0.25rem)");}},onSelectChange:function(e){a.sortingAttributeList(e.oSource.getParent().getParent().getParent());},onCheckBoxSelect:function(e){a.sortingAttributeList(e.oSource.getParent().getParent());},onPlusButtonPress:function(e,t){var A=e.getSource().getParent();var n=new sap.ushell.renderers.fiori2.search.controls.SearchAdvancedCondition({type:t});var i=A.getAggregation("content").length-1;A.insertAggregation("content",n,i);},onOkClick:function(e){var t=this;var M=t.getModel();var S=t.getModel("searchModel");S.resetFilterConditions(false);var d=t.oSplitContainer.getDetailPages();for(var m=0;m<M.aFilters.length;m++){var c=M.aFilters[m];if(!c.advanced||c.listed){S.addFilterCondition(c.filterCondition,false);}}for(var i=0;i<d.length;i++){if(a.getFacetList().getItems()[i]){a.applyAdvancedCondition(d[i],a.getFacetList().getItems()[i].getBindingContext().getObject(),S);}}if(!t.bConditionValidateError){S.filterChanged=true;S._firePerspectiveQuery();}S.eventLogger.logEvent({type:S.eventLogger.FACET_SHOW_MORE_CLOSE});},onCancelClick:function(e){var S=this.getModel("searchModel");S.eventLogger.logEvent({type:S.eventLogger.FACET_SHOW_MORE_CLOSE});},setChartOnDisplayIndexForFacetListItem:function(f){var t=this;var r=0;try{r=t.chartOnDisplayIndexByFilterArray[f];}catch(e){r=0;}if(r===undefined){r=0;}t.chartOnDisplayIndex=r;},resetIcons:function(m,p,c){var t=this;var d=false;var D=m.getAttributeDataType(m.getProperty(p));if(t.bShowCharts&&(D==="string"||D==="text")){d=true;}var e=$(".sapUshellSearchFacetDialogTabBarButton");if(d){e.css("display","block");for(var i=0;i<e.length;i++){var f=e[i].id;var o=sap.ui.getCore().byId(f);var g=c.tabBarItems[c.chartOnDisplayIndex].getIcon();o.setIcon(g);var h=c.tabBarItems[c.chartOnDisplayIndex].getText();var j=sap.ushell.resources.i18n.getText("displayAs",[h]);o.setTooltip(j);}}else{e.css("display","none");}},onDetailPageSelectionChangeCharts:function(e){var t=this;var c=0;var d,m,f,g,h,S,k,B,p,M;var l,j,n,N,i,o;if(e.getSource&&e.sId==="press"){d=e.getSource().getBindingContext();m=d.getModel();f=d.getObject();g=f.selected;h=!g;S=e.getSource();k=S.getBindingContext().sPath+"/selected";m.setProperty(k,h);B=S.getBindingContext().getObject();if(h){m.addFilter(B);}else{m.removeFilter(B);}p=k.replace(/\/items.+/,"");p+="/items";n=m.getProperty(p);c=0;for(i=0;i<n.length;i++){N=n[i];if(N.selected===true){c++;}}}else if(e.getSource&&(e.sId==="selectData"||e.sId==="deselectData")){d=e.getSource().getBindingContext();m=d.getModel();f=d.getObject();h=(e.sId==="selectData");S=e.getSource();k=S.getBindingContext().sPath+"/items/";for(j=0;j<e.getParameters().data.length;j++){l=e.getParameters().data[j].data._context_row_number;k+=l+"/selected";m.setProperty(k,h);B=S.getBindingContext().getObject().items[l];if(h){m.addFilter(B);}else{m.removeFilter(B);}}p=k.replace(/\/items.+/,"");p+="/items";n=m.getProperty(p);c=0;for(i=0;i<n.length;i++){if(n[i].selected===true){c++;}}var q=e.mParameters.data.length;if(!h&&q>1){c=0;for(i=0;i<n.length;i++){n[i].selected=false;}}}else{f=e.dataObject;g=f.selected;h=!g;c=e.cnt;m=e.model;B=new sap.ushell.renderers.fiori2.search.FacetItem();B.facetAttribute=f.dimension;B.filterCondition=f.filterCondition;B.label=f.label;B.selected=f.selected;B.listed=f.selected;B.value=f.value;B.valueLabel=f.valueLabel;for(j=0;j<t.aItemsForBarChart.length;j++){var r=t.aItemsForBarChart[j];if(r.label===f.label){r.selected=f.selected;}}if(g){t.getModel().addFilter(B);}else{t.getModel().removeFilter(B);}}M=a.getFacetList();o=M.getSelectedItem();if(!o){o=M.getItems()[0];}o.setCounter(c);this.resetEnabledForFilterResetButton();},updateDetailPageCharts:function(i,m){var t=this;if(t.bShowCharts===false){return;}t.aItemsForBarChart=i;var l=b.getListContainersForDetailPage();var L=l[1];var c=L.getContent();if(c&&t.chartOnDisplayIndex===2){var p=c[2];var e=l[5];var r=l[2];r=0.9*r;if(p.directUpdate){var d={};d.relevantContainerHeight=r;d.oSearchFacetDialog=t;var M=new sap.ui.model.json.JSONModel();M.setData(i);$("#"+e.id).empty();p.directUpdate(i,e,M,d);}}var f,g;if(c&&t.chartOnDisplayIndex===1){f=c[2].getDomRef();if(f){g=$("#"+f.id);g.css("display","none");}}if(c&&t.chartOnDisplayIndex===2){f=c[1].getDomRef();if(f){g=$("#"+f.id);g.css("display","none");}}},controlChartVisibility:function(c,d,f){var t=this;var e,g,h,j;if(t.bShowCharts===false){return;}var l=c.searchFacetDialogHelperCharts.getListContainersForDetailPage();var L=l[1];if(!L||!L.getContent){return;}var k=L.getContent();for(var i=0;i<k.length;i++){e=k[i].getDomRef();if(!e){return;}h=e.className;j=false;if(h.indexOf("largeChart")>-1){j=true;}g=$("#"+e.id);if(j&&i!==d){g.css("display","none");}else{g.css("display","block");}}if(c.bOldPieChart){if(j&&d===2&&f){var I=t.aItemsForBarChart;var m=t.getModel();t.updateDetailPageCharts(I,m);}if(j&&d===2){L.setVertical(false);}else{L.setVertical(true);}}var S=l[6];var o=l[7];if(S){if(d===0){S.css("display","block");o.css("visibility","visible");}else{S.css("display","none");o.css("visibility","hidden");}}},hideSelectively:function(e,c,d){var f=$("#"+e.srcControl.sId);var g=c.chartOnDisplayIndex;var l=c.searchFacetDialogHelperCharts.getListContainersForDetailPage();var L=l[1];if(l[0].firstChild.children.length!=3){return;}if(g!==undefined){if(c.chartOnDisplayIndex!==d){f.css("display","none");}else{f.css("display","block");}}else{f.css("display","block");}if(g===2){if(!l[0].firstChild.children[2]||!l[0].firstChild.children[2].firstChild){c.controlChartVisibility(c,c.chartOnDisplayIndex,true);}if(c.bOldPieChart){L.setVertical(false);}}else{L.setVertical(true);}var S=l[6];if(S){var h=$("#"+S.sId);if(g===0){h.css("display","block");}else{h.css("display","none");}}}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchFacetFilter',["sap/ushell/library","sap/ushell/renderers/fiori2/search/controls/SearchFacet","sap/ushell/renderers/fiori2/search/controls/SearchFacetTabBar","sap/ushell/renderers/fiori2/search/controls/SearchFacetBarChart","sap/ushell/renderers/fiori2/search/controls/SearchFacetPieChart","sap/ushell/renderers/fiori2/search/controls/SearchFacetDialog","sap/ushell/renderers/fiori2/search/SearchFacetDialogModel"],function(){"use strict";sap.ushell.renderers.fiori2.search.controls.SearchFacetTabBar.extend("my.IconTabBar",{renderer:"sap.ushell.renderers.fiori2.search.controls.SearchFacetTabBarRenderer",setEshRole:function(){var a=this.getItems();for(var i=0;i<a.length;++i){var b=a[i];var f=b.getContent()[0];f.setEshRole.apply(f,arguments);}},getEshRole:function(){var i=this.getItems();var a=i[0];var f=a.getContent()[0];return f.getEshRole.apply(f,arguments);},attachSelectionChange:function(){}});return sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchFacetFilter",{metadata:{properties:{title:"string"},aggregations:{facets:{multiple:true}}},init:function(){this.data("sap-ui-fastnavgroup","true",true);},constructor:function(o){var t=this;o=jQuery.extend({},{},o);sap.ui.core.Control.prototype.constructor.apply(this,[o]);this.bindAggregation("facets","/facets",function(){if(t.getModel().config.charts){if(arguments[1].sPath!=="/facets/0"){var b={};b.id="barChart"+arguments[0];var i=new my.IconTabBar({items:[new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText("facetList"),icon:"sap-icon://list",key:"list"+arguments[0],content:new sap.ushell.renderers.fiori2.search.controls.SearchFacet("list"+arguments[0])}),new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText("facetBarChart"),icon:"sap-icon://horizontal-bar-chart",key:"barChart"+arguments[0],content:new sap.ushell.renderers.fiori2.search.controls.SearchFacetBarChart(b)}),new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText("facetPieChart"),icon:"sap-icon://pie-chart",key:"pieChart"+arguments[0],content:new sap.ushell.renderers.fiori2.search.controls.SearchFacetPieChart("pieChart"+arguments[0])})]});i.addStyleClass("sapUshellSearchFacetIconTabBar");return i;}return new sap.ushell.renderers.fiori2.search.controls.SearchFacet(arguments[0]);}return new sap.ushell.renderers.fiori2.search.controls.SearchFacet(arguments[0]);});},fireReset:function(){this.getModel().resetFilterConditions(false);this.getModel().setDataSource(this.getModel().allDataSource,true);},renderer:function(r,c){var a=function(d){return function(e){var f=sap.ui.getCore().byId($($(this.getDomRef()).closest(".sapUshellSearchFacet")[0]).attr("id"));var F=new sap.ushell.renderers.fiori2.search.SearchFacetDialogModel(c.getModel());F.initBusinessObjSearch().then(function(){F.setData(c.getModel().getData());F.sinaNext=c.getModel().sinaNext;F.prepareFacetList();var d=null;if(f&&f.getBindingContext()&&f.getBindingContext().getObject()&&f.getBindingContext().getObject().dimension){d=f.getBindingContext().getObject().dimension;}var D=new sap.ushell.renderers.fiori2.search.controls.SearchFacetDialog({selectedAttribute:d});D.setModel(F);D.setModel(c.getModel(),"searchModel");D.open();var p=c.getParent().getParent().getParent().getParent();p.oFacetDialog=D;c.getModel().eventLogger.logEvent({type:c.getModel().eventLogger.FACET_SHOW_MORE});});};};r.write("<div");r.writeControlData(c);r.addClass("sapUshellSearchFacetFilter");r.writeClasses();r.write(">");for(var i=0,l=c.getFacets().length;i<l;i++){var f=c.getFacets()[i];if(i===0){f.setEshRole("datasource");}else{f.setEshRole("attribute");f.attachSelectionChange(null,function(){jQuery(c.showAllBtn.getDomRef()).hide();});if(i===1){f.setHeaderText(sap.ushell.resources.i18n.getText("filterBy"));}var s=new sap.m.Link({text:"{i18n>showMore}",press:a(),visible:{parts:[{path:"/uiFilter/dataSource"}],formatter:function(d){return d.type!==this.getModel().sinaNext.DataSourceType.Category;}}});s.setModel(c.getModel());if(!c.getModel().config.charts){var b=new sap.m.CustomListItem({content:s});b.addStyleClass("sapUshellSearchFacetShowMoreLink");b.addEventDelegate({onAfterRendering:function(e){var d=jQuery(jQuery(e.srcControl.getDomRef()).find(".sapMLIBSelectM:first"));d.remove();}});f.addItem(b);}}r.renderControl(f);}if(c.getModel().getDataSource()&&c.getModel().getDataSource().type==="BusinessObject"){var h=c.getModel().oFacetFormatter.hasDialogFacetsFromMetaData(c.getModel());if(h){r.write("<div>");c.showAllBtn=new sap.m.Button({text:"{showAllFilters}",press:a(),visible:true});c.showAllBtn.setModel(c.getModel("i18n"));c.showAllBtn.addStyleClass("sapUshellSearchFacetFilterShowAllFilterBtn");r.renderControl(c.showAllBtn);r.write("</div>");}}r.write("</div>");},onAfterRendering:function(){var a=$(".searchFacetFilter .searchFacet").first().find("ul");var b=a.find("li");a.attr("role","tree");b.attr("role","treeitem");}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchFacetItem',["sap/ushell/renderers/fiori2/search/SearchHelper","sap/ui/core/format/NumberFormat","sap/m/StandardListItem","sap/ushell/library"],function(S){"use strict";return sap.m.StandardListItem.extend("sap.ushell.renderers.fiori2.search.controls.SearchFacetItem",{constructor:function(i,o){var t=this;t.options=jQuery.extend({},{type:sap.m.ListType.Active,title:"{label}",tooltip:"{label}: {valueLabel}",info:{parts:[{path:"value"}],formatter:function(v){return typeof v==="number"?S.formatInteger(v):"";}},selected:"{selected}"},o);sap.m.StandardListItem.prototype.constructor.apply(this,[i,t.options]);this.addStyleClass("sapUshellSearchFacetItem");this.addEventDelegate({onAfterRendering:function(){if(t.getBindingContext()&&t.getBindingContext().getObject()){var l=t.getBindingContext().getObject().level;if(jQuery("html").attr("dir")==="rtl"){jQuery(t.getDomRef()).children(".sapMLIBContent").css("padding-right",l+"rem");}else{jQuery(t.getDomRef()).children(".sapMLIBContent").css("padding-left",l+"rem");}}}});},renderer:"sap.m.StandardListItemRenderer"});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchFacetPieChart',["sap/ui/thirdparty/d3","sap/ushell/library"],function(){"use strict";sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchFacetPieChart",{setEshRole:function(r){},metadata:{properties:{oSearchFacetDialog:{}},aggregations:{items:{type:"sap.ushell.renderers.fiori2.search.FacetItem",multiple:true}}},renderer:function(R,C){R.write("<div");R.write(' role="figure" ');R.writeControlData(C);R.writeClasses();R.write(">");var f=function(){if(navigator.appName==="Microsoft Internet Explorer"){return true;}return false;};var P=function(){this.init.apply(this,arguments);};P.Labelposition=(function(){var a=function(){this.init.apply(this,arguments);};a.prototype={init:function(b,c,s,e,r,d,g,h,t,i){this.backgroundWidth=b;this.backgroundHeight=c;this.startAngle=s;this.endAngle=e;this.r=r;this.labelPaddingX=3;this.labelPaddingY=3;this.radiusPadding=4.24;this.labelWidth=d+2*this.labelPaddingX;this.labelHeight=g;this.outsetMin=0.3;this.outsetMax=1.2;this.outsetStep=0.025;this.apexAngle=e-s;this.startLabelWidth=this.labelWidth;this.d3centroid=h;this.text=t;this.svgBackground=i;this.debug=false;this.labelHeight=this.labelHeight+2*this.labelPaddingY;var x=Math.round(this.backgroundWidth/2);var y=Math.round(this.backgroundHeight/2);this.translateStr="translate("+x+","+y+")";},update:function(){var o=Math.max(this.outsetMin,((Math.sin(this.apexAngle/2)/(this.apexAngle/2))*2)/3);var p=true;var i=Math.max(100,this.labelWidth*2,1/this.outsetStep);var b=0;var c;do{p=true;c=this.calc(o,this.labelWidth,this.labelHeight);if(o>this.outsetMax||o<this.outsetMin){break;}if(this.labelWidth<0){break;}var d,e,g,h;if(b===0){d=this.calc(o+this.outsetStep,this.labelWidth,this.labelHeight);e=this.calc(o-this.outsetStep,this.labelWidth,this.labelHeight);g=this.value(d,c);h=this.value(e,c);if(g<h&&h>0.5){b=-1;o+=this.outsetStep*b;p=false;}else if(g>0.5||c.labelWidth<=0){b=1;o+=this.outsetStep*b;p=false;}}else{d=this.calc(o+this.outsetStep*b,this.labelWidth,this.labelHeight);g=this.value(d,c);if(g>0.5||c.labelWidth<=0){o+=this.outsetStep*b;p=false;}}i--;}while(!p&&i>0&&!isNaN(o));c=this.calc(o,this.labelWidth,this.labelHeight);this.labelWidth=c.labelWidth;var x=c.x;var y=c.y;this.svgBackground.select("circle.centroid").remove();if(this.debug){this.svgBackground.append("svg:circle").attr("class","centroid").attr("cx",c.centroidX).attr("cy",c.centroidY).attr("r",2).style("fill","blue");}this.svgBackground.selectAll("line.helper").remove();if(this.debug){this.svgBackground.append("svg:line").attr("class","helper helper2").attr("x1",-this.backgroundWidth/2).attr("x2",this.backgroundWidth/2).attr("y1",y-this.labelHeight/2).attr("y2",y-this.labelHeight/2);this.svgBackground.append("svg:line").attr("class","helper helper2").attr("x1",-this.backgroundWidth/2).attr("x2",this.backgroundWidth/2).attr("y1",y+this.labelHeight/2).attr("y2",y+this.labelHeight/2);this.svgBackground.append("svg:line").attr("class","helper").attr("x1",0).attr("y1",0).attr("x2",Math.sin(this.startAngle)*(this.r+this.radiusPadding)).attr("y2",-Math.cos(this.startAngle)*(this.r+this.radiusPadding));this.svgBackground.append("svg:line").attr("class","helper").attr("x1",0).attr("y1",0).attr("x2",Math.sin(this.endAngle)*(this.r+this.radiusPadding)).attr("y2",-Math.cos(this.endAngle)*(this.r+this.radiusPadding));this.svgBackground.append("svg:line").attr("class","helper").attr("x1",Math.sin(this.startAngle)*(this.r+this.radiusPadding)).attr("y1",-Math.cos(this.startAngle)*(this.r+this.radiusPadding)).attr("x2",this.isStartAngleOnRight()?this.backgroundWidth/2:-this.backgroundWidth/2).attr("y2",-Math.cos(this.startAngle)*(this.r+this.radiusPadding));this.svgBackground.append("svg:line").attr("class","helper").attr("x1",Math.sin(this.endAngle)*(this.r+this.radiusPadding)).attr("y1",-Math.cos(this.endAngle)*(this.r+this.radiusPadding)).attr("x2",this.isEndAngleOnRight()?this.backgroundWidth/2:-this.backgroundWidth/2).attr("y2",-Math.cos(this.endAngle)*(this.r+this.radiusPadding));}if(this.labelWidth<2*this.labelPaddingX){this.labelWidth=0;}else if(this.labelWidth<this.startLabelWidth){this.labelWidth=this.labelWidth-2*this.labelPaddingX;}this.x=isNaN(x)?0:x;this.y=isNaN(x)?0:y;},calc:function(o,b,c){var d,e,g,r,p,h;if(this.startAngle-this.endAngle+2*Math.PI<1e-9){d=0;e=0;r=this.backgroundWidth/2;g=-this.backgroundWidth/2;h=-this.r;p=this.r;}else{d=Math.sin(this.apexAngle/2)*this.r*o;e=Math.cos(this.apexAngle/2)*-this.r*o;var t=d*Math.cos(this.startAngle)-e*Math.sin(this.startAngle);e=d*Math.sin(this.startAngle)+e*Math.cos(this.startAngle);d=t;var u=e-this.labelHeight/2;var i=e+this.labelHeight/2;g=Math.max(this.calcLeftBorder(d,u),this.calcLeftBorder(d,i),-this.backgroundWidth/2);if(Math.abs(this.startAngle-(this.endAngle%(2*Math.PI)))>1e-9&&d>0&&u<=0&&i>=0){g=Math.max(g,0);}if(!this.doesFitHeight(g,u,i,d<0,true)){g=this.backgroundWidth/2;}r=Math.min(this.calcRightBorder(d,u),this.calcRightBorder(d,i),this.backgroundWidth/2);if(Math.abs(this.startAngle-(this.endAngle%(2*Math.PI)))>1e-9&&d<0&&u<=0&&i>=0){r=Math.min(r,0);}if(!this.doesFitHeight(r,u,i,d<0,false)){r=-this.backgroundWidth/2;}var j=this.calcPerimeterBorder(1,e-this.labelHeight/2);if(j<d){j=this.backgroundWidth/2;}var k=this.calcPerimeterBorder(1,e+this.labelHeight/2);if(k<d){k=this.backgroundWidth/2;}p=Math.min(j,k,r);var m=this.calcPerimeterBorder(-1,e-this.labelHeight/2);if(m>d){m=-this.backgroundWidth/2;}var n=this.calcPerimeterBorder(-1,e+this.labelHeight/2);if(n>d){n=-this.backgroundWidth/2;}h=Math.max(m,n,g);if(isNaN(p)){p=r;}if(isNaN(h)){h=g;}}this.svgBackground.select("line.left").remove();this.svgBackground.select("line.right").remove();this.svgBackground.select("line.perimeterLeft").remove();this.svgBackground.select("line.perimeterRight").remove();if(this.debug){this.svgBackground.append("svg:line").attr("class","left").attr("y1",-this.backgroundHeight/2).attr("y2",this.backgroundHeight/2).attr("x1",g).attr("x2",g);this.svgBackground.append("svg:line").attr("class","right").attr("y1",-this.backgroundHeight/2).attr("y2",this.backgroundHeight/2).attr("x1",r).attr("x2",r);this.svgBackground.append("svg:line").attr("class","perimeterLeft").attr("y1",-this.backgroundHeight/2).attr("y2",this.backgroundHeight/2).attr("x1",h).attr("x2",h);this.svgBackground.append("svg:line").attr("class","perimeterRight").attr("y1",-this.backgroundHeight/2).attr("y2",this.backgroundHeight/2).attr("x1",p).attr("x2",p);}var q=b;b=Math.min(b,Math.floor(r-g));var x=d;x=Math.max(x,h+b/2);x=Math.min(x,p-b/2);if(x-b/2<h-1e-9||x+b/2>p+1e-9){x=(h+p)/2;}if(d>=0){x=Math.max(x,g+b/2);x=Math.min(x,r-b/2);}else{x=Math.min(x,r-b/2);x=Math.max(x,g-b/2);}var y=e;return{x:x,y:y,labelWidth:b,labelShortened:b!==q,xSpace:r-g,centroidX:d,centroidY:e,asymmetry:Math.abs(x-d)};},value:function(c,b){if(c.labelWidth<0){return-10000;}if(c.labelWidth<b.labelWidth){return-100;}if(c.labelWidth>b.labelWidth){return(c.labelWidth-b.labelWidth)*1000;}if(b.labelShortened&&c.labelWidth===b.labelWidth){return(c.xSpace-b.xSpace)*100;}return 0;},doesFitHeight:function(b,u,c,i,d){var y=-Math.cos(this.startAngle)*(this.r+this.radiusPadding);var e=-Math.cos(this.endAngle)*(this.r+this.radiusPadding);if(Math.abs(this.startAngle-(this.endAngle%(2*Math.PI)))<1e-9){y=-this.backgroundHeight/2;e=this.backgroundHeight/2;}else if(b===0){y=-this.backgroundHeight/2;e=this.backgroundHeight/2;}else if(b>0){if(!this.isStartAngleOnRight()){y=-this.backgroundHeight/2;}else if(b<=Math.sin(this.startAngle)*(this.r+this.radiusPadding)){y=b/-Math.tan(this.startAngle);}if(!this.isEndAngleOnRight()){e=this.backgroundHeight/2;}else if(b<=Math.sin(this.endAngle)*(this.r+this.radiusPadding)){e=b/-Math.tan(this.endAngle);}if(i&&!d&&y>=c){y=-this.backgroundHeight/2;}if(i&&!d&&e<=u){e=this.backgroundHeight/2;}}else{if(this.isStartAngleOnRight()){y=this.backgroundHeight/2;}else if(b>Math.sin(this.startAngle)*(this.r+this.radiusPadding)){y=b/-Math.tan(this.startAngle);}if(this.isEndAngleOnRight()){e=-this.backgroundHeight/2;}else if(b>Math.sin(this.endAngle)*(this.r+this.radiusPadding)){e=b/-Math.tan(this.endAngle);}if(!i&&d&&e>=c){e=-this.backgroundHeight/2;}if(!i&&d&&y<=u){y=this.backgroundHeight/2;}}if(!d){this.svgBackground.selectAll(".rightBorder").remove();if(this.debug){this.svgBackground.append("svg:rect").attr("class","rightBorder").attr("x",b-3).attr("y",y-3).attr("width",6).attr("height",6).style("fill","green");this.svgBackground.append("svg:circle").attr("class","rightBorder").attr("cx",b).attr("cy",e).attr("this.r",3).style("fill","green");}}else{this.svgBackground.selectAll(".leftBorder").remove();if(this.debug){this.svgBackground.append("svg:rect").attr("class","leftBorder").attr("x",b-3).attr("y",y-3).attr("width",6).attr("height",6).style("fill","red");this.svgBackground.append("svg:circle").attr("class","leftBorder").attr("cx",b).attr("cy",e).attr("this.r",3).style("fill","red");}}return(u>=Math.min(y,e)-1e-9&&c<=Math.max(y,e)+1e-9);},calcLeftBorder:function(x,y){var b=-this.backgroundWidth/2;if(Math.abs(this.startAngle-(this.endAngle%(2*Math.PI)))<1e-9){return b;}if(y<=0){if(y>-Math.cos(this.startAngle)*(this.r+this.radiusPadding)){b=Math.tan(this.startAngle)*-y;}}else if(y<-Math.cos(this.endAngle)*(this.r+this.radiusPadding)){b=Math.tan(this.endAngle)*-y;}return b;},calcRightBorder:function(x,y){var b=this.backgroundWidth/2;if(Math.abs(this.startAngle-(this.endAngle%(2*Math.PI)))<1e-9){return b;}if(y>=0){if(-y>Math.cos(this.startAngle)*(this.r+this.radiusPadding)){b=Math.tan(this.startAngle)*-y;}}else if(-y<Math.cos(this.endAngle)*(this.r+this.radiusPadding)){b=Math.tan(this.endAngle)*-y;}return b;},calcPerimeterBorder:function(x,y){var b=x>0?this.backgroundWidth/2:-this.backgroundWidth/2;b=Math.sqrt(this.r*this.r-y*y);if(x<0){b*=-1;}return b;},isStartAngleOnRight:function(){return(this.startAngle>0&&this.startAngle<=((2*Math.PI)/360)*180);},isEndAngleOnRight:function(){return(this.endAngle%(2*Math.PI)<((2*Math.PI)/360)*180);}};return a;})();P.Tweens=(function(){var T={};T.tweenGenSimple=function(d,i,a,b,o,s){var c={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:b,outerRadius:o};var e={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:b,outerRadius:o};var j=d3.interpolate(c,e);return function(t){return s(j(t));};};T.tweenGenSimpleText=function(d,i,a,b,o,c,e){var g=" ";if(d.labelElement.childNodes[1]&&d.labelElement.childNodes[1].childNodes[0]&&d.labelElement.childNodes[1].childNodes[0].data){g=d.labelElement.childNodes[1].childNodes[0].data;}var h=new P.Labelposition(c.options.width,c.options.height,d.oldArc.startAngle,d.oldArc.endAngle,c.options.outerRadius,d.labelElement.childNodes[1].getBBox().width,d.labelElement.childNodes[1].getBBox().height,c.svgArcGen(d).centroid(d),g,c.svg);h.update();var k=[h.x,h.y];var m=new P.Labelposition(c.options.width,c.options.height,d.startAngle,d.endAngle,c.options.outerRadius,d.labelElement.childNodes[1].getBBox().width,d.labelElement.childNodes[1].getBBox().height,c.svgArcGen(d).centroid(d),g,c.svg);m.update();if(m.labelWidth<d.labelElement.childNodes[1].getBBox().width){c.adjustLabelWidth(d.labelElement,m.labelWidth);}var n=[m.x,m.y];var j=d3.interpolateArray(k,n);var p=function(q){var t;if(e){t=T.translateStr4Padding(d.startAngle,d.endAngle,c.options.padding4click,q[0],q[1]);}else{t="translate("+q+")";}return t;};return function(t){return p(j(t));};};T.translateStr4Padding=function(s,e,p,x,y){var a=e-s;var b=p*Math.sin(a/2);var c=-(p*Math.cos(a/2));var t=b*Math.cos(s)-c*Math.sin(s);c=b*Math.sin(s)+c*Math.cos(s);b=t;var d="translate("+(x+b)+", "+(y+c)+")";return d;};T.tweenGenEcstasy=function(d,i,a,b,o,s){var c=Math.round((b+o)/2);var e;var g;if(i%2){e=o;g=c;}else{e=c;g=b;}var h={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:b,outerRadius:o};var j={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:g,outerRadius:e};var k=d3.interpolate(h,j);h={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:g,outerRadius:e};j={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:g,outerRadius:e};var r=d3.interpolate(h,j);h={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:g,outerRadius:e};j={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:b,outerRadius:o};var u=d3.interpolate(h,j);return function(t){if(t<=0.25){return s(k(t*4));}if(t<=0.75){return s(r((t-0.25)*2));}return s(u((t-0.75)*4));};};T.tweenGenLSD=function(d,i,a,b,o,s){var c=Math.round((b+o)/2);var e;var g;if(i%2){e=o;g=c;}else{e=c;g=b;}var h={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:b,outerRadius:o};var j={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:g,outerRadius:e};var k=d3.interpolate(h,j);h={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:g,outerRadius:e};j={startAngle:d.startAngle,endAngle:d.startAngle+(d.oldArc.endAngle-d.oldArc.startAngle),innerRadius:g,outerRadius:e};var m=d3.interpolate(h,j);h={startAngle:d.startAngle,endAngle:d.startAngle+(d.oldArc.endAngle-d.oldArc.startAngle),innerRadius:g,outerRadius:e};j={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:g,outerRadius:e};var r=d3.interpolate(h,j);h={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:g,outerRadius:e};j={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:b,outerRadius:o};var u=d3.interpolate(h,j);return function(t){if(t<=0.25){return s(k(t*4));}if(t<=0.5){return s(m((t-0.25)*4));}if(t<=0.75){return s(r((t-0.5)*4));}return s(u((t-0.75)*4));};};return T;})();var l={};l.debug=function(t){};P.prototype={init:function(p,o,a,m){this.application=a;this.parent=p;this.model=m;this.chartElements=[];var b=d3.select(p);var s=$(p).innerHeight();var c=$(p).innerWidth();if(o.height>s){s=o.height;}var r=Math.min(c,s)/2;this.options={"dimension-pie":"YEAR",backgroundWidth:c,backgroundHeight:s,width:c,height:s,innerRadius:0,outerRadius:r*0.8,tweenGen:P.Tweens.tweenGenSimple,tweenGenText:P.Tweens.tweenGenSimpleText,arcCalculator:P.generateHistoricalArcCalculator(),animationduration:1500,labelHideThreshold:0.05,easing:"linear",pieChartClass:"sap-piechart",pieChartParentClass:"sapUshellSearchFacetPieChart",color:"blue",strokewidth:1,strokewidthHover:3,padding4click:7,multipleselectable:true,oSearchFacetDialog:null};if(o){for(var d in o){this.options[d]=o[d];}}this.createAttributeService(P,"innerRadius",function(){this.init();});this.createAttributeService(P,"outerRadius",function(){this.init();});this.createAttributeService(P,"tweenGen",function(){this.init();});this.createAttributeService(P,"tweenGenText",function(){this.init();});this.createAttributeService(P,"width",function(){this.init();});this.createAttributeService(P,"height",function(){this.init();});this.createAttributeService(P,"animationduration");this.createAttributeService(P,"labelHideThreshold");this.createAttributeService(P,"arcCalculator");var x=Math.round(this.options.width/2);var y=Math.round(this.options.height/2);this.svg=b.append("svg:svg").attr("width",c).attr("height",s).attr("id",p.id+"_svg").append("svg:g").attr("transform","translate("+x+","+y+")");this.svgArcs=this.svg.append("svg:g");this.svgLabels=this.svg.append("svg:g");this.svg.attr("class",this.options.pieChartClass);this.inittween();this.oldArcs=[];this.clickedSegment={};this.firstUpdate=true;},getParent:function(){return this.parent;},createAttributeService:function(c,a,i){c.prototype[a]=function(v){if(v===null){return this.options[a];}this.options[a]=v;if(i){i.call(this);}return this;};},inittween:function(){var t=this;t.xOrigin=Math.round(t.options.width/2);t.yOrigin=Math.round(t.options.height/2);t.svg.attr("width",this.options.width).attr("height",this.options.height);this.tweenGenArc=function(d,i,a){return t.options.tweenGen(d,i,a,t.options.innerRadius,t.options.outerRadius,t.svgArcGen(d));};this.tweenGenText=function(d,i,a,b){return t.options.tweenGenText(d,i,a,t.options.innerRadius,t.options.outerRadius,t,b);};},update:function(d){this.notAnimatedUpdate(d);},notAnimatedUpdate:function(a){var t=this;var b=[];if(!a){return;}this.chartElements=a;t.svgArcs.selectAll("path").remove();t.svgLabels.selectAll("g").remove();var c=0;for(var i=0;i<a.length;++i){c+=a[i].value;}for(var j=0;j<a.length;++j){a[j].percentage=a[j].value/c;}b=this.options.arcCalculator.calculateNewArcsOnly(a);var s=this.svgArcs.selectAll("path").data(b,P.getIdOfArc);if(!s.exit().empty()){s.exit().remove();}if(!s.empty()){s.attr("d",function(d){var p=t.svgArcGen(d);return p(d);}).attr("transform",function(d){var e;if(d.data.selected){e=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,0,0);}else{e="translate(0,0)";}return e;}).style("stroke",function(d){var e;if(d.data.stroke==="none"){e=d.data.stroke;}else if(d.data.selected||d.data.hovered){e="#dadada";}else{e="white";}return e;}).style("stroke-width",function(d){var e;if(d.data.selected||d.data.hovered){e=t.options.strokewidthHover;}else{e=t.options.strokewidth;}return e;}).style("opacity",function(d){var o;if(d.data.selected||d.data.hovered){o="1";}else if(d.data.initial){o="0.75";}else{o="0.5";}return o;}).each(function(d,i){while(this.hasChildNodes()){this.removeChild(this.lastChild);}d3.select(this).append("svg:title").text(""+d.data.tooltip);});}s.enter().append("svg:path").attr("transform",function(d){var e;if(d.data.selected){t.clickedSegment[d.data.id]=this;e=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,0,0);}return e;}).attr("shape-rendering","geometricPrecision").attr("tabindex","0").style("stroke",function(d){var e;if(d.data.stroke==="none"){e=d.data.stroke;}else if(d.data.selected||d.data.hovered){e="#dadada";}else{e="white";}return e;}).style("stroke-width",function(d){var e;if(d.data.selected||d.data.hovered){e=t.options.strokewidthHover;}else{e=t.options.strokewidth;}return e;}).style("opacity",function(d){var o;if(d.data.selected||d.data.hovered){o="1";}else if(d.data.initial){o="0.75";}else{o="0.5";}return o;}).attr("fill",function(d,i){return d.data.fill;}).on("keydown",function(d,i){var e=d3.event;var h=e.keyCode||e.which;if(h==32){e.target.__onclick();}}).on("click",function(d,i){var e;if(d.data.click&&d.data.pieupdateuionly===false){var r=d.data.click(d,i);if(!t.options.multipleselectable&&!r){return;}}var h,k;var m;var n=t.getLabelElementtbyLabel(d.data.label);if(n){var o=" ";if(n.childNodes[1]&&n.childNodes[1].childNodes[0]&&n.childNodes[1].childNodes[0].data){o=n.childNodes[1].childNodes[0].data;}m=new P.Labelposition(t.options.width,t.options.height,d.startAngle,d.endAngle,t.options.outerRadius,n.childNodes[1].getBoundingClientRect().width,n.childNodes[1].getBoundingClientRect().height,t.svgArcGen(d).centroid(d),o,t.svg);m.update();if(m.labelWidth<n.childNodes[1].getBoundingClientRect().width){t.adjustLabelWidth(n,m.labelWidth);}}if(d.data.selected){if(!t.options.multipleselectable&&Object.keys(t.clickedSegment).length>0){delete t.clickedSegment[d.data.id];}h="translate(0,0)";if(n){k="translate("+m.x+","+m.y+")";}d.data.selected=false;if(t.options.oSearchFacetDialog){e={};e.cnt=t.getNumberOfClickedSegments();e.dataObject=d.data;t.options.oSearchFacetDialog.onDetailPageSelectionChangeCharts(e);}else{t.model.removeFilterCondition(d.data.filterCondition,true);}}else{if(!t.options.multipleselectable){if(Object.keys(t.clickedSegment).length>0){for(var p in t.clickedSegment){var q=t.clickedSegment[p];if(typeof q.__onclick==="function"){q.__data__.data.pieupdateuionly=true;q.__onclick.apply(q);}delete t.clickedSegment[p];}}if(Object.keys(t.clickedSegment).length<1){t.clickedSegment[d.data.id]=this;}}h=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,0,0);if(n){k=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,m.x,m.y);}d.data.selected=true;if(d.data.filterCondition){if(t.options.oSearchFacetDialog){e={};e.cnt=t.getNumberOfClickedSegments();e.dataObject=d.data;t.options.oSearchFacetDialog.onDetailPageSelectionChangeCharts(e);}else{t.model.addFilterCondition(d.data.filterCondition,true);}}}d3.select(this).transition().duration(1000).ease(d3.ease("elastic")).attr("transform",h).style("stroke",function(d){var v;if(d.data.stroke==="none"){v=d.data.stroke;}else if(d.data.selected){v="#dadada";}else{v="white";}return v;}).style("stroke-width",function(d){var v;if(d.data.selected){v=t.options.strokewidthHover;}else{v=t.options.strokewidth;}return v;}).style("opacity",function(d){var v;if(d.data.selected||d.data.hovered){v="1";}else if(d.data.initial){v="0.75";}else{v="0.5";}return v;});var u=t.getLabelElementtbyLabel(d.data.label);if(u){d3.select(u).transition().duration(1000).ease(d3.ease("elastic")).attr("transform",k);}}).on("mouseover",function(d,i){if(!t.options.multipleselectable&&Object.keys(t.clickedSegment).length>0){return;}if(d.data.selected||d.data.hovered){return;}if(d.data.mouseover){var r=d.data.mouseover(d,i);if(!t.options.multipleselectable&&!r){return;}}}).on("mouseout",function(d,i){if(d.data.selected){d3.select(this).style("opacity",1);}if(!t.options.multipleselectable&&Object.keys(t.clickedSegment).length>0){return;}if(d.data.selected){return;}if(d.data.mouseout){var r=d.data.mouseout(d,i);if(!t.options.multipleselectable&&!r){return;}}}).attr("d",function(d){var p=t.svgArcGen(d);return p(d);}).append("svg:title").text(function(d){return""+d.data.tooltip;});s=t.svgLabels.selectAll("g").data(b,P.getIdOfArc);if(!s.exit().empty()){s.exit().remove();}if(!s.empty()){s.style("opacity",function(d){if(d.removed||d.data.percentage<t.options.labelHideThreshold){return 0;}return 1;}).attr("transform",function(d){var e;var h;if(this.childNodes[1]&&this.childNodes[1].childNodes[0]){h=new P.Labelposition(t.options.width,t.options.height,d.startAngle,d.endAngle,t.options.outerRadius,this.getBoundingClientRect().width,this.getBoundingClientRect().height,t.svgArcGen(d).centroid(d),d.data.label,t.svg);}else{h=new P.Labelposition(t.options.width,t.options.height,d.startAngle,d.endAngle,t.options.outerRadius,this.getBoundingClientRect().width,this.getBoundingClientRect().height,t.svgArcGen(d).centroid(d)," ",t.svg);}h.update();if(h.labelWidth<this.childNodes[1].getBoundingClientRect().width){t.adjustLabelWidth(this,h.labelWidth);}if(d.data.selected){e=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,h.x,h.y);}else{e="translate("+h.x+","+h.y+")";}return e;});}if(!s.enter().empty()){var g=s.enter().append("svg:g").style("opacity",0);g.append("svg:text").attr("class","labelshadow").attr("text-anchor","middle").text(function(d){return""+d.data.label;}).style("pointer-events","none");g.append("svg:text").attr("class","label").attr("text-anchor","middle").text(function(d){return""+d.data.label;}).style("pointer-events","none");g.style("opacity",function(d){if(d.removed||d.data.percentage<t.options.labelHideThreshold){return 0;}return 1;}).attr("transform",function(d){var e;var h=new P.Labelposition(t.options.width,t.options.height,d.startAngle,d.endAngle,t.options.outerRadius,this.getBoundingClientRect().width,this.getBoundingClientRect().height,t.svgArcGen(d).centroid(d),d.data.label,t.svg);h.update();if(h.labelWidth<this.childNodes[1].getBoundingClientRect().width){t.adjustLabelWidth(this,h.labelWidth);}if(d.data.selected){e=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,h.x,h.y);}else{e="translate("+h.x+","+h.y+")";}return e;});}t.oldArcs=P.removeDeletedArcs(b);},getNumberOfClickedSegments:function(){var c=0;var a=this.chartElements;for(var i=0;i<a.length;i++){if(a[i].selected===true){c++;}}return c;},adjustLabelWidth:function(e,t){var s=e.childNodes[0];var a=e.childNodes[1];if(t<=0){s.childNodes[0].data="";a.childNodes[0].data="";return;}var b=s.childNodes[0].data.length;s.childNodes[0].data+="...";var c="";while(s.getBBox().width>t){c=s.childNodes[0].data;c=c.substr(0,b-1)+c.substr(b,3);s.childNodes[0].data=c;b--;if(b<=0){s.childNodes[0].data="";break;}}a.childNodes[0].data=s.childNodes[0].data;},getArcsWithLabel:function(a){var t=this;var b=[];for(var i=0;i<a.length;++i){var c=a[i];if(c.data.percentage>t.options.labelHideThreshold){b.push(c);}}return b;},svgArcGen:function(d){var t=this;var a=d3.svg.arc().innerRadius(function(d){return t.options.innerRadius;}).outerRadius(function(d){return t.options.outerRadius;}).startAngle(function(d){return d.startAngle;}).endAngle(function(d){return d.endAngle;});return a;},getArcElementtbyLabel:function(a){var t=this;t.svgArcs.selectAll("g").each(function(d,i){if(d.data.label===a){t=this;}return;});return t;},getLabelElementtbyLabel:function(a){var t=this;t.svgLabels.selectAll("g").each(function(d,i){if(d.data.label===a){t=this;}});return t;}};P.removeDeletedArcs=function(a){var t=[];for(var i=0;i<a.length;++i){var b=a[i];if(!b.removed){t.push(b);}}return t;};P.createZeroArc=function(a,e){return{startAngle:a,endAngle:a,data:e,removed:true};};P.insertAfter=function(a,i,b){var n;if(i>=0){var c=a[i];n=P.createZeroArc(c.endAngle,b.data);}else{n=P.createZeroArc(0,b.data);}n.oldArc=b;a.splice(i+1,0,n);};P.getIdOfArc=function(a){return a.data.id;};P.arcsGen=d3.layout.pie().value(function(d){return d.value;}).sort(null);P.getIndexById=function(a,b){for(var i=0;i<a.length;++i){var c=a[i];if(P.getIdOfArc(c)===b){return i;}}return null;};P.add2arcSequence=function(d,a){if(f()){var b=function(x){a.getIndex(x.id);};d.forEach(b);}return d;};P.translateStr4Padding=function(s,e,p,x,y){var a=e-s;var b=p*Math.sin(a/2);var c=-(p*Math.cos(a/2));var t=b*Math.cos(s)-c*Math.sin(s);c=b*Math.sin(s)+c*Math.cos(s);b=t;var d="translate("+(x+b)+", "+(y+c)+")";return d;};P.Sequence=function(){this.init.apply(this,arguments);};P.Sequence.prototype={init:function(){this.maxIndex=0;this.objectMap={};},getIndex:function(o){var i=this.objectMap[o];if(typeof i!=="undefined"){return i;}i=this.maxIndex;this.maxIndex++;this.objectMap[o]=i;return i;}};P.generateDefaultArcCalculator=function(){return new P.DefaultArcCalculator();};P.DefaultArcCalculator=function(){this.init.apply(this,arguments);};P.DefaultArcCalculator.prototype={init:function(){this.arcSequence=new P.Sequence();},calculateNewArcsOnly:function(d){var t=this;d=d.slice();P.add2arcSequence(d,t.arcSequence);d.sort(function(a,b){return(t.arcSequence.getIndex(a.id)-t.arcSequence.getIndex(b.id));});var n=P.arcsGen(d);return n;},calculateArcs:function(o,d){var n=P.arcsGen(d);this.insertMissingArcs(o,n,true);this.insertMissingArcs(n,o,false);return n;},insertMissingArcs:function(a,b,i){var c=-1;for(var d=0;d<b.length;++d){var e=b[d];var g=P.getIndexById(a,e.data.id);var h;if(g!==null){h=a[g];h.oldArc=e;c=g;continue;}else{if(i){c=this.determineInsertIndex(a,c,b,d);}var n;if(c>=0){var j=a[c];n=P.createZeroArc(j.endAngle,e.data);}else{n=P.createZeroArc(0,e.data);}n.oldArc=e;a.splice(c+1,0,n);c++;}}},determineInsertIndex:function(a,b,c,d){var e=c[d];var s=this.arcSequence.getIndex(e.data.id);var i;for(i=b+1;i<a.length;++i){var g=this.arcSequence.getIndex(a[i].data.id);if(g>s){break;}if(P.getIndexById(c,a[i].data.id)!==null){break;}}return i-1;}};P.generateHistoricalArcCalculator=function(){return new this.HistoricalArcCalculator();};P.HistoricalArcCalculator=function(){this.init.apply(this,arguments);};P.HistoricalArcCalculator.prototype={init:function(){this.arcSequence=new P.Sequence();},calculateNewArcsOnly:function(d){var t=this;d=d.slice();P.add2arcSequence(d,t.arcSequence);var n=P.arcsGen(d);return n;},calculateArcs:function(o,d){var t=this;d=d.slice();P.add2arcSequence(d,t.arcSequence);d.sort(function(a,b){return(t.arcSequence.getIndex(a.id)-t.arcSequence.getIndex(b.id));});var n=P.arcsGen(d);this.insertMissingArcs(o,n);this.insertMissingArcs(n,o);return n;},insertMissingArcs:function(a,b){var t=this;var c=0;for(var d=0;d<b.length;++d){var e=b[d];var g=t.arcSequence.getIndex(e.data.id);var h;var i=false;for(;c<a.length;++c){h=a[c];var j=t.arcSequence.getIndex(h.data.id);if(j===g){i=true;break;}if(j>g){break;}}if(i){h.oldArc=e;}else{var n;if(c-1>=0&&c-1<a.length){var k=a[c-1];n=P.createZeroArc(k.endAngle,e.data);}else{n=P.createZeroArc(0,e.data);}a.splice(c,0,n);n.oldArc=e;}c++;}}};R.write("</div>");C.PieChart=P;},getFacetIndexById:function(c){var a=-1;var t=$("#"+c).parent().parent().parent().parent().parent()[0];var b=t.id;var d=$(".sapUshellSearchFacetIconTabBar");for(var i=0;i<d.length;i++){var e=d[i].id;if(e===b){a=i;break;}}return a;},getFacetIndexByIdForLargePieChart:function(c){var a=-1;var t=$("#"+c).parent().parent()[0];var b=t.id;var d=$(".searchFacetLargeChartContainer");for(var i=0;i<d.length;i++){var e=d[i].id;if(e===b){a=i;break;}}return a;},getPieChartIndexByFacetIndex:function(f){var s;var a=-1;var p=0;for(var i=0;i<f;i++){s=$($(".sapUshellSearchFacetIconTabBar")[i]).find(".sapMLIBContent")[1].firstChild.id;if(s.match(/pieChart/)!==null){p++;}}a=p;return a;},getSumSelected:function(d){var a;var b=0;if(d){for(var i=0;i<d.length;i++){if(d[i].facetType==="attribute"){for(var j=0;j<d[i].items.length;j++){a=d[i].items[j].value;if(a&&d[i].items[j].selected){b+=a;}}}}}return b;},getDataForPieChart:function(d,m,f){var r=[];var g=[];var a={};var b=0;var c=-1;var e="";var s=m.oData.count;var o=s;var p=0;this.iMissingCnt=0;for(var i=0;i<d.length;i++){if(d[i].facetType==="attribute"){c++;if(d[i].totalCount){o=d[i].totalCount;}g=[];p=0;for(var j=0;j<d[i].items.length;j++){a={};b=d[i].items[j].value;if(b){e=""+b;p+=b;a.filterCondition=d[i].items[j].filterCondition;a.dimension=d[i].items[j].facetTitle;a.label=d[i].items[j].label;a.selected=d[i].items[j].selected;a.filterLabel=d[i].items[j].label;a.id=d[i].items[j].label;a.value=b;a.valueLabel=d[i].items[j].valueLabel;if(e){a.tooltip=d[i].items[j].label+": "+b;}else{a.tooltip=d[i].items[j].label;}a.filtered=false;a.removed=false;a.fill="#007CAA";a.maxLabelLength=30;g.push(a);}else if(c===f){this.iMissingCnt++;}}var h=Math.round((p/o)*100);var k=100-h;if(k>0){if(k===100){k=99;}var l=(18*p)/350;var n=""+k;a={};a.filterCondition=null;a.dimension="";a.label=n;a.id="perc_missing";a.value=l;a.valueLabel=n;a.tooltip=sap.ushell.resources.i18n.getText("facetPieChartOverflowText",[n]);a.filtered=false;a.removed=false;a.fill="transparent";a.stroke="none";a.maxLabelLength=30;g.push(a);}r.push(g);}}return r;},getDataForPieChartLarge:function(d,m){var g=[];var i={};var a=0;var p=0;g=[];for(var j=0;j<d.length;j++){a=d[j].value;if(a){i={};p=p+a;i.filterCondition=d[j].filterCondition;i.dimension=d[j].facetAttribute;i.label=d[j].label;i.selected=d[j].selected;i.filterLabel=d[j].label;i.id=d[j].label;i.value=a;i.valueLabel=d[j].valueLabel;i.tooltip=d[j].label+"\t: "+a;i.filtered=false;i.removed=false;i.fill="#007CAA";i.maxLabelLength=30;g.push(i);}}return g;},directUpdate:function(d,p,m,o){var c,a,b;var f=[];var e=20;a=null;b=this.getModel();if(!b){b=this.oParent.getModel();}o.pieChartParentClass="sapUshellSearchFacetPieChartLarge";o.height=o.relevantContainerHeight;o.labelHideThreshold=0.000001;$(p).parent().parent().height(o.height);o.width=$(p).parent().parent().width();this.chartElements=this.getDataForPieChartLarge(d,m);c=new this.PieChart(p,o,a,b);for(var i=0;i<e;i++){if(this.chartElements[i]){f.push(this.chartElements[i]);}}c.update(f);},onAfterRendering:function(){var t=this;var d,c,a,m,b,p,f;var o={};if(typeof SVGElement.prototype.blur==="undefined"){SVGElement.prototype.blur=function(){};}b=null;m=this.getModel();if(!m){m=this.oParent.oModels.facets;}if(m){p=$("#"+this.sId)[0];if($(p).parent()[0].className==="sapMLIBContent"){o.pieChartParentClass="sapUshellSearchFacetPieChart";f=this.getFacetIndexById(this.sId);p.className=o.pieChartParentClass;d=this.getDataForPieChart(m.oData.facets,m,f);c=d[f];var A=c.map(function(g){return g.tooltip;});this.getDomRef().setAttribute("aria-label",A.join("; "));a=new this.PieChart(p,o,b,m);a.update(c);var i=$(this.getDomRef()).closest(".sapUshellSearchFacetIconTabBar").find(".sapUshellSearchFacetInfoZeile")[0];var I=sap.ui.getCore().byId(i.id);if(t.iMissingCnt>0){I.setVisible(true);var e=sap.ushell.resources.i18n.getText("infoZeileNumberMoreSelected",[t.iMissingCnt]);I.setText(e);I.rerender();}else{I.setVisible(false);}}else if($(p)[0].className==="largeChart2piechart"){$(p).attr("tabindex","0");}}}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchFacetTabBar',["sap/base/Log","sap/ushell/library","sap/ushell/renderers/fiori2/search/SearchFacetDialogModel","sap/ushell/renderers/fiori2/search/controls/SearchFacetDialog","sap/m/GroupHeaderListItemRenderer","sap/m/ButtonRenderer"],function(L){"use strict";sap.m.Button.extend("sap.ushell.renderers.fiori2.search.controls.SearchFacetDisplayModeDropDown",{renderer:"sap.ushell.renderers.fiori2.search.controls.SearchFacetDisplayModeDropDownRenderer"});sap.ushell.renderers.fiori2.search.controls.SearchFacetDisplayModeDropDownRenderer=jQuery.extend(true,{},sap.m.ButtonRenderer);sap.m.GroupHeaderListItemRenderer.extend("sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItemRenderer");sap.m.GroupHeaderListItem.extend("sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItem",{renderer:"sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItemRenderer",metadata:{properties:{upperCase:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{button:{type:"sap.ushell.renderers.fiori2.search.controls.SearchFacetDisplayModeDropDown",multiple:false}}}});sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItemRenderer.renderCounter=function(r,l){var b=l.getButton();if(typeof b==="object"){this.renderCounterContent(r,l,b);}};sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItemRenderer.renderCounterContent=function(r,l,b){r.write("<div>");r.renderControl(b);r.write("</div>");};sap.m.SegmentedButtonItem.extend("my.SegmentedButtonItem",{aggregations:{content1:{type:"sap.ui.core.Control",multiple:false}}});sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchFacetTabBar",{metadata:{properties:{eshRole:"string",headerText:"string",selectedButtonParameters:{type:"object",defaultValue:null}},aggregations:{items:{type:"sap.m.IconTabFilter",multiple:true}}},getSearchFacetTabBarAndDimensionById:function(b){var r={};r.index=0;var a=document.getElementById(b);var v=a.dataset.facetView;var c=a.dataset.facetViewIndex;var d=$("#"+b).parent()[0];var e=d.dataset.facetDimension;var f=$(".sapUshellSearchFacetTabBar");for(var i=0;i<f.length;i++){var g=$(".sapUshellSearchFacetTabBar .sapUshellSearchFacetTabBarHeader")[i];var h=g.dataset.facetDimension;if(h===e){r.index=i;r.control=sap.ui.getCore().byId(f[i].id);r.view=v;r.buttonIndex=c;r.dimension=e;break;}}return r;},storeClickedTabInformation:function(e){var s,a,b,d,c;var t=e.getSource().sId;var f=this.getSearchFacetTabBarAndDimensionById(t);var p=f.control.getModel().getPersonalizationStorageInstance().getItem("search-facet-panel-chart-state");s=f.dimension;a=f.control;b=f.view;c=f.buttonIndex;d=a.getBindingContext().getObject().dimension;var g=e.getParameters().id;var h=[];var o={};o.tabId=t;o.searchFacetTabBarIndex=f.searchFacetTabBarIndex;o.buttonId=g;o.buttonIndex=c;o.dimension=d;o.view=b;h.push(o);if(p&&Object.prototype.toString.call(p)==="[object Array]"){for(var i=0;i<p.length;i++){var j=p[i];if(j.dimension!==s){h.push(j);}}}f.control.getModel().getPersonalizationStorageInstance().setItem("search-facet-panel-chart-state",h);a.getBindingContext().getObject().chartIndex=c;},renderer:function(r,c){var a=function(y,T){return function(z){var d;var E=$(this.getDomRef()).closest(".sapUshellSearchFacetTabBar")[0];var J=sap.ui.getCore().byId($(E).attr("id"));var K=new sap.ushell.renderers.fiori2.search.SearchFacetDialogModel(c.getModel());K.initBusinessObjSearch().then(function(){K.setData(c.getModel().getData());K.sinaNext=c.getModel().sinaNext;K.prepareFacetList();if(J&&J.getBindingContext()&&J.getBindingContext().getObject()&&J.getBindingContext().getObject().dimension){d=J.getBindingContext().getObject().dimension;}var M=new sap.ushell.renderers.fiori2.search.controls.SearchFacetDialog({selectedAttribute:d,selectedTabBarIndex:y,tabBarItems:T});M.setModel(K);M.setModel(c.getModel(),"searchModel");M.open();var P=c.getParent().getParent().getParent().getParent();P.oFacetDialog=M;c.getModel().eventLogger.logEvent({type:c.getModel().eventLogger.FACET_SHOW_MORE,referencedAttribute:d});});};};r.write('<div tabindex="0"');r.writeControlData(c);r.addClass("sapUshellSearchFacetTabBar");r.writeClasses();r.write(">");var d=c.getBindingContext().getObject().dimension;var b=c.getBindingContext().getObject().dataType;var t=c.getBindingContext().getObject().title;var e;var s;e=c.getModel().getPersonalizationStorageInstance().getItem("search-facet-panel-chart-state");if(e&&Object.prototype.toString.call(e)==="[object Array]"){for(var k=0;k<e.length;k++){if(e[k].dimension===d){s=e[k];break;}}}var f=[];var g=[];var C=null;var B=null;var h=0;if(s&&s.buttonIndex){h=s.buttonIndex;h=parseInt(h,10);}if(b!=c.getModel().sinaNext.AttributeType.String){h=0;}c.getBindingContext().getObject().chartIndex=h;var j=c.getItems();var D=new sap.ushell.renderers.fiori2.search.controls.SearchFacetDisplayModeDropDown({icon:j[h].getIcon(),type:"Transparent"});for(var i=0;i<j.length;i++){C=j[i].getContent()[0];B=new sap.m.Button({text:j[i].getText(),icon:j[i].getIcon(),press:function(E){c.storeClickedTabInformation(E);c.setSelectedButtonParameters(E.getParameters());}});B.data("facet-view",j[i].getText(),true);B.data("facet-view-index",""+i,true);B.data("dimension",d,true);f.push(B);g.push(C);}var A=new sap.m.ActionSheet({showCancelButton:false,buttons:f,placement:sap.m.PlacementType.Bottom,cancelButtonPress:function(y){L.info("sap.m.ActionSheet: cancelButton is pressed");},afterClose:function(y){var z=this;window.setTimeout(function(){var d=z.getFocusDomRef().getAttribute("data-facet-dimension");var E=$(".sapUshellSearchFacetTabBarButton");for(var i=0;i<E.length;i++){var J=E[i];var K=J.parentNode.parentNode.getAttribute("data-facet-dimension");if(K===d){J.focus();break;}}},100);L.info("=====================");L.info("sap.m.ActionSheet: closed");}});A.data("facet-dimension",d,true);D.addStyleClass("sapUshellSearchFacetTabBarButton");var l=j[h].getText();var m=sap.ushell.resources.i18n.getText("displayAs",[l]);D.setTooltip(m);D.attachPress(function(E){A.openBy(this);});D.onAfterRendering=function(){$(this.getDomRef()).attr("aria-label",sap.ushell.resources.i18n.getText("dropDown"));};if(c.getHeaderText()){var H=new sap.m.List({});H.setShowNoData(false);H.setShowSeparators(sap.m.ListSeparators.None);H.data("sap-ui-fastnavgroup","false",true);var F=false;var n=c.getModel().getProperty("/uiFilter/rootCondition");if(n.hasFilters()){F=true;}else{F=false;}var R=new sap.m.Button({icon:"sap-icon://clear-filter",tooltip:sap.ushell.resources.i18n.getText("resetFilterButton_tooltip"),type:"Transparent",enabled:F,press:function(E){var y=c.getModel();y.eventLogger.logEvent({type:y.eventLogger.CLEAR_ALL_FILTERS});y.resetFilterConditions(true);}});R.addStyleClass("sapUshellSearchFilterByResetButton");R.onAfterRendering=function(){$(this.getDomRef()).attr("aria-label",sap.ushell.resources.i18n.getText("resetFilterButton_tooltip"));};var o=new sap.m.Title({text:c.getHeaderText()});o.addStyleClass("sapUshellSearchFilterByResetButtonLabel");var S=new sap.m.ToolbarSpacer();var p=new sap.m.Toolbar({content:[o,S,R]});p.data("sap-ui-fastnavgroup","false",true);H.setHeaderToolbar(p);H.addStyleClass("sapUshellSearchFilterByHeaderList");H.onAfterRendering=function(){$(".sapUshellSearchFilterByHeaderList").find("ul").attr("tabindex","-1");$(".sapUshellSearchFilterByHeaderList").find("div").attr("tabindex","-1");};r.renderControl(H);}var q=new sap.m.CustomListItem({content:g[h]});q.setModel(c.getModel(),"facets");q.addStyleClass("sapUshellSearchFacetList");var G;if(b===c.getModel().sinaNext.AttributeType.String){G=new sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItem({title:t,button:D});}else{G=new sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItem({title:t});}G.data("facet-dimension",d,true);G.addStyleClass("sapUshellSearchFacetTabBarHeader");var u=new sap.m.Link({text:sap.ushell.resources.i18n.getText("showMore"),press:a(h,j)});u.setModel(c.getModel("i18n"));u.addStyleClass("sapUshellSearchFacetShowMoreLink");var I=new sap.m.Label({text:""});I.addStyleClass("sapUshellSearchFacetInfoZeile");var v=new sap.m.VBox({items:[I,u]});var w=new sap.m.CustomListItem({content:v,visible:{parts:[{path:"/uiFilter/dataSource"}],formatter:function(y){return y.type!==this.getModel().sinaNext.DataSourceType.Category;}}});w.addStyleClass("sapUshellSearchFacetShowMoreItem");var x=new sap.m.List({showSeparators:sap.m.ListSeparators.None,items:[G,q,w]});x.data("sap-ui-fastnavgroup","false",true);x.setModel(c.getModel());r.renderControl(x);c.getItems()[h].addContent(g[h]);r.write("</div>");},onAfterRendering:function(){jQuery(this.getDomRef()).removeAttr("tabindex");}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchFieldGroup',["sap/ushell/library","sap/ushell/renderers/fiori2/search/SearchHelper","sap/ushell/renderers/fiori2/search/controls/SearchSelect","sap/ushell/renderers/fiori2/search/controls/SearchInput","sap/ushell/renderers/fiori2/search/controls/SearchButton"],function(){"use strict";return sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchFieldGroup",{metadata:{properties:{selectActive:{defaultValue:true,type:"boolean"},inputActive:{defaultValue:true,type:"boolean"},buttonActive:{defaultValue:true,type:"boolean"},cancelButtonActive:{defaultValue:true,type:"boolean"}},aggregations:{_flexBox:{type:"sap.m.FlexBox",multiple:false,visibility:"hidden"},_buttonAriaText:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"}}},constructor:function(){sap.ui.core.Control.prototype.constructor.apply(this,arguments);var t=this;t.initSelect();t.initInput();t.initButton();t.initCancelButton();t.initFlexBox();},setCancelButtonActive:function(a){if(a===this.getProperty("cancelButtonActive")){return;}this.setProperty("cancelButtonActive",a);this.initFlexBox();},initFlexBox:function(){if(!this.select){return;}var a=[];if(this.getSelectActive()){this.select.setLayoutData(new sap.m.FlexItemData({growFactor:0}));a.push(this.select);}if(this.getInputActive()){this.input.setLayoutData(new sap.m.FlexItemData({growFactor:1}));a.push(this.input);}if(this.getButtonActive()){this.button.setLayoutData(new sap.m.FlexItemData({growFactor:0}));a.push(this.button);}if(this.getCancelButtonActive()){this.cancelButton.setLayoutData(new sap.m.FlexItemData({growFactor:0}));a.push(this.cancelButton);}var f=this.getAggregation("_flexBox");if(!f){f=new sap.m.FlexBox({alignItems:sap.m.FlexAlignItems.Start,items:a});this.setAggregation("_flexBox",f);}else{f.removeAllAggregation("items");for(var i=0;i<a.length;++i){f.addItem(a[i]);}}},initSelect:function(){var t=this;t.select=new sap.ushell.renderers.fiori2.search.controls.SearchSelect(t.getId()+"-select",{});t.select.attachChange(function(){if(t.getAggregation("input")){var i=t.getAggregation("input");i.destroySuggestionRows();}});},initInput:function(){var t=this;t.input=new sap.ushell.renderers.fiori2.search.controls.SearchInput(t.getId()+"-input",{});},initButton:function(){var t=this;t.button=new sap.ushell.renderers.fiori2.search.controls.SearchButton(t.getId()+"-button",{tooltip:"{i18n>searchbox_tooltip}",press:function(e){var m=t.button.getModel();if(!m.config.odataProvider&&m.config.isLaunchpad()){if(t.input.getValue()===""&&m.getDataSource()===m.getDefaultDataSource()){return;}}m.invalidateQuery();t.input.destroySuggestionRows();t.input.triggerSearch(e);}});t.setAggregation("_buttonAriaText",new sap.ui.core.InvisibleText(t.getId()+"-buttonAriaText",{text:"{i18n>searchbox_tooltip}"}));t.button.addAriaLabelledBy(t.getAggregation("_buttonAriaText"));},initCancelButton:function(){this.cancelButton=new sap.m.Button({text:"{i18n>cancelBtn}"});this.cancelButton.addStyleClass("sapUshellSearchCancelButton");},setModel:function(m){this.select.setModel(m);this.input.setModel(m);this.button.setModel(m);this.cancelButton.setModel(m);},renderer:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("SearchFieldGroup");r.writeClasses();r.write(">");r.renderControl(c.getAggregation("_flexBox"));r.renderControl(c.getAggregation("_buttonAriaText"));r.write("</div>");}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchFilterBar',["sap/m/Toolbar","sap/ushell/library"],function(){"use strict";return sap.m.Toolbar.extend("sap.ushell.renderers.fiori2.search.controls.SearchFilterBar",{constructor:function(o){var t=this;o=jQuery.extend({},{design:sap.m.ToolbarDesign.Info},o);sap.m.Toolbar.prototype.constructor.apply(t,[o]);t.addStyleClass("sapUshellSearchFilterContextualBar");t.filterFormatter=t.filterFormatter.bind(t);t.filterText=new sap.m.Text({text:{parts:[{path:"/uiFilter/rootCondition"},{path:"/facets"}],formatter:t.filterFormatter},tooltip:{parts:[{path:"/uiFilter/rootCondition"},{path:"/facets"}],formatter:t.filterFormatter}}).addStyleClass("sapUshellSearchFilterText");t.filterText.setMaxLines(1);t.filterText.clampText();t.addContent(t.filterText);t.addContent(new sap.m.ToolbarSpacer());t.resetButton=new sap.ui.core.Icon({src:"sap-icon://clear-filter",tooltip:sap.ushell.resources.i18n.getText("resetFilterButton_tooltip")}).addStyleClass("sapUshellSearchFilterResetButton");t.addContent(t.resetButton);},filterFormatter:function(r,f){if(!r||!r.hasFilters()){return"";}r=this.sortConditions(r,f);var l=[];for(var i=0;i<r.conditions.length;++i){var c=r.conditions[i];for(var j=0;j<c.conditions.length;++j){var a=c.conditions[j];l.push(this._formatLabel(a.valueLabel,a.operator));}}return sap.ushell.resources.i18n.getText("filtered_by",l.join(", "));},_formatLabel:function(l,o){var a;switch(o){case"Bw":a=l+"*";break;case"Ew":a="*"+l;break;case"Co":a="*"+l+"*";break;default:a=l;break;}return a;},sortConditions:function(r,f){if(f.length===0){return r;}var g=function(c){var b=c.conditions[0];if(b.attribute){return b.attribute;}return b.conditions[0].attribute;};var a=function(l,b,v){for(var i=0;i<l.length;++i){var e=l[i];if(e[b]===v){return i;}}};r=r.clone();r.conditions.sort(function(b,d){var e=g(b);var h=a(f,"dimension",e);var j=g(d);var k=a(f,"dimension",j);return h-k;});var s=function(c){var b=g(c);var d=a(f,"dimension",b);if(!d){return;}var e=f[d];var v=function(h,j){return a(e.items,"label",h.valueLabel)-a(e.items,"label",j.valueLabel);};c.conditions.sort(v);};for(var i=0;i<r.conditions.length;++i){var c=r.conditions[i];s(c);}return r;},renderer:"sap.m.ToolbarRenderer",onAfterRendering:function(){var t=this;t.resetButton.attachPress(function(){var m=t.getModel();m.eventLogger.logEvent({type:m.eventLogger.CLEAR_ALL_FILTERS});m.resetFilterConditions(true);});var $=jQuery(".sapUshellSearchFilterText");$.attr("aria-label",sap.ushell.resources.i18n.getText("filtered_by_aria_label"));}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchInput',["sap/ushell/Config","sap/ushell/renderers/fiori2/search/SearchHelper","sap/ushell/renderers/fiori2/search/SearchConfiguration","sap/m/Input","sap/ushell/renderers/fiori2/search/suggestions/SuggestionType","sap/ui/layout/HorizontalLayout","sap/ui/layout/VerticalLayout","sap/base/Log","sap/ushell/renderers/fiori2/search/controls/SearchObjectSuggestionImage","sap/ushell/services/AppType","sap/ui/base/Event","sap/ushell/library"],function(C,S,a,I,b,H,V,L,c,A,E){"use strict";sap.m.Input.extend("sap.ushell.renderers.fiori2.search.controls.SearchInput",{constructor:function(i,o){var t=this;o=jQuery.extend({},{width:"100%",showValueStateMessage:false,showTableSuggestionValueHelp:false,enableSuggestionsHighlighting:false,showSuggestion:true,filterSuggests:false,suggestionColumns:[new sap.m.Column({})],autocomplete:false,tooltip:sap.ushell.resources.i18n.getText("search"),placeholder:{path:"/searchTermPlaceholder",mode:sap.ui.model.BindingMode.OneWay},liveChange:this.handleLiveChange.bind(this),suggestionItemSelected:this.handleSuggestionItemSelected.bind(this),enabled:{parts:[{path:"/initializingObjSearch"}],formatter:function(d){return!d;}}},o);var p=sap.ui.Device.system.phone;sap.ui.Device.system.phone=false;sap.m.Input.prototype.constructor.apply(this,[i,o]);sap.ui.Device.system.phone=p;this.bindAggregation("suggestionRows","/suggestions",function(i,d){return t.suggestionItemFactory(i,d);});this.addStyleClass("searchInput");this._bUseDialog=false;this._bFullScreen=false;this._ariaDescriptionIdNoResults=i+"-No-Results-Description";this.listNavigationMode=false;this.listNavigationModeCache={};},isMobileDevice:function(){return false;},renderer:"sap.m.InputRenderer",onsapenter:function(e){if(!(this._oSuggestionPopup&&this._oSuggestionPopup.isOpen()&&this._oSuggPopover.getFocusedListItem())){this.getModel().invalidateQuery();this.triggerSearch(e);}sap.m.Input.prototype.onsapenter.apply(this,arguments);},triggerSearch:function(e){var t=this;var f=sap.ui.getCore().byId(t.getModel().getProperty("/errorPopoverControlId"));if(t.getModel().getProperty("/errors").length>0&&f&&f.getVisible()){f.setVisible(false);}S.subscribeOnlyOnce("triggerSearch","allSearchFinished",function(){t.getModel().autoStartApp();},t);var s=t.getValue();if(s.trim()===""){s="*";}t.getModel().setSearchBoxTerm(s,false);t.navigateToSearchApp();t.destroySuggestionRows();t.getModel().abortSuggestions();},handleLiveChange:function(e){if(this._oSuggPopover&&this._oSuggPopover.handleListNavigation&&!this._oSuggPopover.handleListNavigation.decorated){var h=this._oSuggPopover.handleListNavigation;this._oSuggPopover.handleListNavigation=function(){this.listNavigationMode=true;this.listNavigationModeCache={};var v=h.apply(this._oSuggPopover,arguments);this.listNavigationMode=false;return v;}.bind(this);this._oSuggPopover.handleListNavigation.decorated=true;}var s=this.getValue();var m=this.getModel();m.setSearchBoxTerm(s,false);if(m.getSearchBoxTerm().length>0){m.doSuggestion();}else{this.destroySuggestionRows();m.abortSuggestions();}},handleSuggestionItemSelected:function(e){var m=this.getModel();var s=m.getSearchBoxTerm();var d;if(e.getId()==="AutoSelectAppSuggestion"){d=e.getParameter("suggestion");}else{d=e.getParameter("selectedRow").getBindingContext().getObject();}var f=d.searchTerm||"";var g=d.dataSource||m.getDataSource();var t=d.url;var h=d.uiSuggestionType;m.eventLogger.logEvent({type:m.eventLogger.SUGGESTION_SELECT,suggestionType:h,suggestionTerm:f,searchTerm:s,targetUrl:t,dataSourceKey:g?g.id:""});this.selectText(0,0);switch(h){case b.App:this.destroySuggestionRows();m.abortSuggestions();if(t[0]==="#"){if(t.indexOf("#Action-search")===0&&t===decodeURIComponent(S.getHashFromUrl())){m.setSearchBoxTerm(m.getLastSearchTerm(),false);sap.ui.getCore().getEventBus().publish("allSearchFinished");return;}if(window.hasher){window.hasher.setHash(t);}else{window.location.href=t;}}else{var l=C.last("/core/shell/enableRecentActivity")&&C.last("/core/shell/enableRecentActivityLogging");if(l){var r={title:d.title,appType:A.URL,url:d.url,appId:d.url};sap.ushell.Container.getRenderer("fiori2").logRecentActivity(r);}S.openURL(t,"_blank");m.setSearchBoxTerm("",false);this.setValue("");}if(t.indexOf("#Action-search")!==0){sap.ui.require("sap/ushell/renderers/fiori2/search/SearchShellHelper").setSearchState("COL");}else{this.focus();}break;case b.DataSource:m.setDataSource(g,false);m.setSearchBoxTerm("",false);this.setValue("");this.focus();break;case b.SearchTermData:m.setDataSource(g,false);m.setSearchBoxTerm(f,false);this.getModel().invalidateQuery();this.navigateToSearchApp();this.setValue(f);break;case b.SearchTermHistory:m.setDataSource(g,false);m.setSearchBoxTerm(f,false);this.getModel().invalidateQuery();this.navigateToSearchApp();this.setValue(f);break;case b.Object:if(m.isSearchInputHelp){this.setValue(d.label);}else if(d.titleNavigation){d.titleNavigation.performNavigation();}break;default:break;}},suggestionItemFactory:function(i,o){var s=o.getObject();switch(s.uiSuggestionType){case b.Object:return this.objectSuggestionItemFactory(i,o);case b.Header:return this.headerSuggestionItemFactory(i,o);case b.BusyIndicator:return this.busyIndicatorItemFactory(i,o);default:return this.regularSuggestionItemFactory(i,o);}},busyIndicatorItemFactory:function(i,o){var d=new V({content:[new sap.m.BusyIndicator({size:"0.6rem"})]});d.getText=function(){return this.getValue();}.bind(this);var l=new sap.m.ColumnListItem({cells:[d],type:"Active"});l.addStyleClass("searchSuggestion");l.addStyleClass("searchBusyIndicatorSuggestion");l.getVisible=this.assembleListNavigationModeGetVisibleFunction(l);return l;},headerSuggestionItemFactory:function(i,o){var l=new sap.m.Label({text:"{label}"});var d=new V({content:[l]});d.getText=function(){return this.getValue();}.bind(this);var e=new sap.m.ColumnListItem({cells:[d],type:"Active"});e.addStyleClass("searchSuggestion");e.addStyleClass("searchHeaderSuggestion");e.getVisible=this.assembleListNavigationModeGetVisibleFunction(e);return e;},assembleListNavigationModeGetVisibleFunction:function(l){return function(){if(!this.listNavigationMode){return true;}if(!this.listNavigationModeCache[l.getId()]){this.listNavigationModeCache[l.getId()]=true;return false;}else{return true;}}.bind(this);},assembleObjectSuggestionLabels:function(s){var l=[];var d=new sap.m.Label({text:"{label1}"});d.addEventDelegate({onAfterRendering:function(){S.boldTagUnescaper(this.getDomRef());}},d);d.addStyleClass("sapUshellSearchObjectSuggestion-Label1");l.push(d);if(s.label2){var e=new sap.m.Label({text:"{label2}"});e.addEventDelegate({onAfterRendering:function(){S.boldTagUnescaper(this.getDomRef());}},e);e.addStyleClass("sapUshellSearchObjectSuggestion-Label2");l.push(e);}var v=new V({content:l});v.addStyleClass("sapUshellSearchObjectSuggestion-Labels");return v;},objectSuggestionItemFactory:function(i,o){var s=o.getObject();var d=[];if(s.imageExists){d.push(new c({src:"{imageUrl}",isCircular:"{imageIsCircular}"}));}d.push(this.assembleObjectSuggestionLabels(s));var e=new H({content:d});e.addStyleClass("sapUshellSearchObjectSuggestion-Container");e.getText=function(){return this.getValue();}.bind(this);var l=new sap.m.ColumnListItem({cells:[e],type:"Active"});l.addStyleClass("searchSuggestion");l.addStyleClass("searchObjectSuggestion");return l;},regularSuggestionItemFactory:function(i,o){var t=this;var d=new sap.ui.core.Icon({src:"{icon}"}).addStyleClass("suggestIcon").addStyleClass("sapUshellSearchSuggestAppIcon").addStyleClass("suggestListItemCell");var l=new sap.m.Text({text:"{label}",layoutData:new sap.m.FlexItemData({shrinkFactor:1,minWidth:"4rem"}),wrapping:false}).addStyleClass("suggestText").addStyleClass("suggestNavItem").addStyleClass("suggestListItemCell");l.addEventDelegate({onAfterRendering:function(){S.boldTagUnescaper(this.getDomRef());}},l);var f=new sap.m.CustomListItem({type:sap.m.ListType.Active,content:new sap.m.FlexBox({items:[d,l]})});var s=o.oModel.getProperty(o.sPath);f.getText=function(){return(typeof s.searchTerm)==="string"?s.searchTerm:t.getValue();};var g=new sap.m.ColumnListItem({cells:[f],type:"Active"});if(s.uiSuggestionType===b.App){if(s.title&&s.title.indexOf("combinedAppSuggestion")>=0){g.addStyleClass("searchCombinedAppSuggestion");}else{g.addStyleClass("searchAppSuggestion");}}if(s.uiSuggestionType===b.DataSource){g.addStyleClass("searchDataSourceSuggestion");}if(s.uiSuggestionType===b.SearchTermData){g.addStyleClass("searchBOSuggestion");}if(s.uiSuggestionType===b.SearchTermHistory){g.addStyleClass("searchHistorySuggestion");}g.addStyleClass("searchSuggestion");g.addEventDelegate({onAfterRendering:function(e){var h=g.$().find(".suggestListItemCell");var j=0;h.each(function(k){j+=$(this).outerWidth(true);});if(j>g.$().find("li").get(0).scrollWidth){g.setTooltip($(h[0]).text()+" "+$(h[2]).text());}}});return g;},navigateToSearchApp:function(){if(S.isSearchAppActive()||this.getModel().preventUpdateURL||this.getModel().isSearchInputHelp){this.getModel()._firePerspectiveQuery();}else{var h=this.getModel().renderSearchURL();window.location.hash=h;}},getAriaDescriptionIdForNoResults:function(){return this._ariaDescriptionIdNoResults;},onAfterRendering:function(e){var d=$(this.getDomRef()).find("#searchFieldInShell-input-inner");$(this.getDomRef()).find("input").attr("autocomplete","off");$(this.getDomRef()).find("input").attr("autocorrect","off");$(this.getDomRef()).find("input").attr("type","search");$(this.getDomRef()).find("input").attr("name","search");var f=jQuery('<form action=""></form>').on("submit",function(){return false;});$(this.getDomRef()).children("input").parent().append(f);$(this.getDomRef()).children("input").detach().appendTo(f);d.attr("aria-describedby",d.attr("aria-describedby")+" "+this._ariaDescriptionIdNoResults);},onValueRevertedByEscape:function(v){if(S.isSearchAppActive()){return;}this.setValue(" ");}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchLabel',['sap/ushell/renderers/fiori2/search/SearchHelper'],function(S){"use strict";return sap.m.Label.extend('sap.ushell.renderers.fiori2.search.controls.SearchLabel',{renderer:'sap.m.LabelRenderer',onAfterRendering:function(){var d=this.getDomRef();S.boldTagUnescaper(d);S.forwardEllipsis4Whyfound(d);}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchLayout',["sap/ushell/library"],function(){"use strict";return sap.ui.layout.FixFlex.extend("sap.ushell.renderers.fiori2.search.controls.SearchLayout",{metadata:{properties:{isBusy:{type:"boolean",defaultValue:false},busyDelay:{type:"int",defaultValue:100},showFacets:{type:"boolean",defaultValue:false},animateFacetTransition:{type:"boolean",defaultValue:false}},aggregations:{resultListContainer:{type:"sap.ui.core.Control",multiple:false},facets:{type:"sap.ui.core.Control",multiple:false},busyIndicator:{type:"sap.ui.core.Control",multiple:false}}},init:function(){var t=this;sap.ui.layout.FixFlex.prototype.init.apply(this);var r=new sap.m.ScrollContainer({height:"100%",vertical:true});t.setFlexContent(r);},constructor:function(o,i){var t=this;sap.ui.layout.FixFlex.prototype.constructor.apply(this,[o],i);t.setVertical(false);this.addEventDelegate({onAfterRendering:function(){var $=jQuery(".sapUiFixFlexFixed");if(t.getShowFacets()&&!sap.ui.Device.system.phone){$.addClass("sapUshellSearchFacetPanelOpen");}else{$.removeClass("sapUshellSearchFacetPanelOpen");}}});},getFacets:function(){return this.getFixContent();},setFacets:function(c){this.addFixContent(c);},getResultListContainer:function(){var r=this.getFlexContent();var c=r.getContent();if(c.length>0){return c[0];}return undefined;},setResultListContainer:function(c){var r=this.getFlexContent();r.destroyContent();r.addContent(c);},setAnimateFacetTransition:function(v){this.setProperty("animateFacetTransition",v,true);},setIsBusy:function(i){var t=this;if(i){if(this.busyFlag){return;}if(this.busyTimeout){return;}this.busyTimeout=setTimeout(function(){t.busyTimeout=null;t._setIsBusy(i);},this.getBusyDelay());}else{if(this.busyFlag){this._setIsBusy(i);return;}if(this.busyTimeout){clearTimeout(this.busyTimeout);this.busyTimeout=null;return;}}},setBusyDelay:function(b){this.setProperty("busyDelay",b,true);},_setIsBusy:function(i){if(i){this.getBusyIndicator().open();this.busyFlag=true;}else if(this.busyFlag){this.getBusyIndicator().close();this.busyFlag=false;}this.setProperty("isBusy",i,true);},setShowFacets:function(a){if(a===this.getShowFacets()){return undefined;}var $=jQuery(".sapUiFixFlexFixed");var b=jQuery(".sapUshellSearchResultListsContainer");if(this.getAnimateFacetTransition()){$.addClass("sapUshellSearchFacetAnimation");}else{$.removeClass("sapUshellSearchFacetAnimation");}if(!a){b.removeClass("sapUshellSearchFacetPanelOpen");$.removeClass("sapUshellSearchFacetPanelOpen");$.attr("aria-hidden","true");}else{b.addClass("sapUshellSearchFacetPanelOpen");$.addClass("sapUshellSearchFacetPanelOpen");$.attr("aria-hidden","false");}var h=function(e){sap.ui.getCore().getEventBus().publish("searchLayoutChanged");};$.one("transitionend",h);this.setProperty("showFacets",a,true);return this;},renderer:"sap.ui.layout.FixFlexRenderer"});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchLink',['sap/ushell/renderers/fiori2/search/SearchHelper'],function(S){"use strict";return sap.m.Link.extend('sap.ushell.renderers.fiori2.search.controls.SearchLink',{metadata:{aggregations:{icon:{type:"sap.ui.core.Icon",multiple:false}}},renderer:'sap.m.LinkRenderer',onAfterRendering:function(){var d=this.getDomRef();S.boldTagUnescaper(d);var i=this.getAggregation("icon");if(i){var r=sap.ui.getCore().createRenderManager();var a=$("<span></span");r.render(i,a);$(d).prepend("&nbsp;");$(d).prepend(a);r.destroy();}}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchMultiSelectionControl',["sap/ushell/library"],function(){"use strict";return sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchMultiSelectionControl",{metadata:{properties:{resultList:"object"},aggregations:{actions:"object"}},renderer:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapUshellSearchResultList-MultiSelectionControl");r.writeClasses();r.write(">");c._renderer(r);r.write("</div>");},_renderer:function(r){var t=this;var e=new sap.m.ToggleButton({icon:"sap-icon://multi-select",tooltip:sap.ushell.resources.i18n.getText("toggleSelectionModeBtn"),press:function(){if(this.getPressed()){t.getResultList.enableSelectionMode();t.getModel().setProperty("/multiSelectionEnabled",true);}else{t.getResultList.disableSelectionMode();t.getModel().setProperty("/multiSelectionEnabled",false);}},visible:false,pressed:{parts:[{path:"/multiSelectionEnabled"}],formatter:function(l){return l>0;},mode:sap.ui.model.BindingMode.OneWay}});e.setModel(t.getModel());e.addStyleClass("sapUshellSearchResultList-toggleMultiSelectionButton");r.renderControl(e);}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchNoResultScreen',["sap/ushell/library","sap/ushell/renderers/fiori2/search/SearchShellHelper","sap/ushell/renderers/fiori2/search/SearchConfiguration"],function(u,S,a){"use strict";return sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchNoResultScreen",{metadata:{properties:{searchBoxTerm:"string"}},renderer:function(r,c){var s=S.getSearchInput();var b;if(s){b=s.getAriaDescriptionIdForNoResults();}var e=$("<div>").text(c.getSearchBoxTerm()).html();r.write('<div class="sapUshellSearch-no-result"');r.writeControlData(c);r.write(">");r.write('<div class="sapUshellSearch-no-result-icon">');r.writeIcon(sap.ui.core.IconPool.getIconURI("travel-request"));r.write('</div><div class="sapUshellSearch-no-result-text" role="alert">');r.write("<div ");if(b){r.write('id="'+b+'" ');}r.write('class="sapUshellSearch-no-result-info">'+sap.ushell.resources.i18n.getText("no_results_info",e).replace('<b>"&1"</b>','<b>"'+e+'"</b>'));r.write("</div>");c.renderAppFinderLink(r,c);r.write('<div class="sapUshellSearch-no-result-tips">'+sap.ushell.resources.i18n.getText("no_results_tips")+"</div> ");r.write("</div></div>");},renderAppFinderLink:function(r,c){if(!a.getInstance().isLaunchpad()){return;}var m=c.getModel();if(m.getDataSource()!==m.appDataSource){return;}var l=sap.ushell.resources.i18n.getText("no_results_link_appfinder","xxxx");var i=l.indexOf("xxxx");var p=l.slice(0,i);var s=l.slice(i+4);r.write('<div class="sapUshellSearch-no-result-info">');r.write(p);var b=new sap.m.Link({text:sap.ushell.resources.i18n.getText("appFinderTitle"),press:function(){var C=sap.ushell&&sap.ushell.Container&&(sap.ushell.Container.getService("SmartNavigation")||sap.ushell.Container.getService("CrossApplicationNavigation"));C.toExternal({target:{shellHash:"#Shell-home&/appFinder/catalog"}});}});r.renderControl(b);r.write(s);r.write("</div>");}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchObjectSuggestionImage',["sap/m/Image","sap/ushell/library"],function(I){"use strict";return I.extend("sap.ushell.renderers.fiori2.search.controls.SearchObjectSuggestionImage",{metadata:{properties:{isCircular:"boolean"}},constructor:function(){I.prototype.constructor.apply(this,arguments);this.attachBrowserEvent("load",function(){this.wrapImage();}.bind(this));this.attachBrowserEvent("error",function(){this.wrapImage(true);}.bind(this));this.addStyleClass("sapUshellSearchObjectSuggestionImage-Initial");},wrapImage:function(i){var a=this.getDomRef();if(jQuery(a.parentNode).hasClass("sapUshellSearchObjectSuggestionImage-Wrapper-Portrait")||jQuery(a.parentNode).hasClass("sapUshellSearchObjectSuggestionImage-Wrapper-Landscape")){this.adaptContainer(i);}else{this.createContainer(i);}},createContainer:function(i){var c=document.createElement("div");var a=this.getDomRef();jQuery(c).addClass("sapUshellSearchObjectSuggestionImage-Wrapper");if(a.offsetHeight>a.offsetWidth){jQuery(c).addClass("sapUshellSearchObjectSuggestionImage-Wrapper-Portrait");}else{jQuery(c).addClass("sapUshellSearchObjectSuggestionImage-Wrapper-Landscape");}if(this.getIsCircular()){c.style.borderRadius="50%";}a.parentNode.insertBefore(c,a);a.parentNode.removeChild(a);c.appendChild(a);jQuery(a).removeClass("sapUshellSearchObjectSuggestionImage-Initial");if(i){jQuery(c).addClass("sapUshellSearchObjectSuggestionImage-Wrapper-Error");}},adaptContainer:function(i){var a=this.getDomRef();var c=a.parentNode;if(a.offsetHeight>a.offsetWidth){jQuery(c).addClass("sapUshellSearchObjectSuggestionImage-Wrapper-Portrait");jQuery(c).removeClass("sapUshellSearchObjectSuggestionImage-Wrapper-Landscape");}else{jQuery(c).addClass("sapUshellSearchObjectSuggestionImage-Wrapper-Landscape");jQuery(c).removeClass("sapUshellSearchObjectSuggestionImage-Wrapper-Protrait");}if(i){jQuery(c).addClass("sapUshellSearchObjectSuggestionImage-Wrapper-Error");}else{jQuery(c).removeClass("sapUshellSearchObjectSuggestionImage-Wrapper-Error");}},renderer:"sap.m.ImageRenderer"});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchRelatedObjectsToolbar',["sap/ushell/library","sap/ushell/renderers/fiori2/search/SearchModel"],function(u,S){"use strict";var m=sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchRelatedObjectsToolbar",{metadata:{properties:{itemId:"string",navigationObjects:{type:"object",multiple:true},positionInList:"int"},aggregations:{_relatedObjectActionsToolbar:{type:"sap.m.Toolbar",multiple:false,visibility:"hidden"},_ariaDescriptionForLinks:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"}}},init:function(){var t=this;if(sap.ui.core.Control.prototype.init){sap.ui.core.Control.prototype.init.apply(t,arguments);}sap.ushell.renderers.fiori2.search.controls.SearchRelatedObjectsToolbar._allOfMyCurrentInstances.push(t);t.setAggregation("_relatedObjectActionsToolbar",new sap.m.Toolbar({design:sap.m.ToolbarDesign.Solid}).data("sap-ui-fastnavgroup","false",true).addStyleClass("sapUshellSearchResultListItem-RelatedObjectsToolbar-Toolbar"));t.setAggregation("_ariaDescriptionForLinks",new sap.ui.core.InvisibleText({text:sap.ushell.resources.i18n.getText("result_list_item_aria_has_more_links")}));if(typeof sap!=="undefined"&&sap.ui&&sap.ui.getCore){sap.ui.getCore().getEventBus().subscribe("searchLayoutChanged",t._layoutToolbarElements,t);}},exit:function(){var t=this;if(sap.ui.core.Control.prototype.exit){sap.ui.core.Control.prototype.exit.apply(t,arguments);}var a=sap.ushell.renderers.fiori2.search.controls.SearchRelatedObjectsToolbar._allOfMyCurrentInstances;for(var i=0;i<a.length;i++){if(a[i]===t){a.splice(i,1);break;}}if(typeof sap!=="undefined"&&sap.ui&&sap.ui.getCore){sap.ui.getCore().getEventBus().unsubscribe("searchLayoutChanged",t._layoutToolbarElements,t);}},renderer:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapUshellSearchResultListItem-RelatedObjectsToolbar");r.writeClasses();r.write(">");r.renderControl(c.getAggregation("_ariaDescriptionForLinks"));c._renderToolbar(r);r.write("</div>");},_renderToolbar:function(r){var t=this;var i;var _=t.getAggregation("_relatedObjectActionsToolbar");_.destroyContent();var c=function(b){return function(){t._performNavigation(b,{trackingOnly:true});};};var n=t.getNavigationObjects();if(n.length>0){var a=[];for(i=0;i<n.length;i++){var b=n[i];var l=new sap.m.Link({text:b.getText(),href:b.getHref(),layoutData:new sap.m.ToolbarLayoutData({shrinkable:false}),press:c(b)});var d=b.getTarget();if(d){l.setTarget(d);}l.addStyleClass("sapUshellSearchResultListItem-RelatedObjectsToolbar-Element");a.push(l);}var e=new sap.m.ToolbarSpacer();e.addStyleClass("sapUshellSearchResultListItem-RelatedObjectsToolbar-Spacer");_.addContent(e);for(i=0;i<a.length;i++){_.addContent(a[i]);}t._overFlowButton=new sap.m.Button({icon:sap.ui.core.IconPool.getIconURI("overflow")});t._overFlowButton.addStyleClass("sapUshellSearchResultListItem-RelatedObjectsToolbar-OverFlowButton");_.addContent(t._overFlowButton);t._overFlowSheet=new sap.m.ActionSheet({placement:sap.m.PlacementType.Top});t._overFlowButton.attachPress(function(){t._overFlowSheet.openBy(t._overFlowButton);});r.renderControl(_);}},onAfterRendering:function(){var t=this;t._layoutToolbarElements();t._addAriaInformation();},_layoutToolbarElements:function(){var t=this;var _=t.getAggregation("_relatedObjectActionsToolbar");if(!(t.getDomRef()&&_.getDomRef())){return;}var a=$(_.getDomRef());var b=a.width();if($(t.getDomRef()).css("display")==="none"||a.css("display")==="none"){return;}t.toolbarWidth=b;var c=$(t._overFlowButton.getDomRef());c.css("display","none");var d=0;var p=function(k,l){t._performNavigation(l);};var e=a.find(".sapUshellSearchResultListItem-RelatedObjectsToolbar-Element");for(var i=0;i<e.length;i++){var f=$(e[i]);f.css("display","");var g=d+f.outerWidth(true);if(g>b){if(i<e.length){c.css("display","");var o=c.outerWidth(true);for(;i>=0;i--){f=$(e[i]);g-=f.outerWidth(true);if(g+o<=b){break;}}}var n=t.getNavigationObjects();t._overFlowSheet.destroyButtons();i=(i>=0)?i:0;for(;i<e.length;i++){f=$(e[i]);f.css("display","none");var h=n[i];var j=new sap.m.Button({text:h.getText()});j.attachPress(h,p);t._overFlowSheet.addButton(j);}break;}d=g;}t._setupItemNavigation();},_setupItemNavigation:function(){var t=this;if(!t.theItemNavigation){t.theItemNavigation=new sap.ui.core.delegate.ItemNavigation();t.addDelegate(t.theItemNavigation);}t.theItemNavigation.setCycling(false);t.theItemNavigation.setRootDomRef(t.getDomRef());var a=[];var _=t.getAggregation("_relatedObjectActionsToolbar");var c=_.getContent();for(var i=0;i<c.length;i++){if(!c[i].hasStyleClass("sapUshellSearchResultListItem-RelatedObjectsToolbar-Element")){continue;}if(!$(c[i].getDomRef()).attr("tabindex")){var b="-1";if(c[i].getPressed&&c[i].getPressed()){b="0";}$(c[i].getDomRef()).attr("tabindex",b);}a.push(c[i].getDomRef());}var d=t._overFlowButton.getDomRef();a.push(d);$(d).attr("tabindex","-1");t.theItemNavigation.setItemDomRefs(a);},_addAriaInformation:function(){var t=this;var a=$(this.getAggregation("_relatedObjectActionsToolbar").getDomRef());var b=a.find(".sapUshellSearchResultListItem-RelatedObjectsToolbar-Element");var c=$(t._overFlowButton.getDomRef());if(b.length>0||c.is(":visible")){var d=t.getAggregation("_ariaDescriptionForLinks").getId();b.each(function(){var f=$(this);var e=f.attr("aria-describedby")||"";e+=" "+d;f.attr("aria-describedby",e);});if(c.is(":visible")){var e=c.attr("aria-describedby")||"";e+=" "+d;c.attr("aria-describedby",e);}}},_performNavigation:function(n,p){var t=p&&p.trackingOnly||false;n.performNavigation({trackingOnly:t});}});m._allOfMyCurrentInstances=[];$(window).on("resize",function(){for(var i=0;i<this._allOfMyCurrentInstances.length;i++){this._allOfMyCurrentInstances[i]._layoutToolbarElements();}}.bind(m));return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchResultGrid',["sap/ushell/library","sap/ushell/renderers/fiori2/search/SearchHelper","sap/f/GridContainer"],function(u,S,G){"use strict";return sap.f.GridContainer.extend("sap.ushell.renderers.fiori2.search.controls.SearchResultGrid",{constructor:function(i,s){sap.f.GridContainer.prototype.constructor.apply(this,[i,s]);this.bindAggregation("items","/results",function(a,c){var b=c.getObject();var d=new sap.m.ImageContent({src:b.imageUrl});if(b.imageFormat==="round"){d.addStyleClass("sapUshellResultListGrid-ImageContainerRound");}return new sap.m.GenericTile({header:b.title,subheader:b.dataSourceName,tileContent:new sap.m.TileContent({content:d}),press:function(e){var f=this.getModel().getProperty(e.getSource().getBindingContext().sPath);if(f.titleNavigation._target==="_blank"){S.openURL(f.titleNavigation._href,"_blank");}else{window.location.hash=f.titleNavigation._href;}}});});this.addStyleClass("sapUshellResultListGrid");},renderer:"sap.f.GridContainerRenderer",onAfterRendering:function(){S.boldTagUnescaper(this.getDomRef());}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchResultList',["sap/ushell/library","sap/ushell/renderers/fiori2/search/SearchHelper"],function(u,S){"use strict";return sap.m.List.extend("sap.ushell.renderers.fiori2.search.controls.SearchResultList",{init:function(){if(sap.m.List.prototype.init){sap.m.List.prototype.init.apply(this,arguments);}this.addStyleClass("searchResultList");},renderer:"sap.m.ListRenderer",onAfterRendering:function(){var t=this;sap.m.List.prototype.onAfterRendering.apply(t,arguments);var m=sap.ushell.renderers.fiori2.search.getModelSingleton();var a=m.getProperty("/multiSelectionEnabled");if(a){t.enableSelectionMode(false);}t._prepareResizeHandler();t.collectListItemsForNavigation();},collectListItemsForNavigation:function(){var t=this;var m=t.getItems();if(m.length===0){return;}var d=function(){t._doCollectListItemsForNavigation();};for(var i=0;i<m.length;i++){var M=m[i];if(M.hasStyleClass("sapUshellSearchResultListItemApps")){var c=M.getContent();if(c.length>0){c[0].addEventDelegate({onAfterRendering:d});}}}t._doCollectListItemsForNavigation();},_doCollectListItemsForNavigation:function(){var t=this;var i,j;var f=t.getDomRef();if(!f){return;}var I=t.getItemNavigation();if(!I){t._startItemNavigation();I=t.getItemNavigation();}if(!I){return;}t._bItemNavigationInvalidated=false;var r=f.getElementsByTagName("li");var d=[];var T=[];for(i=0;i<r.length;i++){var R=r[i];if($(R).hasClass("sapUshellSearchResultListItemApps")){var a=R.getElementsByClassName("sapUshellSearchTileWrapper");for(j=0;j<a.length;j++){var b=S.getFocusableTileDomRef(a[j]);if(!b||$(b).is(":hidden")){continue;}d.push(b);T.push(b);}$(R).removeAttr("tabindex");$(R).removeAttr("role");$(R).attr("aria-hidden","true");}else if($(R).hasClass("sapUshellSearchResultListFooter")){var s=R.getElementsByClassName("sapUshellResultListMoreFooter");for(j=0;j<s.length;j++){d.push(s[j]);T.push(s[j]);}}else if($(R).hasClass("sapUshellSearchResultListItem")){d.push(R);T.push(R);}}if(d.length>0){var c=$(d[0]).closest("ul");var e=c.length>0?c[0]:d[0].parentElement;I.setRootDomRef(e);}I.setItemDomRefs(d);I.setCycling(false);I.setPageSize(10);if(T.length>0){var g=$(T[0]).attr("id");for(i=1;i<T.length;i++){g+=" "+$(T[i]).attr("id");}$(t.getDomRef()).children("[role='listbox']").attr("aria-owns",g);}},_prepareResizeHandler:function(){var t=this;var r=[768,1151];var w=function(){var b=window.innerWidth;if(b<r[0]){return 0;}for(var i=0;i<r.length-1;i++){if(b>=r[i]&&b<r[i+1]){return i+1;}}return r.length;};var l=w();var a=function(e){var c=w();if(c!=l){l=c;var m=t.getItems();for(var i=0;i<m.length;i++){var M=m[i];if(M.getContent()&&M.getContent().length>0&&M.getContent()[0].resizeEventHappened){M.getContent()[0].resizeEventHappened();}}}};$(window).on("resize",a);},enableSelectionMode:function(a){var t=this;var d=jQuery.Deferred();a=a===undefined?true:a;var s=$(t.getDomRef());if(!a){s.addClass("sapUshellSearchResultList-ShowMultiSelection");d.resolve();return d.promise();}var b=200;var c=s.find(".sapUshellSearchResultListItem-CheckboxExpandContainer");var e=s.find(".sapUshellSearchResultListItem-Attributes");var f=parseFloat(e.css("padding-left"));var g=c.find(".sapUshellSearchResultListItem-CheckboxContainer");var h=g.width();if(!s.hasClass("sapUshellSearchResultList-ShowMultiSelection")){c.css("width","0");c.css("opacity","0");e.css("padding-left",f);s.addClass("sapUshellSearchResultList-ShowMultiSelection");var n=f+h;var i=c.animate({width:h,opacity:1},b,function(){$(this).css("width","");$(this).css("opacity","");});var j=e.animate({"padding-left":n},b,function(){$(this).css("padding-left","");});jQuery.when(i,j).done(function(){d.resolve();});}else{d.resolve();}return d.promise();},disableSelectionMode:function(a){var t=this;var d=jQuery.Deferred();a=a===undefined?true:a;var s=$(t.getDomRef());if(!a){s.removeClass("sapUshellSearchResultList-ShowMultiSelection");d.resolve();return d.promise();}var b=200;var c=s.find(".sapUshellSearchResultListItem-CheckboxExpandContainer");var e=s.find(".sapUshellSearchResultListItem-Attributes");var f=parseFloat(e.css("padding-left"));var g=c.find(".sapUshellSearchResultListItem-CheckboxContainer");var h=g.width();if(s.hasClass("sapUshellSearchResultList-ShowMultiSelection")){var n=f-h;var i=c.animate({width:0,opacity:0},b).promise();var j=e.animate({"padding-left":n},b).promise();jQuery.when(i,j).done(function(){s.removeClass("sapUshellSearchResultList-ShowMultiSelection");c.css("width","");c.css("opacity","");e.css("padding-left","");d.resolve();});}else{d.resolve();}return d.promise();}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchResultListContainer',["sap/ushell/library"],function(){"use strict";return sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchResultListContainer",{init:function(){this.data("sap-ui-fastnavgroup","true",true);},metadata:{aggregations:{filterBar:{type:"sap.ui.core.Control",multiple:false},centerArea:{singularName:"content"},totalCountBar:{type:"sap.ui.core.Control",multiple:false},didYouMeanBar:{type:"sap.ui.core.Control",multiple:false},noResultScreen:{type:"sap.ui.core.Control",multiple:false},totalCountHiddenElement:{type:"sap.ui.core.InvisibleText",multiple:false}}},renderer:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapUshellSearchResultListsContainer");r.addClass("sapUiResponsiveMargin");if(c.getModel()&&c.getModel().getFacetVisibility()===true){r.addClass("sapUshellSearchFacetPanelOpen");}r.writeClasses();r.write(">");r.renderControl(c.getNoResultScreen());r.renderControl(c.getDidYouMeanBar());r.write('<div class="sapUshellSearchTotalCountBar">');r.renderControl(c.getTotalCountBar());r.write("</div>");for(var i=0;i<c.getCenterArea().length;i++){r.renderControl(c.getCenterArea()[i]);}r.renderControl(c.getTotalCountHiddenElement());r.write("</div>");}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchResultListItem',["sap/ushell/library","sap/ushell/renderers/fiori2/search/controls/SearchText","sap/ushell/renderers/fiori2/search/controls/SearchLink","sap/ushell/renderers/fiori2/search/controls/twitter/SearchTweet","sap/ushell/renderers/fiori2/search/SearchHelper","sap/ushell/renderers/fiori2/search/controls/SearchRelatedObjectsToolbar","sap/ushell/renderers/fiori2/search/SearchModel"],function(u,S,a,b,c,e,f){"use strict";var n="\u2013";return sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchResultListItem",{metadata:{properties:{dataSource:"object",itemId:"string",title:"string",titleDescription:"string",titleNavigation:"object",geoJson:"object",type:"string",imageUrl:"string",imageFormat:"string",imageNavigation:"object",attributes:{type:"object",multiple:true},navigationObjects:{type:"object",multiple:true},selected:"boolean",expanded:"boolean",parentListItem:"object",additionalParameters:"object",positionInList:"int",resultSetId:"string",layoutCache:"object",totalCountHiddenElement:"object"},aggregations:{_titleLink:{type:"sap.ushell.renderers.fiori2.search.controls.SearchLink",multiple:false,visibility:"hidden"},_titleLinkDescription:{type:"sap.ushell.renderers.fiori2.search.controls.SearchText",multiple:false,visibility:"hidden"},_titleDelimiter:{type:"sap.m.Text",multiple:false,visibility:"hidden"},_typeText:{type:"sap.ushell.renderers.fiori2.search.controls.SearchText",multiple:false,visibility:"hidden"},_typeLink:{type:"sap.ushell.renderers.fiori2.search.controls.SearchLink",multiple:false,visibility:"hidden"},_typeLinkAriaDescription:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"},_multiLineDescriptionText:{type:"sap.ushell.renderers.fiori2.search.controls.SearchText",multiple:false,visibility:"hidden"},_multiLineDescriptionTweet:{type:"sap.ushell.renderers.fiori2.search.controls.twitter.SearchTweet",multiple:false,visibility:"hidden"},_selectionCheckBox:{type:"sap.m.CheckBox",multiple:false,visibility:"hidden"},_expandButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_attributeLabels:{type:"sap.m.Label",multiple:true,visibility:"hidden"},_attributeValues:{type:"sap.ui.core.Control",multiple:true,visibility:"hidden"},_attributeValuesWithoutWhyfoundHiddenTexts:{type:"sap.ui.core.InvisibleText",multiple:true,visibility:"hidden"},_relatedObjectActionsToolbar:{type:"sap.ushell.renderers.fiori2.search.controls.SearchRelatedObjectsToolbar",multiple:false,visibility:"hidden"},_titleLabeledByText:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"},_attributesLabeledByText:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"},_expandStateLabeledByText:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"}}},init:function(){var t=this;if(sap.ui.core.Control.prototype.init){sap.ui.core.Control.prototype.init.apply(this,arguments);}t.setAggregation("_titleLink",new a({}).addStyleClass("sapUshellSearchResultListItem-HeaderEntry").addStyleClass("sapUshellSearchResultListItem-Title").addStyleClass("sapUshellSearchResultListItem-MightOverflow").attachPress(function(E){var p=t._getPhoneSize();var w=$(window).width();if(w<=p){E.preventDefault();E.cancelBubble();t._performTitleNavigation();}else{t._performTitleNavigation({trackingOnly:true});}}));t.setAggregation("_titleLinkDescription",new S({}).addStyleClass("sapUshellSearchResultListItem-HeaderEntry").addStyleClass("sapUshellSearchResultListItem-TitleDescription").addStyleClass("sapUshellSearchResultListItem-MightOverflow"));var d=new sap.m.Text({text:"|"});d.addEventDelegate({onAfterRendering:function(g){$(this.getDomRef()).attr("aria-hidden","true");}.bind(d)});t.setAggregation("_titleDelimiter",d.addStyleClass("sapUshellSearchResultListItem-HeaderEntry").addStyleClass("sapUshellSearchResultListItem-TitleDelimiter").addStyleClass("sapUshellSearchResultListItem-MightOverflow"));t.setAggregation("_typeText",new S().addStyleClass("sapUshellSearchResultListItem-HeaderEntry").addStyleClass("sapUshellSearchResultListItem-TitleCategory").addStyleClass("sapUshellSearchResultListItem-MightOverflow"));t.setAggregation("_typeLinkAriaDescription",new sap.ui.core.InvisibleText({text:sap.ushell.resources.i18n.getText("result_list_item_type_link_description")}));t.setAggregation("_typeLink",new sap.ushell.renderers.fiori2.search.controls.SearchLink({}).addStyleClass("sapUshellSearchResultListItem-HeaderEntry").addStyleClass("sapUshellSearchResultListItem-TitleCategoryLink").addStyleClass("sapUshellSearchResultListItem-MightOverflow").addAriaDescribedBy(t.getAggregation("_typeLinkAriaDescription")));t.setAggregation("_multiLineDescriptionText",new S({maxLines:5}).addStyleClass("sapUshellSearchResultListItem-MultiLineDescription").addStyleClass("sapUshellSearchResultListItem-MightOverflow").data("islongtext","true",true));t.setAggregation("_multiLineDescriptionTweet",new b({}).addStyleClass("sapUshellSearchResultListItem-MultiLineDescription").addStyleClass("sapUshellSearchResultListItem-MightOverflow").data("islongtext","true",true));t.setAggregation("_selectionCheckBox",new sap.m.CheckBox({select:function(E){t.setProperty("selected",E.getParameters().selected,true);}}));t.setAggregation("_expandButton",new sap.m.Button({type:sap.m.ButtonType.Transparent,press:function(E){t.toggleDetails();}}));t.setAggregation("_relatedObjectActionsToolbar",new e().addStyleClass("sapUshellSearchResultListItem-RelatedObjectsToolbar"));t.setAggregation("_titleLabeledByText",new sap.ui.core.InvisibleText());t.setAggregation("_attributesLabeledByText",new sap.ui.core.InvisibleText());t.setAggregation("_expandStateLabeledByText",new sap.ui.core.InvisibleText());},renderer:function(r,C){C._renderer(r);},_renderer:function(r){this._registerItemPressHandler();this._resetPrecalculatedValues();this._renderContainer(r);this._renderAccessibilityInformation(r);},_renderContainer:function(r){var t=this;r.write("<div");r.writeControlData(t);r.addClass("sapUshellSearchResultListItem-Container");if(t.getImageUrl()){r.addClass("sapUshellSearchResultListItem-WithImage");}if(t.getImageFormat()&&t.getImageFormat().toLowerCase()==="documentthumbnail"){r.addClass("sapUshellSearchResultListItem-Document");}r.writeClasses();r.write(">");t._renderContentContainer(r);t._renderExpandButtonContainer(r);r.write("</div>");},_renderContentContainer:function(r){r.write('<div class="sapUshellSearchResultListItem-Content">');this._renderTitleContainer(r);this._renderAttributesContainer(r);r.write("</div>");},_renderExpandButtonContainer:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItem-ExpandButtonContainer">');r.write('<div class="sapUshellSearchResultListItem-ExpandButton">');var i,d;var g=t.getProperty("expanded");if(g){i=sap.ui.core.IconPool.getIconURI("slim-arrow-up");d=sap.ushell.resources.i18n.getText("hideDetailBtn_tooltip");}else{i=sap.ui.core.IconPool.getIconURI("slim-arrow-down");d=sap.ushell.resources.i18n.getText("showDetailBtn_tooltip");}var h=t.getAggregation("_expandButton");h.setIcon(i);h.setTooltip(d);h.addEventDelegate({onAfterRendering:function(){t.setAriaExpandedState();}});r.renderControl(h);r.write("</div>");r.write("</div>");},_renderTitleContainer:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItem-TitleAndImageContainer">');r.write('<div class="sapUshellSearchResultListItem-TitleContainer">');t._renderCheckbox(r);var d="";var g;var h=t.getAggregation("_titleLink");var i=t.getTitle();if(!i||i.trim().length===0){i=n;}else{var j=t.getTitleNavigation();if(j){d=j.getHref();g=j.getTarget();}h.setHref(d);if(g){h.setTarget(g);}}h.setText(i);if(d.length===0){h.setEnabled(false);}h.addEventDelegate({onAfterRendering:function(){t.forwardEllipsis($(h.getDomRef()));}});r.renderControl(h);var k=t.getTitleDescription();if(k&&k.trim().length>0){var l=t.getAggregation("_titleLinkDescription");l.setText(k);r.renderControl(l);}var m=t.getAggregation("_titleDelimiter");r.renderControl(m);if(!t.getModel().config._eshClickableObjectType||t.getModel().getDataSource()===t.getDataSource()){var o=t.getAggregation("_typeText");o.setText(t.getType());r.renderControl(o);}else{var p=this.getModel().getProperty("/uiFilter").clone();p.setDataSource(t.getDataSource());var q=t.getModel().searchUrlParser.renderFromParameters(this.getModel().boTopDefault,p,true);var s=t.getAggregation("_typeLink");s.setText(t.getType());s.setHref(q);s.setTooltip(sap.ushell.resources.i18n.getText("searchInDataSourceTooltip",[t.getDataSource().labelPlural]));r.renderControl(t.getAggregation("_typeLinkAriaDescription"));r.renderControl(s);}r.write("</div>");t._renderImageForPhone(r);r.write("</div>");},_renderCheckbox:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItem-CheckboxExpandContainer">');r.write('<div class="sapUshellSearchResultListItem-CheckboxContainer">');r.write('<div class="sapUshellSearchResultListItem-CheckboxAlignmentContainer">');var d=t.getAggregation("_selectionCheckBox");var s=t.getProperty("selected");d.setSelected(s);r.renderControl(d);r.write("</div>");r.write("</div>");r.write("</div>");},_renderImageForPhone:function(r){var t=this;if(t.getImageUrl()){r.write('<div class="sapUshellSearchResultListItem-TitleImage');if(this.getImageFormat()==="round"){r.write(" sapUshellSearchResultListItem-ImageContainerRound");}r.write('">');r.write('<div class="sapUshellSearchResultListItem-ImageContainerAlignmentHelper"></div>');r.write('<img class="sapUshellSearchResultListItem-Image" src="');r.write(t.getImageUrl());r.write('">');r.write("</div>");}},_renderImageForDocument:function(r){var t=this;if(t.getImageFormat()&&t.getImageFormat().toLowerCase()==="documentthumbnail"){var i=this.getImageNavigation();var d=i?i.getHref():"";var g,h;if(d&&d.length>0){g='<a href="'+d+'"';h="</a>";}else{g="<div";h="</div>";}r.write('<div class="sapUshellSearchResultListItem-DocumentThumbnailContainer">');r.write(g+' class="sapUshellSearchResultListItem-DocumentThumbnailBorder">');r.write('<div class="sapUshellSearchResultListItem-DocumentThumbnail-DogEar"></div>');var z=new sap.ui.core.Icon({src:sap.ui.core.IconPool.getIconURI("search"),useIconTooltip:false});z.addStyleClass("sapUshellSearchResultListItem-DocumentThumbnailZoomIcon");r.renderControl(z);var j=t.getImageUrl();if(j&&j.length>0){r.write('<img class="sapUshellSearchResultListItem-DocumentThumbnail" src="');r.write(t.getImageUrl());r.write('">');}r.write(h);r.write("</div>");}},_cutDescrAttributeOutOfAttributeList:function(){var d=this.getAttributes();for(var i=0;i<d.length;i++){var g=d[i];if(g.longtext){d.splice(i,1);this.setAttributes(d);return g;}}return undefined;},_renderMultiLineDescription:function(r){var t=this;if(t.getImageFormat()&&t.getImageFormat().toLowerCase()==="documentthumbnail"){var d=this._cutDescrAttributeOutOfAttributeList();if(d&&d.value&&d.value.length>0){var g;if(this._isTweet(d)){g=t.getAggregation("_multiLineDescriptionTweet");}else{g=t.getAggregation("_multiLineDescriptionText");}g.setText(d.value);if(d.whyfound){g.data("ishighlighted","true",true);}else{g.data("ishighlighted","false",true);}if(d.valueWithoutWhyfound){var h=new sap.ui.core.InvisibleText({});h.setText(d.valueWithoutWhyfound);g.data("tooltippedBy",h.getId(),true);g.addEventDelegate({onAfterRendering:function(){var i=$(g.getDomRef());i.attr("aria-describedby",i.attr("data-tooltippedby"));}});t.addAggregation("_attributeValuesWithoutWhyfoundHiddenTexts",h,true);r.renderControl(h);}r.renderControl(g);}else{r.write('<div class="sapUshellSearchResultListItem-MultiLineDescription"></div>');}}},_renderAttributesContainer:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItem-AttributesExpandContainer');var d=t.getProperty("expanded");if(d){r.write(" sapUshellSearchResultListItem-AttributesExpanded");}r.write('">');r.write('<div class="sapUshellSearchResultListItem-AttributesAndActions">');t._renderImageForDocument(r);t._renderMultiLineDescription(r);r.write('<ul class="sapUshellSearchResultListItem-Attributes">');var i=t.getAttributes();t._renderImageAttribute(r,(i.length===0));t._renderAllAttributes(r,i);r.write('<li class="sapUshellSearchResultListItem-ExpandSpacerAttribute" aria-hidden="true"></li>');r.write("</ul>");t._renderRelatedObjectsToolbar(r);r.write("</div>");r.write("</div>");},_renderAllAttributes:function(r,d){var t=this;if(d.length===0){r.write("<li");r.write("class=\"sapUshellSearchResultListItem-GenericAttribute sapUshellSearchResultListItem-MainAttribute sapUshellSearchResultListItem-EmptyAttributePlaceholder\"");r.write("aria-hidden=\"true\"");r.write("></li>");return;}var g;var l;var v;var h;var j,m,o;var p;var q=this.getLayoutCache()||{};this.setLayoutCache(q,true);if(!q.attributes){q.attributes={};}var i=0,k,s=0;var w=4;var x=3;var y=[0,0,0];var z=[0,0,0,0];var A=2;var B=2;var C;var D=t.getImageFormat()&&t.getImageFormat().toLowerCase()==="documentthumbnail";var E=t.getImageUrl()&&!D;if(D){w=x=2;y=z=[0,0];A=B=4;}var F=w*y.length;var G=x*z.length;if(E){F--;G--;y[0]++;z[0]++;}t.destroyAggregation("_attributeLabels");t.destroyAggregation("_attributeValues");t.destroyAggregation("_attributeValuesWithoutWhyfoundHiddenTexts");var H=function(N){return function(){var O=$(this.getDomRef());O.attr("aria-describedby",O.attr("data-tooltippedby"));}.bind(N);};for(;!(A<=0&&B<=0)&&i<d.length;i++){g=d[i];if(D&&s>=4){break;}if(g.isTitle){continue;}if(F<=0&&G<=0&&!g.whyfound){continue;}l=g.name;v=g.value;if(l===undefined||v===undefined){continue;}if(!v||v.trim().length===0){v=n;}if(g.longtext===undefined||g.longtext===null||g.longtext===""){o=false;}else{o=true;}h=g.valueWithoutWhyfound;var _=-1,I=-1,J={desktop:1,tablet:1};var K=q.attributes[g.key]||{};q.attributes[g.key]=K;r.write('<li class="sapUshellSearchResultListItem-GenericAttribute sapUshellSearchResultListItem-MainAttribute');if(o){C=K.longTextColumnNumber||t._howManyColumnsToUseForLongTextAttribute(h);K.longTextColumnNumber=C;J=C;r.write(" sapUshellSearchResultListItem-LongtextAttribute");}if(F<=0){if(g.whyfound&&A>0){r.write(" sapUshellSearchResultListItem-WhyFoundAttribute-Desktop");A--;}else{r.write(" sapUshellSearchResultListItem-DisplayNoneAttribute-Desktop");}}if(G<=0){if(g.whyfound&&B>0){r.write(" sapUshellSearchResultListItem-WhyFoundAttribute-Tablet");B--;}else{r.write(" sapUshellSearchResultListItem-DisplayNoneAttribute-Tablet");}}if(o&&E&&y[0]===1){I=0;C=K.longTextColumnNumber.desktop<w?K.longTextColumnNumber.desktop:w-1;y[0]+=C;F-=C;}else{for(k=0;k<y.length;k++){if(y[k]+J.desktop<=w){y[k]+=J.desktop;F-=J.desktop;I=k;break;}}}if(I<0){I=y.length;}if(o&&E&&z[0]===1){_=0;C=K.longTextColumnNumber.tablet<x?K.longTextColumnNumber.tablet:x-1;z[0]+=C;G-=C;}else{for(k=0;k<z.length;k++){if(z[k]+J.tablet<=x){z[k]+=J.tablet;G-=J.tablet;_=k;break;}}}if(_<0){_=z.length;}r.write(" sapUshellSearchResultListItem-OrderTablet-"+_);r.write(" sapUshellSearchResultListItem-OrderDesktop-"+I);r.write('"');if(o){r.write(' data-sap-searchresultitem-attributeweight-desktop="'+J.desktop+'"');r.write(' data-sap-searchresultitem-attributeweight-tablet="'+J.tablet+'"');}r.write(">");j=new sap.m.Label({displayOnly:true});j.setText(l);j.addStyleClass("sapUshellSearchResultListItem-AttributeKey");j.addStyleClass("sapUshellSearchResultListItem-MightOverflow");r.renderControl(j);r.write('<span class="sapUshellSearchResultListItem-AttributeValueContainer">');if(g.defaultNavigationTarget){m=new a();m.setHref(g.defaultNavigationTarget.getHref());m.setTarget(g.defaultNavigationTarget.getTarget());m.addStyleClass("sapUshellSearchResultListItem-AttributeLink");}else if(this._isTweet(g)){m=new b();}else{m=new S();}m.setText(v);m.addStyleClass("sapUshellSearchResultListItem-AttributeValue");m.addStyleClass("sapUshellSearchResultListItem-MightOverflow");if(g.whyfound){m.data("ishighlighted","true",true);m.addStyleClass("sapUshellSearchResultListItem-AttributeValueHighlighted");}if(o){m.data("islongtext","true",true);}if(h){p=new sap.ui.core.InvisibleText({});p.addStyleClass("sapUshellSearchResultListItem-AttributeValueContainer-HiddenText");p.setText(h);m.data("tooltippedBy",p.getId(),true);m.addEventDelegate({onAfterRendering:H(m)});t.addAggregation("_attributeValuesWithoutWhyfoundHiddenTexts",p,true);r.renderControl(p);}r.renderControl(m);r.write("</span>");r.write("</li>");t.addAggregation("_attributeLabels",j,true);t.addAggregation("_attributeValues",m,true);s++;}if(E){var L=w-y[0];var M=x-z[0];if(L>0||M>0){r.write('<li class="sapUshellSearchResultListItem-GenericAttribute sapUshellSearchResultListItem-MainAttribute');r.write(" sapUshellSearchResultListItem-OrderTablet-0 sapUshellSearchResultListItem-OrderDesktop-0");r.write('"');r.write(' data-sap-searchresultitem-attributeweight-desktop="'+L+'"');r.write(' data-sap-searchresultitem-attributeweight-tablet="'+M+'"');r.write("></li>");}}},_isTweet:function(i){var m=sap.ushell.renderers.fiori2.search.getModelSingleton();return m.config._tweetAttribute===i.key;},_howManyColumnsToUseForLongTextAttribute:function(d){if(d.length<50){return{tablet:1,desktop:1};}if(d.length<85){return{tablet:2,desktop:2};}if(d.length<135){return{tablet:3,desktop:3};}return{tablet:3,desktop:4};},_renderImageAttribute:function(r,i){var t=this;if(!t.getImageUrl()||t.getImageFormat()&&t.getImageFormat().toLowerCase()==="documentthumbnail"){return;}r.write('<li class="sapUshellSearchResultListItem-GenericAttribute sapUshellSearchResultListItem-ImageAttribute');if(i){r.write(" sapUshellSearchResultListItem-LonelyImageAttribute");}r.write('">');r.write('<div class="sapUshellSearchResultListItem-ImageContainer');if(this.getImageFormat()==="round"){r.write(" sapUshellSearchResultListItem-ImageContainerRound");}r.write('">');if(t.getImageUrl()){r.write('<img class="sapUshellSearchResultListItem-Image');if(this.getImageFormat()==="round"){}r.write('" src="');r.write(t.getImageUrl());r.write('">');}if(this.getImageFormat()!=="round"){r.write('<div class="sapUshellSearchResultListItem-ImageContainerAlignmentHelper"></div>');}r.write("</div>");r.write("</li>");},_renderRelatedObjectsToolbar:function(r){var t=this;var d=t.getNavigationObjects();if(!d||d.length===0){return;}t._showExpandButton=true;var g=t.getAggregation("_relatedObjectActionsToolbar");g.setProperty("navigationObjects",d);g.setProperty("positionInList",this.getPositionInList());r.renderControl(g);},_renderAccessibilityInformation:function(r){var t=this;var p=t.getProperty("parentListItem");if(p){t._renderAriaDescriptionElementForTitle(r,true,true);t._renderAriaDescriptionElementForAttributes(r,true);t._renderAriaDescriptionElementForCollapsedOrExpandedState(r,true);p.addEventDelegate({onAfterRendering:function(d){var g=$(p.getDomRef());t._addAriaDescriptionToParentListElement(p,true);g.on("focusin",function(d){var h=$(d.relatedTarget);if(h.hasClass("sapUshellSearchResultListItem")||h.closest(".sapUshellSearchResultListItemApps").length>0&&!h.hasClass("sapUshellResultListMoreFooter")){t._renderAriaDescriptionElementForTitle(r,false,false);t._renderAriaDescriptionElementForAttributes(r,false);t._renderAriaDescriptionElementForCollapsedOrExpandedState(r,false);t._addAriaDescriptionToParentListElement(p,false);}else{t._renderAriaDescriptionElementForTitle(r,true,false);t._renderAriaDescriptionElementForAttributes(r,false);t._renderAriaDescriptionElementForCollapsedOrExpandedState(r,false);t._addAriaDescriptionToParentListElement(p,true);}});},onsapspace:function(E){if(E.target===E.currentTarget){t.toggleDetails();}},onsapenter:function(E){if(E.target===E.currentTarget){var d=t.getTitleNavigation();if(d){d.performNavigation();}}}});}},getAccessibilityInfo:function(){var d={};if(sap.ui.core.Control.prototype.getAccessibilityInfo){d=sap.ui.core.Control.prototype.getAccessibilityInfo.apply(this,arguments)||d;}d.description="";return d;},_renderAriaDescriptionElementForTitle:function(r,w,d){var t=this;t._searchResultListPrefix=t._searchResultListPrefix||sap.ushell.resources.i18n.getText("result_list_announcement_screenreaders");var l=t.getTitle()+", "+t.getType()+".";if(w){l=t._searchResultListPrefix+" "+l;}var g=t.getAggregation("_titleLabeledByText");g.setText(l);if(d&&r){r.renderControl(g);}},_renderAriaDescriptionElementForAttributes:function(r,d){var t=this;var g=t.getAggregation("_attributesLabeledByText");var h=$(t.getDomRef()).find(".sapUshellSearchResultListItem-Attributes").find(".sapUshellSearchResultListItem-MainAttribute");var l;if(h.length===0){l=sap.ushell.resources.i18n.getText("result_list_item_aria_no_attributes");}else{l=sap.ushell.resources.i18n.getText("result_list_item_aria_has_attributes");h.each(function(){var i=$(this);if(i.is(":visible")&&i.attr("aria-hidden")!=="true"){var j=i.find(".sapUshellSearchResultListItem-AttributeKey").text();var k=i.find(".sapUshellSearchResultListItem-AttributeValueContainer");var m=k.find(".sapUshellSearchResultListItem-AttributeValueContainer-HiddenText");if(m.length===0){m=k.find(".sapUshellSearchResultListItem-AttributeValue");}var o=m.text();l+=sap.ushell.resources.i18n.getText("result_list_item_aria_attribute_and_value",[j,o]);}});}g.setText(l);if(d&&r){r.renderControl(g);}},_renderAriaDescriptionElementForCollapsedOrExpandedState:function(r,d){var t=this;var g=t.getAggregation("_expandStateLabeledByText");var l;var h=t.getAggregation("_expandButton");var i=$(h.getDomRef());if(i.css("visibility")!=="hidden"){if(t.isShowingDetails()){l=sap.ushell.resources.i18n.getText("result_list_item_aria_expanded");var j=this.getNavigationObjects();if(j&&j.length>0){l=sap.ushell.resources.i18n.getText("result_list_item_aria_has_links")+l;}}else{l=sap.ushell.resources.i18n.getText("result_list_item_aria_collapsed");}}g.setText(l);if(d&&r){r.renderControl(g);}},_addAriaDescriptionToParentListElement:function(p,i){var t=this.getAggregation("_titleLabeledByText");var d=t.getId();if(i){var g=this.getTotalCountHiddenElement();if(g){d+=" "+g.getId();}}var h=this.getAggregation("_attributesLabeledByText");d+=" "+h.getId();var j=this.getAggregation("_expandStateLabeledByText");d+=" "+j.getId();var k=$(p.getDomRef());k.attr("aria-labelledby",d);},_getExpandAreaObjectInfo:function(){var t=this;var r=$(t.getDomRef());r.addClass("sapUshellSearchResultListItem-AttributesPrepareExpansion");var d=r.find(".sapUshellSearchResultListItem-AttributesExpandContainer");var g=r.find(".sapUshellSearchResultListItem-RelatedObjectsToolbar");var h=false;if(g.css("display")==="none"){g.css("display","block");h=true;}var i=d.height();var j=r.find(".sapUshellSearchResultListItem-AttributesAndActions").height();r.removeClass("sapUshellSearchResultListItem-AttributesPrepareExpansion");if(h){g.css("display","");}var k=this._getElementsInExpandArea();var l=200;var m=l/10;var o={resultListItem:r,attributesExpandContainer:d,currentHeight:i,expandedHeight:j,elementsToFadeInOrOut:k,expandAnimationDuration:l,fadeInOrOutAnimationDuration:m,relatedObjectsToolbar:g};return o;},_getElementsInExpandArea:function(){var t=this;var d=$(t.getDomRef());var g=[];d.addClass("sapUshellSearchResultListItem-AttributesPrepareExpansion");var h=d.find(".sapUshellSearchResultListItem-GenericAttribute:not(.sapUshellSearchResultListItem-ImageAttribute)");if(h.length>0){var i=h.position().top;h.each(function(){if($(this).position().top>i||i===0){g.push(this);}});}d.removeClass("sapUshellSearchResultListItem-AttributesPrepareExpansion");return g;},isShowingDetails:function(){var d=this._getExpandAreaObjectInfo();if(d.currentHeight<d.expandedHeight){return false;}return true;},showDetails:function(d){var t=this;if(t.isShowingDetails()){return;}var g=this._getExpandAreaObjectInfo();g.relatedObjectsToolbar.css("opacity",0);g.relatedObjectsToolbar.css("display","block");var r=t.getAggregation("_relatedObjectActionsToolbar");if(r){r._layoutToolbarElements();}var C=".sapUshellSearchResultListItem-Title, .sapUshellSearchResultListItem-AttributeKey, .sapUshellSearchResultListItem-AttributeValueHighlighted";t.forwardEllipsis($(t.getDomRef()).find(C));$(t.getDomRef()).addClass("sapUshellSearchResultListItem-AttributesPrepareExpansion");var h,s=false;var i=g.attributesExpandContainer.animate({height:g.expandedHeight},{duration:g.expandAnimationDuration,progress:function(j,p,k){if(!s&&p>0.5){h=g.relatedObjectsToolbar.animate({opacity:1},k).promise();s=true;jQuery.when(i,h).done(function(){t.setProperty("expanded",true,true);$(this).addClass("sapUshellSearchResultListItem-AttributesExpanded");$(this).css("height","");$(g.elementsToFadeInOrOut).css("opacity","");$(t.getDomRef()).removeClass("sapUshellSearchResultListItem-AttributesPrepareExpansion");var l=sap.ui.core.IconPool.getIconURI("slim-arrow-up");var m=t.getAggregation("_expandButton");m.setTooltip(sap.ushell.resources.i18n.getText("hideDetailBtn_tooltip"));m.setIcon(l);m.rerender();g.relatedObjectsToolbar.css("display","");g.relatedObjectsToolbar.css("opacity","");t._renderAriaDescriptionElementForAttributes(undefined,false);t._renderAriaDescriptionElementForCollapsedOrExpandedState(undefined,false);}.bind(this));}}}).promise();$(g.elementsToFadeInOrOut).animate({opacity:1},g.fadeInOrOutAnimationDuration);},hideDetails:function(d){var t=this;var r=$(t.getDomRef());if(!t.isShowingDetails()){return;}var g=this._getExpandAreaObjectInfo();g.relatedObjectsToolbar.css("opacity",1);g.relatedObjectsToolbar.animate({opacity:0},g.expandAnimationDuration/2);var h=r.find(".sapUshellSearchResultListItem-MainAttribute").outerHeight(true)+r.find(".sapUshellSearchResultListItem-ExpandSpacerAttribute").outerHeight(true);var s=false;var i=g.attributesExpandContainer.animate({height:h},{duration:g.expandAnimationDuration,progress:function(j,p,k){if(!s&&k<=g.fadeInOrOutAnimationDuration){s=true;var l=$(g.elementsToFadeInOrOut).animate({opacity:0},g.fadeInOrOutAnimationDuration).promise();jQuery.when(i,l).done(function(){t.setProperty("expanded",false,true);g.attributesExpandContainer.removeClass("sapUshellSearchResultListItem-AttributesExpanded");$(g.elementsToFadeInOrOut).css("opacity","");g.relatedObjectsToolbar.css("opacity","");var m=sap.ui.core.IconPool.getIconURI("slim-arrow-down");var o=t.getAggregation("_expandButton");o.setTooltip(sap.ushell.resources.i18n.getText("showDetailBtn_tooltip"));o.setIcon(m);o.rerender();t._renderAriaDescriptionElementForAttributes(undefined,false);t._renderAriaDescriptionElementForCollapsedOrExpandedState(undefined,false);});}}}).promise();},toggleDetails:function(d){var g;var m=sap.ushell.renderers.fiori2.search.getModelSingleton();if(this.isShowingDetails()){g=m.eventLogger.ITEM_HIDE_DETAILS;this.hideDetails(d);}else{g=m.eventLogger.ITEM_SHOW_DETAILS;this.showDetails(d);}m.eventLogger.logEvent({type:g,itemPosition:this.getPositionInList(),executionId:this.getResultSetId()});},isSelectionModeEnabled:function(){var t=this;var i=false;var s=$(t.getDomRef()).find(".sapUshellSearchResultListItem-multiSelect-selectionBoxContainer");if(s){i=s.css("opacity")>0;}return i;},enableSelectionMode:function(d){var t=this;var s=$(t.getDomRef()).find(".sapUshellSearchResultListItem-multiSelect-innerContainer");var g=s.find(".sapUshellSearchResultListItem-multiSelect-selectionBoxContainer");var h=200;var i=false;s.animate({width:"2rem"},{duration:h,progress:function(j,p,r){if(!i&&p>0.5){g.css("display","");g.animate({opacity:"1.0"},h/2);i=true;}}});},disableSelectionMode:function(d){var t=this;var s=$(t.getDomRef()).find(".sapUshellSearchResultListItem-multiSelect-innerContainer");var g=s.find(".sapUshellSearchResultListItem-multiSelect-selectionBoxContainer");var h=200;g.animate({opacity:"0.0"},h/2,function(){g.css("display","none");});s.animate({width:"0"},h);},toggleSelectionMode:function(d){if(this.isSelectionModeEnabled()){this.disableSelectionMode(d);}else{this.enableSelectionMode(d);}},onAfterRendering:function(){var t=this;var d=$(t.getDomRef());t._showOrHideExpandButton();t._setListItemStatusBasedOnWindowSize();t._renderAriaDescriptionElementForTitle(undefined,false);t._renderAriaDescriptionElementForAttributes(undefined,false);t._renderAriaDescriptionElementForCollapsedOrExpandedState(undefined,false);t.forwardEllipsis(d.find(".sapUshellSearchResultListItem-Title, .sapUshellSearchResultListItem-AttributeKey, .sapUshellSearchResultListItem-AttributeValueHighlighted"));c.attachEventHandlersForTooltip(t.getDomRef());},resizeEventHappened:function(){var t=this;var d=$(t.getDomRef());t._showOrHideExpandButton();t._setListItemStatusBasedOnWindowSize();t.getAggregation("_titleLink").rerender();t.forwardEllipsis(d.find(".sapUshellSearchResultListItem-Title, .sapUshellSearchResultListItem-AttributeKey, .sapUshellSearchResultListItem-AttributeValueHighlighted"));},_getPhoneSize:function(){return 767;},_resetPrecalculatedValues:function(){this._visibleAttributes=undefined;this._detailsArea=undefined;this._showExpandButton=false;},_setListItemStatusBasedOnWindowSize:function(){var w=window.innerWidth;var p=this.getParentListItem();if(this.getTitleNavigation()&&w<=this._getPhoneSize()){p.setType(sap.m.ListType.Active);}else{p.setType(sap.m.ListType.Inactive);}},_showOrHideExpandButton:function(){var t=this;var d=$(t.getDomRef());var g=d.find(".sapUshellSearchResultListItem-ExpandButtonContainer");var i=g.css("visibility")!=="hidden";var s=false;var h=t.getImageFormat()&&t.getImageFormat().toLowerCase()==="documentthumbnail";if(!h){var j=d.find(".sapUshellSearchResultListItem-RelatedObjectsToolbar");s=j.length>0;}if(!h&&!s){var k=t._getElementsInExpandArea();if(k.length>0){s=true;}}if(i&&!s){g.css("visibility","hidden");g.attr("aria-hidden","true");t.setAriaExpandedState();}else if(!i&&s){g.css("visibility","");g.removeAttr("aria-hidden");t.setAriaExpandedState();}},setAriaExpandedState:function(){var t=this;var d=t.getAggregation("_expandButton");var g=$(d.getDomRef());var h=$(t.getDomRef());var i=t.getParentListItem()?$(t.getParentListItem().getDomRef()):h.closest("li");var j=h.find(".sapUshellSearchResultListItem-ExpandButtonContainer");if(j.css("visibility")==="hidden"){g.removeAttr("aria-expanded");i.removeAttr("aria-expanded");}else{var k=t.getProperty("expanded");if(k){g.attr("aria-expanded","true");i.attr("aria-expanded","true");}else{g.attr("aria-expanded","false");i.attr("aria-expanded","false");}}},_registerItemPressHandler:function(){var t=this;var p=t.getParentListItem();if(p){p.attachPress(function(d){t._performTitleNavigation();});t._registerItemPressHandler=function(){};}},_performTitleNavigation:function(p){var t=p&&p.trackingOnly||false;var d=this.getTitleNavigation();if(d){d.performNavigation({trackingOnly:t});}},forwardEllipsis:function(o){var g=$(this.getDomRef());g.addClass("sapUshellSearchResultListItem-AttributesPrepareExpansion");o.each(function(i,d){c.forwardEllipsis4Whyfound(d);});g.removeClass("sapUshellSearchResultListItem-AttributesPrepareExpansion");}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchResultListItemDocument',["sap/ushell/library","sap/ushell/renderers/fiori2/search/controls/SearchResultListItem","sap/ushell/renderers/fiori2/search/controls/SearchText","sap/ushell/renderers/fiori2/search/SearchHelper"],function(S,a,b){"use strict";var n="\u2013";return S.extend("sap.ushell.renderers.fiori2.search.controls.SearchResultListItemDocument",{renderer:function(r,c){c._renderer(r);},_renderContentContainer:function(r){r.write('<div class="sapUshellSearchResultListItem-Content">');this._renderTitleContainer(r);this._renderAttributesContainer(r);r.write("</div>");},_renderTitleContainer:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItem-TitleAndImageContainer">');r.write('<div class="sapUshellSearchResultListItem-TitleContainer">');t._renderCheckbox(r);var c=t.getAdditionalParameters().titleUrl;var d=t.getAggregation("_titleLink");d.setHref(c);d.setText(t.getTitle());if(c.length===0){d.setEnabled(false);}r.renderControl(d);var e=t.getAggregation("_typeText");e.setText(t.getType());r.renderControl(e);r.write("</div>");t._renderImageForPhone(r);r.write("</div>");},_renderAttributesContainer:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItemDoc-AttributesExpandContainer');var e=t.getProperty("expanded");if(e){r.write(" sapUshellSearchResultListItem-AttributesExpanded");}r.write('">');r.write('<div class="sapUshellSearchResultListItem-AttributesAndActions">');r.write('<ul class="sapUshellSearchResultListItem-Attributes">');this._renderThumbnailSnippetContainer(r);this._renderDocAttributesContainer(r);r.write('<div class="sapUshellSearchResultListItem-ExpandSpacerAttribute" aria-hidden="true"></div>');r.write("</ul>");t._renderRelatedObjectsToolbar(r);r.write("</div>");r.write("</div>");},_renderThumbnailContainer:function(r){var t=this;if(!t.getImageUrl()){return;}if(t.getContainsThumbnail()===true){r.write('<div class="sapUshellSearchResultListItemDoc-ThumbnailContainer">');r.write('<div class="sapUshellSearchResultListItemDoc-ThumbnailContainerInner">');var z=new sap.ui.core.Icon({src:sap.ui.core.IconPool.getIconURI("search"),useIconTooltip:false});if(t.getContainsSuvFile()===true){var p=function(){b.openURL(t.getSuvlink(),"_blank");};z.attachPress(p);}z.addStyleClass("sapUshellSearchResultListItemDoc-ThumbnailZoomIcon");r.renderControl(z);if(t.getContainsSuvFile()===true){r.write('<a target="_blank" href="'+t.getSuvlink()+'" rel="noopener noreferrer">');}else{r.write('<a target="_blank" rel="noopener noreferrer">');}r.write('<img class="sapUshellSearchResultListItemDoc-Thumbnail" src="');r.write(t.getImageUrl());r.write("</a>");r.write("</div>");r.write("</div>");}else{r.write('<div class="sapUshellSearchResultListItemDoc-ThumbnailContainer-hidden">');r.write("</div>");}},_renderImageForPhone:function(r){var t=this;if(t.getImageUrl()&&t.getContainsThumbnail()===true){r.write('<div class="sapUshellSearchResultListItem-TitleImage">');r.write('<div class="sapUshellSearchResultListItem-ImageContainerAlignmentHelper"></div>');r.write('<img class="sapUshellSearchResultListItem-Image" src="');r.write(t.getImageUrl());r.write('">');r.write("</div>");}},_renderDocAttributesContainer:function(r){r.write('<div class="sapUshellSearchResultListItemDoc-AttributesContainer">');var i=this.getAttributes();this._renderAllAttributes(r,i);r.write("</div>");},_renderThumbnailSnippetContainer:function(r){r.write('<div class="sapUshellSearchResultListItemDoc-ThumbnailSnippetContainer">');this._renderThumbnailContainer(r);this._renderSnippetContainer(r);r.write("</div>");},_renderSnippetContainer:function(r){var c=this.getAttributes();for(var i=0;i<c.length;i++){var d=c[i];if(d.longtext){var v=new a();v.setText(d.value);v.addStyleClass("sapUshellSearchResultListItemDoc-Snippet");r.renderControl(v);}}},_renderAllAttributes:function(r,c){var t=this;var d;var l;var v;var e;var p;var i=0,j=0,k=0;var f=8;if(t.getImageUrl()){f--;}var g=function(h){var m;for(var i=0;i<h.length;i++){m=h[i];if(m.key==="FILE_PROPERTY"&&m.value){return true;}}return false;};var C=g(c);t.destroyAggregation("_attributeValues");for(;j<f&&i<c.length;i++){d=c[i];if(d.isTitle||d.longtext){continue;}if(C===true&&d.key!=="FILE_PROPERTY"){continue;}if(!d.value){continue;}if(C===true){var F=JSON.parse(d.value);for(;k<F.length&&k<10;k++){p=F[k];switch(p.type){case"date-time":var D=new Date(p.value);var o=sap.ui.core.format.DateFormat.getDateTimeInstance({style:"medium"},sap.ui.getCore().getConfiguration().getLocale());v=o.format(D);break;case"byte":v=b.formatFileSize(Number(p.value));break;case"integer":v=b.formatInteger(Number(p.value));break;default:v=p.value;}l=p.category+": "+p.name;if(v===undefined){continue;}if(!v||v===""){v=n;}e=new a();e.setText(v);e.addStyleClass("sapUshellSearchResultListItemDoc-AttributeValue");e.addStyleClass("sapUshellSearchResultListItem-MightOverflow");r.renderControl(e);t.addAggregation("_attributeValues",e,true);}}else{l=d.name;v=d.value;if(l===undefined||v===undefined){continue;}if(!v||v===""){v=n;}e=new a();e.setText(v);e.addStyleClass("sapUshellSearchResultListItemDoc-AttributeValue");e.addStyleClass("sapUshellSearchResultListItem-MightOverflow");r.renderControl(e);t.addAggregation("_attributeValues",e,true);}j++;}},_getExpandAreaObjectInfo:function(){var t=this;var r=$(t.getDomRef());var c=r.find(".sapUshellSearchResultListItemDoc-AttributesExpandContainer");var d=r.find(".sapUshellSearchResultListItem-RelatedObjectsToolbar");var e=false;if(d.css("display")==="none"){d.css("display","block");e=true;}var f=c.height();var g=r.find(".sapUshellSearchResultListItem-AttributesAndActions").height();if(e){d.css("display","");}var h=[];r.find(".sapUshellSearchResultListItem-GenericAttribute").each(function(){var l=$(this);if(l.css("order")>2){h.push(this);}});var i=200;var j=i/10;var k={resultListItem:r,attributesExpandContainer:c,currentHeight:f,expandedHeight:g,elementsToFadeInOrOut:h,expandAnimationDuration:i,fadeInOrOutAnimationDuration:j,relatedObjectsToolbar:d};return k;},hideDetails:function(c){var t=this;var r=$(t.getDomRef());if(!t.isShowingDetails()){return;}var e=this._getExpandAreaObjectInfo();var d=r.find(".sapUshellSearchResultListItem-Attributes").outerHeight(true);var s=false;var f=e.attributesExpandContainer.animate({height:d},{duration:e.expandAnimationDuration,progress:function(g,p,h){if(!s&&h<=e.fadeInOrOutAnimationDuration){s=true;var i=$(e.elementsToFadeInOrOut).animate({opacity:0},e.fadeInOrOutAnimationDuration).promise();jQuery.when(f,i).done(function(){t.setProperty("expanded",false,true);e.attributesExpandContainer.removeClass("sapUshellSearchResultListItem-AttributesExpanded");$(e.elementsToFadeInOrOut).css("opacity","");var j=sap.ui.core.IconPool.getIconURI("slim-arrow-down");var k=t.getAggregation("_expandButton");k.setTooltip(sap.ushell.resources.i18n.getText("showDetailBtn_tooltip"));k.setIcon(j);k.rerender();});}}}).promise();}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchResultListItemNote',["sap/ushell/library","sap/ushell/renderers/fiori2/search/controls/SearchResultListItem","sap/ushell/renderers/fiori2/search/controls/SearchText","sap/ushell/renderers/fiori2/search/SearchHelper"],function(u,S,a,b){"use strict";var n="\u2013";return S.extend("sap.ushell.renderers.fiori2.search.controls.SearchResultListItemNote",{renderer:function(r,c){c._renderer(r);},_renderContentContainer:function(r){r.write('<div class="sapUshellSearchResultListItem-Content">');this._renderTitleContainer(r);this._renderAttributesContainer(r);r.write("</div>");},_renderTitleContainer:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItem-TitleAndImageContainer">');r.write('<div class="sapUshellSearchResultListItem-TitleContainer">');t._renderCheckbox(r);var c=t.getTitleUrl();var d=t.getAggregation("_titleLink");d.setHref(c);d.setText(t.getTitle());if(c.length===0){d.setEnabled(false);}r.renderControl(d);var e=t.getAggregation("_typeText");e.setText(t.getType());r.renderControl(e);r.write("</div>");t._renderImageForPhone(r);r.write("</div>");},_renderAttributesContainer:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItemDoc-AttributesExpandContainer');var e=t.getProperty("expanded");if(e){r.write(" sapUshellSearchResultListItem-AttributesExpanded");}r.write('">');r.write('<div class="sapUshellSearchResultListItem-AttributesAndActions">');r.write('<ul class="sapUshellSearchResultListItem-Attributes">');this._renderThumbnailSnippetContainer(r);this._renderDocAttributesContainer(r);r.write('<div class="sapUshellSearchResultListItem-ExpandSpacerAttribute" aria-hidden="true"></div>');r.write("</ul>");t._renderRelatedObjectsToolbar(r);r.write("</div>");r.write("</div>");},_renderImageForPhone:function(r){var t=this;if(t.getImageUrl()&&t.getContainsThumbnail()===true){r.write('<div class="sapUshellSearchResultListItem-TitleImage">');r.write('<div class="sapUshellSearchResultListItem-ImageContainerAlignmentHelper"></div>');r.write('<img class="sapUshellSearchResultListItem-Image" src="');r.write(t.getImageUrl());r.write('">');r.write("</div>");}},_renderDocAttributesContainer:function(r){r.write('<div class="sapUshellSearchResultListItemNote-AttributesContainer">');var i=this.getAttributes();this._renderAllAttributes(r,i);r.write("</div>");},_renderThumbnailSnippetContainer:function(r){r.write('<div class="sapUshellSearchResultListItemNote-ThumbnailSnippetContainer">');this._renderSnippetContainer(r);r.write("</div>");},_renderSnippetContainer:function(r){var c=this.getAttributes();for(var i=0;i<c.length;i++){var d=c[i];if(d.longtext){var v=new a();v.setText(d.value);v.addStyleClass("sapUshellSearchResultListItemDoc-Snippet");r.renderControl(v);}}},_renderAllAttributes:function(r,c){var t=this;var d;var l;var v;var e;var i=0,j=0;var f=4;if(t.getImageUrl()){f--;}t.destroyAggregation("_attributeValues");for(;j<f&&i<c.length;i++){d=c[i];if(d.isTitle||d.longtext){continue;}if(!d.value){continue;}l=d.name;v=d.value;if(l===undefined||v===undefined){continue;}if(!v||v===""){v=n;}e=new a();e.setText(v);e.addStyleClass("sapUshellSearchResultListItemNote-AttributeValue");e.addStyleClass("sapUshellSearchResultListItem-MightOverflow");r.renderControl(e);t.addAggregation("_attributeValues",e,true);j++;}},_getExpandAreaObjectInfo:function(){var t=this;var r=$(t.getDomRef());var c=r.find(".sapUshellSearchResultListItemDoc-AttributesExpandContainer");var d=r.find(".sapUshellSearchResultListItem-RelatedObjectsToolbar");var e=false;if(d.css("display")==="none"){d.css("display","block");e=true;}var f=c.height();var g=r.find(".sapUshellSearchResultListItem-AttributesAndActions").height();if(e){d.css("display","");}var h=[];r.find(".sapUshellSearchResultListItem-GenericAttribute").each(function(){var l=$(this);if(l.css("order")>2){h.push(this);}});var i=200;var j=i/10;var k={resultListItem:r,attributesExpandContainer:c,currentHeight:f,expandedHeight:g,elementsToFadeInOrOut:h,expandAnimationDuration:i,fadeInOrOutAnimationDuration:j,relatedObjectsToolbar:d};return k;},hideDetails:function(c){var t=this;var r=$(t.getDomRef());if(!t.isShowingDetails()){return;}var e=this._getExpandAreaObjectInfo();var d=r.find(".sapUshellSearchResultListItem-Attributes").outerHeight(true);var s=false;var f=e.attributesExpandContainer.animate({height:d},{duration:e.expandAnimationDuration,progress:function(g,p,h){if(!s&&h<=e.fadeInOrOutAnimationDuration){s=true;var i=$(e.elementsToFadeInOrOut).animate({opacity:0},e.fadeInOrOutAnimationDuration).promise();jQuery.when(f,i).done(function(){t.setProperty("expanded",false,true);e.attributesExpandContainer.removeClass("sapUshellSearchResultListItem-AttributesExpanded");$(e.elementsToFadeInOrOut).css("opacity","");var j=sap.ui.core.IconPool.getIconURI("slim-arrow-down");var k=t.getAggregation("_expandButton");k.setTooltip(sap.ushell.resources.i18n.getText("showDetailBtn_tooltip"));k.setIcon(j);k.rerender();});}}}).promise();}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchResultListSelectionHandler',['sap/ui/base/Object'],function(){"use strict";return sap.ui.base.Object.extend("sap.ushell.renderers.fiori2.search.controls.SearchResultListSelectionHandler",{isMultiSelectionAvailable:function(d){return false;},actionsForDataSource:function(d){return[];}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchResultListSelectionHandlerNote',['./SearchResultListSelectionHandler'],function(S){"use strict";return S.extend("sap.ushell.renderers.fiori2.search.controls.SearchResultListSelectionHandlerNote",{isMultiSelectionAvailable:function(d){return true;},actionsForDataSource:function(d){var a=[{text:"Show Selected Items",action:function(s){var m="No Items were selected!";if(s.length>0){m="Following Items were selected:";for(var i=0;i<s.length;i++){m+="\n"+s[i].title;}}sap.m.MessageBox.show(m,{icon:sap.m.MessageBox.Icon.INFORMATION,title:"I'm a Custom Action for testing Multi-Selection",actions:[sap.m.MessageBox.Action.OK]});}}];return a;}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchResultMap',["sap/ushell/library","sap/ushell/renderers/fiori2/search/SearchConfiguration","sap/base/Log"],function(u,S,L){"use strict";return sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchResultMap",{teststring:"",ContainerContent:null,MapContainer:null,minLat:0,minLon:0,maxLat:0,maxLon:0,centerLat:0,centerLon:0,iNrLocations:0,myMap:null,myMapContainer:null,metadata:{aggregations:{_map:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}}},init:function(){var t=this;var m={MapProvider:[{name:"OPENSTREETMAP",type:"",description:"",tileX:"256",tileY:"256",maxLOD:"19",copyright:"© openstreetmap",Source:[{id:"s1",url:"http://a.tile.openstreetmap.org/{LOD}/{X}/{Y}.png"},{id:"s2",url:"http://b.tile.openstreetmap.org/{LOD}/{X}/{Y}.png"},{id:"s3",url:"http://c.tile.openstreetmap.org/{LOD}/{X}/{Y}.png"}]}],MapLayerStacks:[{name:"DEFAULT",MapLayer:{name:"Open Street Map Layer",refMapProvider:"OPENSTREETMAP",opacity:"1",colBkgnd:"RGB(255,255,255)"}}]};try{jQuery.sap.require("sap.ui.vk.MapContainer","sap.ui.vk.ContainerContent");t.MapContainer=sap.ui.vk.MapContainer;t.ContainerContent=sap.ui.vk.ContainerContent;}catch(e){}var a=S.getInstance().mapProvider;if(a!==undefined&&typeof(a)==="object"&&a.name&&a.name.length>0){m.MapProvider.push(a);m.MapLayerStacks[0].MapLayer.refMapProvider=a.name;}t.geoMap=new sap.ui.vbm.GeoMap("sapUshellSearchGeoMap",{legendVisible:false,scaleVisible:false,refMapLayerStack:"DEFAULT",mapConfiguration:m});if(t.MapContainer&&t.ContainerContent){var c=new t.ContainerContent({content:t.geoMap});this.myMapContainer=new t.MapContainer({content:[c],showRectangularZoom:true,showHome:true,showFullScreen:false,showSettings:false,showSelection:false});t.myMap=t.myMapContainer.getContent()[0].getAggregation("content");t.setAggregation("_map",this.myMapContainer);}else{t.setAggregation("_map",t.geoMap);t.myMap=t.getAggregation("_map");}},renderer:function(r,c){c.loadObjects(c);r.write("<div ");r.writeControlData(c);r.addClass("sapUshellSearchResultMap");r.writeClasses();r.write(">");if(c.MapContainer){r.renderControl(c.myMapContainer);}else{r.renderControl(c.myMap);}r.write("</div>");},deg2rad:function(d){return Math.PI*d/180;},getSpotList:function(){var t=this;var s=new sap.ui.vbm.Containers();var r=t.getModel().oData.boResults;var n=0;var R,l,T,c,a,b,d,m,e,f,g,i;for(i=0;i<r.length;i++){R=r[i];l={};if(!R.geoJson){continue;}if(typeof R.geoJson.value==="string"){l=JSON.parse(R.geoJson.value);}else{l.coordinates=R.geoJson.value.coordinates;}T=R.geoJson.label;if(T==="LOC_4326"||T==="LOCATION"||T===undefined){T=R.title;}if(T==="LOC_4326"||T==="LOCATION"||T===undefined){for(var j=0;j<R.itemattributes.length;j++){if(R.itemattributes[j].isTitle===true){T=R.itemattributes[j].value;break;}}}if(T===undefined||typeof T!=="string"){T="unlabeled location";}else{T=T.replace(/<[^>]*>/g,"");}c=l.coordinates;if(!c||c.length===0){continue;}a=c[0];b=c[1];if(isNaN(b)||isNaN(a)){continue;}n++;if(n===1){m=a;e=a;f=b;g=b;}else{if(a<m){m=a;}if(a>e){e=a;}if(b<f){f=b;}if(b>g){g=b;}}t.minLon=m;t.maxLon=e;t.minLat=f;t.maxLat=g;var o=new sap.m.Button({text:T});var B=new sap.m.Button({icon:"sap-icon://map",type:sap.m.ButtonType.Emphasized});var h=new sap.ui.layout.HorizontalLayout({content:[B,o]});d=new sap.ui.vbm.Container({position:a+";"+b+";0",item:h,alignment:6});s.addItem(d);}t.iNrLocations=n;if(n===0){s=t.getSpotList2();}return s;},getSpotList2:function(c){var t=this;var r=t.getModel().oData.origBoResults.elements;var R,l,T,C,a,b,s;var d=new sap.ui.vbm.Containers();var n=0;var m,f,g,h;var i=0;for(var k in r){if(!r.hasOwnProperty(k)){continue;}R=r[k];if(!R.LOC_4326){continue;}l=R.LOC_4326;for(var o in R){if(!R.hasOwnProperty(o)){continue;}var A=R[o];T="";var p=false;if(A.$$MetaData$$){var q=A.$$MetaData$$.presentationUsage;if(q&&typeof q.length!=="undefined"){for(var j=0;j<q.length;j++){if(q[j]=="Title"){T=A.value;T=T.replace(/<[^>]*>/g,"");p=true;break;}}}}if(p){break;}}C=null;try{C=JSON.parse(l.value).coordinates;}catch(e){}if(!C||C.length===0){continue;}n++;a=C[0];b=C[1];if(isNaN(b)||isNaN(a)){continue;}i++;if(i===1){m=a;f=a;g=b;h=b;}else{if(a<m){m=a;}if(a>f){f=a;}if(b<g){g=b;}if(b>h){h=b;}}t.minLon=m;t.maxLon=f;t.minLat=g;t.maxLat=h;var v=new sap.m.Button({text:T});var B=new sap.m.Button({icon:"sap-icon://map",type:sap.m.ButtonType.Emphasized});var w=new sap.ui.layout.HorizontalLayout({content:[B,v]});s=new sap.ui.vbm.Container({position:a+";"+b+";0",item:w,alignment:6});d.addItem(s);}t.iNrLocations=n;return d;},loadObjects:function(c){var t=this;var s=t.getSpotList();L.debug("++++++");L.debug("number of locations: "+t.iNrLocations);t.myMap.removeAllVos();t.myMap.addVo(s);var p=S.prototype.parseUrlParameters();for(var a in p){if(a==="box"&&p[a]!=="false"){t.showBoundariesAndCenter();}}},setVisualFrame:function(){var t=this;var v={};v.minLon=t.minLon*0.5;v.maxLon=t.maxLon*1.2;v.minLat=t.minLat*0.8;v.maxLat=t.maxLat*1.2;t.myMap.setVisualFrame(v);},showBoundariesAndCenter:function(){var t=this;var c=new sap.ui.vbm.Spots({items:[new sap.ui.vbm.Spot({type:"Error",text:"center",position:(t.centerLon+" ;  "+t.centerLat+";0")}),new sap.ui.vbm.Spot({type:"Error",text:"TLeft",position:(t.minLon+" ;  "+t.maxLat+";0")}),new sap.ui.vbm.Spot({type:"Error",text:"TRight",position:(t.maxLon+" ;  "+t.maxLat+";0")}),new sap.ui.vbm.Spot({type:"Error",text:"BLeft",position:(t.minLon+" ;  "+t.minLat+";0")}),new sap.ui.vbm.Spot({type:"Error",text:"BRight",position:(t.maxLon+" ;  "+t.minLat+";0")})]});t.myMap.addVo(c);},resizeMap:function(e){var h=$(".sapUshellSearchResultListsContainer").parent().parent().height();h=0.85*h;h=""+h+"px";sap.ui.getCore().byId("sapUshellSearchGeoMap").setHeight(h);var w=$(".sapUshellSearchResultListsContainer").parent().parent().width();w=""+w+"px";sap.ui.getCore().byId("sapUshellSearchGeoMap").setWidth(w);},onAfterRendering:function(e){var t=this;t.resizeMap();window.onresize=t.resizeMap;}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchResultTable',['sap/ushell/renderers/fiori2/search/SearchHelper'],function(S){"use strict";return sap.m.Table.extend('sap.ushell.renderers.fiori2.search.controls.SearchResultTable',{renderer:'sap.m.TableRenderer',onAfterRendering:function(){S.attachEventHandlersForTooltip(this.getDomRef());}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchSelect',['sap/m/Select'],function(){"use strict";return sap.m.Select.extend('sap.ushell.renderers.fiori2.search.controls.SearchSelect',{constructor:function(i,o){o=jQuery.extend({},{visible:"{/businessObjSearchEnabled}",autoAdjustWidth:true,items:{path:"/dataSources",template:new sap.ui.core.Item({key:"{id}",text:"{labelPlural}"})},selectedKey:{path:'/uiFilter/dataSource/id',mode:sap.ui.model.BindingMode.OneWay},tooltip:sap.ushell.resources.i18n.getText("searchIn")+" {/uiFilter/dataSource/labelPlural}",change:function(e){var a=this.getSelectedItem();var c=a.getBindingContext();var d=c.getObject();this.getModel().setDataSource(d,false);this.getModel().abortSuggestions();this.getModel().eventLogger.logEvent({type:this.getModel().eventLogger.DROPDOWN_SELECT_DS,dataSourceId:d.id});},enabled:{parts:[{path:"/initializingObjSearch"}],formatter:function(a){return!a;}}},o);sap.m.Select.prototype.constructor.apply(this,[i,o]);this.addStyleClass('searchSelect');},renderer:'sap.m.SelectRenderer',setDisplayMode:function(m){switch(m){case'icon':this.setType(sap.m.SelectType.IconOnly);this.setIcon('sap-icon://slim-arrow-down');break;case'default':this.setType(sap.m.SelectType.Default);break;default:break;}}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchSpreadsheet',["sap/ui/core/mvc/Controller",'sap/ushell/renderers/fiori2/search/SearchResultListFormatter',"sap/ui/export/Spreadsheet"],function(C,S,c){"use strict";return C.extend("sap.ui.export.sample.table.Spreadsheet",{onExport:function(){var t=this;t.exportData={columns:[],rows:[]};if(t.table===undefined){t.table=sap.ui.getCore().byId('ushell-search-result-table');t.model=t.table.getModel();}sap.ui.getCore().byId('dataExportButton').setEnabled(false);var e=t.model.query.clone();e.setCalculateFacets(false);e.setTop(1000);var s=function(b){t._parseColumns(b.items[0]);var f=new S();var d=f.format(b,e.filter.searchTerm,{suppressHighlightedValues:true});for(var i=0;i<d.length;i++){b.items[i].title=d[i].title;b.items[i].titleDescription=d[i].titleDescription;}t._parseRows(b.items);t._doExport();};var a=function(b){t.model.normalSearchErrorHandling(b);sap.ui.getCore().byId('dataExportButton').setEnabled(true);t.model.setProperty("/isBusy",false);};if(t.model.getProperty("/boCount")>1000){sap.m.MessageBox.information(sap.ushell.resources.i18n.getText("exportDataInfo"),{actions:[sap.m.MessageBox.Action.OK,sap.m.MessageBox.Action.CANCEL],onClose:function(A){if(A==sap.m.MessageBox.Action.OK){t.model.setProperty("/isBusy",true);e.getResultSetAsync().then(s,a);}if(A==sap.m.MessageBox.Action.CANCEL){sap.ui.getCore().byId('dataExportButton').setEnabled(true);t.model.setProperty("/isBusy",false);}}});}else{t.model.setProperty("/isBusy",true);e.getResultSetAsync().then(s,a);}},_parseColumns:function(f){var t=this;var e=[];var i;var d={label:f.dataSource.labelPlural,property:'title_export_column',type:'string'};var g="";f.titleDescriptionAttributes.forEach(function(a){g=g+a.label+" ";});g=g+"("+sap.ushell.resources.i18n.getText("titleDescription")+")";var h={label:g,property:'title_description_export_column',type:'string'};var j=[];for(i=0;i<f.detailAttributes.length;i++){if(f.detailAttributes[i].metadata.type!==t.model.sinaNext.AttributeType.ImageUrl){j.push(f.detailAttributes[i]);}}if(t.model.getProperty("/resultToDisplay")!=="searchResultTable"){e.push(d);if(f.titleDescriptionAttributes.length>0){e.push(h);}var l=0;for(i=0;i<j.length&&l<12;i++){e=e.concat(t._getRelatedColumns(j[i]));l++;}}else{var v=[];t.table.getColumns().forEach(function(a){if(a.getVisible()){v.push(a);}});v.sort(function(a,b){if(a.getOrder()<b.getOrder()){return-1;}if(a.getOrder()>b.getOrder()){return 1;}return 0;});v.forEach(function(a){var b=a.getBindingContext().getObject().attributeId;if(b==="SEARCH_TABLE_TITLE_COLUMN"){e.push(d);return;}if(b==="SEARCH_TABLE_TITLE_DESCRIPTION_COLUMN"){e.push(h);return;}for(var i=0;i<j.length;i++){if(b===j[i].id){e=e.concat(t._getRelatedColumns(j[i]));}}});}t.exportData.columns=e;},_getRelatedColumns:function(a){var t=this;var b=[];if(a.hasOwnProperty("value")){b.push(t._getColumn(a));if(a.unitOfMeasure){b.push(t._getColumn(a.unitOfMeasure));}if(a.description){b.push(t._getColumn(a.description));}}if(a.attributes&&a.attributes.length>0){for(var i=0;i<a.attributes.length;i++){var d=a.attributes[i].attribute;if(d&&d.label&&d.id){b.push(t._getColumn(d));}}}return b;},_getColumn:function(a){var t=this;var b={label:a.label,property:a.id};if(a.metadata.type===undefined){b.type='string';return b;}switch(a.metadata.type){case t.model.sinaNext.AttributeType.Double:b.type='number';b.scale=2;break;case t.model.sinaNext.AttributeType.Integer:b.type='number';b.scale=0;break;default:b.type='string';}return b;},_parseRows:function(s){var t=this;var e=[];s.forEach(function(r){var a=r.detailAttributes;var b={};b.title_export_column=r.title;if(r.titleDescriptionAttributes.length>0){b.title_description_export_column=r.titleDescription;}for(var i=0;i<a.length;i++){b=t._getRelatedValues(b,a[i]);}e.push(b);});t.exportData.rows=e;},_getRelatedValues:function(r,a){var t=this;if(a.value!==undefined&&a.valueFormatted!==undefined){if(t._isNumberType(a)){r[a.id]=a.value;}else{r[a.id]=a.valueFormatted;}if(a.unitOfMeasure){r[a.unitOfMeasure.id]=a.unitOfMeasure.value;}if(a.description){r[a.description.id]=a.description.value;}}if(a.attributes){for(var i=0;i<a.attributes.length;i++){var b=a.attributes[i].attribute;if(b&&b.id&&b.value!==undefined&&b.valueFormatted!==undefined){if(t._isNumberType(b)){r[b.id]=b.value;}else{r[b.id]=b.valueFormatted;}}}}return r;},_isNumberType:function(a){var i=false;if(a.metadata&&a.metadata.type){if(a.metadata.type===this.model.sinaNext.AttributeType.Double||a.metadata.type===this.model.sinaNext.AttributeType.Integer){i=true;}}return i;},_doExport:function(){var t=this;var s={workbook:{columns:t.exportData.columns},fileName:sap.ushell.resources.i18n.getText("exportFileName"),dataSource:t.exportData.rows};new c(s).build().then(function(){sap.ui.getCore().byId('dataExportButton').setEnabled(true);t.model.setProperty("/isBusy",false);},function(){sap.ui.getCore().byId('dataExportButton').setEnabled(true);t.model.setProperty("/isBusy",false);});}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchText',['sap/ushell/renderers/fiori2/search/SearchHelper'],function(S){"use strict";return sap.m.Text.extend('sap.ushell.renderers.fiori2.search.controls.SearchText',{renderer:'sap.m.TextRenderer',onAfterRendering:function(){var d=this.getDomRef();S.boldTagUnescaper(d);}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchTileHighlighter',['sap/ushell/renderers/fiori2/search/SearchHelper'],function(H){"use strict";var T=H.Tester;var a=sap.ushell.renderers.fiori2.search.controls.SearchTileHighlighter=function(){this.init.apply(this,arguments);};a.prototype={init:function(){},setHighlightTerms:function(h){this.tester=new T(h,'sapUshellSearchHighlight',true,'or');},highlight:function(t){var n=t.getDomRef();if(!n){return;}var h=sap.ui.core.hyphenation.Hyphenation.getInstance();if(!h.isLanguageInitialized()){h.initialize().then(function(){this.doHighlight(n);}.bind(this));}else{this.doHighlight(n);}},doHighlight:function(n){if(n.nodeType===window.Node.TEXT_NODE){this.highlightTextNode(n);return;}for(var i=0;i<n.childNodes.length;++i){var c=n.childNodes[i];this.doHighlight(c);}},_softHyphenRegExp:new RegExp('[\u00ad]','g'),removeSoftHyphens:function(t){return t.replace(this._softHyphenRegExp,'');},highlightTextNode:function(n){var t=this.tester.test(this.removeSoftHyphens(n.textContent));if(!t.bMatch){return;}var s=document.createElement('span');s.innerHTML=jQuery.sap.encodeHTML(t.sHighlightedText);H.boldTagUnescaper(s,'sapUshellSearchHighlight');n.parentNode.insertBefore(s,n);n.parentNode.removeChild(n);}};return a;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchTilesContainer',["sap/ushell/library","sap/ushell/renderers/fiori2/search/controls/SearchTilesContainerKeyHandler","sap/ushell/renderers/fiori2/search/controls/SearchTileHighlighter","sap/ushell/renderers/fiori2/search/controls/SearchResultList","sap/m/Button","sap/ushell/Config"],function(u,K,T,S,B,C){"use strict";sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchTilesContainer",{metadata:{properties:{totalLength:{type:"int",defaultValue:0},maxRows:{type:"int",defaultValue:1},highlightTerms:{type:"string",defaultValue:""},enableKeyHandler:{type:"boolean",defaultValue:true},resultList:{type:"sap.ushell.renderers.fiori2.search.controls.SearchResultList"},addAccInformation:{type:"boolean",defaultValue:false}},aggregations:{tiles:{type:"sap.ui.core.Control",multiple:true}},events:{showMore:{}}},PHONE_SIZE_STYLE:"sapMTileSmallPhone",constructor:function(){sap.ui.core.Control.prototype.constructor.apply(this,arguments);if(this.getEnableKeyHandler()){this.addEventDelegate(new K(this));}this.tileHighlighter=new T();this._previousTabHandler={onsaptabprevious:function(e){var t;if(jQuery(this.control.getDomRef()).prop("tagName").toLowerCase()==="button"){t=this.control.getDomRef();}else{var b=jQuery(this.control.getDomRef()).find("[role='option']");if(b.length>0){t=b[0];}}if(e.isMarked()||!t||e.target!==t){return;}this.resultList.forwardTab(false);e.setMarked();}};},init:function(){sap.ui.core.Control.prototype.init.apply(this,arguments);sap.ui.getCore().getEventBus().subscribe("searchLayoutChanged",this.delayedRerender,this);this.sizeBehaviorDoable=C.on("/core/home/sizeBehavior").do(function(){this.delayedRerender();}.bind(this));},exit:function(){sap.ui.getCore().getEventBus().unsubscribe("searchLayoutChanged",this.delayedRerender,this);this.sizeBehaviorDoable.off();sap.ui.core.Control.prototype.exit.apply(this,arguments);},setHighlightTerms:function(t){this.setProperty("highlightTerms",t,true);},delayedRerender:function(){var t=this;setTimeout(function(){t.rerender();},0);},renderer:function(r,c){var a=c.getModel().getProperty("/appResults");if(!a||a.length===0){return;}r.write("<div");r.writeControlData(c);r.addClass("sapUshellSearchTileContainer");r.writeClasses();r.write(">");c.renderTiles(r,c);r.write("</div>");},logUsageAnalytics:function(t){var i,m,c;if(t.attachPress){t.attachPress(function(){m=sap.ushell.renderers.fiori2.search.getModelSingleton();m.eventLogger.logEvent({type:m.eventLogger.TILE_NAVIGATE,tileTitle:t.eventLoggingData.title,targetUrl:t.eventLoggingData.targetUrl});});return;}if(t&&t.getContent){c=t.getContent();if(c.length!==1){return;}i=c[0];if(!i.attachPress){return;}i.attachPress(function(){m=sap.ushell.renderers.fiori2.search.getModelSingleton();m.eventLogger.logEvent({type:m.eventLogger.TILE_NAVIGATE,tileTitle:t.eventLoggingData.title,targetUrl:t.eventLoggingData.targetUrl});});}},renderTiles:function(r,c){var t=c.getTiles();for(var i=0;i<t.length;i++){var a=t[i];c.logUsageAnalytics(a);c.registerAfterRenderingForTile(a);r.write("<div");r.addClass("sapUshellSearchTileWrapper");r.addClass("sapMGT");r.addClass("OneByOne");r.writeClasses();r.write(">");r.renderControl(a);r.write("</div>");a.addEventDelegate(this._previousTabHandler,{resultList:c.getResultList(),control:a});}c.renderPlusTile(r,c);c.tileHighlighter.setHighlightTerms(c.getHighlightTerms());},renderPlusTile:function(r,c){r.write("<div");r.addClass("sapUshellSearchTileWrapper");r.addClass("sapMGT");r.addClass("OneByOne");r.addClass("sapUshellSearchShowMoreTile");r.writeClasses();r.writeAttribute("style","display:none");r.write(">");var b=new sap.m.Button({text:sap.ushell.resources.i18n.getText("showMoreApps"),tooltip:sap.ushell.resources.i18n.getText("showMoreApps"),press:function(){c.fireShowMore();}});b.addEventDelegate(this._previousTabHandler,{resultList:c.getResultList(),control:b});b.addStyleClass("sapUshellSearchShowMoreTileButton");b.addStyleClass("sapMGT");b.addStyleClass("OneByOne");r.renderControl(b);r.write("</div>");},onAfterRendering:function(e){this.limitTileSize();while(this.getNumberRows()>this.getMaxRows()){this.removeLastTile();}var c=this.getDomRef();var n=c.children.length-1;if(this.getTotalLength()>n){this.makePlusTileVisible();this.cutAtRow();}else{c.removeChild(c.children.item(c.children.length-1));}this.getModel().getProperty("/appResults").forEach(function(a){if(a.tile&&typeof a.tile.refresh==="function"){a.tile.refresh();}});this.addAccessibilityInformation();},addAccessibilityInformation:function(){if(!this.getAddAccInformation()){return;}var c=this.getDomRef();var a=c.children;for(var i=0;i<a.length;++i){var b=a[i];var f=b.querySelector("[tabindex]");if(!f){f=b.querySelector("button");}if(!f){continue;}var d=f.getAttribute("aria-label");if((typeof d)==="string"){f.setAttribute("aria-label",sap.ushell.resources.i18n.getText("tile")+" "+d);}f.setAttribute("role","option");f.setAttribute("aria-posinset",i+1);f.setAttribute("aria-setsize",a.length);}},limitTileSize:function(){var a=this.isPhoneSize();var c=this.getDomRef();for(var i=0;i<c.children.length;++i){var t=c.children.item(i);if(!this.findElementByStyleClass(t,"sapMGT")||!this.findElementByStyleClass(t,"OneByOne")){t.classList.add("sapMGT");t.classList.add("OneByOne");}if(a){var b=this.findElementByStyleClass(t,"sapMGT");if(b){b.classList.add(this.PHONE_SIZE_STYLE);}}}},isPhoneSize:function(){var c=this.getDomRef();for(var i=0;i<c.children.length;++i){var t=c.children.item(i);if(this.findElementByStyleClass(t,this.PHONE_SIZE_STYLE)){return true;}}return false;},findElementByStyleClass:function(d,c){if(d.classList.contains(c)){return d;}if(d.children.length===1){return this.findElementByStyleClass(d.children.item(0),c);}return false;},getNumberDisplayedTiles:function(){var c=this.getDomRef();return c.children.length;},registerAfterRenderingForTile:function(t){var a=this;if(t.searchTilesContainerAfterRenderingRegistered){return;}t.addEventDelegate({onAfterRendering:function(){var e=t.getDomRef().querySelector(".TwoByOne","TwoThirds");if(e){e.classList.remove("TwoByOne","TwoThirds");e.classList.add("OneByOne");}a.tileHighlighter.highlight(t);}});t.searchTilesContainerAfterRenderingRegistered=true;},makePlusTileVisible:function(){var c=this.getDomRef();var p=c.children.item(c.children.length-1);p.style.display="inline-block";},removeLastTile:function(){var c=this.getDomRef();var l=c.children.item(c.children.length-2);l.parentNode.removeChild(l);},cutAtRow:function(){var c=this.getDomRef();while(!this.isLastRowCompletelyFilled()||this.getNumberRows()>this.getMaxRows()){if(c.children.length<=2){break;}this.removeLastTile();}},isLastRowCompletelyFilled:function(){var c=this.getDomRef();var t=this.getTilesPerRow();var a=-1;for(var i=0;i<t;++i){var b=c.children.item(c.children.length-1-i);if(b.style.display==="none"){t++;continue;}if(a<0){a=b.offsetLeft;continue;}if(b.offsetLeft>a){return false;}}return true;},getNumberRows:function(){var c=this.getDomRef();var t=-1;var a=0;for(var i=0;i<c.children.length-1;++i){var b=c.children.item(i);if(b.style.display==="none"){continue;}if(t<0||b.offsetLeft<=t){a++;}t=b.offsetLeft;}return a;},getTilesPerRow:function(){var c=this.getDomRef();var t=-1;var a=0;for(var i=0;i<c.children.length;++i){var b=c.children.item(i);if(b.style.display==="none"){continue;}if(b.offsetLeft<=t){return a;}a++;t=b.offsetLeft;}return a;}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchTilesContainerKeyHandler',['sap/ushell/renderers/fiori2/search/SearchHelper'],function(S){"use strict";var d={getAncestorByClass:function(e,c){while(e){if(e.classList.contains(c)){return e;}e=e.parentElement;}return false;}};var T=function(){this.init.apply(this,arguments);};T.prototype={init:function(t,e){this.tilesContainer=t;this.tilesContainerElement=t.getDomRef();this.element=e;},getIndexInTilesContainer:function(){return Array.prototype.indexOf.call(this.tilesContainerElement.children,this.element);},next:function(){if((this.getIndexInTilesContainer()+1)%this.tilesContainer.getTilesPerRow()===0){return null;}if(this.element.nextElementSibling){return new T(this.tilesContainer,this.element.nextElementSibling);}return null;},previous:function(){if((this.getIndexInTilesContainer())%this.tilesContainer.getTilesPerRow()===0){return null;}if(this.element.previousElementSibling){return new T(this.tilesContainer,this.element.previousElementSibling);}return null;},upper:function(){var i=this.getIndexInTilesContainer()-this.tilesContainer.getTilesPerRow();if(i<0){return null;}return new T(this.tilesContainer,this.tilesContainerElement.children.item(i));},lower:function(){var i=this.getIndexInTilesContainer()+this.tilesContainer.getTilesPerRow();if(i>=this.tilesContainerElement.children.length){return null;}return new T(this.tilesContainer,this.tilesContainerElement.children.item(i));},focus:function(){var e=S.getFocusableTileDomRef(this.element);if(e){e.focus();}}};var K=sap.ushell.renderers.fiori2.search.controls.SearchTilesContainerKeyHandler=function(){this.init.apply(this,arguments);};K.prototype={init:function(t){this.tilesContainer=t;},getFocusedObject:function(e){var t=d.getAncestorByClass(e,'sapUshellSearchTileWrapper');if(!t){return null;}return new T(this.tilesContainer,t);},onsapdown:function(e){this.navigate('lower',e);},onsapup:function(e){this.navigate('upper',e);},onsapleft:function(e){this.navigate('previous',e);},onsapright:function(e){this.navigate('next',e);},navigate:function(m,e){e.stopPropagation();e.preventDefault();var o=this.getFocusedObject(e.target);if(!o){return;}var n=o[m].apply(o,[]);if(!n){return;}n.focus();}};return K;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/twitter/SearchTweet',['sap/ushell/renderers/fiori2/search/controls/twitter/TwitterRenderer'],function(t){"use strict";return sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.twitter.SearchTweet",{metadata:{properties:{"text":"string"}},renderer:function(r,c){r.write('<div');r.writeControlData(c);r.writeClasses();r.write('>');t.renderTweet(r,c.getText());r.write('</div>');}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/twitter/TwitterRenderer',[],function(){"use strict";var m={};var e=function(u){return u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");};var a=function(o,h){for(var k in h){o[k]=h[k];}return o;};var d=function(h){var j=[['amp','&'],['apos','\''],['#x27','\''],['#x2F','/'],['#39','\''],['#47','/'],['lt','<'],['gt','>'],['nbsp',' '],['quot','"']];for(var i=0,k=j.length;i<k;++i){h=h.replace(new RegExp('&'+j[i][0]+';','g'),j[i][1]);}return h;};var b=function(s){return s.replace(/&#(\d+);/g,function(h,j){return String.fromCharCode(j);});};var c=function(h){return b(d(h));};m.Token=function(){};m.Token.prototype={init:function(){var h=arguments[0];if(h==='tokenize'){this.text=arguments[1];this.matches=[];this.startIndex=arguments[2];this.regExp.lastIndex=this.startIndex;var j=this.regExp.exec(this.text);this.endIndex=this.startIndex+j[0].length;}if(h==='set'){this.text=arguments[1];this.matches=arguments[2];this.startIndex=0;this.endIndex=this.text.length;}},match:function(h,j){this.regExp.lastIndex=0;return!!this.regExp.exec(h[j]);},getLength:function(){return this.endIndex-this.startIndex;},toString:function(){return this.text.slice(this.startIndex,this.endIndex);},toHighlightedString:function(){var p=[];var h=this.startIndex;for(var i=0;i<this.matches.length;++i){var j=this.matches[i];if(j[0]>h){p.push(e(this.text.slice(h,j[0])));}p.push('<b>'+e(this.text.slice(j[0],j[1]))+'</b>');h=j[1];}if(this.endIndex>h){p.push(e(this.text.slice(h,this.endIndex)));}return p.join('');}};m.TextToken=function(){this.init.apply(this,arguments);};m.TextToken.prototype=a(new m.Token(),{type:'Text',regExp:new RegExp('[\\w]+','g')});m.SpecialCharactersTextToken=function(){this.init.apply(this,arguments);};m.SpecialCharactersTextToken.prototype=a(new m.Token(),{type:'SpecialCharactersText',regExp:new RegExp('[^\\w\\s@#]+','g')});m.UserToken=function(){this.init.apply(this,arguments);};m.UserToken.prototype=a(new m.Token(),{type:'User',regExp:new RegExp('[@]+','g')});m.HashToken=function(){this.init.apply(this,arguments);};m.HashToken.prototype=a(new m.Token(),{type:'Hash',regExp:new RegExp('[#]+','g')});m.WhitespaceToken=function(){this.init.apply(this,arguments);};m.WhitespaceToken.prototype=a(new m.Token(),{type:'Whitespace',regExp:new RegExp('\\s+','g')});m.MatchStartToken=function(){this.init.apply(this,arguments);};m.MatchStartToken.prototype=a(new m.Token(),{type:'MatchStart',regExp:new RegExp('<b>','g'),match:function(h,j){return h.slice(j,j+3)==='<b>';}});m.MatchEndToken=function(){this.init.apply(this,arguments);};m.MatchEndToken.prototype=a(new m.Token(),{type:'MatchEnd',regExp:new RegExp('</b>','g'),match:function(h,j){return h.slice(j,j+4)==='</b>';}});var t=[m.WhitespaceToken,m.MatchStartToken,m.MatchEndToken,m.HashToken,m.UserToken,m.SpecialCharactersTextToken,m.TextToken];var f={};for(var i=0;i<t.length;++i){var g=t[i];f[g.prototype.type]=g;}m.Tokenizer=function(){this.init.apply(this,arguments);};m.Tokenizer.prototype={init:function(h){this.text=h;this.index=0;},getNextToken:function(){if(this.index>=this.text.length){return null;}for(var i=0;i<t.length;++i){var g=t[i];if(g.prototype.match(this.text,this.index)){var h=new g('tokenize',this.text,this.index);this.index+=h.getLength();return h;}}throw'tokenization error';},lookAhead:function(h){h=h||1;var p=this.getPosition();var j=[];for(var i=0;i<h;++i){var k=this.getNextToken();j.push(k);}this.setPosition(p);if(h===1){return j[0];}return j;},getPosition:function(){return this.index;},setPosition:function(p){this.index=p;}};m.MatchTokenizer=function(){this.init.apply(this,arguments);};m.MatchTokenizer.prototype={init:function(h){this.tokenizer=new m.Tokenizer(h);this.matchCounter=0;},getNextToken:function(){var h;var j=[];for(;;){var k=this.tokenizer.lookAhead(1);if(!k){break;}if(k.type==='MatchStart'||k.type==='MatchEnd'){this.tokenizer.getNextToken();switch(k.type){case'MatchStart':this.matchCounter++;break;case'MatchEnd':this.matchCounter--;break;}continue;}if(!h){this.tokenizer.getNextToken();h=k.type;k._match=this.matchCounter>0;j.push(k);continue;}if(h===k.type){this.tokenizer.getNextToken();k._match=this.matchCounter>0;j.push(k);continue;}break;}switch(j.length){case 0:return null;case 1:var r=j[0];if(r._match){r.matches=[[r.startIndex,r.endIndex]];}return r;default:return this.mergeTokens(h,j);}},mergeTokens:function(h,j){var k=[];var l=[];var n=0;for(var i=0;i<j.length;++i){var o=j[i];var p=o.toString();var q=p.length;k.push(p);if(o._match){l.push([n,n+q]);}n+=q;}var r=new f[h]('set',k.join(''),l);return r;},lookAhead:function(h){h=h||1;var p=this.getPosition();var j=[];for(var i=0;i<h;++i){var k=this.getNextToken();j.push(k);}this.setPosition(p);if(h===1){return j[0];}return j;},getPosition:function(){return{internalPosition:this.tokenizer.getPosition(),matchCounter:this.matchCounter};},setPosition:function(p){this.tokenizer.setPosition(p.internalPosition);this.matchCounter=p.matchCounter;}};m.TwitterDocument=function(){this.init.apply(this,arguments);};m.TwitterDocument.prototype={init:function(h){h=c(h);this.nodes=[];this.parse(h);},parse:function(h){var j=new m.MatchTokenizer(h);for(;;){var k=j.lookAhead(2);var l=k[0];var n=k[1];if(!l){break;}var o=null;switch(l.type){case'Whitespace':o=new m.TwitterTextNode();break;case'User':if(n&&n.type==='Text'){o=new m.TwitterUserNode();}else{o=new m.TwitterTextNode();}break;case'Hash':o=new m.TwitterHashNode();if(n&&n.type==='Text'){o=new m.TwitterHashNode();}else{o=new m.TwitterTextNode();}break;case'Text':o=new m.TwitterTextNode();if(l.toString().slice(0,4)==='http'){o=new m.TwitterLinkNode();}else{o=new m.TwitterTextNode();}break;case'SpecialCharactersText':o=new m.TwitterTextNode();break;}if(!o){throw'parse error '+l.toString();}o.parse(j);this.nodes.push(o);}},render:function(r){for(var i=0;i<this.nodes.length;++i){var n=this.nodes[i];n.render(r);}},log:function(){for(var i=0;i<this.nodes.length;++i){var n=this.nodes[i];n.log();}}};m.TwitterTextNode=function(){};m.TwitterTextNode.prototype={type:'TextNode',parse:function(h){var j=h.getNextToken();this.text=j.toString();this.textHighlighted=j.toHighlightedString();},render:function(r){r.write('<span style="display:inline" class="sapMText">');r.write(this.textHighlighted);r.write('</span>');},log:function(){}};m.TwitterUserNode=function(){};m.TwitterUserNode.prototype={type:'UserNode',parse:function(h){var j=h.getNextToken();this.at=j.toString();this.atHighlighted=j.toHighlightedString();var u=h.getNextToken();this.user=u.toString();this.userHighlighted=u.toHighlightedString();},render:function(r){r.write('<a target="_blank" rel="noopener noreferrer" style="display:inline" class="sapMLnk" href="https://twitter.com/'+this.user+'">');r.write(this.atHighlighted+this.userHighlighted);r.write('</a>');},log:function(){}};m.TwitterHashNode=function(){};m.TwitterHashNode.prototype={type:'HashNode',parse:function(h){var j=h.getNextToken();this.hash=j.toString();this.hashHighlighted=j.toHighlightedString();var k=h.getNextToken();this.tag=k.toString();this.tagHighlighted=k.toHighlightedString();},render:function(r){r.write('<a target="_blank" rel="noopener noreferrer" style="display:inline" class="sapMLnk" href="https://twitter.com/hashtag/'+this.tag+'?src=hash">');r.write(this.hashHighlighted+this.tagHighlighted);r.write('</a>');},log:function(){}};m.TwitterLinkNode=function(){};m.TwitterLinkNode.prototype={type:'LinkNode',parse:function(h){var p=[];var j=[];for(;;){var k=h.lookAhead();if(k&&(k.type==='Text'||k.type==='SpecialCharactersText')){h.getNextToken();p.push(k.toString());j.push(k.toHighlightedString());continue;}break;}this.url=p.join('');this.userHighlighted=j.join('');},render:function(r){},log:function(){}};m.renderTweet=function(r,h){var j=new m.TwitterDocument(h);j.render(r);};m.test1=function(){var h=new this.Tokenizer('this <b>i</b>s a #test');for(var i=0;i<20;++i){var j=h.getNextToken();if(!j){break;}}};m.test2=function(){var h=new this.MatchTokenizer('this <b>i</b>s a #test');for(var i=0;i<20;++i){var j=h.getNextToken();if(!j){break;}}};m.test=function(){var h=new m.TwitterDocument('this <b>@test1test2test3</b> is a h<b>tt</b>p://sap.com');h.log();};return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/eventlogging/EventConsumer',[],function(){"use strict";var m=function(){this.init.apply(this,arguments);};m.prototype={init:function(){},logEvent:function(e){}};return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/eventlogging/EventLogger',['sap/ushell/renderers/fiori2/search/eventlogging/SinaLogConsumer','sap/ushell/renderers/fiori2/search/eventlogging/UsageAnalyticsConsumer','sap/ushell/renderers/fiori2/search/SearchHelper'],function(S,U,a){"use strict";var m=function(){this.init.apply(this,arguments);};m.newInstance=function(p){var l=new m();l.addConsumer(new S(p.sinaNext));l.addConsumer(new U());return l;};m.prototype={ITEM_NAVIGATE:'ITEM_NAVIGATE',SUGGESTION_SELECT:'SUGGESTION_SELECT',SEARCH_REQUEST:'SEARCH_REQUEST',RESULT_LIST_ITEM_NAVIGATE_CONTEXT:'RESULT_LIST_ITEM_NAVIGATE_CONTEXT',SUGGESTION_REQUEST:'SUGGESTION_REQUEST',TILE_NAVIGATE:'TILE_NAVIGATE',SHOW_MORE:'SHOW_MORE',BROWSER_CLOSE:'BROWSER_CLOSE',LEAVE_PAGE:'LEAVE_PAGE',SESSION_START:'SESSION_START',RESULT_LIST_ITEM_NAVIGATE:'RESULT_LIST_ITEM_NAVIGATE',OBJECT_SUGGESTION_NAVIGATE:'OBJECT_SUGGESTION_NAVIGATE',DROPDOWN_SELECT_DS:'DROPDOWN_SELECT_DS',DATASOURCE_CHANGE:'DATASOURCE_CHANGE',FACET_FILTER_ADD:'FACET_FILTER_ADD',FACET_FILTER_DEL:'FACET_FILTER_DEL',ITEM_SHOW_DETAILS:'ITEM_SHOW_DETAILS',ITEM_HIDE_DETAILS:'ITEM_HIDE_DETAILS',CLEAR_ALL_FILTERS:'CLEAR_ALL_FILTERS',FACET_SHOW_MORE:'FACET_SHOW_MORE',FACET_SHOW_MORE_CLOSE:'FACET_SHOW_MORE_CLOSE',eventMetadata:{SESSION_START:{},ITEM_NAVIGATE:{systemAndClient:'string',sourceUrlArray:'string',targetUrl:'string'},RESULT_LIST_ITEM_NAVIGATE:{targetUrl:'string',positionInList:'integer',executionId:'string'},SUGGESTION_SELECT:{suggestionType:'string',suggestionTitle:'string',suggestionTerm:'string',searchTerm:'string',targetUrl:'string',dataSourceKey:'string'},SEARCH_REQUEST:{searchTerm:'string',dataSourceKey:'string'},RESULT_LIST_ITEM_NAVIGATE_CONTEXT:{systemAndClient:'string',sourceUrlArray:'string',targetUrl:'string'},SUGGESTION_REQUEST:{suggestionTerm:'string',dataSourceKey:'string'},TILE_NAVIGATE:{tileTitle:'string',targetUrl:'string'},SHOW_MORE:{},LEAVE_PAGE:{},BROWSER_CLOSE:{},DROPDOWN_SELECT_DS:{dataSourceId:'string'},DATASOURCE_CHANGE:{dataSourceId:'string'},FACET_FILTER_ADD:{referencedAttribute:'string',clickedValue:'string',clickedPosition:'integer'},FACET_FILTER_DEL:{referencedAttribute:'string',clickedValue:'string',clickedPosition:'integer'},FACET_SHOW_MORE:{referencedAttribute:'string'},FACET_SHOW_MORE_CLOSE:{}},init:function(){this.consumers=[];},addConsumer:function(c){this.consumers.push(c);c.eventLogger=this;},logEvent:function(b){if(!a.isLoggingEnabled()){return;}for(var i=0;i<this.consumers.length;++i){var c=this.consumers[i];try{c.logEvent(b);}catch(e){}}}};return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/eventlogging/SinaLogConsumer',['sap/ushell/renderers/fiori2/search/eventlogging/EventConsumer'],function(E){"use strict";var m=function(){this.init.apply(this,arguments);};m.prototype=jQuery.extend(new E(),{init:function(s){this.sinaNext=s;},logEvent:function(e){this.sinaNext.logUserEvent(e);}});return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/eventlogging/UsageAnalyticsConsumer',['sap/ushell/renderers/fiori2/search/eventlogging/EventConsumer','sap/ushell/renderers/fiori2/search/suggestions/SuggestionType'],function(E,S){"use strict";var m=function(){this.init.apply(this,arguments);};m.prototype=jQuery.extend(new E(),{init:function(){try{this.analytics=sap.ushell.Container.getService("UsageAnalytics");}catch(e){}},logEvent:function(e){if(!this.analytics){return;}switch(e.type){case this.eventLogger.RESULT_LIST_ITEM_NAVIGATE:this.analytics.logCustomEvent('FLP: Search','Launch Object',[e.targetUrl]);break;case this.eventLogger.SUGGESTION_SELECT:switch(e.suggestionType){case S.APPS:this.analytics.logCustomEvent('FLP: Search','Suggestion Select App',[e.suggestionTitle,e.targetUrl,e.searchTerm]);this.analytics.logCustomEvent('FLP: Application Launch point','Search Suggestions',[e.suggestionTitle,e.targetUrl,e.searchTerm]);break;case S.DATASOURCE:this.analytics.logCustomEvent('FLP: Search','Suggestion Select Datasource',[e.dataSourceKey,e.searchTerm]);break;case S.OBJECTDATA:this.analytics.logCustomEvent('FLP: Search','Suggestion Select Object Data',[e.suggestionTerm,e.dataSourceKey,e.searchTerm]);break;case S.HISTORY:this.analytics.logCustomEvent('FLP: Search','Suggestion Select Object Data',[e.suggestionTerm,e.dataSourceKey,e.searchTerm]);break;}break;case this.eventLogger.SEARCH_REQUEST:this.analytics.logCustomEvent('FLP: Search','Search',[e.searchTerm,e.dataSourceKey]);break;case this.eventLogger.RESULT_LIST_ITEM_NAVIGATE_CONTEXT:this.analytics.logCustomEvent('FLP: Search','Launch Related Object',[e.targetUrl]);break;case this.eventLogger.SUGGESTION_REQUEST:this.analytics.logCustomEvent('FLP: Search','Suggestion',[e.suggestionTerm,e.dataSourceKey]);break;case this.eventLogger.TILE_NAVIGATE:this.analytics.logCustomEvent('FLP: Search','Launch App',[e.tileTitle,e.targetUrl]);this.analytics.logCustomEvent('FLP: Application Launch point','Search Results',[e.titleTitle,e.targetUrl]);break;}}});return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/inputhelp/SearchInputHelp',["sap/ushell/library","sap/ushell/renderers/fiori2/search/SearchHelper","sap/ushell/renderers/fiori2/search/inputhelp/SearchInputHelpDialog","sap/ushell/renderers/fiori2/search/suggestions/SuggestionType","sap/ushell/renderers/fiori2/search/controls/SearchObjectSuggestionImage"],function(u,S,a,b,c){"use strict";sap.m.MultiInput.extend("sap.ushell.renderers.fiori2.search.inputhelp.SearchInputHelp",{metadata:{properties:{dataSource:"string",displayAttribute:"string"}},constructor:function(o){var t=this;o=jQuery.extend({},{liveChange:t.handleLiveChange,showSuggestion:true,filterSuggests:false,suggestionColumns:[new sap.m.Column({})],suggestionItemSelected:t.handleSuggestionItemSelected,showValueHelp:true},o);sap.m.MultiInput.prototype.constructor.apply(this,[o]);t.addStyleClass("sapUshellSearchInputHelp");t.bindAggregation("suggestionRows","/suggestions",function(i,C){return t.suggestionItemFactory(i,C);});t.attachValueHelpRequest(function(){t.dialog=new a({inputHelp:t,displayAttribute:t.getDisplayAttribute()});t.oModel=sap.ushell.renderers.fiori2.search.getModelSingleton();t.dialog.setModel(t.oModel);t.dialog.setModel(sap.ushell.resources.i18nModel,"i18n");t.dialog.open();var s="";if(s.trim()===""){s="*";}t.oModel.setSearchBoxTerm(s,false);t.dialog.oSearchFieldGroup.input.setValue(s);t.oModel._firePerspectiveQuery();});},handleLiveChange:function(e){var s=this.getValue();var m=this.getModel();m.setSearchBoxTerm(s,false);if(m.getSearchBoxTerm().length>0){m.doSuggestion();}else{this.destroySuggestionRows();m.abortSuggestions();}},suggestionItemFactory:function(i,C){var s=C.getObject();switch(s.uiSuggestionType){case b.Object:return this.objectSuggestionItemFactory(i,C);case b.BusyIndicator:return this.busyIndicatorItemFactory(i,C);default:}},objectSuggestionItemFactory:function(i,C){var s=C.getObject();var d=[];if(s.imageExists){d.push(new c({src:"{imageUrl}",isCircular:"{imageIsCircular}"}));}d.push(this.assembleObjectSuggestionLabels(s));var e=new sap.ui.layout.HorizontalLayout({content:d});e.addStyleClass("sapUshellSearchObjectSuggestion-Container");e.getText=function(){return this.getValue();}.bind(this);var l=new sap.m.ColumnListItem({cells:[e],type:"Active"});l.addStyleClass("searchSuggestion");l.addStyleClass("searchObjectSuggestion");return l;},busyIndicatorItemFactory:function(i,C){var d=new sap.ui.layout.VerticalLayout({content:[new sap.m.BusyIndicator({size:"0.6rem"})]});d.getText=function(){return this.getValue();}.bind(this);var l=new sap.m.ColumnListItem({cells:[d],type:"Active"});l.addStyleClass("searchSuggestion");l.addStyleClass("searchBusyIndicatorSuggestion");return l;},assembleObjectSuggestionLabels:function(s){var l=[];if(!s.label1){var d=this.getDisplayAttribute();if(d){for(var i=0;i<s.object.detailAttributes.length;i++){var e=s.object.detailAttributes[i];if(e.id===d){s.label1=e.value;}}}}var f=new sap.m.Label({text:"{label1}"});f.addEventDelegate({onAfterRendering:function(){S.boldTagUnescaper(this.getDomRef());}},f);f.addStyleClass("sapUshellSearchObjectSuggestion-Label1");l.push(f);if(s.label2){var g=new sap.m.Label({text:"{label2}"});g.addEventDelegate({onAfterRendering:function(){S.boldTagUnescaper(this.getDomRef());}},g);g.addStyleClass("sapUshellSearchObjectSuggestion-Label2");l.push(g);}var L=new sap.ui.layout.VerticalLayout({content:l});L.addStyleClass("sapUshellSearchObjectSuggestion-Labels");return L;},handleSuggestionItemSelected:function(e){var m=this.getModel();var s=m.getSearchBoxTerm();var d;if(e.getId()==="AutoSelectAppSuggestion"){d=e.getParameter("suggestion");}else{d=e.getParameter("selectedRow").getBindingContext().getObject();}var f=d.searchTerm||"";var g=d.dataSource||m.getDataSource();var t=d.url;var h=d.uiSuggestionType;m.eventLogger.logEvent({type:m.eventLogger.SUGGESTION_SELECT,suggestionType:h,suggestionTerm:f,searchTerm:s,targetUrl:t,dataSourceKey:g?g.id:""});this.selectText(0,0);d.value=d.label;var j=this.getDisplayAttribute();if(j){for(var i=0;i<d.object.detailAttributes.length;i++){var k=d.object.detailAttributes[i];if(k.id===j){d.value=k.value;}}}this.addAggregation("tokens",new sap.m.Token({text:d.value,key:d.value}));m.setProperty("/inputHelpSelectedItems",[d]);this.fireChange();},selectDataSource:function(){var m=this.getModel();var d=this.getDataSource();var e=m.getProperty("/dataSources");if(m.getDataSource().id!==d){for(var i=0;i<e.length;i++){var f=e[i];if(d===f.id){m.setDataSource(f,false);break;}}}},renderer:"sap.m.MultiInputRenderer"});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/inputhelp/SearchInputHelpDialog',["sap/ushell/library","sap/ushell/renderers/fiori2/search/controls/SearchFieldGroup"],function(u,S){"use strict";return sap.m.Dialog.extend("sap.ushell.renderers.fiori2.search.inputhelp.SearchInputHelpDialog",{metadata:{properties:{inputHelp:"object",displayAttribute:"string"}},constructor:function(o){var t=this;o=jQuery.extend({},{showHeader:false,horizontalScrolling:false,verticalScrolling:false,contentHeight:"50rem",contentWidth:"80rem",beginButton:new sap.m.Button({text:sap.ushell.resources.i18n.getText("okDialogBtn"),type:sap.m.ButtonType.Emphasized,press:function(e){t.onOkClick(e);t.close();t.destroy();}}),endButton:new sap.m.Button({text:sap.ushell.resources.i18n.getText("cancelDialogBtn"),press:function(e){t.onCancelClick(e);t.close();t.destroy();}}),content:[t.createContent()]},o);t.displayAttribute=o.displayAttribute;sap.m.Dialog.prototype.constructor.apply(this,[o]);t.addStyleClass("sapUshellSearchInputHelpDialog");},renderer:"sap.m.DialogRenderer",createContent:function(){var t=this;t.oSearchFieldGroup=new sap.ushell.renderers.fiori2.search.controls.SearchFieldGroup("searchInputHelpDialogSearchFieldGroup");t.oSearchFieldGroup.setCancelButtonActive(false);t.oSearchFieldGroup.addStyleClass("sapUshellSearchInputHelpDialogSearchFieldGroup");t.oSearchFieldGroup.input.setShowValueHelp(false);t.oSearchResults=sap.ui.view({id:"searchContainerResultsView",viewName:"sap.ushell.renderers.fiori2.search.container.Search",type:sap.ui.core.mvc.ViewType.JS});t.oSearchBar=new sap.m.Bar({visible:{parts:[{path:"/count"},{path:"/facetVisibility"}],formatter:function(c,f){if(f){return c!==0;}return c!==0;}},contentLeft:[t.oSearchResults.assembleFilterButton(),t.oSearchResults.assembleDataSourceTapStrips()],contentRight:t.oSearchResults.assembleSearchToolbar(true)});t.oSearchBar.addStyleClass("sapUshellSearchBar");t.oFilterBar=new sap.ushell.renderers.fiori2.search.controls.SearchFilterBar({visible:{parts:[{path:"/facetVisibility"},{path:"/uiFilter/rootCondition"}],formatter:function(f,r){if(!f&&r&&r.hasFilters()){return true;}return false;}}});t.oSearchPage=new sap.m.Page({id:"searchPage",customHeader:this.oSearchBar,subHeader:this.oFilterBar,content:[t.oSearchResults],enableScrolling:true,showFooter:{parts:["/errors/length"],formatter:function(n){return n>0;}},showHeader:true,showSubHeader:{parts:[{path:"/facetVisibility"},{path:"/uiFilter/rootCondition"}],formatter:function(f,r){if(!f&&r&&r.hasFilters()){return true;}return false;}}});t.oSearchPage.addStyleClass("sapUshellSearchInputHelpDialogSearchPage");return[t.oSearchFieldGroup,t.oSearchPage];},onOkClick:function(e){var t=this;var s=[];var r=t.getModel().getProperty("/results");for(var i=0;i<r.length;i++){var a=r[i];if(a.selected){s.push(a);}}var b=[];for(var j=0;j<s.length;j++){var c=s[j];c.value=t._getAttributeValue(c);b.push(new sap.m.Token({text:c.value,key:c.value}));}t.getInputHelp().setTokens(b);t.getModel().setProperty("/inputHelpSelectedItems",s);t.getInputHelp().fireChange();},onCancelClick:function(e){},_getAttributeValue:function(s){var t=this;var d=t.getDisplayAttribute();for(var i=0;i<s.itemattributes.length;i++){var a=s.itemattributes[i];if(a.key===d){return a.valueRaw;}}return s.title;}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/inputhelp/SearchInputHelpPage',["sap/ushell/library","sap/ushell/renderers/fiori2/search/controls/SearchFieldGroup"],function(u,S){"use strict";return sap.m.Page.extend("sap.ushell.renderers.fiori2.search.inputhelp.SearchInputHelpPage",{metadata:{properties:{dataSource:"string",displayAttribute:"string",selectedItems:"array"}},constructor:function(o){var t=this;o=jQuery.extend({},{showHeader:false,content:[]},o);t.displayAttribute=o.displayAttribute;sap.m.Page.prototype.constructor.apply(t,[o]);t.addStyleClass("sapUshellSearchInputHelpPage");sap.ui.require(["sap/ushell/renderers/fiori2/search/container/ComponentService"],function(C){C.init();sap.ui.require(["sap/ushell/renderers/fiori2/search/personalization/PersonalizationStorage","sap/ushell/renderers/fiori2/search/SearchModel"],function(P,a){P.getInstance();var s=t.getModel("searchModel");if(!s){s=sap.ushell.renderers.fiori2.search.getModelSingleton();t.setModel(s,"searchModel");}s.isSearchInputHelpPage=true;s.preventUpdateURL=true;t.setModel(s);t.setModel(sap.ushell.resources.i18nModel,"i18n");t.createContent();t.getModel().initBusinessObjSearch().then(function(){var b="*";t.getModel().setSearchBoxTerm(b,false);t.getModel()._firePerspectiveQuery();});});});},renderer:"sap.m.PageRenderer",createContent:function(){var t=this;t.oSearchFieldGroup=new sap.ushell.renderers.fiori2.search.controls.SearchFieldGroup("searchInputHelpPageSearchFieldGroup");t.oSearchFieldGroup.setCancelButtonActive(false);t.oSearchFieldGroup.addStyleClass("sapUshellSearchInputHelpPageSearchFieldGroup");t.oSearchFieldGroup.input.setShowValueHelp(false);t.getModel().setProperty("/inputHelp",t.oSearchFieldGroup.input);t.oSearchResults=sap.ui.view({id:"searchContainerResultsView",viewName:"sap.ushell.renderers.fiori2.search.container.Search",type:sap.ui.core.mvc.ViewType.JS});t.oSearchBar=new sap.m.Bar({visible:{parts:[{path:"/count"},{path:"/facetVisibility"}],formatter:function(c,f){if(f){return c!==0;}return c!==0;}},contentLeft:[t.oSearchResults.assembleFilterButton()],contentRight:t.oSearchResults.assembleSearchToolbar(true)});t.oSearchBar.addStyleClass("sapUshellSearchBar");t.oFilterBar=new sap.ushell.renderers.fiori2.search.controls.SearchFilterBar({visible:{parts:[{path:"/facetVisibility"},{path:"/uiFilter/rootCondition"}],formatter:function(f,r){if(!f&&r&&r.hasFilters()){return true;}return false;}}});t.oSearchPage=new sap.m.Page({id:"searchPage",customHeader:this.oSearchBar,subHeader:this.oFilterBar,content:[t.oSearchResults],enableScrolling:true,showFooter:{parts:["/errors/length"],formatter:function(n){return n>0;}},showHeader:true,showSubHeader:{parts:[{path:"/facetVisibility"},{path:"/uiFilter/rootCondition"}],formatter:function(f,r){if(!f&&r&&r.hasFilters()){return true;}return false;}}});t.oSearchPage.addStyleClass("sapUshellSearchInputHelpPageSearchPage");t.addContent(t.oSearchFieldGroup);t.addContent(t.oSearchPage);},selectItems:function(){var t=this;var s=[];var r=t.getModel().getProperty("/results");for(var i=0;i<r.length;i++){var a=r[i];if(a.selected){s.push(a);}}t.setSelectedItems(s);t.getModel().setProperty("/inputHelpSelectedItems",s);}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/inputhelp/SearchInputHelpService',[],function(){"use strict";sap.ushell=sap.ushell||{};sap.ushell.renderers=sap.ushell.renderers||{};sap.ushell.renderers.fiori2=sap.ushell.renderers.fiori2||{};sap.ushell.renderers.fiori2.search=sap.ushell.renderers.fiori2.search||{};sap.ushell.renderers.fiori2.search.inputhelp=sap.ushell.renderers.fiori2.search.inputhelp||{};var S=sap.ushell.renderers.fiori2.search.inputhelp.SearchInputHelpService={};jQuery.extend(S,{init:function(c){return sap.ui.require(["sap/ushell/renderers/fiori2/search/container/ComponentService"],function(C){C.init();sap.ui.require(["sap/ushell/renderers/fiori2/search/personalization/PersonalizationStorage","sap/ushell/renderers/fiori2/search/SearchModel"],function(P,a){P.getInstance();c();});});},init4View:function(v){this.init(function(){var s=v.getModel("searchModel");if(!s){s=sap.ushell.renderers.fiori2.search.getModelSingleton();v.setModel(s,"searchModel");}s.isSearchInputHelp=true;v.searchInputHelp=sap.ui.getCore().byId(v.getId()+"--searchInputHelp");v.searchInputHelp.setModel(s);s.setProperty("/inputHelp",v.searchInputHelp);s.initBusinessObjSearch().then(function(){if(v.searchInputHelp.getDataSource()){v.searchInputHelp.selectDataSource();}});});}});return S;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/inputhelp/SearchInputHelpWizard',["sap/ushell/library","sap/ushell/renderers/fiori2/search/controls/SearchFieldGroup"],function(u,S){"use strict";return sap.m.Page.extend("sap.ushell.renderers.fiori2.search.inputhelp.SearchInputHelpWizard",{metadata:{properties:{dataSource:"string",displayAttribute:"string",selectedItems:"array"}},constructor:function(o){var t=this;o=jQuery.extend({},{showHeader:false,content:[]},o);t.displayAttribute=o.displayAttribute;sap.m.Page.prototype.constructor.apply(t,[o]);t.addStyleClass("sapUshellSearchInputHelpWizard");sap.ui.require(["sap/ushell/renderers/fiori2/search/container/ComponentService"],function(C){C.init();sap.ui.require(["sap/ushell/renderers/fiori2/search/personalization/PersonalizationStorage","sap/ushell/renderers/fiori2/search/SearchModel"],function(P,a){P.getInstance();var s=t.getModel("searchModel");if(!s){s=sap.ushell.renderers.fiori2.search.getModelSingleton();t.setModel(s,"searchModel");}s.isSearchInputHelpWizard=true;s.preventUpdateURL=true;s.config.searchScopeWithoutAll=true;t.setModel(s);t.setModel(sap.ushell.resources.i18nModel,"i18n");t.createContent();t.getModel().initBusinessObjSearch().then(function(){t.selectDataSource();t.oSearchFieldGroup.select.setEnabled(false);var b="*";t.getModel().setSearchBoxTerm(b,false);t.getModel()._firePerspectiveQuery();});});});},renderer:"sap.m.PageRenderer",createContent:function(){var t=this;t.oSearchFieldGroup=new sap.ushell.renderers.fiori2.search.controls.SearchFieldGroup("SearchInputHelpWizardSearchFieldGroup");t.oSearchFieldGroup.setCancelButtonActive(false);t.oSearchFieldGroup.addStyleClass("sapUshellSearchInputHelpWizardSearchFieldGroup");t.oSearchFieldGroup.input.setShowValueHelp(false);t.getModel().setProperty("/inputHelp",t.oSearchFieldGroup.input);t.oSearchResults=sap.ui.view({id:"searchContainerResultsView",viewName:"sap.ushell.renderers.fiori2.search.container.Search",type:sap.ui.core.mvc.ViewType.JS});t.oSearchBar=new sap.m.Bar({visible:{parts:[{path:"/count"},{path:"/facetVisibility"}],formatter:function(c,f){if(f){return c!==0;}return c!==0;}},contentLeft:[t.oSearchResults.assembleFilterButton()],contentRight:t.oSearchResults.assembleSearchToolbar(true)});t.oSearchBar.addStyleClass("sapUshellSearchBar");t.oFilterBar=new sap.ushell.renderers.fiori2.search.controls.SearchFilterBar({visible:{parts:[{path:"/facetVisibility"},{path:"/uiFilter/rootCondition"}],formatter:function(f,r){if(!f&&r&&r.hasFilters()){return true;}return false;}}});t.oSearchPage=new sap.m.Page({id:"searchPage",customHeader:this.oSearchBar,subHeader:this.oFilterBar,content:[t.oSearchResults],enableScrolling:true,showFooter:{parts:["/errors/length"],formatter:function(n){return n>0;}},showHeader:true,showSubHeader:{parts:[{path:"/facetVisibility"},{path:"/uiFilter/rootCondition"}],formatter:function(f,r){if(!f&&r&&r.hasFilters()){return true;}return false;}}});t.oSearchPage.addStyleClass("sapUshellSearchInputHelpWizardSearchPage");t.addContent(t.oSearchFieldGroup);t.addContent(t.oSearchPage);},selectDataSource:function(){var m=this.getModel();var d=this.getDataSource();var a=m.getProperty("/dataSources");if(a[0]===m.allDataSource){a.shift();m.setDataSource(a[0]);}if(m.getDataSource().id!==d){for(var i=0;i<a.length;i++){var b=a[i];if(d===b.id){m.setDataSource(b,false);break;}}}},selectItems:function(){var t=this;var s=[];var r=t.getModel().getProperty("/results");for(var i=0;i<r.length;i++){var a=r[i];if(a.selected){s.push(a);}}t.setSelectedItems(s);t.getModel().setProperty("/inputHelpSelectedItems",s);}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/personalization/BrowserPersonalizationStorage',['sap/ushell/renderers/fiori2/search/personalization/Personalizer'],function(P){"use strict";var m=function(){this.init.apply(this,arguments);};var B=m;m.prototype={init:function(){},getItem:function(k){if(!this._isStorageSupported()){throw'not supported storage';}return this._getStorage(k);},setItem:function(k,d){if(!this._isStorageSupported()){throw'not supported storage';}this._putStorage(k,d);},getPersonalizer:function(k){return new P(k,this);},_isStorageSupported:function(){if(jQuery.sap.storage&&jQuery.sap.storage.isSupported()){return true;}return false;},_getStorage:function(k){return jQuery.sap.storage.get("Search.Personalization."+k);},_putStorage:function(k,s){if(typeof jQuery.sap.storage.setType==='function'){jQuery.sap.storage.setType(jQuery.sap.storage.Type.local);}jQuery.sap.storage.put("Search.Personalization."+k,s);}};m.getInstance=function(){return new jQuery.Deferred().resolve(new B());};return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/personalization/FLPPersonalizationStorage',['sap/ushell/renderers/fiori2/search/personalization/Personalizer','sap/ushell/renderers/fiori2/search/SearchHelper'],function(P,S){"use strict";var m=function(){this.init.apply(this,arguments);};var F=m;m.prototype={init:function(c){this.container=c;this.save=S.delayedExecution(this.save,2000);},save:function(){this.container.save();},getItem:function(k){k=this.limitLength(k);if(!this._isStorageSupported()){throw'not supported storage';}return this.container.getItemValue(k);},setItem:function(k,d){k=this.limitLength(k);if(!this._isStorageSupported()){throw'not supported storage';}this.container.setItemValue(k,d);this.save();},limitLength:function(k){return k.slice(-40);},getPersonalizer:function(k){return new P(k,this);},_isStorageSupported:function(){if(jQuery.sap.storage&&jQuery.sap.storage.isSupported()){return true;}return false;}};m.getInstance=function(){var p=sap.ushell.Container.getService("Personalization");return p.getContainer("ushellSearchPersoServiceContainer").then(function(c){return new F(c);});};return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/personalization/MemoryPersonalizationStorage',['sap/ushell/renderers/fiori2/search/personalization/Personalizer'],function(P){"use strict";var m=function(){this.init.apply(this,arguments);};var M=m;m.prototype={init:function(){this.dataMap={};},getItem:function(k){if(!this._isStorageSupported()){throw'not supported storage';}return this._getStorage(k);},setItem:function(k,d){if(!this._isStorageSupported()){throw'not supported storage';}this._putStorage(k,d);},getPersonalizer:function(k){return new P(k,this);},_isStorageSupported:function(){return true;},_getStorage:function(k){return this.dataMap[k];},_putStorage:function(k,s){this.dataMap[k]=s;}};m.getInstance=function(){return new jQuery.Deferred().resolve(new M());};return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/personalization/PersonalizationStorage',['sap/ushell/renderers/fiori2/search/personalization/FLPPersonalizationStorage','sap/ushell/renderers/fiori2/search/personalization/BrowserPersonalizationStorage','sap/ushell/renderers/fiori2/search/personalization/MemoryPersonalizationStorage','sap/ushell/renderers/fiori2/search/SearchConfiguration'],function(F,B,M,S){"use strict";var c=S.getInstance();var P={instance:null,isLaunchpad:function(){try{return!!sap.ushell.Container.getService("Personalization");}catch(e){return false;}},getInstance:function(){var t=this;if(this.instancePromise){return this.instancePromise;}switch(c.personalizationStorage){case'auto':if(this.isLaunchpad()){this.instancePromise=F.getInstance();}else{this.instancePromise=B.getInstance();}break;case'browser':this.instancePromise=B.getInstance();break;case'flp':this.instancePromise=F.getInstance();break;case'memory':this.instancePromise=M.getInstance();break;default:}this.instancePromise.then(function(i){t.instance=i;});return this.instancePromise;},getInstanceSync:function(){if(!this.instance){throw'No instance, call async method getInstance for getting the instance';}return this.instance;},isInitialized:function(){return!!this.instance;}};return P;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/personalization/Personalizer',[],function(){"use strict";var P=function(){this.init.apply(this,arguments);};P.prototype={init:function(k,p){this.key=k;this.personalizationStorageInstance=p;},getKey:function(){return this.key;},setPersData:function(d){return(new jQuery.Deferred()).resolve(this.personalizationStorageInstance.setItem(this.key,d));},getPersData:function(){return(new jQuery.Deferred()).resolve(this.personalizationStorageInstance.getItem(this.key));}};return P;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/suggestions/AppSuggestionProvider',['sap/ushell/renderers/fiori2/search/SearchHelper','sap/ushell/renderers/fiori2/search/suggestions/SuggestionProvider','sap/ushell/renderers/fiori2/search/suggestions/SuggestionType'],function(S,a,b){"use strict";var m=function(){this.init.apply(this,arguments);};m.prototype=jQuery.extend(new a(),{init:function(p){a.prototype.init.apply(this,arguments);this.suggestApplications=S.refuseOutdatedRequests(this.suggestApplications);},abortSuggestions:function(){this.suggestApplications.abort();},combineSuggestionsWithIdenticalTitle:function(s){var c;var d={};for(var i=0;i<s.length;i++){c=s[i];var f=d[c.title+c.subtitle];if(f){if(!f.combinedSuggestionExists){var e={title:'combinedAppSuggestion'+i,subtitle:c.subtitle,sortIndex:f.sortIndex,url:this.model.searchUrlParser.renderFromParameters(this.model.appTopDefault,this.model.sinaNext.createFilter({dataSource:this.model.appDataSource,searchTerm:c.title}),false),label:sap.ushell.resources.i18n.getText("suggestion_in_apps",c.label),icon:""};var g=sap.ushell.resources.i18n.getText("suggestion_in_apps",[""]);e.label=e.label.replace(g,"<i>"+g+"</i>");d[e.title+e.subtitle]=e;f.combinedSuggestionExists=true;}}else{c.sortIndex=i;d[c.title+c.subtitle]=c;}}s=[];for(var h in d){if(d.hasOwnProperty(h)){c=d[h];if(!c.combinedSuggestionExists){s.push(c);}}}s.sort(function(j,k){return j.sortIndex-k.sortIndex;});return s;},addAsterisk4ShowAllApps:function(s){var n=s;s=s.match(/\S+/g);if(s.length>0){var c;var d=[];for(var i=0;i<s.length;i++){c=s[i];if(c&&c.lastIndexOf('*')!==c.length-1){d.push(c+'*');}else{d.push(c);}}n=d.join(' ');}return n;},createShowMoreSuggestion:function(t){var c=sap.ushell.resources.i18n.getText("showAllNApps",t);c=c.replace(/"/g,"");var d=c;var l="<i>"+c+"</i>";return{title:c,tooltip:d,label:l,dataSource:this.model.appDataSource,labelRaw:this.model.getProperty("/uiFilter/searchTerm"),uiSuggestionType:b.SearchTermData,searchTerm:this.model.getProperty("/uiFilter/searchTerm")||''};},getSuggestions:function(){var t=this;var d=t.model.getDataSource();if(d!==t.model.allDataSource&&d!==t.model.appDataSource){return jQuery.when([]);}var s=t.model.getProperty('/uiFilter/searchTerm');return t.suggestApplications(s).then(function(r){var c=r.getElements();c=t.combineSuggestionsWithIdenticalTitle(c);jQuery.each(c,function(i,f){f.uiSuggestionType=b.App;f.dataSource=t.model.appDataSource;f.position=b.properties.App.position;f.key=b.App+f.url+f.icon;});var e=t.suggestionHandler.getSuggestionLimit(b.App);c=c.slice(0,e);if(r.totalResults>e&&d===t.model.appDataSource){c.push(t.createShowMoreSuggestion(r.totalResults));}return c;});},suggestApplications:function(s){return sap.ushell.Container.getService("Search").queryApplications({searchTerm:s,suggestion:true});}});return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/suggestions/SinaBaseSuggestionProvider',['sap/ushell/renderers/fiori2/search/suggestions/SuggestionProvider','sap/ushell/renderers/fiori2/search/suggestions/SuggestionType'],function(S,a){"use strict";var m=function(){this.init.apply(this,arguments);};m.prototype=jQuery.extend(new S(),{init:function(){S.prototype.init.apply(this,arguments);},prepareSuggestionQuery:function(f){var t=this;t.suggestionQuery.resetResultSet();t.suggestionQuery.setFilter(f);var s=t.assembleSinaSuggestionTypesAndCalcModes();t.suggestionQuery.setTypes(s.types);t.suggestionQuery.setCalculationModes(s.calculationModes);t.suggestionQuery.setTop(20);},assembleSinaSuggestionTypesAndCalcModes:function(){var b=function(l,e){if(l.indexOf(e)>=0){return;}l.push(e);};var r={types:[],calculationModes:[]};for(var i=0;i<this.suggestionTypes.length;++i){var s=this.suggestionTypes[i];switch(s){case a.SearchTermHistory:b(r.types,this.sinaNext.SuggestionType.SearchTerm);b(r.calculationModes,this.sinaNext.SuggestionCalculationMode.History);break;case a.SearchTermData:b(r.types,this.sinaNext.SuggestionType.SearchTerm);b(r.calculationModes,this.sinaNext.SuggestionCalculationMode.Data);break;case a.DataSource:b(r.types,this.sinaNext.SuggestionType.DataSource);b(r.calculationModes,this.sinaNext.SuggestionCalculationMode.Data);break;case a.Object:b(r.types,this.sinaNext.SuggestionType.Object);b(r.calculationModes,this.sinaNext.SuggestionCalculationMode.Data);break;}}return r;}});return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/suggestions/SinaObjectSuggestionFormatter',['sap/ushell/renderers/fiori2/search/SearchNavigationObjectForSinaNavTarget'],function(S){"use strict";var F=function(){this.init.apply(this,arguments);};F.prototype={init:function(){},assembleLabel1:function(s){var t=[];var a=false;var b;var c=s.object.titleAttributes;for(var i=0;i<c.length;++i){b=c[i];t.push(b.valueHighlighted);if(b.isHighlighted){a=true;}}return{label:t.join(' '),isHighlighted:a};},assembleLabel2:function(l,s){var d=s.object.detailAttributes;var a;if(d.length===0){return'';}if(!l){a=this.getFirstHighlightedAttribute(d);if(a){return a.valueHighlighted;}}a=this.getFirstStringAttribute(d);if(a){return a.label+': '+a.valueHighlighted;}return'';},getFirstHighlightedAttribute:function(a){for(var i=0;i<a.length;++i){var b=a[i];if(b.isHighlighted){return b;}}},getFirstStringAttribute:function(a){var s={"Date":40,"Double":70,"GeoJson":130,"ImageBlob":120,"ImageUrl":110,"Integer":60,"String":10,"Time":50,"Timestamp":30};if(a.length===0){return null;}a=a.slice();a.sort(function(c,d){return s[c.metadata.type]-s[d.metadata.type];});var b=a[0];if(s[b.metadata.type]>100){return null;}return b;},assembleNavigation:function(s){if(!s.object.defaultNavigationTarget){return null;}var n=new S(s.object.defaultNavigationTarget);n.setLoggingType('OBJECT_SUGGESTION_NAVIGATE');return n;},assembleImageUrl:function(s){var d=s.object.detailAttributes;for(var i=0;i<d.length;++i){var a=d[i];if(a.metadata.type===a.sina.AttributeType.ImageUrl){return{imageUrl:a.value,imageExists:true,imageIsCircular:a.metadata.format&&a.metadata.format===s.sina.AttributeFormatType.Round};}}return{exists:false};},format:function(s,a){var b={key:a.key,label:a.label,uiSuggestionType:a.uiSuggestionType,dataSource:a.object.dataSource,object:a.object};var l=this.assembleLabel1(a);b.label1=l.label;b.label2=this.assembleLabel2(l.isHighlighted,a);b.titleNavigation=this.assembleNavigation(a);var i=this.assembleImageUrl(a);a.sina.core.extend(b,i);b.position=a.position;s.addSuggestion(b);}};return F;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/suggestions/SinaSuggestionProvider',['sap/ushell/renderers/fiori2/search/SearchHelper','sap/ushell/renderers/fiori2/search/suggestions/SinaBaseSuggestionProvider','sap/ushell/renderers/fiori2/search/suggestions/SuggestionType','sap/ushell/renderers/fiori2/search/suggestions/SinaObjectSuggestionFormatter','sap/ushell/renderers/fiori2/search/SearchConfiguration'],function(S,a,b,c,d){"use strict";var m=function(){this.init.apply(this,arguments);};m.prototype=jQuery.extend(new a(),{suggestionLimit:jQuery.device.is.phone?5:7,suggestionStartingCharacters:d.getInstance().suggestionStartingCharacters,init:function(p){a.prototype.init.apply(this,arguments);this.dataSourceDeferred=null;this.suggestionQuery=this.sinaNext.createSuggestionQuery();this.sinaObjectSuggestionFormatter=new c(this);},abortSuggestions:function(){this.suggestionQuery.abort();},getSuggestions:function(f){var t=this;this.suggestions=[];this.firstObjectDataSuggestion=true;this.numberSuggestionsByType={};for(var i=0;i<b.types.length;++i){var s=b.types[i];this.numberSuggestionsByType[s]=0;}var e=f.searchTerm;if(this.suggestionTypes.length===1&&this.suggestionTypes.indexOf(b.SearchTermData)>=0&&e.length<this.suggestionStartingCharacters){return jQuery.when(this.suggestions);}if(this.suggestionTypes.length===1&&this.suggestionTypes.indexOf(b.Object)>=0&&e.length<this.suggestionStartingCharacters){return jQuery.when(this.suggestions);}if(this.suggestionTypes.length===1&&this.suggestionTypes.indexOf(b.DataSource)>=0&&t.model.getDataSource()!==t.model.sinaNext.allDataSource){return jQuery.when(this.suggestions);}t.createAllAndAppDsSuggestions();if(!t.model.config.searchBusinessObjects){return jQuery.when(this.suggestions);}if(t.model.getDataSource()===t.model.appDataSource){return jQuery.when(this.suggestions);}t.prepareSuggestionQuery(f);return t.suggestionQuery.getResultSetAsync().then(function(r){var g=r.items;t.formatSinaSuggestions(g);return t.suggestions;});},createAllAndAppDsSuggestions:function(){if(this.suggestionTypes.indexOf(b.DataSource)<0){return;}if(this.model.getDataSource()!==this.model.allDataSource){return;}var e=[];e.unshift(this.model.appDataSource);e.unshift(this.model.allDataSource);var s=this.model.getProperty('/uiFilter/searchTerm');var f=s.replace(/\*/g,'');var t=new S.Tester(f);for(var i=0;i<e.length;++i){var g=e[i];if(g.id===this.model.getDataSource().id){continue;}var T=t.test(g.label);if(T.bMatch===true){if(this.isSuggestionLimitReached(b.DataSource)){return;}var h={};h.label='<i>'+sap.ushell.resources.i18n.getText("searchInPlaceholder",[""])+'</i> '+T.sHighlightedText;h.dataSource=g;h.position=b.properties.DataSource.position;h.type=this.sinaNext.SuggestionType.DataSource;h.calculationMode=this.sinaNext.SuggestionCalculationMode.Data;h.uiSuggestionType=b.DataSource;h.uiSuggestionType=b.DataSource;this.addSuggestion(h);}}},isSuggestionLimitReached:function(s){var l=this.suggestionHandler.getSuggestionLimit(s);var n=this.numberSuggestionsByType[s];if(n>=l){return true;}return false;},preFormatSuggestions:function(s){for(var i=0;i<s.length;++i){var e=s[i];e.uiSuggestionType=this.getSuggestionType(e);e.position=b.properties[e.uiSuggestionType].position;this.assembleKey(e);if(e.childSuggestions){this.preFormatSuggestions(e.childSuggestions);}}},assembleKey:function(s){switch(s.uiSuggestionType){case b.DataSource:s.key=b.DataSource+s.dataSource.id;break;case b.SearchTermData:s.key=b.SearchTermData+s.searchTerm;if(s.dataSource){s.key+=s.dataSource.id;}break;case b.SearchTermHistory:s.key=b.SearchTermData+s.searchTerm;if(s.dataSource){s.key+=s.dataSource.id;}break;case b.Object:var o=s.object.title?s.object.title:s.object.detailAttributes[0].value;s.key=b.Object+o;break;}},formatSinaSuggestions:function(s){this.preFormatSuggestions(s);for(var i=0;i<s.length;++i){var e=s[i];if(this.isSuggestionLimitReached(e.uiSuggestionType)){continue;}switch(e.uiSuggestionType){case b.DataSource:if(this.model.getDataSource()!==this.model.allDataSource){continue;}this.addSuggestion(e);break;case b.SearchTermData:this.formatSearchTermDataSuggestion(e);break;case b.SearchTermHistory:this.addSuggestion(e);break;case b.Object:this.sinaObjectSuggestionFormatter.format(this,e);break;default:break;}}return this.suggestions;},addSuggestion:function(s){this.suggestions.push(s);this.numberSuggestionsByType[s.uiSuggestionType]+=1;},formatSearchTermDataSuggestion:function(s){if(this.model.getDataSource()===this.model.allDataSource){if(this.firstObjectDataSuggestion){this.firstObjectDataSuggestion=false;if(s.childSuggestions.length>0){s.label=this.assembleSearchInSuggestionLabel(s);s.grouped=true;this.addSuggestion(s);this.addChildSuggestions(s);}else{this.addSuggestion(s);}}else{this.addSuggestion(s);}}else{this.addSuggestion(s);}},addChildSuggestions:function(s){for(var i=0;i<Math.min(2,s.childSuggestions.length);++i){if(this.isSuggestionLimitReached(b.SearchTermData)){return;}var e=s.childSuggestions[i];e.label=this.assembleSearchInSuggestionLabel(e);e.grouped=true;this.addSuggestion(e);}},assembleSearchInSuggestionLabel:function(s){return sap.ushell.resources.i18n.getText("resultsIn",['<span>'+s.label+'</span>',s.filter.dataSource.labelPlural]);},getSuggestionType:function(s){switch(s.type){case this.sinaNext.SuggestionType.SearchTerm:if(s.calculationMode===this.sinaNext.SuggestionCalculationMode.History){return b.SearchTermHistory;}return b.SearchTermData;case this.sinaNext.SuggestionType.SearchTermAndDataSource:if(s.calculationMode===this.sinaNext.SuggestionCalculationMode.History){return b.SearchTermHistory;}return b.SearchTermData;case this.sinaNext.SuggestionType.DataSource:return b.DataSource;case this.sinaNext.SuggestionType.Object:return b.Object;}}});return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/suggestions/SuggestionHandler',['sap/ushell/renderers/fiori2/search/SearchHelper','sap/ushell/renderers/fiori2/search/suggestions/SinaSuggestionProvider','sap/ushell/renderers/fiori2/search/suggestions/AppSuggestionProvider','sap/ushell/renderers/fiori2/search/suggestions/TimeMerger','sap/ushell/renderers/fiori2/search/suggestions/SuggestionType'],function(S,a,A,T,b){"use strict";var s={};s.SuggestionHandler=function(){this.init.apply(this,arguments);};s.SuggestionHandler.prototype={init:function(p){var t=this;t.model=p.model;t.suggestionProviders=[];t.keyboardRelaxationTime=t.model.config.suggestionKeyboardRelaxationTime;t.uiUpdateInterval=500;t.uiClearOldSuggestionsTimeOut=1000;t.appSuggestionProvider=new A({model:t.model,suggestionHandler:this});t.doSuggestionInternal=S.delayedExecution(t.doSuggestionInternal,t.keyboardRelaxationTime);t.timeMerger=new T();},abortSuggestions:function(c){if(c===undefined||c===true){this.model.setProperty("/suggestions",[]);}if(this.clearSuggestionTimer){clearTimeout(this.clearSuggestionTimer);this.clearSuggestionTimer=null;}this.doSuggestionInternal.abort();this.getSuggestionProviders().done(function(d){for(var i=0;i<d.length;++i){var e=d[i];e.abortSuggestions();}});this.timeMerger.abort();},getSuggestionProviders:function(){var t=this;if(t.suggestionProvidersDeferred){return t.suggestionProvidersDeferred;}t.suggestionProvidersDeferred=t.model.initBusinessObjSearch().then(function(){t.sinaNext=t.model.sinaNext;var c;if(t.model.isSearchInputHelp){c=[new a({model:t.model,sinaNext:t.sinaNext,suggestionTypes:[b.Object],suggestionHandler:t})];}else{c=[t.appSuggestionProvider];if(!t.model.config.searchBusinessObjects){return jQuery.when(c);}c.push.apply(c,t.createSinaSuggestionProviders());}return jQuery.when(c);});return t.suggestionProvidersDeferred;},createSinaSuggestionProviders:function(){var p=[{suggestionTypes:[b.SearchTermHistory]},{suggestionTypes:[b.SearchTermData]},{suggestionTypes:[b.DataSource]}];if(this.model.config.boSuggestions){p.push({suggestionTypes:[b.Object]});}var c=[];for(var k=0;k<p.length;++k){var d=p[k];c.push(new a({model:this.model,sinaNext:this.sinaNext,suggestionTypes:d.suggestionTypes,suggestionHandler:this}));}return c;},isSuggestionPopupVisible:function(){return jQuery('.searchSuggestion').filter(':visible').length>0;},doSuggestion:function(f){this.abortSuggestions(false);this.doSuggestionInternal(f);},autoSelectAppSuggestion:function(f){return this.appSuggestionProvider.getSuggestions(f).then(function(s){return s[0];});},doSuggestionInternal:function(f){var t=this;t.firstInsertion=true;t.busyIndicator=false;var c=t.model.getProperty("/uiFilter/searchTerm");if(c.length===0){t.insertSuggestions([],0);return;}if(c.trim()==='*'){t.insertSuggestions([],0);return;}t.model.eventLogger.logEvent({type:t.model.eventLogger.SUGGESTION_REQUEST,suggestionTerm:t.model.getProperty('/uiFilter/searchTerm'),dataSourceKey:t.model.getProperty('/uiFilter/dataSource').id});t.getSuggestionProviders().done(function(d){var p=[];var e=d.length;for(var i=0;i<d.length;++i){var g=d[i];p.push(g.getSuggestions(f));}if(t.isSuggestionPopupVisible()){if(t.clearSuggestionTimer){clearTimeout(t.clearSuggestionTimer);}t.clearSuggestionTimer=setTimeout(function(){t.clearSuggestionTimer=null;t.insertSuggestions([],e);},t.uiClearOldSuggestionsTimeOut);}else{t.insertSuggestions([],e);}t.timeMerger.abort();t.timeMerger=new T(p,t.uiUpdateInterval);t.timeMerger.process(function(r){e-=r.length;var s=[];for(var j=0;j<r.length;++j){var h=r[j];s.push.apply(s,h);}if(e>0&&s.length===0){return;}if(t.clearSuggestionTimer){clearTimeout(t.clearSuggestionTimer);t.clearSuggestionTimer=null;}t.insertSuggestions(s,e);});});},generateSuggestionHeader:function(i){var h={};switch(i.uiSuggestionType){case b.App:h.label=sap.ushell.resources.i18n.getText('label_apps');break;case b.DataSource:h.label=sap.ushell.resources.i18n.getText('searchIn');break;case b.SearchTermData:case b.SearchTermHistory:h.label=sap.ushell.resources.i18n.getText('searchFor');break;case b.Object:h.label=i.dataSource.labelPlural;h.dataSource=i.dataSource;break;}h.position=b.properties[i.uiSuggestionType].position;h.suggestionResultSetCounter=this.suggestionResultSetCounter;h.uiSuggestionType=b.Header;return h;},enableBusyIndicator:function(s,e){if(e){s.push({position:b.properties[b.BusyIndicator].position,uiSuggestionType:b.BusyIndicator});return;}for(var i=0;i<s.length;++i){var c=s[i];if(c.uiSuggestionType===b.BusyIndicator){s.splice(i,1);return;}}},checkDuplicate:function(s,c){var d=function(e){return c.uiSuggestionType===b.SearchTermHistory||(c.uiSuggestionType===b.SearchTermData&&!c.dataSource);};if(!d(c)){return{action:'append'};}for(var i=0;i<s.length;++i){var e=s[i];if(!d(e)){continue;}if(c.searchTerm===e.searchTerm){if(c.grouped&&c.uiSuggestionType===b.SearchTermData&&e.uiSuggestionType===b.SearchTermHistory){return{action:'replace',index:i};}return{action:'skip'};}}return{action:'append'};},insertSuggestions:function(i,p){var s=this.model.getProperty('/suggestions').slice();s=this.insertIntoSuggestionList(i,s);if(!this.busyIndicator&&p>0){this.enableBusyIndicator(s,true);this.busyIndicator=true;}if(this.busyIndicator&&p===0){this.enableBusyIndicator(s,false);this.busyIndicator=false;}this.sortSuggestions(s);this.limitSuggestions(s);this.updateSuggestions(s);},insertIntoSuggestionList:function(c,s){var f=false;if(this.firstInsertion){this.firstInsertion=false;f=true;}if(f){s=[];this.suggestionHeaders={};this.suggestionResultSetCounter=0;this.generatedPositions={maxPosition:b.properties[b.Object].position,position:{}};}this.suggestionResultSetCounter+=1;for(var i=0;i<c.length;++i){var d=c[i];if(d.uiSuggestionType===b.Object){var p=this.generatedPositions.position[d.dataSource.id];if(!p){this.generatedPositions.maxPosition+=1;p=this.generatedPositions.maxPosition;this.generatedPositions.position[d.dataSource.id]=p;}d.position=p;}d.suggestionResultSetCounter=this.suggestionResultSetCounter;d.resultSetPosition=i;var e=this.checkDuplicate(s,d);switch(e.action){case'append':s.push(d);break;case'skip':continue;case'replace':s.splice(e.index,1,d);break;}if(!this.model.isSearchInputHelp){if(this.isHeaderGenerationEnabled()&&!this.suggestionHeaders[d.position]){s.push(this.generateSuggestionHeader(d));this.suggestionHeaders[d.position]=true;}}}return s;},isHeaderGenerationEnabled:function(){if(this.model.getDataSource()===this.model.appDataSource){return false;}if(!this.model.config.boSuggestions&&this.model.getDataSource().type===this.sinaNext.DataSourceType.BusinessObject){return false;}return true;},sortSuggestions:function(s){s.sort(function(c,d){var e=c.position-d.position;if(e!==0){return e;}if(c.uiSuggestionType===b.Header){return-1;}if(d.uiSuggestionType===b.Header){return 1;}if(c.grouped&&!d.grouped){return-1;}if(!c.grouped&&d.grouped){return 1;}e=c.suggestionResultSetCounter-d.suggestionResultSetCounter;if(e!==0){return e;}e=c.resultSetPosition-d.resultSetPosition;return e;});},getSuggestionLimit:function(u){var c=b.properties[u];if(typeof c==='undefined'){return Infinity;}var l;if(this.model.getDataSource()===this.model.sinaNext.allDataSource){l=c.limitDsAll;}else{l=c.limit;}return l;},limitSuggestions:function(s){var n={};for(var i=0;i<s.length;++i){var c=s[i];var d=c.uiSuggestionType;if(d===b.SearchTermHistory){d=b.SearchTermData;}var l=this.getSuggestionLimit(d);var e=n[d];if(typeof e==='undefined'){e=0;n[d]=e;}if(e>=l){s.splice(i,1);--i;continue;}n[d]=e+1;}},updateSuggestions:function(s){var c=sap.ui.getCore().byId('searchFieldInShell-input');if(!c){c=this.model.getProperty('/inputHelp');}var d=c.getSuggestionRows();var e;for(var i=0;i<d.length;++i){var f=d[i];var g=f.getBindingContext().getObject();if(f.getSelected()){e=g.key;}}this.model.setProperty('/suggestions',s);if(!e){return;}window.setTimeout(function(){var d=c.getSuggestionRows();for(var j=0;j<d.length;++j){var f=d[j];var g=f.getBindingContext().getObject();if(g.key===e){c._oSuggPopover._iPopupListSelectedIndex=j;f.setSelected(true);f.rerender();}}},100);}};return s.SuggestionHandler;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/suggestions/SuggestionProvider',[],function(){"use strict";var m=function(){this.init.apply(this,arguments);};m.prototype={init:function(p){jQuery.extend(this,p);},abortSuggestions:function(){},getSuggestions:function(){}};return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/suggestions/SuggestionType',[],function(){"use strict";var m={};m.App='App';m.DataSource='DataSource';m.SearchTermHistory='SearchTermHistory';m.SearchTermData='SearchTermData';m.Object='Object';m.Header='Header';m.BusyIndicator='BusyIndicator';m.types=[m.App,m.DataSource,m.SearchTermHistory,m.SearchTermData,m.Object];m.properties={App:{position:100,limitDsAll:3,limit:7},DataSource:{position:200,limitDsAll:2,limit:2},SearchTermHistory:{position:400,limitDsAll:7,limit:5},SearchTermData:{position:400,limitDsAll:7,limit:5},Object:{position:300,limitDsAll:3,limit:5},BusyIndicator:{position:900}};return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/suggestions/TimeMerger',[],function(){"use strict";var T=function(){this.init.apply(this,arguments);};var c=0;T.prototype={init:function(p,t){this.promiseList=p||[];this.timeDelay=t||1000;this.pending=this.promiseList.length;this.returned=[];this.aborted=false;this.counter=++c;this.errorResult=[];},abort:function(){this.aborted=true;},process:function(p){this.processorCallback=p;this.start();return this;},start:function(){for(var i=0;i<this.promiseList.length;++i){var p=this.promiseList[i];p.then(this.assembleDoneCallback(i),this.assembleErrorCallback(i));}this.scheduleProcessorNotification();},scheduleProcessorNotification:function(){var t=this;if(t.processorNotificationSchedule){window.clearTimeout(t.processorNotificationSchedule);t.processorNotificationSchedule=null;}t.processorNotificationSchedule=window.setTimeout(function(){t.notifyProcessor();},this.timeDelay);},notifyProcessor:function(){if(this.aborted){return;}if(this.returned.length>0){this.processorCallback(this.returned);this.returned=[];}if(this.pending>0){this.scheduleProcessorNotification();}},assembleDoneCallback:function(i){var t=this;return function(r){t.pending--;t.returned.push(r);if(t.pending===0){if(t.processorNotificationSchedule){window.clearTimeout(t.processorNotificationSchedule);t.processorNotificationSchedule=null;}t.notifyProcessor();}};},assembleErrorCallback:function(i){var t=this;return function(e){t.pending--;t.returned.push(t.errorResult);if(t.pending===0){if(t.processorNotificationSchedule){window.clearTimeout(t.processorNotificationSchedule);t.processorNotificationSchedule=null;}t.notifyProcessor();}};}};return T;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/userpref/SearchPrefs',['sap/ushell/renderers/fiori2/search/userpref/SearchPrefsModel'],function(S){"use strict";var m=sap.ushell.renderers.fiori2.search.userpref.SearchPrefs={};jQuery.extend(m,{model:new S(),getEntry:function(){return{title:sap.ushell.resources.i18n.getText('sp.userProfiling'),editable:true,isSearchPrefsActive:this.model.isSearchPrefsActive.bind(this.model),value:this.model.shortStatus.bind(this.model),onSave:this.model.savePreferences.bind(this.model),onCancel:this.model.cancelPreferences.bind(this.model),content:function(){return this.model.asyncInit().then(function(){var u=sap.ui.view({id:'searchPrefsView',type:sap.ui.core.mvc.ViewType.JS,viewName:'sap.ushell.renderers.fiori2.search.userpref.SearchPrefsDialog'});u.setModel(this.model);return u;}.bind(this));}.bind(this)};}});return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/userpref/SearchPrefsDialog.view',["sap/m/MessageBox"],function(){"use strict";return sap.ui.jsview("sap.ushell.renderers.fiori2.search.userpref.SearchPrefsDialog",{createContent:function(c){this.firstTimeBeforeRendering=true;var C=new sap.m.CheckBox({selected:{path:"/personalizedSearch",mode:sap.ui.model.BindingMode.TwoWay},text:sap.ushell.resources.i18n.getText("sp.userProfilingField"),enabled:"{/searchPrefsActive}"});this.resetButton=new sap.m.Button({text:sap.ushell.resources.i18n.getText("sp.clearCollectedData"),press:this.resetHistory.bind(this),enabled:{parts:['/searchPrefsActive','/resetButtonWasClicked'],formatter:function(s,r){return s&&!r;}}});var l=new sap.ui.layout.VerticalLayout({content:[new sap.m.Text({text:sap.ushell.resources.i18n.getText('sp.disclaimer')})]});var a=[C,l,this.resetButton];return a;},onBeforeRendering:function(){if(this.firstTimeBeforeRendering){this.firstTimeBeforeRendering=false;return;}this.getModel().reload();},resetHistory:function(){this.getModel().resetProfile().then(function(){},function(r){var e=sap.ushell.resources.i18n.getText('sp.resetFailed');e+='\n'+r;sap.m.MessageBox.show(e,{title:sap.ushell.resources.i18n.getText("sp.resetFailedTitle"),icon:sap.m.MessageBox.Icon.ERROR,actions:[sap.m.MessageBox.Action.OK]});});},formatErrorResponse:function(r){var p;try{p=JSON.parse(r);}catch(e){return r;}if(!p.ErrorDetails){return r;}var a=[];for(var i=0;i<p.ErrorDetails.length;++i){var b=p.ErrorDetails[i];a.push(b.Message+' ('+b.Code+')');}return a.join('\n');},switchChangeHandler:function(e){var s=e.getSource();if(s.getState()){return;}var i=sap.ushell.resources.i18n;var d=i.getText("sp.disable");sap.m.MessageBox.confirm(i.getText('sp.disablingUserProfilingMsg'),{title:sap.ushell.resources.i18n.getText("sp.disableUserProfiling"),icon:sap.m.MessageBox.Icon.QUESTION,actions:[d,sap.m.MessageBox.Action.CANCEL],onClose:function(a){if(a==sap.m.MessageBox.Action.CANCEL){s.setState(true);}}});},openMessageBox:function(){var t=this;var i=sap.ushell.resources.i18n;var c=i.getText("sp.clear");sap.m.MessageBox.confirm(i.getText('sp.profileWillBeReset'),{title:sap.ushell.resources.i18n.getText("sp.clearCollectedData"),icon:sap.m.MessageBox.Icon.QUESTION,actions:[c,sap.m.MessageBox.Action.CANCEL],onClose:function(a){if(a==c){t.getModel().resetProfile();}}});}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/userpref/SearchPrefsModel',['sap/ui/model/json/JSONModel','sap/ushell/renderers/fiori2/search/SearchModel','sap/ushell/renderers/fiori2/search/SearchConfiguration','sap/ushell/renderers/fiori2/search/SearchHelper'],function(J,S,a,b){"use strict";var p='sap.ushell.renderers.fiori2.search.userpref.SearchPrefsModel';return sap.ui.model.json.JSONModel.extend(p,{asyncInit:function(){var t=this;if(t.initializedDeferred){return t.initializedDeferred;}t.searchModel=sap.ushell.renderers.fiori2.search.getModelSingleton();t.initializedDeferred=t.searchModel.initBusinessObjSearch().then(function(){if(!t.searchModel.config.searchBusinessObjects){t.setProperty('/searchPrefsActive',false);t.setProperty('/personalizedSearch',false);t.setProperty('/resetButtonWasClicked',false);return undefined;}var s=t.searchModel.sinaNext;return b.convertPromiseTojQueryDeferred(s.getConfigurationAsync({forceReload:true})).then(function(c){t.configuration=c;t.setProperty('/searchPrefsActive',c.isPersonalizedSearchEditable);t.setProperty('/personalizedSearch',c.personalizedSearch);t.setProperty('/resetButtonWasClicked',false);});});return t.initializedDeferred;},reload:function(){this.initializedDeferred=false;return this.asyncInit();},shortStatus:function(){return this.asyncInit().then(function(){return this.getProperty('/personalizedSearch')?sap.ushell.resources.i18n.getText('sp.on'):sap.ushell.resources.i18n.getText('sp.off');}.bind(this));},isSearchPrefsActive:function(){return this.asyncInit().then(function(){return this.getProperty('/searchPrefsActive');}.bind(this));},savePreferences:function(){this.configuration.setPersonalizedSearch(this.getProperty('/personalizedSearch'));return b.convertPromiseTojQueryDeferred(this.configuration.saveAsync()).then(function(){this.setProperty('/resetButtonWasClicked',false);}.bind(this));},cancelPreferences:function(){this.setProperty('/personalizedSearch',this.configuration.personalizedSearch);this.setProperty('/resetButtonWasClicked',false);},resetProfile:function(){return b.convertPromiseTojQueryDeferred(this.configuration.resetPersonalizedSearchDataAsync()).then(function(){this.setProperty('/resetButtonWasClicked',true);}.bind(this));}});});
sap.ui.predefine('sap/ushell/services/Bookmark',["sap/ui/thirdparty/jquery","sap/ushell/Config","sap/ushell/library","sap/base/util/deepClone","sap/base/util/deepExtend"],function(q,C,l,d,a){"use strict";function B(){var L=sap.ushell.Container.getService("LaunchPage");if(C.last("/core/spaces/enabled")){this._oPagesServicePromise=sap.ushell.Container.getServiceAsync("Pages");}else{this._oPagesServicePromise=Promise.reject("Pages service is not available in classic homepage mode.");}this._isMatchingRemoteCatalog=function(c,r){var o=L.getCatalogData(c);return o.remoteId===r.remoteId&&o.baseUrl.replace(/\/$/,"")===r.baseUrl.replace(/\/$/,"");};this._addBookmarkToContentNodes=function(b,c,e){var f=l.ContentNodeType;var p=c.map(function(o){if(o&&o.hasOwnProperty("type")&&o.isContainer){switch(o.type){case f.Page:return this.addBookmarkToPage(b,o.id);case f.HomepageGroup:return new Promise(function(r,g){L.getGroupById(o.id).done(r).fail(g);}).then(function(g){return this.addBookmarkToHomepageGroup(b,g,e);}.bind(this));default:return Promise.reject("Bookmark Service: The API needs to be called with a valid content node type. '"+o.type+"' is not supported.");}}return Promise.reject("Bookmark Service: Not a valid content node.");}.bind(this));return Promise.all(p);};this.addBookmark=function(p,c){var D=new q.Deferred();if(!C.last("/core/shell/enablePersonalization")){return D.resolve().promise();}if(typeof c==="undefined"&&C.last("/core/spaces/enabled")){sap.ushell.Container.getServiceAsync("Menu").then(function(m){return m.getDefaultPage();}).then(function(P){return{id:P.id,label:P.title,type:l.ContentNodeType.Page,isContainer:true};}).then(function(o){this._addBookmarkToContentNodes(p,[o]).then(D.resolve).catch(D.reject);}.bind(this));return D.promise();}if((typeof c==="undefined"||!c.hasOwnProperty("type"))&&!Array.isArray(c)){this.addBookmarkToHomepageGroup(p,c).then(D.resolve).catch(D.reject);return D.promise();}var b=[].concat(c);this._addBookmarkToContentNodes(p,b).then(D.resolve).catch(D.reject);return D.promise();};this.addCustomBookmark=function(v,c,b){var o=d(c);var e=a(o,{vizType:v,vizConfig:{"sap.flp":{chipConfig:o.chipConfig},"sap.platform.runtime":{includeManifest:!o.loadManifest}}});delete e.chipConfig;delete e.loadManifest;var f=[].concat(b);return this._addBookmarkToContentNodes(e,f,true);};this.addBookmarkToHomepageGroup=function(p,g,c){if(C.last("/core/spaces/enabled")){var e="Bookmark Service: The API is not available in spaces mode.";return Promise.reject(e);}return new Promise(function(r,b){var D=c?L.addCustomBookmark(p,g):L.addBookmark(p,g);D.done(function(t){var o={tile:t,group:g};sap.ui.getCore().getEventBus().publish("sap.ushell.services.Bookmark","bookmarkTileAdded",o);r();}).fail(b);});};this.addBookmarkToPage=function(p,P){if(!C.last("/core/spaces/enabled")){return Promise.reject("Bookmark Service: 'addBookmarkToPage' is not valid in launchpad homepage mode, use 'addBookmark' instead.");}if(!C.last("/core/shell/enablePersonalization")){return Promise.reject("Bookmark Service: Add bookmark is not allowed as the personalization functionality is not enabled.");}if(p&&(typeof p.title!=="string"||typeof p.url!=="string")){return Promise.reject("Bookmark Service - Invalid bookmark data.");}return this._oPagesServicePromise.then(function(o){return o.addBookmarkToPage(P,p);});};this.addBookmarkByGroupId=function(p,g){if(C.last("/core/spaces/enabled")){var e="Bookmark Service: The API 'addBookmarkByGroupId' is not supported in launchpad spaces mode.";return q.Deferred().reject(e).promise();}return L.getGroups().then(function(G){G=q.grep(G,function(b){return b.id===g;});var o=null;if(G.length>0){o=G[0];}return this.addBookmark(p,o);}.bind(this));};this.getShellGroupIDs=function(g){if(C.last("/core/spaces/enabled")){var e="Bookmark Service: The API 'getShellGroupIDs' is not supported in launchpad spaces mode.";return q.Deferred().reject(e).promise();}var D=new q.Deferred();L.getGroupsForBookmarks(g).done(function(G){G=G.map(function(b){var n={id:L.getGroupId(b.object),title:b.title};return n;});D.resolve(G);});return D;};this._doAddCatalogTileToGroup=function(D,c,o,g){var e,f=D.reject.bind(D);function i(c,h){var I=L.getCatalogTileId(h);if(I===undefined){return false;}return I.indexOf(c)===0;}function b(G){L.getCatalogTiles(o).fail(f).done(function(h){var g=L.getGroupId(G),t=h.some(function(j){if(i(c,j)){L.addTile(j,G).fail(f).done(function(){D.resolve();sap.ui.getCore().getEventBus().publish("sap.ushell.services.Bookmark","catalogTileAdded",g);});return true;}});if(!t){e="No tile '"+c+"' in catalog '"+L.getCatalogId(o)+"'";q.sap.log.error(e,null,"sap.ushell.services.Bookmark");f(e);}});}if(g){L.getGroups().fail(f).done(function(G){var h=G.some(function(j){if(L.getGroupId(j)===g){b(j);return true;}});if(!h){e="Group '"+g+"' is unknown";q.sap.log.error(e,null,"sap.ushell.services.Bookmark");f(e);}});}else{L.getDefaultGroup().fail(f).done(b);}return D.promise();};this.addCatalogTileToGroup=function(c,g,o){var D=new q.Deferred(),e,f=D.reject.bind(D),m,s="X-SAP-UI2-HANA:hana?remoteId=HANA_CATALOG",t=this;if(C.last("/core/spaces/enabled")){e="Bookmark Service: The API 'addCatalogTileToGroup' is not supported in launchpad spaces mode.";return D.reject(e).promise();}function i(b){return L.getCatalogId(b)===s;}m=o?this._isMatchingRemoteCatalog:i;o=o||{id:s};L.onCatalogTileAdded(c);L.getCatalogs().fail(f).done(function(b){var S;b.forEach(function(h){if(m(h,o)){if(!S){S=h;}else{q.sap.log.warning("More than one matching catalog: "+JSON.stringify(o),null,"sap.ushell.services.Bookmark");}}});if(S){t._doAddCatalogTileToGroup(D,c,S,g);}else{e="No matching catalog found: "+JSON.stringify(o);q.sap.log.error(e,null,"sap.ushell.services.Bookmark");D.reject(e);}});return D.promise();};this.countBookmarks=function(u){if(C.last("/core/spaces/enabled")){var D=q.Deferred();this._oPagesServicePromise.then(function(p){return p.countBookmarks({url:u});}).then(D.resolve,D.reject);return D.promise();}return L.countBookmarks(u);};this.countCustomBookmarks=function(i){if(!i||!i.url||!i.vizType){return Promise.reject("countCustomBookmarks: Some required parameters are missing.");}if(C.last("/core/spaces/enabled")){return this._oPagesServicePromise.then(function(p){return p.countBookmarks(i);});}return L.countCustomBookmarks(i);};this.deleteBookmarks=function(u){if(C.last("/core/spaces/enabled")){var D=q.Deferred();this._oPagesServicePromise.then(function(P){return P.deleteBookmarks({url:u});}).then(D.resolve,D.reject);return D.promise();}var p=L.deleteBookmarks(u);p.done(function(){sap.ui.getCore().getEventBus().publish("sap.ushell.services.Bookmark","bookmarkTileDeleted",u);});return p;};this.deleteCustomBookmarks=function(i){if(!i||!i.url||!i.vizType){return Promise.reject("deleteCustomBookmarks: Some required parameters are missing.");}if(C.last("/core/spaces/enabled")){return this._oPagesServicePromise.then(function(p){return p.deleteBookmarks(i);});}return L.deleteCustomBookmarks(i).then(function(){sap.ui.getCore().getEventBus().publish("sap.ushell.services.Bookmark","bookmarkTileDeleted",i.url);});};this.updateBookmarks=function(u,p){if(C.last("/core/spaces/enabled")){var D=q.Deferred();this._oPagesServicePromise.then(function(P){return P.updateBookmarks({url:u},p);}).then(D.resolve,D.reject);return D.promise();}return L.updateBookmarks(u,p);};this.updateCustomBookmarks=function(i,c){if(!i||!i.url||!i.vizType){return Promise.reject("deleteCustomBookmarks: Some required parameters are missing.");}var b=a({},c,{vizConfig:{"sap.flp":{chipConfig:c.chipConfig},"sap.platform.runtime":{includeManifest:!c.loadManifest}}});delete b.chipConfig;delete b.loadManifest;if(C.last("/core/spaces/enabled")){return this._oPagesServicePromise.then(function(p){return p.updateBookmarks(i,b);});}return L.updateCustomBookmarks(i,b);};this.getContentNodes=function(){var b=l.ContentNodeType;if(C.last("/core/spaces/enabled")){return sap.ushell.Container.getServiceAsync("Menu").then(function(m){return m.getSpacesPagesHierarchy();}).then(function(s){return s.spaces.map(function(S){return{id:S.id,label:S.title,type:b.Space,isContainer:false,children:S.pages.map(function(p){return{id:p.id,label:p.title,type:b.Page,isContainer:true};})};});});}return new Promise(function(r,c){L.getGroups().done(r).fail(c);}).then(function(h){return h.map(function(g){return{id:L.getGroupId(g),label:L.getGroupTitle(g),type:b.HomepageGroup,isContainer:true};});});};}B.hasNoAdapter=true;return B;},true);
sap.ui.predefine('sap/ushell/services/Configuration',["sap/ushell/Config"],function(C){"use strict";function a(){this.attachSizeBehaviorUpdate=function(c){var d=C.on("/core/home/sizeBehavior");d.do(c);return{detach:d.off};};this.getAppsSystems=function(){var d=new jQuery.Deferred();sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(c){c.getSite().done(function(s){var A;A=(s&&s.systemAliases&&JSON.parse(JSON.stringify(s.systemAliases)))||{};d.resolve(A);}).catch(function(){d.resolve({});});}).catch(function(){d.resolve({});});return d.promise();};}a.hasNoAdapter=true;return a;},true);
sap.ui.predefine('sap/ushell/services/ConfigurationDefaults',["sap/base/Log","sap/ushell/bootstrap/common/common.create.configcontract.core"],function(L,C){"use strict";function a(A){var d=C.getDefaultConfiguration();this.getDefaults=function(c){var t=this;return A.getDefaultConfig().then(function(D){var r=c.reduce(function(o,p){var R;if(t._isValidConfigPath(p)){var P=p.split("/"),s=P.pop(),O=D;for(var i=0;i<P.length&&O;i++){O=O[P[i]];}if(O&&O.hasOwnProperty(s)){R={defaultValue:O[s]};}else if(d.hasOwnProperty(p)){R={defaultValue:d[p]};}}if(R&&R.hasOwnProperty("defaultValue")&&typeof R.defaultValue==="undefined"){R.defaultValue=null;}o[p]=R;return o;},{});return Promise.resolve(r);});};}a.prototype._isValidConfigPath=function(p){if(!p||typeof p!=="string"){L.warning("Configuration path should be string");return false;}if(p.length===0){L.warning("Configuration path can not be empty string");return false;}if(p.charAt(0)==="/"){L.warning("Configuration path should not start with '/': "+p);return false;}return true;};a.hasNoAdapter=false;return a;},false);
sap.ui.predefine('sap/ushell/services/ContentExtension',[],function(){"use strict";var S="sap.ushell.services.ContentExtension";function C(a,c,p,s){}C.Type={SITE:"site"};C.prototype.registerContentProvider=function(p){var c;function l(E){jQuery.sap.log.error("An error occurred when calling #registerContentProvider",E,S);}if(p===null||typeof p!=="object"||Object.keys(p).length===0){l("parameters must be provided and must be a non-empty object");return;}if(typeof p.id!=="string"||p.id.length===0){l("id parameter should be a non-empty string");return;}if(typeof p.provider!=="object"||p.provider===null){l("provider member must be of type 'object' and not null");return;}if(p.type===C.Type.SITE){if(typeof p.provider.getSite!=="function"){l("Provider must expose a getSite member of type 'function', got '"+(typeof p.provider.getSite)+"' instead");return;}try{c=sap.ushell.Container.getService("CommonDataModel");}catch(e){l(e+"");}if(c){c.registerContentProvider(p.id,p.provider);}return;}l("Unknown type parameter. It should be one should be one of ["+Object.keys(C.Type).map(function(t){return"ContentExtension."+t;}).join(", ")+"] but '"+p.type+"' was provided");};C.hasNoAdapter=true;return C;},true);
sap.ui.predefine('sap/ushell/services/CrossApplicationNavigation',["sap/ushell/services/AppConfiguration","sap/ushell/services/_CrossApplicationNavigation/utils","sap/ushell/utils/type","sap/ushell/TechnicalParameters","sap/ushell/components/applicationIntegration/AppLifeCycle","sap/base/util/isPlainObject","sap/base/util/UriParameters","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath","sap/base/util/merge","sap/ushell/utils","sap/ushell/ApplicationType"],function(a,u,t,T,A,i,U,q,O,m,b,c){"use strict";function C(o,p,s){var d,S;if(s&&s.config){S=s.config;}function g(v,f){var r,h,n,j,k;if(typeof v!=="string"&&!i(v)&&v!==undefined){q.sap.log.error("Unexpected input type",null,"sap.ushell.services.CrossApplicationNavigation");return undefined;}if(v===undefined){return undefined;}r=a.getCurrentApplication();if(f){if(typeof f.getComponentData!=="function"||!i(f.getComponentData())||!f.getComponentData().startupParameters||!i(f.getComponentData().startupParameters)){q.sap.log.error("Cannot call getComponentData on component","the component should be an application root component","sap.ushell.services.CrossApplicationNavigation");}else{k=f.getComponentData().startupParameters;if(k.hasOwnProperty("sap-system")){h=k["sap-system"][0];}if(k.hasOwnProperty("sap-ushell-next-navmode")){n=k["sap-ushell-next-navmode"][0];}}}else{if(r&&r["sap-system"]){h=r["sap-system"];}else if(r&&r.url){h=new U(r.url).get("sap-system");}if(r&&r["sap-ushell-next-navmode"]){n=r["sap-ushell-next-navmode"];}else if(r&&r.url){n=new U(r.url).get("sap-ushell-next-navmode");}}if(r){j=r.contentProviderId;}var I=u._injectParameters({type:t,inject:{"sap-system":h,"sap-ushell-navmode":n,"sap-app-origin-hint":j},injectEmptyString:{"sap-app-origin-hint":true},args:v});return I;}function e(v){var f,h,j;if(localStorage&&localStorage["sap-ushell-enc-test"]==="false"){return v;}if(!S||!S["sap-ushell-enc-test"]){if(localStorage&&localStorage["sap-ushell-enc-test"]!=="true"){return v;}}if(typeof v!=="string"&&!i(v)&&v!==undefined){q.sap.log.error("Unexpected input type",null,"sap.ushell.services.CrossApplicationNavigation");return undefined;}if(v===undefined){return undefined;}if(i(v)){h=q.extend(true,{},v);if(h.target&&h.target.shellHash){if(typeof h.target.shellHash==="string"){if(h.target.shellHash!=="#"&&h.target.shellHash!==""){h.target.shellHash=e(h.target.shellHash);}}return h;}h.params=h.params||{};h.params["sap-ushell-enc-test"]=["A B%20C"];return h;}j=v;if(!/[?&]sap-system=/.test(j)){f=(j.indexOf("?")>-1)?"&":"?";j+=f+"sap-ushell-enc-test="+encodeURIComponent("A B%20C");}return j;}this._extractInnerAppRoute=function(I){var f=this,P,h;if(typeof I==="string"){P=I.split("&/");h=P.shift();return{intent:h,innerAppRoute:P.length>0?"&/"+P.join("&/"):""};}if(Object.prototype.toString.apply(I)==="[object Object]"){var j=O.get("target.shellHash",I);if(typeof j==="string"){var r=f._extractInnerAppRoute(j);I.target.shellHash=r.intent;return{intent:I,innerAppRoute:r.innerAppRoute};}if(I.hasOwnProperty("appSpecificRoute")){var v=I.appSpecificRoute;delete I.appSpecificRoute;var k=typeof v==="string"&&v.indexOf("&/")!==0&&v.length>0;return{innerAppRoute:k?"&/"+v:v,intent:I};}return{intent:I,innerAppRoute:""};}q.sap.log.error("Invalid input parameter","expected string or object","sap.ushell.services.CrossApplicationNavigation");return{intent:I};};this._injectInnerAppRoute=function(I,f){var h,j=this;if(!f){return I;}if(typeof I==="string"){return I+f;}if(Object.prototype.toString.apply(I)==="[object Object]"){h=O.get("target.shellHash",I);if(typeof h==="string"){I.target.shellHash=j._injectInnerAppRoute(h,f);return I;}I.appSpecificRoute=f;}return I;};this.hrefForExternal=function(f,h,j){var k,E,I;if(sap.ushell&&sap.ushell.Container&&typeof sap.ushell.Container.getService==="function"&&sap.ushell.Container.getService("ShellNavigation")){k=m({},f);E=this._extractInnerAppRoute(k);I=E.intent;u.addXAppStateFromParameter(I,"sap-xapp-state-data");k=g(I,h);k=u._injectStickyParameters({args:k,appLifeCycle:A,technicalParameters:T,type:t});k=e(k);k=this._injectInnerAppRoute(k,E.innerAppRoute);return sap.ushell.Container.getService("ShellNavigation").hrefForExternal(k,undefined,h,j);}q.sap.log.debug("Shell not available, no Cross App Navigation");if(j){return(new q.Deferred()).resolve("").promise();}return"";};this.expandCompactHash=function(h){return sap.ushell.Container.getService("NavTargetResolution").expandCompactHash(h);};this.backToPreviousApp=function(){if(this.isInitialNavigation()){this.toExternal({target:{shellHash:"#"},writeHistory:false});return;}this.historyBack();};this.historyBack=function(f){var h=-1;if(f&&typeof f==="number"){if(f<=0){q.sap.log.warning("historyBack called with an argument <= 0 and will result in a forward navigation or refresh","expected was an argument > 0","sap.ushell.services.CrossApplicationNavigation#historyBack");}h=f*-1;}window.history.go(h);};this.isInitialNavigation=function(){var f=sap.ushell&&sap.ushell.Container&&typeof sap.ushell.Container.getService==="function"&&sap.ushell.Container.getService("ShellNavigation");if(!f){q.sap.log.debug("ShellNavigation service not available","This will be treated as the initial navigation","sap.ushell.services.CrossApplicationNavigation");return true;}var I=f.isInitialNavigation();if(typeof I==="undefined"){return true;}return I;};this.toExternal=function(f,h){var j,E,I,w=f.writeHistory;if(sap.ushell&&sap.ushell.Container&&typeof sap.ushell.Container.getService==="function"&&sap.ushell.Container.getService("ShellNavigation")){j=m({},f);this._processShellHashWithParams(j);E=this._extractInnerAppRoute(j);I=E.intent;u.addXAppStateFromParameter(I,"sap-xapp-state-data");j=g(I,h);j=u._injectStickyParameters({args:j,appLifeCycle:A,technicalParameters:T,type:t});j=e(j);delete j.writeHistory;j=this._injectInnerAppRoute(j,E.innerAppRoute);sap.ushell.Container.getService("ShellNavigation").toExternal(j,h,w);return;}q.sap.log.debug("Shell not avialable, no Cross App Navigation");return;};this.hrefForAppSpecificHash=function(f){if(sap.ushell&&sap.ushell.Container&&typeof sap.ushell.Container.getService==="function"&&sap.ushell.Container.getService("ShellNavigation")){return sap.ushell.Container.getService("ShellNavigation").hrefForAppSpecificHash(f);}q.sap.log.debug("Shell not available, no Cross App Navigation; fallback to app-specific part only");return"#"+encodeURI(f);};this.getPrimaryIntent=function(f,P){var Q={},h,r=/^#\w+-displayFactSheet(?:$|\?.)/;Q.tags=["primaryAction"];Q.semanticObject=f;if(P){Q.params=P;}return this.getLinks(Q).then(function(l){if(l.length===0){delete Q.tags;Q.action="displayFactSheet";h=function(L,j){var E;if(L.intent===j.intent){return 0;}E=r.test(L.intent)^r.test(j.intent);if(E){return r.test(L.intent)?-1:1;}return L.intent<j.intent?-1:1;};return this.getLinks(Q);}h=function(L,j){if(L.intent===j.intent){return 0;}return L.intent<j.intent?-1:1;};return l;}.bind(this)).then(function(l){return l.length===0?null:l.sort(h)[0];});};this.getSemanticObjectLinks=function(f,P,I,h,j,k){var l,n,E;l=u._injectStickyParameters({args:{params:P},appLifeCycle:A,technicalParameters:T,type:t});l=g(l,h).params;l=e({params:l}).params;n=sap.ushell.Container.getService("NavTargetResolution");var v;if(Array.isArray(f)){v=[];f.forEach(function(r){v.push([{semanticObject:r[0],params:r[1],ignoreFormFactor:!!r[2],ui5Component:r[3],appStateKey:r[4],compactIntents:!!(r[5])}]);});}else{v={semanticObject:f,params:l,ignoreFormFactor:I,ui5Component:h,appStateKey:j,compactIntents:!!k};}E=b.invokeUnfoldingArrayArguments(n.getLinks.bind(n),[v]);return E;};this.getLinks=function(v){var E;E=b.invokeUnfoldingArrayArguments(this._getLinks.bind(this),[v]);return E;};this._getLinks=function(n){var N,P,f,h=sap.ushell.Container.getService("NavTargetResolution");if(typeof n==="undefined"){n={};}N=q.extend(true,{},n);N.compactIntents=!!N.compactIntents;N.action=N.action||undefined;N.paramsOptions=u.extractGetLinksParameterOptions(N.params);N=u._injectStickyParameters({args:N,appLifeCycle:A,technicalParameters:T,type:t});P=N.params?u.extractGetLinksParameterDefinition(N.params):N.params;f=g({params:P},N.ui5Component).params;f=e({params:f}).params;if(N.appStateKey){f["sap-xapp-state"]=[N.appStateKey];delete N.appStateKey;}N.params=f;return h.getLinks(N);};this.getDistinctSemanticObjects=function(){var f=sap.ushell.Container.getService("NavTargetResolution");return f.getDistinctSemanticObjects();};this.isIntentSupported=function(I,f){var D=new q.Deferred(),h={},j=I.map(function(k){var l=g(k,f);h[l]=k;return l;});sap.ushell.Container.getService("NavTargetResolution").isIntentSupported(j).done(function(k){var l={};Object.keys(k).forEach(function(K){l[h[K]]=k[K];});D.resolve(l);}).fail(D.reject.bind(D));return D.promise();};this.isNavigationSupported=function(I,f){var h=I.map(function(j){return g(j,f);});return sap.ushell.Container.getService("NavTargetResolution").isNavigationSupported(h);};this.isUrlSupported=function(f){var D=new q.Deferred(),h,H;if(typeof f!=="string"){D.reject();return D.promise();}h=sap.ushell.Container.getService("URLParsing");if(h.isIntentUrl(f)){H=h.getHash(f);this.isIntentSupported(["#"+H]).done(function(r){if(r["#"+H]&&r["#"+H].supported){D.resolve();}else{D.reject();}}).fail(function(){D.reject();});}else{D.resolve();}return D.promise();};this.createComponentInstance=function(I,f,h){var D=new q.Deferred(),j=sap.ushell.Container;this.createComponentData(I,f).then(function(r){j.getServiceAsync("Ui5ComponentLoader").then(function(k){if(h){h.runAsOwner(function(){l(r);});}else{l(r);}function l(n){n.loadDefaultDependencies=false;k.instantiateComponent(n).then(function(v){D.resolve(v.componentHandle.getInstance());},function(E){E=E||"";q.sap.log.error("Cannot create UI5 component: "+E,E.stack,"sap.ushell.services.CrossApplicationNavigation");D.reject(E);});}});},function(E){D.reject(E);});return D.promise();};this.createComponentData=function(I,f){return new Promise(function(r,R){var h=sap.ushell.Container,j,k;if(!f){f={};}else{k=Object.keys(f).length;if(k>1||(k===1&&!f.componentData)){R("`oConfig` argument should either be an empty object or contain only the `componentData` property.");return;}}if(f.componentData){delete f.componentData.startupParameters;delete f.componentData.config;delete f.componentData["sap-xapp-state"];}h.getServiceAsync("URLParsing").then(function(l){j=l.constructShellHash(l.parseShellHash(I));if(!j){R("Navigation intent invalid!");return;}h.getServiceAsync("NavTargetResolution").then(function(N){N.resolveHashFragment("#"+j).then(function(n){function v(x){x=q.extend(true,{},x,f);if(!x.ui5ComponentName){if(x.additionalInformation){x.ui5ComponentName=x.additionalInformation.replace(/^SAPUI5\.Component=/,"");}else if(x.name){x.ui5ComponentName=x.name;}}return x;}if(n.applicationType===c.URL.type&&n.appCapabilities&&n.appCapabilities.appFrameworkId==="UI5"&&sap.ushell.Container.inAppRuntime()){sap.ui["require"](["sap/ushell/appRuntime/ui5/services/AppLifeCycleAgent"],function(x){x.getAppInfo(n.appCapabilities.technicalAppComponentId).then(function(y){y=v(y);w({ui5ComponentName:n.appCapabilities.technicalAppComponentId,applicationDependencies:y,url:y.url});});});}else if(n.applicationType!==c.URL.type&&!(/^SAPUI5\.Component=/.test(n.additionalInformation))){R("The resolved target mapping is not of type UI5 component.");}else{w(n);}function w(x){h.getServiceAsync("Ui5ComponentLoader").then(function(y){x=v(x);x.loadDefaultDependencies=false;y.createComponentData(x).then(function(z){r(z);},function(E){E=E||"";q.sap.log.error("Cannot get UI5 component data: "+E,E.stack,"sap.ushell.services.CrossApplicationNavigation");R(E);});});}});});});});};this.createEmptyAppState=function(f,h,P,j){if(!d){d=sap.ushell.Container.getService("AppState");}if(!(f instanceof sap.ui.core.UIComponent)){throw new Error("The passed oAppComponent must be a UI5 Component.");}return d.createEmptyAppState(f,h,P,j);};this.getStartupAppState=function(f){this._checkComponent(f);var h=f.getComponentData()&&f.getComponentData()["sap-xapp-state"]&&f.getComponentData()["sap-xapp-state"][0];return this.getAppState(f,h);};this._checkComponent=function(f){if(!(f instanceof sap.ui.core.UIComponent)){throw new Error("oComponent passed must be a UI5 Component");}};this.getAppState=function(f,h){var j,D=new q.Deferred();this._checkComponent(f);if(!d){d=sap.ushell.Container.getService("AppState");}if(typeof h!=="string"){if(h!==undefined){q.sap.log.error("Illegal Argument sAppStateKey ");}setTimeout(function(){j=d.createEmptyUnmodifiableAppState(f);D.resolve(j);},0);return D.promise();}return d.getAppState(h);};this.getAppStateData=function(f){return b.invokeUnfoldingArrayArguments(this._getAppStateData.bind(this),[f]);};this._getAppStateData=function(f){var D=new q.Deferred();if(!d){d=sap.ushell.Container.getService("AppState");}if(typeof f!=="string"){if(f!==undefined){q.sap.log.error("Illegal Argument sAppStateKey ");}setTimeout(function(){D.resolve(undefined);},0);}else{d.getAppState(f).done(function(h){D.resolve(h.getData());}).fail(D.resolve.bind(D,undefined));}return D.promise();};this.saveMultipleAppStates=function(f){var r=[],D=new q.Deferred();f.forEach(function(h){r.push(h.save());});q.when.apply(this,r).done(function(){D.resolve(r);}).fail(function(){D.reject("save failed");});return D.promise();};this._processShellHashWithParams=function(f){var h,H;if(f&&f.processParams===true&&f.target&&f.target.shellHash&&f.params){h=sap.ushell.Container.getService("URLParsing");H=h.parseShellHash(f.target.shellHash);f.target={semanticObject:H.semanticObject,action:H.action,contextRaw:H.contextRaw};f.appSpecificRoute=H.appSpecificRoute;f.params=Object.assign({},f.params,H.params);}};this.getSupportedAppStatePersistencyMethods=function(){if(!d){d=sap.ushell.Container.getService("AppState");}return d.getSupportedPersistencyMethods();};this.makeStatePersistent=function(k,P,f){if(!d){d=sap.ushell.Container.getService("AppState");}return d.makeStatePersistent(k,P,f);};this.resolveIntent=function(h){var D=new q.Deferred();sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(N){N.resolveHashFragment(h).then(function(r){D.resolve({url:r.url});}).fail(function(M){D.reject(M);});});return D.promise();};}C.hasNoAdapter=true;return C;},true);
sap.ui.predefine('sap/ushell/services/DarkModeSupport',["sap/base/Log","sap/base/util/UriParameters","sap/ui/Device","sap/ushell/Config","sap/ushell/EventHub"],function(L,U,D,C,E){"use strict";var P="(prefers-color-scheme: dark)";function a(){this.channel=E.createChannel({"mode":undefined});this.darkMediaQueryList=window.matchMedia(P);this.doables=[];this.themeChangedCallback=null;this.darkMediaQueryListListener=null;}a.Mode={LIGHT:"light",DARK:"dark"};a.prototype.setup=function(){if(this.initialized){return;}this.initialized=true;this.themeChangedCallback=function(){this.channel.emit("/mode",this.getCurrentThemeMode());}.bind(this);sap.ui.getCore().attachThemeChanged(this.themeChangedCallback);this.themeChangedCallback();if(this.canAutomaticallyToggleDarkMode()){this.enableDarkModeBasedOnSystem();}};a.prototype.destroy=function(){this.channel.emit("/mode",null);this.doables.forEach(function(d){d.off();});this.doables=[];if(this.initialized){sap.ui.getCore().detachThemeChanged(this.themeChangedCallback);this.themeChangedCallback=null;this.disableDarkModeBasedOnSystem();this.initialized=false;}};a.prototype.attachModeChanged=function(c){var d=this.channel.on("/mode").do(function(m){c(m);});this.doables.push(d);};a.prototype.canAutomaticallyToggleDarkMode=function(){var i=this.darkMediaQueryList.media===P;return i&&!U.fromURL(window.location.href).has("sap-theme");};a.prototype.isThemeSupportDarkMode=function(t){t=t||this._getCurrentTheme();return!!this._findSupportedThemePair(t);};a.prototype._toggleDarkModeBasedOnSystemColorScheme=function(){var c=this._getCurrentTheme();if(this.darkMediaQueryList&&this.isThemeSupportDarkMode(c)){var s=this._findSupportedThemePair(c),i=this.darkMediaQueryList.matches;var t=i?s.dark:s.light;sap.ushell.Container.getUser().applyTheme(t);}};a.prototype._applyDefaultUserTheme=function(){var u=sap.ushell.Container.getUser();if(u.constants&&u.constants.themeFormat){u.applyTheme(u.getTheme(u.constants.themeFormat.ORIGINAL_THEME));}};a.prototype.toggleModeChange=function(){var c=this._getCurrentTheme(),s=this._findSupportedThemePair(c);if(s){var t=c===s.light?s.dark:s.light;sap.ushell.Container.getUser().applyTheme(t);}};a.prototype.enableDarkModeBasedOnSystem=function(){if(!this.initialized){L.warning("Automatic dark mode detection cannot be enabled, because the DarkModeSupport sevice was not setup.");return;}if(!this.canAutomaticallyToggleDarkMode()){L.warning("Automatic dark mode detection cannot be enabled, because your browser does not support dark mode detection");return;}if(this.darkMediaQueryListListener){L.warning("Automatic dark mode detection was already enabled");return;}if(D.support.matchmedialistener){this.darkMediaQueryListListener=this._toggleDarkModeBasedOnSystemColorScheme.bind(this);this.darkMediaQueryList.addListener(this.darkMediaQueryListListener);}this._toggleDarkModeBasedOnSystemColorScheme();};a.prototype.disableDarkModeBasedOnSystem=function(){if(this.darkMediaQueryListListener){this.darkMediaQueryList.removeListener(this.darkMediaQueryListListener);this.darkMediaQueryListListener=null;}this._applyDefaultUserTheme();};a.prototype.getCurrentThemeMode=function(){var c=this._getCurrentTheme(),s=this._findSupportedThemePair(c);if(s){return c===s.light?a.Mode.LIGHT:a.Mode.DARK;}return null;};a.prototype._getCurrentTheme=function(){return sap.ui.getCore().getConfiguration().getTheme();};a.prototype._findSupportedThemePair=function(c){var s=C.last("/core/darkMode/supportedThemes");return s.filter(function(S){return S.dark===c||S.light===c;})[0];};a.hasNoAdapter=true;return a;},true);
sap.ui.predefine('sap/ushell/services/EndUserFeedback',["sap/ushell/Config","sap/ui/thirdparty/URI","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery"],function(C,U,O,q){"use strict";function g(p,o){return O.get(p,o)||"";}function E(a){this.sendFeedback=function(e){var u,n,A,s,o,f,b,c,d;u=g("clientContext.navigationData.applicationInformation.url",e);n=g("clientContext.navigationData.navigationHash",e);A=g("clientContext.navigationData.applicationInformation.additionalInformation",e);s=g("clientContext.navigationData.applicationInformation.applicationType",e);f=g("clientContext.navigationData.formFactor",e);b=g("clientContext.userDetails.userId",e);c=g("clientContext.userDetails.eMail",e);d=e.feedbackText||"";o={feedbackText:d.slice(0,2000),ratings:e.ratings||{},additionalInformation:A,applicationType:s,url:u?this.getPathOfURL(u):"",navigationIntent:n.replace(/\?.*$/,""),formFactor:f,isAnonymous:e.isAnonymous||false,userId:e.isAnonymous?"":b,eMail:e.isAnonymous?"":c};return a.sendFeedback(o);};this.getLegalText=function(){return a.getLegalText();};this.isEnabled=function(){var d=new q.Deferred(),i=C.last("/core/extension/EndUserFeedback");if(!i){window.setTimeout(function(){d.reject();},0);return d.promise();}a.isEnabled().done(function(){d.resolve();}).fail(function(){d.reject();});return d.promise();};this.getPathOfURL=function(u){var o=new U(u);return o.pathname();};}E.hasNoAdapter=false;return E;},true);
sap.ui.predefine('sap/ushell/services/Menu',["sap/ushell/utils","sap/ui/model/json/JSONModel","sap/base/util/deepClone","sap/base/Log"],function(U,J,d,L){"use strict";function M(){this._init.apply(this,arguments);}M.prototype._init=function(a){this.oAdapter=a;this.oModel=new J();this._aBlockedList=[];};M.prototype.isMenuEnabled=function(){return this.oAdapter.isMenuEnabled();};M.prototype.getMenuEntries=function(){if(!this._oMenuEntriesPromise){this._oMenuEntriesPromise=this.oAdapter.getMenuEntries().then(function(m){return m.map(function(o){o.uid=U.generateUniqueId([]);if(o.menuEntries){o.menuEntries.forEach(function(s){s.uid=U.generateUniqueId([]);});}return o;});});}return this._oMenuEntriesPromise;};M.prototype.getSpacesPagesHierarchy=function(){if(!this._oSpacesPagesHierarchyPromise){this._oSpacesPagesHierarchyPromise=this.getMenuEntries().then(function(m){return{spaces:m.reduce(function(s,o){var p;if(o.menuEntries&&o.menuEntries.length){p=this._getAccessiblePages(o.menuEntries);}else{p=this._getAccessiblePages([o]);}if(p.length){s.push({title:o.title,id:p[0].spaceId,pages:p.map(function(P){return{title:P.title,id:P.id};})});}return s;}.bind(this),[])};}.bind(this)).catch(function(){return{spaces:[]};});}return this._oSpacesPagesHierarchyPromise;};M.prototype.getDefaultPage=function(){return this.getSpacesPagesHierarchy().then(function(s){var S=s.spaces.find(function(o){return(!!(o.id&&o.pages&&o.pages[0]&&o.pages[0].id));});return S.pages[0];});};M.prototype._getAccessiblePages=function(m){return m.filter(function(o){return o&&o.type==="IBN"&&o.target&&o.target.semanticObject==="Launchpad"&&o.target.action==="openFLPPage";}).map(function(o){var s=o.target.parameters.find(function(P){return P.name==="spaceId";});var p=o.target.parameters.find(function(P){return P.name==="pageId";});return{title:o.title,id:p&&p.value,spaceId:s&&s.value};});};M.prototype.hasMultiplePages=function(s){return this.getSpacesPagesHierarchy().then(function(h){var S=h.spaces.find(function(a){return a.id===s;});return S&&S.pages.length>1;});};M.prototype.getMenuModel=function(){return this.getMenuEntries().then(function(e){this.oModel.setData(e);return this.oModel;}.bind(this));};M.prototype._getNodeInfo=function(n,a,b,m){var N;for(var i=0;i<a.length;i++){if(!b){m=this._getManagerIdInNodeTree(n,a[i]);}if(a[i].id===n){return{node:a[i],isRootNode:!b,managerId:m||null};}if(a[i].menuEntries&&a[i].menuEntries.length>0){N=this._getNodeInfo(n,a[i].menuEntries,true,m);if(N.node){return N;}}}return{node:null,isRootNode:false,managerId:null};};M.prototype._nodeManagementPermitted=function(n,r,m){var N=this._getNodeInfo(n,r);if(!N.node){L.error("Node with id "+n+" cannot be found and will be skipped.");return false;}if(!!N.managerId&&N.managerId!==m){L.error("Node with id "+n+" cannot be managed by '"+m+"'"+" because it is already managed by '"+N.managerId+"'.");return false;}return true;};M.prototype._getManagerIdInNodeTree=function(n,a,m){if(a.id===n){return m||a.managerId;}if(a.managerId){m=a.managerId;}if(a.menuEntries&&a.menuEntries.length>0){for(var i=0;i<a.menuEntries.length;++i){m=this._getManagerIdInNodeTree(n,a.menuEntries[i],m);}return m;}return null;};M.prototype._updateNode=function(n,a,m){var t=d(m||{});function b(c){if(c){c.uid=c.uid||U.generateUniqueId([]);(c.menuEntries||[]).forEach(b);}}b(t);return a.map(function(c){if(c.id===n){return t;}if(c.menuEntries&&c.menuEntries.length>0){c.menuEntries=this._updateNode(n,c.menuEntries,t);}return c;}.bind(this));};M.prototype._createEntryProviders=function(m,n,a){var N=a.getData();var o={};var s;for(var i=0;i<n.length;++i){s=n[i];if(!this._nodeManagementPermitted(s,N,m)){continue;}o[s]={setData:function(b,c){var u=this._updateNode(b,N,c);a.setData(u);}.bind(this,s)};}return o;};M.prototype._isManagerBlocked=function(m){return this._aBlockedList.indexOf(m)>-1;};M.prototype._setManagerBlocked=function(m){this._aBlockedList.push(m);};M.prototype.getEntryProvider=function(p,n){if(this._isManagerBlocked(p)){L.error("ManagerId '"+p+"' is already listed as an entry manager.");return Promise.reject("ManagerId "+p+" is already listed as an entry manager.");}this._setManagerBlocked(p);return this.getMenuModel().then(function(m){return this._createEntryProviders(p,n,m);}.bind(this));};M.hasNoAdapter=false;return M;});
sap.ui.predefine('sap/ushell/services/NavigationDataProvider',["sap/ushell/resources"],function(r){"use strict";function N(){this.S_COMPONENT_NAME="sap.ushell.services.NavigationDataProvider";this._init.apply(this,arguments);}N.prototype._init=function(a,s){this.oAdapter=a;};N.prototype.getNavigationData=function(){return new Promise(function(a,b){var s=(this.oAdapter.getSystemAliases&&this.oAdapter.getSystemAliases())||{};this.oAdapter.getInbounds().then(function(i){a({systemAliases:s,inbounds:i});}).fail(function(e){var E={component:this.S_COMPONENT_NAME,description:r.i18n.getText("NavigationDataProvider.CannotLoadData"),detail:e};b(E);}.bind(this));}.bind(this));};N.hasNoAdapter=false;return N;});
sap.ui.predefine('sap/ushell/services/Notifications',["sap/ui/thirdparty/datajs","sap/ui/core/ws/SapPcpWebSocket","sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/model/json/JSONModel","sap/ushell/utils"],function(O,S,q,L,J,u){"use strict";function N(c,p,s){var m=new J(),t=new Date(),o=s&&s.config,r={getNotifications:{},getNotificationsByType:{},getNotificationsInGroup:{},getBadgeNumber:{},resetBadgeNumber:{},getNotificationTypesSettings:{},getNotificationsGroupHeaders:{},getMobileSupportSettings:{},getEmailSupportSettings:{},getWebSocketValidity:{},getNotificationCount:{}},w,W=o.webSocketUrl||"/sap/bc/apc/iwngw/notification_push_apc",P=o.pollingIntervalInSeconds||60,i,a,b,U=[],d=[],f=[],I=false,C=[],g=false,h=false,E=true,H,D,j=5000,k=6000,l=false,n={NOTIFICATIONS:0,NOTIFICATIONS_BY_TYPE:1,GET_BADGE_NUMBER:2,RESET_BADGE_NUMBER:3,GET_SETTINGS:4,GET_MOBILE_SUPPORT_SETTINGS:5,NOTIFICATIONS_GROUP_HEADERS:6,NOTIFICATIONS_IN_GROUP:7,GET_NOTIFICATIONS_COUNT:8,VALIDATE_WEBSOCKET_CHANNEL:9,GET_EMAIL_SUPPORT_SETTINGS:10,NOTIFICATIONS_BY_DATE_DESCENDING:"notificationsByDateDescending",NOTIFICATIONS_BY_DATE_ASCENDING:"notificationsByDateAscending",NOTIFICATIONS_BY_PRIORITY_DESCENDING:"notificationsByPriorityDescending",NOTIFICATIONS_BY_TYPE_DESCENDING:"notificationsByTypeDescending"},M={PACKAGED_APP:0,FIORI_CLIENT:1,WEB_SOCKET:2,POLLING:3},v,F=false,z,A=true,B=false,G=new q.Deferred(),K=new q.Deferred(),Q,R,T=G.promise(),V=false,X={},Y=10,Z=false,$=false,_=[];this.isEnabled=function(){if(!o.enabled||!o.serviceUrl){E=false;if(o.enabled&&!o.serviceUrl){L.warning("No serviceUrl was found in the service configuration");}}else{E=true;}return E;};this.init=function(){if((!g)&&(this.isEnabled())){sap.ui.getCore().getEventBus().subscribe("launchpad","sessionTimeout",this.destroy,this);this.lastNotificationDate=new Date();this._setWorkingMode();g=true;this.bUpdateDependencyInitiatorExists=false;this._userSettingInitialization();}sap.ui.getCore().getEventBus().subscribe("launchpad","setConnectionToServer",this._onSetConnectionToServer,this);};this._onSetConnectionToServer=function(e,x,y){if(y.active){this._resumeConnection();}else{this._closeConnection();}};this.getUnseenNotificationsCount=function(){var e=new q.Deferred();e.resolve(m.getProperty("/UnseenCount"));return e.promise();};this.getNotificationsCount=function(){return m.getProperty("/NotificationsCount")?m.getProperty("/NotificationsCount"):"0";};this.getNotificationsByTypeWithGroupHeaders=function(){var e,x,y=new q.Deferred(),a1=this._getRequestURI(n.NOTIFICATIONS_BY_TYPE);x={requestUri:a1};if(!this._getHeaderXcsrfToken()){e={};e["X-CSRF-Token"]="fetch";x.headers=e;}O.request(x,function(b1){y.resolve(b1);},function(b1){if(b1.response&&b1.response.statusCode===200&&b1.response.body){y.resolve(b1.response.body);}else{y.reject(b1);L.error("Notification service - oData executeAction failed: ",b1,"sap.ushell.services.Notifications");}});return y.promise();};this.getNotificationsGroupHeaders=function(){var e,x,y=new q.Deferred(),a1=this._getRequestURI(n.NOTIFICATIONS_GROUP_HEADERS);x={requestUri:a1};if(!this._getHeaderXcsrfToken()){e={};e["X-CSRF-Token"]="fetch";x.headers=e;}O.request(x,function(b1){y.resolve(b1);},function(b1){if(b1.response&&b1.response.statusCode===200&&b1.response.body){y.resolve(b1.response.body);}else{y.reject();L.error("Notification service - oData executeAction failed: ",b1,"sap.ushell.services.Notifications");}});return y.promise();};this.getNotificationsBufferInGroup=function(e,x,y){var a1=this,b1,c1,d1=new q.Deferred(),e1={group:e,skip:x,top:y},f1,g1,h1=this._getRequestURI(n.NOTIFICATIONS_IN_GROUP,e1);if(V===true){f1=X[n.NOTIFICATIONS_IN_GROUP].slice(x,x+y);g1=JSON.stringify({"@odata.context":"$metadata#Notifications","value":f1});setTimeout(function(){d1.resolve(g1);},1000);}else{c1={requestUri:h1};if(!this._getHeaderXcsrfToken()){b1={};b1["X-CSRF-Token"]="fetch";c1.headers=b1;}O.request(c1,function(i1){a1._updateCSRF(i1.response);d1.resolve(i1.value);},function(i1){if(i1.response&&i1.response.statusCode===200&&i1.response.body){a1._updateCSRF(i1.response);d1.resolve(JSON.parse(i1.response.body).value);}else{d1.reject();L.error("Notification service - oData executeAction failed: ",i1,"sap.ushell.services.Notifications");}});}return d1.promise();};this.getNotificationsBufferBySortingType=function(e,x,y){var a1=this,b1,c1,d1=new q.Deferred(),e1={skip:x,top:y},f1,g1,h1=this._getRequestURI(e,e1);if(V===true){f1=X[e].slice(x,x+y);g1=JSON.stringify({"@odata.context":"$metadata#Notifications","value":f1});setTimeout(function(){d1.resolve(g1);},1000);}else{c1={requestUri:h1,headers:{}};if(!this._getHeaderXcsrfToken()){b1={};b1["X-CSRF-Token"]="fetch";c1.headers=b1;}c1.headers["Accept-Language"]=sap.ui.getCore().getConfiguration().getLanguageTag();O.request(c1,function(i1){a1._updateCSRF(i1.response);d1.resolve(i1.value);},function(i1){if(i1.response&&i1.response.statusCode===200&&i1.response.body){a1._updateCSRF(i1.response);d1.resolve(JSON.parse(i1.response.body).value);}else{d1.reject();L.error("Notification service - oData executeAction failed: ",i1,"sap.ushell.services.Notifications");}});}return d1.promise();};this.getNotifications=function(){var e,x=new q.Deferred();if((v===M.FIORI_CLIENT)||(v===M.PACKAGED_APP)){e=this._readNotificationsData(false);e.done(function(){x.resolve(m.getProperty("/Notifications"));}).fail(function(){x.reject();});}else{x.resolve(m.getProperty("/Notifications"));}return x.promise();};this.executeBulkAction=function(e,x){var y=new q.Deferred(),a1=[],b1=[],c1={succededNotifications:a1,failedNotifications:b1},d1=this;d1.sendBulkAction(e,x).done(function(e1){e1.forEach(function(f1,g1){var h1=f1.NotificationId,i1=f1.Success;if(i1){a1.push(h1);}else{b1.push(h1);}});if(b1.length){y.reject(c1);}else{y.resolve(c1);}}).fail(function(){y.reject(c1);});return y.promise();};this.dismissBulkNotifications=function(e){var x=new q.Deferred(),y=this;y.sendBulkDismiss(e).done(function(){x.resolve();}).fail(function(){x.reject();});return x.promise();};this.executeAction=function(e,x){var y=this,a1=o.serviceUrl+"/ExecuteAction",b1={NotificationId:e,ActionId:x},c1={requestUri:a1,method:"POST",data:b1,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json","DataServiceVersion":D,"X-CSRF-Token":H}},d1=new q.Deferred();O.request(c1,function(e1){var f1,g1={isSucessfull:true,message:""};if(e1&&e1.response&&e1.response.statusCode===200&&e1.response.body){f1=JSON.parse(e1.response.body);g1.isSucessfull=f1.Success;g1.message=f1.MessageText;}d1.resolve(g1);},function(e1){var f1,g1={isSucessfull:false,message:""};if(e1.response&&e1.response.statusCode===200&&e1.response.body){f1=JSON.parse(e1.response.body);g1.isSucessfull=f1.Success;g1.message=f1.MessageText;d1.resolve(g1);}else if(y._csrfTokenInvalid(e1)&&(Z===false)){y._invalidCsrfTokenRecovery(d1,y.executeAction,[e,x]);}else{d1.reject(e1);L.error("Notification service - oData executeAction failed: ",e1,"sap.ushell.services.Notifications");}});return d1.promise();};this.sendBulkAction=function(e,x){var y=this,a1=o.serviceUrl+"/BulkActionByHeader",b1={ParentId:e,ActionId:x},c1={requestUri:a1,method:"POST",data:b1,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json","DataServiceVersion":D,"X-CSRF-Token":H}},d1=new q.Deferred();O.request(c1,function(e1){var f1,g1;if(e1&&e1.response&&e1.response.statusCode===200&&e1.response.body){f1=JSON.parse(e1.response.body);g1=f1.value;}d1.resolve(g1);},function(e1){var f1,g1;if(e1.response&&e1.response.statusCode===200&&e1.response.body){f1=JSON.parse(e1.response.body);g1=f1.value;d1.resolve(g1);}else if(y._csrfTokenInvalid(e1)&&(Z===false)){y._invalidCsrfTokenRecovery(d1,y.sendBulkAction,[e,x]);}else{d1.reject();L.error("Notification service - oData executeBulkAction failed: ",e1.message,"sap.ushell.services.Notifications");}});return d1.promise();};this.sendBulkDismiss=function(e){var x=this,y=o.serviceUrl+"/DismissAll",a1={ParentId:e},b1={requestUri:y,method:"POST",data:a1,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json","DataServiceVersion":D,"X-CSRF-Token":H}},c1=new q.Deferred();O.request(b1,function(){c1.resolve();},function(d1){if(d1.response&&d1.response.statusCode===200){c1.resolve();}else if(x._csrfTokenInvalid(d1)&&(Z===false)){x._invalidCsrfTokenRecovery(c1,x.sendBulkDismiss,[e]);}else{c1.reject();var e1=d1?d1.message:"";L.error("Notification service - oData executeBulkAction failed: ",e1,"sap.ushell.services.Notifications");}});return c1.promise();};this.markRead=function(e){var x=this,y=o.serviceUrl+"/MarkRead",a1={NotificationId:e},b1={requestUri:y,method:"POST",data:a1,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json","DataServiceVersion":D,"X-CSRF-Token":H}},c1=new q.Deferred();O.request(b1,function(){c1.resolve();},function(d1){if(x._csrfTokenInvalid(d1)&&(Z===false)){x._invalidCsrfTokenRecovery(c1,x.markRead,[e]);}else{L.error("Notification service - oData reset badge number failed: ",d1,"sap.ushell.services.Notifications");c1.reject(d1);}});return c1.promise();};this.dismissNotification=function(e){var x=o.serviceUrl+"/Dismiss",y=this,a1={NotificationId:e},b1={requestUri:x,method:"POST",data:a1,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json","DataServiceVersion":D,"X-CSRF-Token":H}},c1=new q.Deferred();O.request(b1,function(){y._addDismissNotifications(e);c1.resolve();},function(d1){if(y._csrfTokenInvalid(d1)&&(Z===false)){y._invalidCsrfTokenRecovery(c1,y.dismissNotification,[e]);}else{c1.reject(d1);L.error("Notification service - oData dismiss notification failed: ",d1,"sap.ushell.services.Notifications");}});return c1.promise();};this.registerNotificationsUpdateCallback=function(e){U.push(e);};this.registerDependencyNotificationsUpdateCallback=function(e,x){if(x===false){this.bUpdateDependencyInitiatorExists=true;}d.push({callback:e,dependent:x});};this.registerNotificationCountUpdateCallback=function(e){f.push(e);};this.notificationsSeen=function(){this._setNotificationsAsSeen();};this.isFirstDataLoaded=function(){return F;};this.readSettings=function(){var e;e=this._readSettingsFromServer();return e;};this.saveSettingsEntry=function(e){var x=this._writeSettingsEntryToServer(e);return x;};this.getUserSettingsFlags=function(){var e=new q.Deferred();if(B===true){e.resolve({highPriorityBannerEnabled:A});}else{T.done(function(){e.resolve({highPriorityBannerEnabled:A});});}return e.promise();};this.setUserSettingsFlags=function(e){A=e.highPriorityBannerEnabled;this._writeUserSettingsFlagsToPersonalization(e);};this._getNotificationSettingsMobileSupport=function(){return Q;};this._getDismissNotifications=function(){return _;};this.filterDismisssedItems=function(e,_){return e.filter(function(x){return!_.some(function(y){return y===x.originalItemId;});});};this._addDismissNotifications=function(e){if(_.indexOf(e)===-1){_.push(e);}};this._initializeDismissNotifications=function(){_=[];};this._getNotificationSettingsEmailSupport=function(){return R;};this.destroy=function(){h=true;if(i){clearTimeout(i);}else if(a){clearTimeout(a);}else if(b){clearTimeout(b);}if((v===M.WEB_SOCKET)&&w){w.close();}sap.ui.getCore().getEventBus().unsubscribe("launchpad","sessionTimeout",this.destroy,this);sap.ui.getCore().getEventBus().unsubscribe("launchpad","setConnectionToServer",this._onSetConnectionToServer,this);};this._readUnseenNotificationsCount=function(e){var x=this,y=new q.Deferred(),a1=this._getRequestURI(n.GET_BADGE_NUMBER),b1={requestUri:a1};O.read(b1,function(c1,d1){m.setProperty("/UnseenCount",d1.data.GetBadgeNumber.Number);x._setNativeIconBadge(d1.data.GetBadgeNumber.Number);y.resolve(d1.data.GetBadgeNumber.Number);},function(c1){if(c1.response&&c1.response.statusCode===200&&c1.response.body){var d1=JSON.parse(c1.response.body);m.setProperty("/UnseenCount",d1.value);x._setNativeIconBadge(d1.value);y.resolve(d1.value);}else{L.error("Notification service - oData read unseen notifications count failed: ",c1.message,"sap.ushell.services.Notifications");y.reject(c1);}});return y.promise();};this.readNotificationsCount=function(){var e=new q.Deferred(),x=this._getRequestURI(n.GET_NOTIFICATIONS_COUNT),y={requestUri:x};O.read(y,function(a1,b1){e.resolve(b1.data);},function(a1){if(a1.response&&a1.response.statusCode===200&&a1.response.body){var b1=JSON.parse(a1.response.body);e.resolve(b1.value);}else{L.error("Notification service - oData read notifications count failed: ",a1.message,"sap.ushell.services.Notifications");e.reject(a1);}});return e.promise();};this._getNotificationSettingsAvalability=function(){return K.promise();};this._setNotificationsAsSeen=function(){var e=this,x=new q.Deferred(),y=this._getRequestURI(n.RESET_BADGE_NUMBER),a1={requestUri:y,method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json","DataServiceVersion":D,"X-CSRF-Token":H}};if(this._isFioriClientMode()===true||this._isPackagedMode()===true){this._setNativeIconBadge(0);}O.request(a1,function(){x.resolve();},function(b1){if(e._csrfTokenInvalid(b1)&&(Z===false)){e._invalidCsrfTokenRecovery(x,e._setNotificationsAsSeen);}else{L.error("Notification service - oData reset badge number failed: ",b1,"sap.ushell.services.Notifications");x.reject(b1);}});return x.promise();};this._readNotificationsData=function(e){var x=this,y,a1,b1,c1=new q.Deferred(),d1=[];y=this._readUnseenNotificationsCount(e);d1.push(y);b1=this.readNotificationsCount();b1.done(function(e1){m.setProperty("/NotificationsCount",e1);});a1=this.getNotificationsBufferBySortingType(n.NOTIFICATIONS_BY_DATE_DESCENDING,0,Y);d1.push(a1);q.when.apply(q,d1).then(function(){d1[0].done(function(){if(e===true){x._updateNotificationsCountConsumers();}});d1[1].done(function(e1){m.setProperty("/Notifications",e1);x._notificationAlert(e1);if(e===true){x._updateNotificationsConsumers();x._updateDependentNotificationsConsumers();}c1.resolve();});});return c1.promise();};this._getHeaderXcsrfToken=function(){return H;};this._getDataServiceVersion=function(){return D;};this._getRequestURI=function(e,x){var y,a1=encodeURI(this._getConsumedIntents(e));switch(e){case n.NOTIFICATIONS:if(r.getNotifications.basic===undefined){r.getNotifications.basic=o.serviceUrl+"/Notifications?$expand=Actions,NavigationTargetParams&$filter=IsGroupHeader%20eq%20false";}if(this._isIntentBasedConsumption()){if(r.getNotifications.byIntents===undefined){r.getNotifications.byIntents=r.getNotifications.basic.concat("&intents%20eq%20"+a1);}return r.getNotifications.byIntents;}return r.getNotifications.basic;case n.NOTIFICATIONS_BY_TYPE:if(r.getNotificationsByType.basic===undefined){r.getNotificationsByType.basic=o.serviceUrl+"/Notifications?$expand=Actions,NavigationTargetParams";}if(this._isIntentBasedConsumption()){if(r.getNotificationsByType.byIntents===undefined){r.getNotificationsByType.byIntents=r.getNotificationsByType.basic.concat("&$filter=intents%20eq%20"+a1);}return r.getNotificationsByType.byIntents;}return r.getNotificationsByType.basic;case n.NOTIFICATIONS_GROUP_HEADERS:if(r.getNotificationsGroupHeaders.basic===undefined){r.getNotificationsGroupHeaders.basic=o.serviceUrl+"/Notifications?$expand=Actions,NavigationTargetParams&$filter=IsGroupHeader%20eq%20true";}if(this._isIntentBasedConsumption()){if(r.getNotificationsGroupHeaders.byIntents===undefined){r.getNotificationsGroupHeaders.byIntents=r.getNotificationsGroupHeaders.basic.concat("&intents%20eq%20"+a1);}return r.getNotificationsGroupHeaders.byIntents;}return r.getNotificationsGroupHeaders.basic;case n.NOTIFICATIONS_IN_GROUP:y=o.serviceUrl+"/Notifications?$expand=Actions,NavigationTargetParams&$orderby=CreatedAt desc&$filter=IsGroupHeader eq false and ParentId eq "+x.group+"&$skip="+x.skip+"&$top="+x.top;if(this._isIntentBasedConsumption()===true){y=y.concat("&intents%20eq%20"+a1);}break;case n.GET_BADGE_NUMBER:if(r.getBadgeNumber.basic===undefined){r.getBadgeNumber.basic=o.serviceUrl+"/GetBadgeNumber()";}if(this._isIntentBasedConsumption()){if(r.getBadgeNumber.byIntents===undefined){r.getBadgeNumber.byIntents=o.serviceUrl+"/GetBadgeCountByIntent("+a1+")";}return r.getBadgeNumber.byIntents;}return r.getBadgeNumber.basic;case n.GET_NOTIFICATIONS_COUNT:if(r.getNotificationCount.basic===undefined){r.getNotificationCount.basic=o.serviceUrl+"/Notifications/$count";}return r.getNotificationCount.basic;case n.RESET_BADGE_NUMBER:if(r.resetBadgeNumber.basic===undefined){r.resetBadgeNumber.basic=o.serviceUrl+"/ResetBadgeNumber";}return r.resetBadgeNumber.basic;case n.GET_SETTINGS:if(r.getNotificationTypesSettings.basic===undefined){r.getNotificationTypesSettings.basic=o.serviceUrl+"/NotificationTypePersonalizationSet";}return r.getNotificationTypesSettings.basic;case n.GET_MOBILE_SUPPORT_SETTINGS:if(r.getMobileSupportSettings.basic===undefined){r.getMobileSupportSettings.basic=o.serviceUrl+"/Channels(ChannelId='SAP_SMP')";}return r.getMobileSupportSettings.basic;case n.GET_EMAIL_SUPPORT_SETTINGS:if(r.getEmailSupportSettings.basic===undefined){r.getEmailSupportSettings.basic=o.serviceUrl+"/Channels(ChannelId='SAP_EMAIL')";}return r.getEmailSupportSettings.basic;case n.VALIDATE_WEBSOCKET_CHANNEL:if(r.getWebSocketValidity.basic===undefined){r.getWebSocketValidity.basic=o.serviceUrl+"/Channels('SAP_WEBSOCKET')";}return r.getWebSocketValidity.basic;case n.NOTIFICATIONS_BY_DATE_DESCENDING:y=o.serviceUrl+"/Notifications?$expand=Actions,NavigationTargetParams&$orderby=CreatedAt%20desc&$filter=IsGroupHeader%20eq%20false&$skip="+x.skip+"&$top="+x.top;if(this._isIntentBasedConsumption()===true){y=y.concat("&intents%20eq%20"+a1);}break;case n.NOTIFICATIONS_BY_DATE_ASCENDING:y=o.serviceUrl+"/Notifications?$expand=Actions,NavigationTargetParams&$orderby=CreatedAt%20asc&$filter=IsGroupHeader%20eq%20false&$skip="+x.skip+"&$top="+x.top;if(this._isIntentBasedConsumption()===true){y=y.concat("&intents%20eq%20"+a1);}break;case n.NOTIFICATIONS_BY_PRIORITY_DESCENDING:y=o.serviceUrl+"/Notifications?$expand=Actions,NavigationTargetParams&$orderby=Priority%20desc&$filter=IsGroupHeader%20eq%20false&$skip="+x.skip+"&$top="+x.top;if(this._isIntentBasedConsumption()===true){y=y.concat("&intents%20eq%20"+a1);}break;default:y="";}return y;};this._readSettingsFromServer_noConnection=function(){var e=new q.Deferred(),x=[{NotificationTypeId:"type1",NotificationTypeDesc:"aaaaabbbbb-cccccddddd",PriorityDefault:"HIGH",DoNotDeliver:false,DoNotDeliverMob:true},{NotificationTypeId:"type2",NotificationTypeDesc:"cccccdddddccc-aaaaabbbbb",PriorityDefault:"10-LOW",DoNotDeliver:true,DoNotDeliverMob:true}];e.resolve(JSON.stringify({"@odata.context":"$metadata#NotificationTypePersonalizationSet",value:x}));return e.promise();};this._readSettingsFromServer_noData=function(){var e=new q.Deferred();e.resolve(JSON.stringify({"@odata.context":"$metadata#NotificationTypePersonalizationSet","value":{}}));return e.promise();};this._readSettingsFromServer=function(){var e=this._getRequestURI(n.GET_SETTINGS),x={requestUri:e},y=new q.Deferred();O.request(x,function(a1){y.resolve(a1.results);},function(a1){if(a1.response&&a1.response.statusCode===200&&a1.response.body){y.resolve(a1.response.body);}else{y.reject(a1);L.error("Notification service - oData get settings failed: ",a1,"sap.ushell.services.Notifications");}});return y.promise();};this._readMobileSettingsFromServer=function(){return this._readChannelSettingsFromServer(n.GET_MOBILE_SUPPORT_SETTINGS);};this._readEmailSettingsFromServer=function(){return this._readChannelSettingsFromServer(n.GET_EMAIL_SUPPORT_SETTINGS);};this._readChannelSettingsFromServer=function(e){var x=this._getRequestURI(e),y={requestUri:x},a1=new q.Deferred(),b1,c1;O.request(y,function(d1){if(typeof(d1.results)==="string"){b1=JSON.parse(d1.results);b1.successStatus=true;c1=JSON.stringify(b1);a1.resolve(c1);}else{d1.results.successStatus=true;a1.resolve(d1.results);}},function(d1){if(d1.response&&d1.response.statusCode===200&&d1.response.body){b1=JSON.parse(d1.response.body);b1.successStatus=true;c1=JSON.stringify(b1);a1.resolve(c1);}else{a1.resolve(JSON.stringify({successStatus:false}));L.error("Notification service - oData get settings failed: ",d1,"sap.ushell.services.Notifications");}});return a1.promise();};this._checkWebSocketActivity=function(){var e=this._getRequestURI(n.VALIDATE_WEBSOCKET_CHANNEL),x={requestUri:e},y=new q.Deferred(),a1;O.request(x,function(b1){if(typeof(b1.results)==="string"){a1=JSON.parse(b1.results);y.resolve(a1.IsActive);}else{y.resolve(false);}},function(b1){if(b1.response&&b1.response.statusCode===200&&b1.response.body){a1=JSON.parse(b1.response.body);y.resolve(a1.IsActive);}else{y.resolve(false);L.error("Notification service - oData get settings failed: ",b1,"sap.ushell.services.Notifications");}});return y.promise();};this._writeSettingsEntryToServer=function(e){var x=this,y,a1=this._getRequestURI(n.GET_SETTINGS)+"(NotificationTypeId="+e.NotificationTypeId+")",b1={requestUri:a1,method:"PUT",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json","DataServiceVersion":D,"X-CSRF-Token":H}};b1.data=JSON.parse(JSON.stringify(e));b1.data["@odata.context"]="$metadata#NotificationTypePersonalizationSet/$entity";y=new q.Deferred();O.request(b1,function(c1){y.resolve(c1);},function(c1){if(c1.response&&c1.response.statusCode===200&&c1.response.body){y.resolve(c1.response.body);}else if(x._csrfTokenInvalid(c1)&&(Z===false)){x._invalidCsrfTokenRecovery(y,x._writeSettingsEntryToServer,[e]);}else{y.reject(c1);L.error("Notification service - oData set settings entry failed: ",c1,"sap.ushell.services.Notifications");}});return y.promise();};this._updateNotificationsConsumers=function(){U.forEach(function(e){e();});};this._updateDependentNotificationsConsumers=function(){var e=this,x=new q.Deferred();d.forEach(function(y){if(e.bUpdateDependencyInitiatorExists===false){y.callback();}else if(y.dependent===true){y.callback(x.promise());}else{y.callback(x);}});};this._updateNotificationsCountConsumers=function(){f.forEach(function(e){e();});};this._updateAllConsumers=function(){this._updateNotificationsConsumers();this._updateNotificationsCountConsumers();this._updateDependentNotificationsConsumers();};this._getModel=function(){return m;};this._getMode=function(){return v;};this._setWorkingMode=function(){var e;if(o.intentBasedConsumption===true){C=this._getIntentsFromConfiguration(o.consumedIntents);if(C.length>0){I=true;}}if(this._isPackagedMode()){v=M.PACKAGED_APP;e=this._getIntentsFromConfiguration(window.fiori_client_appConfig.applications);if(e.length>0){C=e;}if(C.length>0){I=true;}this._registerForPush();this._readNotificationsData(true);this._setNativeIconBadgeWithDelay();return;}this._performFirstRead();};this._performFirstRead=function(){var e=this,x,y=this._readNotificationsData(true);y.done(function(){x=e._getFioriClientRemainingDelay();if(x<=0){e._fioriClientStep();}else{i=setTimeout(function(){e._fioriClientStep();},x);}F=true;}).fail(function(a1){L.error("Notifications oData read failed. Error: "+a1);return;});};this._fioriClientStep=function(){var e=this,x;if(this._isFioriClientMode()){v=M.FIORI_CLIENT;this._addPushNotificationHandler();x=this.getUnseenNotificationsCount();x.done(function(y){e._setNativeIconBadge(y,function(){});}).fail(function(){});}else{this._webSocketStep();}};this._webSocketStep=function(){v=M.WEB_SOCKET;this._establishWebSocketConnection();};this._webSocketRecoveryStep=function(){if(l===false){l=true;a=setTimeout(function(){this._webSocketStep();}.bind(this),j);}else{this._activatePollingAfterInterval();}};this._activatePollingAfterInterval=function(){var e=this;clearTimeout(b);b=setTimeout(function(){e._activatePolling();},P*1000);};this._activatePolling=function(){var e=this;v=M.POLLING;this._readNotificationsData(true);clearTimeout(b);b=setTimeout(e._activatePolling.bind(e,P,false),(P*1000));};this._formatAsDate=function(e){return new Date(e);};this._notificationAlert=function(e){if(A===false){return;}var x,y=[],a1=0;for(x in e){if(this.lastNotificationDate&&this._formatAsDate(e[x].CreatedAt)>this.lastNotificationDate){if(e[x].Priority==="HIGH"){y.push(e[x]);}}if(a1<this._formatAsDate(e[x].CreatedAt)){a1=this._formatAsDate(e[x].CreatedAt);}}if(this.lastNotificationDate&&y&&y.length>0){sap.ui.getCore().getEventBus().publish("sap.ushell.services.Notifications","onNewNotifications",y);}this.lastNotificationDate=a1;};this._getFioriClientRemainingDelay=function(){return k-(new Date()-t);};this._establishWebSocketConnection=function(){var x=this,y=false,a1;try{w=this._getWebSocketObjectObject(W,[S.SUPPORTED_PROTOCOLS.v10]);w.attachMessage(this,function(b1){a1=b1.getParameter("pcpFields");if((a1)&&(a1.Command)&&(a1.Command==="Notification")){x._readNotificationsData(true);}});w.attachOpen(this,function(){x._checkWebSocketActivity().done(function(b1){if(!b1){y=true;w.close();x._activatePollingAfterInterval();}});L.info("Notifications UShell service WebSocket: webSocket connection opened");});w.attachClose(this,function(b1){L.warning("Notifications UShell service WebSocket: attachClose called with code: "+b1.mParameters.code+" and reason: "+b1.mParameters.reason);if((!h)&&(!y)){x._webSocketRecoveryStep();}});w.attachError(this,function(){L.warning("Notifications UShell service WebSocket: attachError called!");});}catch(e){L.error("Exception occurred while creating new sap.ui.core.ws.SapPcpWebSocket. Message: "+e.message);}};this._isFioriClientMode=function(){return!(sap.FioriClient===undefined);};this._isPackagedMode=function(){return(window.fiori_client_appConfig&&window.fiori_client_appConfig.prepackaged===true);};this._setNativeIconBadge=function(e){if((sap.Push!==undefined)&&(sap.Push.setBadgeNumber!==undefined)){sap.Push.setBadgeNumber(e,function(){});}};this._setNativeIconBadgeWithDelay=function(){var e=this,x;setTimeout(function(){x=e.getUnseenNotificationsCount();x.done(function(y){e._setNativeIconBadge(y);}).fail(function(){});},4000);};this._getIntentsFromConfiguration=function(e){var x=[],y,a1;if(e&&e.length>0){for(a1=0;a1<e.length;a1++){y=e[a1].intent;x.push(y);}}return x;};this._handlePushedNotification=function(e){var x,y,a1,b1,c1=[],d1;if(e!==undefined){if((e.additionalData===undefined)||(e.additionalData.foreground===true)){this._readNotificationsData(true);}else{if(e.additionalData&&e.additionalData.NavigationTargetObject){y=e.additionalData.NavigationTargetObject;}else{y=e.NavigationTargetObject;}if(e.additionalData&&e.additionalData.NavigationTargetAction){a1=e.additionalData.NavigationTargetAction;}else{a1=e.NavigationTargetAction;}if(e.additionalData&&e.additionalData.NavigationTargetParam){b1=e.additionalData.NavigationTargetParam;}else{b1=e.NavigationTargetParam;}if(b1){if(typeof b1==="string"||b1 instanceof String){c1[0]=b1;}else if(Array.isArray(b1)===true){c1=b1;}}x=e.NotificationId;if((typeof hasher!=="undefined")&&(hasher.getHash()===y+"-"+a1)){d1=sap.ui.getCore().byId("viewPortContainer");if(d1){d1.switchState("Center");}}u.toExternalWithParameters(y,a1,c1);this.markRead(x);this._readNotificationsData(true);}}};this._registerForPush=function(){sap.Push.initPush(this._handlePushedNotification.bind(this));};this._addPushNotificationHandler=function(){document.addEventListener("deviceready",this._registerForPush.bind(this),false);};this._isIntentBasedConsumption=function(){return I;};this._getConsumedIntents=function(e){var x="",y;if(!this._isIntentBasedConsumption()){return x;}if(C.length>0){if(e!==n.GET_BADGE_NUMBER){x="&";}for(y=0;y<C.length;y++){if(e===n.GET_BADGE_NUMBER){if(y===0){x=C[y];}else{x=x+","+C[y];}}else{x=x+"NavigationIntent%20eq%20%27"+C[y]+"%27";}}}return x;};this._revalidateCsrfToken=function(){var e;H=undefined;$=false;e=this.getNotificationsBufferBySortingType(n.NOTIFICATIONS_BY_DATE_DESCENDING,0,1);return e.promise();};this._csrfTokenInvalid=function(e){return(e.response&&(e.response.statusCode===403)&&(e.response.headers["x-csrf-token"]==="Required"));};this._invalidCsrfTokenRecovery=function(x,y,a1){var b1=this,c1=this._revalidateCsrfToken(),d1;Z=true;c1.done(function(){d1=y.apply(b1,a1);d1.done(function(e){Z=false;x.resolve(e);});d1.fail(function(e){Z=false;if(e.response&&e.response.statusCode===200&&e.response.body){x.resolve(e.response.body);}else{x.reject(e);}});});c1.fail(function(e){Z=false;x.reject(e);L.error("Notification service - oData markRead failed: ",e.message,"sap.ushell.services.Notifications");});};this._notificationsAscendingSortBy=function(e,a1){e.sort(function(x,y){var b1=x[a1],c1=y[a1];if(b1===c1){b1=x.id;c1=y.id;}return c1>b1?-1:1;});return e;};this._getWebSocketObjectObject=function(W,e){return new S(W,e);};this._notificationsDescendingSortBy=function(e,a1){e.sort(function(x,y){var b1=x[a1],c1=y[a1];if(b1===c1){b1=x.id;c1=y.id;return b1>c1?-1:1;}if(a1==="Priority"){if(b1==="HIGH"){return-1;}if(c1==="HIGH"){return 1;}if(b1==="MEDIUM"){return-1;}return 1;}return b1>c1?-1:1;});return e;};this.getOperationEnum=function(){return n;};this._readUserSettingsFlagsFromPersonalization=function(){var e=this,x,y;try{y=this._getUserSettingsPersonalizer().getPersData();}catch(a1){L.error("Personalization service does not work:");L.error(a1.name+": "+a1.message);x=new q.Deferred();x.reject(a1);y=x.promise();}y.done(function(b1){if(b1===undefined){e._writeUserSettingsFlagsToPersonalization({highPriorityBannerEnabled:A});}else{A=b1.highPriorityBannerEnabled;}B=true;G.resolve();});y.fail(function(){L.error("Reading User Settings flags from Personalization service failed");});};this._writeUserSettingsFlagsToPersonalization=function(e){var x,y;try{y=this._getUserSettingsPersonalizer().setPersData(e);}catch(a1){L.error("Personalization service does not work:");L.error(a1.name+": "+a1.message);x=new q.Deferred();x.reject(a1);y=x.promise();}return y;};this._getUserSettingsPersonalizer=function(){if(z===undefined){z=this._createUserSettingsPersonalizer();}return z;};this._createUserSettingsPersonalizer=function(){var e=sap.ushell.Container.getService("Personalization"),x,y={keyCategory:e.constants.keyCategory.FIXED_KEY,writeFrequency:e.constants.writeFrequency.LOW,clientStorageAllowed:true},a1={container:"sap.ushell.services.Notifications",item:"userSettingsData"},b1=e.getPersonalizer(a1,y,x);return b1;};this._updateCSRF=function(e){if(($===true)||(e.headers===undefined)){return;}if(!this._getHeaderXcsrfToken()){H=e.headers["x-csrf-token"]||e.headers["X-CSRF-Token"]||e.headers["X-Csrf-Token"];}if(!this._getDataServiceVersion()){D=e.headers.DataServiceVersion||e.headers["odata-version"];}$=true;};this._userSettingInitialization=function(){var e,x,y,a1={settingsAvailable:false,mobileAvailable:false,emailAvailable:false},b1,c1,d1,e1;this._readUserSettingsFlagsFromPersonalization();e=this._readSettingsFromServer();x=this._readMobileSettingsFromServer();y=this._readEmailSettingsFromServer();b1=[e,x,y];e.done(function(){a1.settingsAvailable=true;});x.done(function(f1){c1=JSON.parse(f1);d1=c1.successStatus;if(d1){Q=f1?c1.IsActive:false;a1.mobileAvailable=Q;}else{Q=false;a1.mobileAvailable=false;}});y.done(function(f1){c1=JSON.parse(f1);e1=c1.successStatus;if(e1){R=f1?c1.IsActive:false;a1.emailAvailable=R;}else{R=false;a1.emailAvailable=false;}});q.when.apply(q,b1).then(function(){K.resolve(a1);});};this._closeConnection=function(){if(!h){if(v===M.WEB_SOCKET&&w){w.close();h=true;}if(v===M.POLLING&&b){clearTimeout(b);h=true;}}};this._resumeConnection=function(){if(h){h=false;this._webSocketStep();}};}N.hasNoAdapter=true;return N;},true);
sap.ui.predefine('sap/ushell/services/PagePersistence',[],function(){"use strict";function P(){this._init.apply(this,arguments);}P.prototype._init=function(a,s){this._oServiceConfiguration=s;this.oAdapter=a;};P.prototype.getPage=function(i){return this.oAdapter.getPage(i);};P.prototype.getPages=function(i){return this.oAdapter.getPages(i);};P.hasNoAdapter=false;return P;});
sap.ui.predefine('sap/ushell/services/PageReferencing',["sap/ushell/services/_PageReferencing/PageReferencer"],function(P){"use strict";function a(){}a.prototype.createReferencePage=function(p){return P.createReferencePage(p);};a.hasNoAdapter=true;return a;});
sap.ui.predefine('sap/ushell/services/Search',["jquery.sap.global",'sap/ushell/renderers/fiori2/search/appsearch/AppSearch'],function($,A){"use strict";function S(a,c){this.init.apply(this,arguments);}S.prototype={init:function(a,c,p,s){this.oAdapter=a;this.oContainerInterface=c;this.oLpdService=sap.ushell.Container.getService("LaunchPage");var b={optimizedAppSearch:false};if(s&&s.config&&s.config.optimizedAppSearch!==undefined){b.optimizedAppSearch=s.config.optimizedAppSearch;}this.appSearch=new A(b);},isSearchAvailable:function(){return this.oAdapter.isSearchAvailable();},getSina:function(){return this.oAdapter.getSina();},prefetch:function(){return this.appSearch.prefetch();},queryApplications:function(q){q.top=q.top||10;q.skip=q.skip||0;return this.appSearch.search(q).then(function(s){return{totalResults:s.totalCount,searchTerm:q.searchTerm,getElements:function(){return s.tiles;}};}.bind(this));}};S.hasNoAdapter=false;return S;},true);
sap.ui.predefine('sap/ushell/services/SearchableContent',["sap/ushell/Config","sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications","sap/ushell/adapters/cdm/v3/_LaunchPage/readPages","sap/ushell/adapters/cdm/v3/_LaunchPage/readUtils","sap/base/util/values"],function(C,r,a,b,o){"use strict";var S=function(){};S.COMPONENT_NAME="sap/ushell/services/SearchableContent";S.prototype.getApps=function(){if(C.last("/core/spaces/enabled")){return this._getPagesAppData().then(this._filterGetApps);}return this._getLaunchPageAppData().then(this._filterGetApps);};S.prototype._filterGetApps=function(A){A.forEach(function(c){var v=c.visualizations;var u=[];c.visualizations=[];v.forEach(function(V){var U=JSON.stringify({title:V.title,subtitle:V.subtitle,icon:V.icon,vizTypeId:V.vizTypeId});if(u.indexOf(U)===-1){c.visualizations.push(V);u.push(U);}});});return A.filter(function(c){return c.visualizations.length>0;});};S.prototype._getLaunchPageAppData=function(){return sap.ushell.Container.getServiceAsync("LaunchPage").then(function(l){this._oLaunchPageService=l;return this._collectLaunchPageTiles();}.bind(this)).then(function(l){var A={};var v=l.map(this._buildVizDataFromLaunchPageTile.bind(this)).filter(function(V){return V;});v.forEach(function(V){var t=V.targetURL;if(t){if(A[t]){A[t].visualizations.push(V);}else{A[t]=this._buildAppDataFromViz(V);}}}.bind(this));return o(A);}.bind(this));};S.prototype._collectLaunchPageTiles=function(){return new Promise(function(c,d){this._oLaunchPageService.getCatalogs().then(function(e){var D=[];e.forEach(function(f){D.push(this._oLaunchPageService.getCatalogTiles(f));}.bind(this));var g=this._oLaunchPageService.getGroups().then(function(G){var t=[];G.forEach(function(f){Array.prototype.push.apply(t,this._oLaunchPageService.getGroupTiles(f)||[]);}.bind(this));return t;}.bind(this));D.push(g);return jQuery.when.apply(jQuery,D).then(function(){var t=[];var f=Array.prototype.slice.call(arguments);f.forEach(function(h){Array.prototype.push.apply(t,h);});c(t);});}.bind(this));}.bind(this));};S.prototype._getPagesAppData=function(){var A,s;return sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(c){return Promise.all([c.getAllPages(),c.getApplications(),c.getVisualizations(),c.getVizTypes(),sap.ushell.Container.getServiceAsync("URLParsing"),sap.ushell.Container.getServiceAsync("ClientSideTargetResolution")]);}).then(function(R){var p=R[0];var c=R[1];var v=R[2];var V=R[3];var u=R[4];var d=R[5];s={applications:c,visualizations:v,vizTypes:V};A={};this._applyCdmVisualizations(s,A,u);this._applyCdmPages(s,p,A,u);return this._filterAppDataByIntent(A,u,d);}.bind(this)).then(function(){this._applyCdmApplications(s,A);return o(A);}.bind(this));};S.prototype._filterAppDataByIntent=function(A,u,c){var i=Object.keys(A).filter(u.isIntentUrl.bind(u));if(i.length===0){return Promise.resolve();}return new Promise(function(d,e){c.isIntentSupported(i).then(function(s){Object.keys(s).forEach(function(t){if(!s[t].supported&&A[t]){delete A[t];}});}).always(d);});};S.prototype._applyCdmApplications=function(s,A){Object.keys(A).forEach(function(k){var v=A[k].visualizations;var V=v.find(function(d){return d.target.appId&&d.target.inboundId;});if(V){var c=s.applications[V.target.appId];var i=r.getInbound(c,V.target.inboundId);A[k]=this._buildAppDataFromAppAndInbound(c,i);A[k].visualizations=v;A[k].target=v[0].target;}else{A[k]=this._buildAppDataFromViz(v[0]);A[k].visualizations=v;A[k].target=v[0].target;}}.bind(this));};S.prototype._applyCdmVisualizations=function(s,A,u){Object.keys(s.visualizations).forEach(function(k){var v={vizId:k};var V=b.getVizData(s,v,u);var t=V.targetURL;if(t){if(A[t]){A[t].visualizations.push(V);}else{A[t]={visualizations:[V]};}}});};S.prototype._applyCdmPages=function(s,p,A,u){p.forEach(function(P){var v=a.getVisualizationReferences(P);v.forEach(function(V){var c=b.getVizData(s,V,u);var t=c.targetURL;if(t){if(A[t]){A[t].visualizations.push(c);}else{A[t]={visualizations:[c]};}}});});};S.prototype._buildAppDataFromAppAndInbound=function(A,i){return{id:r.getId(A),title:i.title||r.getTitle(A),subtitle:i.subTitle||r.getSubTitle(A),icon:i.icon||r.getIcon(A),info:i.info||r.getInfo(A),keywords:i.keywords||r.getKeywords(A),visualizations:[]};};S.prototype._buildAppDataFromViz=function(v){return{id:v.vizId,title:v.title,subtitle:v.subtitle,icon:v.icon,info:v.info,keywords:v.keywords,target:v.target,visualizations:[v]};};S.prototype._buildVizDataFromLaunchPageTile=function(l){var t;if(!this._oLaunchPageService.getCatalogTileTargetURL(l)){return;}if(this._oLaunchPageService.isTileIntentSupported&&!this._oLaunchPageService.isTileIntentSupported(l)){return;}if(!this._oLaunchPageService.getCatalogTilePreviewTitle(l)){t=this._oLaunchPageService.getCatalogTileView(l);}var v={id:this._oLaunchPageService.getTileId(l)||this._oLaunchPageService.getCatalogTileId(l),vizId:this._oLaunchPageService.getCatalogTileId(l)||this._oLaunchPageService.getTileId(l)||"",vizTypeId:"",title:this._oLaunchPageService.getCatalogTilePreviewTitle(l)||this._oLaunchPageService.getCatalogTileTitle(l)||this._oLaunchPageService.getTileTitle(l)||"",subtitle:this._oLaunchPageService.getCatalogTilePreviewSubtitle(l)||"",icon:this._oLaunchPageService.getCatalogTilePreviewIcon(l)||"sap-icon://business-objects-experience",info:this._oLaunchPageService.getCatalogTilePreviewInfo(l)||"",keywords:this._oLaunchPageService.getCatalogTileKeywords(l)||[],target:{type:"URL",url:this._oLaunchPageService.getCatalogTileTargetURL(l)},targetURL:this._oLaunchPageService.getCatalogTileTargetURL(l),_instantiationData:{platform:"LAUNCHPAGE",launchPageTile:l}};if(t){if(!t.destroy){var e=new Error("The tileview \""+v.title+"\" with target url \""+v.target.url+"\" does not implement mandatory function destroy!");throw e;}t.destroy();}return v;};S.hasNoAdapter=true;return S;},true);
sap.ui.predefine('sap/ushell/services/UsageAnalytics',["sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/Device"],function(q,L,D){"use strict";function U(c,p,S){var o=(S&&S.config)||{},a=[],A=false,i=false,l,I;window.oCustomProperties={};this.setLegalText=function(t){l=t;if(I){this.init(I.usageAnalyticsTitle,I.iAgree,I.iDisagree,I.remindMeLater);}};this.getLegalText=function(){return l;};this.setTrackUsageAnalytics=function(s){var d=q.Deferred(),u,b=s,f=sap.ushell.Container.getUser().getTrackUsageAnalytics();try{var g=sap.ushell.Container.getService("UserInfo");if(f!==b){sap.ushell.Container.getUser().setTrackUsageAnalytics(b);u=g.updateUserPreferences(sap.ushell.Container.getUser());u.done(function(){sap.ushell.Container.getUser().resetChangedProperty("trackUsageAnalytics");if(!i&&b){this.start();}else if(i&&b===false){window.swa.disable();}else if(i&&b){window.swa.enable();}d.resolve();}.bind(this));u.fail(function(E){sap.ushell.Container.getUser().setTrackUsageAnalytics(f);sap.ushell.Container.getUser().resetChangedProperty("trackUsageAnalytics");L.error(E);d.reject(E);});}else{d.resolve();}}catch(e){L.error("Getting UserInfo service failed.");d.reject("Getting UserInfo service failed.");}return d.promise();};this.showLegalPopup=function(){sap.ui.require(["sap/m/Text","sap/m/Dialog","sap/m/Button","sap/m/library"],function(T,b,B,m){var d=m.ButtonType;var e=new b("agreementMessageBox",{title:I.usageAnalyticsTitle,type:"Message",stretch:D.system.phone,buttons:[new B("remindMeLaterButton",{text:I.remindMeLater,press:function(){e.close();}}),new B("iAgreeButton",{text:I.iAgree,type:d.Emphasized,press:function(){sap.ushell.Container.getService("UsageAnalytics").setTrackUsageAnalytics(true);e.close();}}),new B("iDisagreeButton",{text:I.iDisagree,press:function(){sap.ushell.Container.getService("UsageAnalytics").setTrackUsageAnalytics(false);e.close();}})],afterClose:function(){e.destroy();},content:[new T({text:l})]}).addStyleClass("sapUshellUsageAnalyticsPopUp").addStyleClass("sapContrastPlus");e.open();});};this.systemEnabled=function(){if(!o.enabled||!o.pubToken||(this.isSetUsageAnalyticsPermitted()&&!l)){if(!o.pubToken){L.warning("No valid pubToken was found in the service configuration");}if(!l){L.warning("No Legal text message found.");}return false;}return true;};this.userEnabled=function(){var u=sap.ushell.Container.getUser();if(!this.systemEnabled()){return false;}return u.getTrackUsageAnalytics();};this.start=function(){sap.ui.getCore().getEventBus().publish("sap.ushell.services.UsageAnalytics","usageAnalyticsStarted");this._initUsageAnalyticsLogging();i=true;window.swa.custom2={ref:sap.ui.getCore().getConfiguration().getLanguage()};};this.init=function(u,s,b,r){I={usageAnalyticsTitle:u,iAgree:s,iDisagree:b,remindMeLater:r};if(this.systemEnabled()&&!i){if(!this.isSetUsageAnalyticsPermitted()){this.start();}else if(l){if(this.userEnabled()===true){this.start();}else if(this.userEnabled()===null||this.userEnabled()===undefined){this.showLegalPopup();}}}};this.setCustomAttributes=function(C){var b,P="attribute",s,d="custom",e,f,F="customFunction";if(!this.userEnabled()&&this.isSetUsageAnalyticsPermitted()){return;}for(b=1;b<6;b++){e=d.concat(b+4);if(window.swa[e]!==undefined){continue;}s=P+b;if(C[s]===undefined){continue;}if(q.isFunction(C[s])){f=F+b;window[f]=C[s];window.swa[e]={ref:f};}else{window.swa[e]={ref:C[s]};}}};this.logCustomEvent=function(e,b,d){if(!this.userEnabled()&&this.isSetUsageAnalyticsPermitted()){return;}if(!this._isAnalyticsScriptLoaded()){this._addDelayedEvent(e,b,d);return;}if(d){d.unshift(b);d.unshift(e);window.swa.trackCustomEvent.apply(window.swa.trackCustomEvent,d);}else{window.swa.trackCustomEvent(e,b);}};window._trackingScriptsLoaded=function(){var b,t;A=true;for(b=0;b<a.length;b++){t=a[b];this.logCustomEvent(t.eventType,t.customEventValue,t.aAdditionalValues);}a=null;};this._initUsageAnalyticsLogging=function(){if(window.swa===undefined){window.swa={};}window.swa.pubToken=o.pubToken;window.swa.baseUrl=o.baseUrl;window.swa.bannerEnabled=false;window.swa.loggingEnabled=true;window.swa.visitorCookieTimeout=63113852;window.swa.dntLevel=1;window.swa.trackerReadyCallback=window._trackingScriptsLoaded.bind(this);window.swa.clicksEnabled=(o.logClickEvents!==false);window.swa.pageLoadEnabled=(o.logPageLoadEvents!==false);this._handlingTrackingScripts();};this._handlingTrackingScripts=function(){var d=document,g=d.createElement("script"),s=d.getElementsByTagName("script")[0];g.onerror=function(){L.warning("SWA scripts not loaded!");};g.type="text/javascript";g.defer=true;g.async=true;g.src=window.swa.baseUrl+"js/privacy.js";s.parentNode.insertBefore(g,s);};this._isAnalyticsScriptLoaded=function(){return A;};this.isSetUsageAnalyticsPermitted=function(){if(o.setUsageAnalyticsPermitted===undefined){return true;}return o.setUsageAnalyticsPermitted;};this._addDelayedEvent=function(e,b,d){var f={eventType:e,customEventValue:b,aAdditionalValues:d};a.push(f);};}U.hasNoAdapter=true;return U;},true);
sap.ui.predefine('sap/ushell/services/UserRecents',["sap/ushell/services/AppType","sap/ushell/EventHub","sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/Device","sap/ushell/utils"],function(c,E,q,L,D,u){"use strict";function R(m,f,C,l,s){var r=[],a=function(I,t){return r.some(function(o){var F;if(f(o.oItem,I)){o.oItem=I;o.iTimestamp=t;o.iCount=o.iCount+1;F=true;}else{F=false;}return F;});},i=function(I,t){var n={oItem:I,iTimestamp:t,iCount:1};if(r.length===m){r.sort(C);r.pop();}r.push(n);};this.clearAllActivities=function(){var o=new q.Deferred();s([]).done(function(b){o.resolve(b);}).fail(function(){o.reject();});return o.promise();};this.newItem=function(I){var o=new q.Deferred(),t=+new Date(),A;l().done(function(b){r=b||[];A=a(I,t);if(!A){i(I,t);}s(r).done(function(g){o.resolve(g);}).fail(function(){o.reject();});});return o.promise();};this.getRecentItems=function(){var o=new q.Deferred();l().done(function(b){b=b||[];b.sort(C);r=b.slice(0,m);o.resolve(q.map(r,function(g){return g.oItem;}));});return o.promise();};}function d(m,f,C,l,s){var M=30,r,g=function(I,t){return r.recentUsageArray.some(function(o){var F;if(f(o.oItem,I)){if((I.appType===o.oItem.appType)||(I.appType!==c.APP)){q.extend(o.oItem,I);o.iTimestamp=t;o.oItem.timestamp=t;o.mobile=undefined;o.tablet=undefined;o.desktop=undefined;if((I.appType===o.oItem.appType)||(I.appType!==c.APP&&o.oItem.appType!==c.APP)){o.aUsageArray[o.aUsageArray.length-1]+=1;o.iCount+=1;}r.recentUsageArray.sort(C);}F=true;}else{F=false;}return F;});},i=function(I,t,a){I.timestamp=t;if(a){I.icon=a;}var n={oItem:I,iTimestamp:t,aUsageArray:[1],iCount:1,mobile:undefined,tablet:undefined,desktop:undefined};if(r.recentUsageArray.length===m){r.recentUsageArray.pop();}r.recentUsageArray.unshift(n);};this.newItem=function(I){var o=new q.Deferred(),t=+new Date(),a=this.getActivityIcon(I.appType,I.icon),A,b=this,h=this.getDayFromDateObj(new Date());l().done(function(j){r=b.getRecentActivitiesFromLoadedData(j);if(h!=r.recentDay){b.addNewDay();r.recentDay=h;}A=g(I,t);if(!A){i(I,t,a);}s(r).done(function(k){E.emit("newUserRecentsItem",r);o.resolve(k);}).fail(function(){o.reject();});});return o.promise();};this.getActivityIcon=function(a,I){switch(a){case c.SEARCH:return I||"sap-icon://search";case c.COPILOT:return I||"sap-icon://co";case c.URL:return I||"sap-icon://internet-browser";default:return I||"sap-icon://product";}};this.clearAllActivities=function(){var o=new q.Deferred();s([]).done(function(a){E.emit("userRecentsCleared",Date.now());o.resolve(a);}).fail(function(){o.reject();});return o.promise();};this.getRecentItemsHelper=function(a){var t=this,o=new q.Deferred(),b,A,h,I=false,j=[],k=[],n=this.getDayFromDateObj(new Date()),p=function(v){var w=[],x=0,y;for(y=0;y<v.recentUsageArray.length&&(!a||x<a);y++){A=v.recentUsageArray[y];if(A[h]){w.push(A);x++;}}o.resolve(w);};if(D.system.desktop){h="desktop";}else if(D.system.tablet){h="tablet";}else{h="mobile";}l().done(function(v){r=t.getRecentActivitiesFromLoadedData(v);var w=false,x;if(n!=r.recentDay){t.addNewDay();r.recentDay=n;w=true;}for(b=0;b<r.recentUsageArray.length&&!I;b++){A=r.recentUsageArray[b];if(A[h]===undefined){if(!(A.oItem.url[0]==="#")){k.push(A.oItem.url);}else if(A.oItem.url.indexOf("?")>-1){x=A.oItem.url.substring(A.oItem.url.indexOf("?"));if(x.indexOf("&/")>-1){x=x.substring(0,x.indexOf("&/"));}j.push(A.oItem.appId+x);}else{j.push(A.oItem.appId);}}else{I=true;}}if(k.length>0){var y;for(b=0;b<r.recentUsageArray.length;b++){if(!(r.recentUsageArray[b].oItem.url[0]==="#")){y=r.recentUsageArray[b];y[h]=true;}}if(j.length<=0){s(r).done(function(z){o.resolve(p(r));}).fail(function(){o.reject();});}}if(j.length>0){sap.ushell.Container.getService("CrossApplicationNavigation").isIntentSupported(j).done(function(z){I=false;for(b=0;b<r.recentUsageArray.length&&!I;b++){A=r.recentUsageArray[b];if(A[h]===undefined){x="";if(A.oItem.url.indexOf("?")>-1){x=A.oItem.url.substring(A.oItem.url.indexOf("?"));if(x.indexOf("&/")>-1){x=x.substring(0,x.indexOf("&/"));}}var B=z[A.oItem.appId+x];A[h]=!!(B&&B.supported);}else if(A.oItem.url[0]==="#"){I=true;}}s(r).done(function(){o.resolve(p(r));}).fail(function(){o.reject();});}).fail(function(z){o.reject(z);});}else if((j.length<=0)&&(k.length<=0)){if(w){s(r).done(function(){o.resolve(p(r));}).fail(function(){o.reject();});}else{o.resolve(p(r));}}}).fail(function(){o.reject();});return o.promise();};this.getRecentItems=function(){var o=new q.Deferred();this.getRecentItemsHelper(30).done(function(a){o.resolve(q.map(a,function(b){return b.oItem;}));}).fail(function(){o.reject();});return o.promise();};this.getFrequentItems=function(){var o=new q.Deferred();this.getRecentItemsHelper().done(function(h){var j,w=0,F=[],A,p=h[0]?new Date(h[0].iTimestamp):undefined,k;for(j=0;j<h.length&&w<30;j++){A=h[j];if(A.iCount>1){F.push(A);}k=new Date(A.iTimestamp);if(p.toDateString()!=k.toDateString()){w++;p=k;}}F.sort(function(a,b){return b.iCount-a.iCount;});F=F.slice(0,30);o.resolve(q.map(F,function(a){return a.oItem;}));}).fail(function(){o.reject();});return o.promise();};this.addNewDay=function(){var a,b;for(a=0;a<r.recentUsageArray.length;a++){if(r.recentUsageArray[a].aUsageArray){b=r.recentUsageArray[a].aUsageArray;}else{b=[];r.recentUsageArray[a].aUsageArray=b;r.recentUsageArray[a].iCount=0;}b[b.length]=0;if(b.length>M){r.recentUsageArray[a].iCount-=b[0];b.shift();}}};this.getDayFromDateObj=function(a){return(a.getUTCFullYear()+"/"+(a.getUTCMonth()+1)+"/"+a.getUTCDate());};this.getRecentActivitiesFromLoadedData=function(a){var b;if(Array.isArray(a)){b={recentDay:null,recentUsageArray:a};}else{b=a||{recentDay:null,recentUsageArray:[]};}b.recentUsageArray=(b.recentUsageArray||[]).filter(function(A){var I=A&&A.oItem&&A.oItem.url;if(!I){L.error("FLP Recent Activity",A,"is not valid. The activity is removed from the list.");}return I;});return b;};}function e(l,s){var a,t=this,m=30;this.init=function(){var t=this,p,b=this.getDayFromDateObj(this.getCurrentDate()),f=false;if(t._oInitDeferred===undefined){t._oInitDeferred=q.Deferred();}if(!f||b!==a.recentDay){f=true;p=l();p.done(function(g){a=g||{recentDay:null,recentAppsUsageMap:{}};t.calculateInitialUsage(b);t._oInitDeferred.resolve(a);});p.fail(function(){L.error("UShell-lib ; RecentAppsUsage ; Load data in Init failed");t._oInitDeferred.reject();});}return this._oInitDeferred.promise();};this.calculateInitialUsage=function(b){var t=this;if(b!=a.recentDay){this.addNewDay();a.recentDay=b;setTimeout(function(){t.cleanUnusedHashes();},3000);this.saveAppsUsage(a);}};this.addAppUsage=function(h){if(!u.validHash(h)){return q.Deferred().reject("Non valid hash").promise();}var p=this.init();p.done(function(){var A=a.recentAppsUsageMap[h]||[];if(A.length==0){A[0]=1;}else{A[A.length-1]+=1;}a.recentAppsUsageMap[h]=A;t.saveAppsUsage(a);});p.fail(function(){L.error("Ushell-lib ; addAppUsage ; Initialization falied!");});return p;};this.getAppsUsage=function(){var r,t=this,o=q.Deferred(),p=t.init();p.done(function(){r=t.summarizeUsage();o.resolve(r);});p.fail(function(){o.reject("Not initialized yet");});return o.promise();};this.summarizeUsage=function(){var b={},h,f,g,i=true;for(h in a.recentAppsUsageMap){b[h]=this.getHashUsageSum(h);if(i){f=g=b[h];i=false;}else if(b[h]<g){g=b[h];}else if(b[h]>f){f=b[h];}}return{usageMap:b,maxUsage:f,minUsage:g};};this.addNewDay=function(){var h,A;for(h in a.recentAppsUsageMap){A=a.recentAppsUsageMap[h];A[A.length]=0;if(A.length>m){A=A.shift();}}};this.cleanUnusedHashes=function(){var b,h;for(h in a.recentAppsUsageMap){b=t.getHashUsageSum(h);if(b==0){delete(a.recentAppsUsageMap[h]);}}};this.getHashUsageSum=function(h){var b=0,f,g=a.recentAppsUsageMap[h],i=g.length;for(f=0;f<i;f++){b+=g[f];}return b;};this.saveAppsUsage=function(o){var p=s(o);p.fail(function(){L.error("Ushell-lib ; saveAppsUsage ; Save action failed");});p.done(function(){});return p;};this.getCurrentDate=function(){return new Date();};this.getDayFromDateObj=function(b){return(b.getUTCFullYear()+"/"+(b.getUTCMonth()+1)+"/"+b.getUTCDate());};}function U(){var r,o,a,A,b,p,f,s,g,h,i,l,S,j="RecentApps",k="RecentActivity",m="AppsUsage",n="RecentSearches",t="RecentDataSources",P="sap.ushell.services.UserRecents";this.addActivity=function(w){return a.newItem(w);};this.clearRecentActivities=function(){var w=new q.Deferred();a.clearAllActivities().done(function(){w.resolve();});return w.promise();};this.getRecentActivity=function(){return a.getRecentItems();};this.getFrequentActivity=function(){return a.getFrequentItems();};this.noticeDataSource=function(w){if((w&&w.objectName&&w.objectName.value&&w.objectName.value.toLowerCase()==="$$all$$")||(w.objectName&&w.objectName.toLowerCase&&w.objectName.toLowerCase()==="$$all$$")){return;}b.newItem(w);return b.getRecentItems();};this.getRecentDataSources=function(){return b.getRecentItems();};this.noticeSearch=function(w){r.newItem(w);return r.getRecentItems();};this.getRecentSearches=function(){return r.getRecentItems();};this.noticeApp=function(w){o.newItem(w);return o.getRecentItems();};this.getRecentApps=function(){return o.getRecentItems();};this.initAppsUsage=function(){A.init(new Date());};this.addAppUsage=function(w){var x=u.getBasicHash(w);A.addAppUsage(x);};this.getAppsUsage=function(){return A.getAppsUsage();};p=sap.ushell.Container.getService("Personalization");try{f=p.getPersonalizer({container:P,item:j});g=p.getPersonalizer({container:P,item:k});s=p.getPersonalizer({container:P,item:n});h=p.getPersonalizer({container:P,item:t});i=p.getPersonalizer({container:P,item:m});}catch(v){L.error("Personalization service does not work:");L.error(v.name+": "+v.message);}l=function(w){var x,y;try{x=w.getPersData();}catch(v){L.error("Personalization service does not work:");L.error(v.name+": "+v.message);y=new q.Deferred();y.reject(v);x=y.promise();}return x;};S=function(w,x){var y;try{y=w.setPersData(x);}catch(v){L.error("Personalization service does not work:");L.error(v.name+": "+v.message);}return y;};r=new R(10,function(x,y){var w=false;if(x.oDataSource&&y.oDataSource){if(x.oDataSource.objectName&&y.oDataSource.objectName){w=((x.sTerm===y.sTerm)&&(x.oDataSource.objectName.value===y.oDataSource.objectName.value));}if(!x.oDataSource.objectName&&!y.oDataSource.objectName){w=(x.sTerm===y.sTerm);}}if(!x.oDataSource&&!y.oDataSource){w=(x.sTerm===y.sTerm);}return w;},function(x,y){return y.iTimestamp-x.iTimestamp;},l.bind(this,s),S.bind(this,s));b=new R(6,function(x,y){if(x.objectName&&y.objectName){return x.objectName.value===y.objectName.value;}return false;},function(x,y){return y.iTimestamp-x.iTimestamp;},l.bind(this,h),S.bind(this,h));o=new R(6,function(x,y){return x.semanticObject===y.semanticObject&&x.action===y.action;},function(x,y){return y.iTimestamp-x.iTimestamp;},l.bind(this,f),S.bind(this,f));a=new d(500,function(x,y){if(x.appType===y.appType){if(x.appType!==c.APP){return x.url===y.url;}return x.appId===y.appId;}else if(x.appType===c.APP||y.appType===c.APP){return(x.appId===y.appId)&&(x.url===y.url);}return false;},function(x,y){return y.iTimestamp-x.iTimestamp;},l.bind(this,g),S.bind(this,g));A=new e(l.bind(this,i),S.bind(this,i));}U.hasNoAdapter=true;return U;},true);
sap.ui.predefine('sap/ushell/services/VisualizationDataProvider',["sap/ushell/resources","sap/base/util/ObjectPath"],function(r,O){"use strict";function V(){this.S_COMPONENT_NAME="sap.ushell.services.VisualizationDataProvider";this._init.apply(this,arguments);}V.prototype._init=function(l){this.oLaunchPageAdapter=l;this.oCatalogTilePromise=null;};V.prototype._getCatalogTileIndex=function(){if(this._oCatalogTileIndexPromise){return this._oCatalogTileIndexPromise;}var l=this.oLaunchPageAdapter;return l._getCatalogTileIndex();};V.prototype._getCatalogTiles=function(){if(this.oCatalogTilePromise){return this.oCatalogTilePromise;}var l=this.oLaunchPageAdapter;this.oCatalogTilePromise=new Promise(function(a,b){l.getCatalogs().then(function(c){var d=[];var C=[];var f=[];var o={};for(var i=0;i<c.length;i++){if(typeof c[i].ui2catalog==='undefined'||c[i].ui2catalog.getType()!=='REMOTE'){d.push(l.getCatalogTiles(c[i]).then(function(e){C.push(e);}));}}jQuery.when.apply(null,d).done(function(){f=[].concat.apply([],C);for(var y=0;y<f.length;y++){o[l.getCatalogTileId(f[y])]=f[y];}a(o);}).fail(b);}).fail(b);});return this.oCatalogTilePromise;};V.prototype.getVisualizationData=function(){var l=this.oLaunchPageAdapter,c;return Promise.all([this._getCatalogTiles(),this._getCatalogTileIndex()]).then(function(R){var C=R[0];var a=R[1];return Object.keys(C).reduce(function(v,i){c=C[i];var I=l.isTileIntentSupported(c);if(!I){return v;}v[i]={title:l.getCatalogTilePreviewTitle(c),subTitle:l.getCatalogTilePreviewSubtitle(c),icon:l.getCatalogTilePreviewIcon(c),info:l.getCatalogTilePreviewInfo(c),size:l.getCatalogTileSize(c),indicatorDataSource:l.getCatalogTilePreviewIndicatorDataSource(c),url:l.getCatalogTileTargetURL(c),numberUnit:l.getCatalogTileNumberUnit(c),isCustomTile:l.isCustomTile&&l.isCustomTile(c)};if(a[i]){v[i]._instantiationData={platform:"ABAP",chip:a[i],catalogTile:{baseChipId:c.getChip().getBaseChipId().replace(/\//g,"_"),contracts:{},configuration:{row:c.getConfigurationParameter("row"),col:c.getConfigurationParameter("col")}}};var t=c.getContract("types");if(t){O.set("catalogTile.contracts.types.availableTypes",t.getAvailableTypes(),v[i]._instantiationData);O.set("catalogTile.contracts.types.defaultType",t.getDefaultType(),v[i]._instantiationData);}}return v;},{});}).catch(function(e){var E={component:this.S_COMPONENT_NAME,description:r.i18n.getText("VisualizationDataProvider.CannotLoadData"),detail:e};return Promise.reject(E);}.bind(this));};V.hasNoAdapter=false;return V;});
sap.ui.predefine('sap/ushell/services/VisualizationInstantiation',["sap/ushell/services/_VisualizationInstantiation/VizInstance","sap/ushell/services/_VisualizationInstantiation/VizInstanceAbap","sap/ushell/services/_VisualizationInstantiation/VizInstanceCdm","sap/ushell/services/_VisualizationInstantiation/VizInstanceLaunchPage","sap/ushell/services/_VisualizationInstantiation/VizInstanceLink","sap/m/library","sap/ushell/library","sap/base/util/ObjectPath","sap/ushell/EventHub","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations"],function(V,a,b,c,d,M,u,O,E,r){"use strict";var L=M.LoadState;var D=u.DisplayFormat;function e(){}e.prototype.instantiateVisualization=function(v,f){var o;var p=O.get("_instantiationData.platform",v);var s=O.get(["sap.flp","vizOptions","displayFormats","supported"],f);var m=s||[D.Standard,D.Compact];var g={title:v.title,subtitle:v.subtitle,info:v.info,icon:v.icon,keywords:v.keywords,instantiationData:v._instantiationData,indicatorDataSource:v.indicatorDataSource,dataSource:v.dataSource,contentProviderId:v.contentProviderId,vizConfig:v.vizConfig,supportedDisplayFormats:m,displayFormat:this._getDisplayFormat(v.displayFormatHint,m),tileSize:O.get(["sap.flp","tileSize"],f),numberUnit:v.numberUnit,dataHelpId:v.vizId};if(g.indicatorDataSource){g.indicatorDataSource.ui5object=true;}if((p==="ABAP"||p==="CDM")&&g.displayFormat===D.Compact){this._cleanInstantiationDataForLink(g);p="LINK";}switch(p){case"ABAP":o=new a(g);break;case"CDM":o=new b(g);break;case"LINK":o=new d(g);break;case"LAUNCHPAGE":o=new c(g);break;default:return new V({state:L.Failed});}o.setTargetURL(v.targetURL);if(r.isStandardVizType(v.vizType)){try{o.load().then(function(){E.emit("VizInstanceLoaded",v.id);});}catch(h){o.setState(L.Failed);E.emit("VizInstanceLoaded",v.id);}}else{o.setState(L.Loading);E.once("CoreResourcesComplementLoaded").do(function(){try{o.load().then(function(){o.setState(L.Loaded);});}catch(h){o.setState(L.Failed);}});}return o;};e.prototype._cleanInstantiationDataForLink=function(v){delete v.info;delete v.icon;delete v.keywords;delete v.instantiationData;delete v.dataSource;delete v.contentProviderId;delete v.vizConfig;delete v.numberUnit;delete v.indicatorDataSource;delete v.tileSize;};e.prototype._getDisplayFormat=function(s,S){return S.indexOf(s)>-1?s:D.Standard;};e.hasNoAdapter=true;return e;});
sap.ui.predefine('sap/ushell/services/_AppState/AppStatePersistencySettings',[],function(){"use strict";function A(c,s,r,t){this.CreatorUserID=c;this.SelectedUserIDs=s;this.RetrievalMapping=r;this.Expiration=t;}return A;});
sap.ui.predefine('sap/ushell/services/_CrossApplicationNavigation/utils',["sap/base/util/ObjectPath"],function(O){"use strict";var U={};U.extractGetLinksParameterOptions=function(g){return U.parseGetLinksParameters(g).filter(function(p){return Object.keys(p.options).length>0;}).map(function(p){return{name:p.name,options:p.options};});};U.extractGetLinksParameterDefinition=function(g){return U.parseGetLinksParameters(g).reduce(function(r,p){r[p.name]=p.value;return r;},{});};U.parseGetLinksParameters=function(g){if(Object.prototype.toString.apply(g)!=="[object Object]"){return[];}var p=JSON.parse(JSON.stringify(g));return Object.keys(p).map(function(P){var v=p[P];var o={};if(Object.prototype.toString.apply(v)==="[object Object]"){v=v.value;delete p[P].value;o=p[P];}return{name:P,value:v,options:o};});};U.safeParseToObject=function(o){try{return JSON.parse(o);}catch(e){jQuery.sap.log.error("Cannot parse the given string to object",o,"sap.ushell.services.CrossApplicationNavigation");}return null;};U.createAppStateFromData=function(d){var a=sap.ushell.Container.getService("AppState");var A=a.createEmptyAppState(null);A.setData(d);A.save();return A.getKey();};U.extractParameter=function(i,p){var I,P=null,u;if(typeof i==="string"){if(i.indexOf(p+"=")===-1){return{intent:i,data:null};}u=sap.ushell.Container.getService("URLParsing");var o=u.parseShellHash(i);if(!o){return{intent:i,data:null};}P=o.params[p];delete o.params[p];I=u.constructShellHash(o);return{intent:I,data:P};}if(Object.prototype.toString.apply(i)==="[object Object]"){var s=O.get("target.shellHash",i);if(typeof s==="string"){var r=U.extractParameter(s,p);i.target.shellHash=r.intent;return{intent:i,data:r.data};}var a=i.params;if(a&&a[p]){P=typeof a[p]==="string"?[a[p]]:a[p];delete a[p];}return{intent:i,data:P};}jQuery.sap.log.error("Invalid input parameter","expected string or object","sap.ushell.services.CrossApplicationNavigation");return{intent:i};};U.addXAppStateFromParameter=function(i,s){var I,x,a,X,A;x=U.extractParameter(i,s);I=x.intent;X=x.data&&x.data[0];if(!X){return;}a=U.safeParseToObject(X);if(!a){return;}A=U.createAppStateFromData(a);U.injectParameter(I,"sap-xapp-state",A);};U.injectParameter=function(i,p,P){if(typeof i==="string"){var u=sap.ushell.Container.getService("URLParsing");var o=u.parseShellHash(i);o.params[p]=P;return u.constructShellHash(o);}if(Object.prototype.toString.apply(i)==="[object Object]"){var s=O.get("target.shellHash",i);if(typeof s==="string"){i.target.shellHash=U.injectParameter(s,p,P);return i;}if(!i.params){i.params={};}i.params[p]=P;}return i;};U._injectParameters=function(p){var P=p.inject,i=(p.injectEmptyString||{}),t=p.type,a=p.args;function s(v,I){return(v||(v===""&&I));}if(t.isPlainObject(a)){if(a.target&&a.target.shellHash){if(typeof a.target.shellHash==="string"){a.target.shellHash=U._injectParameters({inject:P,injectEmptyString:i,type:p.type,args:a.target.shellHash});}return a;}var n=Object.keys(P).reduce(function(I,b){var v=P[b],c=(i[b]===true);if(s(v,c)&&typeof I==="string"){var r=new RegExp("[&]"+b);var h=!r.test(I);if(h){var d=I?"&":"";I+=d+b+"="+v;}}else if(s(v,c)&&!I.hasOwnProperty(b)){I[b]=v;}return I;},a.params||{});if(n&&Object.keys(n).length>0){a.params=n;}return a;}var S=a;if(S){Object.keys(P).forEach(function(b){var v=P[b];var I=(i[b]===true);var r=new RegExp("[?&]"+b);var h=!r.test(S);if(s(v,I)&&h){var c=S.indexOf("?")>-1?"&":"?";S+=c+b+"="+v;}});}return S;};U._injectStickyParameters=function(p){var a=sap.ushell.Container.getService("AppLifeCycle");if(!a||Object.keys(a).length<=0){return p.args;}var c=a.getCurrentApplication();if(!c||Object.keys(c).length<=0){return p.args;}var A=p.appLifeCycle;var t=p.technicalParameters;var s=t.getParameters({sticky:true}).reduce(function(S,n){var N=n.name;var C=c.componentInstance;var b=c.applicationType;var d;if(b==="UI5"){d={};}else{d=A.getCurrentApplication().container;}var e=t.getParameterValueSync(N,C,d,b);var f=n.stickyName||N;S[f]=e;return S;},{});var o={type:p.type,inject:s,args:p.args};return U._injectParameters(o);};return U;});
sap.ui.predefine('sap/ushell/services/_PageReferencing/PageReferencer',["sap/ui/thirdparty/jquery","sap/ushell/utils/clone"],function(q,c){"use strict";var P={};function g(p,N){var r={};p.forEach(function(s){s.viz.forEach(function(t){var T=t.target;if(T&&!r[T]){r[T]=N.resolveHashFragment(T);}});});return new Promise(function(R,f){var b=[];Object.keys(r).forEach(function(h){b.push(r[h]);});q.when.apply(null,b).then(function(){var d=arguments;Object.keys(r).forEach(function(h,i){r[h]=d[i].inboundPermanentKey;});R(r);},f);});}function _(p,t){return{inboundPermanentKey:p[t.target],vizId:t.tileCatalogId};}function a(p,s){return{id:s.id,title:s.title,visualizations:s.viz.map(_.bind(null,p))};}P.createReferencePage=function(p,b){b=b||[];return sap.ushell.Container.getServiceAsync("NavTargetResolution").then(g.bind(null,b)).then(function(o){var r=c(p);r.sections=b.map(a.bind(null,o));return Promise.resolve(r);});};return P;});
sap.ui.predefine('sap/ushell/services/_VisualizationInstantiation/VizInstance',["sap/m/ActionSheet","sap/m/FrameType","sap/m/library","sap/m/VBox","sap/ui/core/Icon","sap/ui/core/XMLComposite","sap/ui/events/PseudoEvents","sap/ushell/library","sap/ushell/resources"],function(A,F,m,V,I,X,P,u,r){"use strict";var L=m.LoadState;var T=m.TileSizeBehavior;var D=u.DisplayFormat;var a=X.extend("sap.ushell.ui.launchpad.VizInstance",{metadata:{library:"sap.ushell",properties:{title:{type:"string",defaultValue:"",bindable:true},subtitle:{type:"string",defaultValue:"",bindable:true},height:{type:"int",defaultValue:2},width:{type:"int",defaultValue:2},info:{type:"string",defaultValue:"",bindable:true},icon:{type:"sap.ui.core.URI",defaultValue:"",bindable:true},numberUnit:{type:"string",defaultValue:"",bindable:true},state:{type:"sap.m.LoadState",defaultValue:L.Loaded,bindable:true},sizeBehavior:{type:"sap.m.TileSizeBehavior",defaultValue:T.Responsive,bindable:true},editable:{type:"boolean",defaultValue:false,bindable:true},active:{type:"boolean",defaultValue:false},targetURL:{type:"string"},indicatorDataSource:{type:"object",defaultValue:undefined},dataSource:{type:"object",defaultValue:undefined},keywords:{type:"string[]",defaultValue:[]},instantiationData:{type:"object",defaultValue:{}},contentProviderId:{type:"string",defaultValue:""},vizConfig:{type:"object"},supportedDisplayFormats:{type:"string[]",defaultValue:[D.Standard]},dataHelpId:{type:"string",defaultValue:""},displayFormat:{type:"string",defaultValue:D.Standard},tileSize:{type:"string"}},defaultAggregation:"tileActions",aggregations:{tileActions:{type:"sap.m.Button",forwarding:{getter:"_getTileActionSheet",aggregation:"buttons"}}},events:{press:{parameters:{scope:{type:"sap.m.GenericTileScope"},action:{type:"string"}}}}},fragment:"sap.ushell.services._VisualizationInstantiation.VizInstance"});a.prototype.init=function(){X.prototype.init.apply(this,arguments);this._oContent=this.getAggregation("_content");};a.prototype._formatPlaceholderFrameType=function(d,t){this._setSize();switch(d){case D.Flat:return F.OneByHalf;case D.FlatWide:return F.TwoByHalf;case D.StandardWide:return F.TwoByOne;default:if(t==="1x2"){return F.TwoByOne;}return F.OneByOne;}};a.prototype.exit=function(){if(this._oEditModeOverlayContainer){this._oEditModeOverlayContainer.destroy();}if(this._oActionModeButtonIconVBox){this._oActionModeButtonIconVBox.destroy();}if(this._oActionDivCenter){this._oActionDivCenter.destroy();}if(this._oActionSheet){this._oActionSheet.destroy();}};a.prototype.getLayout=function(){return{columns:this.getWidth(),rows:this.getHeight()};};a.prototype._setContent=function(c){var g=this.getLayoutData();if(g&&g.isA("sap.f.GridContainerItemLayoutData")){g.setRows(this.getHeight());g.setColumns(this.getWidth());this.getParent().invalidate();}if(this.getDataHelpId()){c.data("help-id",this.getDataHelpId(),true);}this._oContent=c;this.invalidate();};a.prototype._updateContent=function(){var c=this._oContent;if(this.getEditable()){c=this._getEditModeOverlay(c);}if(this._oContent.getItems){this.setAggregation("_content",c.getItems()[0]);}else{this.setAggregation("_content",c);}};a.prototype._getEditModeOverlay=function(c){var t=this.getTileActions(),M=sap.ui.getCore().getLibraryResourceBundle("sap.m");if(!this._oEditModeOverlayContainer){var R=new I({id:this.getId()+"-action-remove",alt:M.getText("GENERICTILE_ACTIONS_ARIA_TEXT"),decorative:false,noTabStop:true,src:"sap-icon://decline",tooltip:r.i18n.getText("removeButtonTitle")}).addStyleClass("sapUshellTileDeleteIconInnerClass sapMPointer");this._oRemoveIconVBox=new V({items:[R]}).addStyleClass("sapUshellTileDeleteIconOuterClass sapUshellTileDeleteClickArea sapMPointer");this._oEditModeOverlayContainer=new V().addStyleClass("sapUshellVizInstance");}this._oEditModeOverlayContainer.removeAllItems();this._oEditModeOverlayContainer.addItem(this._oRemoveIconVBox);this._oEditModeOverlayContainer.addItem(c);if(t.length>0){if(!this._oActionDivCenter){this._oActionDivCenter=new V().addStyleClass("sapUshellTileActionDivCenter");this._oActionDivCenter.attachBrowserEvent("click",this._onActionMenuIconPressed,this);}if(!this._oActionModeButtonIconVBox){this._oActionModeIcon=new I({id:this.getId()+"-action-more",decorative:false,alt:M.getText("LIST_ITEM_NAVIGATION"),noTabStop:true,press:[this._onActionMenuIconPressed,this],src:"sap-icon://overflow",tooltip:r.i18n.getText("configuration.category.tile_actions")}).addStyleClass("sapUshellTileActionIconDivBottomInner sapMPointer");this._oActionModeButtonIconVBox=new V({items:[this._oActionModeIcon]}).addStyleClass("sapUshellTileActionIconDivBottom sapMPointer");}this._oEditModeOverlayContainer.addItem(this._oActionDivCenter);this._oEditModeOverlayContainer.addItem(this._oActionModeButtonIconVBox);}return this._oEditModeOverlayContainer;};a.prototype._getTileActionSheet=function(){if(!this._oActionSheet){this._oActionSheet=new A();}return this._oActionSheet;};a.prototype._onActionMenuIconPressed=function(){if(this._oActionModeIcon){this._getTileActionSheet().openBy(this._oActionModeIcon);}};a.prototype.getFocusDomRef=function(){if(this.getEditable()){return this._oActionModeIcon&&this._oActionModeIcon.getFocusDomRef();}var p=this._oContent.findAggregatedObjects(true,function(c){return c.isA("sap.m.GenericTile")||c.isA("sap.f.Card");});if(p.length){return p[0].getFocusDomRef();}return this._oContent.getFocusDomRef();};a.prototype.onclick=function(e){if(this._preventDefault(e)){this.firePress({scope:"Display",action:"Press"});}else{var t=e.target.id;if(t.indexOf("action-remove")>-1){this.firePress({scope:"Actions",action:"Remove"});}else{this._onActionMenuIconPressed();}}};a.prototype.onBeforeRendering=function(){this._updateContent();var d=this.getDomRef();if(d){d.removeEventListener("keyup",this._fnKeyupHandler);d.removeEventListener("touchend",this._fnTouchendHandler);}};a.prototype.onAfterRendering=function(){var d=this.getDomRef();this._fnKeyupHandler=this.onkeyup.bind(this);this._fnTouchendHandler=this.onclick.bind(this);d.addEventListener("keyup",this._fnKeyupHandler,true);d.addEventListener("touchend",this._fnTouchendHandler,true);};a.prototype.onkeyup=function(e){if(this.getEditable()){if((P.events.sapdelete.fnCheck(e)||P.events.sapbackspace.fnCheck(e))){this.firePress({scope:"Actions",action:"Remove"});}if(P.events.sapspace.fnCheck(e)||P.events.sapenter.fnCheck(e)){this._preventDefault(e);}}};a.prototype._preventDefault=function(e){if(this.getEditable()){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();return false;}return true;};a.prototype.load=function(){return Promise.resolve();};a.prototype._setSize=function(){var s={};switch(this.getDisplayFormat()){case D.Flat:s.width=2;s.height=1;break;case D.FlatWide:s.width=4;s.height=1;break;case D.StandardWide:s.width=4;s.height=2;break;default:s=this._parseTileSize(this.getTileSize());break;}if(s){this.setWidth(s.width);this.setHeight(s.height);}};a.prototype._parseTileSize=function(t){if(!t){return null;}var s=t.split("x");var S={height:parseInt(s[0],10),width:parseInt(s[1],10)};if(!S.width||!S.height){return null;}S.width=S.width*2;S.height=S.height*2;return S;};a.prototype.getAvailableDisplayFormats=function(){var b,s=this.getSupportedDisplayFormats(),d=this.getDisplayFormat();b=s.filter(function(f){return f!==d;});var c=b.indexOf("compact");var t=this.getTitle();var e=this.getTargetURL();if(c>-1&&(!t||!e)){b.splice(c,1);}return b;};return a;});
sap.ui.predefine('sap/ushell/services/_VisualizationInstantiation/VizInstanceAbap',["sap/ushell/services/_VisualizationInstantiation/VizInstance","sap/m/library","sap/base/Log","sap/ushell/library"],function(V,m,L,u){"use strict";var a=m.LoadState;var D=u.DisplayFormat;var b=V.extend("sap.ushell.ui.launchpad.VizInstanceAbap",{metadata:{library:"sap.ushell"},fragment:"sap.ushell.services._VisualizationInstantiation.VizInstanceAbap"});b.prototype.init=function(){V.prototype.init.apply(this,arguments);this._oChipInstancePromise=sap.ushell.Container.getServiceAsync("PageBuilding").then(function(p){var f=p.getFactory();var i=this.getInstantiationData();var r;var B;if(!i.simplifiedChipFormat){r={chipId:i.chip.id,chip:i.chip};}else{var s=i.chip||{};B=s.bags;r={chipId:s.chipId,configuration:s.configuration?JSON.stringify(s.configuration):"{}"};}var c=f.createChipInstance(r);this._addBagDataToChipInstance(c,B);return c;}.bind(this));};b.prototype._addBagDataToChipInstance=function(c,B){if(!B){return;}var o;var d;var s;var p;for(s in B){o=B[s];d=c.getBag(s);try{for(p in o.properties){d.setProperty(p,o.properties[p]);}for(p in o.texts){d.setText(p,o.texts[p]);}}catch(e){L.error("VizInstanceAbap._addBagDataToChipInstance: "+e.toString());}}};b.prototype.load=function(i){return this._oChipInstancePromise.then(function(r){this._oChipInstance=r;return new Promise(this._oChipInstance.load);}.bind(this)).then(function(){if(i){var p=this._oChipInstance.getContract("preview");if(!p){return Promise.reject(new Error("The chip instance has no preview contract"));}p.setEnabled(true);}var v=this._oChipInstance.getImplementationAsSapui5();this._setChipInstanceType();this._setContent(v);return Promise.resolve();}.bind(this)).catch(function(e){this.setState(a.Failed);return Promise.reject(e);}.bind(this));};b.prototype._setChipInstanceType=function(){var t=this._oChipInstance.getContract("types");if(t){t.setType(this._mapDisplayFormatToChip(this.getDisplayFormat()));}};b.prototype._mapDisplayFormatToChip=function(d){if(d===D.Standard){return"tile";}return d;};b.prototype._setVisible=function(v){var o=this._oChipInstance&&!this._oChipInstance.isStub()&&this._oChipInstance.getContract("visible");if(o){o.setVisible(v);}};b.prototype.refresh=function(){if(this._oChipInstance){this._oChipInstance.refresh();}};b.prototype.setActive=function(c,r){this._setVisible(c);if(r){this.refresh();}return this.setProperty("active",c,false);};return b;});
sap.ui.predefine('sap/ushell/services/_VisualizationInstantiation/VizInstanceCdm',["sap/ushell/services/_VisualizationInstantiation/VizInstance","sap/m/library","sap/ui/core/Component","sap/base/util/ObjectPath","sap/base/util/deepExtend","sap/ui/core/ComponentContainer"],function(V,m,C,O,d,a){"use strict";var L=m.LoadState;var b=V.extend("sap.ushell.ui.launchpad.VizInstanceCdm",{metadata:{library:"sap.ushell"},fragment:"sap.ushell.services._VisualizationInstantiation.VizInstanceCdm"});b.prototype.load=function(){var c=this._getComponentConfiguration();return C.create(c).then(function(o){this._oComponent=o;var e=new a({component:o});o.setParent(this);this._setContent(e);this._setComponentTileVisible(this.getActive());}.bind(this)).catch(function(e){this.setState(L.Failed);return Promise.reject(e);}.bind(this));};b.prototype._getComponentConfiguration=function(){var v=this.getInstantiationData().vizType;var o=this.getVizConfig();var c=O.get(["sap.platform.runtime","componentProperties"],v);c=d({},this._getComponentProperties(),c);var e={name:v["sap.ui5"].componentName,componentData:{properties:c},url:O.get(["sap.platform.runtime","componentProperties","url"],v),manifest:O.get(["sap.platform.runtime","componentProperties","manifest"],v),asyncHints:O.get(["sap.platform.runtime","componentProperties","asyncHints"],v)};var i=O.get(["sap.platform.runtime","includeManifest"],v);var I=O.get(["sap.platform.runtime","includeManifest"],o);if(i||I){e.manifest=d({},v,o);}if(typeof e.manifest==="object"&&c.manifest===true){c.manifest=e.manifest;}return e;};b.prototype._getComponentProperties=function(){return{title:this.getTitle(),subtitle:this.getSubtitle(),icon:this.getIcon(),info:this.getInfo(),indicatorDataSource:this.getIndicatorDataSource(),dataSource:this.getDataSource(),contentProviderId:this.getContentProviderId(),targetURL:this.getTargetURL(),displayFormat:this.getDisplayFormat(),numberUnit:this.getNumberUnit()};};b.prototype._setComponentTileVisible=function(v){if(this._oComponent&&typeof this._oComponent.tileSetVisible==="function"){this._oComponent.tileSetVisible(v);}};b.prototype.setActive=function(c,r){this._setComponentTileVisible(c);if(r){this.refresh();}return this.setProperty("active",c,false);};b.prototype.refresh=function(){if(this._oComponent&&typeof this._oComponent.tileRefresh==="function"){this._oComponent.tileRefresh();}};return b;});
sap.ui.predefine('sap/ushell/services/_VisualizationInstantiation/VizInstanceLaunchPage',["sap/ushell/services/_VisualizationInstantiation/VizInstance","sap/base/Log"],function(V,L){"use strict";var a=V.extend("sap.ushell.ui.launchpad.VizInstanceLaunchPage",{metadata:{library:"sap.ushell"},fragment:"sap.ushell.services._VisualizationInstantiation.VizInstanceLaunchPage"});a.prototype.load=function(){var t=this.getInstantiationData().launchPageTile;return sap.ushell.Container.getServiceAsync("LaunchPage").then(function(l){return new Promise(function(r,b){try{l.getCatalogTileViewControl(t).done(r).fail(b);}catch(e){l.getTileView(t).done(r).fail(b);}}).then(function(T){this.setTileSize(l.getTileSize(t));this._setContent(T);}.bind(this));}.bind(this));};return a;});
sap.ui.predefine('sap/ushell/services/_VisualizationInstantiation/VizInstanceLink',["sap/m/library","sap/ushell/library","sap/m/GenericTile","sap/ushell/services/_VisualizationInstantiation/VizInstance","sap/ui/thirdparty/hasher","sap/ushell/Config","sap/ushell/utils/WindowUtils","sap/ushell/services/AppType","sap/m/ActionSheet"],function(m,u,G,V,h,C,W,A,a){"use strict";var b=m.GenericTileMode;var c=m.GenericTileScope;var D=u.DisplayFormat;var d=G.extend("sap.ushell.ui.launchpad.VizInstanceLink",{metadata:{library:"sap.ushell",properties:{title:{type:"string",defaultValue:"",group:"Appearance",bindable:true},subtitle:{type:"string",defaultValue:"",group:"Appearance",bindable:true},editable:{type:"boolean",defaultValue:false,group:"Behavior",bindable:true},active:{type:"boolean",group:"Misc",defaultValue:false},targetURL:{type:"string",group:"Misc"},mode:{type:"sap.m.GenericTileMode",group:"Appearance",defaultValue:b.LineMode},displayFormat:{type:"string",defaultValue:D.Compact},supportedDisplayFormats:{type:"string[]",defaultValue:[D.Compact]},dataHelpId:{type:"string",defaultValue:""}},defaultAggregation:"tileActions",aggregations:{tileActions:{type:"sap.m.Button",forwarding:{getter:"_getTileActionSheet",aggregation:"buttons"}}}},renderer:G.getMetadata().getRenderer()});d.prototype.init=function(){G.prototype.init.apply(this,arguments);this.attachPress(this._handlePress,this);};d.prototype.exit=function(){if(this._oActionSheet){this._oActionSheet.destroy();}};d.prototype._getTileActionSheet=function(){if(!this._oActionSheet){this._oActionSheet=new a();}return this._oActionSheet;};d.prototype._handlePress=function(){if(this.getEditable()){this._getTileActionSheet().openBy(this);return;}var t=this.getTargetURL();if(!t){return;}if(t[0]==="#"){h.setHash(t);}else{var l=C.last("/core/shell/enableRecentActivity")&&C.last("/core/shell/enableRecentActivityLogging");if(l){var r={title:this.getTitle(),appType:A.URL,url:this.getTargetURL(),appId:this.getTargetURL()};sap.ushell.Container.getRenderer("fiori2").logRecentActivity(r);}W.openURL(t,"_blank");}};d.prototype.load=V.prototype.load;d.prototype.setDataHelpId=function(v){this.data("help-id",v,true);return this.setProperty("dataHelpId",v);};d.prototype.setTitle=function(v){this.setHeader(v);return this.setProperty("title",v);};d.prototype.setSubtitle=function(v){this.setSubheader(v);return this.setProperty("subtitle",v);};d.prototype.setTargetURL=function(v){this.setUrl(v);return this.setProperty("targetURL",v);};d.prototype.setProperty=function(p,v,s){if(p==="title"){this.setProperty("header",v,s);}if(p==="subtitle"){this.setProperty("subheader",v,s);}if(p==="targetURL"){this.setProperty("url",v,s);}if(p==="editable"){if(v){this.setProperty("scope",c.Actions,s);}else{this.setProperty("scope",c.Display,s);}}return G.prototype.setProperty.apply(this,arguments);};d.prototype.getAvailableDisplayFormats=V.prototype.getAvailableDisplayFormats;return d;});
sap.ui.predefine('sap/ushell/support/plugins/flpConfig/FlpConfigurationPlugin',["sap/ui/core/support/Plugin","sap/ui/model/json/JSONModel","sap/m/Button","sap/m/IconTabBar","sap/m/IconTabFilter","sap/m/Label","sap/m/Text","sap/m/MessageStrip","sap/m/FlexBox","sap/ui/model/resource/ResourceModel","sap/m/SearchField","sap/m/MessageBox","sap/base/util/isEmptyObject"],function(P,J,B,I,a,L,T,M,F,R,S,b,c){"use strict";var t=this,o,f=P.extend("sap.ushell.support.plugins.flpConfig.FlpConfigurationPlugin",{constructor:function(s){o=new R({bundleName:"sap/ushell/support/plugins/flpConfig/i18n/FlpConfigurationPlugin"});P.apply(this,["sapUiFlpConfigurationPlugin",o.getResourceBundle().getText("PLUGIN_NAME"),s]);this._oSupportStub=s;if(this.runsAsToolPlugin()){t=this;this._aEventIds=[this.getId()+"ReceiveData"];}else{this._aEventIds=[this.getId()+"RequestData"];}}});f.prototype.isToolPlugin=function(){return true;};f.prototype.isAppPlugin=function(){return true;};f.prototype.init=function(s){P.prototype.init.apply(this,arguments);if(this.runsAsToolPlugin()){var r;setTimeout(function(){t.requestData();},500);r=sap.ui.getCore().createRenderManager();r.write("<div id='"+this.getId()+"'</div>").flush(this.$().get(0));r.destroy();}else{}};f.prototype.exit=function(){P.prototype.exit.apply(this,arguments);};f.prototype.requestData=function(){this._oSupportStub.sendEvent(this.getId()+"RequestData",{eventData:{data:{}}});};f.prototype.onsapUiFlpConfigurationPluginRequestData=function(E){var i={};this.prepareForSending(window["sap-ushell-config"],i);this._oSupportStub.sendEvent(this.getId()+"ReceiveData",{eventData:{data:i}});};f.prototype.onsapUiFlpConfigurationPluginReceiveData=function(E){var t=this;this.flpConfig=E.getParameter("eventData").data;sap.ui.getCore().loadLibraries(["sap.ui.table"],{async:true}).then(function(){sap.ui.require(["sap/ui/table/TreeTable","sap/ui/table/Column","sap/ui/table/library"],function(i,C,j){var k=j.SelectionMode;t.getFlpConfigurationPluginUI(null,i,C,k);});});};function _(){var H=0,s=sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TabBar").getSelectedKey(),i=sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TabBar").getModel().getData();if(Array.isArray(i[s])){i[s].forEach(function(j,k){var q=e(i[s][k],s);if(H<q){H=q;}});if(H>0){sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TreeTable"+s).expandToLevel(H-1);}else{b.error(new L({text:sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TabBar").getModel("i18n").getResourceBundle().getText("MISSING_HIERARCHY_LEVEL")}));}}}function d(){var s=sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TabBar").getSelectedKey();sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TreeTable"+s).collapseAll();}f.prototype.onPressSearchNewModel=function(E){var q,r,s,A,u,v,w,x,V,y=[],z={},C="",D={},G={},H=sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TabBar").getModel("Full"),K=E.getParameter("query");if(!H){H=sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TabBar").getModel().getData();}else{H=H.getData();}Object.keys(H).forEach(function(N){z[N]=0;});if(K){for(var N in H){C=N;q=[];n(H[N],N,C,q,K);G[N]=q;}Object.keys(G).forEach(function(N){A=G[N];for(var i=0;i<A.length;i++){u=A[i].split(".");v=[];for(var j=0;j<u.length;j++){if(!isNaN(parseInt(u[j],10))){v.push(parseInt(u[j],10));}else{v.push(u[j]);}}for(var k=0;k<v.length;k+=2){w={"property":""};w[v[0]]=[];if(isNaN(parseInt(v[k],10))){r=v.slice(0,k+1);if(!g(D,r)&&typeof g(D,v.slice(0,v.length-2))!=="object"){m(D,r,[w],v[0],r.length);}V=g(H,v.slice(0,k+2));if(V&&g(D,v.slice(0,k+2))){l(D,V.property,v.slice(0,k+2).toString()+",property");}else if(k!==v.length-2){y.push(v.slice(0,k+2).toString());}}}s=v.slice(0);m(D,v,{"property":"","value":""},v[0],r.length);V=g(H,s);if(V){l(D,V.value,s.toString()+",value");l(D,V.property,s.toString()+",property");}}y.forEach(function(C){V=g(H,C.split(","));if(V&&g(D,C.split(","))){l(D,V.property,C+",property");}});y=[];if(D[N]&&Array.isArray(D[N][0][N])&&D[N][0][N].length===0){D[N]=D[N].splice(1);}});sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TabBar").setModel(new J(D));sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TabBar").setModel(new J(H),"Full");var O=0;Object.keys(z).forEach(function(N){x=N;if(D[x]&&Array.isArray(D[x])){D[x].forEach(function(i,j){var k=e(D[x][j],x);if(O<k){O=k;}});}sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TreeTable"+N).expandToLevel(O-1);sap.ui.getCore().byId(N).setCount(h(D[N],N,0));});}else{Object.keys(z).forEach(function(N){sap.ui.getCore().byId(N).setCount(h(H[N],N,0));});sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TabBar").setModel(new J(H));}};function e(C,s){var H=0;if(C[s]){C[s].forEach(function(i){var j=e(i,s);if(j>H){H=j;}});}return H+1;}function g(j,k){for(var i=0;i<k.length;i++){if(j){j=j[k[i]];}}return j;}function h(C,s,i){if(Array.isArray(C)){C.forEach(function(j){if(j[s]){i=h(j[s],s,i);}else{i+=1;}});return i;}return undefined;}function l(j,v,s){var k=s.split(",");for(var i=0;i<k.length-1;i++){j=j[k[i]];}j[k[k.length-1]]=v;}function m(i,j,v,s,k){if(j.length===1){i[j[0]]=v;}else{var q=j.shift();i[q]=m(typeof i[q]==="undefined"?{}:i[q],j,v,s,k);}if(i[s]&&i.property&&i.value){delete i.value;i.property="";}return i;}function n(C,s,i,j,k){C.forEach(function(q,r){if(q[s]){i=i+"."+r+"."+s;i=n(q[s],s,i,j,k);}else if(q.property.indexOf(k)>-1){i=i+"."+r;j.push(i);i=i.substring(0,i.lastIndexOf("."));}});i=i.substring(0,i.lastIndexOf("."));if(isNaN(parseInt(i.substr(i.lastIndexOf(".")+1),10))){return i;}return i.substring(0,i.lastIndexOf("."));}function p(C,s){if(typeof C!=="object"){return[{property:s,value:C}];}return Object.keys(C).map(function(i){var r={property:i};if(typeof(C[i])==="object"&&Object.keys(C[i]).length!==0){r[s]=p(C[i],s);return r;}if(!c(C[i])||typeof(C[i])!=="object"){r.value=C[i];}else{r.value="";}return r;});}f.prototype.prepareForSending=function(i,j){Object.keys(i).forEach(function(k){var C=i[k];switch(typeof C){case"object":if(C===null){j[k]=C;return;}else if(Array.isArray(C)){j[k]=[];}else{j[k]={};}this.prepareForSending(i[k],j[k]);break;case"undefined":j[k]="undefined";return;case"function":return;default:j[k]=i[k];return;}}.bind(this));};f.prototype.getNewConfigJSON=function(i){var N={};Object.keys(i).forEach(function(s){N[s]=p(i[s],s);});return N;};f.prototype.getFlpConfigurationPluginUI=function(i,j,C,k){var q,r,s,u={};s=this.getNewConfigJSON(this.flpConfig);q=new J(s);for(var v in s){u[v]=h(s[v],v,0);}if(!sap.ui.getCore().byId("sap-ui-support-flpConfigurationPlugin-TabBar")){if(!s||c(s)){new M({text:o.getResourceBundle().getText("ERROR_MESSAGE"),type:"Warning",showIcon:true,showCloseButton:false}).placeAt(this.getId());}else{r=new I("sap-ui-support-flpConfigurationPlugin-TabBar",{headerMode:"Inline"});Object.keys(this.flpConfig).forEach(function(x,y){r.insertItem(new a(x,{key:x,text:x,count:u[x],content:[new j("sap-ui-support-flpConfigurationPlugin-TreeTable"+x,{rows:"{/"+x+"/}",selectionMode:k.None,enableCellFilter:true,extension:[new F({items:[new B({icon:"sap-icon://expand",text:"{i18n>EXPAND_BUTTON}",press:_}),new B({icon:"sap-icon://collapse",text:"{i18n>COLLAPSE_BUTTON}",press:d})]})],columns:[new C({label:new L({text:"{i18n>COLUMN_PROPERTY}"}),template:new T({text:"{property}"})}),new C({label:new L({text:"{i18n>COLUMN_VALUE}"}),template:new T({text:"{value}"})})]})]}),y);});var w=new S({search:this.onPressSearchNewModel});w.placeAt(this.getId());r.setModel(q);r.setModel(o,"i18n");r.placeAt(this.getId());}}};return f;});
sap.ui.predefine('sap/ushell/ui/ContentNodeSelector',["sap/ushell/library","sap/base/util/deepClone","sap/ui/core/XMLComposite","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/Fragment","sap/ui/Device","sap/m/Token","sap/ushell/resources","sap/ushell/Config"],function(l,d,X,J,F,a,b,D,T,r,C){"use strict";var c=l.ContentNodeType;var e=X.extend("sap.ushell.ui.ContentNodeSelector",{metadata:{library:"sap.ushell",associations:{labelId:{type:"sap.ui.core.Control",multiple:false}},events:{selectionChanged:{}}}});e.prototype.init=function(){this._oModel=new J({items:[],suggestions:[],isSpaces:C.last("/core/spaces/enabled")});this._oDeviceModel=new J(D);this.setModel(this._oModel,"_internal");this.setModel(this._oDeviceModel,"_device");this.setModel(r.getTranslationModel(),"_i18n");var m=this.getAggregation("_content");m.addValidator(this._validateItem.bind(this));this.setBusyIndicatorDelay(0);this._loadContentNodes().then(this._overwriteLabel.bind(this));};e.prototype._overwriteLabel=function(){var L=this.getLabelId();var o=sap.ui.getCore().byId(L);if(o&&typeof o.setText==="function"){if(this._oModel.getProperty("/isSpaces")){o.setText(r.i18n.getText("contentNodeSelectorHomepagePages"));}else{o.setText(r.i18n.getText("contentNodeSelectorHomepageGroups"));}}if(o&&typeof o.setRequired==="function"&&o.isPropertyInitial("required")){o.setRequired(true);}if(o&&typeof o.setLabelFor==="function"){o.setLabelFor(this);}};e.prototype.exit=function(){this._oModel.destroy();this._oDeviceModel.destroy();};e.prototype.getSelectedContentNodes=function(){var m=this.getAggregation("_content");var t=m.getTokens();return t.map(function(o){var f=o.getBindingContext("_internal").getObject();var g=d(f);delete g.selected;delete g.spaceTitles;return g;});};e.prototype._loadContentNodes=function(){this.setBusy(true);return sap.ushell.Container.getServiceAsync("Bookmark").then(function(B){return B.getContentNodes();}).then(function(f){f=d(f);e._normalizeContentNodes(f);this._oModel.setProperty("/items",f);var s=e._getSuggestions(f);for(var i=0;i<s.length;i++){s[i].selected=false;}this._oModel.setProperty("/suggestions",s);this.setBusy(false);}.bind(this));};e.prototype._showValueHelp=function(f){var m=f.getSource();var t=m.getValue();if(!this._oValueHelpDialog){b.load({id:this.getId()+"-ValueHelpDialog",name:"sap.ushell.ui.ContentNodeSelectorValueHelp",controller:this}).then(function(o){this.addDependent(o);this._oValueHelpDialog=o;this._openValueHelpDialog(t);}.bind(this));}else{this._openValueHelpDialog(t);}};e.prototype._openValueHelpDialog=function(f){var t=b.byId(this.getId()+"-ValueHelpDialog","ContentNodesTree");t.expandToLevel(1);this._oValueHelpDialog.open();var s=b.byId(this.getId()+"-ValueHelpDialog","ContentNodesSearch");s.setValue(f);this._onValueHelpSearch();};e.prototype._onValueHelpSearch=function(){var s=b.byId(this.getId()+"-ValueHelpDialog","ContentNodesSearch");var f=s.getValue();var t=b.byId(this.getId()+"-ValueHelpDialog","ContentNodesTree");var i=t.getBinding("items");i.filter(new F({path:"label",operator:a.Contains,value1:f}));};e.prototype._onValueHelpBeginButtonPressed=function(){var t=b.byId(this.getId()+"-ValueHelpDialog","ContentNodesTree");var s=t.getSelectedContextPaths();var m=this.getAggregation("_content");m.destroyTokens();var o;var p;for(var i=0;i<s.length;i++){p=s[i];var M=this.getModel("_internal");var f=m.getAggregation("tokens").map(function(I){return I.getProperty("key");}).indexOf(M.getProperty(p).id);if(f<0){o=this._createToken(p);m.addValidateToken({token:o});}}m.setValue("");this._oValueHelpDialog.close();};e.prototype._onValueHelpEndButtonPressed=function(){this._oValueHelpDialog.close();};e.prototype._onTokenUpdate=function(f){var A=f.getParameter("addedTokens");var R=f.getParameter("removedTokens");this._setTokensSelected(A,true);this._setTokensSelected(R,false);setTimeout(this.fireSelectionChanged.bind(this),0);};e.prototype._setTokensSelected=function(t,s){var o;for(var i=0;i<t.length;i++){o=t[i].getBindingContext("_internal");o.getModel().setProperty(o.getPath("selected"),s);}};e.prototype._validateItem=function(i){if(i.suggestedToken){return i.suggestedToken;}var I=i.suggestionObject;if(!I){return null;}var o=I.getBindingContext("_internal");return this._createToken(o.getPath());};e.prototype._createToken=function(p){var t=new T({key:"{_internal>id}",text:"{_internal>label}"});t.bindObject({path:p,model:"_internal"});return t;};e._getSuggestions=function(i){var s=[];e._getChildren(i,s);return s;};e._getChildren=function(f,g){var I;for(var i=0;i<f.length;i++){I=f[i];if(I.isContainer&&g.indexOf(I)===-1){g.push(I);}if(I.children){e._getChildren(I.children,g);}}};e._normalizeContentNodes=function(f){var p={};e._visitPages(f,function(s,P){P.spaceTitles=P.spaceTitles||[];if(p[P.id]){p[P.id].spaceTitles.push(s.label);return p[P.id];}P.spaceTitles.push(s.label);p[P.id]=P;return P;});};e._visitPages=function(f,g){var o,p;if(f===undefined||f===null){return;}for(var i=0;i<f.length;i++){o=f[i];if(o.type!==c.Space){return;}else if(o.children){for(var k=0;k<o.children.length;k++){p=o.children[k];o.children[k]=g(o,p);}}}};e.prototype.clearSelection=function(){var m=this.getAggregation("_content");var t=m.getTokens();t.forEach(function(o){var f=o.getBindingContext("_internal");this._oModel.setProperty(f.getPath("selected"),false);}.bind(this));m.destroyTokens();};e.prototype.setValueState=function(v){var m=this.getAggregation("_content");m.setValueState(v);};e.prototype.setValueStateText=function(v){var m=this.getAggregation("_content");m.setValueStateText(v);};return e;});
sap.ui.predefine('sap/ushell/ui/ContentNodeTreeItem',["sap/m/StandardTreeItem"],function(S){"use strict";var C=S.extend("sap.ushell.ui.bookmark.ContentNodeTreeItem",{metadata:{library:"sap.ushell",properties:{selectable:{type:"boolean",defaultValue:true,group:"Behavior"}}},renderer:S.getMetadata().getRenderer()});C.prototype.setSelected=function(s){this._bSelected=s;return S.prototype.setSelected.apply(this,arguments);};C.prototype.setSelectable=function(s){this.setProperty("selectable",s,false);if(s){S.prototype.setSelected.call(this,this._bSelected);}return this;};C.prototype.isSelectable=function(){return this.getSelectable();};C.prototype.getModeControl=function(){if(!this.getSelectable()){return null;}return S.prototype.getModeControl.apply(this,arguments);};return C;});
sap.ui.predefine('sap/ushell/ui/CustomGroupHeaderListItem',["sap/m/GroupHeaderListItem","sap/m/Text"],function(G,T){"use strict";var C=G.extend("sap.ushell.ui.CustomGroupHeaderListItem",{metadata:{properties:{description:{type:"string",group:"Data",defaultValue:null}},aggregations:{_titleText:{type:"sap.m.Text",multiple:false,visibility:"hidden"},_descriptionText:{type:"sap.m.Text",multiple:false,visibility:"hidden"}}}});C.prototype.setTitle=function(t){this.setProperty("title",t);var o=this.getAggregation("_titleText");if(o){o.setText(t);}else{this.setAggregation("_titleText",new T({text:t}),true);}};C.prototype.setDescription=function(d){this.setProperty("description",d);var D=this.getAggregation("_descriptionText");if(D){D.setText(d);}else{this.setAggregation("_descriptionText",new T({text:d}),true);}};C.prototype.getContentAnnouncement=function(){return this.getTitle()+", "+this.getDescription();};C.prototype.setCount=function(){return this;};return C;});
sap.ui.predefine('sap/ushell/ui/CustomGroupHeaderListItemRenderer',["sap/ui/core/library","sap/ui/core/Renderer","sap/m/GroupHeaderListItemRenderer","sap/ushell/library"],function(c,R,G,u){"use strict";var T=c.TextDirection;var C=R.extend(G);C.renderLIAttributes=function(r,l){G.renderLIAttributes(r,l);r.addClass("sapUshellCGHLIContent");};C.renderLIContent=function(r,l){var t=l.getTitleTextDirection();r.write("<span");r.writeAttributeEscaped("class","sapMGHLITitle");if(t!==T.Inherit){r.writeAttribute("dir",t.toLowerCase());}r.write(">");r.renderControl(l.getAggregation("_titleText"));if(l.getDescription()){r.write("</br>");r.write("<span class='sapUshellCGHLIDescription'>");r.renderControl(l.getAggregation("_descriptionText"));r.write("</span>");}r.write("</span>");};return C;});
sap.ui.predefine('sap/ushell/ui/QuickAccess',["sap/ui/thirdparty/jquery","sap/ui/core/Fragment","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/resources","sap/ushell/services/AppType","sap/ushell/utils","sap/ushell/utils/WindowUtils"],function(q,F,J,C,r,A,u,W){"use strict";var Q={oModel:new J({recentActivities:[],frequentActivities:[]}),sFocusIdAfterClose:null,_createQuickAccessDialog:function(){var p=F.load({name:"sap.ushell.ui.QuickAccess",type:"XML",controller:this});p.then(function(f){this.oQuickAccessDialog=f;this.oQuickAccessDialog.setModel(this.oModel);this.oQuickAccessDialog.addEventDelegate({onkeydown:function(e){if(e.keyCode===27){this._closeDialog();}}.bind(this)});sap.ui.getCore().byId("shell").addDependent(this.oQuickAccessDialog);}.bind(this));return Promise.resolve(p);},_updateQuickAccessDialog:function(d){var U=sap.ushell.Container.getService("UserRecents"),I=d.getContent()[0],R,f;if(U&&I){I.setBusy(true);R=U.getRecentActivity().then(function(a){for(var i=0;i<a.length;i++){a[i].timestamp=u.formatDate(a[i].timestamp);}return a;},function(){return new q.Deferred().resolve([]);});f=U.getFrequentActivity().then(function(a){return a;},function(){return new q.Deferred().resolve([]);});q.when(R,f).done(function(a,b){this.oModel.setData({recentActivities:a,frequentActivities:b});this._setDialogContentHeight(d,Math.max(a.length,b.length));I.setBusy(false);}.bind(this));}},_setDialogContentHeight:function(d,i){var h=(i+0.5)*4+2.75;if(h<18){h=18;}else if(h>42){h=42;}d.setContentHeight(h+"rem");},_closeDialog:function(){this.oQuickAccessDialog.close();this.oQuickAccessDialog.destroy();var f=sap.ui.getCore().byId(this.sFocusIdAfterClose);if(f){f.focus();return;}sap.ushell.components.ComponentKeysHandler.goToTileContainer();},_titleFormatter:function(t,a){if(a===A.SEARCH){t="\""+t+"\"";}return t;},_descriptionFormatter:function(a){if(a===A.SEARCH){return r.i18n.getText("recentActivitiesSearchDescription");}return A.getDisplayName(a);},_itemPress:function(e){var m=this.oModel,p=e.getParameter("listItem").getBindingContextPath(),i=m.getProperty(p);if(i.url[0]==="#"){window.hasher.setHash(i.url);this._closeDialog();}else{var l=C.last("/core/shell/enableRecentActivity")&&C.last("/core/shell/enableRecentActivityLogging");if(l){var R={title:i.title,appType:A.URL,url:i.url,appId:i.url};sap.ushell.Container.getRenderer("fiori2").logRecentActivity(R);}W.openURL(i.url,"_blank");}}};return{openQuickAccessDialog:function(f,s){Q._createQuickAccessDialog().then(function(d){var i=d.getContent()[0];Q.sFocusIdAfterClose=s;Q._updateQuickAccessDialog(d);i.setSelectedKey(f);d.open();});},_getQuickAccess:function(){return Q;}};});
sap.ui.predefine('sap/ushell/ui/appfinder/AppBox',["sap/ui/core/Control","sap/ui/core/Icon","sap/ui/core/IconPool","sap/ushell/library","sap/ushell/resources"],function(C,I,a,u,r){"use strict";var A=C.extend("sap.ushell.ui.appfinder.AppBox",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Misc",defaultValue:null},subtitle:{type:"string",group:"Misc",defaultValue:null},icon:{type:"string",group:"Misc",defaultValue:null},url:{type:"string",group:"Misc",defaultValue:null},navigationMode:{type:"string",group:"Misc",defaultValue:null}},aggregations:{pinButton:{type:"sap.m.Button",multiple:false}},events:{press:{},afterRendering:{}}}});A.prototype.init=function(){this._oIcon=new I().addStyleClass("sapUshellAppBoxIcon");};A.prototype.destroy=function(){C.prototype.destroy.apply(this,arguments);this._oIcon.destroy();};A.prototype.onAfterRendering=function(){var j=this.$("title"),b=this.$("subTitle");var t=parseInt(j.css("lineHeight"),10),T=j.height();if((T/t)>1){j.addClass("sapUshellAppBoxHeaderElementTwoLines");b.addClass("sapUshellAppBoxHeaderElementOneLine");}else{j.addClass("sapUshellAppBoxHeaderElementOneLine");b.addClass("sapUshellAppBoxHeaderElementTwoLines");}this.fireAfterRendering();};A.prototype.setIcon=function(i){this.setProperty("icon",i);this._oIcon.setSrc(a.isIconURI(i)?i:null);};A.prototype._getAriaLabel=function(){var s=this.getTitle(),S=this.getSubtitle(),n=this.getNavigationMode();if(S){s+=" "+S;}if(n){s+=" "+r.i18n.getText(n+"NavigationMode");}return s;};A.prototype.onclick=A.prototype.firePress;A.prototype.onsapspace=function(e){e.preventDefault();this.firePress(e);};A.prototype.onsapenter=A.prototype.onsapspace;return A;});
sap.ui.predefine('sap/ushell/ui/appfinder/AppBoxRenderer',["sap/ushell/resources"],function(r){"use strict";var A={apiVersion:2};A.render=function(a,o){var c=o.getParent(),b=[];if(c&&c.getAppBoxesContainer&&c.getCustomTilesContainer){b=c.getAppBoxesContainer().concat(c.getCustomTilesContainer());}var v=b.filter(function(d){return d.getVisible();}),C=v.indexOf(o)>-1?v.indexOf(o)+1:"";a.openStart("li",o);a.class("sapUshellAppBox");a.attr("aria-posinset",C);a.attr("aria-setsize",v.length);a.attr("aria-label",o._getAriaLabel());a.attr("aria-roledescription",r.i18n.getText("tile"));a.attr("aria-describedby",o.getId());a.openEnd();a.openStart("div");a.class("sapUshellAppBoxInner");a.openEnd();var h=o.getIcon();if(h){a.renderControl(o._oIcon);}a.openStart("div");if(h){a.class("sapUshellAppBoxHeader");}else{a.class("sapUshellAppBoxHeaderNoIcon");}a.openEnd();a.openStart("div",o.getId()+"-title");a.class("sapUshellAppBoxTitle");a.openEnd();a.text(o.getTitle());a.close("div");if(o.getSubtitle()){a.openStart("div",o.getId()+"-subTitle");a.class("sapUshellAppBoxSubtitle");a.openEnd();a.text(o.getSubtitle());a.close("div");}a.close("div");a.close("div");a.openStart("div");a.class("sapUshellAppBoxActionsArea");if(o.getTitle){a.attr("role","toolbar");a.attr("aria-label",o.getTitle());}a.openEnd();a.renderControl(o.getPinButton());a.close("div");a.close("li");};return A;},true);
sap.ui.predefine('sap/ushell/ui/appfinder/PinButton',["sap/m/Button","sap/ushell/library"],function(B,u){"use strict";var P=B.extend("sap.ushell.ui.appfinder.PinButton",{metadata:{library:"sap.ushell",properties:{selected:{type:"boolean",group:"Appearance",defaultValue:false}}}});P.prototype.onAfterRendering=function(){this.$("inner").toggleClass("sapUshellPinSelected",this.getSelected());};return P;});
sap.ui.predefine('sap/ushell/ui/appfinder/PinButtonRenderer',["sap/m/ButtonRenderer","sap/ui/core/Renderer"],function(B,R){"use strict";var P=R.extend(B);P.apiVersion=2;P.renderAccessibilityAttributes=function(r,p,a){a.pressed=p.getSelected();};return P;});
sap.ui.predefine('sap/ushell/ui/bookmark/SaveOnPage.controller',["sap/ui/core/mvc/Controller","sap/base/Log","sap/ushell/resources","sap/ui/thirdparty/hasher","sap/ui/core/library"],function(C,L,r,h,c){"use strict";var V=c.ValueState;return C.extend("sap.ushell.ui.bookmark.SaveOnPage",{onInit:function(){var v=this.getView();v.setModel(r.i18nModel,"i18n");this.byId("bookmarkTitleInput").attachLiveChange(function(){if(this.getValue()===""){this.setValueStateText(r.i18n.getText("bookmarkTitleInputError"));this.setValueState(V.Error);}else{this.setValueState(V.None);}});this.byId("pageSelect").attachSelectionFinish(function(){if(this.getSelectedKeys().length===0){this.setValueStateText(r.i18n.getText("bookmarkPageSelectError"));this.setValueState(V.Error);}else{this.setValueState(V.None);}});},loadPagesIntoModel:function(s,p){if(s&&!p){return Promise.all([sap.ushell.Container.getServiceAsync("Menu"),sap.ushell.Container.getServiceAsync("CommonDataModel")]).then(function(S){return Promise.all([S[0].getSpacesPagesHierarchy(),S[1].getAllPages()]);}).then(function(R){var S=R[0].spaces;var a=R[1];var P={};a.forEach(function(o){P[o.identification.id]=o.identification.title;});return S.reduce(function(t,o){o.pages.map(function(b){if(P[b.id]){t.push({id:b.id,title:P[b.id],spaceTitle:o.title});}});return t;},[]);}).then(function(t){if(t.length<1){return Promise.reject();}this.getView().getModel().setProperty("/pages",t);}.bind(this)).catch(function(){var m=this.getView().getModel();m.setProperty("/pages",[]);m.setProperty("/cannotLoadPages",true);L.error("SaveOnPage controller: Unable to determine or use targets for bookmark placement.");}.bind(this));}return Promise.resolve();},removeFocusFromTile:function(){this.getView().getDomRef().querySelector(".sapMGT").removeAttribute("tabindex");},getBookmarkTileData:function(){var v=this.getView();var m=v.getModel();var o=v.getViewData();var u;if(o.customUrl){if(typeof(o.customUrl)==="function"){u=o.customUrl();}else{u=o.customUrl;}}else{u=h.getHash()?("#"+h.getHash()):window.location.href;}var p=this.byId("pageSelect");var d={title:m.getProperty("/title")||"",subtitle:m.getProperty("/subtitle")||"",url:u,icon:m.getProperty("/icon"),info:m.getProperty("/info")||"",numberUnit:m.getProperty("/numberUnit"),serviceUrl:typeof(o.serviceUrl)==="function"?o.serviceUrl():o.serviceUrl,serviceRefreshInterval:m.getProperty("/serviceRefreshInterval"),pages:p?p.getSelectedKeys():[],keywords:m.getProperty("/keywords")};d.title=d.title.substring(0,256).trim();d.subtitle=d.subtitle.substring(0,256).trim();d.info=d.info.substring(0,256).trim();return d;}});});
sap.ui.predefine('sap/ushell/ui/fiori3/AppContainer',["../AppContainer"],function(A){"use strict";return A;});
sap.ui.predefine('sap/ushell/ui/footerbar/AboutButton',["sap/m/ButtonRenderer","sap/ushell/Config","sap/ushell/resources","sap/ushell/ui/launchpad/ActionItem"],function(B,C,r,A){"use strict";var a=A.extend("sap.ushell.ui.footerbar.AboutButton",{metadata:{library:"sap.ushell"},renderer:"sap.m.ButtonRenderer"});a.prototype.init=function(){if(A.prototype.init){A.prototype.init.apply(this,arguments);}this.setIcon("sap-icon://hint");this.setText(r.i18n.getText("about"));this.setTooltip(r.i18n.getText("about"));this.attachPress(this.showAboutDialog);};a.prototype.showAboutDialog=function(){var c;return sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(o){var s=Promise.resolve();c=o.getCurrentApplication();if(C.last("/core/contentProviders/providerInfo/show")){s=c.getSystemContext().then(function(S){return S.label;});}return Promise.all([c.getInfo(["technicalAppComponentId","appVersion","appFrameworkId","appFrameworkVersion","appId","appSupportInfo"]),s]);}).then(function(R){return new Promise(function(b,d){sap.ui.require(["sap/base/util/restricted/_flatten","sap/m/Button","sap/m/Dialog","sap/m/HBox","sap/m/Label","sap/m/Text","sap/m/Title","sap/m/VBox","sap/ui/core/Icon","sap/ui/core/library","sap/ui/layout/form/SimpleForm","sap/ui/layout/form/SimpleFormLayout","sap/ushell/services/AppConfiguration"],function(_,e,D,H,L,T,f,V,I,g,S,h,i){var G=function(P,n){return[new L({text:r.i18n.getText(P)}),new T({text:n||"",visible:!!n})];},o=R[0],p=R[1],F=c.homePage?o.appFrameworkVersion:undefined,l=sap.ushell.Container.getLogonSystem();var m=i.getMetadata(),s=new S({id:"aboutDialogFormID",editable:false,layout:h.ResponsiveGridLayout,content:_([G("technicalAppComponentId",o.technicalAppComponentId),G("appVersion",o.appVersion),G("appFrameworkId",o.appFrameworkId),G("appFrameworkVersion",F),G("contentProviderLabel",p),G("userAgentFld",navigator.userAgent),G("productName",l.getProductName()),G("productVersionFld",l.getProductVersion()),G("systemName",l.getSystemName()),G("systemRole",l.getSystemRole()),G("tenantRole",l.getTenantRole()),G("appId",o.appId),G("appSupportInfo",o.appSupportInfo)])}),j=[],k;if(m.icon){j.push(new I({src:m.icon}).addStyleClass("sapUiTinyMarginEnd"));}if(m.title){j.push(new f({text:m.title,level:g.TitleLevel.H3}));}if(j.length>0){s.insertContent(new H({items:j}),0);}k=new D({id:"aboutContainerDialogID",title:r.i18n.getText("about"),contentWidth:"25rem",horizontalScrolling:false,leftButton:new e({text:r.i18n.getText("okBtn"),press:function(){k.close();}}),afterClose:function(){k.destroy();if(window.document.activeElement&&window.document.activeElement.tagName==="BODY"){window.document.getElementById("meAreaHeaderButton").focus();}},content:[new V({items:[s]})]}).addStyleClass("sapContrastPlus");k.open();b(R);},d);});});};return a;});
sap.ui.predefine('sap/ushell/ui/footerbar/EndUserFeedback',["sap/base/Log","sap/m/ButtonRenderer","sap/m/library","sap/ui/core/Icon","sap/ui/core/IconPool","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/resources","sap/ushell/services/AppConfiguration","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ushell/ui/launchpad/ActionItem","sap/ushell/utils"],function(L,B,m,I,a,D,J,q,u,r,A,b,c,d){"use strict";var e=m.ButtonType;var E=c.extend("sap.ushell.ui.footerbar.EndUserFeedback",{metadata:{library:"sap.ushell",properties:{showAnonymous:{type:"boolean",group:"Misc",defaultValue:true},anonymousByDefault:{type:"boolean",group:"Misc",defaultValue:true},showLegalAgreement:{type:"boolean",group:"Misc",defaultValue:true},showCustomUIContent:{type:"boolean",group:"Misc",defaultValue:true},feedbackDialogTitle:{type:"string",group:"Misc",defaultValue:null},textAreaPlaceholder:{type:"string",group:"Misc",defaultValue:null}},aggregations:{customUIContent:{type:"sap.ui.core.Control",multiple:true,singularName:"customUIContent"}}},renderer:"sap.m.ButtonRenderer"});E.prototype.init=function(){if(c.prototype.init){c.prototype.init.apply(this,arguments);}var f=sap.ushell.Container.getUser(),F=d.getFormFactor();this.oUserDetails={userId:f.getId(),eMail:f.getEmail()};this.translationBundle=r.i18n;this.appConfiguration=A;this.oEndUserFeedbackModel=new J();this.oEndUserFeedbackModel.setData({feedbackViewTitle:this.translationBundle.getText("userFeedback_title"),legalAgreementViewTitle:this.translationBundle.getText("userFeedbackLegal_title"),textAreaPlaceholderText:this.translationBundle.getText("feedbackPlaceHolderHeader"),presentationStates:{showAnonymous:this.getShowAnonymous(),showLegalAgreement:this.getShowLegalAgreement(),showCustomUIContent:this.getShowCustomUIContent()},clientContext:{userDetails:q.extend(true,{},this.oUserDetails),navigationData:{formFactor:F,applicationInformation:{},navigationHash:null}},isAnonymous:this.getAnonymousByDefault(),applicationIconPath:"",leftButton:{feedbackView:this.translationBundle.getText("sendBtn"),legalAgreementView:this.translationBundle.getText("approveBtn")},rightButton:{feedbackView:this.translationBundle.getText("cancelBtn"),legalAgreementView:this.translationBundle.getText("declineBtn")},states:{isLegalAgreementChecked:false,isRatingSelected:false,isInFeedbackView:true},technicalLink:{state:0,title:[this.translationBundle.getText("technicalDataLink"),this.translationBundle.getText("technicalDataLinkHide")]},textArea:{inputText:""},contextText:"",ratingButtons:[{text:r.i18n.getText("ratingExcellentText"),color:"sapUshellRatingLabelFeedbackPositiveText",iconSymbol:"sap-icon://BusinessSuiteInAppSymbols/icon-face-very-happy",id:"rateBtn1",index:1},{text:r.i18n.getText("ratingGoodText"),color:"sapUshellRatingLabelFeedbackPositiveText",iconSymbol:"sap-icon://BusinessSuiteInAppSymbols/icon-face-happy",id:"rateBtn2",index:2},{text:r.i18n.getText("ratingAverageText"),color:"sapUshellRatingLabelFeedbackNeutralText",iconSymbol:"sap-icon://BusinessSuiteInAppSymbols/icon-face-neutral",id:"rateBtn3",index:3},{text:r.i18n.getText("ratingPoorText"),color:"sapUshellRatingLabelFeedbackCriticalText",iconSymbol:"sap-icon://BusinessSuiteInAppSymbols/icon-face-bad",id:"rateBtn4",index:4},{text:r.i18n.getText("ratingVeyPoorText"),color:"sapUshellRatingLabelFeedbackNegativeText",iconSymbol:"sap-icon://BusinessSuiteInAppSymbols/icon-face-very-bad",id:"rateBtn5",index:5}],selectedRating:{text:"",color:"",index:0}});this.setIcon("sap-icon://marketing-campaign");this.setText(r.i18n.getText("endUserFeedbackBtn"));this.attachPress(this.ShowEndUserFeedbackDialog);this.setEnabled();};E.prototype.ShowEndUserFeedbackDialog=function(){sap.ui.require(["sap/ui/layout/form/SimpleForm","sap/ui/layout/form/SimpleFormLayout","sap/ui/layout/HorizontalLayout","sap/ui/layout/VerticalLayout","sap/m/TextArea","sap/m/Link","sap/m/Label","sap/m/Text","sap/m/Dialog","sap/m/Button","sap/m/Image","sap/m/Bar","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/m/CheckBox"],function(S,f,H,V,T,g,h,i,j,k,l,n,o,p,C){var s,t,v,w,x,M,y,z;this.oEndUserFeedbackService=sap.ushell.Container.getService("EndUserFeedback");s=function(){var G=[],K=this.oEndUserFeedbackModel.getProperty("/clientContext/navigationData/formFactor"),U=this.oEndUserFeedbackModel.getProperty("/clientContext/userDetails/userId"),N=this.oEndUserFeedbackModel.getProperty("/clientContext/userDetails/eMail"),O=this.oEndUserFeedbackModel.getProperty("/clientContext/navigationData/applicationInformation/url"),P=this.oEndUserFeedbackModel.getProperty("/clientContext/navigationData/applicationInformation/applicationType"),Q=this.oEndUserFeedbackModel.getProperty("/clientContext/navigationData/applicationInformation/additionalInformation"),R=this.oEndUserFeedbackModel.getProperty("/clientContext/navigationData/navigationHash"),W=this.getModel().getProperty("/currentState/stateName"),X=!(W==="home"||W==="catalog");G.push(new i({text:this.translationBundle.getText("loginDetails")}).addStyleClass("sapUshellContactSupportHeaderInfoText"));G.push(U?new h({text:this.translationBundle.getText("userFld")}):null);G.push(U?new i("technicalInfoUserIdTxt",{text:"{/clientContext/userDetails/userId}"}):null);G.push(N?new h({text:this.translationBundle.getText("eMailFld")}):null);G.push(N?new i({text:"{/clientContext/userDetails/eMail}"}):null);G.push(K?new h({text:this.translationBundle.getText("formFactorFld")}):null);G.push(K?new i({text:"{/clientContext/navigationData/formFactor}"}):null);G.push(new i({text:""}));G.push(new i({text:this.translationBundle.getText(this.currentApp?"applicationInformationFld":"feedbackHeaderText")}).addStyleClass("sapUshellEndUserFeedbackHeaderInfoText").addStyleClass("sapUshellEndUserFeedbackInfoTextSpacing"));G.push(O&&X?new h({text:this.translationBundle.getText("urlFld")}):null);G.push(O&&X?new i({text:"{/clientContext/navigationData/applicationInformation/url}"}):null);G.push(P?new h({text:this.translationBundle.getText("applicationTypeFld")}):null);G.push(P?new i({text:"{/clientContext/navigationData/applicationInformation/applicationType}"}):null);G.push(Q?new h({text:this.translationBundle.getText("additionalInfoFld")}):null);G.push(Q?new i({text:"{/clientContext/navigationData/applicationInformation/additionalInformation}"}):null);G.push(R&&X?new h({text:this.translationBundle.getText("hashFld")}):null);G.push(R&&X?new i({text:"{/clientContext/navigationData/navigationHash}"}):null);return G.filter(Boolean);}.bind(this);t=function(){this.oTechnicalInfoBox=new S("feedbackTechnicalInfoBox",{layout:f.ResponsiveLayout,content:s()});if(D.os.ios&&D.system.phone){this.oTechnicalInfoBox.addStyleClass("sapUshellContactSupportFixWidth");}var G=this.oTechnicalInfoBox.onAfterRendering;this.oTechnicalInfoBox.onAfterRendering=function(){G.apply(this,arguments);var K=q(this.getDomRef());K.attr("tabIndex",0);setTimeout(function(){this.focus();}.bind(K),700);};return new H("technicalInfoBoxLayout",{visible:{path:"/technicalLink/state",formatter:function(K){return K===1;}},content:[this.oTechnicalInfoBox]});}.bind(this);x=function(){this.oTechnicalInfoBox.destroyContent();this.oTechnicalInfoBox.removeAllContent();var G=s(),K;for(K in G){this.oTechnicalInfoBox.addContent(G[K]);}this.oRatingButtons.setSelectedButton("none");}.bind(this);M=sap.ui.require.toUrl("sap/ushell");y=M+"/themes/base/img/launchpadDefaultIcon.jpg";z=this.oEndUserFeedbackModel.getProperty("/clientContext/navigationData/formFactor")==="desktop";this.updateModelContext();if(this.oDialog){x();this.oDialog.open();return;}this.oLegalAgreementInfoLayout=null;this.oPopoverTitle=new i("PopoverTitle",{text:{parts:[{path:"/states/isInFeedbackView"},{path:"/feedbackViewTitle"}],formatter:function(G){return this.oEndUserFeedbackModel.getProperty(G?"/feedbackViewTitle":"/legalAgreementViewTitle");}.bind(this)}});this.oBackButton=new k("endUserFeedbackBackBtn",{visible:{path:"/states/isInFeedbackView",formatter:function(G){return!G;}},icon:a.getIconURI("nav-back"),press:function(){this.oEndUserFeedbackModel.setProperty("/states/isInFeedbackView",true);this.bBackNavigationHappened=true;}.bind(this),tooltip:r.i18n.getText("feedbackGoBackBtn_tooltip"),ariaDescribedBy:this.oPopoverTitle});this.oHeadBar=new n({contentLeft:[this.oBackButton],contentMiddle:[this.oPopoverTitle]});this.oLogoImg=new l("sapFeedbackLogo",{src:y,width:"4.5rem",height:"4.5rem",visible:{path:"/applicationIconPath",formatter:function(G){return!G;}}});this.oAppIcon=new I("sapFeedbackAppIcon",{src:"{/applicationIconPath}",width:"4.5rem",height:"4.5rem",visible:{path:"/applicationIconPath",formatter:function(G){return!!G;}}}).addStyleClass("sapUshellFeedbackAppIcon");this.oContextName=new i("contextName",{text:"{/contextText}"});this.oContextLayout=new H("contextLayout",{allowWrapping:true,content:[this.oLogoImg,this.oAppIcon,this.oContextName]});this.oRatingLabel=new h("ratingLabel",{required:true,text:r.i18n.getText("ratingLabelText")});this.oRatingSelectionText=new i("ratingSelectionText",{text:{path:"/selectedRating",formatter:function(G){if(this.lastSelectedColor){this.removeStyleClass(this.lastSelectedColor);}if(G.color){this.addStyleClass(G.color);}this.lastSelectedColor=G.color;return G.text;}}});this.oRatingButtonTemplate=new p({icon:"{iconSymbol}",height:"100%",width:"20%",tooltip:"{text}"});this.oRatingButtonTemplate.addCustomData(new b({key:"aria-label",value:"{text}",writeToDom:true}));this.oRatingButtons=new o("ratingButton",{items:{path:"/ratingButtons",template:this.oRatingButtonTemplate},selectionChange:function(G){var P=G.getParameters().item.getBindingContext().getPath(),K=this.oEndUserFeedbackModel.getProperty(P);this.oEndUserFeedbackModel.setProperty("/selectedRating",{text:K.text,color:K.color,index:K.index});this.oEndUserFeedbackModel.setProperty("/states/isRatingSelected",true);}.bind(this),width:"100%"});this.oRatingButtons.setSelectedButton("none");this.oRatingButtons.addAriaLabelledBy("ratingLabel");this.oRatingButtons.addCustomData(new b({key:"aria-required",value:"true",writeToDom:true}));if(z){this.oRatingIndicationLayout=new H("ratingIndicationLayout",{content:[this.oRatingLabel,this.oRatingSelectionText]});}else{this.oRatingIndicationLayout=new V("ratingIndicationLayoutMob",{content:[this.oRatingLabel,this.oRatingSelectionText]});}this.oRatingLayout=new V("ratingLayout",{width:"100%",content:[this.oRatingIndicationLayout,this.oRatingButtons]});this.oAnonymousCheckbox=new C("anonymousCheckbox",{name:"anonymousCheckbox",visible:"{/presentationStates/showAnonymous}",text:r.i18n.getText("feedbackSendAnonymousText"),selected:!this.oEndUserFeedbackModel.getProperty("/isAnonymous"),select:function(G){var K=G.getParameter("selected");this._handleAnonymousSelection(!K);}.bind(this)});var F=(!this.oEndUserFeedbackModel.getProperty("/presentationStates/showAnonymous")||this.oEndUserFeedbackModel.getProperty("/isAnonymous"));this._handleAnonymousSelection(F);this.oLegalAgreementCheckbox=new C("legalAgreement",{name:"legalAgreement",visible:"{/presentationStates/showLegalAgreement}",selected:"{/states/isLegalAgreementChecked}",text:this.translationBundle.getText("agreementAcceptanceText")});this.oLegalAgreementLink=new g("legalAgreementLink",{text:this.translationBundle.getText("legalAgreementLinkText"),visible:"{/presentationStates/showLegalAgreement}",press:function(){var P=this.oEndUserFeedbackService.getLegalText();P.done(v.bind(this));}.bind(this)});this.oLegalAgreementLink.addEventDelegate({onAfterRendering:function(){if(this.bBackNavigationHappened){this.oLegalAgreementLink.focus();}}.bind(this)});this.aCustomUIContent=q.extend([],this.getCustomUIContent());this.oCustomUILayout=new V("customUILayout",{visible:{path:"/presentationStates/showCustomUIContent",formatter:function(G){return!(G&&this.aCustomUIContent.length);}.bind(this)},content:this.getCustomUIContent(),width:"100%"});this.oLegalLayout=new V("legalLayout",{content:[this.oAnonymousCheckbox,this.oLegalAgreementCheckbox,this.oLegalAgreementLink]});this.oTechnicalDataLink=new g("technicalDataLink",{text:{path:"/technicalLink/state",formatter:function(G){return this.getModel().getProperty("/technicalLink/title/"+G);}},press:function(){var _=this.oEndUserFeedbackModel.getProperty("/technicalLink/state");this.oEndUserFeedbackModel.setProperty("/technicalLink/state",Math.abs(_-1));this.oDialog.rerender();}.bind(this)});this.oTechnicalDataLayout=new H("technicalDataLayout",{content:[this.oTechnicalDataLink]});this.leftButton=new k("EndUserFeedbackLeftBtn",{text:{path:"/states/isInFeedbackView",formatter:function(G){return this.getModel().getProperty("/leftButton/"+(G?"feedbackView":"legalAgreementView"));}},enabled:{parts:[{path:"/states/isInFeedbackView"},{path:"/states/isLegalAgreementChecked"},{path:"/states/isRatingSelected"},{path:"/presentationStates/showLegalAgreement"}],formatter:function(G,K,N,O){return!G||(N&&(K||!O));}},type:e.Emphasized,press:function(){var G=this.oEndUserFeedbackModel.getProperty("/states/isInFeedbackView");if(G){var K={feedbackText:this.oEndUserFeedbackModel.getProperty("/textArea/inputText"),ratings:[{questionId:"Q10",value:this.oEndUserFeedbackModel.getProperty("/selectedRating/index")}],clientContext:this.oEndUserFeedbackModel.getProperty("/clientContext"),isAnonymous:this.oEndUserFeedbackModel.getProperty("/isAnonymous")},N=this.oEndUserFeedbackService.sendFeedback(K);N.done(function(){sap.ushell.Container.getServiceAsync("Message").then(function(O){O.info(this.translationBundle.getText("feedbackSendToastTxt"));}.bind(this));}.bind(this));N.fail(function(){sap.ushell.Container.getServiceAsync("Message").then(function(O){O.error(this.translationBundle.getText("feedbackFailedToastTxt"));}.bind(this));}.bind(this));this.oDialog.close();}else{this.oEndUserFeedbackModel.setProperty("/states/isInFeedbackView",true);this.oEndUserFeedbackModel.setProperty("/states/isLegalAgreementChecked",true);}}.bind(this)});this.rightButton=new k("EndUserFeedbackRightBtn",{text:{path:"/states/isInFeedbackView",formatter:function(G){return this.getModel().getProperty("/rightButton/"+(G?"feedbackView":"legalAgreementView"));}},press:function(){var G=this.oEndUserFeedbackModel.getProperty("/states/isInFeedbackView");if(G){this.oDialog.close();}else{this.oEndUserFeedbackModel.setProperty("/states/isInFeedbackView",true);this.oEndUserFeedbackModel.setProperty("/states/isLegalAgreementChecked",false);}}.bind(this)});this.oTextArea=new T("feedbackTextArea",{rows:6,value:"{/textArea/inputText}",placeholder:"{/textAreaPlaceholderText}"});this.oDialog=new j({id:"UserFeedbackDialog",contentWidth:"25rem",leftButton:this.leftButton,rightButton:this.rightButton,stretch:D.system.phone,initialFocus:"ratingButton",afterOpen:function(){q("#textArea").on("focusout",function(){window.scrollTo(0,0);});},afterClose:function(){if(window.document.activeElement&&window.document.activeElement.tagName==="BODY"){window.document.getElementById("meAreaHeaderButton").focus();}this.oEndUserFeedbackModel.setProperty("/states/isInFeedbackView",true);}.bind(this)}).addStyleClass("sapUshellEndUserFeedbackDialog").addStyleClass("sapContrastPlus");this.oDialog.setModel(this.oEndUserFeedbackModel);this.oDialog.setCustomHeader(this.oHeadBar);this.oDialog.addCustomData(new b({key:"aria-label",value:this.translationBundle.getText("endUserFeedbackAreaLabel"),writeToDom:true}));this.oTechnicalInfoBoxLayout=t();this.oFeedbackLayout=new V("feedbackLayout",{visible:"{/states/isInFeedbackView}",content:[this.oContextLayout,this.oRatingLayout,this.oTextArea,this.oTechnicalDataLayout,this.oTechnicalInfoBoxLayout,this.oLegalLayout,this.oCustomUILayout]}).addStyleClass("sapUshellFeedbackLayout");this.oMainLayout=new V("mainLayout",{editable:false,content:[this.oFeedbackLayout]});this.oDialog.addContent(this.oMainLayout);this.oDialog.open();v=function(G){this.oEndUserFeedbackModel.setProperty("/states/isInFeedbackView",false);if(!this.oLegalAgreementInfoLayout){w(G);}else{this.oBackButton.focus();}};w=function(G){this.oLegalText=new T("legalText",{cols:50,rows:22});this.oLegalText.setValue([G]);this.oLegalText.setEditable(false);var K=this.oLegalText.onAfterRendering;var N=this.oBackButton;this.oLegalText.onAfterRendering=function(){if(K){K.apply(this,arguments);}var O=q(this.getDomRef());O.find("textarea").attr("tabindex","0");N.focus();};this.oLegalAgreementInfoLayout=new V("legalAgreementInfoLayout",{visible:{path:"/states/isInFeedbackView",formatter:function(O){return!O;}},content:[this.oLegalText]});this.oMainLayout.addContent(this.oLegalAgreementInfoLayout);}.bind(this);}.bind(this));};E.prototype._handleAnonymousSelection=function(i){var f=this.translationBundle.getText("feedbackAnonymousTechFld");this.oEndUserFeedbackModel.setProperty("/isAnonymous",i);this.oEndUserFeedbackModel.setProperty("/clientContext/userDetails/eMail",i?f:this.oUserDetails.eMail);this.oEndUserFeedbackModel.setProperty("/clientContext/userDetails/userId",i?f:this.oUserDetails.userId);};E.prototype.addCustomUIContent=function(C){var i=C&&C.getMetadata&&C.getMetadata().getStereotype&&C.getMetadata().getStereotype()==="control";if(i){if(this.getShowCustomUIContent()){this.oEndUserFeedbackModel.setProperty("/presentationStates/showCustomUIContent",true);}this.addAggregation("customUIContent",C);}};E.prototype.setShowAnonymous=function(v){if(typeof v==="boolean"){this.oEndUserFeedbackModel.setProperty("/presentationStates/showAnonymous",v);this.setProperty("showAnonymous",v,true);}};E.prototype.setAnonymousByDefault=function(v){if(typeof v==="boolean"){this.oEndUserFeedbackModel.setProperty("/isAnonymous",v);this.setProperty("anonymousByDefault",v,true);}};E.prototype.setShowLegalAgreement=function(v){if(typeof v==="boolean"){this.oEndUserFeedbackModel.setProperty("/presentationStates/showLegalAgreement",v);this.setProperty("showLegalAgreement",v,true);}};E.prototype.setShowCustomUIContent=function(v){if(typeof v==="boolean"){this.oEndUserFeedbackModel.setProperty("/presentationStates/showCustomUIContent",v);this.setProperty("showCustomUIContent",v,true);}};E.prototype.setFeedbackDialogTitle=function(v){if(typeof v==="string"){this.oEndUserFeedbackModel.setProperty("/feedbackViewTitle",v);this.setProperty("feedbackDialogTitle",v,true);}};E.prototype.setTextAreaPlaceholder=function(v){if(typeof v==="string"){this.oEndUserFeedbackModel.setProperty("/textAreaPlaceholderText",v);this.setProperty("textAreaPlaceholder",v,true);}};E.prototype.updateModelContext=function(){var U=sap.ushell.Container.getService("URLParsing"),h,p,i,f,s,g;h=U.getShellHash(window.location);p=U.parseShellHash(h);i=(p!==undefined)?p.semanticObject+"-"+p.action:"";f=this.getModel().getProperty("/currentState/stateName");if(f==="home"||f==="catalog"){s=this.translationBundle.getText(f+"_title");}this.currentApp=this.appConfiguration.getCurrentApplication();this.bHasAppName=(this.currentApp&&this.appConfiguration.getMetadata(this.currentApp)&&this.appConfiguration.getMetadata(this.currentApp).title);this.sAppIconPath=(this.currentApp&&this.appConfiguration.getMetadata(this.currentApp)&&this.appConfiguration.getMetadata(this.currentApp).icon);this.oEndUserFeedbackModel.setProperty("/contextText",this.bHasAppName?this.appConfiguration.getMetadata(this.currentApp).title:this.translationBundle.getText("feedbackHeaderText"));g=null;if(this.currentApp&&this.currentApp.url){g=this.currentApp.url.split("?")[0];}else if(f){g=this.translationBundle.getText("flp_page_name");}this.oEndUserFeedbackModel.setProperty("/clientContext/navigationData/applicationInformation",{url:g,additionalInformation:(this.currentApp&&this.currentApp.additionalInformation)?this.currentApp.additionalInformation:null,applicationType:(this.currentApp&&this.currentApp.applicationType)?this.currentApp.applicationType:null});this.oEndUserFeedbackModel.setProperty("/clientContext/navigationData/navigationHash",s||i);this.oEndUserFeedbackModel.setProperty("/selectedRating",{text:"",color:"",index:0});this.oEndUserFeedbackModel.setProperty("/states/isRatingSelected",false);this.oEndUserFeedbackModel.setProperty("/states/isLegalAgreementChecked",false);this.oEndUserFeedbackModel.setProperty("/technicalLink/state",0);this.oEndUserFeedbackModel.setProperty("/textArea/inputText","");this.oEndUserFeedbackModel.setProperty("/applicationIconPath",this.sAppIconPath);this._handleAnonymousSelection(this.oEndUserFeedbackModel.getProperty("/isAnonymous"));};E.prototype.setEnabled=function(f){if(!sap.ushell.Container){if(this.getEnabled()){L.warning("Disabling 'End User Feedback' button: unified shell container not initialized",null,"sap.ushell.ui.footerbar.EndUserFeedback");}f=false;}c.prototype.setEnabled.call(this,f);};return E;});
sap.ui.predefine('sap/ushell/ui/footerbar/JamDiscussButton',["sap/base/Log","sap/m/Button","sap/m/ButtonRenderer","sap/ushell/resources"],function(L,B,a,r){"use strict";var J=B.extend("sap.ushell.ui.footerbar.JamDiscussButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"any",group:"Misc",defaultValue:null},afterPressHandler:{type:"any",group:"Misc",defaultValue:null},jamData:{type:"object",group:"Misc",defaultValue:null}}},renderer:"sap.m.ButtonRenderer"});J.prototype.init=function(){var t=this;if(B.prototype.init){B.prototype.init.apply(this,arguments);}this.setEnabled();this.setIcon("sap-icon://discussion-2");this.setText(r.i18n.getText("discussBtn"));this.attachPress(function(){if(t.getBeforePressHandler()){t.getBeforePressHandler()();}this.showDiscussDialog(t.getAfterPressHandler());});};J.prototype.showDiscussDialog=function(c){if(!this.discussComponent){this.discussComponent=sap.ui.getCore().createComponent({name:"sap.collaboration.components.fiori.feed.dialog"});}this.discussComponent.setSettings(this.getJamData());this.discussComponent.open();if(c){c();}};J.prototype.setEnabled=function(e){if(!sap.ushell.Container){if(this.getEnabled()){L.warning("Disabling JamDiscussButton: unified shell container not initialized",null,"sap.ushell.ui.footerbar.JamDiscussButton");}e=false;}else{var u=sap.ushell.Container.getUser();if(!(u&&u.isJamActive())){if(this.getEnabled()){L.info("Disabling JamDiscussButton: user not logged in or Jam not active",null,"sap.ushell.ui.footerbar.JamDiscussButton");}e=false;this.setVisible(false);}}B.prototype.setEnabled.call(this,e);};return J;});
sap.ui.predefine('sap/ushell/ui/footerbar/JamShareButton',["sap/base/Log","sap/collaboration/components/fiori/sharing/dialog/Component","sap/m/Button","sap/m/ButtonRenderer","sap/ushell/library","sap/ushell/resources"],function(L,C,B,a,l,r){"use strict";var J=B.extend("sap.ushell.ui.footerbar.JamShareButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"any",group:"Misc",defaultValue:null},afterPressHandler:{type:"any",group:"Misc",defaultValue:null},jamData:{type:"object",group:"Misc",defaultValue:null}}},renderer:"sap.m.ButtonRenderer"});J.prototype.init=function(){if(B.prototype.init){B.prototype.init.apply(this,arguments);}this.setEnabled();this.setIcon("sap-icon://share-2");this.setText(r.i18n.getText("shareBtn"));this.attachPress(function(){if(this.getBeforePressHandler()){this.getBeforePressHandler()();}this.showShareDialog(this.getAfterPressHandler());}.bind(this));};J.prototype.showShareDialog=function(c){function o(){this.shareComponent.setSettings(this.getJamData());this.shareComponent.open();if(c){c();}}if(!this.shareComponent){this.shareComponent=sap.ui.getCore().createComponent({name:"sap.collaboration.components.fiori.sharing.dialog"});}if(sap.ushell.Container&&sap.ushell.Container.inAppRuntime()){this.adjustFLPUrl(this.getJamData()).then(function(){o.call(this);}.bind(this),function(e){L.error("Could not retrieve FLP URL",e,"sap.ushell.ui.footerbar.JamShareButton");});}else{o.call(this);}};J.prototype.exit=function(){if(this.shareComponent){this.shareComponent.destroy();}if(B.prototype.exit){B.prototype.exit.apply(this,arguments);}};J.prototype.setEnabled=function(e){if(sap.ushell.Container){var u=sap.ushell.Container.getUser();if(!(u&&u.isJamActive())){if(!e){L.info("Disabling JamShareButton: user not logged in or Jam not active",null,"sap.ushell.ui.footerbar.JamShareButton");}e=false;this.setVisible(false);}}else{if(!e){L.warning("Disabling JamShareButton: unified shell container not initialized",null,"sap.ushell.ui.footerbar.JamShareButton");}e=false;}B.prototype.setEnabled.call(this,e);};J.prototype.adjustFLPUrl=function(j){if(j&&j.object&&j.object.id&&typeof j.object.id==="string"&&j.object.id===document.URL){return sap.ushell.Container.getFLPUrl(true).then(function(u){j.object.id=u;});}return Promise.resolve();};return J;},true);
sap.ui.predefine('sap/ushell/ui/footerbar/LogoutButton',["sap/base/Log","sap/m/ButtonRenderer","sap/m/MessageBox","sap/ui/core/ElementMetadata","sap/ushell/resources","sap/ushell/ui/launchpad/ActionItem","sap/ushell/ui/launchpad/LoadingDialog"],function(L,B,M,E,r,A,a){"use strict";var b=M.Action;var I=M.Icon;var c=A.extend("sap.ushell.ui.footerbar.LogoutButton",{metadata:{library:"sap.ushell"},renderer:"sap.m.ButtonRenderer"});c.prototype.init=function(){if(A.prototype.init){A.prototype.init.apply(this,arguments);}this.setIcon("sap-icon://log");this.setTooltip(r.i18n.getText("signoutBtn_tooltip"));this.setText(r.i18n.getText("signoutBtn_title"));this.attachPress(this.logout);this.setEnabled();};c.prototype.logout=function(){var s=true,i=false,l=new a({text:""});sap.ushell.Container.getGlobalDirty().done(function(d){s=false;if(i===true){l.exit();l=new a({text:""});}var R=r.i18n,o;if(d===sap.ushell.Container.DirtyState.DIRTY){o={message:R.getText("unsaved_data_warning_popup_message"),icon:I.WARNING,messageTitle:R.getText("unsaved_data_warning_popup_title")};}else{o={message:R.getText("signoutConfirmationMsg"),icon:I.QUESTION,messageTitle:R.getText("signoutMsgTitle")};}M.show(o.message,o.icon,o.messageTitle,[b.OK,b.CANCEL],function(e){if(e===b.OK){l.openLoadingScreen();l.showAppInfo(r.i18n.getText("beforeLogoutMsg"),null);sap.ushell.Container.logout();}},E.uid("confirm"));});if(s===true){l.openLoadingScreen();i=true;}};c.prototype.setEnabled=function(e){if(!sap.ushell.Container){if(this.getEnabled()){L.warning("Disabling 'Logout' button: unified shell container not initialized",null,"sap.ushell.ui.footerbar.LogoutButton");}e=false;}A.prototype.setEnabled.call(this,e);};return c;});
sap.ui.predefine('sap/ushell/ui/footerbar/SaveAsTile.controller',["sap/ui/core/mvc/Controller","sap/base/Log","sap/ushell/resources","sap/ui/core/library","sap/ui/thirdparty/hasher"],function(C,L,r,c,h){"use strict";var V=c.ValueState;return C.extend("sap.ushell.ui.footerbar.SaveAsTile",{onInit:function(){var v=this.getView();v.getTitleInput().attachLiveChange(function(){if(this.getValue()===""){this.setValueStateText(r.i18n.getText("bookmarkTitleInputError"));this.setValueState(V.Error);}else{this.setValueState(V.None);}});},loadPersonalizedGroups:function(){return sap.ushell.Container.getServiceAsync("LaunchPage").then(function(a){return new Promise(function(b,d){a.getGroupsForBookmarks().done(b).fail(d);});}).then(function(b){var m=this.getView().getModel();m.setProperty("/groups",b);m.setProperty("/groups/length",b.length);}.bind(this)).catch(function(){L.error("SaveAsTile controller: Unable to determine targets for bookmark placement.");});},getLocalizedText:function(m,p){return p?r.i18n.getText(m,p):r.i18n.getText(m);},getBookmarkTileData:function(){var v=this.getView();var m=v.getModel();var o=v.getViewData();var s;if(v.oGroupsSelect&&v.oGroupsSelect.getSelectedItem()){s=v.oGroupsSelect.getSelectedItem().getBindingContext().getObject();}var u;if(o.customUrl){if(typeof(o.customUrl)==="function"){u=o.customUrl();}else{u=o.customUrl;}}else{u=h.getHash()?("#"+h.getHash()):window.location.href;}var d={title:m.getProperty("/title")||"",subtitle:m.getProperty("/subtitle")||"",url:u,icon:m.getProperty("/icon")||"",info:m.getProperty("/info")||"",numberUnit:m.getProperty("/numberUnit")||"",serviceUrl:typeof(o.serviceUrl)==="function"?o.serviceUrl():o.serviceUrl,serviceRefreshInterval:m.getProperty("/serviceRefreshInterval"),group:s,keywords:m.getProperty("/keywords")||""};d.title=d.title.substring(0,256).trim();d.subtitle=d.subtitle.substring(0,256).trim();d.info=d.info.substring(0,256).trim();return d;},onExit:function(){var v=this.getView();var t=v.getTileView();t.destroy();}});});
sap.ui.predefine('sap/ushell/ui/footerbar/SaveAsTile.view',["sap/ui/thirdparty/jquery","sap/ui/core/ListItem","sap/m/Select","sap/m/library","sap/m/FlexBox","sap/ui/core/HTML","sap/m/Label","sap/ushell/ui/launchpad/Tile","sap/m/NumericContent","sap/m/TileContent","sap/m/GenericTile","sap/ui/model/BindingMode","sap/m/Input","sap/ushell/resources"],function(q,L,S,m,F,H,a,T,N,b,G,B,I,r){"use strict";var c=m.FlexRendertype;var d=m.FlexJustifyContent;var e=m.FlexAlignItems;sap.ui.jsview("sap.ushell.ui.footerbar.SaveAsTile",{getControllerName:function(){return"sap.ushell.ui.footerbar.SaveAsTile";},createContent:function(){this.oResourceBundle=r.i18n;this.viewData=this.getViewData()||{};this.appData=this.viewData.appData||{};this.oTitleInput=new I("bookmarkTitleInput",{placeholder:this.oResourceBundle.getText("bookmarkDialogoTitle_tooltip"),value:{path:"/title",mode:B.TwoWay}}).addStyleClass("sapUshellInputField");this.oTitleInput.addAriaLabelledBy("titleLbl");this.oSubTitleInput=new I("bookmarkSubTitleInput",{placeholder:this.oResourceBundle.getText("bookmarkDialogoSubTitle_tooltip"),value:{path:"/subtitle",mode:B.TwoWay}}).addStyleClass("sapUshellInputField");this.oSubTitleInput.addAriaLabelledBy("subtitleLbl");this.oInfoInput=new I("bookmarkInfoInput",{placeholder:this.oResourceBundle.getText("bookmarkDialogoDescription_tooltip"),value:{path:"/info",mode:B.TwoWay},visible:"{/showInfo}"}).addStyleClass("sapUshellInputField");this.oInfoInput.addAriaLabelledBy("infoLbl");var t;if(this.viewData.serviceUrl){t=new G({header:"{/title}",subheader:"{/subtitle}",size:"Auto",tileContent:[new b({size:"Auto",footer:"{/info}",unit:"{/numberUnit}",content:[new N({value:"{/numberValue}",truncateValueTo:5,icon:"{/icon}",withMargin:false,width:"100%"})]})]});}else{t=new G({header:"{/title}",subheader:"{/subtitle}",size:"Auto",tileContent:[new b({size:"Auto",footer:"{/info}",content:new N({icon:"{/icon}",value:" ",width:"100%",withMargin:false})})]});}this.setTileView(t);var f=new T({long:false,tileViews:[t],afterRendering:function(){var k=q(this.getDomRef()),l=k.find(".sapMGT");l.removeAttr("tabindex");}}).addStyleClass("sapUshellBookmarkFormPreviewTileMargin");var p=new H("previewBackgroundElement",{content:"<div class='sapUshellShellBG sapContrastPlus sapUiStrongBackgroundColor'></div>"});var h=new F("saveAsTileHBox",{items:[p,f],alignItems:e.Center,justifyContent:d.Center,renderType:c.Bare,visible:"{/showPreview}"}).addStyleClass("sapUshellShellBG").addStyleClass("sapUshellBookmarkFormPreviewBoxBottomMargin");this.oGroupsSelect=new S("groupsSelect",{items:{path:"/groups",template:new L({text:"{title}"})},width:"100%",visible:{parts:["/showGroupSelection","/groups"],formatter:function(k,l){if(k&&!(l&&l.length)){this.oController.loadPersonalizedGroups();}return k;}.bind(this)}});this.oGroupsSelect.addAriaLabelledBy("groupLbl");var P=new a("previewLbl",{text:this.oResourceBundle.getText("previewFld"),labelFor:h,visible:"{/showPreview}"});var o=new a("titleLbl",{required:true,text:" "+this.oResourceBundle.getText("titleFld"),labelFor:this.oTitleInput}).setLabelFor("bookmarkTitleInput");var s=new a("subtitleLbl",{text:this.oResourceBundle.getText("subtitleFld"),labelFor:this.oSubTitleInput}).setLabelFor("bookmarkSubTitleInput");var i=new a("infoLbl",{text:this.oResourceBundle.getText("tileSettingsDialog_informationField"),labelFor:this.oInfoInput,visible:"{/showInfo}"}).setLabelFor("bookmarkInfoInput");var g=this.oResourceBundle.getText("GroupListItem_label");var j=new a("groupLbl",{text:g,labelFor:this.oGroupsSelect,visible:"{/showGroupSelection}"}).setLabelFor("groupsSelect");return[P,h,o,this.oTitleInput,s,this.oSubTitleInput,i,this.oInfoInput,j,this.oGroupsSelect];},getTitleInput:function(){return this.oTitleInput;},getTileView:function(){return this.tileView;},setTileView:function(t){this.tileView=t;}});});
sap.ui.predefine('sap/ushell/ui/footerbar/SendAsEmailButton',["sap/base/Log","sap/m/Button","sap/m/ButtonRenderer","sap/ushell/Config","sap/ushell/resources"],function(L,B,a,C,r){"use strict";var S=B.extend("sap.ushell.ui.footerbar.SendAsEmailButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"any",group:"Misc",defaultValue:null},afterPressHandler:{type:"any",group:"Misc",defaultValue:null}}},renderer:"sap.m.ButtonRenderer"});S.prototype.init=function(){if(B.prototype.init){B.prototype.init.apply(this,arguments);}this.setIcon("sap-icon://email");this.setText(r.i18n.getText("sendEmailBtn"));this.setTooltip(r.i18n.getText("sendEmailBtn_tooltip"));this.attachPress(function(){if(this.getBeforePressHandler()){this.getBeforePressHandler()();}this.sendAsEmailPressed(this.getAfterPressHandler());}.bind(this));};S.prototype.sendAsEmailPressed=function(c){if(sap.ushell.Container.inAppRuntime()){sap.ui["require"](["sap/ushell/appRuntime/ui5/AppRuntimeService"],function(b){b.sendMessageToOuterShell("sap.ushell.services.ShellUIService.sendEmailWithFLPButton",{bSetAppStateToPublic:true});});}else{var u=document.URL;var A=C.last("/core/shellHeader/application").title;var s=(A===undefined)?r.i18n.getText("linkToApplication"):r.i18n.getText("linkTo")+" '"+A+"'";sap.ushell.Container.getServiceAsync("AppState").then(function(o){o.setAppStateToPublic(u).done(function(n){sap.m.URLHelper.triggerEmail(null,s,n);}).fail(L.error);});}if(c){c();}};return S;},true);
sap.ui.predefine('sap/ushell/ui/footerbar/SettingsButton',["sap/m/Button","sap/m/ButtonRenderer","sap/m/library","sap/ushell/resources","sap/ushell/ui/footerbar/AboutButton","sap/ushell/ui/footerbar/LogoutButton","sap/ushell/ui/footerbar/UserPreferencesButton"],function(B,a,m,r,A,L,U){"use strict";var P=m.PlacementType;var S=B.extend("sap.ushell.ui.footerbar.SettingsButton",{metadata:{library:"sap.ushell"},renderer:"sap.m.ButtonRenderer"});S.prototype.init=function(){if(B.prototype.init){B.prototype.init.apply(this,arguments);}this.setIcon("sap-icon://action-settings");this.setTooltip(r.i18n.getText("helpBtn_tooltip"));this.attachPress(this.showSettingsMenu);this.defaultMenuItems=[new A(),new U(),new L()];};S.prototype.setMenuItems=function(b){this.menuItems=b;};S.prototype.showSettingsMenu=function(){sap.ui.require(["sap/m/ActionSheet"],function(b){var o=new b({id:"settingsMenu",showHeader:false,buttons:(this.menuItems||[]).concat(this.defaultMenuItems)});o.setPlacement(P.Vertical);o.openBy(this);o.attachAfterClose(function(){o.removeAllButtons();o.destroy();});}.bind(this));};return S;});
sap.ui.predefine('sap/ushell/ui/footerbar/UserPreferencesButton',["sap/base/Log","sap/m/Bar","sap/m/Button","sap/m/ButtonRenderer","sap/m/Dialog","sap/m/DisplayListItem","sap/m/library","sap/m/List","sap/m/Text","sap/m/ObjectIdentifier","sap/ui/core/IconPool","sap/ui/Device","sap/ui/layout/VerticalLayout","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ushell/ui/launchpad/ActionItem","sap/ushell/ui/utils"],function(L,B,a,b,D,c,m,d,T,O,I,f,V,J,q,C,E,u,r,A,g,U){"use strict";var h=m.ButtonType;var j=g.extend("sap.ushell.ui.footerbar.UserPreferencesButton",{metadata:{library:"sap.ushell"},renderer:"sap.m.ButtonRenderer"});j.prototype.init=function(){if(g.prototype.init){g.prototype.init.apply(this,arguments);}this.setIcon("sap-icon://person-placeholder");this.translationBundle=r.i18n;this.setText(this.translationBundle.getText("userSettings"));this.setTooltip(this.translationBundle.getText("settings_tooltip"));this.attachPress(this.showUserPreferencesDialog);this.oModel=C.createModel("/core/userPreferences",J);this.setModel(this.oModel);};j.prototype.createDialog=function(){var t=this;this.saveButton=this._createSaveButton();this.cancelButton=this._createCancelButton();this.oDialog=new D({id:"userPreferencesDialog",title:"{/dialogTitle}",contentWidth:"29.6rem",content:null,contentHeight:"17rem",buttons:[this.saveButton,this.cancelButton],afterClose:function(){this._destroyDialog();this.oUser.resetChangedProperties();}.bind(t),stretch:f.system.phone}).addStyleClass("sapUshellUserPreferencesDialog").addStyleClass("sapContrastPlus");this._addDialogBackButton();this.oDialog.setModel(this.getModel());this.oDialog.addCustomData(new A({key:"aria-label",value:t.translationBundle.getText("Settings_Dialog_Main_label"),writeToDom:true}));this.oDialog.addContent(this._getOriginalDialogContent());};j.prototype._getOriginalDialogContent=function(){if(!this.oInitialContent){var o,e;o=this._getUserDetailsControl();e=this._getEntryListControl();this.oInitialContent=new V("userPreferencesLayout",{content:[o,e],width:"100%"});}return this.oInitialContent;};j.prototype._getEntryListControl=function(){var e=this._getUserPrefEntriesTemplate(),x=this.getModel()&&this.getModel().getProperty("/enableHelp"),t=this,i,s=this.oUser.getFullName(),o,k=new d("userPrefEnteryList",{items:{path:"/entries",template:e}});k.addCustomData(new A({key:"aria-label",value:t.translationBundle.getText("Settings_EntryList_label")+s,writeToDom:true}));o=k.onAfterRendering;k.onAfterRendering=function(){var l=this.getItems(),n;o.apply(this,arguments);for(i=0;i<l.length;i++){n=l[i].getBindingContext().getPath();if(!t.getModel().getProperty(n+"/valueResult")){t._setEntryValueResult(n);}if(x){t._addXRayHelpId(n,l[i]);}}};return k;};j.prototype._addXRayHelpId=function(e,l){var i=this.getModel().getProperty(e+"/entryHelpID");if(i){l.addStyleClass("help-id-"+i);}};j.prototype._setEntryValueResult=function(e){var t=this,i=this.getModel().getProperty(e+"/editable"),v=this.getModel().getProperty(e+"/valueArgument");if(typeof v==="function"){this.getModel().setProperty(e+"/valueResult",this.translationBundle.getText("genericLoading"));this.getModel().setProperty(e+"/editable",false);var o=v();o.done(function(k){t.getModel().setProperty(e+"/editable",i);t.getModel().setProperty(e+"/visible",typeof(k)==="object"?!!k.value:true);t.getModel().setProperty(e+"/valueResult",typeof(k)==="object"?k.displayText:k);});o.fail(function(){t.getModel().setProperty(e+"/valueResult",t.translationBundle.getText("loadingErrorMessage"));});}else if(v){this.getModel().setProperty(e+"/valueResult",v);this.getModel().setProperty(e+"/editable",i);}else{this.getModel().setProperty(e+"/valueResult",this.translationBundle.getText("loadingErrorMessage"));}};j.prototype._emitEntryOpened=function(e){var o=E.last("UserSettingsOpened")||{},p=e.split("/").pop();o[p]=true;E.emit("UserSettingsOpened",o);};j.prototype._getUserPrefEntriesTemplate=function(){var t=this,i,p=function(e){var o={};o=q.extend(true,{},{},e);sap.ui.require(["sap/m/FlexBox","sap/m/FlexAlignItems","sap/m/FlexJustifyContent","sap/m/BusyIndicator"],function(F,k,l,n){var s=true,v,w,x=o.getSource().getLabel(),y=o.getSource().getBindingContext().getPath();t.getModel().setProperty("/activeEntryPath",y);t._setDetailedEntryModeMode(true,y,x,y);t.oDialog.removeAllContent();w=t.getModel().getProperty(y+"/contentResult");if(w){v=sap.ui.getCore().byId(w);t.oDialog.addContent(v);t._emitEntryOpened(y);}else{var z=null,G,S=true,H=false,K=t.getModel().getProperty(y+"/contentFunc");if(typeof K==="function"){t._emitEntryOpened(y);G=K();G.done(function(M){S=false;if(H===true){t.oDialog.removeAllContent();z.destroy();}if(M instanceof sap.ui.core.Control){t.getModel().setProperty(y+"/contentResult",M.getId());t.oDialog.addContent(M);}else{s=false;}});G.fail(function(){S=false;if(H===true){t.oDialog.removeAllContent();z.destroy();}s=false;});G.always(function(){if(s===false){var M=new F("userPrefErrorFlexBox",{height:"5rem",alignItems:k.Center,justifyContent:l.Center,items:[new T("userPrefErrorText",{text:t.translationBundle.getText("loadingErrorMessage")})]});t.getModel().setProperty(y+"/contentResult",M.getId());t.oDialog.addContent(M);}});if(S===true){z=new n("userPrefLoadingBusyIndicator",{size:"2rem"});t.oDialog.addContent(z);H=true;}}}});};i=new c({label:"{title}",value:"{valueResult}",tooltip:{path:"valueResult",formatter:function(v){return typeof(v)==="string"?v:"";}},type:{path:"editable",formatter:function(e){return(e===true)?"Navigation":"Inactive";}},visible:{path:"visible",formatter:function(v){return(v!==undefined)?v:true;}},press:p,customData:new A({key:"aria-label",value:{parts:[{path:"title"},{path:"valueResult"}],formatter:function(s,v){v=v||"";return s+" "+v;}},writeToDom:true})});return i;};j.prototype._getUserDetailsControl=function(){return new O({title:this.oUser.getFullName(),text:this.oUser.getEmail()}).addStyleClass("sapUshellUserPrefUserIdentifier");};j.prototype._createCancelButton=function(){var t=this;return new a({id:"cancelButton",text:{parts:["/entries"],formatter:function(e){if(!e){return"";}var i=e.some(function(o){return o.editable;});return i>0?t.translationBundle.getText("cancelBtn"):t.translationBundle.getText("close");}},press:t._dialogCancelButtonHandler.bind(t),visible:true});};j.prototype._createSaveButton=function(){var t=this;return new a({id:"saveButton",text:this.translationBundle.getText("saveBtn"),type:h.Emphasized,press:t._dialogSaveButtonHandler.bind(t),visible:{parts:["/entries"],formatter:function(e){if(!e){return false;}return e.some(function(o){return o.editable;});}}});};j.prototype._setDetailedEntryModeMode=function(i,e,k,l){this.getModel().setProperty("/isDetailedEntryMode",!!i);this.getModel().setProperty("/dialogTitle",k);};j.prototype.showUserPreferencesDialog=function(){this.oUser=sap.ushell.Container.getUser();this.createDialog();this.oDialog.open();};j.prototype._dialogBackButtonHandler=function(){var t=this;t.getModel().setProperty("/isDetailedEntryMode",false);t.getModel().setProperty("/dialogTitle",t.translationBundle.getText("userSettings"));t.oDialog.removeAllContent();t.oDialog.addContent(t._getOriginalDialogContent());t._setEntryValueResult(t.getModel().getProperty("/activeEntryPath"));t.getModel().setProperty("/activeEntryPath",null);};j.prototype._destroyDialog=function(){this.oHeadBar.destroy();this.oInitialContent.destroy();this.oInitialContent=null;this._modelCleanUpToInitial();this._entriesCleanUp();this.oDialog.destroy();this.saveButton.destroy();this.cancelButton.destroy();};j.prototype._entriesCleanUp=function(){var i,e=this.getModel().getProperty("/entries"),s,o;for(i=0;i<e.length;i++){s=e[i].contentResult;delete e[i].contentResult;if(s){o=sap.ui.getCore().byId(s);o.destroy();o=null;}e[i].valueResult=null;}this.getModel().setProperty("/entries",e);};j.prototype._modelCleanUpToInitial=function(){this.getModel().setProperty("/isDetailedEntryMode",false);this.getModel().setProperty("/dialogTitle",this.translationBundle.getText("userSettings"));};j.prototype._dialogSaveButtonHandler=function(){var t=this,i,e=this.getModel().getProperty("/entries"),s=U.saveUserPreferenceEntries(e);i=this.getModel().getProperty("/isDetailedEntryMode");if(i){this.getModel().setProperty("/activeEntryPath",null);}s.done(function(){t._showSaveMessageToast();});s.fail(function(k){var l,n="";if(k.length===1){l=t.translationBundle.getText("savingEntryError")+" ";}else{l=t.translationBundle.getText("savingEntriesError")+"\n";}k.forEach(function(o){l+=o.entry+"\n";n+="Entry: "+o.entry+" - Error message: "+o.message+"\n";});sap.ushell.Container.getServiceAsync("Message").then(function(M){M.error(l,t.translationBundle.getText("Error"));});L.error("Failed to save the following entries",n,"sap.ushell.ui.footerbar.UserPreferencesButton");});this.oDialog.close();this._destroyDialog();};j.prototype._dialogCancelButtonHandler=function(){var i,e=this.getModel().getProperty("/entries");for(i=0;i<e.length;i++){if(e[i]&&e[i].onCancel){e[i].onCancel();}}this.oDialog.close();this._destroyDialog();};j.prototype._addDialogBackButton=function(){var t=this,o=new a("userPrefBackBtn",{visible:"{/isDetailedEntryMode}",icon:I.getIconURI("nav-back"),press:t._dialogBackButtonHandler.bind(t),tooltip:this.translationBundle.getText("feedbackGoBackBtn_tooltip")}),e=new T("userPrefTitle",{text:"{/dialogTitle}"});this.oHeadBar=new B({contentLeft:[o],contentMiddle:[e]});this.oDialog.setCustomHeader(this.oHeadBar);};j.prototype._showSaveMessageToast=function(){var t=this;sap.ui.require(["sap/m/MessageToast"],function(M){var e=t.translationBundle.getText("savedChanges");M.show(e,{duration:3000,width:"15em",my:"center bottom",at:"center bottom",of:window,offset:"0 -50",collision:"fit fit"});});};return j;});
sap.ui.predefine('sap/ushell/ui/launchpad/AnchorItem',["sap/ui/core/Control","sap/ushell/library","sap/ushell/ui/launchpad/AnchorItemRenderer"],function(C){"use strict";var A=C.extend("sap.ushell.ui.launchpad.AnchorItem",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Misc",defaultValue:null},selected:{type:"boolean",group:"Misc",defaultValue:false},groupId:{type:"string",group:"Misc",defaultValue:null},defaultGroup:{type:"boolean",group:"Misc",defaultValue:false},helpId:{type:"string",group:"Misc",defaultValue:null},index:{type:"int",group:"Misc",defaultValue:null},isGroupVisible:{type:"boolean",group:"Misc",defaultValue:true},isGroupRendered:{type:"boolean",group:"Misc",defaultValue:false},isGroupDisabled:{type:"boolean",group:"Misc",defaultValue:false},locked:{type:"boolean",group:"Misc",defaultValue:false}},events:{press:{},afterRendering:{}}}});A.prototype.init=function(){this.addDelegate({onAfterRendering:this.fireAfterRendering.bind(this),onclick:this.firePress.bind(this),onsapenter:this.firePress.bind(this),onsapspace:function(e){e.preventDefault();this.firePress();}.bind(this)});};return A;});
sap.ui.predefine('sap/ushell/ui/launchpad/AnchorItemRenderer',function(){"use strict";var A={apiVersion:2,render:function(r,a){var g=a.getGroupId(),s=a.getSelected();r.openStart("li",a);r.attr("modelGroupId",g);r.attr("role","tab");r.attr("aria-selected",s);r.class("sapUshellAnchorItem");if(!a.getIsGroupRendered()){r.class("sapUshellAnchorItemNotRendered");}if(a.getHelpId()){if(a.getDefaultGroup()){r.class("help-id-homeAnchorNavigationBarItem");}else{r.class("help-id-anchorNavigationBarItem");}r.attr("data-help-id",a.getHelpId());}if(s){r.attr("tabindex","0");r.class("sapUshellAnchorItemSelected");}if(!a.getVisible()||!a.getIsGroupVisible()){r.class("sapUshellShellHidden");}r.openEnd();r.openStart("div",a.getId()+"-inner");r.class("sapUshellAnchorItemInner");if(a.getIsGroupDisabled()){r.class("sapUshellAnchorItemDisabled");}r.openEnd();r.text(a.getTitle());r.close("div");r.close("li");}};return A;});
sap.ui.predefine('sap/ushell/ui/launchpad/AnchorNavigationBar',["sap/m/Bar","sap/ui/Device","sap/ui/thirdparty/jquery","sap/base/util/isEmptyObject","sap/m/Button","sap/ushell/resources","sap/ushell/library","./AnchorNavigationBarRenderer"],function(B,D,q,a,b,r){"use strict";var A=B.extend("sap.ushell.ui.launchpad.AnchorNavigationBar",{metadata:{library:"sap.ushell",properties:{accessibilityLabel:{type:"string",defaultValue:null},selectedItemIndex:{type:"int",group:"Misc",defaultValue:0},overflowEnabled:{type:"boolean",group:"Misc",defaultValue:true}},aggregations:{groups:{type:"sap.ushell.ui.launchpad.AnchorItem",multiple:true,singularName:"group"}},events:{afterRendering:{},itemPress:{}}}});A.prototype.init=function(){D.resize.attachHandler(this.reArrangeNavigationBarElements,this);this.bGroupWasPressed=false;this.bIsRtl=sap.ui.getCore().getConfiguration().getRTL();this._bIsRenderedCompletely=false;};A.prototype.handleExit=function(){if(this.oPopover){this.oPopover.destroy();}if(this.oOverflowButton){this.oOverflowButton.destroy();}};A.prototype.onAfterRendering=function(){if(this._bIsRenderedCompletely){this.reArrangeNavigationBarElements();q(".sapUshellAnchorNavigationBarItemsScroll").scroll(this.setNavigationBarItemsVisibility.bind(this));}};A.prototype.openOverflowPopup=function(){var o=q(".sapUshellAnchorItemOverFlow").hasClass("sapUshellAnchorItemOverFlowOpen");if(this.oOverflowButton&&!o){this.oOverflowButton.firePress();}};A.prototype.closeOverflowPopup=function(){if(this.oPopover){this.oPopover.close();}};A.prototype.reArrangeNavigationBarElements=function(){this.anchorItems=this.getVisibleGroups();var s=this.getSelectedItemIndex()||0;if(this.anchorItems.length){this.adjustItemSelection(s);}if(D.system.phone&&this.anchorItems.length){this.anchorItems.forEach(function(i){i.setIsGroupVisible(false);});this.anchorItems[this.getSelectedItemIndex()].setIsGroupVisible(true);}else{setTimeout(function(){this.setNavigationBarItemsVisibility();}.bind(this),200);}this._adjustAnchorBarAriaProperties(this.anchorItems);};A.prototype._scrollToGroupByGroupIndex=function(g,s){var S=D.system.tablet?".sapUshellAnchorNavigationBarItemsScroll":".sapUshellAnchorNavigationBarItems";var c=document.documentElement.querySelector(S);var o=this.anchorItems[g].getDomRef();if(c&&o){var C=c.getBoundingClientRect();var i=o.getBoundingClientRect();var $=q(c);var d=this.bIsRtl?$.scrollLeftRTL():c.scrollLeft;var x;if(i.left<C.left){x=i.left-C.left-16;}else if(i.right>C.right){x=i.right-C.right+16;}if(x){if(this.bIsRtl){$.scrollLeftRTL(d+x);}else{c.scrollLeft=d+x;}}this.setNavigationBarItemsVisibility();}};A.prototype.setNavigationBarItemsVisibility=function(){if(!D.system.phone){this.setNavigationBarItemsVisibilityOnDesktop();}else if(this.anchorItems&&this.anchorItems.length>0){this.oOverflowButton.removeStyleClass("sapUshellShellHidden");var s=this.getSelectedItemIndex()||0;if(this.oPopover){this.oPopover.setTitle(this.anchorItems[s].getTitle());}}};A.prototype.setNavigationBarItemsVisibilityOnDesktop=function(){if(this.anchorItems.length&&(!this.isMostRightAnchorItemVisible()||!this.isMostLeftAnchorItemVisible())){this.oOverflowButton.removeStyleClass("sapUshellShellHidden");q(".sapUshellAnchorItemOverFlow").removeClass("sapUshellShellHidden");}else if(this.oOverflowButton){this.oOverflowButton.addStyleClass("sapUshellShellHidden");q(".sapUshellAnchorItemOverFlow").addClass("sapUshellShellHidden");}if(this.bIsRtl){if(this.anchorItems.length&&!this.isMostLeftAnchorItemVisible()){this.oOverflowRightButton.removeStyleClass("sapUshellShellHidden");}else if(this.oOverflowRightButton){this.oOverflowRightButton.addStyleClass("sapUshellShellHidden");}if(this.anchorItems.length&&!this.isMostRightAnchorItemVisible()){this.oOverflowLeftButton.removeStyleClass("sapUshellShellHidden");}else if(this.oOverflowLeftButton){this.oOverflowLeftButton.addStyleClass("sapUshellShellHidden");}}else{if(this.anchorItems.length&&!this.isMostLeftAnchorItemVisible()){this.oOverflowLeftButton.removeStyleClass("sapUshellShellHidden");}else if(this.oOverflowLeftButton){this.oOverflowLeftButton.addStyleClass("sapUshellShellHidden");}if(this.anchorItems.length&&!this.isMostRightAnchorItemVisible()){this.oOverflowRightButton.removeStyleClass("sapUshellShellHidden");}else if(this.oOverflowRightButton){this.oOverflowRightButton.addStyleClass("sapUshellShellHidden");}}q(".sapUshellAnchorItem.firstItem").removeClass("firstItem");var j=q(".sapUshellAnchorItem").filter(":visible").eq(0);j.addClass("firstItem");};A.prototype.adjustItemSelection=function(s){setTimeout(function(){if(this.anchorItems&&this.anchorItems.length){this.anchorItems.forEach(function(i){i.setSelected(false);});if(s>=0&&s<this.anchorItems.length){this.anchorItems[s].setSelected(true);this._scrollToGroupByGroupIndex(s);}}}.bind(this),200);};A.prototype.isMostRightAnchorItemVisible=function(){var j=q(".sapUshellAnchorNavigationBarInner"),n=!a(j)?j.width():0,c=!a(j)&&j.offset()?j.offset().left:0,l=this.bIsRtl?this.anchorItems[0].getDomRef():this.anchorItems[this.anchorItems.length-1].getDomRef(),d=!a(l)?q(l).width():0,e;if(d<0){d=80;}e=l&&q(l).offset()?q(l).offset().left:0;return Math.ceil(e)+d<=c+n;};A.prototype.isMostLeftAnchorItemVisible=function(){var j=q(".sapUshellAnchorNavigationBarInner"),n=!a(j)&&j.offset()&&j.offset().left||0,f=this.bIsRtl?this.anchorItems[this.anchorItems.length-1].getDomRef():this.anchorItems[0].getDomRef(),c=!a(f)&&q(f).offset()?q(f).offset().left:0;return Math.ceil(c)>=n;};A.prototype.setSelectedItemIndex=function(s){if(s!==undefined){this.setProperty("selectedItemIndex",s,true);}};A.prototype.setOverflowEnabled=function(e){this.setProperty("overflowEnabled",e);if(this.oOverflowButton){this.oOverflowButton.setEnabled(e);}};A.prototype._getOverflowLeftArrowButton=function(){if(!this.oOverflowLeftButton){this.oOverflowLeftButton=new b({icon:"sap-icon://slim-arrow-left",tooltip:r.i18n.getText("scrollToTop"),press:function(){this._scrollToGroupByGroupIndex(0);}.bind(this)}).addStyleClass("sapUshellShellHidden");this.oOverflowLeftButton._bExcludeFromTabChain=true;}return this.oOverflowLeftButton;};A.prototype._getOverflowRightArrowButton=function(){if(!this.oOverflowRightButton){this.oOverflowRightButton=new b({icon:"sap-icon://slim-arrow-right",tooltip:r.i18n.getText("scrollToEnd"),press:function(){this._scrollToGroupByGroupIndex(this.anchorItems.length-1);}.bind(this)}).addStyleClass("sapUshellShellHidden");this.oOverflowRightButton._bExcludeFromTabChain=true;}return this.oOverflowRightButton;};A.prototype._getOverflowButton=function(){if(!this.oOverflowButton){this.oOverflowButton=new b("sapUshellAnchorBarOverflowButton",{icon:"sap-icon://slim-arrow-down",tooltip:r.i18n.getText("more_groups"),enabled:this.getOverflowEnabled(),press:function(){this._togglePopover();}.bind(this)}).addStyleClass("sapUshellShellHidden");this.oOverflowButton._bExcludeFromTabChain=true;}return this.oOverflowButton;};A.prototype._togglePopover=function(){sap.ui.require(["sap/m/Popover","sap/ui/model/Filter","sap/ushell/ui/launchpad/GroupListItem","sap/m/List","sap/m/library"],function(P,F,G,L,m){var c=m.ListMode;if(!this.oPopover){this.oList=new L({mode:c.SingleSelectMaster,rememberSelections:false,selectionChange:function(e){this.fireItemPress({group:e.getParameter("listItem")});this.oPopover.close();}.bind(this)});this.oPopover=new P("sapUshellAnchorBarOverflowPopover",{showArrow:false,showHeader:false,placement:"Left",content:[this.oList],horizontalScrolling:false,beforeOpen:function(){var j=q(".sapUshellAnchorItemOverFlow"),i=sap.ui.getCore().getConfiguration().getRTL(),o=i?-1*j.outerWidth():j.outerWidth();this.setOffsetX(o);},afterClose:function(){q(".sapUshellAnchorItemOverFlow").removeClass("sapUshellAnchorItemOverFlowOpen");q(".sapUshellAnchorItemOverFlow").toggleClass("sapUshellAnchorItemOverFlowPressed",false);}}).addStyleClass("sapUshellAnchorItemsPopover").addStyleClass("sapContrastPlus");}if(this.oPopover.isOpen()){this.oPopover.close();}else{this.anchorItems=this.getVisibleGroups();this.oList.setModel(this.getModel());var d=this.getModel().getProperty("/tileActionModeActive");var v=new F("","EQ","a");v.fnTest=function(i){if(!i.visibilityModes[d?1:0]){return false;}return i.isGroupVisible||d;};this.oList.bindItems({path:"/groups",template:new G({title:"{title}",groupId:"{groupId}",index:"{index}"}),filters:[v]});var s=q(".sapUshellAnchorItemSelected").attr("id");var S=sap.ui.getCore().byId(s);this.oList.getItems().forEach(function(i){if(S.mProperties.groupId===i.mProperties.groupId){i.addStyleClass("sapUshellAnchorPopoverItemSelected");}else{i.addStyleClass("sapUshellAnchorPopoverItemNonSelected");}});q(".sapUshellAnchorItemOverFlow").toggleClass("sapUshellAnchorItemOverFlowPressed",true);this.oPopover.openBy(this.oOverflowButton);}}.bind(this));};A.prototype.getVisibleGroups=function(){return this.getGroups().filter(function(g){return g.getVisible();});};A.prototype._adjustAnchorBarAriaProperties=function(g){var i;for(i=0;i<g.length;i++){var j=q(g[i].getDomRef());j.attr("aria-posinset",i+1);j.attr("aria-setsize",g.length);}};A.prototype._setRenderedCompletely=function(R){this._bIsRenderedCompletely=R;};A.prototype.handleAnchorItemPress=function(e){this.bGroupWasPressed=true;this.fireItemPress({group:e.getSource(),manualPress:true});};A.prototype.exit=function(){if(this.oOverflowLeftButton){this.oOverflowLeftButton.destroy();}if(this.oOverflowRightButton){this.oOverflowRightButton.destroy();}if(this.oOverflowButton){this.oOverflowButton.destroy();}if(this.oPopover){this.oPopover.destroy();}};return A;});
sap.ui.predefine('sap/ushell/ui/launchpad/AnchorNavigationBarRenderer',["sap/ui/thirdparty/jquery","sap/ushell/resources"],function(q,r){"use strict";var A={};A.render=function(R,c){R.write("<div");R.writeAttribute("data-sap-ui-customfastnavgroup","true");R.addClass("sapUshellAnchorNavigationBar");R.writeClasses();R.writeControlData(c);R.write(">");R.write("<div");R.addClass("sapUshellAnchorNavigationBarInner");R.writeClasses();R.write(">");if(c.getGroups().length>0){c._setRenderedCompletely(true);R.write("<div");R.addClass("sapUshellAnchorLeftOverFlowButton");R.writeClasses();R.writeAccessibilityState(c._getOverflowLeftArrowButton(),{"hidden":true});R.write(">");R.renderControl(c._getOverflowLeftArrowButton());R.write("</div>");R.write("<div");R.addClass("sapUshellAnchorNavigationBarItems");R.writeClasses();R.write(">");R.write("<ul");R.addClass("sapUshellAnchorNavigationBarItemsScroll");R.writeClasses();R.writeAccessibilityState(c,{role:"tablist",label:r.i18n.getText("AnchorNavigationBar_AriaLabel")});R.write(">");this.renderAnchorNavigationItems(R,c);R.write("</ul>");R.write("</div>");R.write("<div");R.addClass("sapUshellAnchorRightOverFlowButton");R.writeClasses();R.writeAccessibilityState(c._getOverflowRightArrowButton(),{"hidden":true});R.write(">");R.renderControl(c._getOverflowRightArrowButton());R.write("</div>");R.write("<div");R.addClass("sapUshellAnchorItemOverFlow");R.writeClasses();R.writeAccessibilityState(c._getOverflowButton(),{"hidden":true});R.write(">");R.renderControl(c._getOverflowButton());R.write("</div>");}R.write("</div>");R.write("</div>");};A.renderAnchorNavigationItems=function(R,c){var g=c.getGroups();q.each(g,function(){R.renderControl(this);});};A.shouldAddIBarContext=function(){return false;};return A;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/CatalogEntryContainer',["sap/base/Log","sap/ui/core/Control","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/TileContainerUtils"],function(L,C,u,r,T){"use strict";var a=C.extend("sap.ushell.ui.launchpad.CatalogEntryContainer",{metadata:{properties:{header:{type:"string",group:"Appearance",defaultValue:null},catalogSearchTerm:{type:"string",group:"Appearance",defaultValue:null},catalogTagSelector:{type:"object",group:"Appearance",defaultValue:null}},aggregations:{appBoxesContainer:{type:"sap.ushell.ui.appfinder.AppBox",multiple:true},customTilesContainer:{type:"sap.ushell.ui.launchpad.Tile",multiple:true}}},renderer:{apiVersion:2,render:function(b,c){b.openStart("div",c);b.attr("aria-labeledby",c.getId()+"-title");b.attr("role","group");b.class("sapUshellTileContainer");b.class("sapUshellCatalogTileContainer");b.openEnd();b.openStart("div");b.class("sapUshellTileContainerContent");b.attr("tabindex","-1");b.openEnd();var h=c.getHeader();if(h){if(r.i18n.hasText(h)){h=r.i18n.getText(h);}b.openStart("div");b.class("sapUshellTileContainerHeader");b.class("sapUshellCatalogTileContainerHeader");b.attr("id",c.getId()+"-groupheader");b.openEnd();b.openStart("div");b.class("sapUshellCatalogTileContainerHeaderInner");b.attr("id",c.getId()+"-title");b.openEnd();b.openStart("h2");b.class("sapUshellContainerTitle");b.class("sapUshellCatalogContainerTitle");b.attr("title",h);b.attr("aria-level","2");b.openEnd();b.text(h);b.close("h2");b.close("div");b.close("div");}var i=c.data("containerHeight");var A=c.getAppBoxesContainer();var I;var d=c.getCustomTilesContainer();if(A.length>0||d.length>0){b.openStart("ul");if(i){b.style("height",i);}b.class("sapUshellTilesContainer-sortable");b.class("sapUshellInner");b.openEnd();for(I=0;I<A.length;I++){b.renderControl(A[I]);}b.openStart("div");b.style("clear","both");b.openEnd();b.close("div");for(I=0;I<d.length;I++){b.renderControl(d[I]);}b.close("ul");}b.close("div");b.close("div");}}});a.prototype.setAfterHandleElements=function(c){this.onAfterHandleElements=c;};a.prototype.onAfterUpdate=function(c){this.fnCallback=c;};a.prototype.updateAggregation=function(R){L.debug("Updating CatalogEntryContainer. Reason: ",R);};a.prototype.addNewItem=function(e,n){if(this.catalogState[n]!=="full"&&this.getAllocatedUnits&&!this.getAllocatedUnits()){this.catalogState[n]="partial";return false;}if(n==="customTilesContainer"){var b=e.getObject&&e.getObject().src;if(b!==undefined){var c;if(b.Chip!==undefined&&b.Chip.getContract!==undefined){c=b.Chip.getContract("preview");}else if(b.getContract!==undefined){c=b.getContract("preview");}if(c!==undefined){c.setEnabled(true);}}sap.ushell.Container.getServiceAsync("LaunchPage").then(function(l){l.getCatalogTileViewControl(e.getProperty("src")).done(function(d){e.getProperty("content")[0]=d;});});}var N=T.createNewItem.bind(this)(e,n);T.addNewItem.bind(this)(N,n);var i=(n==="appBoxesContainer")?this.getAppBoxesContainer():this.getCustomTilesContainer(),p=e.getPath();this.indexingMaps[n].onScreenPathIndexMap[p]={aItemsRefrenceIndex:i.length-1,isVisible:true};return true;};a.prototype.getNumberResults=function(){return{nAppboxes:this.nNumberOfVisibileElements.appBoxesContainer,nCustom:this.nNumberOfVisibileElements.customTilesContainer};};a.prototype.handleElements=function(R){var n=R,b=this.mBindingInfos[n].binding,B=b.getContexts(),i,s,c;if(!this.catalogState){this.catalogState={};}if(!this.catalogState[R]){this.catalogState[R]="start";}if(!this.indexingMaps){this.indexingMaps={};}if(!this.nNumberOfVisibileElements){this.nNumberOfVisibileElements=[];}if(!this.nNumberOfVisibileElements.customTilesContainer){this.nNumberOfVisibileElements.customTilesContainer=0;}if(!this.nNumberOfVisibileElements.appBoxesContainer){this.nNumberOfVisibileElements.appBoxesContainer=0;}if(!this.filters){this.filters={};}i=(n==="appBoxesContainer")?this.getAppBoxesContainer():this.getCustomTilesContainer();this.indexingMaps[n]=T.indexOnScreenElements(i,false);c=T.markVisibleOnScreenElementsSearchCatalog(B,this.indexingMaps[n],true);if(T.createMissingElementsInOnScreenElementsSearchCatalog(this.indexingMaps[n],B,c,this.addNewItem.bind(this),i,this.filters[n],n,this.processFiltering.bind(this))){if(this.getAllocatedUnits&&this.getAllocatedUnits()){this.catalogState[R]="full";}}i=(n==="appBoxesContainer")?this.getAppBoxesContainer():this.getCustomTilesContainer();s=T.showHideTilesAndHeaders(this.indexingMaps[n],i);this.nNumberOfVisibileElements[n]=s.nCountVisibElelemnts;if(this.fnCallback){this.fnCallback(this);}if(this.onAfterHandleElements){this.onAfterHandleElements(this);}};a.prototype.processFiltering=function(e,n){var p=e.getPath();if(n){var i=this.indexingMaps[n].onScreenPathIndexMap[p];if(i.isVisible&&this.currElementVisible){this.currElementVisible();}}};return a;});
sap.ui.predefine('sap/ushell/ui/launchpad/CatalogsContainer',["sap/base/Log","sap/ui/core/Control","sap/ui/performance/Measurement","sap/ushell/library","sap/ushell/ui/launchpad/TileContainerUtils"],function(L,C,M,u,T){"use strict";var a=C.extend("sap.ushell.ui.launchpad.CatalogsContainer",{metadata:{properties:{categoryFilter:{type:"string",defaultValue:"ALL"},categoryAllocateTiles:{type:"int",defaultValue:"0"}},aggregations:{catalogs:{type:"sap.ushell.ui.launchpad.CatalogEntryContainer",multiple:true}}},renderer:{apiVersion:2,render:function(r,c){var b=c.getCatalogs();r.openStart("div",c);r.class("sapUshellCatalogsContainer");r.openEnd();for(var i=0,l=b.length;i<l;++i){r.renderControl(b[i]);}r.close("div");}}});a.prototype.onBeforeRendering=function(){if(this.getCatalogs().length){this.setBusy(false);}};a.prototype.setPagingManager=function(p){M.start("FLP:DashboardManager.CatalogsRendering","CatalogsRendering","FLP");M.pause("FLP:DashboardManager.CatalogsRendering");this.oPagingManager=p;};a.prototype.updateAllocatedUnits=function(n){this.nAllocatedUnits=n;};a.prototype.applyPagingCategoryFilters=function(n,c){var i=this.getCatalogs();this.nAllocatedUnits=n;if(c&&c!=="All"){this.sCatalogTerm=c;}else{this.sCatalogTerm="";}if(!this.filters){this.filters={};}if(!this.filters.catalogEntry){this.filters.catalogEntry=function(e){var p=e.getPath(),I=e.getProperty("title")===this.sCatalogTerm,b;if(!this.sCatalogTerm){return;}b=this.indexingMaps.onScreenPathIndexMap[p];if(b){b.isVisible=I;}}.bind(this);}if(!this.filters.pagination){this.filters.pagination=function(e){var p=e.getPath(),b;b=this.indexingMaps.onScreenPathIndexMap[p];if(!this.nAllocatedUnits){b.isVisible=false;}}.bind(this);}if(!this.indexingMaps){return;}this.indexingMaps=T.indexOnScreenElements(i);T.applyFilterOnAllItems(this.mBindingInfos.catalogs,this.filters,this.processFiltering.bind(this));if(this.indexingMaps){T.showHideTilesAndHeaders(this.indexingMaps,this.getCatalogs());}};a.prototype.processFiltering=function(e){var c=this.getCatalogs(),p=e.getPath(),i=this.indexingMaps.onScreenPathIndexMap[p],o=c[i.aItemsRefrenceIndex],b;if(i.isVisible&&(!this.catalogPagination[p]||this.catalogPagination[p]==="start")){if(this.catalogPagination[p]===undefined){this.catalogPagination[p]="start";o.catalogState={};}else if(this.catalogPagination[p]==="start"){var n=o.nNumberOfVisibileElements;this.nAllocatedUnits+=(n.appBoxesContainer+n.customTilesContainer);}b=this.nAllocatedUnits;o.handleElements("appBoxesContainer");o.handleElements("customTilesContainer");if(o.catalogState.appBoxesContainer==="full"&&o.catalogState.customTilesContainer==="full"){this.catalogPagination[p]="full";}if(b-this.nAllocatedUnits>0){this.bSearchResults=true;}else{i.isVisible=false;}}else if(i.isVisible&&this.catalogPagination[p]==="full"){var d=o.nNumberOfVisibileElements;var f=d.appBoxesContainer+d.customTilesContainer;if(f===0){i.isVisible=false;}}};a.prototype.resetCatalogPagination=function(){this.catalogPagination={};};a.prototype.updateAggregation=function(r){L.debug("Updating TileContainer. Reason: ",r);try{M.resume("FLP:DashboardManager.CatalogsRendering");this.filterElements();M.pause("FLP:DashboardManager.CatalogsRendering");}catch(e){C.prototype.updateAggregation.apply(this,arguments);}};a.prototype.addNewItem=function(e,n){var N,b,i,p=e.getPath();N=T.createNewItem.bind(this)(e,n);if(!N.filters){N.filters={};N.filters.appBoxesContainer={};N.filters.customTilesContainer={};N.filters.appBoxesContainer.pagination=function(c){var d=this.indexingMaps.appBoxesContainer.onScreenPathIndexMap[c.getPath()];if(this.getAllocatedUnits){d.isVisible=!!this.getAllocatedUnits();}}.bind(N);N.filters.customTilesContainer.pagination=function(c){var d=this.indexingMaps.customTilesContainer.onScreenPathIndexMap[c.getPath()];if(this.getAllocatedUnits){d.isVisible=!!this.getAllocatedUnits();}}.bind(N);}N.nAllocatedUnits=this.nAllocatedUnits;N.getAllocatedUnits=function(){return this.nAllocatedUnits;}.bind(this);N.elementFiltered=function(c){b=this.oPagingManager.getSizeofSupportedElementInUnits("tile");this.nAllocatedUnits+=c*b;if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0;}}.bind(this);N.elementsVisible=function(c){b=this.oPagingManager.getSizeofSupportedElementInUnits("tile");this.nAllocatedUnits-=c*b;if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0;}}.bind(this);N.newElementCreated=function(E,c){this.nAllocatedUnits-=this.oPagingManager.getSizeofSupportedElementInUnits("tile");if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0;}}.bind(this);N.currElementVisible=function(){this.nAllocatedUnits-=this.oPagingManager.getSizeofSupportedElementInUnits("tile");if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0;}}.bind(this);T.addNewItem.bind(this)(N,n);i=this.getCatalogs();this.indexingMaps.onScreenPathIndexMap[p]={aItemsRefrenceIndex:i.length-1,isVisible:true};return true;};a.prototype.handleFilters=function(){if(!this.catalogPagination){this.catalogPagination={};}if(!this.catalogsElementsMap){this.catalogsElementsMap={};}if(!this.filters){this.filters={};}};a.prototype.setHandleSearchCallback=function(h){this.handleSearchCallback=h;};a.prototype.filterElements=function(){var n="catalogs",b=this.mBindingInfos[n].binding,B=b.getContexts(),i=this.getCatalogs(),c;if(!this.indexingMaps){this.indexingMaps=T.indexOnScreenElements(i);}this.handleFilters();c=T.markVisibleOnScreenElements(B,this.indexingMaps,false);if(!T.validateOrder(B,i,c)){throw true;}T.createMissingElementsInOnScreenElements(this.indexingMaps,B,c,this.addNewItem.bind(this),i,this.filters,n);i=this.getCatalogs();T.showHideTilesAndHeaders(this.indexingMaps,i);if(this.handleSearchCallback){this.handleSearchCallback();}};return a;});
sap.ui.predefine('sap/ushell/ui/launchpad/DashboardGroupsContainer',["sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/core/InvisibleText","sap/ui/core/ResizeHandler","sap/ushell/library","sap/ushell/resources","sap/ushell/override","sap/ushell/utils","sap/ushell/Config","sap/ui/Device","./DashboardGroupsContainerRenderer"],function(M,C,I,R,l,r,o,u,a,D){"use strict";var b="UShellTileDeviceSet";var c=C.extend("sap.ushell.ui.launchpad.DashboardGroupsContainer",{metadata:{library:"sap.ushell",properties:{accessibilityLabel:{type:"string",defaultValue:null},displayMode:{type:"string",defaultValue:null},_gridEnabled:{type:"boolean",defaultValue:false}},aggregations:{groups:{type:"sap.ui.core.Control",multiple:true,singularName:"group"}},events:{afterRendering:{}}}});c.prototype.init=function(){this._getDynamicStyleElement();if(!D.media.hasRangeSet(b)){D.media.initRangeSet(b,[374],"px",["Small","Responsive"],true);}this._iContainerWidth=null;this._oTileDimensions=null;this._bRangeSetSmall=false;if(a.last("/core/home/gridContainer")){this.setProperty("_gridEnabled",true);}else{this.setProperty("_gridEnabled",false);}R.register(this,this._handleResize.bind(this));this.addInvisibleAccessabilityTexts();this._oConfigChange=a.on("/core/home/sizeBehavior").do(function(s){this._sSizeBehavior=s;this._updateTileContainer(true);}.bind(this));if(!sap.ui.getCore().isInitialized()){sap.ui.getCore().attachInit(this._handleCoreInitialized.bind(this));}else{this._handleCoreInitialized();}};c.prototype._handleCoreInitialized=function(){sap.ui.getCore().attachThemeChanged(this._handleThemeApplied,this);};c.prototype._handleThemeApplied=function(){sap.ui.getCore().detachThemeChanged(this._handleThemeApplied,this);this._updateTileContainer(true);};c.prototype.exit=function(){if(this._oStyleElement){document.head.removeChild(this._oStyleElement);}delete this._oStyleElement;this._oConfigChange.off();if(this.oTileText){this.oTileText.destroy();}if(this.oTileEditModeText){this.oTileEditModeText.destroy();}D.media.detachHandler(this._handleMediaChange,this,b);C.prototype.exit.apply(this,arguments);};c.prototype._handleResize=function(e){if(e.size.width>0&&e.size.width!==e.oldSize.width){this._updateTileContainer();}};c.prototype._updateTileContainer=function(d){var i=this._getInnerTileContainer();if(!i){return;}var s=this._sSizeBehavior==="Small"||this._bRangeSetSmall;var t=this._getTileDimensions(s,d);var e=this._getElementDimensions(i);var T=t.width;var m;var f;if(this.getProperty("_gridEnabled")){var g=this.getGroups();if(g.length>0){var G=g[0];if(!G.hasListeners("layoutChange")){G.attachEvent("layoutChange",this._updateTileContainer.bind(this));}if(G.getTileSizeBehavior()!==this._sSizeBehavior){G.setTileSizeBehavior(this._sSizeBehavior);}m=G.getActiveGapSize();T=T+m;f=G.getMaximumItemNumber();}}else{m=t.marginEnd;T=T+m;f=Math.floor(e.width/T);}var h=T*f-t.marginEnd;var j=this._iContainerWidth!==h;if(j){this._iContainerWidth=h;this._updateTileContainerWidth(h);}};c.prototype._getInnerTileContainer=function(){var d=this.getDomRef();if(!d){return null;}var t,T=d.querySelectorAll(".sapUshellTileContainerContent");for(var i=0;i<T.length;++i){if(!T[i].parentElement.classList.contains("sapUshellHidden")){t=T[i];break;}}if(t){return t.querySelector(".sapUshellInner");}return null;};c.prototype._getDynamicStyleElement=function(){if(!this._oStyleElement){this._oStyleElement=document.createElement("style");document.head.appendChild(this._oStyleElement);}return this._oStyleElement;};c.prototype._updateTileContainerWidth=function(t){var s=this._getDynamicStyleElement();s.innerHTML=".sapUshellLineModeContainer, .sapUshellLinksContainer { width: "+t+"px; }";};c.prototype._getTileDimensions=function(s,d){if(this._oTileDimensions&&!d){return this._oTileDimensions;}var t=document.createElement("div");t.style.visibility="hidden";t.classList.add("sapUshellTile");if(s){t.classList.add("sapUshellSmall");}document.body.appendChild(t);this._oTileDimensions=this._getElementDimensions(t);document.body.removeChild(t);return this._oTileDimensions;};c.prototype._getElementDimensions=function(e){var s=window.getComputedStyle(e);var d=sap.ui.getCore().getConfiguration().getRTL();var m=d?s.marginLeft:s.marginRight;return{width:parseFloat(s.width),marginEnd:parseFloat(m)};};c.prototype.updateGroups=o.updateAggregatesFactory("groups");c.prototype.onAfterRendering=function(){var t=this,d={bUseUniqueMark:true};if(this.onAfterRenderingTimer){clearTimeout(this.onAfterRenderingTimer);}this.onAfterRenderingTimer=setTimeout(function(){t.onAfterRenderingTimer=undefined;u.setPerformanceMark("FLP-TimeToInteractive_tilesLoaded",d);t.fireAfterRendering();},0);D.media.attachHandler(this._handleMediaChange,this,b);};c.prototype.onBeforeRendering=function(){D.media.detachHandler(this._handleMediaChange,this,b);};c.prototype._handleMediaChange=function(e){this._bRangeSetSmall=e.name==="Small";this._updateTileContainer(true);};c.prototype.getGroupControlByGroupId=function(g){try{var d=this.getGroups();for(var i=0,f=d.length;i<f;++i){if(d[i].getGroupId()===g){return d[i];}}}catch(e){}return null;};c.prototype.addLinksToUnselectedGroups=function(){var g=this.getGroups();g.forEach(function(G,i){if(!G.getIsGroupSelected()){M.prototype.updateAggregation.call(G,"links");}});};c.prototype.removeLinksFromAllGroups=function(){var g=this.getGroups();g.forEach(function(G,d){var L=G.getLinks();if(L.length){if(L[0].getMetadata().getName()==="sap.m.GenericTile"){G.removeAllLinks();}else{for(var i=0;i<L.length;i++){L[i].destroy();}}}});};c.prototype.removeLinksFromUnselectedGroups=function(){var g=this.getGroups();g.forEach(function(G,d){var L=G.getLinks();if(L.length&&!G.getIsGroupSelected()){if(L[0].getMetadata().getName()==="sap.m.GenericTile"){G.removeAllLinks();}else{for(var i=0;i<L.length;i++){L[i].destroy();}}}});};c.prototype.addInvisibleAccessabilityTexts=function(){this.oTileText=new I("sapUshellDashboardAccessibilityTileText",{text:r.i18n.getText("tile")}).toStatic();var B=sap.ui.getCore().getLibraryResourceBundle("sap.m");if(B){this.oTileEditModeText=new I("sapUshellDashboardAccessibilityTileEditModeText",{text:B.getText("LIST_ITEM_NAVIGATION")}).toStatic();}};return c;});
sap.ui.predefine('sap/ushell/ui/launchpad/DashboardGroupsContainerRenderer',["sap/ushell/utils"],function(u){"use strict";var D={};D.render=function(r,c){r.write("<div");r.writeAttribute("data-sap-ui-customfastnavgroup","true");r.writeControlData(c);r.addClass("sapUshellDashboardGroupsContainer");if(c.getProperty("_gridEnabled")){r.addClass("sapUshellDashboardGroupsContainerGrid");}r.writeClasses();if(c.getAccessibilityLabel()){r.writeAccessibilityState(c,{role:"navigation",label:c.getAccessibilityLabel()});}r.write(">");var g=c.getGroups();var G;for(var i=0;i<g.length;i++){G=g[i];r.write("<div");r.addClass("sapUshellDashboardGroupsContainerItem");if(G.getIsGroupLocked()||G.getDefaultGroup()){r.addClass("sapUshellDisableDragAndDrop");}r.writeClasses();r.write(">");r.renderControl(G);r.write("</div>");}u.setPerformanceMark("FLP -- dashboardgroupscontainer renderer");};return D;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/ExtendedChangeDetection',["sap/ui/base/ManagedObject","sap/ushell/Config"],function(M,C){"use strict";var E=M.extend("sap.ushell.ui.launchpad.ExtendedChangeDetection",{metadata:{library:"sap.ushell",events:{itemDeleted:{},itemAdded:{},itemsReordered:{}}},constructor:function(a,c,s){M.call(this);this._oAggregation=c.getMetadata().getAggregation(a);this._oControl=c;this._sAggregationName=a;this._aSiblingAggregationNames=s;var e=C.last("/core/spaces/extendedChangeDetection/enabled");if(e){this._oControl[this._oAggregation._sUpdater]=this._updateAggregation.bind(this);this._oControl.bUseExtendedChangeDetection=true;}}});E.oUpdateFromSiblingCache={};E.prototype._updateAggregation=function(){var b=this._oControl.getBindingInfo(this._sAggregationName);var B=b.binding;var u=this._isUpdateFromSibiling();var l=B.aLastContextData||[];var L=l.map(function(s){try{var h=JSON.parse(s);return h[b.key];}catch(j){return s;}});var c=B.getContexts();var a=c.map(function(h){return h.getProperty(b.key);});var d=c.diff;var D;var i;var I=[];var r=[];var R={};var e=false;var f=false;if(d){for(i=0;i<d.length;i++){D=d[i];if(D.type==="insert"){I.push({item:a[D.index],index:D.index});}if(D.type==="delete"){r.push({item:L[D.index-I.length],index:D.index-I.length});L.splice(D.index-I.length,1);}}for(i=0;i<r.length;i++){R[r[i].item]=this._oControl.removeAggregation(this._sAggregationName,r[i].index,true);}var o;var g;for(i=0;i<I.length;i++){o=I[i];g=R[o.item];if(g&&!(d.length>=2&&d[0].index===d[1].index)){this._oControl.insertAggregation(this._sAggregationName,g,o.index,true);delete R[o.item];}else{this._createAndInsertItem(c[o.index],b,o.index);f=true;}}e=!!Object.keys(R).length;for(var k in R){R[k].destroy();delete R[k];}}else if(!(u&&a.length===0&&L.length===0)){this._createAndInsertItems(c,b);f=true;}else{return;}this._updateBindingContexts(c);if(c.length===0){this._oControl.invalidate();}if(e){this.fireItemDeleted();}if(f){this.fireItemAdded();}if(!e&&!f&&d){this.fireItemsReordered();}if(d&&d.length&&!u){this._refreshSiblingBindings();}};E.prototype._isUpdateFromSibiling=function(){var i=this._oControl.getId()+":"+this._sAggregationName;if(E.oUpdateFromSiblingCache[i]){delete E.oUpdateFromSiblingCache[i];return true;}return false;};E.prototype._refreshSiblingBindings=function(){if(this._aSiblingAggregationNames){for(var i=0;i<this._aSiblingAggregationNames.length;++i){var s=this._aSiblingAggregationNames[i];var S=this._oControl.getId()+":"+s;var o=this._oControl.getBinding(s);E.oUpdateFromSiblingCache[S]=true;o.refresh(true);}}};E.prototype._createAndInsertItems=function(c,b){this._oAggregation.destroy(this._oControl);for(var i=0;i<c.length;i++){this._createAndInsertItem(c[i],b,i);}};E.prototype._createAndInsertItem=function(c,b,i){var I=b.factory(null,c);this._oControl.insertAggregation(this._sAggregationName,I,i,true);};E.prototype._updateBindingContexts=function(c){var I=this._oAggregation.get(this._oControl);for(var i=0;i<I.length;i++){I[i].setBindingContext(c[i]);}};return E;});
sap.ui.predefine('sap/ushell/ui/launchpad/FailedTileDialog',["sap/ui/core/Fragment","sap/ui/model/json/JSONModel"],function(F,J){"use strict";return function(){function _(s){if(!s){throw new Error("Could not find the Tile of the given control");}if(s.isA(["sap.ushell.ui.launchpad.Tile","sap.ushell.ui.launchpad.LinkTileWrapper"])){return s;}return _(s.getParent());}function a(s){if(!s){throw new Error("Could not find the Group of the given control");}if(s.isA("sap.ushell.ui.launchpad.TileContainer")){return s;}return a(s.getParent());}function b(s){var d={};var t=_(s);if(t.getDebugInfo){var D=t.getDebugInfo();if(D){d=JSON.parse(D);d.debugInfo=D;}}if(t.getTileCatalogId){var T=t.getTileCatalogId();if(T){d.chipId=decodeURIComponent(T);}}var g=a(s);var G=g.getBindingContext();if(G){var o=G.getProperty("object");if(o){d.groupId=o.getId();}}return d;}this.openFor=function(s){function g(c){if(!c){throw new Error("Could not find the View of the given control");}return(c.isA("sap.ui.core.mvc.View")?c:g(c.getParent()));}var v=g(s);if(!v.oFailedTileDialog){return F.load({id:v.createId("failedTileDialogFragment"),name:"sap.ushell.ui.launchpad.FailedTileDialog",controller:this}).then(function(f){f.setModel(new J({}));f.bindObject({path:"/"});v.oFailedTileDialog=f;v.addDependent(v.oFailedTileDialog);this.openFor(s);}.bind(this));}var d=v.oFailedTileDialog.getModel();d.setProperty("/",b(s));d.setProperty("/showDetails",false);v.oFailedTileDialog.open();return Promise.resolve();};this.onShowDetails=function(e){e.getSource().getModel().setProperty("/showDetails",true);};this.onClose=function(e){e.getSource().getParent().close();};};});
sap.ui.predefine('sap/ushell/ui/launchpad/GridContainer',["sap/f/dnd/GridDropInfo","sap/ui/core/dnd/DragInfo","sap/ui/core/Control","sap/ui/core/Icon","sap/m/Input","sap/m/Text","sap/ushell/resources","sap/f/GridContainer","sap/f/GridContainerSettings","sap/f/GridContainerItemLayoutData","sap/ushell/utils","sap/m/library","sap/ushell/ui/launchpad/Tile","sap/ushell/library","sap/ushell/ui/launchpad/GridContainerRenderer"],function(G,D,C,I,a,T,r,U,b,c,d,m){"use strict";var H=m.HeaderLevel;var e={RESPONSIVE:"Responsive",SMALL:"Small"};var f=C.extend("sap.ushell.ui.launchpad.GridContainer",{metadata:{library:"sap.ushell",properties:{groupId:{type:"string",group:"Misc",defaultValue:null},showHeader:{type:"boolean",group:"Misc",defaultValue:true},defaultGroup:{type:"boolean",group:"Misc",defaultValue:false},isLastGroup:{type:"boolean",group:"Misc",defaultValue:false},headerText:{type:"string",group:"Misc",defaultValue:null},headerLevel:{type:"sap.m.HeaderLevel",group:"Misc",defaultValue:H.H2},groupHeaderLevel:{type:"sap.m.HeaderLevel",group:"Misc",defaultValue:H.H4},showGroupHeader:{type:"boolean",group:"Misc",defaultValue:true},homePageGroupDisplay:{type:"string",defaultValue:null},isGroupLocked:{type:"boolean",group:"Misc",defaultValue:null},isGroupSelected:{type:"boolean",group:"Misc",defaultValue:false},editMode:{type:"boolean",group:"Misc",defaultValue:false},showBackground:{type:"boolean",group:"Misc",defaultValue:false},icon:{type:"string",group:"Misc",defaultValue:"sap-icon://locked"},showIcon:{type:"boolean",group:"Misc",defaultValue:false},enableHelp:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false},ieHtml5DnD:{type:"boolean",group:"Misc",defaultValue:false},showEmptyLinksArea:{type:"boolean",group:"Misc",defaultValue:false},showEmptyLinksAreaPlaceHolder:{type:"boolean",group:"Misc",defaultValue:false},supportLinkPersonalization:{type:"boolean",group:"Misc",defaultValue:false},tileSizeBehavior:{type:"string",group:"Misc",defaultValue:e.RESPONSIVE}},aggregations:{tiles:{type:"sap.ui.core.Control",multiple:true,singularName:"tile",forwarding:{getter:"_getInternalGrid",aggregation:"items"},dnd:true},links:{type:"sap.ui.core.Control",multiple:true,singularName:"link"},_grid:{type:"sap.f.GridContainer",multiple:false,visibility:"hidden"},beforeContent:{type:"sap.ui.core.Control",multiple:true,singularName:"beforeContent"},afterContent:{type:"sap.ui.core.Control",multiple:true,singularName:"afterContent"},footerContent:{type:"sap.ui.core.Control",multiple:true,singularName:"footerContent"},headerActions:{type:"sap.ui.core.Control",multiple:true,singularName:"headerAction"}},events:{afterRendering:{},titleChange:{},tileDragStart:{},tileDragEnter:{},tileDrop:{},layoutChange:{}},dnd:{draggable:true,droppable:true}}});f.prototype.init=function(){var u=new U({snapToRow:true,layoutChange:this.fireLayoutChange.bind(this),containerQuery:true});this.setAggregation("_grid",u);this.oNoLinksText=new T({text:r.i18n.getText("emptyLinkContainerInEditMode")}).addStyleClass("sapUshellNoLinksAreaPresentTextInner");this.oTransformationErrorText=new T({text:r.i18n.getText("transformationErrorText")}).addStyleClass("sapUshellTransformationErrorText");this.oTransformationErrorIcon=new I({src:"sap-icon://message-error"}).addStyleClass("sapUshellTransformationErrorIcon");this.oIcon=new I({src:this.getIcon()});this.oIcon.addStyleClass("sapUshellContainerIcon");this.oEditInputField=new a({placeholder:r.i18n.getText("new_group_name"),value:this.getHeaderText(),maxLength:100}).addStyleClass("sapUshellTileContainerTitleInput");this.oEditInputField.addEventDelegate({onfocusout:this.setEditMode.bind(this,false),onsapenter:this.setEditMode.bind(this,false)});this._setGridLayout();};f.prototype.exit=function(){if(this.oNoLinksText){this.oNoLinksText.destroy();}if(this.oTransformationErrorText){this.oTransformationErrorText.destroy();}if(this.oTransformationErrorIcon){this.oTransformationErrorIcon.destroy();}if(this.oIcon){this.oIcon.destroy();}if(this.oEditInputField){this.oEditInputField.destroy();}C.prototype.exit.apply(this,arguments);};f.prototype.onAfterRendering=function(){var t=window.document.getElementById(this.getId()+"-titleText");if(t){t.addEventListener("click",function(){var g=this.getModel()&&this.getModel().getProperty("/enableRenameLockedGroup"),h=(g||!this.getIsGroupLocked())&&!this.getDefaultGroup()&&this.getTileActionModeActive();this.setEditMode(h);}.bind(this));}var E=this.oEditInputField.getDomRef();if(E){setTimeout(function(){E.querySelector("input").focus();this.oEditInputField.selectText(0,this.oEditInputField.getValue().length);}.bind(this),0);}var o=sap.ui.getCore().getEventBus();o.publish("launchpad","GroupHeaderVisibility");this.fireAfterRendering();};f.prototype.getShowPlaceholder=function(){return false;};f.prototype.setGroupId=function(v){this.setProperty("groupId",v,true);return this;};f.prototype.groupHasTiles=function(){var t=this.getTiles();if(this.getBindingContext()){var p=this.getBindingContext().sPath;t=this.getModel().getProperty(p).tiles;}return d.groupHasVisibleTiles(t,[]);};f.prototype.getInnerContainersDomRefs=function(){var o=this.getDomRef();if(!o){return null;}var i=o.querySelector(".sapUshellTilesContainer-sortable"),l=o.querySelector(".sapUshellLineModeContainer");return[i,l];};f.prototype.setTileActionModeActive=function(v){if(this.getTileActionModeActive()===v){return;}this.setProperty("tileActionModeActive",v);var g=this.getAggregation("_grid");if(v){g.addDragDropConfig(new D({groupName:"GridContainer",sourceAggregation:"items",dragStart:function(){this.fireTileDragStart();}.bind(this)}));g.addDragDropConfig(new G({groupName:"GridContainer",dropLayout:sap.ui.core.dnd.DropLayout.Horizontal,dropPosition:sap.ui.core.dnd.DropPosition.Between,targetAggregation:"items",dropIndicatorSize:function(i){return this._getItemLayoutData(i);}.bind(this),drop:function(i){this.fireTileDrop(i.getParameters());}.bind(this),dragEnter:function(){this.fireTileDragEnter();}.bind(this)}));}else{g.destroyDragDropConfig();}};f.prototype.setEditMode=function(v,n){if(this.getEditMode()===v){return;}this.setProperty("editMode",v,false);this.getModel().setProperty("/editTitle",v,false);if(v){this.addStyleClass("sapUshellEditing");this.oEditInputField.setValue(n?"":this.getHeaderText());var E=sap.ui.getCore().getEventBus();E.publish("launchpad","scrollToGroup",{group:this,groupChanged:false,focus:false});}else{this.removeStyleClass("sapUshellEditing");var N=this.oEditInputField.getValue();N=N.substring(0,256).trim()||this.oEditInputField.getPlaceholder();if(N&&N!==this.getHeaderText()){this.fireTitleChange({newTitle:N});this.setHeaderText(N);}}};f.prototype.setShowEmptyLinksArea=function(v){this.setProperty("showEmptyLinksArea",v,true);this.toggleStyleClass("sapUshellLinksAreaHidden",!v);};f.prototype.setShowEmptyLinksAreaPlaceHolder=function(v){this.setProperty("showEmptyLinksArea",v,true);this.toggleStyleClass("sapUshellTileContainerEditMode",v);this.toggleStyleClass("sapUshellTileContainerTabsModeEmptyLinksArea",v);this.toggleStyleClass("sapUshellEmptyLinksAreaPlaceHolder",!v);};f.prototype.setTileSizeBehavior=function(t){this.setProperty("tileSizeBehavior",t);this._setGridLayout();};f._generateSetting=function(s,i){return new b({columns:i,rowSize:s,columnSize:s,gap:"0.5rem"});};f.prototype._setGridLayout=function(){var t=this.getProperty("tileSizeBehavior"),u=this._getInternalGrid(),l;l=t==="Small"?{oBreakpoints:{S:4,M:6,L:12,XL:16},sSize:"4.375rem"}:{oBreakpoints:{S:4,M:6,L:10,XL:14},sSize:"5.25rem"};u.setLayout(new b({rowSize:l.sSize,columnSize:l.sSize,gap:"0.5rem"}));u.setLayoutXS(f._generateSetting("4.375rem",4));u.setLayoutS(f._generateSetting(l.sSize,l.oBreakpoints.S));u.setLayoutM(f._generateSetting(l.sSize,l.oBreakpoints.M));u.setLayoutL(f._generateSetting(l.sSize,l.oBreakpoints.L));u.setLayoutXL(f._generateSetting(l.sSize,l.oBreakpoints.XL));return this;};f.prototype._getInternalGrid=function(){return this.getAggregation("_grid");};f.prototype.addAggregation=function(A,o){C.prototype.addAggregation.apply(this,arguments);if(A==="tiles"){this._addItemLayoutData(o);}return this;};f.prototype.insertAggregation=function(A,o,i){C.prototype.insertAggregation.apply(this,arguments);if(A==="tiles"){this._addItemLayoutData(o);}return this;};f.prototype._getItemLayoutData=function(i){var l={rows:2,columns:2};if(i.isA("sap.ushell.ui.launchpad.Tile")){l={rows:2,columns:{path:"long",formatter:f._getItemLayoutColumn}};}else if(i.isA("sap.m.GenericTile")){l={rows:2,columns:2};}else if(i.isA("sap.ui.integration.widgets.Card")){var o=i.getManifest(),s=d.getMember(o,"sap|flp.rows")||3,g=d.getMember(o,"sap|flp.columns")||3;l={rows:parseInt(s,10),columns:parseInt(g,10)};}return l;};f.prototype._addItemLayoutData=function(i){var l=this._getItemLayoutData(i),o=new c(l);i.setLayoutData(o);};f._getItemLayoutColumn=function(l){return l?4:2;};f.prototype.getMaximumItemNumber=function(){return this._getInternalGrid().getActiveLayoutSettings().getColumns()/2;};f.prototype.getActiveGapSize=function(){return this._getInternalGrid().getActiveLayoutSettings().getGapInPx();};return f;});
sap.ui.predefine('sap/ushell/ui/launchpad/GridContainerRenderer',["sap/ushell/resources","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ushell/utils","sap/ushell/Config"],function(r,A,u,C){"use strict";var G={};G.render=function(R,c){var h=c.getHeaderActions(),b=c.getBeforeContent(),a=c.getAfterContent(),f=c.getFooterContent()||[],g=c.getAggregation("_grid"),d,l=c.getLinks(),i;R.write("<div");R.writeControlData(c);R.addClass("sapUshellTileContainer");R.writeClasses();R.write(">");if(b.length&&c.getTileActionModeActive()){R.write("<div");R.addClass("sapUshellTileContainerBeforeContent");R.addClass("sapContrastPlus");R.writeClasses();R.write(">");b.forEach(function(c){R.renderControl(c);});R.write("</div>");}R.write("<div");R.addClass("sapUshellTileContainerContent");R.addClass("sapUshellGridContainerContent");if(c.getIsGroupLocked()){R.addClass("sapUshellTileContainerLocked");}if(c.getDefaultGroup()){R.addClass("sapUshellTileContainerDefault");}if(c.getShowBackground()){R.addClass("sapUshellTileContainerEditMode");}R.writeClasses();R.writeAttribute("tabindex","-1");R.write(">");if(c.getShowBackground()){R.write("<div");R.addClass("sapUshellGroupBackgroundContainer sapContrastPlus");R.writeClasses();R.write(">");R.write("</div>");}if(c.getShowHeader()){R.write("<div");R.addClass("sapUshellTileContainerHeader sapContrastPlus");if(!c.getShowGroupHeader()){R.addClass("sapUshellFirstGroupHeaderHidden sapUiPseudoInvisibleText");}R.writeAttribute("id",c.getId()+"-groupheader");R.writeClasses();if(c.getIeHtml5DnD()&&!c.getIsGroupLocked()&&!c.getDefaultGroup()&&c.getTileActionModeActive()){R.writeAttribute("draggable","true");}var s;if(c.getDefaultGroup()){s=r.i18n.getText("ariaLabelEditModeGroupDefault",c.getHeaderText());}else if(c.getIsGroupLocked()){s=r.i18n.getText("ariaLabelEditModeGroupLocked",c.getHeaderText());}else{s=r.i18n.getText("ariaLabelEditModeGroup",c.getHeaderText());}R.writeAccessibilityState(c,{label:s});R.write(">");R.write("<div");R.writeAttribute("id",c.getId()+"-title");R.addClass("sapUshellContainerTitleFlex");R.writeClasses();R.write(">");R.write("<");R.write(c.getHeaderLevel().toLowerCase());R.addClass("sapUshellContainerTitle");R.writeClasses();R.writeAttributeEscaped("title",c.getHeaderText());R.writeAttribute("id",c.getId()+"-titleText");R.writeAttribute("data-role","group");R.write(">");R.writeEscaped(c.getHeaderText());R.write("</");R.write(c.getHeaderLevel().toLowerCase());R.writeAttribute("id",c.getId()+"-groupheader");R.write(">");if(c.getShowIcon()){c.oIcon.removeStyleClass("sapUshellContainerIconHidden");}else{c.oIcon.addStyleClass("sapUshellContainerIconHidden");}R.renderControl(c.oEditInputField);if(c.getIsGroupLocked()){R.renderControl(c.oIcon);}else if(c.getTileActionModeActive()){R.write("<div");R.addClass("sapUshellContainerHeaderActions");R.writeClasses();R.write(">");for(i=0;i<h.length;i++){R.renderControl(h[i]);}R.write("</div>");}R.write("</div>");R.write("</div>");}R.write("<ul");d=c.data("containerHeight");if(d){R.writeAttribute("style","height:"+d);}R.addClass("sapUshellTilesContainer-sortable");R.addClass("sapUshellInner");R.writeClasses();R.write(">");var v=[];c.getTiles().forEach(function(T){if(T.getVisible()){v.push(T);}});v.forEach(function(m,p){m.addCustomData(new A({key:"aria-posinset",value:(p+1).toString(),writeToDom:true}));m.addCustomData(new A({key:"aria-setsize",value:v.length.toString(),writeToDom:true}));if(this._isUserActivityCard(m)){this._updateUserActivityCardVisibility(m);}}.bind(this));R.renderControl(g);R.write("</ul>");var L=c.getSupportLinkPersonalization();if(l.length>0||L){R.write("<div aria-hidden='true'");var e=L?"sapUshellLineModeContainer":"sapUshellLinksContainer";R.addClass(e);if(!l.length&&L){R.addClass("sapUshellNoLinksAreaPresent");R.writeClasses();R.write(">");R.write("<div");R.addClass("sapUshellNoLinksAreaPresentText");R.writeClasses();R.write(">");R.renderControl(c.oNoLinksText);R.write("</div>");}else{R.writeClasses();R.write(">");}if(L){R.write("<div");R.addClass("sapUshellTransformationError");R.writeClasses();if(!c.transformationError){R.writeAttribute("style","display: none;");}R.write(">");R.write("<div");R.addClass("sapUshellTransformationErrorInnerWrapper");R.writeClasses();R.write(">");R.renderControl(c.oTransformationErrorIcon);R.renderControl(c.oTransformationErrorText);R.write("</div>");R.write("</div>");R.write("<div class='sapUshellLinksInnerContainer'>");for(i=0;i<l.length;i++){var o=l[i],k=o.getCustomData(),t="-1";for(var j=0;j<k.length;j++){if(k[j].getKey()==="tabindex"){t=k[j].getValue();}o.removeCustomData(k[j]);}o.addCustomData(new A({key:"aria-posinset",value:(i+1).toString(),writeToDom:true}));o.addCustomData(new A({key:"aria-setsize",value:l.length.toString(),writeToDom:true}));o.addCustomData(new A({key:"tabindex",value:t,writeToDom:true}));o.addStyleClass("sapUshellLinkTile");if(c.getIsGroupLocked()){o.addStyleClass("sapUshellLockedTile");}R.renderControl(o);}R.write("</div>");}R.write("</div>");}if(f.length>0){R.write("<footer");R.addClass("sapUshellTilesContainerFtr");R.writeClasses();R.write(">");f.forEach(function(c){R.renderControl(c);});R.write("</footer>");}R.write("</div>");if(a.length&&c.getTileActionModeActive()){R.write("<div");R.addClass("sapUshellTileContainerAfterContent");R.addClass("sapContrastPlus ");R.writeClasses();R.write(">");a.forEach(function(c){R.renderControl(c);});R.write("</div>");}R.write("</div>");u.setPerformanceMark("FLP -- tile container renderer");};G._updateUserActivityCardVisibility=function(c){c.setVisible(C.last("/core/shell/model/enableTrackingActivity"));C.on("/core/shell/model/enableTrackingActivity").do(function(e){c.setVisible(e);});};G._isUserActivityCard=function(c){if(typeof c.getManifest!=="function"){return false;}var m=c.getManifest();var s=m&&m["sap.card"]&&m["sap.card"].header&&m["sap.card"].header.title;return s===r.i18n.getText("recentActivities")||s===r.i18n.getText("frequentActivities");};return G;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/GroupHeaderActions',["sap/m/Button","sap/m/library","sap/ui/core/Control","sap/ushell/library"],function(B,m,C){"use strict";var a=m.ButtonType;var P=m.PlacementType;var G=C.extend("sap.ushell.ui.launchpad.GroupHeaderActions",{metadata:{library:"sap.ushell",properties:{isOverflow:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}}},renderer:{apiVersion:2,render:function(r,g){r.openStart("div",g);r.openEnd();var c=g.getContent();if(g.getTileActionModeActive()){if(g.getIsOverflow()){var h=c.some(function(o){return o.getVisible();});if(h){r.renderControl(g._getOverflowButton());}}else{c.forEach(function(o){r.renderControl(o);});}}r.close("div");}}});G.prototype.exit=function(){if(this._oOverflowButton){this._oOverflowButton.destroy();}if(this._oActionSheet){this._oActionSheet.destroy();}};G.prototype._getOverflowButton=function(){if(!this._oOverflowButton){this._oOverflowButton=new B({icon:"sap-icon://overflow",type:a.Transparent,enabled:{parts:["/editTitle"],formatter:function(i){return!i;}},press:function(){sap.ui.require(["sap/m/ActionSheet"],function(A){if(!this._oActionSheet){this._oActionSheet=new A({placement:P.Auto});}this._oActionSheet.destroyButtons();this.getContent().forEach(function(b){var c=b.clone();c.setModel(b.getModel());c.setBindingContext(b.getBindingContext());this._oActionSheet.addButton(c);}.bind(this));this._oActionSheet.openBy(this._oOverflowButton);}.bind(this));}.bind(this)}).addStyleClass("sapUshellHeaderActionButton");this._oOverflowButton.setParent(this);}return this._oOverflowButton;};return G;});
sap.ui.predefine('sap/ushell/ui/launchpad/GroupListItem',["sap/m/ListItemBase","sap/ushell/library","sap/ushell/utils","./GroupListItemRenderer"],function(L,l,u){"use strict";var G=L.extend("sap.ushell.ui.launchpad.GroupListItem",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Misc",defaultValue:null},defaultGroup:{type:"boolean",group:"Misc",defaultValue:false},show:{type:"boolean",group:"Misc",defaultValue:true},groupId:{type:"string",group:"Misc",defaultValue:null},index:{type:"int",group:"Misc",defaultValue:null},numberOfTiles:{type:"int",group:"Misc",defaultValue:0},isGroupVisible:{type:"boolean",group:"Misc",defaultValue:true}},events:{press:{},afterRendering:{}}}});G.prototype.exit=function(){L.prototype.exit.apply(this,arguments);};G.prototype.onAfterRendering=function(){this.fireAfterRendering();};G.prototype.groupHasVisibleTiles=function(){var g=this.getModel().getProperty("/groups/"+this.getIndex()+"/tiles");var a=this.getModel().getProperty("/groups/"+this.getIndex()+"/links");return u.groupHasVisibleTiles(g,a);};G.prototype.onclick=function(){this.firePress({id:this.getId()});};G.prototype.setGroupId=function(g){this.setProperty("groupId",g,true);return this;};G.prototype.setTitle=function(t){this.setProperty("title",t);this.$().find(".sapMSLITitleOnly").text(t);return this;};return G;});
sap.ui.predefine('sap/ushell/ui/launchpad/GroupListItemRenderer',["sap/m/ListItemBaseRenderer","sap/ui/core/Renderer"],function(L,R){"use strict";var G=R.extend(L);G.renderLIAttributes=function(r){r.addClass("sapUshellGroupLI");r.addClass("sapUshellGroupListItem");};G.renderLIContent=function(r,l){r.write("<div");r.addClass("sapMSLIDiv");r.addClass("sapMSLITitleDiv");r.writeClasses();if(!l.getVisible()){r.addStyle("display","none");r.writeStyles();}r.write(">");r.write("<div");r.addClass("sapMSLITitleOnly");r.writeClasses();r.write(">");r.writeEscaped(l.getTitle());r.write("</div>");r.write("</div>");};return G;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/LinkTileWrapper',["sap/base/Log","sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/ui/launchpad/AccessibilityCustomData","./LinkTileWrapperRenderer"],function(L,M,C,q,u,A){"use strict";var a=C.extend("sap.ushell.ui.launchpad.LinkTileWrapper",{metadata:{library:"sap.ushell",properties:{uuid:{type:"string",group:"Misc",defaultValue:null},tileCatalogId:{type:"string",group:"Misc",defaultValue:null},target:{type:"string",group:"Misc",defaultValue:null},visible:{type:"boolean",group:"Misc",defaultValue:true},debugInfo:{type:"string",group:"Misc",defaultValue:null},animationRendered:{type:"boolean",group:"Misc",defaultValue:false},isLocked:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false},ieHtml5DnD:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{tileViews:{type:"sap.ui.core.Control",multiple:true,singularName:"tileView"},footItems:{type:"sap.ui.core.Control",multiple:true,singularName:"footItem"}},events:{press:{},coverDivPress:{},afterRendering:{},showActions:{}}}});a.prototype.destroy=function(s){this.destroyTileViews();C.prototype.destroy.call(this,s);};a.prototype.addTileView=function(o,s){o.setParent(null);o.addCustomData(new A({key:"tabindex",value:"-1",writeToDom:true}));M.prototype.addAggregation.call(this,"tileViews",o,s);};a.prototype.destroyTileViews=function(){if(this.mAggregations.tileViews){this.mAggregations.tileViews.length=0;}};a.prototype.onAfterRendering=function(){this.fireAfterRendering();};a.prototype.onclick=a.prototype._onPress;a.prototype.onsapenter=a.prototype._launchTileViaKeyboard;a.prototype.onsapspace=a.prototype._launchTileViaKeyboard;a.prototype._launchTileViaKeyboard=function(e){L.info("Tile pressed:",this.getDebugInfo(),"sap.ushell.ui.launchpad.LinkTileWrapper");sap.ui.getCore().getEventBus().publish("launchpad","dashboardTileLinkClick");if(this.getTileActionModeActive()){return;}else if(this._getTileState()==="Failed"){this._onFailedStatePress();}else if(e.target.tagName!=="BUTTON"){var t=this.getTileViews()[0],p=false;if(t.firePress){t.firePress();}else{while(t.getContent&&!p){t=t.getContent()[0];if(t.firePress){t.firePress();p=true;}}}}};a.prototype._onPress=function(e){L.info("Tile pressed:",this.getDebugInfo(),"sap.ushell.ui.launchpad.LinkTileWrapper");sap.ui.getCore().getEventBus().publish("launchpad","dashboardTileLinkClick");if(!this.getTileActionModeActive()&&(this._getTileState()==="Failed")){this._onFailedStatePress();}};a.prototype._onFailedStatePress=function(){if(!this.getTileActionModeActive()&&(this._getTileState()==="Failed")){if(!this.FailedTileDialog){sap.ui.require(["sap/ushell/ui/launchpad/FailedTileDialog"],function(F){this.FailedTileDialog=new F();this._onFailedStatePress();}.bind(this));}else{this.FailedTileDialog.openFor(this);}return;}};a.prototype._getTileState=function(){var t=this.getTileViews();var T;for(var i=0;(i<t.length)&&!T;++i){if(t[i].isA("sap.m.GenericTile")){T=t[i];}}if(!T){throw new Error("Could not find the wrapped Tile");}return T.getState();};a.prototype.setVisible=function(v){this.setProperty("visible",v,true);return this.toggleStyleClass("sapUshellHidden",!v);};a.prototype.setAnimationRendered=function(v){this.setProperty("animationRendered",v,true);};a.prototype._handleTileShadow=function(j,b){if(j.length){j.unbind("mouseenter mouseleave");var c,t=j.css("border").split("px")[0],m=this.getModel();if(t>0){c=j.css("border-color");}else{c=this.getRgba();}j.hover(function(){if(!m.getProperty("/tileActionModeActive")){var o=q(j).css("box-shadow"),T=o?o.split(") ")[1]:null,U;if(T){U=T+" "+c;q(this).css("box-shadow",U);}}},function(){q(this).css("box-shadow","");});}};a.prototype.setUuid=function(U){this.setProperty("uuid",U,true);return this;};return a;});
sap.ui.predefine('sap/ushell/ui/launchpad/LinkTileWrapperRenderer',["sap/ushell/resources","sap/m/Text","sap/base/Log"],function(r,T,L){"use strict";var a={};a.render=function(R,c){var t=null,l,s,m=c.getModel();try{t=c.getTileViews()[0];}catch(e){L.warning("Failed to load tile view: ",e.message);t=new T({text:r.i18n.getText("cannotLoadTile")});}R.write("<div");if(m&&m.getProperty("/enableHelp")){R.writeAttribute("data-help-id",c.getTileCatalogId());}R.writeControlData(c);R.addClass("sapUshellLinkTile");if(!c.getVisible()){R.addClass("sapUshellHidden");}if(c.getIsLocked()){R.addClass("sapUshellLockedTile");}R.writeClasses();if(c.getIeHtml5DnD()){R.writeAttribute("draggable","true");}R.writeAttributeEscaped("tabindex","-1");l=c.data("layoutPosition");if(l){s="-webkit-transform:"+l.translate3D+";-ms-transform:"+l.translate2D+";transform:"+l.translate3D;R.writeAttribute("style",s);}R.write(">");if(this.renderTileView){this.renderTileView(R,t,c.getTarget());}R.write("</div>");};a.renderTileView=function(R,t,s){R.write("<div");R.addClass("sapUshellTileInner");R.writeClasses();R.writeAttributeEscaped("title",t&&t.getText?t.getText():"");R.write(">");R.renderControl(t);R.write("</div>");};return a;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/LoadingDialog',["sap/m/Label","sap/ui/core/Control","sap/ui/core/Icon","sap/ui/core/Popup","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/AccessibilityCustomData","./LoadingDialogRenderer"],function(L,C,I,P,u,r,A){"use strict";var a=C.extend("sap.ushell.ui.launchpad.LoadingDialog",{metadata:{library:"sap.ushell",properties:{iconUri:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},text:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},loadAnimationWithInterval:{type:"boolean",group:"Appearance",defaultValue:true}}}});a.prototype.init=function(){this._oPopup=new P();this._oPopup.restoreFocus=false;this._oPopup.setShadow(false);this._oPopup.setModal(true,"sapUshellLoadingDialog");this.oIcon=new I();this._oLabel=new L(this.getId()+"loadingLabel").addStyleClass("sapUshellLoadingDialogLabel");this.sState="idle";this.sLoadingString=r.i18n.getText("genericLoading").replace("..."," ");};a.prototype.exit=function(){this._oPopup.close();this._oPopup.destroy();this.oIcon.destroy();this._oLabel.destroy();};a.prototype.isOpen=function(){return this._oPopup.isOpen();};a.prototype.openLoadingScreen=function(){if(this.sState==="idle"){this.sState="busy";}if(this.getLoadAnimationWithInterval()){this.addStyleClass("sapUshellVisibilityHidden");this._iTimeoutId=setTimeout(function(){this.removeStyleClass("sapUshellVisibilityHidden");this.focus();}.bind(this),3000);}else{this.removeStyleClass("sapUshellVisibilityHidden");this.focus();}if(!this.getVisible()){this.setVisible(true);this.$().show();}if(!this.isOpen()){this._oPopup.setContent(this);this._oPopup.setPosition("center center","center center",document,"0 0","fit");this._oPopup.open();}};a.prototype.showAppInfo=function(s,i,b){this.setText(s);this.setIconUri(i);this.oIcon.setSrc(i);this._oLabel.setText(s);this._oLabel.addCustomData(new A({key:"aria-hidden",value:"true",writeToDom:true}));var o=this.getDomRef("accessibility-helper");if(o&&b){o.innerText=this.sLoadingString;}};a.prototype.closeLoadingScreen=function(){if(this._iTimeoutId){clearTimeout(this._iTimeoutId);}if(this.getVisible()){this.sState="idle";this.setVisible(false);this.$().hide();this._oPopup.close();}};return a;});
sap.ui.predefine('sap/ushell/ui/launchpad/LoadingDialogRenderer',["sap/ui/thirdparty/jquery"],function(q){"use strict";var L={apiVersion:2,render:function(r,l){var t=l.getTooltip_AsString();r.openStart("div",l);r.class("sapUshellLoadingDialogControl");if(t){r.attr("title",t);}r.openEnd();if(q.os.ios||!l._isPlatformDependent){this.renderAppInfo(r,l);this.renderFioriFlower(r);}else{this.renderFioriFlower(r);this.renderAppInfo(r,l);}r.close("div");},renderAppInfo:function(r,l){r.openStart("div");r.class("sapUshellLoadingDialogAppData");r.openEnd();if(l.getIconUri()){r.renderControl(l.oIcon);}r.openStart("span",l.getId()+"-accessibility-helper");r.class("sapUshellAccessibilityHelper");r.attr("aria-live","rude");r.attr("aria-relevant","additions text");r.openEnd();r.close("span");r.renderControl(l._oLabel);r.close("div");},renderFioriFlower:function(r){var u=/Android\s4\.2.+GT-I9505.+Chrome\/18/,R=navigator.userAgent&&u.test(navigator.userAgent);if(q.support.cssAnimations&&!R){r.openStart("div","fiori2-loader");r.openEnd();r.openStart("div");r.class("fiori2-blossom");r.openEnd();for(var i=1;i<6;++i){r.openStart("div");r.class("fiori2-leafContainer");r.class("fiori2-leafContainer"+i);r.openEnd();r.openStart("div");r.class("fiori2-leaf");r.class("fiori2-leaf"+i);r.openEnd();r.close("div");r.close("div");}r.close("div");r.close("div");}}};return L;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/Page',["sap/m/Button","sap/m/library","sap/m/Text","sap/ui/core/Control","sap/ui/core/dnd/DragDropInfo","sap/ui/core/InvisibleMessage","sap/ui/core/library","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/ExtendedChangeDetection","./PageRenderer"],function(B,l,T,C,D,I,c,u,r,E,P){"use strict";var a=l.ButtonType;var b=c.TextAlign;var d=c.InvisibleMessageMode;var e=C.extend("sap.ushell.ui.launchpad.Page",{metadata:{library:"sap.ushell",properties:{edit:{type:"boolean",group:"Misc",defaultValue:false},enableSectionReordering:{type:"boolean",group:"Misc",defaultValue:false},dataHelpId:{type:"string",group:"Misc",defaultValue:""},noSectionsText:{type:"string",group:"Misc",defaultValue:""},showNoSectionsText:{type:"boolean",group:"Misc",defaultValue:true},showTitle:{type:"boolean",group:"Misc",defaultValue:false},title:{type:"string",group:"Misc",defaultValue:""}},defaultAggregation:"sections",aggregations:{sections:{type:"sap.ushell.ui.launchpad.Section",multiple:true,dnd:true},_addSectionButtons:{type:"sap.m.Button",multiple:true,visibility:"hidden"},_noSectionText:{type:"sap.m.Text",multiple:false,visibility:"hidden"}},events:{addSectionButtonPressed:{parameters:{index:{type:"int"}}},sectionDrop:{parameters:{draggedControl:{type:"sap.ushell.ui.launchpad.Section"},droppedControl:{type:"sap.ushell.ui.launchpad.Section"},dropPosition:{type:"string"}}}}},renderer:P});e.prototype.init=function(){this.setAggregation("_noSectionText",new T({text:r.i18n.getText("Page.NoSectionText"),width:"100%",textAlign:b.Center}));this._oDragDropInfo=new D({sourceAggregation:"sections",targetAggregation:"sections",dropPosition:"Between",dragStart:function(o){if(o.getParameter("target").getDefault()){o.preventDefault();}},dragEnter:function(o){if(o.getParameter("target").getDefault()){o.preventDefault();}},drop:function(i){this.fireSectionDrop(i.getParameters());}.bind(this)});this.addDelegate({onsappageup:this._handleKeyboardPageNavigation.bind(this),onsappagedown:this._handleKeyboardPageNavigation.bind(this),onsapdown:this._handleKeyboardArrowNavigation.bind(this,false),onsapdownmodifiers:this._handleKeyboardArrowNavigation.bind(this,true),onsapup:this._handleKeyboardArrowNavigation.bind(this,false),onsapupmodifiers:this._handleKeyboardArrowNavigation.bind(this,true),onsaphome:this._handleKeyboardHomeEndNavigation.bind(this,false),onsaphomemodifiers:this._handleKeyboardHomeEndNavigation.bind(this,false),onsapend:this._handleKeyboardHomeEndNavigation.bind(this,true),onsapendmodifiers:this._handleKeyboardHomeEndNavigation.bind(this,true),onfocusin:this._saveFocus.bind(this),onsapskipback:this._handleSkipBack.bind(this),onsapskipforward:this._handleSkipForward.bind(this),onBeforeFastNavigationFocus:this._handleBeforeFastNavigationFocus.bind(this)});this._oSectionsChangeDetection=new E("sections",this);this._oSectionsChangeDetection.attachItemDeleted(this.invalidate,this);this._oSectionsChangeDetection.attachItemsReordered(this.invalidate,this);this._oInvisibleMessageInstance=I.getInstance();};e.prototype._saveFocus=function(o){var p=o.srcControl;if(p.isA("sap.m.VBox")){var s=p.getParent();if(s){if(s.indexOfVisualization(this._oLastFocusedViz)===-1){this._oLastFocusedViz=s.getVisualizations()[0];this._oLastFocusedSection=this._oLastFocusedViz?undefined:s;}}else{this._oLastFocusedViz=undefined;this._oLastFocusedSection=undefined;}}if(p.isA("sap.f.GridContainer")){var g=p.getItems();var v=g.find(function(f){var h=f.getDomRef();return h&&h.parentNode===o.target;});this._oLastFocusedViz=v;this._oLastFocusedSection=undefined;}};e.prototype._handleSkipBack=function(o){var t;var p=o.srcControl;if(p.isA("sap.f.GridContainer")&&this.getEdit()){t=this._getAncestorSection(p);}if(t){o.preventDefault();t.focus();}};e.prototype._handleSkipForward=function(o){var t;var p=o.srcControl;if(p.isA("sap.m.VBox")){var s=p.getParent();if(s){if(s.indexOfVisualization(this._oLastFocusedViz)!==-1){t=this._oLastFocusedViz;}else{t=s.getVisualizations()[0];}}if(t){o.preventDefault();t.getDomRef().parentElement.focus();}}};e.prototype._handleBeforeFastNavigationFocus=function(o){var s=this.getSections();var f=this.getEdit();if(f&&this._oLastFocusedSection){this._oLastFocusedSection.focus();o.preventDefault();}else if(f&&o.forward&&this._oLastFocusedViz){this._getAncestorSection(this._oLastFocusedViz).focus();o.preventDefault();}else if(this._oLastFocusedViz&&this._oLastFocusedViz.getDomRef()){this._oLastFocusedViz.getDomRef().parentElement.focus();o.preventDefault();}else if(f&&o.forward&&s.length){s[0].focus();o.preventDefault();}else if(f&&!o.forward&&s.length){if(s[0].getVisualizations().length===0){s[0].focus();o.preventDefault();}else{s[0].getVisualizations()[0].getDomRef().parentElement.focus();o.preventDefault();}}else{var S=s.find(function(g){return g.getDomRef()&&g.getVisualizations().length;});S.getVisualizations()[0].getDomRef().parentElement.focus();o.preventDefault();}};e.prototype._getAncestorSection=function(o){if(o.isA("sap.ushell.ui.launchpad.Section")){return o;}else if(o.getParent){return this._getAncestorSection(o.getParent());}return null;};e.prototype.exit=function(){this._oDragDropInfo.destroy();this._oSectionsChangeDetection.destroy();};e.prototype.onBeforeRendering=function(){var n=this.getSections().length,A=this.getAggregation("_addSectionButtons")||[],o;for(var i=A.length;i<n+1;i++){o=new B({type:a.Transparent,icon:"sap-icon://add",text:r.i18n.getText("Page.Button.AddSection"),press:this.fireAddSectionButtonPressed.bind(this,{index:i})});o.addStyleClass("sapUshellPageAddSectionButton");this.addAggregation("_addSectionButtons",o);}};e.prototype.getFocusDomRef=function(){var A=this.getAggregation("_addSectionButtons")||[];if(!this.getSections().length&&A.length&&this.getEdit()){return A[0].getFocusDomRef();}return this.getDomRef();};e.prototype.setEnableSectionReordering=function(v){if(v===undefined||this.getEnableSectionReordering()===v){return this;}else{this.setProperty("enableSectionReordering",!!v,true);if(v){this.addDragDropConfig(this._oDragDropInfo);}else{this.removeDragDropConfig(this._oDragDropInfo);}return this;}};e.prototype.setNoSectionsText=function(t){if(t===undefined||this.getNoSectionsText()===t){return this;}else{this.setProperty("noSectionsText",t,true);var n=this.getAggregation("_noSectionText");n.setText(t||r.i18n.getText("Page.NoSectionText"));return this;}};e.prototype._focusNextVisualization=function(i){var s=this.getSections(),S=this.indexOfSection(i.section),o=i.event.getParameter?i.event.getParameter("event"):i.event,f=o.target.firstElementChild,g,F;while(true){if(i.direction==="up"){S--;}else{S++;}g=s[S];if(!g){return;}F=g.focusVisualization({keycode:o.keyCode,ref:f});if(F){o.preventDefault();return;}}};e.prototype._handleKeyboardPageNavigation=function(o){var s=this.getSections();for(var i=0;i<s.length;i++){var S=s[i].getDomRef();if(S.contains(window.document.activeElement)){this._focusNextVisualization({event:o,section:s[i],direction:o.type==="sappagedown"?"down":"up",prefIndex:0});return;}}};e.prototype._handleKeyboardArrowNavigation=function(m,o){if((m&&!this.getEnableSectionReordering())||(m&&!o.ctrlKey)){return;}var s=this.getSections();for(var i=0;i<s.length;i++){if(window.document.activeElement===s[i].getFocusDomRef()){if(o.type==="sapup"&&i>0){s[i-1].focus();}else if(o.type==="sapdown"&&(i+1)<s.length){s[i+1].focus();}else if(o.type==="sapupmodifiers"&&i>0){if(s[i-1].getDefault()){return;}this.fireSectionDrop({draggedControl:s[i],droppedControl:s[i-1],dropPosition:"Before"});o.preventDefault();o.stopPropagation();s[i-1].focus();}else if(o.type==="sapdownmodifiers"&&(i+1)<s.length){if(s[i].getDefault()){return;}this.fireSectionDrop({draggedControl:s[i],droppedControl:s[i+1],dropPosition:"After"});o.preventDefault();o.stopPropagation();s[i+1].focus();}return;}}};e.prototype._isFocusInInput=function(){var t=(document.activeElement||{}).tagName;return t==="INPUT"||t==="TEXTAREA";};e.prototype._handleKeyboardHomeEndNavigation=function(L,o){var s=this.getSections(),v=[],f=this.getEdit(),S;if(this._isFocusInInput()){return;}for(var i=0;i<s.length;i++){if(o.type==="saphomemodifiers"||o.type==="sapendmodifiers"){S=s[i];if(S.getShowSection()||S.getEditable()){v=v.concat(S.getVisualizations());}}else if(f&&s[i].getDomRef().contains(window.document.activeElement)){v=s[i].getVisualizations();break;}}if(v.length){var V=L?v[v.length-1]:v[0],g=V.getDomRef().parentNode;g.focus();o.preventDefault();o.stopPropagation();}};e.prototype._handleSectionBorderReached=function(i){this._focusNextVisualization(i.getParameters());};e.prototype.addAggregation=function(A,o){C.prototype.addAggregation.apply(this,arguments);if(A==="sections"){o.attachEvent("borderReached",this._handleSectionBorderReached.bind(this));}return this;};e.prototype.insertAggregation=function(A,o){C.prototype.insertAggregation.apply(this,arguments);if(A==="sections"){o.attachEvent("borderReached",this._handleSectionBorderReached.bind(this));}return this;};e.prototype.announceMove=function(){var s=r.i18n.getText("PageRuntime.Message.SectionMoved");this._oInvisibleMessageInstance.announce(s,d.Polite);};return e;});
sap.ui.predefine('sap/ushell/ui/launchpad/PageRenderer',[],function(){"use strict";var P={apiVersion:2};P.render=function(r,p){var s=p.getSections(),n=s.length,d=p.getDataHelpId(),S,i;r.openStart("div",p);r.class("sapUshellPage");r.class("sapContrastPlus");r.attr("data-sap-ui-customfastnavgroup","true");if(d){r.attr("data-help-id",d);}r.openEnd();r.openStart("h2",p.getId()+"-title");r.class("sapMTitle");r.class("sapUshellPageTitle");if(!p.getShowTitle()){r.class("sapUiPseudoInvisibleText");}r.attr("aria-level","2");r.openEnd();r.text(p.getTitle());r.close("h2");if(p.getEdit()&&!n){r.renderControl(p.getAggregation("_addSectionButtons")[0]);}if(!n&&p.getShowNoSectionsText()){r.renderControl(p.getAggregation("_noSectionText"));}for(i=0;i<n;i++){S=s[i];if(p.getEdit()||S.getShowSection()){r.openStart("div");r.class("sapUshellPageSection");r.openEnd();r.renderControl(S);if(p.getEdit()){r.renderControl(p.getAggregation("_addSectionButtons")[i+1]);}r.close("div");}}r.close("div");};return P;});
sap.ui.predefine('sap/ushell/ui/launchpad/Panel',["sap/m/Panel","sap/ushell/library","sap/ushell/override","./PanelRenderer"],function(P,l,o){"use strict";var p=P.extend("sap.ushell.ui.launchpad.Panel",{metadata:{library:"sap.ushell",properties:{translucent:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{headerContent:{type:"sap.ui.core.Control",multiple:true,singularName:"headerContent"},headerBar:{type:"sap.m.Bar",multiple:false}}}});p.prototype.updateAggregation=o.updateAggregation;return p;});
sap.ui.predefine('sap/ushell/ui/launchpad/PanelRenderer',function(){"use strict";var P={render:function(r,c){if(!c.getVisible()){return;}r.write("<section");r.writeControlData(c);r.addClass("sapMPanel");r.addClass("sapUshellPanel");if(!c.getTranslucent()){r.addClass("sapMPanelBG");}r.addStyle("width",c.getWidth());r.addStyle("height",c.getHeight());r.writeClasses();r.writeStyles();r.write(">");var h=c.getHeaderContent();var l=h.length;if(c.getHeaderText()||l>0||c.getHeaderBar()){r.write("<header");r.addClass("sapMPanelHdr");r.addClass("sapUshellCatalogHeader");r.writeClasses();r.write(">");if(c.getHeaderText()||l>0){r.write("<");r.write(c.getHeaderLevel().toLowerCase());r.write(">");if(c.getHeaderText()){r.writeEscaped(c.getHeaderText());}for(var j=0;j<l;j++){r.renderControl(h[j]);}r.write("</");r.write(c.getHeaderLevel().toLowerCase());r.write(">");}if(c.getHeaderBar()){r.renderControl(c.getHeaderBar());}r.write("</header>");}r.write("<div");r.addClass("sapMPanelContent");r.addClass("sapUshellPanelContent");r.writeClasses();r.write(">");var C=c.getContent();var L=C.length;for(var i=0;i<L;i++){r.renderControl(C[i]);}r.write("</div>");r.write("</section>");}};return P;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/PlusTile',["sap/ui/core/Icon","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/PlusTileRenderer","sap/ushell/ui/launchpad/Tile"],function(I,u,r,P,T){"use strict";var a=T.extend("sap.ushell.ui.launchpad.PlusTile",{metadata:{library:"sap.ushell",properties:{groupId:{type:"string",group:"Misc",defaultValue:""},enableHelp:{type:"boolean",group:"Misc",defaultValue:false}},events:{press:{}}}});a.prototype.init=function(){this.oIcon=new I({src:"sap-icon://add",tooltip:r.i18n.getText("openAppFinder_tooltip")});};a.prototype.exit=function(){if(this.oIcon){this.oIcon.destroy();}};a.prototype.onclick=function(){var g=this.getParent().getBindingContext().getObject();if(!g.object){return;}this.firePress();};a.prototype.onsapspace=a.onclick;a.prototype.onsapenter=a.onclick;return a;});
sap.ui.predefine('sap/ushell/ui/launchpad/PlusTileRenderer',["sap/ushell/resources","sap/ushell/Config"],function(r,C){"use strict";var P={apiVersion:2,render:function(a,p){a.openStart("li",p);a.attr("tabindex","-1");a.class("sapUshellTile");a.class("sapUshellPlusTile");a.class("sapContrastPlus");a.class("sapMGT");if(C.last("/core/home/sizeBehavior")==="Small"){a.class("sapUshellSmall");a.class("sapUshellPlusTileSmall");}if(p.getEnableHelp()){a.class("help-id-plusTile");}a.attr("aria-label",r.i18n.getText("TilePlus_label"));a.openEnd();a.renderControl(p.oIcon);a.close("li");}};return P;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/Section',["sap/base/Log","sap/base/util/deepClone","sap/f/GridContainerItemLayoutData","sap/m/library","sap/ui/core/InvisibleMessage","sap/ui/core/library","sap/ui/core/XMLComposite","sap/ui/events/KeyCodes","sap/ui/model/Filter","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/ExtendedChangeDetection"],function(L,d,G,m,I,c,X,K,F,q,u,r,E){"use strict";var T=m.TileSizeBehavior;var a=c.InvisibleMessageMode;var D=u.DisplayFormat;function _(R,v,A){if(!Array.isArray(v)||!v.length){return null;}if(R&&R.getDomRef){R=R.getDomRef();}if(!R){return v[A?v.length-1:0];}function h(t,w){var x=t.left+t.right-w.left-w.right;var y=t.top+t.bottom-w.top-w.bottom;return x*x+y*y;}function j(t){var w=t.querySelector(".sapMGTLineStyleHelper");return(w||t).getBoundingClientRect();}var o=j(R);var n=null;var k=0;var l;var p;var s;for(var i=v.length-1;i>=0;i--){p=v[i].getDomRef();if(p){l=j(p);if(!l.width&&!l.height){continue;}if(A&&l.top>=o.top||!A&&l.bottom<=o.bottom){continue;}s=h(l,o);if(!n||s<k){n=v[i];k=s;}}}return n;}var S=X.extend("sap.ushell.ui.launchpad.Section",{metadata:{library:"sap.ushell",properties:{editable:{type:"boolean",group:"Misc",defaultValue:false},dataHelpId:{type:"string",group:"Misc",defaultValue:""},default:{type:"boolean",group:"Misc",defaultValue:false},enableAddButton:{type:"boolean",group:"Behavior",defaultValue:true},enableDeleteButton:{type:"boolean",group:"Behavior",defaultValue:true},enableGridBreakpoints:{type:"boolean",group:"Appearance",defaultValue:false},enableGridContainerQuery:{type:"boolean",group:"Appearance",defaultValue:false},enableResetButton:{type:"boolean",group:"Behavior",defaultValue:true},enableShowHideButton:{type:"boolean",group:"Behavior",defaultValue:true},enableVisualizationReordering:{type:"boolean",group:"Behavior",defaultValue:false},noVisualizationsText:{type:"string",group:"Appearance",defaultValue:r.i18n.getText("Section.NoVisualizationsText")},title:{type:"string",group:"Appearance",defaultValue:""},showNoVisualizationsText:{type:"boolean",group:"Behavior",defaultValue:false},showSection:{type:"boolean",group:"Misc",defaultValue:true},showLinks:{type:"boolean",group:"Behavior",defaultValue:true},sizeBehavior:{type:"sap.m.TileSizeBehavior",group:"Misc",defaultValue:T.Responsive},_duringDrag:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"visualizations",aggregations:{visualizations:{type:"sap.ui.core.Control",bindable:"bindable",multiple:true},defaultItems:{type:"sap.ui.core.Control",multiple:true,forwarding:{idSuffix:"--defaultArea",aggregation:"items",forwardBinding:false},dnd:true},flatItems:{type:"sap.ui.core.Control",multiple:true,forwarding:{idSuffix:"--flatArea",aggregation:"items",forwardBinding:false},dnd:true},compactItems:{type:"sap.ui.core.Control",multiple:true,forwarding:{idSuffix:"--compactArea",aggregation:"items",forwardBinding:false},dnd:true}},events:{add:{},delete:{},reset:{},titleChange:{},visualizationDrop:{parameters:{draggedControl:{type:"sap.ui.core.Control"},droppedControl:{type:"sap.ui.core.Control"},dropPosition:{type:"string"}}},areaDragEnter:{parameters:{originalEvent:{type:"sap.ui.base.Event"},dragControl:{type:"sap.ui.core.Control"},sourceArea:{type:"string"},targetArea:{type:"string"}}},sectionVisibilityChange:{parameters:{visible:{type:"boolean"}}},borderReached:{parameters:{event:{type:"jQuery.Event"}}}}},resourceModel:r.i18nModel});function g(C){for(var s in D){if(C.displayFormatHint===D[s]){return D[s];}}if(C.displayFormatHint&&C.displayFormatHint!=="tile"){L.error("DisplayFormat '"+C.displayFormatHint+"' not valid - 'standard' is used");}return D.Standard;}function b(){return new F({path:"",caseSensitive:true,test:function(C){var s=g(C);return s===D.Standard||s===D.StandardWide;}});}function e(){return new F({path:"",caseSensitive:true,test:function(C){var s=g(C);return s===D.Flat||s===D.FlatWide;}});}function f(){return new F({path:"",caseSensitive:true,test:function(C){return g(C)===D.Compact;}});}S.prototype.bindAggregation=function(A,B){if(A==="visualizations"){if(B.filters){L.error("bind visualizations with pre-existing filters is not implemented.");}var o=d(B);o.filters=b();X.prototype.bindAggregation.call(this,"defaultItems",o);var h=d(B);h.filters=e();X.prototype.bindAggregation.call(this,"flatItems",h);var l=d(B);l.filters=f();X.prototype.bindAggregation.call(this,"compactItems",l);}else{X.prototype.bindAggregation.call(this,A,B);}return this;};S.prototype.getAllItems=function(){return this.getDefaultItems().concat(this.getFlatItems(),this.getCompactItems());};S.prototype.getVisualizations=function(){var v=this.getAllItems();v.sort(function(V,o){var p=V.getBindingContext().getPath();var i=parseInt(p.split("/").pop(),10);p=o.getBindingContext().getPath();var h=parseInt(p.split("/").pop(),10);return i<h?-1:1;});return v;};S.prototype.filterVisualizations=function(o){var h=o?new F({filters:[b(),o],and:true}):b();var i=o?new F({filters:[e(),o],and:true}):e();var C=o?new F({filters:[f(),o],and:true}):f();this.getBinding("defaultItems").filter(h);this.getBinding("flatItems").filter(i);this.getBinding("compactItems").filter(C);};S.prototype.indexOfVisualization=function(v){return this.getVisualizations().indexOf(v);};S.prototype.addVisualization=function(v,s){L.error("Section.prototype.addVisualization should not be called");return this.addAggregation("visualizations",v,s);};S.prototype.insertVisualization=function(v,i,s){L.error("Section.prototype.insertVisualization should not be called");return this.insertAggregation("visualizations",v,i,s);};S.prototype.removeVisualization=function(v,s){L.error("Section.prototype.removeVisualization should not be called");return this.removeAggregation("visualizations",v,s);};S.prototype.onBorderReached=function(o){var O=o.getParameter("event"),k=O.keyCode,t=O.type,i=q(O.target.firstElementChild).control(0),v;switch(k){case K.ARROW_UP:v=this.getClosestVizualization(i,true);break;case K.ARROW_DOWN:v=this.getClosestVizualization(i,false);break;case K.ARROW_LEFT:v=this._getPreviousViz(i);break;case K.ARROW_RIGHT:v=this._getNextViz(i);break;default:break;}if(v){this._focusItem(this.getItemPosition(v));O.preventDefault();}else{this.fireBorderReached({event:o,section:this,direction:t==="sapnext"?"down":"up"});}};S.prototype._getNextViz=function(v){var V=this.getAllItems();var i=V.indexOf(v);return i===-1?V[0]:V[i+1];};S.prototype._getPreviousViz=function(v){var V=this.getAllItems();var i=V.indexOf(v);return i===-1?V[V.length-1]:V[i-1];};S.prototype.handleEmptyContentAreas=function(){var h=!!this.getDefaultItems().length,i=!!this.getFlatItems().length,C=!!this.getCompactItems().length,s=!h&&!C&&!i;this.oVBox.toggleStyleClass("sapUshellSectionNoVisualizations",s);this.oDefaultArea.toggleStyleClass("sapUshellSectionDefaultArea",h);this.oFlatArea.toggleStyleClass("sapUshellSectionFlatArea",i);var v=this.oVBox.getDomRef&&this.oVBox.getDomRef();if(v&&this.getEditable()&&this.getShowNoVisualizationsText()&&s){v.setAttribute("aria-describedBy",this.byId("noVisualizationsText").getId());}else if(v){v.removeAttribute("aria-describedBy");}};S.prototype.init=function(){this.oVBox=this.byId("content");this.oDefaultArea=this.byId("defaultArea");this.oFlatArea=this.byId("flatArea");this.oCompactArea=this.byId("compactArea");this.oNoVisualizationsText=this.byId("noVisualizationsText");this.oCompactArea.setVisible(true);var A=function(){var v=this.oVBox.getDomRef();if(v){var s;if(this.getTitle().trim()){s=r.i18n.getText("Section.Description",this.getTitle());}else{s=r.i18n.getText("Section.Description.EmptySectionTitle");}v.setAttribute("aria-label",s);}}.bind(this);this.oVBox.addEventDelegate({onBeforeRendering:function(){this.byId("title-edit").detachChange(A);}.bind(this),onAfterRendering:function(){var v=this.oVBox.getDomRef();if(this.getEditable()){v.setAttribute("tabindex","0");}A();v.setAttribute("role","group");this.byId("title-edit").attachChange(A);}.bind(this)});this.oDefaultArea.addEventDelegate({onAfterRendering:this.handleEmptyContentAreas.bind(this)});this.oFlatArea.addEventDelegate({onAfterRendering:this.handleEmptyContentAreas.bind(this)});this.oCompactArea.addEventDelegate({onAfterRendering:this.handleEmptyContentAreas.bind(this)});this.oDefaultArea.attachBorderReached(this.onBorderReached.bind(this));this.oFlatArea.attachBorderReached(this.onBorderReached.bind(this));this.oCompactArea.attachBorderReached(this.onBorderReached.bind(this));this._oInvisibleMessageInstance=I.getInstance();this._oDefaultItemsChangeDetection=new E("defaultItems",this,["flatItems","compactItems"]);this._oFlatItemsChangeDetection=new E("flatItems",this,["defaultItems","compactItems"]);this._oCompactItemsChangeDetection=new E("compactItems",this,["defaultItems","flatItems"]);this._fnGlobalDragStart=function(){this.setProperty("_duringDrag",true);}.bind(this);this._fnGlobalDragEnd=function(){this.setProperty("_duringDrag",false);}.bind(this);document.addEventListener("dragstart",this._fnGlobalDragStart,false);document.addEventListener("dragend",this._fnGlobalDragEnd,false);};S.prototype.destroy=function(){X.prototype.destroy.apply(this,arguments);this._oDefaultItemsChangeDetection.destroy();this._oFlatItemsChangeDetection.destroy();this._oCompactItemsChangeDetection.destroy();document.removeEventListener("dragstart",this._fnGlobalDragStart,false);document.removeEventListener("dragend",this._fnGlobalDragEnd,false);if(this.oCompactItemsNavigation){this.oCompactArea.removeDelegate(this.oCompactItemsNavigation);this.oCompactItemsNavigation.destroy();this.oCompactItemsNavigation=null;}if(this._oInvisibleMessageInstance){this._oInvisibleMessageInstance.destroy();}X.prototype.destroy.apply(this,arguments);};S.prototype.setEditable=function(v){if(v===undefined||this.getEditable()===v){return this;}else{this.setProperty("editable",!!v,true);this.oVBox.toggleStyleClass("sapUshellSectionEdit",!!v);return this;}};S.prototype._showHidePressed=function(v){var M=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._oInvisibleMessageInstance.announce([r.i18n.getText(v?"Section.nowBeingShown":"Section.nowBeingHidden"),r.i18n.getText("Section.ButtonLabelChanged"),r.i18n.getText(v?"Section.Button.Hide":"Section.Button.Show"),M.getText("ACC_CTR_TYPE_BUTTON")].join(" "),a.Polite);this.setShowSection(v);};S.prototype.setShowSection=function(v){if(v===undefined||this.getShowSection()===v){return this;}else{this.setProperty("showSection",v,true);this.oVBox.toggleStyleClass("sapUshellSectionHidden",!v);this.fireSectionVisibilityChange({visible:v});return this;}};S.prototype._reorderVisualizations=function(i){this.fireVisualizationDrop(i.getParameters());};S.prototype.getClosestVizualization=function(R,A){var v=this.getAllItems();return _(R,v,A);};S.prototype.getClosestVizIndex=function(o,A){var v=this.getClosestVizualization(o,A);return v?this.indexOfVisualization(v):-1;};S.prototype.getClosestCompactItemIndex=function(o,A){var n=_(o,this.getCompactItems(),A);if(n){return this.indexOfVisualization(n);}return A?this.getVisualizations().length:0;};S.prototype._onDragEnter=function(o){var h=o.getParameter("dragSession");var i=h.getDragControl();var s=i.getParent();var t=h.getDropControl&&h.getDropControl();if(!t){return;}if(!t.data("area")){t=t.getParent();}if(t.data("default")&&!s.data("default")){o.preventDefault();}this.fireAreaDragEnter({originalEvent:o,dragControl:i,sourceArea:s.data("area"),targetArea:t.data("area")});};S.prototype.addAggregation=function(A,o){if(A==="defaultItems"||A==="flatItems"){this._addVisualizationLayoutData(o);}X.prototype.addAggregation.apply(this,arguments);this.handleEmptyContentAreas();return this;};S.prototype.insertAggregation=function(A,o){if(A==="defaultItems"||A==="flatItems"){this._addVisualizationLayoutData(o,A);}X.prototype.insertAggregation.apply(this,arguments);this.handleEmptyContentAreas();return this;};S.prototype._getVisualizationLayoutData=function(v){if(v.getLayout){return v.getLayout();}return{rows:2,columns:2};};S.prototype._getFlatVisualizationLayoutData=function(v){if(v.getLayout){return v.getLayout();}return{rows:1,columns:2};};S.prototype._addVisualizationLayoutData=function(v,A){if(!v.getLayoutData()){var l=A==="defaultItems"?this._getVisualizationLayoutData(v):this._getFlatVisualizationLayoutData(v);v.setLayoutData(new G(l));}};S.prototype._getDefaultDropIndicatorSize=function(v){return this._getDropIndicatorSize(v,D.Standard);};S.prototype._getFlatDropIndicatorSize=function(v){return this._getDropIndicatorSize(v,D.Flat);};S.prototype._getDropIndicatorSize=function(v,t){var p=v.getParent();var s=p&&p.data("area");if(t===s&&v.getLayoutData){var l=v.getLayoutData();return{rows:l.getRows(),columns:l.getColumns()};}var o={};if(t===D.Flat){o.rows=1;o.columns=2;}else{o.rows=2;o.columns=2;}return o;};S.prototype.getItemPosition=function(v){if(isFinite(v)){v=this.getVisualizations()[v];}var i=this.oDefaultArea.getItems().indexOf(v);if(i>=0){return{index:i,area:D.Standard};}i=this.oFlatArea.getItems().indexOf(v);if(i>=0){return{index:i,area:D.Flat};}i=this.oCompactArea.getItems().indexOf(v);if(i>=0){return{index:i,area:D.Compact};}return{index:-1,area:D.Standard};};S.prototype._focusItem=function(p){window.setTimeout(function(){var h=p&&p.area?p.area:D.Standard;var i=p&&p.index?p.index:p;var n=this.oDefaultArea.getItems().length;var j=this.oFlatArea.getItems().length;var k=this.oCompactArea.getItems().length;if(isNaN(i)||i<0){i=0;}if(h===D.Standard&&n===0){h=D.Flat;}if(h===D.Flat&&j===0){h=D.Compact;}if(h===D.Compact&&k===0){h=D.Standard;}if(n+j+k===0){h="section";}switch(h){case"section":this.focus();break;case D.Flat:if(i>=j){i=j-1;}this.oFlatArea.focusItem(i);break;case D.Compact:this.oCompactArea.focusItem(i);break;default:if(i>=n){i=n-1;}this.oDefaultArea.focusItem(i);break;}}.bind(this),0);};S.prototype.focusVisualization=function(i){var v;if(!this.getShowSection()&&!this.getEditable()){return false;}var V=this.getAllItems();if(!V.length){return false;}if(i&&i.area){this._focusItem(i);return true;}if(i&&i.getMetadata){v=i;}if(!v&&i&&i.keycode){switch(i.keycode){case K.ARROW_UP:v=this.getClosestVizualization(i.ref,true);break;case K.ARROW_DOWN:v=this.getClosestVizualization(i.ref,false);break;case K.ARROW_LEFT:i=-1;break;default:break;}}if(!v&&i===-1){v=V[V.length-1];}if(!v){v=V[0];}this._focusItem(this.getItemPosition(v));return true;};return S;});
sap.ui.predefine('sap/ushell/ui/launchpad/TileContainer',["sap/base/Log","sap/m/Text","sap/m/library","sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/core/Icon","sap/ui/Device","sap/ui/thirdparty/jquery","sap/ushell/override","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/PlusTile","sap/ushell/utils","sap/ushell/ui/launchpad/TileContainerRenderer"],function(L,T,M,a,C,I,D,q,o,u,r,P,b){"use strict";var H=M.HeaderLevel;var c=C.extend("sap.ushell.ui.launchpad.TileContainer",{metadata:{library:"sap.ushell",properties:{scrollType:{type:"string",group:"Misc",defaultValue:"item"},animationSpeed:{type:"int",group:"Misc",defaultValue:500},groupId:{type:"string",group:"Misc",defaultValue:null},showHeader:{type:"boolean",group:"Misc",defaultValue:true},showPlaceholder:{type:"boolean",group:"Misc",defaultValue:true},defaultGroup:{type:"boolean",group:"Misc",defaultValue:false},isLastGroup:{type:"boolean",group:"Misc",defaultValue:false},headerText:{type:"string",group:"Misc",defaultValue:null},headerLevel:{type:"sap.m.HeaderLevel",group:"Misc",defaultValue:H.H2},groupHeaderLevel:{type:"sap.m.HeaderLevel",group:"Misc",defaultValue:H.H4},showGroupHeader:{type:"boolean",group:"Misc",defaultValue:true},homePageGroupDisplay:{type:"string",defaultValue:null},visible:{type:"boolean",group:"Misc",defaultValue:true},sortable:{type:"boolean",group:"Misc",defaultValue:true},showNoData:{type:"boolean",group:"Misc",defaultValue:false},noDataText:{type:"string",group:"Misc",defaultValue:null},isGroupLocked:{type:"boolean",group:"Misc",defaultValue:null},isGroupSelected:{type:"boolean",group:"Misc",defaultValue:false},editMode:{type:"boolean",group:"Misc",defaultValue:false},showBackground:{type:"boolean",group:"Misc",defaultValue:false},icon:{type:"string",group:"Misc",defaultValue:"sap-icon://locked"},showIcon:{type:"boolean",group:"Misc",defaultValue:false},deluminate:{type:"boolean",group:"Misc",defaultValue:false},showMobileActions:{type:"boolean",group:"Misc",defaultValue:false},enableHelp:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false},ieHtml5DnD:{type:"boolean",group:"Misc",defaultValue:false},showEmptyLinksArea:{type:"boolean",group:"Misc",defaultValue:false},showEmptyLinksAreaPlaceHolder:{type:"boolean",group:"Misc",defaultValue:false},hidden:{type:"boolean",group:"Misc",defaultValue:false},transformationError:{type:"boolean",group:"Misc",defaultValue:false},supportLinkPersonalization:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{tiles:{type:"sap.ui.core.Control",multiple:true,singularName:"tile"},links:{type:"sap.ui.core.Control",multiple:true,singularName:"link"},beforeContent:{type:"sap.ui.core.Control",multiple:true,singularName:"beforeContent"},afterContent:{type:"sap.ui.core.Control",multiple:true,singularName:"afterContent"},footerContent:{type:"sap.ui.core.Control",multiple:true,singularName:"footerContent"},headerActions:{type:"sap.ui.core.Control",multiple:true,singularName:"headerAction"}},events:{afterRendering:{},add:{},titleChange:{}}}});c.prototype.init=function(){this.bIsFirstTitleChange=true;this._sDefaultValue=r.i18n.getText("new_group_name");this._sOldTitle="";this.oNoLinksText=new T({text:r.i18n.getText("emptyLinkContainerInEditMode")}).addStyleClass("sapUshellNoLinksAreaPresentTextInner");this.oTransformationErrorText=new T({text:r.i18n.getText("transformationErrorText")}).addStyleClass("sapUshellTransformationErrorText");this.oTransformationErrorIcon=new I({src:"sap-icon://message-error"}).addStyleClass("sapUshellTransformationErrorIcon");this.oIcon=new I({src:this.getIcon()});this.oIcon.addStyleClass("sapUshellContainerIcon");this.oPlusTile=new P({groupId:this.getGroupId(),enableHelp:this.getEnableHelp(),press:[this.fireAdd,this]});this.oPlusTile.setParent(this);if(sap.ushell.Container){sap.ushell.Container.getServiceAsync("LaunchPage").then(function(l){if(l.isLinkPersonalizationSupported()){c.prototype.isLinkPersonalizationOveride();}});}};c.prototype.onAfterRendering=function(){var t=window.document.getElementById(this.getId()+"-titleText");if(t){t.addEventListener("click",function(){var E=this.getModel()&&this.getModel().getProperty("/enableRenameLockedGroup"),f=(E||!this.getIsGroupLocked())&&!this.getDefaultGroup()&&this.getTileActionModeActive();this.setEditMode(f);}.bind(this));}var d=this.getTiles().filter(function(f){return f.isA("sap.ui.integration.widgets.Card");});this._resizeCards(d);var e=sap.ui.getCore().getEventBus();e.publish("launchpad","GroupHeaderVisibility");this.fireAfterRendering();};c.prototype.getTransformationErrorText=function(){return this.oTransformationErrorText;};c.prototype.getTransformationErrorIcon=function(){return this.oTransformationErrorIcon;};c.prototype.getNoLinksText=function(){return this.oNoLinksText;};c.prototype.setTransformationError=function(t){this.setProperty("transformationError",t,true);if(t){this.$().find(".sapUshellTransformationError").show();}else{this.$().find(".sapUshellTransformationError").hide();}this.$().find(".sapUshellNoLinksAreaPresent").toggleClass("sapUshellNoLinksAreaPresentError",t);return this;};c.prototype.updateAggregation=o.updateAggregation;c.prototype.setNoDataText=function(n){this.setProperty("noDataText",n,true);if(this.getShowNoData()){this.$().find(".sapUshellNoFilteredItems").text(n);}return this;};c.prototype.setGroupId=function(v){this.setProperty("groupId",v,true);if(this.oPlusTile){this.oPlusTile.setGroupId(v);}return this;};c.prototype.setHeaderText=function(h){this.setProperty("headerText",h,true);this.$().find(".sapUshellContainerTitle").text(h);return this;};c.prototype.setVisible=function(v){this.setProperty("visible",v,true);this.toggleStyleClass("sapUshellHidden",!v);return this;};c.prototype.setShowMobileActions=function(s){var S=true;if(this.oHeaderButton){this.oHeaderButton.setVisible(s);}else if(s){S=false;}this.setProperty("showMobileActions",s,S);};c.prototype.setShowIcon=function(s){this.setProperty("showIcon",s,true);this.$().find(".sapUshellContainerIcon").toggleClass("sapUshellContainerIconHidden",!s);};c.prototype.setDeluminate=function(d){this.setProperty("deluminate",d,true);this.toggleStyleClass("sapUshellDisableLockedGroupDuringDrag",d);return this;};c.prototype.setHidden=function(h){this.setProperty("hidden",!!h,true);this.toggleStyleClass("sapUshellTileContainerEditModeHidden",!!h);return this;};c.prototype.groupHasTiles=function(){var p="",t=this.getTiles(),l=[];if(this.getBindingContext()){p=this.getBindingContext().sPath;t=this.getModel().getProperty(p).tiles;}return b.groupHasVisibleTiles(t,l);};c.prototype.getInnerContainerDomRef=function(){return this.$().find(".sapUshellTilesContainer-sortable")[0];};c.prototype.getInnerContainersDomRefs=function(){var d=this.getDomRef();if(!d){return null;}return[d.querySelector(".sapUshellTilesContainer-sortable"),d.querySelector(".sapUshellLineModeContainer")];};c.prototype.setEditMode=function(v){if(v){this.addStyleClass("sapUshellEditing");this._startEdit();}else{this.setProperty("editMode",v,false);this.removeStyleClass("sapUshellEditing");}};c.prototype.isLinkPersonalizationOveride=function(){c.prototype.updateLinks=function(R){var g=this.getParent(),t=g&&g.getDisplayMode&&g.getDisplayMode()==="tabs";if(t&&!this.getTileActionModeActive()){g.removeLinksFromUnselectedGroups();}if(this.getLinks().length>0){this.removeAllLinks();}a.prototype.updateAggregation.call(this,"links");};c.prototype.destroyLinks=function(R){L.debug("link is destroyed because: "+R,null,"sap.ushell.ui.launchpad.TileContainer");};};c.prototype.setShowEmptyLinksArea=function(v){this.setProperty("showEmptyLinksArea",v,true);this.toggleStyleClass("sapUshellLinksAreaHidden",!v);};c.prototype.setShowEmptyLinksAreaPlaceHolder=function(v){this.setProperty("showEmptyLinksArea",v,true);this.toggleStyleClass("sapUshellTileContainerEditMode",v);this.toggleStyleClass("sapUshellTileContainerTabsModeEmptyLinksArea",v);this.toggleStyleClass("sapUshellEmptyLinksAreaPlaceHolder",!v);};c.prototype._resizeCards=function(d){var e,m,s=5.5,t=0.4375,f,g,h,j;for(var i=0;i<d.length;i++){e=d[i];m=e.getManifest();f=m["sap.flp"].rows;g=m["sap.flp"].columns;h=g*s+(g-3)*t+"rem";j=f*s+(f-1)*t+"rem";e.setHeight(j);e.setWidth(h);}};c.prototype._startEdit=function(){var t=this;if(this.getModel()&&!this.getModel().getProperty("/editTitle")){this.getModel().setProperty("/editTitle",true,false);}if(!this.oEditInputField){sap.ui.require(["sap/m/Input"],function(d){t.setProperty("editMode",true,false);t.oEditInputField=new d({placeholder:t._sDefaultValue,value:t.getHeaderText()}).addStyleClass("sapUshellTileContainerTitleInput");t.oEditInputField.addEventDelegate({onAfterRendering:function(){setTimeout(function(){if(t.oEditInputField.$().is(":visible")){setTimeout(function(){t.oEditInputField.$().find("input").focus();},100);var w=q(window).height(),j=t.getDomRef(),g=j.offsetHeight,e=j.getBoundingClientRect().top,f=j.offsetTop;if(g+e>w){q(".sapUshellDashboardView section").stop().animate({scrollTop:f},0);}}},100);},onfocusout:function(){t._stopEdit();q.proxy(t.setEditMode,t,false)();},onsapenter:function(e){t._stopEdit();q.proxy(t.setEditMode,t,false)();setTimeout(function(){var f=e.srcControl,j=f.$().prev();j.focus();},0);}});t.oEditInputField.setValue(t.getHeaderText());});}else{this.oEditInputField.setValue(this.getHeaderText());t.setProperty("editMode",true,false);}this._sOldTitle=this._sDefaultValue;if(D.system.phone){setTimeout(function(){var e=sap.ui.getCore().getEventBus();e.publish("launchpad","scrollToGroup",{group:t,groupChanged:false,focus:false});},100);}};c.prototype._stopEdit=function(){var s=this.getHeaderText();var n=this.oEditInputField.getValue(),h;n=n.substring(0,256).trim()||this._sDefaultValue;h=n!==s;if(this.bIsFirstTitleChange&&n===this.oEditInputField.getPlaceholder()){h=true;}this.bIsFirstTitleChange=false;if(this.getModel()&&this.getModel().getProperty("/editTitle")){this.getModel().setProperty("/editTitle",false,false);}if(!this._sOldTitle){this._sOldTitle=s;this.setHeaderText(s);}else if(h){this.fireTitleChange({newTitle:n});this.setHeaderText(n);}};c.prototype.exit=function(){if(this.oPlusTile){this.oPlusTile.destroy();}if(this.oHeaderButton){this.oHeaderButton.destroy();}if(this.oActionSheet){this.oActionSheet.destroy();}if(C.prototype.exit){C.prototype.exit.apply(this,arguments);}};return c;});
sap.ui.predefine('sap/ushell/ui/launchpad/TileContainerRenderer',["sap/ushell/resources","sap/ushell/utils","sap/ushell/bootstrap/common/common.load.model","sap/ushell/Config","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ui/core/CustomData"],function(r,u,m,C,A,a){"use strict";var T={};T.oModel=m.getModel();T.render=function(R,c){var h=c.getHeaderActions(),b=c.getBeforeContent(),d=c.getAfterContent(),f=c.getFooterContent()||[],e,l=c.getLinks(),t=this;R.write("<div");R.writeControlData(c);R.addClass("sapUshellTileContainer");R.writeClasses();R.write(">");if(b.length&&c.getTileActionModeActive()){R.write("<div");R.addClass("sapUshellTileContainerBeforeContent");R.addClass("sapContrastPlus");R.writeClasses();R.write(">");b.forEach(function(c){R.renderControl(c);});R.write("</div>");}R.write("<div");R.addClass("sapUshellTileContainerContent");if(c.getIsGroupLocked()){R.addClass("sapUshellTileContainerLocked");}if(c.getDefaultGroup()){R.addClass("sapUshellTileContainerDefault");}if(c.getShowBackground()){R.addClass("sapUshellTileContainerEditMode");}R.writeClasses();R.writeAttribute("tabindex","-1");R.write(">");if(c.getShowBackground()){R.write("<div");R.addClass("sapUshellGroupBackgroundContainer sapContrastPlus");R.writeClasses();R.write(">");R.write("</div>");}if(c.getShowHeader()){R.write("<div");R.addClass("sapUshellTileContainerHeader sapContrastPlus");if(!c.getShowGroupHeader()){R.addClass("sapUshellFirstGroupHeaderHidden sapUiPseudoInvisibleText");}R.writeAttribute("id",c.getId()+"-groupheader");R.writeClasses();if(c.getIeHtml5DnD()&&!c.getIsGroupLocked()&&!c.getDefaultGroup()&&c.getTileActionModeActive()){R.writeAttribute("draggable","true");}var s;if(c.getDefaultGroup()){s=r.i18n.getText("ariaLabelEditModeGroupDefault",c.getHeaderText());}else if(c.getIsGroupLocked()){s=r.i18n.getText("ariaLabelEditModeGroupLocked",c.getHeaderText());}else{s=r.i18n.getText("ariaLabelEditModeGroup",c.getHeaderText());}R.writeAccessibilityState(c,{label:s});R.write(">");R.write("<div");R.writeAttribute("id",c.getId()+"-title");R.addClass("sapUshellContainerTitleFlex");R.writeClasses();R.write(">");R.write("<");R.write(c.getHeaderLevel().toLowerCase());R.addClass("sapUshellContainerTitle");R.writeClasses();R.writeAttributeEscaped("title",c.getHeaderText());R.writeAttribute("id",c.getId()+"-titleText");R.writeAttribute("data-role","group");R.write(">");R.writeEscaped(c.getHeaderText());R.write("</");R.write(c.getHeaderLevel().toLowerCase());R.writeAttribute("id",c.getId()+"-groupheader");R.write(">");if(c.getShowIcon()){c.oIcon.removeStyleClass("sapUshellContainerIconHidden");}else{c.oIcon.addStyleClass("sapUshellContainerIconHidden");}R.renderControl(c.oEditInputField);if(c.getIsGroupLocked()){R.renderControl(c.oIcon);}else if(c.getTileActionModeActive()){R.write("<div");R.addClass("sapUshellContainerHeaderActions");R.writeClasses();R.write(">");h.forEach(function(c){R.renderControl(c);});R.write("</div>");}R.write("</div>");R.write("</div>");}R.write("<ul");e=c.data("containerHeight");if(e){R.writeAttribute("style","height:"+e);}R.addClass("sapUshellTilesContainer-sortable");R.addClass("sapUshellInner");R.writeClasses();R.write(">");var v=[];c.getTiles().forEach(function(o){if(o.getVisible()){v.push(o);}});v.forEach(function(o,p){o.addCustomData(new A({key:"aria-posinset",value:(p+1).toString(),writeToDom:true}));o.addCustomData(new A({key:"aria-setsize",value:v.length.toString(),writeToDom:true}));if(t._isUserActivityCard(o)){t._updateUserActivityCardVisibility(o);}R.renderControl(o);});if(c.getShowPlaceholder()){R.renderControl(c.oPlusTile);}if(c.getShowNoData()){this.renderNoData(R,c,!v.length);}R.write("</ul>");var L=c.getSupportLinkPersonalization();if(l.length>0||L){if(c.getShowBackground()&&!(c.getIsGroupLocked()&&!v.length)){R.write("<div");R.addClass("sapUshellTilesContainerSeparator");R.writeClasses();R.write(">");R.write("</div>");}R.write("<div aria-hidden='true'");var g=L?"sapUshellLineModeContainer":"sapUshellLinksContainer";R.addClass(g);if(!l.length&&L){R.addClass("sapUshellNoLinksAreaPresent");R.writeClasses();R.write(">");R.write("<div");R.addClass("sapUshellNoLinksAreaPresentText");R.writeClasses();R.write(">");R.renderControl(c.getNoLinksText());R.write("</div>");}else{R.writeClasses();R.write(">");}if(L){R.write("<div");R.addClass("sapUshellTransformationError");R.writeClasses();if(!c.transformationError){R.writeAttribute("style","display: none;");}R.write(">");R.write("<div");R.addClass("sapUshellTransformationErrorInnerWrapper");R.writeClasses();R.write(">");R.renderControl(c.getTransformationErrorIcon());R.renderControl(c.getTransformationErrorText());R.write("</div>");R.write("</div>");}if(L){R.write("<div class='sapUshellLinksInnerContainer'>");}l.map(function(i,j,l){if(L){var k=new A({key:"tabindex",value:"-1",writeToDom:true});i.getCustomData().map(function(n){if(n.getKey()=="tabindex"&&n.getValue("0")){k=n;}i.removeCustomData(n);});i.addCustomData(new A({key:"aria-posinset",value:(j+1).toString(),writeToDom:true}));i.addCustomData(new A({key:"aria-setsize",value:l.length.toString(),writeToDom:true}));i.addCustomData(k);if(i.getModel()&&i.getModel().getProperty("/enableHelp")){i.addCustomData(new a({key:"help-id",value:i.getBindingContext()&&i.getBindingContext().getProperty("tileCatalogId"),writeToDom:true}));}i.addStyleClass("sapUshellLinkTile");if(c.getIsGroupLocked()){i.addStyleClass("sapUshellLockedTile");}}R.renderControl(i);});if(L){R.write("</div>");}R.write("</div>");}if(f.length>0){R.write("<footer");R.addClass("sapUshellTilesContainerFtr");R.writeClasses();R.write(">");f.forEach(function(c){R.renderControl(c);});R.write("</footer>");}R.write("</div>");if(d.length&&c.getTileActionModeActive()){R.write("<div");R.addClass("sapUshellTileContainerAfterContent");R.addClass("sapContrastPlus ");R.writeClasses();R.write(">");d.forEach(function(c){R.renderControl(c);});R.write("</div>");}R.write("</div>");u.setPerformanceMark("FLP -- tile container renderer");};T.renderNoData=function(R,c,d){R.write("<div id='"+c.getId()+"-listNoData' class='sapUshellNoFilteredItems sapUiStrongBackgroundTextColor'>");if(d){if(c.getNoDataText()){R.writeEscaped(c.getNoDataText());}else{R.writeEscaped(c.getNoDataText(r.i18n.getText("noFilteredItems")));}}else{R.writeEscaped("");}R.write("</div>");};T._isUserActivityCard=function(c){if(typeof c.getManifest!=="function"){return false;}var M=c.getManifest();var s=M&&M["sap.card"]&&M["sap.card"].header&&M["sap.card"].header.title;return s===r.i18n.getText("recentActivities")||s===r.i18n.getText("frequentActivities");};T._updateUserActivityCardVisibility=function(c){c.setVisible(C.last("/core/shell/model/enableTrackingActivity"));C.on("/core/shell/model/enableTrackingActivity").do(function(e){c.setVisible(e);});};return T;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/TileContainerUtils',["sap/ui/thirdparty/jquery","sap/base/util/uid"],function(q,u){"use strict";var T={};T.showHideTilesAndHeaders=function(i,o){var s,r,e,n=0,a=0;for(s in i.onScreenPathIndexMap){if(i.onScreenPathIndexMap.hasOwnProperty(s)){e=i.onScreenPathIndexMap[s];r=o[e.aItemsRefrenceIndex];if(r.getVisible()&&!e.isVisible){a++;}r.setVisible(e.isVisible);if(e.isVisible){n++;}}}return{nCountVisibElelemnts:n,nCountFilteredElement:a};};T.applyFilterOnItem=function(e,f,p,n){var a;for(a in f){if(f.hasOwnProperty(a)){f[a](e);}}if(p){p(e,n);}};T.createNewItem=function(e,n){var b=this.mBindingInfos[n],f=b.factory,a=function(c){var i=this.getId()+"-"+u(),C=f(i,c);C.setBindingContext(c,b.model);return C;}.bind(this);return a(e);};T.addNewItem=function(c,n){var a=this.getMetadata().getJSONKeys()[n];this[a._sMutator](c);return true;};T.createMissingElementsInOnScreenElements=function(i,e,a,f,I,b,n){var p,j,c=e.length;for(j=a;j<c;j++){p=e[j].getPath();if(!i.onScreenPathIndexMap[p]){if(f(e[j],n)==false){return false;}T.applyFilterOnItem(e[j],b);}else{throw true;}}return true;};T.createMissingElementsInOnScreenElementsSearchCatalog=function(i,e,a,f,I,b,n,p){var c,j,d=e.length;for(j=0;j<d;j++){c=e[j].getPath();if(!i.onScreenPathIndexMap[c]){if(f(e[j],n)==false){return false;}}T.applyFilterOnItem(e[j],b,p,n);}return true;};T.applyFilterOnAllItems=function(b,f,p){var B;var o=b.binding,a;if(!o){return;}a=o.getContexts();for(B=0;B<a.length;B++){T.applyFilterOnItem(a[B],f,p);}};T.validateOrder=function(b,i,a){var l,f,p,L,F,n,s,c;if(b[a]&&i.length>0){l=i[i.length-1].getBindingContext().getPath();f=b[a].getPath();L=l.split("/");F=f.split("/");for(n=0;n<L.length&&n<F.length;n++){s=L[n];c=F[n];if(!!parseInt(s,10)&&!!parseInt(c,10)){if(parseInt(s,10)>parseInt(c,10)){return false;}else if(parseInt(s,10)<parseInt(c,10)){return true;}}else{for(p=0;p<c.length&&p<s.length;p++){if(s[p].charCodeAt()>c[p].charCodeAt()){return false;}else if(s[p].charCodeAt()<c[p].charCodeAt()){return true;}}}}}return true;};T.markVisibleOnScreenElements=function(e,i,U){var a=0,p,b=e.length;for(a=0;a<b;a++){p=e[a].getPath();if(i.onScreenPathIndexMap[p]){if(U){i.onScreenPathIndexMap[p].isVisible=true;}}else{return a;}}return a;};T.markVisibleOnScreenElementsSearchCatalog=function(e,i,U){var a=0,p,b=e.length;for(a=0;a<b;a++){p=e[a].getPath();if(i.onScreenPathIndexMap[p]){if(U){i.onScreenPathIndexMap[p].isVisible=true;}}}return a;};T.indexOnScreenElements=function(o,i){var p,a,b={onScreenPathIndexMap:{}},c=o.length,d,v=true;if(i===false){v=false;}for(a=0;a<c;a++){d=o[a];if(d.getBindingContext()){p=d.getBindingContext().getPath();if(!b.onScreenPathIndexMap[p]){b.onScreenPathIndexMap[p]={aItemsRefrenceIndex:a,isVisible:v};}}}return b;};return T;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/section/CompactArea',["sap/ui/core/Control","sap/ui/events/KeyCodes","sap/ushell/library","./CompactAreaRenderer"],function(C,K,u){"use strict";var a=C.extend("sap.ushell.ui.launchpad.section.CompactArea",{metadata:{library:"sap.ushell",properties:{showEmptyLinksArea:{type:"boolean",group:"Misc",defaultValue:false},showEmptyLinksAreaPlaceHolder:{type:"boolean",group:"Misc",defaultValue:false},enableLinkReordering:{type:"boolean",group:"Behavior",defaultValue:false}},dnd:{draggable:false,droppable:true},aggregations:{items:{type:"sap.ui.core.Control",singularName:"item",multiple:true,dnd:true}},events:{borderReached:{parameters:{event:{type:"jQuery.Event"}}},itemDrop:{parameters:{draggedControl:{type:"sap.ui.core.Control"},droppedControl:{type:"sap.ui.core.Control"},dropPosition:{type:"string"}}}}}});a.prototype.onBorderReached=this.fireBorderReached;a.prototype.onsapnext=function(e){e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===K.ARROW_RIGHT){var i=this.getFocusedItemIndex();if(i>=0&&i<this.getItems().length-1){this.focusItem(i+1);return;}}this.fireBorderReached({event:e});};a.prototype.onsapprevious=function(e){e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===K.ARROW_LEFT){var i=this.getFocusedItemIndex();if(i>0){this.focusItem(i-1);return;}}this.fireBorderReached({event:e});};a.prototype.onsapnextmodifiers=function(e){if(!this.getEnableLinkReordering()){return;}var i=this.getFocusedItemIndex();var I=this.getItems();e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===K.ARROW_RIGHT&&i>-1&&i<I.length-1){this.fireItemDrop({draggedControl:I[i],droppedControl:I[i+1],dropPosition:"After",browserEvent:e});}if(e.keyCode===K.ARROW_DOWN&&i>-1){this.fireItemDrop({draggedControl:I[i],droppedControl:null,dropPosition:"After",browserEvent:e});}};a.prototype.onsappreviousmodifiers=function(e){if(!this.getEnableLinkReordering()){return;}var i=this.getFocusedItemIndex();var I=this.getItems();e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===K.ARROW_LEFT&&i>0){this.fireItemDrop({draggedControl:I[i],droppedControl:I[i-1],dropPosition:"Before",browserEvent:e});}if(e.keyCode===K.ARROW_UP&&i>-1){this.fireItemDrop({draggedControl:I[i],droppedControl:null,dropPosition:"Before",browserEvent:e});}};a.prototype.focusItem=function(i){i=i||0;var I=this.getItems();if(i===-1||i>=I.length){i=I.length-1;}if(i>=0){var f=I[i].getFocusDomRef()||I[i].getDomRef();(f.querySelector("a")||f).focus();}else{this.focus();}};a.prototype.onmousedown=function(e){var i=this.getDOMItemIndex(e.srcControl.getDomRef());var f=this.getFocusedItemIndex();if(f<0){f=0;}if(i<0){window.setTimeout(function(){this.focusItem(f);}.bind(this),0);}};a.prototype.getDOMItemIndex=function(e){var i=-1;this.getItems().forEach(function(I,b){var d=I.getDomRef();if(d&&d.contains(e)){i=b;}});return i;};a.prototype.onfocusin=function(e){if(document.activeElement===this.getDomRef()){this.focusItem(0);}};a.prototype.getFocusedItemIndex=function(){return this.getDOMItemIndex(document.activeElement);};return a;});
sap.ui.predefine('sap/ushell/ui/launchpad/section/CompactAreaRenderer',["sap/ushell/resources"],function(r){"use strict";var C={apiVersion:2};C.render=function(a,c){a.openStart("div",c);if(!c.getVisible()){a.style("display","none");}a.attr("role","group");a.attr("aria-label",r.i18n.getText("Section.CompactArea.Description"));a.style("width","100%");a.class("sapUshellSectionCompactArea");a.openEnd();c.getItems().forEach(a.renderControl);a.close("div");};return C;},true);
sap.ui.predefine('sap/ushell/ui/shell/FloatingContainer',["sap/ui/core/Control","sap/ui/Device","sap/ui/performance/Measurement","sap/ui/thirdparty/jquery","sap/ui/util/Storage","sap/ushell/EventHub","sap/ushell/library"],function(C,D,M,q,S,E){"use strict";var F=C.extend("sap.ushell.ui.shell.FloatingContainer",{metadata:{properties:{},aggregations:{content:{type:"sap.ui.core.Control",multiple:true}}},renderer:{render:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapUshellFloatingContainer");r.writeClasses();r.write(">");if(c.getContent()&&c.getContent().length){r.renderControl(c.getContent()[0]);}r.write("</div>");}}});F.prototype.init=function(){D.resize.attachHandler(F.prototype._handleResize,this);};F.prototype._getWindowHeight=function(){return q(window).height();};F.prototype._setContainerHeight=function(c,f){c.css("max-height",f);};F.prototype._handleResize=function(e){M.start("FLP:FloatingContainer_handleResize","resizing floating container","FLP");if(q(".sapUshellFloatingContainer").parent()[0]&&(q(".sapUshellContainerDocked").size()===0)){this.oWrapper=q(".sapUshellFloatingContainer").parent()[0];this.oWrapper.setAttribute("style",this.oStorage.get("floatingContainerStyle"));var i=window.matchMedia?window.matchMedia("(max-width: 417px)").matches:false;this.adjustPosition(e,i);}else if(q(".sapUshellFloatingContainer").parent()[0]&&q(".sapUshellContainerDocked").size()){if(q("#canvas").hasClass("sapUshellContainer-Narrow-Right")){var u;if(sap.ui.getCore().getConfiguration().getRTL()){q("#sapUshellFloatingContainerWrapper").css("left",(416/q(window).width()*100)+"%");u=416/q(window).width()*100+"%;";}else{q("#sapUshellFloatingContainerWrapper").css("left",100-416/q(window).width()*100+"%");u=100-416/q(window).width()*100+"%;";}this.oWrapper.setAttribute("style","left:"+u+this.oWrapper.getAttribute("style").substring(this.oWrapper.getAttribute("style").indexOf("top")));this.oStorage.put("floatingContainerStyle",this.oWrapper.getAttribute("style"));}}if(q(".sapUshellContainerDocked").length>0){sap.ui.getCore().getEventBus().publish("launchpad","shellFloatingContainerDockedIsResize");E.emit("ShellFloatingContainerDockedIsResized",Date.now());}var d=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD);if(d.name!=="Desktop"&&(q(".sapUiMedia-Std-Desktop").width()-416<d.from)&&(q(".sapUshellContainerDocked").size())){q("#canvas, .sapUshellShellHead").removeClass("sapUshellContainerDocked");if(q("#canvas").hasClass("sapUshellContainer-Narrow-Right")){q("#canvas").removeClass("sapUshellContainer-Narrow-Right sapUshellMoveCanvasRight");}else{q("#canvas").removeClass("sapUshellContainer-Narrow-Left sapUshellMoveCanvasLeft");}q(".sapUshellShellFloatingContainerFullHeight").removeClass("sapUshellShellFloatingContainerFullHeight");sap.ui.getCore().byId("mainShell").getController()._handleAnimations(false);var s=new S(S.Type.local,"com.sap.ushell.adapters.local.CopilotLastState");if(s){s.put("lastState","floating");}sap.ui.getCore().getEventBus().publish("launchpad","shellFloatingContainerIsUnDockedOnResize");q("#sapUshellFloatingContainerWrapper").removeClass("sapUshellContainerDocked sapUshellContainerDockedMinimizeCoPilot sapUshellContainerDockedExtendCoPilot");var v=sap.ui.getCore().byId("viewPortContainer");if(v){v._handleSizeChange();}}M.end("FLP:FloatingContainer_handleResize");};F.prototype.adjustPosition=function(e,i){var w=e?e.width:q(window).width(),W=e?e.height:q(window).height(),c=this.oContainer.width(),a=this.oContainer.height(),b,d,l,t,f=sap.ui.getCore().getConfiguration().getRTL();i=i!==undefined?i:false;if(this.oWrapper){l=this.oWrapper.style.left.replace("%","");l=w*l/100;t=this.oWrapper.style.top.replace("%","");t=W*t/100;if(!isNaN(l)&&!isNaN(t)&&!i){if(f){b=(l<c)||(l>w);if(b){l=l<c?c:w;}}else{b=(l<0)||(w<(l+c));if(b){l=l<0?0:(w-c);}}d=(t<0)||(W<(t+a));if(d){t=t<0?0:(W-a);}if(!b&&!d){this.oWrapper.setAttribute("style","left:"+l*100/w+"%;top:"+t*100/W+"%;position:absolute;");return;}this.oWrapper.setAttribute("style","left:"+l*100/w+"%;top:"+t*100/W+"%;position:absolute;");}}};F.prototype.handleDrop=function(){if(this.oWrapper){this.adjustPosition();this.oStorage.put("floatingContainerStyle",this.oWrapper.getAttribute("style"));}};F.prototype.setContent=function(c){if(this.getDomRef()){var r=sap.ui.getCore().createRenderManager();r.renderControl(c);r.flush(this.getDomRef());r.destroy();}this.setAggregation("content",c,true);};F.prototype.onAfterRendering=function(){this.oStorage=this.oStorage||new S(S.Type.local,"com.sap.ushell.adapters.local.FloatingContainer");this.oContainer=q(".sapUshellFloatingContainer");this.oWrapper=q(".sapUshellFloatingContainer").parent()[0];};F.prototype.exit=function(){D.resize.detachHandler(F.prototype._resizeHandler,this);};return F;});
sap.ui.predefine('sap/ushell/ui/shell/NavigationMiniTile',["sap/ui/core/Control","sap/ui/core/IconPool","sap/ushell/library"],function(C,I){"use strict";var N=C.extend("sap.ushell.ui.shell.NavigationMiniTile",{metadata:{properties:{title:{type:"string",group:"Misc",defaultValue:null},subtitle:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},intent:{type:"string",group:"Misc",defaultValue:null}},aggregations:{},events:{press:{}}},renderer:{render:function(r,c){var t=c.getTitle();var s=c.getSubtitle();var i=c.getIcon();var o=I.createControlByURI(i);r.write("<div tabindex=\"-1\" class=\"sapUshellNavMiniTile\" ");r.writeControlData(c);r.writeAttributeEscaped("role","listitem");r.writeAttributeEscaped("aria-label",s?t+" "+s:t);r.write(">");r.write("<div>");r.write("<span class=\"sapUshellNavMiniTileTitle\" >");if(t){r.writeEscaped(t);}r.write("</span>");r.write("</div>");if(o){r.write("<div>");r.write("<span class=\"sapUshellNavMiniTileIcon\">");r.renderControl(o);r.write("</span>");r.write("</div>");}else{r.write("<div>");r.write("<span class=\"sapUshellNavMiniTileSubtitle\" >");if(s){r.writeEscaped(s);}r.write("</span>");r.write("</div>");}r.write("</div>");}}});N.prototype.ontap=function(){this.firePress({});};N.prototype.onsapenter=function(){this.firePress({});};N.prototype.onsapspace=function(){this.firePress({});};return N;});
sap.ui.predefine('sap/ushell/ui/shell/ShellFloatingAction',["sap/ui/thirdparty/jquery","sap/m/Button","sap/ushell/library","./ShellFloatingActionRenderer"],function(q,B){"use strict";var S=B.extend("sap.ushell.ui.shell.ShellFloatingAction");S.prototype.init=function(){this.addStyleClass("sapUshellShellFloatingAction");if(B.prototype.init){B.prototype.init.apply(this,arguments);}};S.prototype.exit=function(){B.prototype.exit.apply(this,arguments);};S.prototype.onAfterRendering=function(){if(this.data("transformY")){this.removeStyleClass("sapUshellShellFloatingActionTransition");q(this.getDomRef()).css("transform","translateY("+this.data("transformY")+")");}else{this.addStyleClass("sapUshellShellFloatingActionTransition");}};return S;});
sap.ui.predefine('sap/ushell/ui/shell/ShellFloatingActionRenderer',['sap/ui/core/Renderer','sap/m/ButtonRenderer'],function(R,B){"use strict";var S=R.extend(B);return S;},true);
sap.ui.predefine('sap/ushell/ui/shell/ShellFloatingActions',["sap/ui/core/Control","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/resources","./ShellFloatingAction"],function(C,q,u,r,S){"use strict";var a=C.extend("sap.ushell.ui.shell.ShellFloatingActions",{metadata:{properties:{isFooterVisible:{type:"boolean",defaultValue:false}},aggregations:{floatingActions:{type:"sap.ushell.ui.shell.ShellFloatingAction",multiple:true,singularName:"floatingAction"}}},renderer:{render:function(R,A){var f=A.getFloatingActions();R.write("<div");R.writeControlData(A);R.addClass("sapUshellShellFloatingActions");R.writeClasses();R.write(">");if(f.length){var F;if(f.length===1){F=f[0];}else{F=A._createMultipleFloatingActionsButton(f);q.each(f,function(){this.setVisible(false);R.renderControl(this);});}R.renderControl(F);}R.write("</div>");}}});a.prototype._createMultipleFloatingActionsButton=function(f){var F;var t=this;return new S({id:this.getId()+"-multipleFloatingActions",icon:"sap-icon://add",visible:true,press:function(){if(!this.hasStyleClass("sapUshellShellFloatingActionRotate")){this.addStyleClass("sapUshellShellFloatingActionRotate");if(!F){F=parseInt(this.$().outerHeight(),10)+parseInt(t.$().css("bottom"),10);}f.forEach(function(o){o.setVisible(true);});setTimeout(function(){f.forEach(function(o,i){var b=F*(i+1);o.$().css("transform","translateY(-"+b+"px)");o.data("transformY","-"+b+"px");});},0);}else{this.removeStyleClass("sapUshellShellFloatingActionRotate");f.forEach(function(o){o.$().css("transform","translateY(0)");});setTimeout(function(){f.forEach(function(o){o.setVisible(false);o.data("transformY",undefined);});},150);}},tooltip:r.i18n.getText("XXX")});};a.prototype.addFloatingAction=function(A){this.addAggregation("floatingActions",A,true);if(this.getDomRef()){var b=sap.ui.getCore().createRenderManager();b.renderControl(A);b.flush(this.getDomRef());b.destroy();}return this;};a.prototype.removeFloatingAction=function(A){if(typeof A==="number"){A=this.getAggregation("floatingActions")[A];}this.removeAggregation("floatingActions",A,true);var i=A.getId();q("#"+i).remove();return this;};return a;});
sap.ui.predefine('sap/ushell/ui/shell/ShellNavigationMenu',["sap/base/Log","sap/m/FlexBox","sap/m/Label","sap/m/List","sap/m/StandardListItem","sap/m/VBox","sap/ui/core/Control","sap/ui/Device","sap/ui/thirdparty/jquery","sap/ui/events/KeyCodes","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/AccessibilityCustomData"],function(L,F,a,b,S,V,C,D,q,K,u,r,A){"use strict";var c=C.extend("sap.ushell.ui.shell.ShellNavigationMenu",{metadata:{properties:{title:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},showTitle:{type:"boolean",defaultValue:false},showRelatedApps:{type:"boolean",defaultValue:true}},aggregations:{items:{type:"sap.m.ListItem",group:"Misc",defaultValue:null,singularName:"item"},miniTiles:{type:"sap.ushell.ui.shell.NavigationMiniTile",group:"Misc",defaultValue:null,singularName:"miniTile"}},events:{}},renderer:{render:function(R,o){var t,m;R.write("<div ");R.writeControlData(o);R.write(">");if(o.getShowTitle()){t=o.oTitle;t.setIcon(o.getIcon());t.setTitle(o.getTitle());R.write("<div id=\"sapUshellNavTitle\" >");R.renderControl(t);R.write("</div>");}if(o.oItemsList){R.renderControl(o.oItemsList);}if(o.getShowRelatedApps()){m=o.getMiniTiles();if(m&&m.length>0){R.renderControl(o.oRelatedAppsVbox);}}R.write("</div>");}}});var d=function(m){this.init(m);};d.prototype.init=function(m){this.keyCodes=K;this.jqElement=m.$();this.jqElement.on("keydown.keyboardNavigation",this.keydownHandler.bind(this));};d.prototype.destroy=function(){if(this.jqElement){this.jqElement.off(".keyboardNavigation");}delete this.jqElement;};d.prototype.keydownHandler=function(e){switch(e.keyCode){case this.keyCodes.ARROW_UP:this.upDownHandler(e,true);break;case this.keyCodes.ARROW_DOWN:this.upDownHandler(e,false);break;case this.keyCodes.ARROW_LEFT:this.leftRightHandler(e,false);break;case this.keyCodes.ARROW_RIGHT:this.leftRightHandler(e,true);break;case this.keyCodes.HOME:this.homeEndHandler(e,true);break;case this.keyCodes.END:this.homeEndHandler(e,false);break;case this.keyCodes.PAGE_UP:this.homeEndHandler(e,true);break;case this.keyCodes.PAGE_DOWN:this.homeEndHandler(e,false);break;default:break;}};d.prototype.upDownHandler=function(e,i){var j=q(document.activeElement);if(!j.hasClass("sapUshellNavMiniTile")){return false;}var f=j.parent().parent();var g=j.parent().index();var h=f.children();var n;if(i){n=g-3;if(n<0){n+=9;}}else{n=(g+3)%h.length;}var k=h[n].children[0];this._setItemFocus(e,q(k));};d.prototype.leftRightHandler=function(e,i){var n=i?"next":"prev",f,g,h,j,k,l,m=q(document.activeElement);if(!m.hasClass("sapUshellNavMiniTile")){return false;}f=m.parent();g=f[n]();h=g.index();j=f.parent();if(h===-1){k=i?0:j.children().length-1;}else{k=h;}l=j.children()[k].children[0];if(!l){return false;}this._setItemFocus(e,q(l));};d.prototype.homeEndHandler=function(e,i){var n=i?"first":"last";var j=q(document.activeElement);if(!j.hasClass("sapUshellNavMiniTile")){return false;}e.preventDefault();var f=this.jqElement.find(".sapUshellNavMiniTile")[n]();this._setItemFocus(e,f);};d.prototype._setItemFocus=function(e,j){e.preventDefault();e.stopImmediatePropagation();q(".sapUshellNavMiniTile").attr("tabindex",-1);j.attr("tabindex",0);j.focus();};d.prototype.setFocusToLastFocusedMiniTile=function(e){var j=q(".sapUshellNavMiniTile[tabindex='0']");if(j&&j[0]){this._setItemFocus(e,q(j));}else{this._setItemFocus(e,q(q(".sapUshellNavMiniTile")[0]));}};c.prototype.init=function(){};c.prototype._createItemsList=function(){this.oItemsList=new b("sapUshellNavHierarchyItems");};c.prototype._createMiniTilesBox=function(){this.oMiniTilesBox=new F("sapUshellNavRelatedAppsFlexBox");};c.prototype._beforeOpen=function(){if(!this.bInitialized){this.oTitle=new S("navMenuInnerTitle",{wrapping:true}).addStyleClass("sapUshellNavigationMenuTitleItem");this.oRelatedAppsTitle=new a("sapUshellRelatedAppsLabel",{text:r.i18n.getText("shellNavMenu_relatedApps")});if(!this.oMiniTilesBox){this._createMiniTilesBox();}this.oRelatedAppsVbox=new V("sapUshellRelatedAppsItems",{items:[this.oRelatedAppsTitle,this.oMiniTilesBox]});this._extendInnerControlsForAccKeyboard();this.bInitialized=true;}};c.prototype._afterOpen=function(){if(D.system.desktop){if(this.keyboardNavigation){this.keyboardNavigation.destroy();}this.keyboardNavigation=new d(this.oMiniTilesBox);}};c.prototype._extendInnerControlsForAccKeyboard=function(){this.oTitle.addCustomData(new A({key:"aria-level",value:"1",writeToDom:true}));if(D.system.desktop){this.oTitle.addCustomData(new A({key:"tabindex",value:"0",writeToDom:true}));this.oItemsList.addEventDelegate({onsaptabprevious:function(e){if(this.getShowTitle()){e.preventDefault();e.stopImmediatePropagation();q("#navMenuInnerTitle").focus();}else{this.keyboardNavigation.setFocusToLastFocusedMiniTile(e);}}.bind(this),onsaptabnext:function(e){if(q(".sapUshellNavMiniTile").length){this.keyboardNavigation.setFocusToLastFocusedMiniTile(e);}else{var o=sap.ui.getCore().byId("allMyAppsButton");this.keyboardNavigation._setItemFocus(e,q((o.getDomRef())));}}.bind(this)});}};c.prototype.getMiniTiles=function(){if(this.oMiniTilesBox){return this.oMiniTilesBox.getItems();}return[];};c.prototype.insertMiniTile=function(m,i){if(!this.oMiniTilesBox){this._createMiniTilesBox();}this.oMiniTilesBox.insertItem(m,i);return this;};c.prototype.addMiniTile=function(m){if(!this.oMiniTilesBox){this._createMiniTilesBox();}if(this.oMiniTilesBox.getItems().length<9){this.oMiniTilesBox.addItem(m);}else{L.warning("ShellNavigationMenu.addMiniTile - miniTiles aggregation is already at maximum size of 9 elements "+"- current item was not added.");}return this;};c.prototype.removeMiniTile=function(i){if(this.oMiniTilesBox){this.oMiniTilesBox.removeItem(i);}return this;};c.prototype.removeAllMiniTiles=function(){if(this.oMiniTilesBox){this.oMiniTilesBox.removeAllItems();}return this;};c.prototype.destroyMiniTiles=function(){if(this.oMiniTilesBox){this.oMiniTilesBox.destroyItems();}return this;};c.prototype.indexOfMiniTile=function(m){if(this.oMiniTilesBox){return this.oMiniTilesBox.indexOfItem(m);}return-1;};c.prototype.getItems=function(){if(this.oItemsList){return this.oItemsList.getItems();}return[];};c.prototype.insertItem=function(h,i){if(!this.oItemsList){this._createItemsList();}h=this._extendHierarchyItemForAcc(h);this.oItemsList.insertItem(h,i);return this;};c.prototype.addItem=function(h){if(!this.oItemsList){this._createItemsList();}h=this._extendHierarchyItemForAcc(h);this.oItemsList.addItem(h);return this;};c.prototype.removeItem=function(i){if(this.oItemsList){this.oItemsList.removeItem(i);}return this;};c.prototype.removeAllItems=function(){if(this.oItemsList){this.oItemsList.removeAllItems();}return this;};c.prototype.destroyItems=function(){if(this.oItemsList){this.oItemsList.destroyItems();}return this;};c.prototype.indexOfItem=function(h){if(this.oItemsList){return this.oItemsList.indexOfItem(h);}return-1;};c.prototype._extendHierarchyItemForAcc=function(i){if(D.system.desktop){i.addEventDelegate({onsapspace:function(e){this.firePress();}.bind(i)});}return i;};c.prototype.exit=function(){if(this.oItemsList){this.oItemsList.destroy();}if(this.oMiniTilesBox){this.oMiniTilesBox.destroy();}if(this.bInitialized){this.oTitle.destroy();this.oRelatedAppsVbox.destroy();this.oRelatedAppsTitle.destroy();}if(this.keyboardNavigation){this.keyboardNavigation.destroy();}};c.prototype.onAfterRendering=function(){if(this.getShowTitle()){q("#sapUshellAppTitlePopover-intHeader").css("height",0);}else{q("#sapUshellAppTitlePopover-intHeader").css("height","0.5rem");}if(this.getShowTitle()){var j=q("#navMenuInnerTitle");j.attr("aria-readonly","true");j.attr("readonly","readonly");}var e=q("#sapUshellNavHierarchyItems ul");e.attr("role","group");e.attr("aria-label",r.i18n.getText("ShellNavigationMenu_HierarchyItemsAriaLabel"));var f=q("#sapUshellNavRelatedAppsFlexBox");f.attr("role","list");f.attr("aria-labelledBy","sapUshellRelatedAppsLabel");var g=q(".sapUshellNavMiniTile");for(var i=0;i<g.length;i++){q(g[i]).attr("aria-setsize",g.length);q(g[i]).attr("aria-posinset",i+1);}};return c;});
sap.ui.predefine('sap/ushell/ui/tile/DynamicTile',["sap/ushell/library","./TileBase","./DynamicTileRenderer"],function(u,T){"use strict";var S=u.ui.tile.State;var a=u.ui.tile.StateArrow;var D=T.extend("sap.ushell.ui.tile.DynamicTile",{metadata:{library:"sap.ushell",properties:{numberValue:{type:"string",group:"Data",defaultValue:"0.0"},numberState:{type:"State",group:"Appearance",defaultValue:S.Neutral},numberUnit:{type:"string",group:"Data",defaultValue:null},numberDigits:{type:"int",group:"Appearance",defaultValue:0},stateArrow:{type:"StateArrow",group:"Appearance",defaultValue:a.None},numberFactor:{type:"string",group:"Data",defaultValue:null}}}});return D;});
sap.ui.predefine('sap/ushell/ui/tile/DynamicTileRenderer',["sap/ui/core/Renderer","sap/ui/core/format/NumberFormat","../../library","./TileBaseRenderer","sap/ushell/resources"],function(R,N,u,T,r){"use strict";var S=u.ui.tile.State;var D=R.extend(T);var t=r.i18n;D.renderPart=function(o,c){var n=c.getNumberValue(),a=c.getNumberFactor(),d=n.toString(),m=c.getIcon()?4:5,s=this._shouldProcessDigits(d,c);if(d.length>m||s){var b=this._normalizeNumber(n,m,a,c);a=b.numberFactor;d=b.displayNumber;}else if(d!==""){var e=N.getFloatInstance({maxFractionDigits:m});d=e.format(n);}o.write("<div");o.addClass("sapUshellDynamicTile");o.writeClasses();o.write(">");o.write("<div");o.addClass("sapUshellDynamicTileData");o.addClass((c.getNumberState()?"sapUshellDynamicTileData"+c.getNumberState():"sapUshellDynamicTileData"+S.Neutral));o.writeClasses();o.write(">");o.write("<div class='sapUshellDynamicTileIndication'>");if(c.getStateArrow()){o.write("<div");o.addClass("sapUshellDynamicTileStateArrow");o.addClass("sapUshellDynamicTileData"+c.getStateArrow());o.writeClasses();o.write(">");o.write("</div>");}o.write("<br><div");o.addClass("sapUshellDynamicTileNumberFactor");o.writeClasses();o.writeAccessibilityState(c,{label:t.getText("TileUnits_lable")+a});o.write(">");o.writeEscaped(a);o.write("</div>");o.write("</div>");o.write("<div");o.addClass("sapUshellDynamicTileNumber");o.writeClasses();if(d&&d!==""){o.writeAccessibilityState(c,{label:t.getText("TileValue_lable")+d});o.write(">");o.writeEscaped(d);}else{o.write(">");o.writeEscaped(c.getNumberValue());}o.write("</div>");o.write("</div>");o.write("</div>");};D._normalizeNumber=function(n,m,a,c){var b;if(isNaN(n)){b=n;}else{var o=N.getFloatInstance({maxFractionDigits:c.getNumberDigits()});if(!a){var d=Math.abs(n);if(d>=1000000000){a="B";n/=1000000000;}else if(d>=1000000){a="M";n/=1000000;}else if(d>=1000){a="K";n/=1000;}}b=o.format(n);}var e=b;var f=e[m-1];m-=(f==="."||f===",")?1:0;e=e.substring(0,m);return{displayNumber:e,numberFactor:a};};D._shouldProcessDigits=function(d,c){var n=c.getNumberDigits(),a;if(d.indexOf(".")!==-1){a=d.split(".")[1].length;if(a>n){return true;}}return false;};D.getInfoPrefix=function(c){return c.getNumberUnit();};return D;},true);
sap.ui.predefine('sap/ushell/ui/tile/ImageTile',['sap/ushell/library','./TileBase','./ImageTileRenderer'],function(l,T){"use strict";var I=T.extend("sap.ushell.ui.tile.ImageTile",{metadata:{library:"sap.ushell",properties:{imageSource:{type:"string",group:"Appearance",defaultValue:null}}}});return I;});
sap.ui.predefine('sap/ushell/ui/tile/ImageTileRenderer',['sap/ui/core/Renderer','./TileBaseRenderer'],function(R,T){"use strict";var I=R.extend(T);I.renderPart=function(r,c){r.write("<img");r.addClass("sapUshellImageTile");r.writeClasses();r.writeAttributeEscaped("src",c.getImageSource());r.writeAttributeEscaped("alt"," ");r.write("/>");};return I;},true);
sap.ui.predefine('sap/ushell/ui/tile/StaticTile',['sap/ushell/library','./TileBase','./StaticTileRenderer'],function(l,T){"use strict";var S=T.extend("sap.ushell.ui.tile.StaticTile",{metadata:{library:"sap.ushell"}});return S;});
sap.ui.predefine('sap/ushell/ui/tile/StaticTileRenderer',['sap/ui/core/Renderer','./TileBaseRenderer'],function(R,T){"use strict";var S=R.extend(T);S.renderPart=function(r,c){r.write("<span");r.addClass("sapUshellStaticTile");r.writeClasses();r.write(">");r.write("</span>");};return S;},true);
sap.ui.predefine('sap/ushell/ui/tile/TileBase',['sap/ui/core/Control','sap/ushell/library','./TileBaseRenderer'],function(C,l){"use strict";var T=C.extend("sap.ushell.ui.tile.TileBase",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Data",defaultValue:null},subtitle:{type:"string",group:"Data",defaultValue:null},icon:{type:"string",group:"Data",defaultValue:null},info:{type:"string",group:"Data",defaultValue:null},infoState:{type:"sap.ushell.ui.tile.State",defaultValue:sap.ushell.ui.tile.State.Neutral},targetURL:{type:"string",group:"Behavior",defaultValue:null},highlightTerms:{type:"any",group:"Appearance",defaultValue:[]}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},events:{press:{}}}});T.prototype.ontap=function(e){this.firePress({});};T.prototype.onsapenter=function(e){this.firePress({});};T.prototype.onsapspace=function(e){this.firePress({});};return T;});
sap.ui.predefine('sap/ushell/ui/tile/TileBaseRenderer',["sap/ushell/resources","sap/base/security/encodeXML","sap/ui/core/Icon"],function(r,e,I){"use strict";var T={};var t=r.i18n;T.highlight=function(h,s){var i,a,E=e(s).replace(/&#xa;/g,"<br>");if(h&&h.length&&h.length>0){for(i=0;i<h.length;i=i+1){a=new RegExp("("+e(h[i]).replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")+")","gi");E=E.replace(a,"<b>$1</b>");}}return E;};T.render=function(R,c){var i,o;R.write("<div");R.writeControlData(c);if(c.getTargetURL()){R.writeAttributeEscaped("data-targeturl",c.getTargetURL());}R.addClass("sapUshellTileBase");R.writeClasses();R.write(">");R.write("<div");R.addClass("sapUshellTileBaseHeader");R.writeClasses();R.write(">");R.write("<h3");R.addClass("sapUshellTileBaseTitle");R.writeClasses();R.writeAccessibilityState(c,{label:t.getText("tileTypeListItem")+t.getText("TileDetails_lable")+t.getText("TileTitle_lable")+c.getTitle(),level:"3"});R.write(">");R.write(this.highlight(c.getHighlightTerms(),c.getTitle()||""));R.write("</h3>");if(c.getSubtitle()){R.write("<h4");R.addClass("sapUshellTileBaseSubtitle");R.writeClasses();R.writeAccessibilityState(c,{label:t.getText("TileSubTitle_lable")+c.getSubtitle(),level:"4"});R.write(">");R.write(this.highlight(c.getHighlightTerms(),c.getSubtitle()));R.write("</h4>");}R.write("</div>");if(typeof(this.renderPart)==="function"){this.renderPart(R,c);}if(c.getIcon()){o=new I({src:c.getIcon()});o.addStyleClass("sapUshellTileBaseIcon");R.renderControl(o);}if(c.getInfo()||((typeof(this.getInfoPrefix)==="function"))&&this.getInfoPrefix(c)){R.write("<div");R.addClass("sapUshellTileBaseInfo");R.addClass(c.getInfoState()?"sapUshellTileBase"+c.getInfoState():"sapUshellTileBase"+sap.ushell.ui.tile.State.Neutral);R.writeClasses();R.writeAccessibilityState(c,{label:t.getText("TileInfo_lable")+c.getInfo()});R.write(">");if(typeof(this.getInfoPrefix)==="function"){i=this.getInfoPrefix(c);R.writeEscaped(i);}if(c.getInfo()){if(i){R.write(", ");}R.write(this.highlight(c.getHighlightTerms(),c.getInfo()));}R.write("</div>");}R.write("</div>");};return T;},true);
sap.ui.predefine('sap/ushell/ui/utils',["sap/ushell/EventHub","sap/ui/thirdparty/jquery"],function(E,q){"use strict";function s(e){var r=new q.Deferred(),w,c,t=0,f=0,a=0,p=[],b=[],d,A={refresh:false};function o(h){if(h&&h.refresh===true){A.refresh=true;}a++;r.notify();}function g(h){b.push({entry:d,message:h});f++;r.notify();}var u=E.last("UserSettingsOpened")||{};Object.keys(u).forEach(function(i){var I=parseInt(i,10);c=e[I].onSave();c.done(o);d=e[I].title;c.fail(g);p.push(c);t++;});w=q.when.apply(null,p);w.done(function(){E.emit("UserSettingsOpened",null);r.resolve(A);});r.progress(function(){if(f>0&&(f+a===t)){r.reject(b);}});return r.promise();}return{saveUserPreferenceEntries:s};});
/*!
 * Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)
 * Version 2.0.0, see https://github.com/sindresorhus/p-cancelable/tree/v2.0.0
 */
sap.ui.predefine('sap/base/util/restricted/_CancelablePromise',function(){'use strict';function _(o,a){var p;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(p=b(o))||a&&o&&typeof o.length==="number"){if(p)o=p;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(f){throw f;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var y=true,z=false,A;return{s:function s(){p=o[Symbol.iterator]();},n:function n(){var s=p.next();y=s.done;return s;},e:function e(f){z=true;A=f;},f:function f(){try{if(!y&&p.return!=null)p.return();}finally{if(z)throw A;}}};}function b(o,a){if(!o)return;if(typeof o==="string")return c(o,a);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(o,a);}function c(a,e){if(e==null||e>a.length)e=a.length;for(var i=0,f=new Array(e);i<e;i++){f[i]=a[i];}return f;}function d(o){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){d=function d(o){return typeof o;};}else{d=function d(o){return o&&typeof Symbol==="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o;};}return d(o);}function g(i,a){if(!(i instanceof a)){throw new TypeError("Cannot call a class as a function");}}function h(a,p){for(var i=0;i<p.length;i++){var e=p[i];e.enumerable=e.enumerable||false;e.configurable=true;if("value"in e)e.writable=true;Object.defineProperty(a,e.key,e);}}function j(a,p,s){if(p)h(a.prototype,p);if(s)h(a,s);return a;}function k(s,a){if(typeof a!=="function"&&a!==null){throw new TypeError("Super expression must either be null or a function");}s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:true,configurable:true}});if(a)w(s,a);}function l(D){var a=u();return function f(){var S=x(D),e;if(a){var N=x(this).constructor;e=Reflect.construct(S,arguments,N);}else{e=S.apply(this,arguments);}return m(this,e);};}function m(s,a){if(a&&(d(a)==="object"||typeof a==="function")){return a;}return q(s);}function q(s){if(s===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return s;}function r(a){var e=typeof Map==="function"?new Map():undefined;r=function r(a){if(a===null||!v(a))return a;if(typeof a!=="function"){throw new TypeError("Super expression must either be null or a function");}if(typeof e!=="undefined"){if(e.has(a))return e.get(a);e.set(a,W);}function W(){return t(a,arguments,x(this).constructor);}W.prototype=Object.create(a.prototype,{constructor:{value:W,enumerable:false,writable:true,configurable:true}});return w(W,a);};return r(a);}function t(e,f,i){if(u()){t=Reflect.construct;}else{t=function t(e,f,i){var a=[null];a.push.apply(a,f);var n=Function.bind.apply(e,a);var o=new n();if(i)w(o,i.prototype);return o;};}return t.apply(null,arguments);}function u(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}function v(f){return Function.toString.call(f).indexOf("[native code]")!==-1;}function w(o,p){w=Object.setPrototypeOf||function w(o,p){o.__proto__=p;return o;};return w(o,p);}function x(o){x=Object.setPrototypeOf?Object.getPrototypeOf:function x(o){return o.__proto__||Object.getPrototypeOf(o);};return x(o);}var C=function(a){k(C,a);var e=l(C);function C(f){var i;g(this,C);i=e.call(this,f||'Promise was canceled');i.name='CancelError';return i;}j(C,[{key:"isCanceled",get:function f(){return true;}}]);return C;}(r(Error));var P=function(){j(P,null,[{key:"fn",value:function f(a){return function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++){i[n]=arguments[n];}return new P(function(o,p,s){i.push(s);a.apply(void 0,i).then(o,p);});};}}]);function P(e){var a=this;g(this,P);this._cancelHandlers=[];this._isPending=true;this._isCanceled=false;this._rejectOnCancel=true;this._promise=new Promise(function(f,i){a._reject=i;var o=function o(s){a._isPending=false;f(s);};var n=function n(s){a._isPending=false;i(s);};var p=function p(s){if(!a._isPending){throw new Error('The `onCancel` handler was attached after the promise settled.');}a._cancelHandlers.push(s);};Object.defineProperties(p,{shouldReject:{get:function s(){return a._rejectOnCancel;},set:function y(s){a._rejectOnCancel=s;}}});return e(o,n,p);});}j(P,[{key:"then",value:function e(o,a){return this._promise.then(o,a);}},{key:"catch",value:function a(o){return this._promise.catch(o);}},{key:"finally",value:function a(o){return this._promise.finally(o);}},{key:"cancel",value:function p(a){if(!this._isPending||this._isCanceled){return;}if(this._cancelHandlers.length>0){try{var e=_(this._cancelHandlers),f;try{for(e.s();!(f=e.n()).done;){var i=f.value;i();}}catch(n){e.e(n);}finally{e.f();}}catch(o){this._reject(o);}}this._isCanceled=true;if(this._rejectOnCancel){this._reject(new C(a));}}},{key:"isCanceled",get:function a(){return this._isCanceled;}}]);return P;}();Object.setPrototypeOf(P.prototype,Promise.prototype);P.CancelError=C;return P;});
/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('jquery.sap.act',['sap/ui/util/ActivityDetection','jquery.sap.global'],function(A,q){"use strict";q.sap.act=A;return q;});
sap.ui.predefine('jquery.sap.encoder',['jquery.sap.global','sap/base/security/encodeXML','sap/base/security/encodeJS','sap/base/security/encodeURL','sap/base/security/encodeURLParameters','sap/base/security/encodeCSS','sap/base/security/URLListValidator','sap/base/security/URLWhitelist','sap/base/security/sanitizeHTML'],function(q,e,a,b,c,d,U,f,s){"use strict";q.sap.encodeHTML=e;q.sap.encodeXML=e;q.sap.escapeHTML=e;q.sap.encodeJS=a;q.sap.escapeJS=a;q.sap.encodeURL=b;q.sap.encodeURLParameters=c;q.sap.encodeCSS=d;q.sap.clearUrlWhitelist=U.clear;q.sap.addUrlWhitelist=U.add.bind(f);q.sap.removeUrlWhitelist=function(i){U._delete(U.entries()[i]);};q.sap.getUrlWhitelist=U.entries;q.sap.validateUrl=U.validate;q.sap._sanitizeHTML=s;return q;});
sap.ui.predefine('jquery.sap.events',['jquery.sap.global','sap/ui/events/ControlEvents','sap/ui/events/PseudoEvents','sap/ui/events/checkMouseEnterOrLeave','sap/ui/events/isSpecialKey','sap/ui/events/isMouseEventDelayed','sap/ui/events/F6Navigation','sap/ui/events/jquery/EventSimulation','sap/ui/events/KeyCodes','sap/base/util/defineCoupledProperty','sap/ui/events/jquery/EventExtension'],function(q,C,P,c,i,I,F,E,K,d){"use strict";q.sap.PseudoEvents=P.events;q.sap.ControlEvents=C.events;q.sap.disableTouchToMouseHandling=E.disableTouchToMouseHandling;d(q.sap,"touchEventMode",E,"touchEventMode");q.sap.bindAnyEvent=C.bindAnyEvent;q.sap.unbindAnyEvent=C.unbindAnyEvent;q.sap.checkMouseEnterOrLeave=c;q.sap.isSpecialKey=function(e){if(e.key){return i(e);}function a(e){var k=e.which;return(k===K.SHIFT)||(k===K.CONTROL)||(k===K.ALT)||(k===K.CAPS_LOCK)||(k===K.NUM_LOCK);}function b(e){var k=e.which,A=(k>=37&&k<=40);switch(e.type){case"keydown":case"keyup":return A;case"keypress":return k===0;default:return false;}}var k=e.which,s=a(e)||b(e)||(k>=33&&k<=36)||(k>=44&&k<=46)||(k>=112&&k<=123)||(k===K.BREAK)||(k===K.BACKSPACE)||(k===K.TAB)||(k===K.ENTER)||(k===K.ESCAPE)||(k===K.SCROLL_LOCK);switch(e.type){case"keydown":case"keyup":return s;case"keypress":return(k===0||k===K.BACKSPACE||k===K.ESCAPE||k===K.ENTER)||false;default:return false;}};q.sap.handleF6GroupNavigation=function(e,s){if(!e.key&&e.keyCode===K.F6){e.key="F6";}return F.handleF6GroupNavigation(e,s);};q.sap._FASTNAVIGATIONKEY=F.fastNavigationKey;q.sap._refreshMouseEventDelayedFlag=function(n){q.sap.isMouseEventDelayed=I.apply(this,arguments);};q.sap._refreshMouseEventDelayedFlag(navigator);return q;});
sap.ui.predefine('jquery.sap.history',["jquery.sap.global","sap/base/Log","sap/base/util/uid","sap/base/strings/escapeRegExp"],function(q,L,u,e){"use strict";(function(w){var s="_skip",r=/\|id-[0-9]+-[0-9]+/,a=new RegExp(s+"[0-9]*$"),b=[],h=[],S={},c=0,d,I="|",H=[],f=false,g,j=false;q.sap.history=function(B){if(!q.isPlainObject(B)){return;}if(!j){var W=q(w),C=(w.location.href.split("#")[1]||"");W.on('hashchange',l);if(Array.isArray(B.routes)){var i,D;for(i=0;i<B.routes.length;i++){D=B.routes[i];if(D.path&&D.handler){q.sap.history.addRoute(D.path,D.handler);}}}if(typeof B.defaultHandler==="function"){g=B.defaultHandler;}h.push(C);if(C.length>1){W.trigger("hashchange",[true]);}else{d=C;}j=true;}};q.sap.history.addHistory=function(i,B,C,V){var U,D;if(C===undefined){C=true;}if(!V){D=p(i,B);U=o(D);if(U){D+=(I+U);}D+=(I+(C?"1":"0"));}else{D=n(d);}H.push(D);S[D]=true;w.location.hash=D;return D;};q.sap.history.addVirtualHistory=function(){q.sap.history.addHistory("",undefined,false,true);};q.sap.history.addRoute=function(i,B,T){if(T){B=q.proxy(B,T);}var R={};R.sIdentifier=i;R['action']=B;b.push(R);return this;};q.sap.history.setDefaultHandler=function(i){g=i;};q.sap.history.getDefaultHandler=function(){return g;};q.sap.history.backToHash=function(i){i=i||"";var B;if(h.length===1){if(typeof g==="function"){g();}}else{B=k(d,i);if(B<0){w.history.go(B);}else{L.error("jQuery.sap.history.backToHash: "+i+"is not in the history stack or it's after the current hash");}}};q.sap.history.backThroughPath=function(P){P=P||"";P=w.encodeURIComponent(P);var i;if(h.length===1){if(typeof g==="function"){g();}}else{i=k(d,P,true);if(i<0){w.history.go(i);}else{L.error("jQuery.sap.history.backThroughPath: there's no history state which has the "+P+" identifier in the history stack before the current hash");}}};q.sap.history.back=function(i){if(h.length===1){if(typeof g==="function"){g(q.sap.history.NavType.Back);}}else{if(!i){i=1;}w.history.go(-1*i);}};q.sap.history.NavType={Back:"_back",Forward:"_forward",Bookmark:"_bookmark",Unknown:"_unknown"};function k(C,T,P){var B=h.indexOf(C),D,i,E;if(B>0){if(P){for(i=B-1;i>=0;i--){E=h[i];if(E.indexOf(T)===0&&!v(E)){return i-B;}}}else{D=h.indexOf(T);if((D===-1)&&T.length===0){return-1*B;}if((D>-1)&&(D<B)){return D-B;}}}return 0;}function l(E,M){var i=(w.location.href.split("#")[1]||"");i=m(i);if(M||!S[i]){H.push(i);}if(!f){f=true;if(H.length>0){var B=H.shift();if(S[B]){t(B);delete S[B];}else{y(B);}d=B;}f=false;}}function m(i,R){var B=i,C=i?i.indexOf("#"):-1;if(C===0){B=B.slice(C+1);}if(R){B=B.replace(r,"");}return B;}function n(i){var P=i?i:"";if(v(P)){var B=P.lastIndexOf(s);P=P.slice(0,B);}return P+s+c++;}function p(i,B){var E=encodeURIComponent(i);var C=encodeURIComponent(JSON.stringify(B));return E+I+C;}function o(B){var C=h.indexOf(d),i,D;if(C>-1){for(i=0;i<C+1;i++){D=h[i];if(D.slice(0,D.length-2)===B){return u();}}}return"";}function t(i){var B=h.indexOf(d);if(!(B===-1||B===h.length-1)){h.splice(B+1,h.length-1-B);}h.push(i);}function v(i){return a.test(i);}function x(C,F){var B=h.indexOf(C),i;if(B!==-1){if(F){for(i=B;i<h.length;i++){if(!v(h[i])){return i-B;}}}else{for(i=B;i>=0;i--){if(!v(h[i])){return i-B;}}return-1*(B+1);}}}function y(i){var R,B,P,N,C;if(d===undefined){P=A(i);if(!P||!P.bBookmarkable){if(typeof g==="function"){g(q.sap.history.NavType.Bookmark);}return;}}if(i.length===0){if(typeof g==="function"){g(q.sap.history.NavType.Back);}}else{N=h.indexOf(i);if(N===0){P=A(i);if(!P||!P.bBookmarkable){if(typeof g==="function"){g(q.sap.history.NavType.Back);}return;}}if(v(i)){if(v(d)){B=x(i,false);w.history.go(B);}else{var D=new RegExp(e(d+s)+"[0-9]*$");if(D.test(i)){B=x(i,true);if(B){w.history.go(B);}else{w.history.back();}}else{B=x(i,false);w.history.go(B);}}}else{if(N===-1){C=q.sap.history.NavType.Unknown;h.push(i);}else{if(h.indexOf(d,N+1)===-1){C=q.sap.history.NavType.Forward;}else{C=q.sap.history.NavType.Back;}}P=A(i);if(P){R=z(P.sIdentifier);if(R){R.action.apply(null,[P.oStateData,C]);}}else{L.error("hash format error! The current Hash: "+i);}}}}function z(B){var i;for(i=0;i<b.length;i++){if(b[i].sIdentifier===B){return b[i];}}}function A(B){if(v(B)){var i=B.lastIndexOf(s);B=B.slice(0,i);}var P=B.split(I),R={};if(P.length===4||P.length===3){R.sIdentifier=w.decodeURIComponent(P[0]);R.oStateData=JSON.parse(w.decodeURIComponent(P[1]));if(P.length===4){R.uid=P[2];}R.bBookmarkable=P[P.length-1]==="0"?false:true;return R;}else{return null;}}})(this);return q;});
sap.ui.predefine('jquery.sap.keycodes',['jquery.sap.global','sap/ui/events/KeyCodes'],function(q,K){"use strict";q.sap.KeyCodes=K;return q;});
sap.ui.predefine('jquery.sap.mobile',['jquery.sap.global','sap/ui/util/Mobile','sap/ui/Device'],function(q,M,D){"use strict";function g(t,p){var d=Object.getOwnPropertyDescriptor(t,p);return d&&d.value;}(function(){q.os=q.extend({os:D.os.name,version:D.os.versionStr,fVersion:D.os.version},g(q,"os"));q.os[D.os.name]=true;q.device=q.extend({},g(q,"device"));q.device.is=q.extend({standalone:window.navigator.standalone,landscape:D.orientation.landscape,portrait:D.orientation.portrait,iphone:D.os.ios&&D.system.phone,ipad:D.os.ios&&D.system.tablet,android_phone:D.system.phone&&D.os.android,android_tablet:D.system.tablet&&D.os.android,tablet:D.system.tablet,phone:D.system.phone,desktop:D.system.desktop},q.device.is);})();q.sap.initMobile=M.init;q.sap.setIcons=M.setIcons;q.sap.setMobileWebAppCapable=M.setWebAppCapable;return q;});
sap.ui.predefine('jquery.sap.promise',[],function(){"use strict";if(!window.Promise){sap.ui.requireSync("sap/ui/thirdparty/es6-promise");}});
sap.ui.predefine('jquery.sap.properties',['jquery.sap.global','sap/base/util/Properties'],function(q,P){"use strict";q.sap.properties=P.create;return q;});
sap.ui.predefine('jquery.sap.sjax',['jquery.sap.global'],function(q){"use strict";q.sap.sjaxSettings={complexResult:true,fallback:undefined};q.sap.sjax=function a(o){var s=q.extend(true,{},q.sap.sjaxSettings,o,{async:false,success:function(d,t,x){r={success:true,data:d,status:t,statusCode:x&&x.status};},error:function(x,t,e){r={success:false,data:undefined,status:t,error:e,statusCode:x.status,errorResponse:x.responseText};}});var r;q.ajax(s);if(!s.complexResult){return r.success?r.data:s.fallback;}return r;};q.sap.syncHead=function(u){return q.sap.sjax({type:'HEAD',url:u}).success;};q.sap.syncGet=function s(u,d,D){return q.sap.sjax({url:u,data:d,type:'GET',dataType:D||'text'});};q.sap.syncPost=function s(u,d,D){return q.sap.sjax({url:u,data:d,type:'POST',dataType:D||'text'});};q.sap.syncGetText=function s(u,d,f){return q.sap.sjax({url:u,data:d,type:'GET',dataType:'text',fallback:f,complexResult:(arguments.length<3)});};q.sap.syncGetJSON=function s(u,d,f){return q.sap.sjax({url:u,data:d||null,type:'GET',dataType:'json',fallback:f,complexResult:(arguments.length<3)});};return q;});
sap.ui.predefine('jquery.sap.storage',['jquery.sap.global','sap/base/assert','sap/ui/util/Storage'],function(q,a,S){"use strict";var s={};q.sap.storage=function(o,i){if(!o){o=S.Type.session;}if(typeof(o)==="string"&&S.Type[o]){var k=o;if(i&&i!="state.key_"){k=o+"_"+i;}return s[k]||(s[k]=new S(o,i));}a(o instanceof Object&&o.clear&&o.setItem&&o.getItem&&o.removeItem,"storage: duck typing the storage");return new S(o,i);};q.sap.storage.Storage=S;q.sap.storage.Type=S.Type;Object.assign(q.sap.storage,S);return q;});
sap.ui.predefine('jquery.sap.strings',['jquery.sap.global','sap/base/strings/capitalize','sap/base/strings/camelize','sap/base/strings/hyphenate','sap/base/strings/escapeRegExp','sap/base/strings/formatMessage'],function(q,c,a,h,e,f){"use strict";q.sap.endsWith=function(s,E){if(typeof(E)!="string"||E==""){return false;}return s.endsWith(E);};q.sap.endsWithIgnoreCase=function(s,E){if(typeof(E)!="string"||E==""){return false;}s=s.toUpperCase();E=E.toUpperCase();return s.endsWith(E);};q.sap.startsWith=function(s,S){if(typeof(S)!="string"||S==""){return false;}return s.startsWith(S);};q.sap.startsWithIgnoreCase=function(s,S){if(typeof(S)!="string"||S==""){return false;}s=s.toUpperCase();S=S.toUpperCase();return s.startsWith(S);};q.sap.charToUpperCase=function(s,p){if(!s){return s;}if(!p||isNaN(p)||p<=0||p>=s.length){return c(s);}var C=s.charAt(p).toUpperCase();if(p>0){return s.substring(0,p)+C+s.substring(p+1);}return C+s.substring(p+1);};q.sap.padLeft=function(s,p,l){if(!s){s="";}if(p&&p.length===1){return s.padStart(l,p);}while(s.length<l){s=p+s;}return s;};q.sap.padRight=function(s,p,l){if(!s){s="";}if(p&&p.length===1){return s.padEnd(l,p);}while(s.length<l){s=s+p;}return s;};q.sap.camelCase=a;q.sap.hyphen=h;q.sap.escapeRegExp=e;q.sap.formatMessage=f;return q;});
sap.ui.predefine('jquery.sap.trace',['jquery.sap.global','sap/ui/performance/trace/Passport','sap/ui/performance/trace/Interaction','sap/ui/performance/trace/FESR','sap/base/Log','sap/ui/Global'],function(q,P,I,F,L){"use strict";function l(){if(!(window.performance&&window.performance.getEntries)){L.warning("Interaction tracking is not supported on browsers with insufficient performance API");}}q.sap.interaction={};q.sap.interaction.setActive=function(){l();I.setActive.apply(this,arguments);};q.sap.interaction.getActive=I.getActive;q.sap.interaction.notifyStepStart=I.notifyStepStart;q.sap.interaction.notifyStepEnd=I.notifyStepEnd;q.sap.interaction.notifyEventStart=I.notifyEventStart;q.sap.interaction.notifyScrollEvent=I.notifyScrollEvent;q.sap.interaction.notifyEventEnd=I.notifyEventEnd;q.sap.interaction.setStepComponent=I.setStepComponent;q.sap.fesr={};q.sap.fesr.setActive=function(){l();F.setActive.apply(this,arguments);};q.sap.fesr.getActive=F.getActive;q.sap.fesr.getCurrentTransactionId=P.getTransactionId;q.sap.fesr.getRootId=P.getRootId;q.sap.fesr.addBusyDuration=I.addBusyDuration;q.sap.passport={};q.sap.passport.setActive=P.setActive;q.sap.passport.traceFlags=P.traceFlags;function g(){var a=!!document.querySelector("meta[name=sap-ui-fesr][content=true]"),p=window.location.search.match(/[\?|&]sap-ui-(?:xx-)?fesr=(true|x|X|false)&?/);if(p){a=p[1]&&p[1]!="false";}return a;}q.sap.interaction.notifyStepStart(null,true);F.setActive(g());if(/sap-ui-xx-e2e-trace=(true|x|X)/.test(location.search)){sap.ui.requireSync("sap/ui/core/support/trace/E2eTraceLib");}return q;});
sap.ui.predefine('jquery.sap.ui',['jquery.sap.global','sap/base/util/ObjectPath','sap/ui/dom/jquery/control'],function(q,O){"use strict";function f(c){return c.getUIArea().getInterface();}function u(){return sap.ui.getCore().getUIArea(this.id)!=null;}function a(){return sap.ui.getCore().getUIArea(this.id);}q.fn.root=function(r){if(r){sap.ui.getCore().setRoot(this.get(0),r);return this;}var c=this.control();if(c.length>0){return c.map(f);}var U=this.uiarea();if(U.length>0){return U;}this.each(function(){sap.ui.getCore().createUIArea(this);});return this;};q.fn.uiarea=function(i){var U=this.slice("[id]").filter(u).map(a).get();return typeof(i)==="number"?U[i]:U;};q.fn.sapui=function(c,i,C){return this.each(function(){var o=null;if(this){if(c.indexOf(".")==-1){c="sap.ui.commons."+c;}var b=O.get(c);if(b){if(typeof C=='object'&&typeof C.press=='function'){C.press=q.proxy(C.press,this);}o=new(b)(i,C);o.placeAt(this);}}});};return q;});
sap.ui.predefine('jquery.sap.unicode',['jquery.sap.global','sap/ui/Device'],function(q,D){'use strict';var i,N;if(!String.prototype.normalize&&!D.browser.mobile){N=sap.ui.requireSync('sap/base/strings/NormalizePolyfill');N.apply();i=N.isStringNFC;}else{i=function(s){return s.normalize("NFC")===s;};}q.sap.isStringNFC=i;return q;});
sap.ui.predefine('jquery.sap.xml',['jquery.sap.global','sap/ui/util/XMLHelper'],function(q,X){"use strict";q.sap.parseXML=X.parse;q.sap.serializeXML=function(x){var s="";if(window.ActiveXObject){s=x.xml;if(s){return s;}}if(window.XMLSerializer){return X.serialize(x);}return s;};q.sap.isEqualNode=function(n,N){if(n===N){return true;}if(!n||!N){return false;}if(n.isEqualNode){return n.isEqualNode(N);}if(n.nodeType!=N.nodeType){return false;}if(n.nodeValue!=N.nodeValue){return false;}if(n.baseName!=N.baseName){return false;}if(n.nodeName!=N.nodeName){return false;}if(n.nameSpaceURI!=N.nameSpaceURI){return false;}if(n.prefix!=N.prefix){return false;}if(n.nodeType!=1){return true;}if(n.attributes.length!=N.attributes.length){return false;}for(var i=0;i<n.attributes.length;i++){if(!q.sap.isEqualNode(n.attributes[i],N.attributes[i])){return false;}}if(n.childNodes.length!=N.childNodes.length){return false;}for(var i=0;i<n.childNodes.length;i++){if(!q.sap.isEqualNode(n.childNodes[i],N.childNodes[i])){return false;}}return true;};q.sap.getParseError=X.getParseError;return q;});
sap.ui.predefine('sap/base/security/URLWhitelist',["sap/base/security/URLListValidator"],function(U){"use strict";return{"add":U.add,"delete":U._delete,"clear":U.clear,"entries":U.entries,"validate":U.validate,"_createEntry":function(p,h,a,b){return{protocol:p&&p.toUpperCase(),host:h&&h.toUpperCase(),port:a,path:b};}};});
sap.ui.predefine('sap/base/security/encodeJS',["sap/base/strings/toHex"],function(t){"use strict";var r=/[\x00-\x2b\x2d\x2f\x3a-\x40\x5b-\x5e\x60\x7b-\xff\u2028\u2029]/g,j={};var J=function(c){var E=j[c];if(!E){var C=c.charCodeAt(0);if(C<256){E="\\x"+t(C,2);}else{E="\\u"+t(C,4);}j[c]=E;}return E;};var e=function(s){return s.replace(r,J);};return e;});
sap.ui.predefine('sap/base/strings/NormalizePolyfill',["sap/ui/thirdparty/unorm","sap/ui/thirdparty/unormdata"],function(){"use strict";function apply(){String.prototype.normalize=function(s){switch(s){case'NFC':return nfcQuickCheck(this)?this:UNorm.nfc(this);case'NFD':return UNorm.nfd(this);case'NFKC':return UNorm.nfkc(this);case'NFKD':return UNorm.nfkd(this);default:return nfcQuickCheck(this)?this:UNorm.nfc(this);}};}var mData={};(function(){var N=[[0x0340,0x0341],[0x0343,0x0344],0x374,0x037E,0x387,[0x0958,0x095F],[0x09DC,0x09DD],0x09DF,0x0A33,0x0A36,[0x0A59,0x0A5B],0x0A5E,[0x0B5C,0x0B5D],0x0F43,0x0F4D,0x0F52,0x0F57,0x0F5C,0x0F69,0x0F73,[0x0F75,0x0F76],0x0F78,0x0F81,0x0F93,0x0F9D,0x0FA2,0x0FA7,0x0FAC,0x0FB9,0x1F71,0x1F73,0x1F75,0x1F77,0x1F79,0x1F7B,0x1F7D,0x1FBB,0x1FBE,0x1FC9,0x1FCB,0x1FD3,0x1FDB,0x1FE3,0x1FEB,[0x1FEE,0x1FEF],0x1FF9,0x1FFB,0x1FFD,[0x2000,0x2001],0x2126,[0x212A,0x212B],0x2329,0x232A,0x2ADC,[0xF900,0xFA0D],0xFA10,0xFA12,[0xFA15,0xFA1E],0xFA20,0xFA22,[0xFA25,0xFA26],[0xFA2A,0xFA6D],[0xFA70,0xFAD9],0xFB1D,0xFB1F,[0xFB2A,0xFB36],[0xFB38,0xFB3C],0xFB3E,[0xFB40,0xFB41],[0xFB43,0xFB44],[0xFB46,0xFB4E],[0x1D15E,0x1D164],[0x1D1BB,0x1D1C0],[0x2F800,0x2FA1D],[0x0300,0x0304],[0x0306,0x030C],0x030F,0x311,[0x0313,0x0314],0x031B,[0x0323,0x0328],[0x032D,0x032E],[0x0330,0x0331],0x338,0x342,0x345,[0x0653,0x0655],0x093C,0x09BE,0x09D7,0x0B3E,0x0B56,0x0B57,0x0BBE,0x0BD7,0x0C56,0x0CC2,[0x0CD5,0x0CD6],0x0D3E,0x0D57,0x0DCA,0x0DCF,0x0DDF,0x102E,[0x1161,0x1175],[0x11A8,0x11C2],0x1B35,[0x3099,0x309A],0x110BA,0x11127,0x1133E,0x11357,0x114B0,0x114BA,0x114BD,0x115AF];for(var i=0;i<N.length;i++){if(typeof N[i]=="number"){mData[N[i]]=true;}else{var a=N[i][0];var b=N[i][1];while(a<=b){mData[a++]=true;}}}}());function isHighSurrogate(c){return c>=0xD800&&c<=0xDBFF;}function isLowSurrogate(c){return c>=0xDC00&&c<=0xDFFF;}function getCanonicalClass(cp){var dunit,hash;hash=cp&0xFF00;dunit=UNorm.UChar.udata[hash];if(dunit===undefined){dunit=UNorm.UChar.udata[hash]={};}else if(typeof dunit==="string"){dunit=UNorm.UChar.udata[hash]=eval("("+dunit+")");}return dunit[cp]&&!!dunit[cp][1]?(dunit[cp][1]&0xff):0;}function isNotAllowed(c){return mData[c];}function nfcQuickCheck(s){if(!/^[\u0001-\u00ff]*$/.test(s)){var l=0;for(var i=0;i<s.length;++i){var c=s.charCodeAt(i);if(isHighSurrogate(c)){var n=s.charCodeAt(i+1);if(isLowSurrogate(n)){c=(c-0xD800)*0x400+(n-0xDC00)+0x10000;++i;}}var a=getCanonicalClass(c);if(l>a&&a!==0||isNotAllowed(c)){return false;}l=a;}}return true;}var NormalizePolyfill=Object.create(null);NormalizePolyfill.apply=apply;NormalizePolyfill.isStringNFC=nfcQuickCheck;return NormalizePolyfill;});
sap.ui.predefine('sap/base/strings/hyphenate',[],function(){"use strict";var r=/([A-Z])/g;var h=function(s){return s.replace(r,function(m,c){return"-"+c.toLowerCase();});};return h;});
sap.ui.predefine('sap/base/util/defineCoupledProperty',[],function(){"use strict";var d=function(t,T,s,S){var v=s[S];var p={configurable:true,get:function(){return v;},set:function(_){v=_;}};Object.defineProperty(t,T,p);Object.defineProperty(s,S,p);};return d;});
sap.ui.predefine('sap/base/util/restricted/_castArray',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.castArray;});
sap.ui.predefine('sap/base/util/restricted/_compact',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.compact;});
sap.ui.predefine('sap/base/util/restricted/_debounce',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.debounce;});
sap.ui.predefine('sap/base/util/restricted/_difference',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.difference;});
sap.ui.predefine('sap/base/util/restricted/_differenceBy',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.differenceBy;});
sap.ui.predefine('sap/base/util/restricted/_differenceWith',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.differenceWith;});
sap.ui.predefine('sap/base/util/restricted/_flatMap',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.flatMap;});
sap.ui.predefine('sap/base/util/restricted/_flatMapDeep',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.flatMapDeep;});
sap.ui.predefine('sap/base/util/restricted/_flatMapDepth',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.flatMapDepth;});
sap.ui.predefine('sap/base/util/restricted/_flatten',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.flatten;});
sap.ui.predefine('sap/base/util/restricted/_flattenDeep',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.flattenDeep;});
sap.ui.predefine('sap/base/util/restricted/_flattenDepth',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.flattenDepth;});
sap.ui.predefine('sap/base/util/restricted/_intersection',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.intersection;});
sap.ui.predefine('sap/base/util/restricted/_intersectionBy',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.intersectionBy;});
sap.ui.predefine('sap/base/util/restricted/_intersectionWith',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.intersectionWith;});
sap.ui.predefine('sap/base/util/restricted/_isEqualWith',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.isEqualWith;});
sap.ui.predefine('sap/base/util/restricted/_isNil',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.isNil;});
sap.ui.predefine('sap/base/util/restricted/_max',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.max;});
sap.ui.predefine('sap/base/util/restricted/_merge',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.merge;});
sap.ui.predefine('sap/base/util/restricted/_mergeWith',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.mergeWith;});
sap.ui.predefine('sap/base/util/restricted/_min',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.min;});
sap.ui.predefine('sap/base/util/restricted/_pickBy',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.pickBy;});
sap.ui.predefine('sap/base/util/restricted/_throttle',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.throttle;});
sap.ui.predefine('sap/base/util/restricted/_toArray',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.toArray;});
sap.ui.predefine('sap/base/util/restricted/_union',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.union;});
sap.ui.predefine('sap/base/util/restricted/_unionBy',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.unionBy;});
sap.ui.predefine('sap/base/util/restricted/_unionWith',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.unionWith;});
sap.ui.predefine('sap/base/util/restricted/_uniq',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.uniq;});
sap.ui.predefine('sap/base/util/restricted/_uniqBy',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.uniqBy;});
sap.ui.predefine('sap/base/util/restricted/_uniqWith',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.uniqWith;});
sap.ui.predefine('sap/base/util/restricted/_without',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.without;});
sap.ui.predefine('sap/base/util/restricted/_xor',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.xor;});
sap.ui.predefine('sap/base/util/restricted/_xorBy',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.xorBy;});
sap.ui.predefine('sap/base/util/restricted/_xorWith',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.xorWith;});
sap.ui.predefine('sap/base/util/restricted/_zipObjectDeep',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.zipObjectDeep;});
sap.ui.predefine('sap/m/AccButton',['./Button','./AccButtonRenderer'],function(B,A){"use strict";var a=B.extend("sap.m.AccButton",{metadata:{library:"sap.m",properties:{"tabIndex":{type:"string",defaultValue:null,bindable:"bindable"},"ariaHidden":{type:"string",defaultValue:null,bindable:"bindable"},"ariaHaspopup":{type:"string",defaultValue:null,bindable:"bindable"}}}});return a;});
sap.ui.predefine('sap/m/AccButtonRenderer',["./ButtonRenderer","sap/ui/core/Renderer"],function(B,R){"use strict";var A=R.extend(B);A.apiVersion=2;A.renderAccessibilityAttributes=function(r,c){if(c.getTabIndex()){r.attr("tabindex",c.getTabIndex());}if(c.getAriaHidden()){r.attr("aria-hidden",c.getAriaHidden());}if(c.getAriaHaspopup()){r.attr("aria-haspopup",c.getAriaHaspopup());}};return A;},true);
sap.ui.predefine('sap/m/ActionListItem',['./ListItemBase','./library','./ActionListItemRenderer'],function(L,l,A){"use strict";var a=l.ListMode;var b=l.ListType;var c=L.extend("sap.m.ActionListItem",{metadata:{library:"sap.m",properties:{text:{type:"string",group:"Misc",defaultValue:null}}}});c.prototype.init=function(){this.setType(b.Active);L.prototype.init.apply(this,arguments);};c.prototype.getMode=function(){return a.None;};c.prototype.onsapspace=c.prototype.onsapenter;c.prototype.getContentAnnouncement=function(){return this.getText();};return c;});
sap.ui.predefine('sap/m/ActionListItemRenderer',["./ListItemBaseRenderer","sap/ui/core/Renderer"],function(L,R){"use strict";var A=R.extend(L);A.apiVersion=2;A.renderLIAttributes=function(r,l){r.class("sapMALI");};A.renderLIContent=function(r,l){var t=l.getText();if(t){r.openStart("div").class("sapMALIText").openEnd();r.text(t);r.close("div");}};return A;},true);
sap.ui.predefine('sap/m/ActionSelect',['./Select','sap/ui/core/InvisibleText','sap/ui/Device','sap/ui/core/Core','./ActionSelectRenderer'],function(S,I,D,C,A){"use strict";var a=S.extend("sap.m.ActionSelect",{metadata:{library:"sap.m",associations:{buttons:{type:"sap.m.Button",multiple:true,singularName:"button"}}}});a.prototype.init=function(){S.prototype.init.call(this);this.getList().addEventDelegate({onfocusin:this.onfocusinList},this);};a.prototype.hasContent=function(){return S.prototype.hasContent.call(this)||!!this.getButtons().length;};a.prototype.addContentToFlex=function(){var s=this.getSimpleFixFlex();this.getButtons().forEach(function(b){s.addFlexContent(C.byId(b));});};a.prototype._onBeforeRenderingPopover=function(){S.prototype._onBeforeRenderingPopover.call(this);var p=this.getPicker();p&&p._setAriaRoleApplication(true);this._updateTutorMessage();};a.prototype.onAfterRenderingPicker=function(){S.prototype.onAfterRenderingPicker.call(this);var p=this.getPicker(),r=this.getRenderer();p.addStyleClass(r.CSS_CLASS+"Picker");p.addStyleClass(r.ACTION_SELECT_CSS_CLASS+"Picker");p.addStyleClass(r.ACTION_SELECT_CSS_CLASS+"Picker-CTX");};a.prototype.createPickerCloseButton=function(){};a.prototype.removeButton=function(b){var s=this.getSimpleFixFlex();if(s){if(typeof b==="number"){b=this.getButtons()[b];}s.removeFlexContent(b);}return this.removeAssociation("buttons",b);};a.prototype.removeAllButtons=function(){var s=this.getSimpleFixFlex();if(s){this.getButtons().forEach(function(b){s.removeFlexContent(C.byId(b));});}return this.removeAllAssociation("buttons");};a.prototype.onsaptabprevious=function(e){var b=this.getButtons(),p=this.getPicker(),i;if(e.isMarked()||!this.getEnabled()){return;}e.setMarked();if(p&&p.isOpen()&&b.length>0){for(i=b.length-1;i>=0;i--){if(C.byId(b[i]).getEnabled()){C.byId(b[i]).focus();e.preventDefault();break;}}}};a.prototype.onsaptabnext=function(e){var b=this.getButtons(),p=this.getPicker(),i;this._bProcessChange=false;if(e.isMarked()||!this.getEnabled()){return;}e.setMarked();if(p&&p.isOpen()&&b.length>0){for(i=0;i<b.length;i++){if(C.byId(b[i]).getEnabled()){C.byId(b[i]).focus();e.preventDefault();break;}}}};a.prototype.onsapfocusleave=function(e){var b=this.getButtons();var k=(b.indexOf(e.relatedControlId)===-1);if(k){S.prototype.onsapfocusleave.apply(this,arguments);}this._toggleListFocusIndication(true);};a.prototype.onfocusinList=function(e){if(document.activeElement!==this.getList().getDomRef()&&!D.system.phone){this.focus();}};a.prototype.onfocusin=function(){S.prototype.onfocusin.apply(this,arguments);this._toggleListFocusIndication(false);};a.prototype._toggleListFocusIndication=function(r){var s=this.getSelectedItem();if(this.isOpen()&&s){s.$().toggleClass("sapMActionSelectItemWithoutFocus",r);}};a.prototype._updateTutorMessage=function(){var p=this.getPicker(),b=p.getAriaLabelledBy(),h=!!this.getButtons().length,t;if(!this._sTutorMessageId){this._sTutorMessageId=this._getTutorMessageId();this._oTutorMessageText=new I(this._sTutorMessageId,{text:C.getLibraryResourceBundle("sap.m").getText("ACTION_SELECT_TUTOR_MESSAGE")}).toStatic();}t=(b.indexOf(this._sTutorMessageId)===-1);if(t&&h){p.addAriaLabelledBy(this._sTutorMessageId);}else{if(!h){p.removeAriaLabelledBy(this._sTutorMessageId);}}};a.prototype._getTutorMessageId=function(){return this.getId()+"-tutorMessage";};a.prototype.exit=function(){if(this._oTutorMessageText){this._oTutorMessageText.destroy();this._oTutorMessageText=null;}};return a;});
sap.ui.predefine('sap/m/ActionSelectRenderer',['sap/ui/core/Renderer','./SelectRenderer'],function(R,S){"use strict";var A=R.extend(S);A.ACTION_SELECT_CSS_CLASS="sapMActionSelect";A.apiVersion=2;A.addClass=function(r,a){r.class(A.ACTION_SELECT_CSS_CLASS);};return A;},true);
sap.ui.predefine('sap/m/ActionSheet',['./Dialog','./Popover','./library','sap/ui/core/Control','sap/ui/core/delegate/ItemNavigation','sap/ui/core/InvisibleText','sap/ui/Device','./ActionSheetRenderer','./Button',"sap/ui/thirdparty/jquery"],function(D,P,l,C,I,a,b,A,B,q){"use strict";var c=l.ButtonType;var d=l.DialogType;var e=l.PlacementType;var f=C.extend("sap.m.ActionSheet",{metadata:{library:"sap.m",properties:{placement:{type:"sap.m.PlacementType",group:"Appearance",defaultValue:e.Bottom},showCancelButton:{type:"boolean",group:"Appearance",defaultValue:true},cancelButtonText:{type:"string",group:"Appearance",defaultValue:null},title:{type:"string",group:"Appearance",defaultValue:null}},aggregations:{buttons:{type:"sap.m.Button",multiple:true,singularName:"button"},_cancelButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_invisibleAriaTexts:{type:"sap.ui.core.InvisibleText",multiple:true,visibility:"hidden"}},defaultAggregation:"buttons",events:{cancelButtonTap:{deprecated:true},beforeOpen:{},afterOpen:{},beforeClose:{parameters:{origin:{type:"sap.m.Button"}}},afterClose:{parameters:{origin:{type:"sap.m.Button"}}},cancelButtonPress:{}},designtime:"sap/m/designtime/ActionSheet.designtime"}});f.prototype.init=function(){this._fnOrientationChange=this._orientationChange.bind(this);this._actionSelected=null;};f.prototype.exit=function(){b.resize.detachHandler(this._fnOrientationChange);if(this._parent){this._parent.destroy();this._parent=null;}if(this._oCancelButton){this._oCancelButton.destroy();this._oCancelButton=null;}this._clearItemNavigation();};f.prototype._clearItemNavigation=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation;}};f.prototype._setItemNavigation=function(){var g=this._getAllButtons(),h=[],o=this.getDomRef();if(o){this._oItemNavigation.setRootDomRef(o);for(var i=0;i<g.length;i++){if(g[i].getEnabled()&&g[i].getVisible()){h.push(g[i].getFocusDomRef());}}if(this._oCancelButton){h.push(this._oCancelButton.getFocusDomRef());}this._oItemNavigation.setItemDomRefs(h);this._oItemNavigation.setSelectedIndex(0);this._oItemNavigation.setPageSize(5);this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"]});}};f.prototype.onmousedown=function(E){if(E.srcControl.isA("sap.m.Button")&&this.getButtons().indexOf(E.srcControl)!==-1){this._actionSelected=E.srcControl;}};f.prototype.onBeforeRendering=function(){var t,p;this._clearItemNavigation();t=this.getTitle();if(this._parent&&!this.isPropertyInitial("title")&&this._parent.getTitle()!==t){if(b.system.phone){this._parent.setTitle(t);this._parent.setShowHeader(!!t);}if(t){this._parent.addStyleClass("sapMActionSheetDialogWithTitle");}else{this._parent.removeStyleClass("sapMActionSheetDialogWithTitle");}}p=this.getPlacement();if(this._parent&&!b.system.phone&&!this.isPropertyInitial("placement")&&this._parent.setPlacement()!==p){this._parent.setPlacement(p);}};f.prototype.onAfterRendering=function(){this._oItemNavigation=new I();this._oItemNavigation.setCycling(false);this.addDelegate(this._oItemNavigation);this._setItemNavigation();};f.prototype.sapfocusleave=function(){this.close();};f.prototype.openBy=function(o){var t=this;if(!this._parent){var O=this.getParent();if(O){this.setParent(null);}if(!b.system.phone){this._parent=new P({placement:this.getPlacement(),showHeader:false,content:[this],beforeOpen:function(){t.fireBeforeOpen();},afterOpen:function(){t.focus();t.fireAfterOpen();},beforeClose:function(){t.fireBeforeClose();},afterClose:function(){if(t.getShowCancelButton()){t.fireCancelButtonTap();t.fireCancelButtonPress();}t._onAfterClose(t._actionSelected);t._actionSelected=null;},ariaLabelledBy:this.getPopupHiddenLabelId()||undefined}).addStyleClass("sapMActionSheetPopover");this._parent._setAriaRoleApplication(true);if(b.browser.internet_explorer){this._parent._fnAdjustPositionAndArrow=q.proxy(function(){P.prototype._adjustPositionAndArrow.apply(this);var $=this.$(),g=$.children(".sapMPopoverCont")[0].getBoundingClientRect().width;q.each($.find(".sapMActionSheet > .sapMBtn"),function(i,h){var j=q(h),k;j.css("width","");k=h.getBoundingClientRect().width;if(k<=g){j.css("width","100%");}});},this._parent);}}else{this._parent=new D({title:this.getTitle(),type:d.Standard,content:[this],beforeOpen:function(){t.fireBeforeOpen();},afterOpen:function(){t.focus();t.fireAfterOpen();},beforeClose:function(E){t.fireBeforeClose({origin:E.getParameter("origin")});},afterClose:function(E){t._actionSelected=E.getParameter("origin");t._onAfterClose(t._actionSelected);t._actionSelected=null;b.resize.detachHandler(t._fnOrientationChange);}}).addStyleClass("sapMActionSheetDialog");if(this.getTitle()){this._parent.addStyleClass("sapMActionSheetDialogWithTitle");}else{this._parent.addAriaLabelledBy(this.getPopupHiddenLabelId()||undefined);}if(!b.system.phone){this._parent.setBeginButton(this._getCancelButton());}if(b.system.phone){this._parent.oPopup.setModal(true);this._parent._setDimensions=function(){D.prototype._setDimensions.apply(this);this.$("cont").css("max-height","");};this._parent._adjustScrollingPane=function(){var h=this.$().height();this.$("cont").css("max-height",h);if(this._oScroller){this._oScroller.refresh();}};}}if(O){O.addDependent(this._parent);}}if(!b.system.phone){this._parent.openBy(o);}else{this._parent.open();b.resize.attachHandler(this._fnOrientationChange);}};f.prototype.close=function(){if(this._parent){this._parent.close();}};f.prototype.isOpen=function(){return!!this._parent&&this._parent.isOpen();};f.prototype._createCancelButton=function(){if(!this._oCancelButton){var s=(this.getCancelButtonText())?this.getCancelButtonText():sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACTIONSHEET_CANCELBUTTON_TEXT"),t=this;this._oCancelButton=new B(this.getId()+'-cancelBtn',{text:s,type:c.Reject,press:function(){if(b.system.phone&&t._parent){t._parent._oCloseTrigger=this;}t.close();t.fireCancelButtonTap();t.fireCancelButtonPress();}}).addStyleClass("sapMActionSheetButton sapMActionSheetCancelButton sapMBtnTransparent sapMBtnInverted");if(b.system.phone){this.setAggregation("_cancelButton",this._oCancelButton,true);}}return this;};f.prototype._getCancelButton=function(){if(b.system.phone&&this.getShowCancelButton()){this._createCancelButton();return this._oCancelButton;}return null;};f.prototype.setCancelButtonText=function(t){this.setProperty("cancelButtonText",t,true);if(this._oCancelButton){this._oCancelButton.setText(t);}return this;};f.prototype._preProcessActionButton=function(o){var t=o.getType();if(t!==c.Accept&&t!==c.Reject){o.setType(c.Transparent);}o.addStyleClass("sapMBtnInverted");if(!o.getIcon()){o.addStyleClass("sapMActionSheetButtonNoIcon");}o.addStyleClass("sapMActionSheetButton");this._parent&&this._parent.invalidate();return this;};f.prototype._buttonSelected=function(){if(b.system.phone&&this._parent){this._parent._oCloseTrigger=this;}this.close();};f.prototype._orientationChange=function(){this._parent._adjustScrollingPane();};f.prototype._addAriaHiddenTexts=function(o){var s=o.getId(),i;if(sap.ui.getCore().getConfiguration().getAccessibility()){i=new a(s+"-actionSheetHiddenText");this.addAggregation("_invisibleAriaTexts",i,false);o.addAriaLabelledBy(i.getId());}};f.prototype._removeAriaHiddenTexts=function(o){o.getAriaLabelledBy().forEach(function(i){var g=sap.ui.getCore().byId(i);if(g instanceof a&&i.indexOf("actionSheetHiddenText")>-1){this.removeAggregation("_invisibleAriaTexts",g,false);o.removeAriaLabelledBy(g);g.destroy();}},this);};f.prototype.addButton=function(o){this.addAggregation("buttons",o,false);this._addAriaHiddenTexts(o);this._preProcessActionButton(o);o.attachPress(this._buttonSelected,this);return this;};f.prototype.insertButton=function(o,i){this.insertAggregation("buttons",o,i,false);this._addAriaHiddenTexts(o);this._preProcessActionButton(o);o.attachPress(this._buttonSelected,this);return this;};f.prototype.removeButton=function(o){var r=this.removeAggregation("buttons",o,false);if(r){r.detachPress(this._buttonSelected,this);this._removeAriaHiddenTexts(r);}return r;};f.prototype.removeAllButtons=function(){var r=this.removeAllAggregation("buttons",false),t=this;q.each(r,function(i,o){o.detachPress(t._buttonSelected,t);t._removeAriaHiddenTexts(o);});return r;};f.prototype.clone=function(){var g=this.getButtons();for(var i=0;i<g.length;i++){g[i].detachPress(this._buttonSelected,this);}var o=C.prototype.clone.apply(this,arguments);for(var j=0;j<g.length;j++){g[j].attachPress(this._buttonSelected,this);}return o;};f.prototype._getAllButtons=function(){return this.getButtons();};f.prototype.getPopupHiddenLabelId=function(){return a.getStaticId("sap.m","ACTIONSHEET_AVAILABLE_ACTIONS");};f.prototype._applyContextualSettings=function(){C.prototype._applyContextualSettings.call(this);};f.prototype._onAfterClose=function(o){this.fireAfterClose({origin:o});};return f;});
sap.ui.predefine('sap/m/ActionSheetRenderer',["sap/ui/Device"],function(D){"use strict";var A={apiVersion:2};A.render=function(r,c){var a=c._getAllButtons(),I=c.getAggregation("_invisibleAriaTexts"),R=sap.ui.getCore().getLibraryResourceBundle('sap.m'),b=a.length,d=sap.ui.getCore().getConfiguration().getAccessibility(),v=a.filter(function(B){return B.getVisible();}).length,C,i,m,B,V=1,g=function(o){return I.filter(function(e){return e.getId().indexOf(o.getId())>-1;})[0];};for(i=0;i<b;i++){B=a[i];if(B.getIcon()&&B.getVisible()){m=true;}}r.openStart("div",c);r.class("sapMActionSheet");if(m){r.class("sapMActionSheetMixedButtons");}var t=c.getTooltip_AsString();if(t){r.attr("title",t);}d&&r.attr("role","presentation");r.openEnd();for(i=0;i<b;i++){B=a[i];r.renderControl(a[i]);if(d&&B.getVisible()){C=g(B);if(C){C.setText(R.getText('ACTIONSHEET_BUTTON_INDEX',[V,v]));r.renderControl(C);}V++;}}if(D.system.phone&&c.getShowCancelButton()){r.renderControl(c._getCancelButton());}r.close("div");};return A;},true);
sap.ui.predefine('sap/m/Breadcrumbs',["sap/ui/core/Control","sap/ui/util/openWindow","sap/m/Text","sap/m/Link","sap/m/Select","sap/ui/core/Item","sap/ui/core/delegate/ItemNavigation","sap/ui/core/ResizeHandler","sap/ui/core/IconPool","sap/ui/Device","sap/m/library","./BreadcrumbsRenderer",'sap/ui/base/ManagedObject'],function(C,o,T,L,S,I,a,R,b,D,l,B,M){"use strict";var c=l.SelectType,d=l.BreadcrumbsSeparatorStyle;var e=C.extend("sap.m.Breadcrumbs",{metadata:{library:"sap.m",interfaces:["sap.m.IBreadcrumbs"],designtime:"sap/m/designtime/Breadcrumbs.designtime",properties:{currentLocationText:{type:"string",group:"Behavior",defaultValue:null},separatorStyle:{type:"sap.m.BreadcrumbsSeparatorStyle",group:"Appearance",defaultValue:d.Slash}},aggregations:{links:{type:"sap.m.Link",multiple:true,singularName:"link"},_currentLocation:{type:"sap.m.Text",multiple:false,visibility:"hidden"},_select:{type:"sap.m.Select",multiple:false,visibility:"hidden"}},defaultAggregation:"links"}});e.STYLE_MAPPER={Slash:"/",BackSlash:"\\",DoubleSlash:"//",DoubleBackSlash:"\\\\",GreaterThan:">",DoubleGreaterThan:">>"};e.prototype.init=function(){this._sSeparatorSymbol=e.STYLE_MAPPER[this.getSeparatorStyle()];};e.prototype.onBeforeRendering=function(){this.bRenderingPhase=true;if(this._sResizeListenerId){R.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}if(this._bControlsInfoCached){this._updateSelect(true);}};e.prototype.onAfterRendering=function(){if(!this._sResizeListenerId){this._sResizeListenerId=R.register(this,this._handleScreenResize.bind(this));}if(!this._bControlsInfoCached){this._updateSelect(true);return;}this._configureKeyboardHandling();this.bRenderingPhase=false;};e.prototype.onThemeChanged=function(){this._resetControl();};e.prototype.exit=function(){this._resetControl();this._destroyItemNavigation();};e.PAGEUP_AND_PAGEDOWN_JUMP_SIZE=5;e.prototype._getAugmentedId=function(s){return this.getId()+"-"+s;};e.prototype._getSelect=function(){if(!this.getAggregation("_select")){this.setAggregation("_select",this._decorateSelect(new S({id:this._getAugmentedId("select"),change:this._selectChangeHandler.bind(this),forceSelection:false,autoAdjustWidth:true,icon:b.getIconURI("slim-arrow-down"),type:c.IconOnly,tooltip:B._getResourceBundleText("BREADCRUMB_SELECT_TOOLTIP")})),true);}return this.getAggregation("_select");};e.prototype._getCurrentLocation=function(){if(!this.getAggregation("_currentLocation")){var h=new T({id:this._getAugmentedId("currentText"),text:this.getCurrentLocationText(),wrapping:false}).addStyleClass("sapMBreadcrumbsCurrentLocation");h.addEventDelegate({onAfterRendering:function(){h.$().attr("aria-current","page");}});this.setAggregation("_currentLocation",h).addStyleClass("sapMBreadcrumbsCurrentLocation");}return this.getAggregation("_currentLocation");};function f(A,h){var i=Array.prototype.slice.apply(h);i.unshift(A);return i;}e.prototype.insertLink=function(h,i){var r=this.insertAggregation.apply(this,f("links",arguments));this._registerControlListener(h);this._resetControl();return r;};e.prototype.addLink=function(h){var r=this.addAggregation.apply(this,f("links",arguments));this._registerControlListener(h);this._resetControl();return r;};e.prototype.removeLink=function(O){var r=this.removeAggregation.apply(this,f("links",arguments));this._deregisterControlListener(r);this._resetControl();return r;};e.prototype.removeAllLinks=function(){var h=this.getAggregation("links",[]);var r=this.removeAllAggregation.apply(this,f("links",arguments));h.forEach(this._deregisterControlListener,this);this._resetControl();return r;};e.prototype.destroyLinks=function(){var h=this.getAggregation("links",[]);var r=this.destroyAggregation.apply(this,f("links",arguments));h.forEach(this._deregisterControlListener,this);this._resetControl();return r;};e.prototype._decorateSelect=function(s){s.getPicker().attachAfterOpen(this._removeItemNavigation,this).attachBeforeClose(this._restoreItemNavigation,this);s._onBeforeOpenDialog=this._onSelectBeforeOpenDialog.bind(this);s._onBeforeOpenPopover=this._onSelectBeforeOpenPopover.bind(this);s.onsapescape=this._onSelectEscPress.bind(this);return s;};e.prototype._removeItemNavigation=function(){this.removeDelegate(this._getItemNavigation());};e.prototype._onSelectBeforeOpenDialog=function(){var s=this._getSelect();if(this.getCurrentLocationText()&&D.system.phone){s.setSelectedIndex(0);}else{s.setSelectedItem(null);}S.prototype._onBeforeOpenDialog.call(s);this._removeItemNavigation();};e.prototype._onSelectBeforeOpenPopover=function(){this._getSelect().setSelectedItem(null);this._removeItemNavigation();};e.prototype._restoreItemNavigation=function(){this.addDelegate(this._getItemNavigation());};e.prototype._onSelectEscPress=function(){this._getSelect().close();};e.prototype._createSelectItem=function(i){return new I({key:i.getId(),text:M.escapeSettingsValue(i.getText())});};e.prototype._selectChangeHandler=function(E){var h,s,i,j=E.getParameter("selectedItem");if(!j){return;}if(!this._getSelect().isOpen()){return;}h=sap.ui.getCore().byId(j.getKey());if(!(h instanceof L)){return;}s=h.getHref();i=h.getTarget();h.firePress();if(s){if(i){o(s,i);}else{window.location.href=s;}}};e.prototype._getItemsForMobile=function(){var i=this.getLinks();if(this.getCurrentLocationText()){i.push(this._getCurrentLocation());}return i;};e.prototype._updateSelect=function(i){var s=this._getSelect(),h,j=this._getControlDistribution();if(!this._bControlDistributionCached||i){s.destroyItems();h=D.system.phone?this._getItemsForMobile():j.aControlsForSelect;h.map(this._createSelectItem).reverse().forEach(s.insertItem,s);this._bControlDistributionCached=true;this.invalidate(this);}s.setVisible(!!j.aControlsForSelect.length);if(!this._sResizeListenerId&&!this.bRenderingPhase){this._sResizeListenerId=R.register(this,this._handleScreenResize.bind(this));}};e.prototype._getControlsForBreadcrumbTrail=function(){var v;if(this._bControlDistributionCached&&this._oDistributedControls){return this._oDistributedControls.aControlsForBreadcrumbTrail;}v=this.getLinks().filter(function(h){return h.getVisible();});if(this.getCurrentLocationText()){return v.concat([this._getCurrentLocation()]);}return v;};e.prototype._getControlInfo=function(h){return{id:h.getId(),control:h,width:g(h.$().parent()),bCanOverflow:h instanceof L};};e.prototype._getControlDistribution=function(m){m=m||this._iContainerSize;this._iContainerSize=m;this._oDistributedControls=this._determineControlDistribution(m);return this._oDistributedControls;};e.prototype._getSelectWidth=function(){return this._getSelect().getVisible()&&this._iSelectWidth||0;};e.prototype._determineControlDistribution=function(m){var i,h,j=this._getControlsInfo().aControlInfo,s=this._getSelectWidth(),k=[],n=[],u=s;for(i=j.length-1;i>=0;i--){h=j[i];u+=h.width;if(j.length-1===i){n.push(h.control);continue;}if(i===0){u-=s;}if(u>m&&h.bCanOverflow){k.unshift(h.control);}else{n.unshift(h.control);}}return{aControlsForBreadcrumbTrail:n,aControlsForSelect:k};};e.prototype._getControlsInfo=function(){if(!this._bControlsInfoCached){this._iSelectWidth=g(this._getSelect().$().parent())||0;this._aControlInfo=this._getControlsForBreadcrumbTrail().map(this._getControlInfo);this._iContainerSize=Math.ceil(g(this.$()));this._bControlsInfoCached=true;}return{aControlInfo:this._aControlInfo,iSelectWidth:this._iSelectWidth,iContentSize:this._iContainerSize};};e.prototype._handleScreenResize=function(E){var i,h,j;if(E.size.width===E.oldSize.width||E.size.width===0){return this;}i=this._oDistributedControls.aControlsForBreadcrumbTrail.length;h=this._getControlDistribution(Math.ceil(g(this.$())));j=h.aControlsForBreadcrumbTrail.length;if(i!==j){this._updateSelect(true);}return this;};e.prototype._getItemsToNavigate=function(){var i=this._getControlsForBreadcrumbTrail().slice(),s=this._getSelect();if(s.getVisible()){i.unshift(s);}return i;};e.prototype._getItemNavigation=function(){if(!this._itemNavigation){this._itemNavigation=new a();}return this._itemNavigation;};e.prototype._destroyItemNavigation=function(){if(this._itemNavigation){this.removeEventDelegate(this._itemNavigation);this._itemNavigation.destroy();this._itemNavigation=null;}};e.prototype._configureKeyboardHandling=function(){var i=this._getItemNavigation(),s=-1,h=this._getItemsToNavigate(),n=[];if(h.length===0){return;}h.forEach(function(j,k){if(k===0){j.$().attr("tabindex","0");}j.$().attr("tabindex","-1");n.push(j.getDomRef());});this.addDelegate(i);i.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});i.setCycling(false);i.setPageSize(e.PAGEUP_AND_PAGEDOWN_JUMP_SIZE);i.setRootDomRef(this.getDomRef());i.setItemDomRefs(n);i.setSelectedIndex(s);return this;};e.prototype._registerControlListener=function(h){if(h){h.attachEvent("_change",this._resetControl,this);}};e.prototype._deregisterControlListener=function(h){if(h){h.detachEvent("_change",this._resetControl,this);}};e.prototype.setCurrentLocationText=function(t){var h=this._getCurrentLocation(),r=this.setProperty("currentLocationText",t,true);if(h.getText()!==t){h.setText(t);this._resetControl();}return r;};e.prototype.setSeparatorStyle=function(s){this.setProperty("separatorStyle",s);var h=e.STYLE_MAPPER[this.getSeparatorStyle()];if(h){this._sSeparatorSymbol=h;}return this;};e.prototype._resetControl=function(){this._aControlInfo=null;this._iContainerSize=null;this._bControlsInfoCached=null;this._bControlDistributionCached=null;this._oDistributedControls=null;if(this._sResizeListenerId){R.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}this.removeDelegate(this._getItemNavigation());this.invalidate(this);return this;};function g($){var m;if($.length){m=$.outerWidth(true)-$.outerWidth();return $.get(0).getBoundingClientRect().width+m;}}return e;});
sap.ui.predefine('sap/m/BreadcrumbsRenderer',["sap/m/Text"],function(T){"use strict";var B={apiVersion:2};var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");B.render=function(R,c){var C=c._getControlsForBreadcrumbTrail(),s=c._getSelect(),S=c._sSeparatorSymbol;R.openStart("nav",c);R.class("sapMBreadcrumbs");R.attr("aria-label",B._getResourceBundleText("BREADCRUMB_LABEL"));R.openEnd();R.openStart("ol");R.openEnd();if(s.getVisible()){this._renderControlInListItem(R,s,S,false,"sapMBreadcrumbsSelectItem");}C.forEach(function(o){this._renderControlInListItem(R,o,S,o instanceof T);},this);R.close("ol");R.close("nav");};B._renderControlInListItem=function(R,c,s,S,a){R.openStart("li");R.class("sapMBreadcrumbsItem");R.class(a);R.openEnd();R.renderControl(c);if(!S){R.openStart("span").class("sapMBreadcrumbsSeparator").openEnd().text(s).close("span");}R.close("li");};B._getResourceBundleText=function(t){return r.getText(t);};return B;},true);
sap.ui.predefine('sap/m/BusyDialog',['./library','sap/ui/core/Control','sap/m/Dialog','sap/m/BusyIndicator','sap/m/Label','sap/m/Button',"sap/base/Log",'sap/ui/core/Core'],function(l,C,D,B,L,a,b,c){"use strict";var T=l.TitleAlignment;var d=C.extend("sap.m.BusyDialog",{metadata:{library:"sap.m",properties:{text:{type:"string",group:"Appearance",defaultValue:''},title:{type:"string",group:"Appearance",defaultValue:''},customIcon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:''},customIconRotationSpeed:{type:"int",group:"Appearance",defaultValue:1000},customIconDensityAware:{type:"boolean",defaultValue:true},customIconWidth:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"44px"},customIconHeight:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"44px"},cancelButtonText:{type:"string",group:"Misc",defaultValue:''},showCancelButton:{type:"boolean",group:"Appearance",defaultValue:false},titleAlignment:{type:"sap.m.TitleAlignment",group:"Misc",defaultValue:T.Auto}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{close:{parameters:{cancelPressed:{type:"boolean"}}}},designtime:"sap/m/designtime/BusyDialog.designtime"},renderer:{apiVersion:2,render:function(r,o){}}});d.prototype.init=function(){this._busyIndicator=new B(this.getId()+'-busyInd',{visible:true});this._oDialog=new D(this.getId()+'-Dialog',{content:this._busyIndicator,titleAlignment:this.getTitleAlignment(),showHeader:false,afterClose:this._fnCloseHandler.bind(this),initialFocus:this._busyIndicator.getId()+'-busyIndicator'}).addStyleClass('sapMBusyDialog');this._oDialog.close=function(){};this._oDialog.addEventDelegate({onBeforeRendering:function(){var t=this.getText(),e=this.getTitle(),s=this.getShowCancelButton()||this.getCancelButtonText();if(!t&&!e&&!s){this._oDialog.addStyleClass('sapMBusyDialog-Light');}else{this._oDialog.removeStyleClass('sapMBusyDialog-Light');}}},this);this._oDialog.oPopup.onsapescape=function(e){this.close(true);}.bind(this);};d.prototype.exit=function(){this._busyIndicator.destroy();this._busyIndicator=null;if(this._cancelButton){this._cancelButton.destroy();this._cancelButton=null;}if(this._oLabel){this._oLabel.destroy();this._oLabel=null;}if(this._oDialog){this._oDialog.destroy();this._oDialog=null;}};d.prototype.open=function(){b.debug("sap.m.BusyDialog.open called at "+new Date().getTime());if(this.getAriaLabelledBy()&&!this._oDialog._$dialog){var t=this;this.getAriaLabelledBy().forEach(function(i){t._oDialog.addAriaLabelledBy(i);});}if(!document.body||!c.isInitialized()){setTimeout(function(){this.open();}.bind(this),50);}else{this._oDialog.open();}return this;};d.prototype.close=function(i){this._isClosedFromUserInteraction=i;D.prototype.close.call(this._oDialog);return this;};d.prototype._fnCloseHandler=function(){this.fireClose({cancelPressed:this._isClosedFromUserInteraction||false});};d.prototype.setTitle=function(t){this.setProperty('title',t,true);this._oDialog.setTitle(t).setShowHeader(!!t);return this;};d.prototype.setTitleAlignment=function(A){this.setProperty("titleAlignment",A,true);if(this._oDialog){this._oDialog.setTitleAlignment(A);}return this;};d.prototype.setTooltip=function(t){this._oDialog.setTooltip(t);return this;};d.prototype.getTooltip=function(){return this._oDialog.getTooltip();};d.prototype.setText=function(t){this.setProperty('text',t,true);if(!this._oLabel){if(t){this._oLabel=new L(this.getId()+'-TextLabel',{text:t}).addStyleClass('sapMBusyDialogLabel');this._oDialog.insertAggregation('content',this._oLabel,0);this._oDialog.addAriaLabelledBy(this._oLabel.getId());}}else{if(t){this._oLabel.setText(t).setVisible(true);}else{this._oLabel.setVisible(false);}}return this;};d.prototype.setCustomIcon=function(i){this.setProperty("customIcon",i,true);this._busyIndicator.setCustomIcon(i);return this;};d.prototype.setCustomIconRotationSpeed=function(s){this.setProperty("customIconRotationSpeed",s,true);this._busyIndicator.setCustomIconRotationSpeed(s);return this;};d.prototype.setCustomIconDensityAware=function(i){this.setProperty("customIconDensityAware",i,true);this._busyIndicator.setCustomIconDensityAware(i);return this;};d.prototype.setCustomIconWidth=function(w){this.setProperty("customIconWidth",w,true);this._busyIndicator.setCustomIconWidth(w);return this;};d.prototype.setCustomIconHeight=function(h){this.setProperty("customIconHeight",h,true);this._busyIndicator.setCustomIconHeight(h);return this;};d.prototype.setShowCancelButton=function(i){this.setProperty("showCancelButton",i,false);if(i){this._oDialog.setEndButton(this._getCancelButton());}else{this._destroyTheCancelButton();}return this;};d.prototype.setCancelButtonText=function(t){this.setProperty("cancelButtonText",t,false);if(t){this._getCancelButton().setText(t);this._oDialog.setEndButton(this._getCancelButton());}else{this._destroyTheCancelButton();}return this;};d.prototype.getDomRef=function(){return this._oDialog&&this._oDialog.getDomRef();};["addStyleClass","removeStyleClass","toggleStyleClass","hasStyleClass"].forEach(function(A){d.prototype[A]=function(){if(this._oDialog&&this._oDialog[A]){this._oDialog[A].apply(this._oDialog,arguments);return this;}};});d.prototype._destroyTheCancelButton=function(){this._oDialog.destroyEndButton();this._cancelButton=null;};d.prototype._getCancelButton=function(){var e=this.getCancelButtonText();e=e?e:c.getLibraryResourceBundle("sap.m").getText("BUSYDIALOG_CANCELBUTTON_TEXT");return this._cancelButton?this._cancelButton:this._cancelButton=new a(this.getId()+'busyCancelBtn',{text:e,press:function(){this.close(true);}.bind(this)});};return d;});
sap.ui.predefine('sap/m/Carousel',["./library","sap/ui/core/Core","sap/ui/core/Control","sap/ui/Device","sap/ui/core/ResizeHandler","sap/ui/core/library","sap/m/MessagePage","sap/ui/core/theming/Parameters","sap/ui/dom/units/Rem","./CarouselRenderer","./CarouselLayout","sap/ui/events/KeyCodes","sap/base/Log","sap/ui/events/F6Navigation","sap/ui/thirdparty/jquery","sap/ui/thirdparty/mobify-carousel","sap/ui/core/IconPool"],function(l,C,a,D,R,c,M,P,b,d,f,K,L,F,q){"use strict";var B=c.BusyIndicatorSize;var I=l.ImageHelper;var g=l.CarouselArrowsPlacement;var h=l.PlacementType;var j=a.extend("sap.m.Carousel",{metadata:{library:"sap.m",designtime:"sap/m/designtime/Carousel.designtime",properties:{height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},loop:{type:"boolean",group:"Misc",defaultValue:false},showPageIndicator:{type:"boolean",group:"Appearance",defaultValue:true},pageIndicatorPlacement:{type:"sap.m.PlacementType",group:"Appearance",defaultValue:h.Bottom},showBusyIndicator:{type:"boolean",group:"Appearance",defaultValue:true,deprecated:true},arrowsPlacement:{type:"sap.m.CarouselArrowsPlacement",group:"Appearance",defaultValue:g.Content}},defaultAggregation:"pages",aggregations:{pages:{type:"sap.ui.core.Control",multiple:true,singularName:"page"},customLayout:{type:"sap.m.CarouselLayout",multiple:false}},associations:{activePage:{type:"sap.ui.core.Control",multiple:false}},events:{loadPage:{deprecated:true,parameters:{pageId:{type:"string"}}},unloadPage:{deprecated:true,parameters:{pageId:{type:"string"}}},pageChanged:{parameters:{oldActivePageId:{type:"string"},newActivePageId:{type:"string"},activePages:{type:"array"}}},beforePageChanged:{parameters:{activePages:{type:"array"}}}}}});j._INNER_SELECTOR=".sapMCrslInner";j._PAGE_INDICATOR_SELECTOR=".sapMCrslBulleted";j._PAGE_INDICATOR_ARROWS_SELECTOR=".sapMCrslIndicatorArrow";j._CONTROLS=".sapMCrslControls";j._ITEM_SELECTOR=".sapMCrslItem";j._LEFTMOST_CLASS="sapMCrslLeftmost";j._RIGHTMOST_CLASS="sapMCrslRightmost";j._LATERAL_CLASSES="sapMCrslLeftmost sapMCrslRightmost";j._MODIFIERNUMBERFORKEYBOARDHANDLING=10;j._BULLETS_TO_NUMBERS_THRESHOLD=9;j._PREVIOUS_CLASS_ARROW="sapMCrslPrev";j._NEXT_CLASS_ARROW="sapMCrslNext";j.prototype.init=function(){this._fnAdjustAfterResize=function(){var $=this.$().find(j._INNER_SELECTOR);this._oMobifyCarousel.resize($);this._setWidthOfPages(this._getNumberOfItemsToShow());}.bind(this);this._aOrderOfFocusedElements=[];this._aAllActivePages=[];this._aAllActivePagesIndexes=[];this._onBeforePageChangedRef=this._onBeforePageChanged.bind(this);this._onAfterPageChangedRef=this._onAfterPageChanged.bind(this);this.data("sap-ui-fastnavgroup","true",true);this._oRb=C.getLibraryResourceBundle("sap.m");};j.prototype.exit=function(){if(this._oMobifyCarousel){this._oMobifyCarousel.destroy();delete this._oMobifyCarousel;}if(this._oArrowLeft){this._oArrowLeft.destroy();delete this._oArrowLeft;}if(this._oArrowRight){this._oArrowRight.destroy();delete this._oArrowRight;}if(this._sResizeListenerId){R.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}if(this.oMessagePage){this.oMessagePage.destroy();this.oMessagePage=null;}this.$().off('afterSlide');this._fnAdjustAfterResize=null;this._$InnerDiv=null;this._aOrderOfFocusedElements=null;this._aAllActivePages=null;this._aAllActivePagesIndexes=null;};j.prototype.ontouchstart=function(e){if(this._oMobifyCarousel){if(e.target instanceof HTMLImageElement){e.preventDefault();}this._oMobifyCarousel.touchstart(e);}};j.prototype.ontouchmove=function(e){if(this._oMobifyCarousel){this._oMobifyCarousel.touchmove(e);}};j.prototype.ontouchend=function(e){if(this._oMobifyCarousel){if(this._oMobifyCarousel.hasActiveTransition()){this._oMobifyCarousel.onTransitionComplete();}this._oMobifyCarousel.touchend(e);}};j.prototype.onBeforeRendering=function(){var A=this.getActivePage();if(!A&&this.getPages().length>0){this.setAssociation("activePage",this.getPages()[0].getId(),true);}if(this._sResizeListenerId){R.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}this.$().off('beforeSlide',this._onBeforePageChangedRef);this.$().off('afterSlide',this._onAfterPageChangedRef);this.$().find(".sapMCrslItemTableCell").off("focus");return this;};j.prototype._getNumberOfItemsToShow=function(){var p=this.getPages().length,o=this.getCustomLayout(),n=1;if(o&&o.isA("sap.m.CarouselLayout")){n=Math.max(o.getVisiblePagesCount(),1);}if(n>1&&p<n){return p;}return n;};j.prototype.onAfterRendering=function(){if(this._oMobifyCarousel){this._oMobifyCarousel.unbind();setTimeout(function(){if(this._oMobifyCarousel){this._oMobifyCarousel.onTransitionComplete();}}.bind(this),0);}var n=this._getNumberOfItemsToShow();this.$().carousel(undefined,{numberOfItemsToShow:n});this._oMobifyCarousel=this.getDomRef()._carousel;this._oMobifyCarousel.setLoop(this.getLoop());this._oMobifyCarousel.setRTL(C.getConfiguration().getRTL());if(n>1){this._setWidthOfPages(n);}var A=this.getActivePage();if(A){this._updateActivePages(A);var i=this._getPageNumber(A);if(isNaN(i)||i==0){if(this.getPages().length>0){this.setAssociation("activePage",this.getPages()[0].getId(),true);this._adjustHUDVisibility(1);}}else{if(C.isThemeApplied()){this._moveToPage(i+1);}else{C.attachThemeChanged(this._handleThemeLoad,this);}if(this.getParent()&&this.getParent().isA("sap.zen.commons.layout.PositionContainer")){if(this._isCarouselUsedWithCommonsLayout===undefined){setTimeout(this["invalidate"].bind(this),0);this._isCarouselUsedWithCommonsLayout=true;}}}}this.$().on('beforeSlide',this._onBeforePageChangedRef);this.$().on('afterSlide',this._onAfterPageChangedRef);this._$InnerDiv=this.$().find(j._INNER_SELECTOR)[0];this._sResizeListenerId=R.register(this._$InnerDiv,this._fnAdjustAfterResize);this.$().find(".sapMCrslItemTableCell").on("focus",function(e){e.preventDefault();q(e.target).parents('.sapMCrsl').trigger("focus");return false;});var p=this.getParent();while(p){if(p.isA("sap.m.IconTabBar")){var t=this;p.attachExpand(function(e){var E=e.getParameter('expand');if(E&&i>0){t._moveToPage(i+1);}});break;}p=p.getParent();}};j.prototype._onBeforePageChanged=function(e,p,n){if(e.target!==this.getDomRef()){return;}var N=this.getPages()[n-1].getId();this._updateActivePages(N);this.fireBeforePageChanged({activePages:this._aAllActivePagesIndexes});};j.prototype._onAfterPageChanged=function(e,p,n){var H=this.getPages().length>0;if(e.target!==this.getDomRef()){return;}if(H&&n>0){this._changePage(p,n);}};j.prototype._setWidthOfPages=function(n){var i=this._calculatePagesWidth(n);this.$().find(".sapMCrslItem").each(function(e,p){p.style.width=i+"%";});};j.prototype._calculatePagesWidth=function(n){var w=this.$().width(),m=b.toPx(P.get("_sap_m_Carousel_PagesMarginRight")),i=(w-(m*(n-1)))/n,e=(i/w)*100;return e;};j.prototype._handleThemeLoad=function(){var A=this.getActivePage();if(A){var i=this._getPageNumber(A);if(i>0){this._moveToPage(i+1);}}C.detachThemeChanged(this._handleThemeLoad,this);};j.prototype._moveToPage=function(i){this._oMobifyCarousel.changeAnimation('sapMCrslNoTransition');this._oMobifyCarousel.move(i);this._changePage(undefined,i);};j.prototype._changePage=function(o,n){this._adjustHUDVisibility(n);var O=this.getActivePage();if(o){O=this.getPages()[o-1].getId();}var N=this.getPages()[n-1].getId();this.setAssociation("activePage",N,true);var t=this._getPageIndicatorText(n);L.debug("sap.m.Carousel: firing pageChanged event: old page: "+O+", new page: "+N);if(!D.system.desktop){q(document.activeElement).trigger("blur");}if(this._oMobifyCarousel&&this._oMobifyCarousel.getShouldFireEvent()){this.firePageChanged({oldActivePageId:O,newActivePageId:N,activePages:this._aAllActivePagesIndexes});}this.$('slide-number').text(t);};j.prototype._getPageIndicatorText=function(n){return this._oRb.getText("CAROUSEL_PAGE_INDICATOR_TEXT",[n,this.getPages().length-this._getNumberOfItemsToShow()+1]);};j.prototype._adjustHUDVisibility=function(n){var N=this._getNumberOfItemsToShow();if(D.system.desktop&&!this.getLoop()&&this.getPages().length>1){var H=this.$('hud');H.removeClass(j._LATERAL_CLASSES);if(n===1){H.addClass(j._LEFTMOST_CLASS);this._focusCarouselContainer(H,j._PREVIOUS_CLASS_ARROW);}if((n+N-1)===this.getPages().length){H.addClass(j._RIGHTMOST_CLASS);this._focusCarouselContainer(H,j._NEXT_CLASS_ARROW);}}};j.prototype._focusCarouselContainer=function(H,A){if(H.find('.'+A)[0]===document.activeElement){this.focus();}};j.prototype.setActivePage=function(p){var s=null;if(typeof(p)=='string'){s=p;}else if(p instanceof a){s=p.getId();}if(s){if(s===this.getActivePage()){return this;}var i=this._getPageNumber(s);if(!isNaN(i)){if(this._oMobifyCarousel){this._oMobifyCarousel.setShouldFireEvent(true);this._oMobifyCarousel.move(i+1);}}}this.setAssociation("activePage",s,true);return this;};j.prototype._getNavigationArrow=function(s){if(!this["_oArrow"+s]){this["_oArrow"+s]=I.getImageControl(this.getId()+"-arrowScroll"+s,this["_oArrow"+s],this,{src:"sap-icon://slim-arrow-"+s.toLowerCase(),useIconTooltip:false});}return this["_oArrow"+s];};j.prototype._getErrorPage=function(){if(!this.oMessagePage){this.oMessagePage=new M({text:this._oRb.getText("CAROUSEL_ERROR_MESSAGE"),description:"",icon:"sap-icon://document",showHeader:false});}return this.oMessagePage;};j.prototype.previous=function(){if(this._oMobifyCarousel){this._oMobifyCarousel.setShouldFireEvent(true);this._oMobifyCarousel.prev();}else{L.warning("Unable to execute sap.m.Carousel.previous: carousel must be rendered first.");}return this;};j.prototype.next=function(){if(this._oMobifyCarousel){this._oMobifyCarousel.setShouldFireEvent(true);this._oMobifyCarousel.next();}else{L.warning("Unable to execute sap.m.Carousel.next: carousel must be rendered first.");}return this;};j.prototype._getPageNumber=function(p){var i,r;for(i=0;i<this.getPages().length;i++){if(this.getPages()[i].getId()==p){r=i;break;}}return r;};j.prototype.onsaptabprevious=function(e){this._bDirection=false;this._fnOnTabPress(e);};j.prototype.onsaptabnext=function(e){this._bDirection=true;this._fnOnTabPress(e);};j.prototype.onfocusin=function(e){this.saveLastFocusReference(e);this._bDirection=undefined;};j.prototype.onsapskipforward=function(e){e.preventDefault();this._handleGroupNavigation(e,false);};j.prototype.onsapskipback=function(e){e.preventDefault();this._handleGroupNavigation(e,true);};j.prototype.onkeydown=function(e){if(e.keyCode==K.F7){this._handleF7Key(e);return;}if(e.target!=this.getDomRef()){return;}switch(e.keyCode){case 189:case K.NUMPAD_MINUS:this._fnSkipToIndex(e,-1);break;case K.PLUS:case K.NUMPAD_PLUS:this._fnSkipToIndex(e,1);break;}};j.prototype.onsapescape=function(e){var i;if(e.target===this.$()[0]&&this._lastActivePageNumber){i=this._lastActivePageNumber+1;this._oMobifyCarousel.move(i);this._changePage(undefined,i);}};j.prototype.onsapright=function(e){this._fnSkipToIndex(e,1);};j.prototype.onsapup=function(e){this._fnSkipToIndex(e,-1);};j.prototype.onsapleft=function(e){this._fnSkipToIndex(e,-1);};j.prototype.onsapdown=function(e){this._fnSkipToIndex(e,1);};j.prototype.onsaphome=function(e){this._fnSkipToIndex(e,0);};j.prototype.onsapend=function(e){this._fnSkipToIndex(e,this.getPages().length);};j.prototype.onsaprightmodifiers=function(e){if(e.ctrlKey){this._fnSkipToIndex(e,j._MODIFIERNUMBERFORKEYBOARDHANDLING);}};j.prototype.onsapupmodifiers=function(e){if(e.ctrlKey){this._fnSkipToIndex(e,j._MODIFIERNUMBERFORKEYBOARDHANDLING);}};j.prototype.onsappageup=function(e){this._fnSkipToIndex(e,j._MODIFIERNUMBERFORKEYBOARDHANDLING);};j.prototype.onsapleftmodifiers=function(e){if(e.ctrlKey){this._fnSkipToIndex(e,-j._MODIFIERNUMBERFORKEYBOARDHANDLING);}};j.prototype.onsapdownmodifiers=function(e){if(e.ctrlKey){this._fnSkipToIndex(e,-j._MODIFIERNUMBERFORKEYBOARDHANDLING);}};j.prototype.onsappagedown=function(e){this._fnSkipToIndex(e,-j._MODIFIERNUMBERFORKEYBOARDHANDLING);};j.prototype._fnOnTabPress=function(e){if(e.target===this.$()[0]){this._lastActivePageNumber=this._getPageNumber(this.getActivePage());}};j.prototype._handleGroupNavigation=function(e,s){var E=q.Event("keydown");e.preventDefault();this.$().trigger("focus");E.target=e.target;E.key='F6';E.shiftKey=s;F.handleF6GroupNavigation(E);};j.prototype.saveLastFocusReference=function(e){var o=q(e.target).closest(".sapMCrsPage").control(0),s;if(this._bDirection===undefined){return;}if(this._lastFocusablePageElement===undefined){this._lastFocusablePageElement={};}if(o){s=o.getId();this._lastFocusablePageElement[s]=e.target;this._updateFocusedPagesOrder(s);}};j.prototype._getActivePageLastFocusedElement=function(){if(this._lastFocusablePageElement){return this._lastFocusablePageElement[this._getLastFocusedActivePage()];}};j.prototype._updateFocusedPagesOrder=function(s){var i=this._aOrderOfFocusedElements.indexOf(s);if(i>-1){this._aOrderOfFocusedElements.splice(0,0,this._aOrderOfFocusedElements.splice(i,1)[0]);}else{this._aOrderOfFocusedElements.unshift(s);}};j.prototype._updateActivePages=function(n){var N=this._getPageNumber(n),e=this._getNumberOfItemsToShow(),k=N+e,A=this.getPages();if(k>A.length){k=A.length-e;}this._aAllActivePages=[];this._aAllActivePagesIndexes=[];for(var i=N;i<k;i++){this._aAllActivePages.push(A[i].getId());this._aAllActivePagesIndexes.push(i);}};j.prototype._getLastFocusedActivePage=function(){for(var i=0;i<this._aOrderOfFocusedElements.length;i++){var p=this._aOrderOfFocusedElements[i];if(this._aAllActivePages.indexOf(p)>-1){return p;}}return this.getActivePage();};j.prototype._fnSkipToIndex=function(e,n){var i=n;if(e.target!==this.getDomRef()){return;}e.preventDefault();if(this._oMobifyCarousel.hasActiveTransition()){this._oMobifyCarousel.onTransitionComplete();}this._oMobifyCarousel.setShouldFireEvent(true);if(n!==0){i=this._getPageNumber(this.getActivePage())+1+n;}this._oMobifyCarousel.move(i);};j.prototype._handleF7Key=function(e){var A;e.preventDefault();A=this._getActivePageLastFocusedElement();if(e.target===this.$()[0]&&A){A.focus();}else{this.$().trigger("focus");}};j.prototype.setShowBusyIndicator=function(){L.warning("sap.m.Carousel: Deprecated function 'setShowBusyIndicator' called. Does nothing.");return this;};j.prototype.getShowBusyIndicator=function(){L.warning("sap.m.Carousel: Deprecated function 'getShowBusyIndicator' called. Does nothing.");return false;};j.prototype.setBusyIndicatorSize=function(s){if(!(s in B)){s=B.Medium;}return a.prototype.setBusyIndicatorSize.call(this,s);};return j;});
sap.ui.predefine('sap/m/CarouselLayout',["sap/ui/base/ManagedObject"],function(M){"use strict";var C=M.extend("sap.m.CarouselLayout",{metadata:{library:"sap.m",properties:{visiblePagesCount:{type:"int",group:"Misc",defaultValue:1}}}});return C;});
sap.ui.predefine('sap/m/CarouselRenderer',["sap/m/library","sap/base/strings/capitalize","sap/ui/core/Core","sap/ui/Device"],function(l,c,C,D){"use strict";var a=l.CarouselArrowsPlacement;var P=l.PlacementType;var r=C.getLibraryResourceBundle("sap.m");var b={apiVersion:2};b._BULLETS_TO_NUMBERS_THRESHOLD=9;b.render=function(R,o){var p=o.getPages(),i=p.length,s=o.getPageIndicatorPlacement(),A=o.getArrowsPlacement(),I=o._getPageNumber(o.getActivePage());this._renderOpeningDiv(R,o);if(s===P.Top){this._renderPageIndicatorAndArrows(R,o,{iPageCount:i,iIndex:I,sArrowsPlacement:A,bBottom:false,bShowPageIndicator:o.getShowPageIndicator()});}this._renderInnerDiv(R,o,p,s);if(D.system.desktop&&i>o._getNumberOfItemsToShow()&&A===a.Content){this._renderHudArrows(R,o);}if(s===P.Bottom){this._renderPageIndicatorAndArrows(R,o,{iPageCount:i,iIndex:I,sArrowsPlacement:A,bBottom:true,bShowPageIndicator:o.getShowPageIndicator()});}R.close("div");};b._renderOpeningDiv=function(R,o){var t=o.getTooltip_AsString();R.openStart("div",o).class("sapMCrsl").class("sapMCrslFluid").style("width",o.getWidth()).style("height",o.getHeight()).attr("data-sap-ui-customfastnavgroup",true).attr("tabindex",0).accessibilityState(o,{role:"listbox"});if(t){R.attr("title",t);}R.openEnd();};b._renderInnerDiv=function(R,o,p,s){R.openStart("div").class("sapMCrslInner");if(p.length>1&&(o.getShowPageIndicator()||o.getArrowsPlacement()===a.PageIndicator)){if(s===P.Bottom){R.class("sapMCrslBottomOffset");if(o.getArrowsPlacement()===a.PageIndicator){R.class("sapMCrslBottomArrowsOffset");}}else{R.class("sapMCrslTopOffset");if(o.getArrowsPlacement()===a.PageIndicator){R.class("sapMCrslTopArrowsOffset");}}}R.openEnd();var f=function(d,i,A){R.openStart("div",o.getId()+"-"+d.getId()+"-slide").class("sapMCrslItem").accessibilityState(d,{role:"option",posinset:i+1,setsize:A.length}).openEnd();b._renderPageInScrollContainer(R,o,d);R.close("div");};if(p.length){p.forEach(f);}else{R.renderControl(o._getErrorPage());}R.close("div");};b._renderPageIndicatorAndArrows=function(R,o,s){var p=s.iPageCount,S=D.system.desktop&&s.sArrowsPlacement===a.PageIndicator,I=o.getId(),O=[],n=o._getNumberOfItemsToShow(),d=1;if(p<=o._getNumberOfItemsToShow()){return;}if(!s.bShowPageIndicator&&!S){return;}if(s.bBottom){O.push("sapMCrslControlsBottom");}else{O.push("sapMCrslControlsTop");}if(S){R.openStart("div").class("sapMCrslControls");O.forEach(function(e){R.class(e);});R.openEnd();R.openStart("div").class("sapMCrslControlsContainer");O.forEach(function(e){R.class(e);});R.openEnd();}else{R.openStart("div").class("sapMCrslControlsNoArrows");O.forEach(function(e){R.class(e);});R.openEnd();}if(S){this._renderArrow(R,o,"previous");}R.openStart("div",I+"-pageIndicator");if(!s.bShowPageIndicator){R.style("opacity","0");}if(p<b._BULLETS_TO_NUMBERS_THRESHOLD){R.class("sapMCrslBulleted").openEnd();for(var i=1;i<=p-n+1;i++){R.openStart("span").attr("data-slide",d).accessibilityState({role:"img",label:r.getText("CAROUSEL_POSITION",[i,p])}).openEnd().text(i).close("span");d++;}}else{R.class("sapMCrslNumeric").openEnd();var t=r.getText("CAROUSEL_PAGE_INDICATOR_TEXT",[s.iIndex+1,p-n+1]);R.openStart("span",I+"-"+"slide-number").openEnd().text(t).close("span");}R.close("div");if(S){this._renderArrow(R,o,"next");}if(!S){R.close("div");}if(S){R.close("div").close("div");}};b._renderHudArrows=function(R,o){var A;if(o.getShowPageIndicator()){if(o.getPageIndicatorPlacement()===P.Top){A="sapMCrslHudTop";}else if(o.getPageIndicatorPlacement()===P.Bottom){A="sapMCrslHudBottom";}}else{A="sapMCrslHudMiddle";}R.openStart("div",o.getId()+"-hud").class("sapMCrslHud").class(A).openEnd();this._renderArrow(R,o,"previous");this._renderArrow(R,o,"next");R.close("div");};b._renderArrow=function(R,o,d){var s=d.slice(0,4);R.openStart("a").class("sapMCrsl"+c(s)).attr("tabindex","-1").attr("data-slide",s).attr("title",r.getText("PAGINGBUTTON_"+d.toUpperCase())).openEnd();R.openStart("div").class("sapMCrslArrowInner").openEnd();R.renderControl(o._getNavigationArrow(d==="previous"?"Left":"Right"));R.close("div").close("a");};b._renderPageInScrollContainer=function(R,o,p){R.openStart("div").class("sapMScrollCont").class("sapMScrollContH").style("width","100%").style("height","100%").openEnd();R.openStart("div").class("sapMScrollContScroll").openEnd();R.openStart("div").class("sapMCrslItemTable").openEnd();R.openStart("div").class("sapMCrslItemTableCell");if(p.isA("sap.m.Image")){var i="sapMCrslImgNoArrows",s=D.system.desktop&&o.getArrowsPlacement()===a.PageIndicator;if(s){i="sapMCrslImg";}R.class(i);}R.openEnd();R.renderControl(p.addStyleClass("sapMCrsPage"));R.close("div");R.close("div");R.close("div");R.close("div");};return b;},true);
sap.ui.predefine('sap/m/ColorPaletteRenderer',['sap/ui/Device'],function(D){"use strict";var C={apiVersion:2};var l=sap.ui.getCore().getLibraryResourceBundle("sap.m");C.render=function(r,c){r.openStart("div",c);r.class("sapMColorPalette");r.openEnd();if(c._getShowDefaultColorButton()){this.renderDefaultColorButton(r,c);this.renderSeparator(r);}this.renderSwatches(r,c);if(c._getShowMoreColorsButton()){this.renderSeparator(r);this.renderMoreColorsButton(r,c);if(D.system.phone){this.renderSeparator(r);}}if(c._getShowRecentColorsSection()){if(!c._getShowMoreColorsButton()||!D.system.phone){this.renderSeparator(r);}this.renderRecentColorsSection(r,c);if(D.system.phone){this.renderSeparator(r);}}r.close("div");};C.renderSwatches=function(r,c){var s=c.getColors();r.openStart("div",c.getId()+"-swatchCont-paletteColor");r.class("sapMColorPaletteContent");r.accessibilityState(c,{"role":"region","label":l.getText("COLOR_PALETTE_SWATCH_CONTAINER_TITLE")});r.openEnd();s.forEach(function(a,i){this.renderSquare(r,c,a,i,false);},this);r.close("div");};C.renderSquare=function(r,c,s,i,I){var n=c._ColorsHelper.getNamedColor(s),a=(n===undefined)?l.getText("COLOR_PALETTE_PREDEFINED_COLOR_CUSTOM"):l.getText("COLOR_PALETTE_PREDEFINED_COLOR_"+n.toUpperCase()),b=I?l.getText("COLOR_PALETTE_RECENT_COLOR",[i+1,a]):l.getText("COLOR_PALETTE_PREDEFINED_COLOR",[i+1,a]);r.openStart("div");r.class("sapMColorPaletteSquare");if(I&&s===""){r.class("sapMRecentColorSquareDisabled");}r.attr("data-sap-ui-color",s);r.attr("tabindex","-1");r.attr("title",b);r.accessibilityState(c,{"role":"button","label":b});r.openEnd();r.openStart("div");r.style("background-color",s);r.openEnd();r.close("div");r.close("div");};C.renderSeparator=function(r){r.openStart("div");r.class("sapMColorPaletteSeparator");r.openEnd();r.voidStart("hr");r.voidEnd();r.close("div");};C.renderDefaultColorButton=function(r,c){r.renderControl(c._getDefaultColorButton());};C.renderMoreColorsButton=function(r,c){r.renderControl(c._getMoreColorsButton());};C.renderRecentColorsSection=function(r,c){var s,R=c._getRecentColors(),a=5,b=l.getText("COLOR_PALETTE_SWATCH_RECENT_COLOR_CONTAINER_TITLE");r.openStart("div",c.getId()+"-swatchCont-recentColors");r.class("sapMColorPaletteContent");r.attr("role","region");r.attr("aria-label",b);r.openEnd();for(var i=0;i<a;i++){if(R[i]){s=R[i];}else{s="";}this.renderSquare(r,c,s,i,true);}r.close("div");};return C;},true);
sap.ui.predefine('sap/m/Column',['./library','sap/ui/core/Element','sap/ui/core/Renderer','sap/ui/core/library','sap/ui/Device',"sap/ui/thirdparty/jquery"],function(l,E,R,c,D,q){"use strict";var P=l.PopinDisplay;var V=c.VerticalAlign;var T=c.TextAlign;var S=c.SortOrder;var C=E.extend("sap.m.Column",{metadata:{library:"sap.m",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},hAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:T.Begin},vAlign:{type:"sap.ui.core.VerticalAlign",group:"Appearance",defaultValue:V.Inherit},styleClass:{type:"string",group:"Appearance",defaultValue:null},visible:{type:"boolean",group:"Appearance",defaultValue:true},minScreenWidth:{type:"string",group:"Behavior",defaultValue:null},demandPopin:{type:"boolean",group:"Behavior",defaultValue:false},popinHAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:T.Begin,deprecated:true},popinDisplay:{type:"sap.m.PopinDisplay",group:"Appearance",defaultValue:P.Block},mergeDuplicates:{type:"boolean",group:"Behavior",defaultValue:false},mergeFunctionName:{type:"string",group:"Misc",defaultValue:'getText'},sortIndicator:{type:"sap.ui.core.SortOrder",group:"Appearance",defaultValue:S.None},importance:{type:"sap.ui.core.Priority",group:"Behavior",defaultValue:"None"},autoPopinWidth:{type:"float",group:"Behavior",defaultValue:8}},defaultAggregation:"header",aggregations:{header:{type:"sap.ui.core.Control",multiple:false},footer:{type:"sap.ui.core.Control",multiple:false}},designtime:"sap/m/designtime/Column.designtime"}});C.prototype._index=-1;C.prototype._screen="";C.prototype._media=null;C.prototype._bForcedColumn=false;C.prototype.exit=function(){this._clearMedia();};C.prototype.getTable=function(){var p=this.getParent();if(p&&p.isA("sap.m.Table")){return p;}};C.prototype.informTable=function(e,p,v){var t=this.getTable();if(t){var m="onColumn"+e;if(t[m]){t[m](this,p,v);}}};C.prototype.ontouchstart=function(e){this._bTouchStartMarked=e.isMarked();};C.prototype.ontap=function(e){if(!this._bTouchStartMarked&&!e.isMarked()){this.informTable("Press");}};C.prototype.onsapspace=function(e){if(e.srcControl===this){this.informTable("Press");e.preventDefault();}};C.prototype.onsapenter=C.prototype.onsapspace;C.prototype.invalidate=function(){var p=this.getParent();if(!p||!p.bOutput){return;}E.prototype.invalidate.apply(this,arguments);};C.prototype._clearMedia=function(){if(this._media&&this._minWidth){this._detachMediaContainerWidthChange(this._notifyResize,this,this.getId());D.media.removeRangeSet(this.getId());this._media=null;}};C.prototype._addMedia=function(){delete this._bShouldAddMedia;if(this._minWidth){D.media.initRangeSet(this.getId(),[parseFloat(this._minWidth)]);this._attachMediaContainerWidthChange(this._notifyResize,this,this.getId());this._media=this._getCurrentMediaContainerRange(this.getId());if(this._media){this._media.matches=!!this._media.from;}}};C.prototype._notifyResize=function(m){if(this._media.from===m.from){return;}this._media=m;this._media.matches=!!m.from;setTimeout(function(){this.fireEvent("media",this);this.informTable("Resize");}.bind(this),0);};C.prototype._validateMinWidth=function(w){if(!w){return;}if(Object.prototype.toString.call(w)!="[object String]"){throw new Error('expected string for property "minScreenWidth" of '+this);}if(Object.keys(l.ScreenSizes).indexOf(w.toLowerCase())!=-1){return;}if(!/^\d+(\.\d+)?(px|em|rem)$/i.test(w)){throw new Error('invalid CSS size("px", "em", "rem" required) or sap.m.ScreenSize enumeration for property "minScreenWidth" of '+this);}};C.prototype._isWidthPredefined=function(w){var t=this,u=w.replace(/[^a-z]/ig,""),b=parseFloat(l.BaseFontSize)||16;q.each(l.ScreenSizes,function(s,a){if(u!="px"){a/=b;}if(a+u==w){t._minWidth=this+"px";t._screen=s;return false;}});if(this._minWidth){return true;}if(u=="px"){this._minWidth=w;}else{this._minWidth=parseFloat(w)*b+"px";}};C.prototype.getCssAlign=function(a){a=a||this.getHAlign();if(a===T.Begin||a===T.End||a===T.Initial){a=R.getTextAlign(a);}return a.toLowerCase();};C.prototype.getStyleClass=function(r){var a=this.getProperty("styleClass");if(!r){return a;}if(this._screen&&(!this.getDemandPopin()||!window.matchMedia)){a+=" sapMSize-"+this._screen;}else if(this._media&&!this._media.matches){a+=" sapMListTblNone";}return a.trim();};C.prototype.setIndex=function(n){this._index=+n;};C.prototype.setOrder=function(n){this._order=+n;};C.prototype.getOrder=function(){return this.hasOwnProperty("_order")?this._order:this.getInitialOrder();};C.prototype.setInitialOrder=function(n){this._initialOrder=+n;};C.prototype.getInitialOrder=function(){if(this.hasOwnProperty("_initialOrder")){return this._initialOrder;}var t=this.getTable();if(!t){return-1;}return t.indexOfColumn(this);};C.prototype.setDisplay=function(t,d){if(!t||this._index<0){return;}var i=this._index+1,p=this.getParent(),a=d&&!this.isHidden()?"table-cell":"none",h=t.querySelector("tr > th:nth-child("+i+")"),b=t.querySelectorAll("tr > td:nth-child("+i+")"),e=b.length;h.style.display=a;h.setAttribute("aria-hidden",!d);for(i=0;i<e;i++){b[i].style.display=a;b[i].setAttribute("aria-hidden",!d);}if(p&&p.setTableHeaderVisibility){setTimeout(function(){p.setTableHeaderVisibility(d);},0);}};C.prototype.setVisible=function(v){if(v==this.getVisible()){return this;}var p=this.getParent(),t=p&&p.getTableDomRef&&p.getTableDomRef(),s=t&&this._index>=0&&!p.getAutoPopinMode();if(s){this.setProperty("visible",v,s);this.setDisplay(t,v);}else{this.setProperty("visible",v);}return this;};C.prototype._setMinScreenWidth=function(w){this._clearMedia();this._minWidth=0;this._screen="";if(w){w=w.toLowerCase();var a=l.ScreenSizes[w];if(a){this._screen=w;this._minWidth=a+"px";}else{this._isWidthPredefined(w);}var p=this.getTable();if(p&&p.isActive()){this._addMedia();}else{this._bShouldAddMedia=true;}}};C.prototype.setMinScreenWidth=function(w){w=w||"";if(w==this.getMinScreenWidth()){return this;}this._validateMinWidth(w);this._setMinScreenWidth(w);return this.setProperty("minScreenWidth",w);};C.prototype.setDemandPopin=function(v){if(v==this.getDemandPopin()){return this;}if(!this.getMinScreenWidth()){return this.setProperty("demandPopin",v,true);}return this.setProperty("demandPopin",v);};C.prototype.setSortIndicator=function(s){this.setProperty("sortIndicator",s,true);this.$().attr("aria-sort",this.getSortIndicator().toLowerCase());return this;};C.prototype.isPopin=function(){if(!this.getDemandPopin()){return false;}var t=this.getTable();if(t){var h=t.getHiddenInPopin()||[];var H=h.some(function(i){return this.getImportance()===i;},this);if(H){return false;}}if(this._media){return!this._media.matches;}return false;};C.prototype.isHidden=function(){if(this._media){return!this._media.matches;}if(this._screen&&this._minWidth){return parseFloat(this._minWidth)>window.innerWidth;}return false;};C.prototype.setLastValue=function(v){if(this.getMergeDuplicates()){this._lastValue=v;}return this;};C.prototype.clearLastValue=function(){return this.setLastValue(NaN);};C.prototype.getLastValue=function(){return this._lastValue;};C.prototype.onItemsRemoved=function(){this.clearLastValue();};C.prototype.getFocusDomRef=function(){var p=this.getParent();if(p&&p.bActiveHeaders){var o=this.getDomRef();if(o){return o.firstChild;}}return E.prototype.getFocusDomRef.apply(this,arguments);};C.prototype.getCalculatedMinScreenWidth=function(){return parseInt(this._minWidth)||0;};C.prototype.setForcedColumn=function(f){if(this._bForcedColumn==f){return;}this._bForcedColumn=f;this._setMinScreenWidth(f?"":this.getMinScreenWidth());};return C;});
sap.ui.predefine('sap/m/ComboBox',['./ComboBoxTextField','./ComboBoxBase','./List','./library','sap/ui/Device','sap/ui/core/Item','./StandardListItem','./ComboBoxRenderer','sap/ui/base/ManagedObjectObserver',"sap/ui/dom/containsOrEquals","sap/m/inputUtils/scrollToItem","sap/m/inputUtils/inputsDefaultFilter","sap/m/inputUtils/typeAhead","sap/m/inputUtils/filterItems","sap/m/inputUtils/ListHelpers","sap/m/inputUtils/itemsVisibilityHandler","sap/m/inputUtils/selectionRange","sap/m/inputUtils/calculateSelectionStart","sap/ui/events/KeyCodes","./Toolbar","sap/base/assert","sap/base/security/encodeXML","sap/ui/core/Core","sap/base/Log","sap/ui/dom/jquery/control"],function(C,a,L,l,D,I,S,b,M,c,s,i,t,f,d,g,h,j,K,T,k,m,n,o,q){"use strict";var p=l.ListMode;var r=a.extend("sap.m.ComboBox",{metadata:{library:"sap.m",designtime:"sap/m/designtime/ComboBox.designtime",properties:{selectedKey:{type:"string",group:"Data",defaultValue:""},selectedItemId:{type:"string",group:"Misc",defaultValue:""},filterSecondaryValues:{type:"boolean",group:"Misc",defaultValue:false}},associations:{selectedItem:{type:"sap.ui.core.Item",multiple:false}},events:{change:{parameters:{value:{type:"string"},itemPressed:{type:"boolean"}}},selectionChange:{parameters:{selectedItem:{type:"sap.ui.core.Item"}}}},dnd:{draggable:false,droppable:true}}});function u(e){var v=this.getSelectedItem(),w=d.getListItem(v),x=v&&w&&w.getDomRef(),y=x&&x.offsetTop,z=x&&x.offsetHeight,P=this.getPicker(),A=P.getDomRef("cont"),B=A.clientHeight;if(v&&((y+z)>(B))){if(!e){this._getList().$().css("visibility","hidden");}else{A.scrollTop=y-z/2;this._getList().$().css("visibility","visible");}}}r.prototype._getSelectedItemText=function(v){v=v||this.getSelectedItem();if(!v){v=this.getDefaultSelectedItem();}if(v){return v.getText();}return"";};r.prototype.setSelectedIndex=function(e,_){var v;_=_||this.getItems();e=(e>_.length-1)?_.length-1:Math.max(0,e);v=_[e];if(v){this.setSelection(v);}};r.prototype.revertSelection=function(){var P,e=this.getPickerTextField();this.setSelectedItem(this._oSelectedItemBeforeOpen);this.setValue(this._sValueBeforeOpen);if(this.getSelectedItem()===null){P=this._sValueBeforeOpen;}else{P=this._oSelectedItemBeforeOpen.getText();}e&&e.setValue(P);};r.prototype._filterStartsWithItems=function(e,v){var w=e.toLowerCase();var x=this.getItems(),F=x.filter(function(y){return y[v]&&y[v]().toLowerCase().startsWith(w);});return F;};r.prototype.setSelection=function(v){var e=this._getList(),w,x;this.setAssociation("selectedItem",v);this._setPropertyProtected("selectedItemId",(v instanceof I)?v.getId():v,true);if(typeof v==="string"){v=n.byId(v);}if(e){w=d.getListItem(v);if(w){e.setSelectedItem(w,true);}else{e.removeSelections(true);}}x=v?v.getKey():"";this._setPropertyProtected("selectedKey",x);};r.prototype.isSelectionSynchronized=function(){var v=this.getSelectedItem();return this.getSelectedKey()===(v&&v.getKey());};r.prototype._forwardItemProperties=function(P){var e=P.object,v=e.data(d.CSS_CLASS+"ListItem"),w={text:"title",enabled:"visible",tooltip:"tooltip"},A,x,y;if(Object.keys(w).indexOf(P.name)>-1){x=w[P.name];y="set"+x.charAt(0).toUpperCase()+x.slice(1);v[y](P.current);}if(P.name==="additionalText"){A=this.getShowSecondaryValues()?P.current:"";v.setInfo(A);}};r.prototype.isItemSelected=function(v){return v&&(v.getId()===this.getAssociation("selectedItem"));};r.prototype.setAssociation=function(A,e,v){var w=this._getList();if(w&&(A==="selectedItem")){if(!(e instanceof I)){e=this.findItem("id",e);}w.setSelectedItem(d.getListItem(e),true);}return a.prototype.setAssociation.apply(this,arguments);};r.prototype.removeAllAssociation=function(A,e){var v=this._getList();if(v&&(A==="selectedItem")){L.prototype.removeAllAssociation.apply(v,arguments);}return a.prototype.removeAllAssociation.apply(this,arguments);};r.prototype.init=function(){this._oRb=n.getLibraryResourceBundle("sap.m");a.prototype.init.apply(this,arguments);this.bOpenValueStateMessage=true;this._sValueBeforeOpen="";this._sInputValueBeforeOpen="";this._oSelectedItemBeforeOpen=null;this.bIsFocused=false;if(D.system.phone){this.attachEvent("_change",this.onPropertyChange,this);}this.setLastFocusedListItem(null);this._oItemObserver=new M(this._forwardItemProperties.bind(this));};r.prototype.onBeforeRendering=function(){a.prototype.onBeforeRendering.apply(this,arguments);this.synchronizeSelection();if(!this.isOpen()&&document.activeElement===this.getFocusDomRef()&&this.getEnabled()){this.addStyleClass("sapMFocus");}};r.prototype.exit=function(){a.prototype.exit.apply(this,arguments);this._oRb=null;this._oSelectedItemBeforeOpen=null;this.setLastFocusedListItem(null);if(this._oItemObserver){this._oItemObserver.disconnect();this._oItemObserver=null;}};r.prototype.onBeforeRenderingPicker=function(){var O=this["onBeforeRendering"+this.getPickerType()];O&&O.call(this);};r.prototype.onBeforeRenderingDropdown=function(){var P=this.getPicker(),w=(this.$().outerWidth()/parseFloat(l.BaseFontSize))+"rem";if(P){P.setContentMinWidth(w);}};r.prototype.onBeforeRenderingList=function(){if(this.bProcessingLoadItemsEvent){var e=this._getList(),F=this.getFocusDomRef();if(e){e.setBusy(true);}if(F){F.setAttribute("aria-busy","true");}}};r.prototype.onAfterRenderingPicker=function(){var O=this["onAfterRendering"+this.getPickerType()];O&&O.call(this);u.call(this,false);};r.prototype.onAfterRenderingList=function(){var e=this.getSelectedItem(),v=d.getListItem(e);if(this.bProcessingLoadItemsEvent&&(this.getItems().length===0)){return;}var w=this._getList(),F=this.getFocusDomRef();this.highlightList(this._sInputValueBeforeOpen);if(e){w.setSelectedItem(v);this.setLastFocusedListItem(v);}if(w){w.setBusy(false);}if(F){F.removeAttribute("aria-busy");}};r.prototype._fillList=function(){var F,e,v,w=this._getList(),E=d.getEnabledItems(this.getItems());if(!w){return;}if(this.getLastFocusedListItem()){e=d.getItemByListItem(E,this.getLastFocusedListItem());}w.destroyItems();if(this._sInputValueBeforeOpen){F=this.filterItems(this._sInputValueBeforeOpen);E=F.items;}E.forEach(function(x){v=this._mapItemToListItem(x).setVisible(true);w.addItem(v);}.bind(this));if(this._sInputValueBeforeOpen){g(E,F);}e&&this.setLastFocusedListItem(d.getListItem(e));};r.prototype.filterItems=function(v){return f(this,this.getItems(),v,true,this.getFilterSecondaryValues(),this.fnFilter||i);};r.prototype._mapItemToListItem=function(e){var v=d.createListItemFromCoreItem(e,this.getShowSecondaryValues());if(e.isA("sap.ui.core.Item")){this.setSelectable(e,e.getEnabled());}if(e.isA("sap.ui.core.SeparatorItem")){v.addAriaLabelledBy(this._getGroupHeaderInvisibleText().getId());}v.addStyleClass(this.getRenderer().CSS_CLASS_COMBOBOXBASE+"NonInteractiveItem");this._oItemObserver.observe(e,{properties:["text","additionalText","enabled","tooltip"]});return v;};r.prototype.oninput=function(e){a.prototype.oninput.apply(this,arguments);this.syncPickerContent();if(e.isMarked("invalid")){return;}this.loadItems(function(){this.handleInputValidation(e);},{name:"input",busyIndicator:false});if(this.bProcessingLoadItemsEvent&&(this.getPickerType()==="Dropdown")){this.open();}if(this.getLastFocusedListItem()){this.getLastFocusedListItem().removeStyleClass("sapMLIBFocused");this.setLastFocusedListItem(null);}this.addStyleClass("sapMFocus");this._getList().removeStyleClass("sapMListFocus");if(this._getItemsShownWithFilter()){this.toggleIconPressedStyle(true);}};r.prototype.handleInputValidation=function(e){var v,w,F,x,H,y=this.getSelectedItem(),V=e.target.value,E=V==="",z=e.srcControl,A=(this.getPickerType()==="Dropdown"),B=d.getListItem(y),G=this.filterItems(V);if(E&&!this.bOpenedByKeyboardOrButton&&!this.isPickerDialog()){v=this.getItems();}else{v=d.getSelectableItems(G.items);g(this.getItems(),G);}F=v[0];x=v.some(function(J){return J.getKey()===this.getSelectedKey();},this);w=this.intersectItems(this._filterStartsWithItems(V,'getText'),v);H=!E&&F&&F.getEnabled();if(F&&this.getSelectedKey()&&!x){this.setSelection(null);}if(H&&z&&z._bDoTypeAhead){this.handleTypeAhead(z,v,V);}else if(H&&w[0]&&V===w[0].getText()){this.setSelection(w[0]);}else{this.setSelection(null);}if(y!==this.getSelectedItem()){this.fireSelectionChange({selectedItem:this.getSelectedItem()});B=d.getListItem(this.getSelectedItem());}this._sInputValueBeforeOpen=V;if(this.isOpen()){setTimeout(function(){this.highlightList(V);}.bind(this));}if(F){if(E&&!this.bOpenedByKeyboardOrButton){this.close();}else if(A){this.open();s(B,this.getPicker());}}else if(this.isOpen()){if(A&&!this.bOpenedByKeyboardOrButton){this.close();}}else{this.clearFilter();}};r.prototype.handleTypeAhead=function(e,v,V){var w,x=this.getFilterSecondaryValues(),y=t(V,e,v,function(z){w=[z.getText()];if(x){w.push(z.getAdditionalText());}return w;});this.setSelection(y[0]);this.addStyleClass("sapMFocus");this._getList().removeStyleClass("sapMListFocus");};r.prototype.onSelectionChange=function(e){var v=d.getItemByListItem(this.getItems(),e.getParameter("listItem")),P=this.getChangeEventParams(),w=(v!==this.getSelectedItem());v&&this.updateDomValue(v.getText());this.setSelection(v);this.fireSelectionChange({selectedItem:this.getSelectedItem()});if(w){P.itemPressed=true;this.onChange(null,P);}};r.prototype.onItemPress=function(e){var v=e.getParameter("listItem"),w=v.getTitle(),P=this.getChangeEventParams(),x=(v!==d.getListItem(this.getSelectedItem()));if(v.isA("sap.m.GroupHeaderListItem")){return;}this.setLastFocusedListItem(v);this.updateDomValue(w);if(!x){P.itemPressed=true;this.onChange(null,P);}this._setPropertyProtected("value",w,true);if(this.getPickerType()==="Dropdown"&&!this.isPlatformTablet()){this.selectText.bind(this,this.getValue().length,this.getValue().length);}this.close();};r.prototype.onBeforeOpen=function(){a.prototype.onBeforeOpen.apply(this,arguments);var P=this["onBeforeOpen"+this.getPickerType()],e=this.getFocusDomRef();if(this.hasLoadItemsEventListeners()&&!this.bProcessingLoadItemsEvent){this.loadItems();}if(e){e.setAttribute("aria-controls",this.getPicker().getId());e.setAttribute("aria-expanded",true);}this.addContent();P&&P.call(this);};r.prototype.onBeforeOpenDialog=function(){var P=this.getPickerTextField();this._oSelectedItemBeforeOpen=this.getSelectedItem();this._sValueBeforeOpen=this.getValue();this.getSelectedItem()&&g(this.getItems(),this.filterItems(""));P.setValue(this._sValueBeforeOpen);};r.prototype.onAfterOpen=function(){var e=this.getSelectedItem(),v=h(this.getFocusDomRef()),w=this.isPlatformTablet();this.closeValueStateMessage();u.call(this,true);if(!w&&e&&v.start===v.end&&v.start>1){setTimeout(function(){this.selectText(0,v.end);}.bind(this),0);}};r.prototype.onBeforeClose=function(){a.prototype.onBeforeClose.apply(this,arguments);var e=this.getFocusDomRef();if(e){e.removeAttribute("aria-controls");e.setAttribute("aria-expanded",false);}if(document.activeElement===e){this.updateFocusOnClose();}this.toggleIconPressedStyle(false);};r.prototype.onAfterClose=function(){this.clearFilter();this._sInputValueBeforeOpen="";if(this.isPickerDialog()){a.prototype.closeValueStateMessage.apply(this,arguments);}};r.prototype.onItemChange=function(e){var v=this.getAssociation("selectedItem"),N=e.getParameter("newValue"),P=e.getParameter("name");if(v===e.getParameter("id")){switch(P){case"text":if(!this.isBound("value")){this.setValue(N);}break;case"key":if(!this.isBound("selectedKey")){this.setSelectedKey(N);}break;}}};r.prototype.onkeydown=function(e){var v=e.srcControl;a.prototype.onkeydown.apply(v,arguments);if(!v.getEnabled()||!v.getEditable()){return;}var w=K;v._bDoTypeAhead=!D.os.android&&(e.which!==w.BACKSPACE)&&(e.which!==w.DELETE);};r.prototype.oncut=function(e){var v=e.srcControl;a.prototype.oncut.apply(v,arguments);v._bDoTypeAhead=false;};r.prototype.onsapenter=function(e){var v=e.srcControl,w=v.getSelectedItem();if(w&&this.getFilterSecondaryValues()){v.updateDomValue(w.getText());}a.prototype.onsapenter.apply(v,arguments);if(!v.getEnabled()||!v.getEditable()){return;}if(v.isOpen()&&!this.isComposingCharacter()){v.close();}};["onsapup","onsapdown","onsappageup","onsappagedown","onsaphome","onsapend"].forEach(function(N){r.prototype[N]=function(e){this.handleListNavigation(e,N);};});r.prototype.handleListNavigation=function(e,N){var v=e.srcControl;if(!v.getEnabled()||!v.getEditable()){return;}this.syncPickerContent();e.preventDefault();this.loadItems(function(){if(!this.isOpen()){this.handleInlineListNavigation(N);}else{var w=this._getSuggestionsPopover();w&&w.handleListNavigation(this,e,N);}e.setMarked();});};r.prototype.handleInlineListNavigation=function(N){var e=this.getItems(),v=d.getSelectableItems(e),w=this.getSelectedItem(),x;switch(N){case"onsapdown":x=v.indexOf(w)+1;break;case"onsapup":x=w?v.indexOf(w)-1:v.length-1;break;case"onsapend":x=v.length-1;break;case"onsaphome":x=0;break;case"onsappagedown":x=Math.min(v.length-1,v.indexOf(w)+10);break;case"onsappageup":x=Math.max(0,v.indexOf(w)-10);break;}this.handleSelectionFromList(v[x]);};r.prototype.handleSelectionFromList=function(e){if(!e){return;}var v=this.getFocusDomRef(),w=v.value.substring(0,v.selectionStart),x=this.getSelectedItem(),y=this.getLastFocusedListItem(),z,A,B,E;if(e.isA("sap.m.StandardListItem")||e.isA("sap.m.GroupHeaderListItem")){z=e;e=d.getItemByListItem(this.getItems(),e);}else{z=d.getListItem(e);}this.setSelection(e);this.setLastFocusedListItem(z);if(e.isA("sap.ui.core.SeparatorItem")){this.setSelectedItem(null);this.updateDomValue(w);this.fireSelectionChange({selectedItem:null});this._getGroupHeaderInvisibleText().setText(this._oRb.getText("LIST_ITEM_GROUP_HEADER")+" "+e.getText());return;}if(e!==x){A=e.getText();E=y&&y.isA("sap.m.GroupHeaderListItem");B=j(h(v,E),A,w,E);this.updateDomValue(A);this.fireSelectionChange({selectedItem:e});e=this.getSelectedItem();this.selectText(B,v.value.length);}};r.prototype.setLastFocusedListItem=function(e){this._oLastFocusedListItem=e;};r.prototype.getLastFocusedListItem=function(){return this._oLastFocusedListItem;};r.prototype.onsapshow=function(e){var v,w,E=this.getEditable(),x;a.prototype.onsapshow.apply(this,arguments);this.syncPickerContent();if(!this.getValue()&&E){v=d.getSelectableItems(this.getItems());w=v[0];if(w){x=d.getListItem(w);if(this.isOpen()){this._getSuggestionsPopover().updateFocus(this,x);this.setLastFocusedListItem(x);}else{this.addStyleClass("sapMFocus");}this.setSelection(w);this.updateDomValue(w.getText());this.fireSelectionChange({selectedItem:w});setTimeout(function(){this.selectText(0,w.getText().length);}.bind(this),0);}}};r.prototype.onsaphide=r.prototype.onsapshow;r.prototype.ontap=function(e){if(!this.getEnabled()){return;}this.updateFocusOnClose();};r.prototype.updateFocusOnClose=function(){var e=this.getFocusDomRef(),v=this._getSuggestionsPopover();this.setLastFocusedListItem(null);if(v){v.setValueStateActiveState(false);v.updateFocus(this);}e.removeAttribute("aria-activedescendant");};r.prototype.onfocusin=function(e){var v=this.getPickerType()==="Dropdown";if(this._bIsBeingDestroyed){return;}if(e.target===this.getOpenArea()){this.bOpenValueStateMessage=false;if(v&&!this.isPlatformTablet()){this.focus();}}else{if(v){setTimeout(function(){if(document.activeElement===this.getFocusDomRef()&&!this.bIsFocused&&!this.bFocusoutDueRendering&&!this.getSelectedText()){this.selectText(0,this.getValue().length);}this.bIsFocused=true;}.bind(this),0);}if(!this.isOpen()&&this.bOpenValueStateMessage&&this.shouldValueStateMessageBeOpened()){this.openValueStateMessage();}this.bOpenValueStateMessage=true;}if(this.getEnabled()&&(!this.isOpen()||!this.getSelectedItem()||!this._getList().hasStyleClass("sapMListFocus"))){this.addStyleClass("sapMFocus");}};r.prototype.onsapfocusleave=function(e){this.bIsFocused=false;var v,P,R,F,w=this.getSelectedItem();if(w&&this.getFilterSecondaryValues()){this.updateDomValue(w.getText());}a.prototype.onsapfocusleave.apply(this,arguments);if(this.isPickerDialog()){return;}P=this.getPicker();if(!e.relatedControlId||!P){return;}v=this.isPlatformTablet();R=n.byId(e.relatedControlId);F=R&&R.getFocusDomRef();if(c(P.getFocusDomRef(),F)&&!v&&!(this._getSuggestionsPopover().getValueStateActiveState())){this.focus();}};r.prototype.synchronizeSelection=function(){if(this.isSelectionSynchronized()){return;}var e=this.getSelectedKey(),v=this.getItemByKey(""+e);if(v&&(e!=="")){this.setAssociation("selectedItem",v,true);this._setPropertyProtected("selectedItemId",v.getId(),true);this.setValue(v.getText());this._sValue=this.getValue();}};r.prototype.configPicker=function(P){var R=this.getRenderer(),e=R.CSS_CLASS_COMBOBOXBASE;P.setHorizontalScrolling(false).addStyleClass(e+"Picker").addStyleClass(e+"Picker-CTX").attachBeforeOpen(this.onBeforeOpen,this).attachAfterOpen(this.onAfterOpen,this).attachBeforeClose(this.onBeforeClose,this).attachAfterClose(this.onAfterClose,this).addEventDelegate({onBeforeRendering:this.onBeforeRenderingPicker,onAfterRendering:this.onAfterRenderingPicker},this);};r.prototype._configureList=function(e){var R=this.getRenderer();if(!e){return;}e.setMode(p.SingleSelectMaster).addStyleClass(R.CSS_CLASS_COMBOBOXBASE+"List").addStyleClass(R.CSS_CLASS_COMBOBOX+"List");e.attachSelectionChange(this.onSelectionChange,this).attachItemPress(this.onItemPress,this);e.addEventDelegate({onBeforeRendering:this.onBeforeRenderingList,onAfterRendering:this.onAfterRenderingList},this);};r.prototype.destroyItems=function(){this.destroyAggregation("items");if(this._getList()){this._getList().destroyItems();}return this;};r.prototype.getDefaultSelectedItem=function(){return null;};r.prototype.getChangeEventParams=function(){return{itemPressed:false};};r.prototype.clearSelection=function(){this.setSelection(null);};r.prototype.selectText=function(e,v){a.prototype.selectText.apply(this,arguments);return this;};r.prototype.removeAllItems=function(){var e=a.prototype.removeAllItems.apply(this,arguments);this._fillList();return e;};r.prototype.clone=function(e){var v=a.prototype.clone.apply(this,arguments),w=this._getList();if(!this.isBound("items")&&w){v.syncPickerContent();v.setSelectedIndex(this.indexOfItem(this.getSelectedItem()));}return v;};r.prototype.open=function(){this.syncPickerContent();a.prototype.open.call(this);this._getSuggestionsPopover()&&this._getSuggestionsPopover().updateFocus(this,d.getListItem(this.getSelectedItem()));return this;};r.prototype.syncPickerContent=function(){var P,e=this.getPicker(),v=this.getInputForwardableProperties();if(!e){var w,G;e=this.createPicker(this.getPickerType());P=this.getPickerTextField();this._fillList();if(P){v.forEach(function(x){x=x.charAt(0).toUpperCase()+x.slice(1);w="set"+x;G="get"+x;if(P[w]){P[w](this[G]());}},this);}this._getSuggestionsPopover().updateValueState(this.getValueState(),this.getValueStateText(),this.getShowValueStateMessage());}this.synchronizeSelection();return e;};r.prototype.findAggregatedObjects=function(){var e=this._getList();if(e){return L.prototype.findAggregatedObjects.apply(e,arguments);}return[];};r.prototype.setSelectedItem=function(v){if(typeof v==="string"){this.setAssociation("selectedItem",v,true);v=n.byId(v);}if(!(v instanceof I)&&v!==null){return this;}if(!v){v=this.getDefaultSelectedItem();}this.setSelection(v);this.setValue(this._getSelectedItemText(v));return this;};r.prototype.setSelectedItemId=function(v){v=this.validateProperty("selectedItemId",v);if(!v){v=this.getDefaultSelectedItem();}this.setSelection(v);v=this.getSelectedItem();this.setValue(this._getSelectedItemText(v));return this;};r.prototype.setSelectedKey=function(e){e=this.validateProperty("selectedKey",e);var v=(e===""),w=this.isBound("selectedKey")&&this.isBound("value")&&this.getBindingInfo("selectedKey").skipModelUpdate;if(v){this.setSelection(null);if(!w){this.setValue("");}return this;}var x=this.getItemByKey(e);if(x){this.setSelection(x);if(!w){this.setValue(this._getSelectedItemText(x));}return this;}this._sValue=this.getValue();return this._setPropertyProtected("selectedKey",e);};r.prototype._setPropertyProtected=function(P,v,w){try{return this.setProperty(P,v,w);}catch(e){o.warning("setSelectedKey update failed due to exception. Loggable in support mode log",null,null,function(){return{exception:e};});}};r.prototype.getSelectedItem=function(){var v=this.getAssociation("selectedItem");return(v===null)?null:n.byId(v)||null;};r.prototype.removeItem=function(v){v=a.prototype.removeItem.apply(this,arguments);var e;if(this._getList()){this._getList().removeItem(v&&d.getListItem(v));}if(this.isBound("items")&&!this.bItemsUpdated){return v;}var V=this.getValue();if(this.getItems().length===0){this.clearSelection();}else if(this.isItemSelected(v)){e=this.getDefaultSelectedItem();this.setSelection(e);this.setValue(V);}return v;};r.prototype._decoratePopupInput=function(e){a.prototype._decoratePopupInput.apply(this,arguments);if(!e||!e.isA(["sap.m.InputBase"])){return;}e.addEventDelegate({onsapenter:function(){var v=e.getValue();this.updateDomValue(v);this.onChange();if(v){this.updateDomValue(v);this.onChange();this.close();}}},this);return e;};r.prototype.applyShowItemsFilters=function(){var P,e;this.syncPickerContent();P=this.getPicker();e=function(){P.detachBeforeOpen(e,this);P=null;g(this.getItems(),this.filterItems(this.getValue()||"_"));};P.attachBeforeOpen(e,this);};r.prototype.showItems=function(F){var e,v,w=Array.prototype.slice.call(arguments),x=this.fnFilter,y=function(){this.setFilterFunction(F||function(){return true;});v=this.filterItems(this.getValue()||"_");g(this.getItems(),v);this.setFilterFunction(x);e=v.items;if(e&&e.length){a.prototype.showItems.apply(this,w);}}.bind(this);this.attachLoadItems(y);this.loadItems(y);};r.prototype._getFormattedValueStateText=function(){if(this.isOpen()){return this._getSuggestionsPopover()._getValueStateHeader().getFormattedText();}else{return C.prototype.getFormattedValueStateText.call(this);}};return r;});
sap.ui.predefine('sap/m/ComboBoxBase',['./ComboBoxTextField','./SuggestionsPopover','sap/ui/core/SeparatorItem','sap/ui/core/InvisibleText','sap/ui/base/ManagedObject','sap/base/Log','./library','sap/ui/Device',"sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/m/inputUtils/highlightDOMElements","sap/m/inputUtils/ListHelpers"],function(C,S,a,I,M,L,l,D,c,K,q,h,b){"use strict";var P=l.PlacementType;var d=["value","enabled","name","placeholder","editable","textAlign","textDirection","valueState","valueStateText"];var e=C.extend("sap.m.ComboBoxBase",{metadata:{library:"sap.m","abstract":true,defaultAggregation:"items",properties:{showSecondaryValues:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{items:{type:"sap.ui.core.Item",multiple:true,singularName:"item",bindable:"bindable"},picker:{type:"sap.ui.core.PopupInterface",multiple:false,visibility:"hidden"}},events:{loadItems:{}},dnd:{draggable:false,droppable:true}}});e.prototype.oncompositionend=function(E){C.prototype.oncompositionend.apply(this,arguments);if(!D.browser.edge&&!D.browser.firefox){this.handleInputValidation(E,this.isComposingCharacter());}};e.prototype.updateItems=function(r){this.bItemsUpdated=false;this.destroyItems();this.updateAggregation("items");this.bItemsUpdated=true;if(this.hasLoadItemsEventListeners()){this.onItemsLoaded();}};e.prototype.setFilterFunction=function(f){if(f===null||f===undefined){this.fnFilter=null;return this;}if(typeof(f)!=="function"){L.warning("Passed filter is not a function and the default implementation will be used");}else{this.fnFilter=f;}return this;};e.prototype.highlightList=function(v){var f=[];f=this._getList().$().find('.sapMSLIInfo, .sapMSLITitleOnly');h(f,v);};e.prototype._decoratePopupInput=function(i){if(i){this.setTextFieldHandler(i);}return i;};e.prototype.setTextFieldHandler=function(t){var f=this,T=t._handleEvent;t._handleEvent=function(E){T.apply(this,arguments);if(/keydown|sapdown|sapup|saphome|sapend|sappagedown|sappageup|input/.test(E.type)){f._handleEvent(E);}};};e.prototype.refreshItems=function(){this.bItemsUpdated=false;this.refreshAggregation("items");};e.prototype.loadItems=function(f,o){var g=typeof f==="function";if(this.hasLoadItemsEventListeners()&&(this.getItems().length===0)){this._bOnItemsLoadedScheduled=false;if(g){o=q.extend({action:f,busyIndicator:true,busyIndicatorDelay:300},o);this.aMessageQueue.push(o);if((this.iLoadItemsEventInitialProcessingTimeoutID===-1)&&(o.busyIndicator)){this.iLoadItemsEventInitialProcessingTimeoutID=setTimeout(function i(){this.setInternalBusyIndicatorDelay(0);this.setInternalBusyIndicator(true);}.bind(this),o.busyIndicatorDelay);}}if(!this.bProcessingLoadItemsEvent){this.bProcessingLoadItemsEvent=true;this.fireLoadItems();}}else if(g){f.call(this);}};e.prototype.onItemsLoaded=function(){this.bProcessingLoadItemsEvent=false;clearTimeout(this.iLoadItemsEventInitialProcessingTimeoutID);if(this.bInitialBusyIndicatorState!==this.getBusy()){this.setInternalBusyIndicator(this.bInitialBusyIndicatorState);}if(this.iInitialBusyIndicatorDelay!==this.getBusyIndicatorDelay()){this.setInternalBusyIndicatorDelay(this.iInitialBusyIndicatorDelay);}for(var i=0,m,n,f;i<this.aMessageQueue.length;i++){m=this.aMessageQueue.shift();i--;f=(i+1)===this.aMessageQueue.length;n=f?null:this.aMessageQueue[i+1];if(typeof m.action==="function"){if((m.name==="input")&&!f&&(n.name==="input")){continue;}m.action.call(this);}}};e.prototype.hasLoadItemsEventListeners=function(){return this.hasListeners("loadItems");};e.prototype._scheduleOnItemsLoadedOnce=function(){if(!this._bOnItemsLoadedScheduled&&!this.isBound("items")&&this.hasLoadItemsEventListeners()&&this.bProcessingLoadItemsEvent){this._bOnItemsLoadedScheduled=true;setTimeout(this.onItemsLoaded.bind(this),0);}};e.prototype.getPickerInvisibleTextId=function(){return I.getStaticId("sap.m","COMBOBOX_AVAILABLE_OPTIONS");};e.prototype._getGroupHeaderInvisibleText=function(){if(!this._oGroupHeaderInvisibleText){this._oGroupHeaderInvisibleText=new I();this._oGroupHeaderInvisibleText.toStatic();}return this._oGroupHeaderInvisibleText;};e.prototype._isListInSuggestMode=function(){return this._getList().getItems().some(function(o){return!o.getVisible()&&b.getItemByListItem(this.getItems(),o).getEnabled();},this);};e.prototype.getSelectable=function(i){return i._bSelectable;};e.prototype._setItemsShownWithFilter=function(v){this._bItemsShownWithFilter=v;};e.prototype._getItemsShownWithFilter=function(){return this._bItemsShownWithFilter;};e.prototype.init=function(){C.prototype.init.apply(this,arguments);this.setPickerType(D.system.phone?"Dialog":"Dropdown");this._setItemsShownWithFilter(false);this.bItemsUpdated=false;this.bOpenedByKeyboardOrButton=false;this._bShouldClosePicker=false;this.bProcessingLoadItemsEvent=false;this.iLoadItemsEventInitialProcessingTimeoutID=-1;this.aMessageQueue=[];this.bInitialBusyIndicatorState=this.getBusy();this.iInitialBusyIndicatorDelay=this.getBusyIndicatorDelay();this._bOnItemsLoadedScheduled=false;this._bDoTypeAhead=true;this.getIcon().addEventDelegate({onmousedown:function(E){this._bShouldClosePicker=this.isOpen();}},this);this.getIcon().attachPress(this._handlePopupOpenAndItemsLoad.bind(this,true,this));this.fnFilter=null;};e.prototype.onBeforeRendering=function(){var s=this.isOpen(),v=s?this._getSuggestionsPopover()._getValueStateHeader().getText():null,V=s?this._getSuggestionsPopover()._getValueStateHeader().getValueState():null;C.prototype.onBeforeRendering.apply(this,arguments);if(s&&((this.getValueStateText()&&v!==this.getValueStateText())||(this.getValueState()!==V)||this.getFormattedValueStateText())){this._updateSuggestionsPopoverValueState();}};e.prototype._handlePopupOpenAndItemsLoad=function(o,O){var p;if(!this.getEnabled()||!this.getEditable()){return;}if(o&&this._getItemsShownWithFilter()){this._bShouldClosePicker=false;this.toggleIconPressedStyle(true);this.bOpenedByKeyboardOrButton=false;this.clearFilter();this._setItemsShownWithFilter(false);return;}if(this._bShouldClosePicker){this._bShouldClosePicker=false;this.close();return;}this.loadItems();this.bOpenedByKeyboardOrButton=o;if(this.isPlatformTablet()){this.syncPickerContent();p=this.getPicker();p.setInitialFocus(p);}if(O){p=this.getPicker();p&&p.setInitialFocus(O);}this.open();};e.prototype.exit=function(){C.prototype.exit.apply(this,arguments);if(this._getGroupHeaderInvisibleText()){this._getGroupHeaderInvisibleText().destroy();this._oGroupHeaderInvisibleText=null;}if(this._oSuggestionPopover){this._oSuggestionPopover.destroy();this._oSuggestionPopover=null;}clearTimeout(this.iLoadItemsEventInitialProcessingTimeoutID);this.aMessageQueue=null;this.fnFilter=null;};e.prototype.onsapshow=function(E){if(!this.getEnabled()||!this.getEditable()){return;}E.setMarked();if(E.keyCode===K.F4){this.onF4(E);}if(this._getItemsShownWithFilter()){this.loadItems(this._handlePopupOpenAndItemsLoad.bind(this,true));return;}if(this.isOpen()){this.close();return;}this.selectText(0,this.getValue().length);this.loadItems();this.bOpenedByKeyboardOrButton=true;this.open();};e.prototype.onF4=function(E){E.preventDefault();};e.prototype.onsapescape=function(E){if(this.getEnabled()&&this.getEditable()&&this.isOpen()){E.setMarked();E.preventDefault();this.close();}else{C.prototype.onsapescape.apply(this,arguments);}};e.prototype.onsaphide=e.prototype.onsapshow;e.prototype.onsapfocusleave=function(E){if(!E.relatedControlId){C.prototype.onsapfocusleave.apply(this,arguments);return;}var r=sap.ui.getCore().byId(E.relatedControlId);if(r===this){return;}var p=this.getPicker(),f=r&&r.getFocusDomRef();if(p&&c(p.getFocusDomRef(),f)){return;}C.prototype.onsapfocusleave.apply(this,arguments);};e.prototype.getPopupAnchorDomRef=function(){return this.getDomRef();};e.prototype.addContent=function(p){};e.prototype.getList=function(){L.warning("[Warning]:","You are attempting to use deprecated method 'getList()', please refer to SAP note 2746748.",this);return this._getList();};e.prototype._getList=function(){var o=this._oSuggestionPopover&&this._oSuggestionPopover.getItemsContainer();if(this.bIsDestroyed||!o){return null;}return o;};e.prototype.setPickerType=function(p){this._sPickerType=p;};e.prototype.getPickerType=function(){return this._sPickerType;};e.prototype._updateSuggestionsPopoverValueState=function(){var s=this._getSuggestionsPopover();if(!s){return;}var v=this.getValueState(),n=this.getValueState()!==s._getValueStateHeader().getValueState(),N=this.getFormattedValueStateText(),V=this.getValueStateText(),f=N||n;if(s.isOpen()&&!f){this.setFormattedValueStateText(s._getValueStateHeader().getFormattedText());}s.updateValueState(v,(N||V),this.getShowValueStateMessage());};e.prototype.shouldValueStateMessageBeOpened=function(){var s=C.prototype.shouldValueStateMessageBeOpened.apply(this,arguments);return(s&&!this.isOpen());};e.prototype.onPropertyChange=function(o,f){var n=o.getParameter("newValue"),p=o.getParameter("name"),m="set"+p.charAt(0).toUpperCase()+p.slice(1),g=(f&&f.srcControl)||this.getPickerTextField();if(this.getInputForwardableProperties().indexOf(p)>-1&&g&&(typeof g[m]==="function")){g[m](n);}};e.prototype.getInputForwardableProperties=function(){return d;};e.prototype.isPickerDialog=function(){return this.getPickerType()==="Dialog";};e.prototype.isPlatformTablet=function(){var n=!D.system.combi,t=D.system.tablet&&n;return t;};e.prototype.getDropdownSettings=function(){return{showArrow:false,placement:P.VerticalPreferredBottom,offsetX:0,offsetY:0,bounce:false,ariaLabelledBy:this.getPickerInvisibleTextId()||undefined};};e.prototype._configureList=function(){};e.prototype.createPicker=function(p){var o=this.getAggregation("picker");if(o){return o;}this._oSuggestionPopover=this._createSuggestionsPopover();o=this._oSuggestionPopover.getPopover();this.setAggregation("picker",o,true);this.configPicker(o);return o;};e.prototype.configPicker=function(p){};e.prototype._hasShowSelectedButton=function(){return false;};e.prototype._createSuggestionsPopover=function(){var s=new S(this);s.decorateParent(this);s.createSuggestionPopup(this,{showSelectedButton:this._hasShowSelectedButton()});this._decoratePopupInput(s.getInput());s.initContent(this.getId());this.forwardEventHandlersToSuggPopover(s);this._configureList(s.getItemsContainer());return s;};e.prototype.forwardEventHandlersToSuggPopover=function(s){s.setOkPressHandler(this._handleOkPress.bind(this));s.setCancelPressHandler(this._handleCancelPress.bind(this));s.setInputLabels(this.getLabels.bind(this));};e.prototype._handleOkPress=function(){var t=this,T=t.getPickerTextField();t.updateDomValue(T.getValue());t.onChange();t.close();};e.prototype._handleCancelPress=function(){this.close();this.revertSelection();};e.prototype.setSelectable=function(i,s){if(this.indexOfItem(i)<0){return;}i._bSelectable=s;var o=b.getListItem(i);if(o){o.setVisible(s);}};e.prototype.onBeforeOpen=function(){this._updateSuggestionsPopoverValueState();if(!this._getItemsShownWithFilter()){this.toggleIconPressedStyle(true);}};e.prototype.onBeforeClose=function(){this.bOpenedByKeyboardOrButton=false;this._setItemsShownWithFilter(false);this._updateSuggestionsPopoverValueState();};e.prototype.getPicker=function(){var p=this.getAggregation("picker");if(p&&!p.bIsDestroyed&&!this.bIsDestroyed){return p;}return null;};e.prototype._getSuggestionsPopover=function(){return this._oSuggestionPopover;};e.prototype.getValueStateLinks=function(){var H=this.getPicker()&&this.getPicker().getCustomHeader()&&typeof this.getPicker().getCustomHeader().getFormattedText==="function",f=H&&this.getPicker().getCustomHeader().getFormattedText(),v=f&&f.getControls();return v||[];};e.prototype.getPickerTextField=function(){var s=this._getSuggestionsPopover();return s?s.getInput():null;};e.prototype.getPickerTitle=function(){var p=this.getPicker(),H=p&&p.getCustomHeader();if(this.isPickerDialog()&&H){return H.getContentMiddle()[0];}return null;};e.prototype.revertSelection=function(){};e.prototype.hasContent=function(){return this.getItems().length>0;};e.prototype.syncPickerContent=function(){};e.prototype.open=function(){var p=this.getPicker();if(p){p.open();}return this;};e.prototype.getVisibleItems=function(){return b.getVisibleItems(this.getItems());};e.prototype.isItemSelected=function(){};e.prototype.getKeys=function(f){f=f||this.getItems();for(var i=0,k=[];i<f.length;i++){k[i]=f[i].getKey();}return k;};e.prototype.findItem=function(p,v){var m="get"+p.charAt(0).toUpperCase()+p.slice(1);for(var i=0,f=this.getItems();i<f.length;i++){if(f[i][m]()===v){return f[i];}}return null;};e.prototype.getItemByText=function(t){return this.findItem("text",t);};e.prototype.clearFilter=function(){this.getItems().forEach(function(i){var o=b.getListItem(i);if(o){o.setVisible(i.getEnabled()&&this.getSelectable(i));}},this);};e.prototype.onItemChange=function(o){};e.prototype.clearSelection=function(){};e.prototype.setInternalBusyIndicator=function(B){this.bInitialBusyIndicatorState=this.getBusy();return this.setBusy.apply(this,arguments);};e.prototype.setInternalBusyIndicatorDelay=function(i){this.iInitialBusyIndicatorDelay=this.getBusyIndicatorDelay();return this.setBusyIndicatorDelay.apply(this,arguments);};e.prototype.addItem=function(i){this.addAggregation("items",i);if(i){i.attachEvent("_change",this.onItemChange,this);}if(this._getList()){this._getList().addItem(this._mapItemToListItem(i));}return this;};e.prototype.insertItem=function(i,f){this.insertAggregation("items",i,f,true);if(i){i.attachEvent("_change",this.onItemChange,this);}if(this._getList()){this._getList().insertItem(this._mapItemToListItem(i),f);}this._scheduleOnItemsLoadedOnce();return this;};e.prototype.getItemAt=function(i){return this.getItems()[+i]||null;};e.prototype.getFirstItem=function(){return this.getItems()[0]||null;};e.prototype.getLastItem=function(){var i=this.getItems();return i[i.length-1]||null;};e.prototype.getEnabledItems=function(i){return b.getEnabledItems(i||this.getItems());};e.prototype.getItemByKey=function(k){return this.findItem("key",k);};e.prototype.addItemGroup=function(g,H,s){H=H||new a({text:M.escapeSettingsValue(g.text)||M.escapeSettingsValue(g.key)});this.addAggregation("items",H,s);if(this._getList()&&H.isA("sap.ui.core.SeparatorItem")){this._getList().addItem(this._mapItemToListItem(H));}return H;};e.prototype.isOpen=function(){var p=this.getPicker();return!!(p&&p.isOpen());};e.prototype.close=function(){var p=this.getPicker();if(p){p.close();}return this;};e.prototype.removeItem=function(i){i=this.removeAggregation("items",i);if(i){i.detachEvent("_change",this.onItemChange,this);}return i;};e.prototype.removeAllItems=function(){var f=this.removeAllAggregation("items");this.clearSelection();for(var i=0;i<f.length;i++){f[i].detachEvent("_change",this.onItemChange,this);}return f;};e.prototype.intersectItems=function(i,o){return i.filter(function(f){return o.map(function(O){return O.getId();}).indexOf(f.getId())!==-1;});};e.prototype.showItems=function(f){var F=this.fnFilter,g=function(){if(!this.getItems().length){return;}this.detachLoadItems(g);this.setFilterFunction(f||function(){return true;});this.applyShowItemsFilters();this._handlePopupOpenAndItemsLoad(false,this);this.setFilterFunction(F);}.bind(this);if(!this.getEnabled()||!this.getEditable()){return;}this._setItemsShownWithFilter(true);this.attachLoadItems(g);this.loadItems(g);};e.prototype.applyShowItemsFilters=function(){};return e;});
sap.ui.predefine('sap/m/ComboBoxBaseRenderer',['./ComboBoxTextFieldRenderer','sap/ui/core/Renderer','sap/ui/core/Core'],function(C,R,a){"use strict";var b=R.extend(C);b.apiVersion=2;b.CSS_CLASS_COMBOBOXBASE="sapMComboBoxBase";b.getAccessibilityState=function(c){var A=C.getAccessibilityState.call(this,c),l=c._getList();if(l){A.controls=l.getId();}return A;};b.addOuterClasses=function(r,c){C.addOuterClasses.apply(this,arguments);var d=b.CSS_CLASS_COMBOBOXBASE;r.class(d);if(!c.getEnabled()){r.class(d+"Disabled");}if(!c.getEditable()){r.class(d+"Readonly");}};b.addButtonClasses=function(r,c){C.addButtonClasses.apply(this,arguments);r.class(b.CSS_CLASS_COMBOBOXBASE+"Arrow");};return b;},true);
sap.ui.predefine('sap/m/ComboBoxRenderer',['./ComboBoxBaseRenderer','sap/ui/core/Renderer','sap/m/inputUtils/ListHelpers'],function(C,R,L){"use strict";var a=R.extend(C);a.apiVersion=2;a.CSS_CLASS_COMBOBOX="sapMComboBox";a.addOuterClasses=function(r,c){C.addOuterClasses.apply(this,arguments);r.class(a.CSS_CLASS_COMBOBOX);};a.addInnerClasses=function(r,c){C.addInnerClasses.apply(this,arguments);r.class(a.CSS_CLASS_COMBOBOX+"Inner");};a.addButtonClasses=function(r,c){C.addButtonClasses.apply(this,arguments);r.class(a.CSS_CLASS_COMBOBOX+"Arrow");};a.addPlaceholderClasses=function(r,c){C.addPlaceholderClasses.apply(this,arguments);r.class(a.CSS_CLASS_COMBOBOX+"Placeholder");};a.writeInnerAttributes=function(r,c){var s=c.getSelectedItem(),S=s&&L.getListItem(s);C.writeInnerAttributes.apply(this,arguments);if(!c.isOpen()){return;}if(c._getSuggestionsPopover().getValueStateActiveState()){r.attr("aria-activedescendant",c._getFormattedValueStateText().getId());}else if(S&&S.hasStyleClass("sapMLIBFocused")&&c.getFocusDomRef()===document.activeElement){r.attr("aria-activedescendant",S.getId());}};return a;},true);
sap.ui.predefine('sap/m/ComboBoxTextField',['./InputBase','./library','sap/ui/core/InvisibleText','sap/ui/core/library','sap/ui/Device','sap/ui/core/LabelEnablement',"./ComboBoxTextFieldRenderer"],function(I,l,a,c,D,L,C){"use strict";var b=I.extend("sap.m.ComboBoxTextField",{metadata:{library:"sap.m",properties:{maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},showButton:{type:"boolean",group:"Appearance",defaultValue:true}}}});var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");b.prototype.init=function(){I.prototype.init.apply(this,arguments);this.addEndIcon({id:this.getId()+"-arrow",src:"sap-icon://slim-arrow-down",noTabStop:true,alt:r.getText("COMBOBOX_BUTTON"),decorative:false});};b.prototype.getIcon=function(){return this.getAggregation("_endIcon")[0];};b.prototype.toggleIconPressedStyle=function(s){this.toggleStyleClass(I.ICON_PRESSED_CSS_CLASS,s);};b.prototype.onBeforeRendering=function(){I.prototype.onBeforeRendering.apply(this,arguments);var R=L.getReferencingLabels(this)||[],i=this.getIcon();i.setVisible(this.getShowButton());R.forEach(function(s){if(i.getAriaLabelledBy().indexOf(s)===-1){i.addAssociation("ariaLabelledBy",s,true);}},this);if(!this.oInvisibleText&&D.browser.msie){this.oInvisibleText=new a(this.getId()+'-describedby',{text:r.getText("ACC_CTR_TYPE_COMBO")}).toStatic();}};b.prototype.getOpenArea=function(){var d=this.getIcon().getDomRef();return d?d.parentNode:d;};b.prototype.onsapenter=function(e){I.prototype.onsapenter.apply(this,arguments);if(!this.getEnabled()||!this.getEditable()){return;}this._bCheckDomValue&&e.setMarked();var v=this.getValue(),V=v.length;this.setValue(v);this.selectText(V,V);};b.prototype.getValue=function(){var d=this.getFocusDomRef();if(d){return d.value;}return this.getProperty("value");};b.prototype.getDomRefForValueStateMessage=function(){return this.getDomRef();};b.prototype.getAccessibilityInfo=function(){var i=I.prototype.getAccessibilityInfo.apply(this,arguments);i.type=r.getText("ACC_CTR_TYPE_COMBO");return i;};b.prototype.exit=function(){I.prototype.exit.apply(this,arguments);if(this.oInvisibleText){this.oInvisibleText.destroy();this.oInvisibleText=null;}};return b;});
sap.ui.predefine('sap/m/ComboBoxTextFieldRenderer',['./InputBaseRenderer','sap/ui/core/Renderer','sap/ui/core/LabelEnablement','sap/ui/Device'],function(I,R,L,D){"use strict";var C=R.extend(I);C.apiVersion=2;C.CSS_CLASS_COMBOBOXTEXTFIELD="sapMComboBoxTextField";C.writeInnerAttributes=function(r,c){r.attr("role","combobox");r.attr("aria-haspopup","listbox");r.attr("aria-autocomplete","both");r.attr("aria-expanded","false");r.attr("autocomplete","off");r.attr("autocorrect","off");r.attr("autocapitalize","off");r.attr("type","text");};C.getAriaRole=function(){};C.getAriaDescribedBy=function(c){var a=I.getAriaDescribedBy.apply(this,arguments);if(D.browser.msie){return(a||"")+" "+c.oInvisibleText.getId();}return a;};C.addOuterStyles=function(r,c){r.style("max-width",c.getMaxWidth());};return C;},true);
sap.ui.predefine('sap/m/CustomTile',['./Tile','./library','./CustomTileRenderer'],function(T,l,C){"use strict";var a=T.extend("sap.m.CustomTile",{metadata:{library:"sap.m",designtime:"sap/m/designtime/CustomTile.designtime",defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:false}}}});return a;});
sap.ui.predefine('sap/m/CustomTileRenderer',['./TileRenderer','sap/ui/core/Renderer'],function(T,R){"use strict";var C=R.extend(T);C.render=function(r,c){var t,v;r.write("<div tabindex=\"0\"");r.writeControlData(c);r.addClass("sapMCustomTile");r.writeClasses();if(c._invisible){r.addStyle("visibility","hidden");r.writeStyles();}if(c.getParent()instanceof sap.m.TileContainer){t=c.getParent();v=t._getVisibleTiles();r.writeAccessibilityState(c,{role:"option",posinset:t._indexOfVisibleTile(c,v)+1,setsize:v.length});}r.write(">");r.write("<div id=\""+c.getId()+"-remove\" class=\"sapMTCRemove\"></div>");r.write("<div class=\"sapMCustomTileContent\">");this._renderContent(r,c);r.write("</div></div>");};C._renderContent=function(r,t){r.renderControl(t.getContent());};return C;},true);
sap.ui.predefine('sap/m/DatePickerRenderer',['sap/ui/core/Renderer','./InputBaseRenderer','sap/ui/core/library'],function(R,I,c){"use strict";var D=R.extend(I);D.apiVersion=2;D.writeInnerValue=function(r,d){if(d._bValid){r.attr("value",d._formatValue(d.getDateValue()));}else{r.attr("value",d.getValue());}};D.writeInnerAttributes=function(r,d){r.attr("type","text");if(d._bMobile){r.attr("readonly","readonly");}};D.getAriaRole=function(d){return"combobox";};D.getAccessibilityState=function(d){var a=I.getAccessibilityState.apply(this,arguments);a["roledescription"]=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_DATEINPUT");a["autocomplete"]="none";a["haspopup"]=c.aria.HasPopup.Grid.toLowerCase();a["expanded"]=false;a["disabled"]=null;if(d._bMobile&&d.getEnabled()&&d.getEditable()){a["readonly"]=false;}return a;};return D;},true);
sap.ui.predefine('sap/m/DateRangeSelectionRenderer',['sap/ui/core/Renderer','./DatePickerRenderer'],function(R,D){"use strict";var a=R.extend(D);a.apiVersion=2;a.writeInnerValue=function(r,c){if(c._bValid){r.attr("value",c._formatValue(c.getDateValue(),c.getSecondDateValue()));}else{r.attr("value",c.getValue());}};a.getAccessibilityState=function(d){var A=D.getAccessibilityState.apply(this,arguments);A["roledescription"]=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_DATERANGEINPUT");return A;};return a;},true);
sap.ui.predefine('sap/m/DateTimeField',['sap/ui/model/type/Date','sap/ui/model/odata/type/ODataType','sap/ui/model/odata/type/DateTimeBase','./InputBase','sap/ui/core/LocaleData','sap/ui/core/library','sap/ui/core/format/DateFormat','./DateTimeFieldRenderer',"sap/base/util/deepEqual","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/dom/jquery/cursorPos"],function(S,O,D,I,L,c,a,b,d,f,q){"use strict";var C=c.CalendarType;var g=I.extend("sap.m.DateTimeField",{metadata:{"abstract":true,library:"sap.m",properties:{displayFormat:{type:"string",group:"Appearance",defaultValue:null},valueFormat:{type:"string",group:"Data",defaultValue:null},dateValue:{type:"object",group:"Data",defaultValue:null},initialFocusedDateValue:{type:"object",group:"Data",defaultValue:null}}}});g.prototype.setValue=function(v){v=this.validateProperty("value",v);var o=this.getValue();if(v===o){return this;}else{this.setLastValue(v);}this.setProperty("value",v);this._bValid=true;var e;if(v){e=this._parseValue(v);if(!e||e.getTime()<this._oMinDate.getTime()||e.getTime()>this._oMaxDate.getTime()){this._bValid=false;f.warning("Value can not be converted to a valid date",this);}}this.setProperty("dateValue",e);if(this.getDomRef()){var s;if(e){s=this._formatValue(e);}else{s=v;}if(this._$input.val()!==s){this._$input.val(s);this._curpos=this._$input.cursorPos();}}return this;};g.prototype.setDateValue=function(o){if(!this._isValidDate(o)){throw new Error("Date must be a JavaScript date object; "+this);}if(d(this.getDateValue(),o)){return this;}o=this._dateValidation(o);var v=this._formatValue(o,true);if(v!==this.getValue()){this.setLastValue(v);}this.setProperty("value",v);if(this.getDomRef()){var s=this._formatValue(o);if(this._$input.val()!==s){this._$input.val(s);this._curpos=this._$input.cursorPos();}}return this;};g.prototype.setValueFormat=function(v){this.setProperty("valueFormat",v,true);var V=this.getValue();if(V){this._handleDateValidation(this._parseValue(V));}return this;};g.prototype.setDisplayFormat=function(s){this.setProperty("displayFormat",s,true);this.updateDomValue(this._formatValue(this.getDateValue()));this.setPlaceholder(this._getPlaceholder());return this;};g.prototype.getDisplayFormatType=function(){return null;};g.prototype._dateValidation=function(o){this._bValid=true;this.setProperty("dateValue",o);return o;};g.prototype._handleDateValidation=function(o){this._bValid=true;this.setProperty("dateValue",o);};g.prototype._getPlaceholder=function(){var p=this.getPlaceholder();if(!p){p=this._getDisplayFormatPattern();if(!p){p=this._getDefaultDisplayStyle();}if(this._checkStyle(p)){p=this._getLocaleBasedPattern(p);}}return p;};g.prototype._getLocaleBasedPattern=function(p){return L.getInstance(sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale()).getDatePattern(p);};g.prototype._parseValue=function(v,h){var B=this.getBinding("value"),o=B&&B.getType&&B.getType(),F,i,j;if(o&&this._isSupportedBindingType(o)){try{j=o.parseValue(v,"string");if(typeof(j)==="string"&&o instanceof D){j=D.prototype.parseValue.call(o,v,"string");}F=o.oFormatOptions;if(F&&F.source&&F.source.pattern=="timestamp"){j=new Date(j);}else if(F&&F.source&&typeof F.source.pattern==="string"){j=o.oInputFormat.parse(v);}}catch(e){}if(j&&((o.oFormatOptions&&this._isFormatOptionsUTC(o.oFormatOptions))||(o.oConstraints&&o.oConstraints.isDateOnly))){i=new Date(j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate(),j.getUTCHours(),j.getUTCMinutes(),j.getUTCSeconds(),j.getUTCMilliseconds());i.setFullYear(j.getUTCFullYear());j=i;}return j;}return this._getFormatter(h).parse(v);};g.prototype._formatValue=function(o,v){if(!o){return"";}var B=this.getBinding("value"),e=B&&B.getType&&B.getType(),F,h;if(e&&this._isSupportedBindingType(e)){if((e.oFormatOptions&&e.oFormatOptions.UTC)||(e.oConstraints&&e.oConstraints.isDateOnly)){h=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()));h.setUTCFullYear(o.getFullYear());o=h;}F=e.oFormatOptions;if(F&&F.source&&F.source.pattern=="timestamp"){o=o.getTime();}else if(e.oOutputFormat){return e.oOutputFormat.format(o);}return e.formatValue(o,"string");}return this._getFormatter(!v).format(o);};g.prototype._isSupportedBindingType=function(B){return B.isA(["sap.ui.model.type.Date","sap.ui.model.odata.type.DateTime","sap.ui.model.odata.type.DateTimeOffset"]);};g.prototype._isFormatOptionsUTC=function(B){return(B.UTC||(B.source&&B.source.UTC));};g.prototype._getDefaultDisplayStyle=function(){return"medium";};g.prototype._getDefaultValueStyle=function(){return"short";};g.prototype._getFormatter=function(e){var p=this._getBoundValueTypePattern(),r=false,F,B=this.getBinding("value"),s;if(B&&B.oType&&B.oType.oOutputFormat){r=!!B.oType.oOutputFormat.oFormatOptions.relative;s=B.oType.oOutputFormat.oFormatOptions.calendarType;}if(!p){if(e){p=(this.getDisplayFormat()||this._getDefaultDisplayStyle());s=this.getDisplayFormatType();}else{p=(this.getValueFormat()||this._getDefaultValueStyle());s=C.Gregorian;}}if(!s){s=sap.ui.getCore().getConfiguration().getCalendarType();}if(e){if(p===this._sUsedDisplayPattern&&s===this._sUsedDisplayCalendarType){F=this._oDisplayFormat;}}else{if(p===this._sUsedValuePattern&&s===this._sUsedValueCalendarType){F=this._oValueFormat;}}if(F){return F;}return this._getFormatterInstance(F,p,r,s,e);};g.prototype._getFormatterInstance=function(F,p,r,s,e){if(this._checkStyle(p)){F=this._getFormatInstance({style:p,strictParsing:true,relative:r,calendarType:s},e);}else{F=this._getFormatInstance({pattern:p,strictParsing:true,relative:r,calendarType:s},e);}if(e){this._sUsedDisplayPattern=p;this._sUsedDisplayCalendarType=s;this._oDisplayFormat=F;}else{this._sUsedValuePattern=p;this._sUsedValueCalendarType=s;this._oValueFormat=F;}return F;};g.prototype._getFormatInstance=function(A,e){return a.getInstance(A);};g.prototype._checkStyle=function(p){return(p==="short"||p==="medium"||p==="long"||p==="full");};g.prototype._getDisplayFormatPattern=function(){var p=this._getBoundValueTypePattern();if(p){return p;}p=this.getDisplayFormat();if(this._checkStyle(p)){p=this._getLocaleBasedPattern(p);}return p;};g.prototype._getBoundValueTypePattern=function(){var B=this.getBinding("value"),o=B&&B.getType&&B.getType();if(o instanceof S){return o.getOutputPattern();}if(o instanceof O&&o.oFormat){return o.oFormat.oFormatOptions.pattern;}return undefined;};g.prototype._isValidDate=function(o){return!o||Object.prototype.toString.call(o)==="[object Date]";};return g;});
sap.ui.predefine('sap/m/DateTimeFieldRenderer',['sap/ui/core/Renderer','./InputBaseRenderer'],function(R,I){"use strict";var D=R.extend(I);D.apiVersion=2;return D;},true);
sap.ui.predefine('sap/m/DateTimeInput',["sap/ui/thirdparty/jquery",'sap/ui/core/Control','./library','./DatePicker','./DateTimePicker','./TimePicker','sap/ui/model/type/Date','sap/ui/model/type/Time','sap/ui/model/type/DateTime','sap/ui/model/odata/type/ODataType','sap/ui/core/library','sap/ui/Device',"./DateTimeInputRenderer"],function(q,C,l,D,a,T,b,c,d,O,e,f,g){"use strict";var h=l.DateTimeInputType;var j=e.TextDirection;var k=e.TextAlign;var V=e.ValueState;var m=C.extend("sap.m.DateTimeInput",{metadata:{library:"sap.m",designtime:"sap/m/designtime/DateTimeInput.designtime",properties:{value:{type:"string",group:"Data",defaultValue:null,bindable:"bindable"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},enabled:{type:"boolean",group:"Behavior",defaultValue:true},editable:{type:"boolean",group:"Behavior",defaultValue:true},valueState:{type:"sap.ui.core.ValueState",group:"Appearance",defaultValue:V.None},valueStateText:{type:"string",group:"Misc",defaultValue:null},showValueStateMessage:{type:"boolean",group:"Misc",defaultValue:true},name:{type:"string",group:"Misc",defaultValue:null},placeholder:{type:"string",group:"Misc",defaultValue:null},textAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:k.Initial},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:j.Inherit},type:{type:"sap.m.DateTimeInputType",group:"Data",defaultValue:h.Date},displayFormat:{type:"string",group:"Appearance",defaultValue:null},valueFormat:{type:"string",group:"Data",defaultValue:null},dateValue:{type:"object",group:"Data",defaultValue:null}},aggregations:{_picker:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{change:{parameters:{value:{type:"string"},dateValue:{type:"object"},valid:{type:"boolean"}}}}}});!(function(P,$,i){var r=l.getLocaleData();q.extend(P,{_types:{Date:{valueFormat:r.getDatePattern("short"),displayFormat:r.getDatePattern("medium")},Time:{valueFormat:r.getTimePattern("short"),displayFormat:r.getTimePattern("short")},DateTime:{valueFormat:r.getDateTimePattern("short"),displayFormat:r.getDateTimePattern("short")}}});["Time","Date"].forEach(function(t,s){["valueFormat","displayFormat"].forEach(function(F){var u=P._types;u.DateTime[F]=u.DateTime[F].replace("{"+s+"}",u[t][F]);});});}(m.prototype,q,f));m.prototype.init=function(){this.setType(h.Date);};m.prototype.onBeforeRendering=function(){o.call(this);};m.prototype.getFocusDomRef=function(){var P=_.call(this);return P.getFocusDomRef();};m.prototype.getIdForLabel=function(){var P=_.call(this);return P.getIdForLabel();};function n(t){var P;switch(t){case h.DateTime:P=new a(this.getId()+"-Picker");break;case h.Time:P=new T(this.getId()+"-Picker",{localeId:sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale().toString()});break;default:P=new D(this.getId()+"-Picker");break;}P.setDisplayFormat(this.getDisplayFormat()||this._types[t].displayFormat);P.setValueFormat(this.getValueFormat()||this._types[t].valueFormat);if(this.getDateValue()){P.setDateValue(this.getDateValue());}P.setEnabled(this.getEnabled());P.setEditable(this.getEditable());P.setValueState(this.getValueState());P.setValueStateText(this.getValueStateText());P.setShowValueStateMessage(this.getShowValueStateMessage());P.setName(this.getName());P.setPlaceholder(this.getPlaceholder());P.setTextAlign(this.getTextAlign());P.setTextDirection(this.getTextDirection());P.setWidth("100%");P.attachChange(p,this);var A=this.getAriaLabelledBy();for(var i=0;i<A.length;i++){P.addAriaLabelledBy(A[i]);}return P;}m.prototype.setType=function(t){if(t==this.getType()&&_.call(this)){return this;}this.destroyAggregation("_picker");var P=n.call(this,t);this.setAggregation("_picker",P);this.setProperty("type",t);return this;};m.prototype.setWidth=function(w){this.setProperty("width",w);if(this.getDomRef()){w=this.getWidth();this.$().css("width",w);}return this;};m.prototype.setValue=function(v){o.call(this);v=this.validateProperty("value",v);if(v.toLowerCase()=="now"){return this.setDateValue(new Date());}if(v===this.getValue()){return this;}this.setProperty("value",v,true);var P=_.call(this);P.setValue(v);var i=P.getDateValue();this.setProperty("dateValue",i,true);return this;};m.prototype.setDateValue=function(i){if(!this._isValidDate(i)){throw new Error("Date must be a JavaScript date object; "+this);}o.call(this);this.setProperty("dateValue",i,true);var P=_.call(this);P.setDateValue(i);var v=P.getValue();this.setProperty("value",v,true);return this;};m.prototype.setDisplayFormat=function(s){this.setProperty("displayFormat",s,true);var P=_.call(this);P.setDisplayFormat(s||this._types[this.getType()].displayFormat);return this;};m.prototype.setValueFormat=function(v){this.setProperty("valueFormat",v,true);var P=_.call(this);P.setValueFormat(v||this._types[this.getType()].ValueFormat);return this;};m.prototype.setEnabled=function(E){this.setProperty("enabled",E,true);var P=_.call(this);P.setEnabled(E);return this;};m.prototype.setEditable=function(E){this.setProperty("editable",E,true);var P=_.call(this);P.setEditable(E);return this;};m.prototype.setValueState=function(v){this.setProperty("valueState",v,true);var P=_.call(this);P.setValueState(v);return this;};m.prototype.setValueStateText=function(v){this.setProperty("valueStateText",v,true);var P=_.call(this);P.setValueStateText(v);return this;};m.prototype.setShowValueStateMessage=function(s){this.setProperty("showValueStateMessage",s,true);var P=_.call(this);P.setShowValueStateMessage(s);return this;};m.prototype.setName=function(N){this.setProperty("name",N,true);var P=_.call(this);P.setName(N);return this;};m.prototype.setPlaceholder=function(P){this.setProperty("placeholder",P,true);var i=_.call(this);i.setPlaceholder(P);return this;};m.prototype.setTextAlign=function(t){this.setProperty("textAlign",t,true);var P=_.call(this);P.setTextAlign(t);return this;};m.prototype.setTextDirection=function(t){this.setProperty("textDirection",t,true);var P=_.call(this);P.setTextDirection(t);return this;};m.prototype.addAriaLabelledBy=function(i){this.addAssociation("ariaLabelledBy",i,true);var P=_.call(this);P.addAriaLabelledBy(i);return this;};m.prototype.removeAriaLabelledBy=function(i){this.removeAssociation("ariaLabelledBy",i,true);var P=_.call(this);P.removeAriaLabelledBy(i);return this;};m.prototype.removeAllAriaLabelledBy=function(){this.removeAssociation("ariaLabelledBy",true);var P=_.call(this);P.removeAllAriaLabelledBy();return this;};m.prototype.getAccessibilityInfo=function(){var P=_.call(this);return P&&P.getAccessibilityInfo?P.getAccessibilityInfo():null;};m.prototype._getPickerByTypeAndPattern=function(t,i,r){var R=/[DdYyMLWwGQUur]/,s=/[HhKkmsa]/,u=s.test(r),v=R.test(r),w=u&&!v,x=v&&!u,y=v&&u,N,z;switch(t){case h.Time:case h.Date:case h.DateTime:if(w&&i.getMetadata().getName()!=="sap.m.TimePicker"){N=h.Time;}else if(x&&i.getMetadata().getName()!=="sap.m.DatePicker"){N=h.Date;}else if(y&&i.getMetadata().getName()!=="sap.m.DateTimePicker"){N=h.DateTime;}break;default:{throw"Invalid type: "+t+". Expected is one of the sap.m.DateTimeInputType";}}if(N){this.destroyAggregation("_picker");z=n.call(this,N);this.setAggregation("_picker",z);}return z||i;};m.prototype._getBoundValueTypePattern=function(){var B=this.getBinding("value"),i=B&&B.getType()&&B.getType();if(i instanceof b||i instanceof c||i instanceof d){return i.getOutputPattern();}if(i instanceof O&&i.oFormat){return i.oFormat.oFormatOptions.pattern;}return undefined;};function _(){return this.getAggregation("_picker");}m.prototype._isValidDate=function(i){return!i||Object.prototype.toString.call(i)==="[object Date]";};function o(){if(this._getBoundValueTypePattern()){var P=this._getBoundValueTypePattern();var i=_.call(this);i=this._getPickerByTypeAndPattern(this.getType(),i,P);if(i.getValueFormat()!=P){i.setValueFormat(P);}if(i.getDisplayFormat()!=P){i.setDisplayFormat(P);}}}function p(E){var v=E.getParameter("value");var i;var r=E.getParameter("valid");this.setProperty("value",v,true);if(r){i=E.oSource.getDateValue();this.setProperty("dateValue",i,true);}this.fireChange({value:v,newValue:v,valid:r,dateValue:i,newDateValue:i});}return m;});
sap.ui.predefine('sap/m/DateTimeInputRenderer',[],function(){"use strict";var D={};D.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapMDTI");var w=c.getWidth();if(w){r.addStyle("width",w);}r.writeStyles();r.writeClasses();r.write(">");var p=c.getAggregation("_picker");if(p){r.renderControl(p);}r.write("</div>");};return D;},true);
sap.ui.predefine('sap/m/DateTimePickerRenderer',['sap/ui/core/Renderer','./DatePickerRenderer','./InputBaseRenderer','sap/ui/core/library'],function(R,D,I,c){"use strict";var a=R.extend(D);a.apiVersion=2;a.getDescribedByAnnouncement=function(d){var b=I.getDescribedByAnnouncement.apply(this,arguments);return sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("DATETIMEPICKER_TYPE")+" "+b;};a.getAccessibilityState=function(d){var A=D.getAccessibilityState.apply(this,arguments);A["haspopup"]=c.aria.HasPopup.Dialog.toLowerCase();return A;};return a;},true);
sap.ui.predefine('sap/m/DisplayListItem',["sap/ui/core/library","./library","./ListItemBase","./DisplayListItemRenderer"],function(c,l,L,D){"use strict";var T=c.TextDirection;var a=L.extend("sap.m.DisplayListItem",{metadata:{library:"sap.m",properties:{label:{type:"string",group:"Misc",defaultValue:null},value:{type:"string",group:"Data",defaultValue:null},valueTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:T.Inherit}}}});a.prototype.getContentAnnouncement=function(){return this.getLabel()+" "+this.getValue();};return a;});
sap.ui.predefine('sap/m/DisplayListItemRenderer',["sap/ui/core/library","sap/ui/core/Renderer","./ListItemBaseRenderer"],function(c,R,L){"use strict";var T=c.TextDirection;var D=R.extend(L);D.apiVersion=2;D.renderLIAttributes=function(r,l){r.class("sapMDLI");};D.renderLIContent=function(r,l){var s=l.getLabel();if(s){r.openStart("label");r.attr("for",l.getId()+"-value");r.class("sapMDLILabel");r.openEnd();r.text(s);r.close("label");}var v=l.getValue();if(v){r.openStart("div",l.getId()+"-value");r.class("sapMDLIValue");var V=l.getValueTextDirection();if(V!=T.Inherit){r.attr("dir",V.toLowerCase());}r.openEnd();r.text(v);r.close("div");}};return D;},true);
sap.ui.predefine('sap/m/DraftIndicator',["sap/ui/core/Control","sap/m/Label","sap/m/library","./DraftIndicatorRenderer"],function(C,L,l,D){"use strict";var a=l.DraftIndicatorState;var b=C.extend("sap.m.DraftIndicator",{metadata:{library:"sap.m",designtime:"sap/m/designtime/DraftIndicator.designtime",properties:{state:{type:"sap.m.DraftIndicatorState",group:"Behavior",defaultValue:a.Clear},minDisplayTime:{type:"int",group:"Behavior",defaultValue:1500}},aggregations:{_label:{type:"sap.m.Label",multiple:false,visibility:"hidden"}}}});var B=sap.ui.getCore().getLibraryResourceBundle("sap.m");b._oTEXTS={};b._oTEXTS[a.Saving]=B.getText("DRAFT_INDICATOR_SAVING_DRAFT");b._oTEXTS[a.Saved]=B.getText("DRAFT_INDICATOR_DRAFT_SAVED");b._oTEXTS[a.Clear]="";b.prototype.init=function(){this.aQueue=[];this.iDelayedCallId=null;};b.prototype.exit=function(){this._resetDraftTimer();};b.prototype.setState=function(s){this.setProperty("state",s);this._addToQueue(s);if(s===a.Saving){this._addToQueue(a.Clear);}return this;};b.prototype._getLabel=function(){var c=this.getAggregation('_label');if(!c){var c=new L({id:this.getId()+"-label"});this.setAggregation('_label',c,true);c=this.getAggregation('_label');}return c;};b.prototype.showDraftSaving=function(){this._addToQueue(a.Saving);this._addToQueue(a.Clear);};b.prototype.showDraftSaved=function(){this._addToQueue(a.Saved);};b.prototype.clearDraftState=function(){this._addToQueue(a.Clear);};b.prototype._addToQueue=function(s){this.aQueue.push(s);this._processQueue();};b.prototype._processQueue=function(){if(this.iDelayedCallId){return;}var n=this.aQueue.shift();var t=this.getMinDisplayTime();if(!n){return;}this._applyState(n);if(n===a.Clear){this._proceed();return;}this.iDelayedCallId=setTimeout(this._proceed.bind(this),t);};b.prototype._proceed=function(){this._resetDraftTimer();this._processQueue();};b.prototype._applyState=function(s){this._getLabel().setText(b._oTEXTS[s]);};b.prototype._resetDraftTimer=function(){clearTimeout(this.iDelayedCallId);this.iDelayedCallId=null;};return b;});
sap.ui.predefine('sap/m/DraftIndicatorRenderer',[],function(){"use strict";var D={apiVersion:2};D.render=function(r,c){r.openStart("div",c);r.class("sapMDraftIndicator");r.openEnd();var l=c._getLabel();r.renderControl(l);r.close("div");};return D;},true);
sap.ui.predefine('sap/m/ExpandableText',['./library','sap/ui/core/Core','sap/ui/core/Control','sap/ui/core/library','sap/ui/Device','sap/m/Link','sap/m/Text','sap/m/Button','sap/m/ResponsivePopover','sap/m/HyphenationSupport',"./ExpandableTextRenderer"],function(l,C,a,c,D,L,T,B,R,H,E){"use strict";var r=C.getLibraryResourceBundle("sap.m");var b=r.getText("EXPANDABLE_TEXT_SHOW_MORE");var d=r.getText("EXPANDABLE_TEXT_SHOW_LESS");var e=r.getText("MSGBOX_CLOSE");var f=c.TextAlign;var g=c.TextDirection;var A=c.aria.HasPopup;var W=l.WrappingType;var P=l.PlacementType;var h=l.ExpandableTextOverflowMode;function i(t){return t.replace(/ {2,}/g,' ').replace(/\t{2,}/g,' ');}var j=a.extend("sap.m.ExpandableText",{metadata:{interfaces:["sap.ui.core.IFormContent","sap.m.IHyphenation"],library:"sap.m",properties:{text:{type:"string",defaultValue:'',bindable:"bindable"},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:g.Inherit},wrappingType:{type:"sap.m.WrappingType",group:"Appearance",defaultValue:W.Normal},textAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:f.Begin},renderWhitespace:{type:"boolean",group:"Appearance",defaultValue:false},overflowMode:{type:"sap.m.ExpandableTextOverflowMode",group:"Appearance",defaultValue:h.InPlace},maxCharacters:{type:"int",group:"Appearance",defaultValue:100},expanded:{type:"boolean",group:"Appearance",defaultValue:false,visibility:"hidden"}},aggregations:{_showMoreLink:{type:'sap.m.Link',multiple:false,visibility:"hidden"}},designtime:"sap/m/designtime/ExpandableText.designtime"}});j.prototype.getText=function(n){var t=this.getProperty("text");if(n){return t.replace(/\r\n|\n\r|\r/g,"\n");}return t;};j.prototype.getTextDomRef=function(){if(!this.getVisible()){return null;}return this.getDomRef("string");};j.prototype._isExpandable=function(){var t=this.getText();if(!this.getRenderWhitespace()){t=i(t);}return t.length>this._getMaxCharacters()+b.length;};j.prototype._getMaxCharacters=function(){return Math.max(0,this.getMaxCharacters());};j.prototype._getDisplayedText=function(){var t=this.getText(true);if(this.getProperty("expanded")||!this._isExpandable()){return t;}if(!this.getRenderWhitespace()){t=i(t);}return t.substring(0,this._getMaxCharacters());};j.prototype._getShowMoreLink=function(){var s=this.getAggregation('_showMoreLink');if(!s){s=new L(this.getId()+'-showMoreLink',{text:this.getProperty("expanded")?d:b,press:function(o){var t,k,p;if(this.getOverflowMode()===h.InPlace){k=!this.getProperty("expanded");s.setText(k?d:b);this.setProperty("expanded",k);}else{t=new T({text:this.getText(),textDirection:this.getTextDirection(),wrappingType:this.getWrappingType(),textAlign:this.getTextAlign(),renderWhitespace:this.getRenderWhitespace()}).addStyleClass("sapUiSmallMargin").addStyleClass("sapMExTextPopover");p=this._oPopover;if(p&&p.isOpen()){p.close();return;}if(!p){p=this._oPopover=new R({showHeader:false,placement:P.HorizontalPreferredRight,beforeClose:this._onPopoverBeforeClose.bind(this)});if(D.system.phone){p.setEndButton(new B({text:e,press:function(){p.close();}}));}this.addDependent(p);}s.setText(d);s.rerender();p.removeAllAriaLabelledBy();p.destroyContent();p.addAriaLabelledBy(t);p.addContent(t);p.openBy(o.getSource());}}.bind(this)});this.setAggregation("_showMoreLink",s,true);}s.setAriaHasPopup(this.getOverflowMode()===h.InPlace?A.None:A.Dialog);return s;};j.prototype._onPopoverBeforeClose=function(){this._getShowMoreLink().setText(b);};j.prototype.exit=function(){if(this._oPopover){this._oPopover.destroy();this._oPopover=null;}};j.prototype.getAccessibilityInfo=function(){return{description:this.getText()};};j.prototype.getTextsToBeHyphenated=function(){return{"main":this._getDisplayedText(true)};};j.prototype.getDomRefsForHyphenatedTexts=function(){return{"main":this.getTextDomRef()};};H.mixInto(j.prototype);return j;});
sap.ui.predefine('sap/m/ExpandableTextRenderer',['sap/ui/core/Renderer','sap/ui/core/library','sap/m/HyphenationSupport','./library'],function(R,c,H,m){"use strict";var T=c.TextDirection;var W=m.WrappingType;var E={apiVersion:2};E.render=function(r,t){var d=t._getDisplayedText(),s=t.getTextDirection(),a=t.getTooltip_AsString(),w=t.getWrappingType(),b=t.getTextAlign(),e=t.getRenderWhitespace(),f=t._isExpandable(),g=t.getProperty("expanded"),h=g?"&nbsp;&nbsp;":" ... ";r.openStart("div",t);r.class("sapMExText");r.class("sapUiSelectable");if(w!==W.Hyphenated){if(d&&d.length>0&&!/\s/.test(d)){r.class("sapMExTextBreakWord");}}r.attr("dir",s!==T.Inherit?s.toLowerCase():"auto");if(a){r.attr("title",a);}if(b){b=R.getTextAlign(b,s);if(b){r.style("text-align",b);}}if(e){r.class("sapMExTextRenderWhitespaceWrap");}H.writeHyphenationClass(r,t);r.openEnd();r.openStart("span",t.getId()+"-string");r.class("sapMExTextString");r.openEnd();r.text(H.getTextForRender(t,"main"));r.close("span");if(f){r.openStart("span");r.class("sapMExTextEllipsis");r.openEnd();r.unsafeHtml(h);r.close("span");r.renderControl(t._getShowMoreLink());}r.close("div");};return E;},true);
sap.ui.predefine('sap/m/FacetFilter',['./NavContainer','./library','sap/ui/core/Control','sap/ui/core/CustomData','sap/ui/core/IconPool','sap/ui/core/delegate/ItemNavigation','sap/ui/core/InvisibleText','sap/ui/core/IntervalTrigger','sap/ui/Device','sap/ui/core/Icon','sap/ui/model/Filter','sap/ui/model/FilterOperator','sap/ui/model/json/JSONModel','./FacetFilterRenderer',"sap/ui/events/KeyCodes","sap/base/assert","sap/base/Log","sap/ui/events/jquery/EventSimulation","sap/ui/thirdparty/jquery","sap/m/Button","sap/m/ToolbarSpacer","sap/m/OverflowToolbar","sap/m/Text","sap/m/Toolbar","sap/m/Popover","sap/m/SearchField","sap/m/Bar","sap/m/Dialog","sap/m/List","sap/m/StandardListItem","sap/m/CheckBox","sap/m/Page","sap/ui/dom/jquery/scrollRightRTL","sap/ui/dom/jquery/scrollLeftRTL","sap/ui/dom/jquery/Selectors"],function(N,l,C,a,I,b,c,d,D,e,F,f,J,g,K,h,L,E,q,B,T,O,m,n,P,S,o,p,r,s,t,u){"use strict";var v=l.ToolbarDesign;var w=l.ListType;var x=l.ListMode;var y=l.FacetFilterListDataType;var z=l.ButtonType;var A=l.PlacementType;var G=l.FacetFilterType;var H=C.extend("sap.m.FacetFilter",{metadata:{interfaces:["sap.ui.core.IShrinkable"],library:"sap.m",properties:{showPersonalization:{type:"boolean",group:"Appearance",defaultValue:false},type:{type:"sap.m.FacetFilterType",group:"Appearance",defaultValue:G.Simple},liveSearch:{type:"boolean",group:"Behavior",defaultValue:true},showSummaryBar:{type:"boolean",group:"Behavior",defaultValue:false},showReset:{type:"boolean",group:"Behavior",defaultValue:true},showPopoverOKButton:{type:"boolean",group:"Appearance",defaultValue:false}},defaultAggregation:"lists",aggregations:{lists:{type:"sap.m.FacetFilterList",multiple:true,singularName:"list"},buttons:{type:"sap.m.Button",multiple:true,singularName:"button",visibility:"hidden"},removeFacetIcons:{type:"sap.ui.core.Icon",multiple:true,singularName:"removeFacetIcon",visibility:"hidden"},popover:{type:"sap.m.Popover",multiple:false,visibility:"hidden"},addFacetButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},dialog:{type:"sap.m.Dialog",multiple:false,visibility:"hidden"},summaryBar:{type:"sap.m.Toolbar",multiple:false,visibility:"hidden"},resetButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},arrowLeft:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},arrowRight:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}},events:{reset:{},confirm:{}}}});H.SCROLL_STEP=264;H.prototype.setType=function(i){var j,k;if(D.system.phone){this.setProperty("type",G.Light);k=true;}else{this.setProperty("type",i);k=(i===G.Light);}j=this._getSummaryBar();j.setActive(k);if(i===G.Light){if(this.getShowReset()){this._addResetToSummary(j);}else{this._removeResetFromSummary(j);}}return this;};H.prototype.setShowReset=function(V){this.setProperty("showReset",V);var i=this._getSummaryBar();if(V){if(this.getShowSummaryBar()||this.getType()===G.Light){this._addResetToSummary(i);}}else{if(this.getShowSummaryBar()||this.getType()===G.Light){this._removeResetFromSummary(i);}}return this;};H.prototype.setShowSummaryBar=function(V){this.setProperty("showSummaryBar",V);if(V){var i=this._getSummaryBar();if(this.getShowReset()){this._addResetToSummary(i);}else{this._removeResetFromSummary(i);}i.setActive(this.getType()===G.Light);}return this;};H.prototype.setLiveSearch=function(V){this.setProperty("liveSearch",V);if(this._displayedList){var i=this._displayedList;var j=sap.ui.getCore().byId(i.getAssociation("search"));j.detachLiveChange(i._handleSearchEvent,i);if(V){j.attachLiveChange(i._handleSearchEvent,i);}}return this;};H.prototype.getLists=function(){var i=this.getAggregation("lists");if(!i){i=[];}if(this._displayedList){i.splice(this._listAggrIndex,0,this._displayedList);}i.forEach(function(j){if(!j.hasListeners("listItemsChange")){j.attachEvent("listItemsChange",_.bind(this));}}.bind(this));return i;};function _(i){var j=i.getSource();if(this._oAllCheckBoxBar){this._oAllCheckBoxBar.setVisible(Boolean(j.getItems(true).length));}}H.prototype.removeAggregation=function(){var i=C.prototype.removeAggregation.apply(this,arguments);if(arguments[0]==="lists"){this._removeList(i);}return i;};H.prototype.openFilterDialog=function(){var i=this._getFacetDialog();var j=this._getFacetDialogNavContainer();i.addContent(j);this.getLists().forEach(function(k){if(k.getMode()===x.MultiSelect){k._preserveOriginalActiveState();}});i.setInitialFocus(j.getPages()[0].getContent()[0].getItems()[0]);i.open();return this;};H.prototype.init=function(){this._pageSize=5;this._addDelegateFlag=false;this._invalidateFlag=false;this._lastCategoryFocusIndex=0;this._aDomRefs=null;this._previousTarget=null;this._addTarget=null;this._aRows=null;this._bundle=sap.ui.getCore().getLibraryResourceBundle("sap.m");this.data("sap-ui-fastnavgroup","true",true);this._buttons={};this._aOwnedLabels=[];this._removeFacetIcons={};this._listAggrIndex=-1;this._displayedList=null;this._lastScrolling=false;this._bPreviousScrollForward=false;this._bPreviousScrollBack=false;this._getAddFacetButton();this.setAggregation("resetButton",this._createResetButton());if(E.touchEventMode==="ON"&&!D.system.phone){this._enableTouchSupport();}if(D.system.phone){this.setType(G.Light);}};H.prototype.exit=function(){var i;d.removeListener(this._checkOverflow,this);if(this.oItemNavigation){this.removeDelegate(this.oItemNavigation);this.oItemNavigation.destroy();}if(this._aOwnedLabels){this._aOwnedLabels.forEach(function(j){i=sap.ui.getCore().byId(j);if(i){i.destroy();}});this._aOwnedLabels=null;}if(this._oAllCheckBoxBar){this._oAllCheckBoxBar=undefined;}};H.prototype.onBeforeRendering=function(){if(this.getShowSummaryBar()||this.getType()===G.Light){var i=this._getSummaryBar();var j=i.getContent()[0];j.setText(this._getSummaryText());}d.removeListener(this._checkOverflow,this);};H.prototype.onAfterRendering=function(){var i=this.getShowSummaryBar(),j=this.getType(),k=this._getSummaryBar().$();if(j!==G.Light&&!D.system.phone){d.addListener(this._checkOverflow,this);}if(j!==G.Light){this._startItemNavigation();}if(j===G.Light){k.attr("aria-roledescription",this._bundle.getText("FACETFILTER_ACTIVE_TITLE"));k.attr("role","group");}else if(i){k.attr("aria-roledescription",this._bundle.getText("FACETFILTER_TITLE"));}};H.prototype._startItemNavigation=function(){var j=this.getDomRef(),R=j.getElementsByClassName("sapMFFHead"),k=[];if(R.length>0){for(var i=0;i<R[0].childNodes.length;i++){if(R[0].childNodes[i].id.indexOf("ff")<0&&R[0].childNodes[i].id.indexOf("icon")<0&&R[0].childNodes[i].id.indexOf("add")<0){k.push(R[0].childNodes[i]);}if(R[0].childNodes[i].id.indexOf("add")>=0){k.push(R[0].childNodes[i]);}}}if(k!=""){this._aDomRefs=k;}if((!this.oItemNavigation)||this._addDelegateFlag==true){this.oItemNavigation=new b();this.addDelegate(this.oItemNavigation);this._addDelegateFlag=false;}this._aRows=R;for(var i=0;i<this.$().find(":sapTabbable").length;i++){if(this.$().find(":sapTabbable")[i].id.indexOf("add")>=0){this._addTarget=this.$().find(":sapTabbable")[i];break;}}this.oItemNavigation.setRootDomRef(j);this.oItemNavigation.setItemDomRefs(k);this.oItemNavigation.setCycling(false);this.oItemNavigation.setPageSize(this._pageSize);};H.prototype.onsapdelete=function(i){var j,M;if(this.getType()===G.Light){return;}if(!this.getShowPersonalization()){return;}j=sap.ui.getCore().byId(i.target.id);if(!j){return;}M=sap.ui.getCore().byId(j.getAssociation("list"));if(!M){return;}if(!M.getShowRemoveFacetIcon()){return;}M.removeSelections(true);M.setSelectedKeys();M.setProperty("active",false,true);this.invalidate();var $=this.$().find(":sapTabbable");q($[$.length-1]).trigger("focus");var Q=this.oItemNavigation.getFocusedIndex();q(i.target).trigger("blur");this.oItemNavigation.setFocusedIndex(Q+1);this.focus();if(this.oItemNavigation.getFocusedIndex()==0){for(var k=0;k<this.$().find(":sapTabbable").length-1;k++){if($[k].id.indexOf("add")>=0){q($[k]).trigger("focus");}}}};H.prototype.onsaptabnext=function(j){if(this.getType()===G.Light){return;}this._previousTarget=j.target;if(j.target.parentNode.className=="sapMFFHead"){for(var i=0;i<this.$().find(":sapTabbable").length;i++){if(this.$().find(":sapTabbable")[i].parentNode.className=="sapMFFResetDiv"){q(this.$().find(":sapTabbable")[i]).trigger("focus");this._invalidateFlag=false;j.preventDefault();j.setMarked();return;}}}this._lastCategoryFocusIndex=this.oItemNavigation.getFocusedIndex();if(this._invalidateFlag==true){this.oItemNavigation.setFocusedIndex(-1);this.focus();this._invalidateFlag=false;}};H.prototype.onsaptabprevious=function(i){if(this.getType()===G.Light){return;}if(i.target.parentNode.className=="sapMFFResetDiv"&&this._previousTarget==null){q(this.$().find(":sapTabbable")[0]).trigger("focus");i.preventDefault();i.setMarked();return;}if(i.target.parentNode.className=="sapMFFResetDiv"&&this._previousTarget!=null&&this._previousTarget.id!=i.target.id){q(this._previousTarget).trigger("focus");i.preventDefault();i.setMarked();return;}if(i.target.id.indexOf("add")>=0||i.target.parentNode.className=="sapMFFHead"){this._previousTarget=i.target;q(this.$().find(":sapTabbable")[0]).trigger("focus");}};H.prototype.onsapend=function(i){if(this.getType()===G.Light){return;}if(this._addTarget!=null){q(this._addTarget).trigger("focus");i.preventDefault();i.setMarked();}else{q(this._aRows[this._aRows.length-1]).trigger("focus");i.preventDefault();i.setMarked();}this._previousTarget=i.target;};H.prototype.onsaphome=function(i){if(this.getType()===G.Light){return;}q(this._aRows[0]).trigger("focus");i.preventDefault();i.setMarked();this._previousTarget=i.target;};H.prototype.onsappageup=function(i){this._previousTarget=i.target;};H.prototype.onsappagedown=function(i){this._previousTarget=i.target;};H.prototype.onsapincreasemodifiers=function(i){if(this.getType()===G.Light){return;}if(i.which==K.ARROW_RIGHT){this._previousTarget=i.target;var j=this.oItemNavigation.getFocusedIndex()-1;var k=j+this._pageSize;q(i.target).trigger("blur");this.oItemNavigation.setFocusedIndex(k);this.focus();}};H.prototype.onsapdecreasemodifiers=function(i){if(this.getType()===G.Light){return;}var j=0;if(i.which==K.ARROW_LEFT){this._previousTarget=i.target;j=this.oItemNavigation.getFocusedIndex()+1;var k=j-this._pageSize;q(i.target).trigger("blur");this.oItemNavigation.setFocusedIndex(k);this.focus();}};H.prototype.onsapdownmodifiers=function(i){if(this.getType()===G.Light){return;}this._previousTarget=i.target;var j=0;j=this.oItemNavigation.getFocusedIndex()-1;var k=j+this._pageSize;q(i.target).trigger("blur");this.oItemNavigation.setFocusedIndex(k);this.focus();};H.prototype.onsapupmodifiers=function(i){if(this.getType()===G.Light){return;}this._previousTarget=i.target;var j=0;j=this.oItemNavigation.getFocusedIndex();if(j!=0){j=j+1;}var k=j-this._pageSize;q(i.target).trigger("blur");this.oItemNavigation.setFocusedIndex(k);this.focus();};H.prototype.onsapexpand=function(i){if(this.getType()===G.Light){return;}this._previousTarget=i.target;var j=this.oItemNavigation.getFocusedIndex()+1;q(i.target).trigger("blur");this.oItemNavigation.setFocusedIndex(j);this.focus();};H.prototype.onsapcollapse=function(i){if(this.getType()===G.Light){return;}this._previousTarget=i.target;var j=this.oItemNavigation.getFocusedIndex()-1;q(i.target).trigger("blur");this.oItemNavigation.setFocusedIndex(j);this.focus();};H.prototype.onsapdown=function(i){if(this.getType()===G.Light){return;}this._previousTarget=i.target;if(i.target.parentNode.className=="sapMFFResetDiv"){q(i.target).trigger("focus");i.preventDefault();i.setMarked();return;}};H.prototype.onsapup=function(i){if(this.getType()===G.Light){return;}this._previousTarget=i.target;if(i.target.parentNode.className=="sapMFFResetDiv"){q(i.target).trigger("focus");i.preventDefault();i.setMarked();}};H.prototype.onsapleft=function(i){if(this.getType()===G.Light){return;}this._previousTarget=i.target;if(i.target.parentNode.className=="sapMFFResetDiv"){q(i.target).trigger("focus");i.preventDefault();i.setMarked();}};H.prototype.onsapright=function(i){if(this.getType()===G.Light){return;}this._previousTarget=i.target;if(i.target.parentNode.className=="sapMFFResetDiv"){q(i.target).trigger("focus");i.preventDefault();i.setMarked();}};H.prototype.onsapescape=function(i){if(this.getType()===G.Light){return;}if(i.target.parentNode.className=="sapMFFResetDiv"){return;}var j=this._lastCategoryFocusIndex;q(i.target).trigger("blur");this.oItemNavigation.setFocusedIndex(j);this.focus();};H.prototype._getPopover=function(){var i=this.getAggregation("popover");if(!i){var j=this;i=new P({placement:A.Bottom,beforeOpen:function(M){if(j._displayedList){j._displayedList._bSearchEventDefaultBehavior&&j._displayedList._setSearchValue("");}this.setCustomHeader(j._createFilterItemsSearchFieldBar(j._displayedList));var Q=this.getSubHeader();if(!Q){this.setSubHeader(j._createSelectAllCheckboxBar(j._displayedList));}k(j._displayedList);},afterClose:function(M){j._addDelegateFlag=true;j._handlePopoverAfterClose();},horizontalScrolling:false});this.setAggregation("popover",i,true);i.setContentWidth("30%");i.addStyleClass("sapMFFPop");var k=function(M){if(!M){return;}var Q=j._getFacetRemoveIcon(M);if(Q){Q._bTouchStarted=false;}};}if(this.getShowPopoverOKButton()){this._addOKButtonToPopover(i);}else{i.destroyAggregation("footer");}return i;};H.prototype._handlePopoverAfterClose=function(){var i=this.getAggregation("popover"),j=this._displayedList;if(!i){return;}var k=this._getFacetRemoveIcon(j);if(k&&k._bTouchStarted){return;}this._restoreListFromDisplayContainer(i);this._displayRemoveIcon(false,j);j._fireListCloseEvent();this._fireConfirmEvent();this.destroyAggregation("popover");if(this._oOpenPopoverDeferred){setTimeout(function(){this._oOpenPopoverDeferred.resolve();this._oOpenPopoverDeferred=undefined;}.bind(this),0);}};H.prototype._fireConfirmEvent=function(){this.fireEvent('confirm');};H.prototype._openPopover=function(i,j){var k;if(!i.isOpen()){var M=sap.ui.getCore().byId(j.getAssociation("list"));h(M,"The facet filter button should be associated with a list.");k=!M.fireListOpen({});this._moveListToDisplayContainer(M,i);i.openBy(j);if(M.getShowRemoveFacetIcon()){this._displayRemoveIcon(true,M);}if(M.getWordWrap()){i.setContentWidth("30%");}if(!k){M._applySearch();}}return this;};H.prototype._getAddFacetButton=function(){var i=this.getAggregation("addFacetButton");if(!i){i=new B(this.getId()+"-add",{icon:I.getIconURI("add-filter"),type:z.Transparent,tooltip:this._bundle.getText("FACETFILTER_ADDFACET"),press:function(j){this.openFilterDialog();}.bind(this)});this.setAggregation("addFacetButton",i,true);}return i;};H.prototype._getButtonForList=function(i){if(this._buttons[i.getId()]){this._setButtonText(i);return this._buttons[i.getId()];}var j=this;var k=new B({type:z.Transparent,press:function(M){var Q=this;var R=function(){var U=j._getPopover();j._openPopover(U,Q);};if(i.getMode()===x.MultiSelect){i._preserveOriginalActiveState();}var U=j._getPopover();if(U.isOpen()){setTimeout(function(){if(U.isOpen()){return;}j._oOpenPopoverDeferred=q.Deferred();j._oOpenPopoverDeferred.promise().done(R);},100);}else{setTimeout(R.bind(this),100);}}});this._buttons[i.getId()]=k;this.addAggregation("buttons",k);k.setAssociation("list",i.getId(),true);this._setButtonText(i);return k;};H.prototype._setButtonText=function(i){var j=this._buttons[i.getId()];if(i._iAllItemsCount===undefined&&i.getMaxItemsCount()||!i._bSearchEventDefaultBehavior){i._iAllItemsCount=i.getMaxItemsCount();}if(j){var k="";var M=Object.getOwnPropertyNames(i._oSelectedKeys);var Q=M.length;if(Q===1){var R=i._oSelectedKeys[M[0]];k=this._bundle.getText("FACETFILTER_ITEM_SELECTION",[i.getTitle(),R]);}else if(Q>0&&Q===(i._iAllItemsCount?i._iAllItemsCount:0)){k=this._bundle.getText("FACETFILTER_ALL_SELECTED",[i.getTitle()]);}else if(Q>0){k=this._bundle.getText("FACETFILTER_ITEM_SELECTION",[i.getTitle(),Q]);}else{k=i.getTitle();}j.setText(k);}};H.prototype._getFacetRemoveIcon=function(i){var j=this,k=this._removeFacetIcons[i.getId()];if(!k){k=new e({src:I.getIconURI("decline"),tooltip:this._bundle.getText("FACETFILTER_REMOVE"),press:function(){k._bPressed=true;}});k.addDelegate({ontouchstart:function(){k._bTouchStarted=true;k._bPressed=false;},ontouchend:function(){j._displayRemoveIcon(false,i);k._bTouchStarted=false;setTimeout(M.bind(this),100);}},true);var M=function(){if(k._bPressed){i.removeSelections(true);i.setSelectedKeys();i.setProperty("active",false,true);}j._handlePopoverAfterClose();};k.setAssociation("list",i.getId(),true);k.addStyleClass("sapMFFLRemoveIcon");this._removeFacetIcons[i.getId()]=k;this.addAggregation("removeFacetIcons",k);this._displayRemoveIcon(false,i);}return k;};H.prototype._displayRemoveIcon=function(i,j){if(this.getShowPersonalization()){var k=this._removeFacetIcons[j.getId()];if(i){k.removeStyleClass("sapMFFLHiddenRemoveIcon");k.addStyleClass("sapMFFLVisibleRemoveIcon");}else{k.removeStyleClass("sapMFFLVisibleRemoveIcon");k.addStyleClass("sapMFFLHiddenRemoveIcon");}}};H.prototype._getFacetDialogNavContainer=function(){var i=new N({autoFocus:false});var j=this._createFacetPage();i.addPage(j);i.setInitialPage(j);i.attachAfterNavigate(function(k){var M=k.getParameters()["to"];var Q=k.getParameters()['from'];if(Q===j){var R=(this._displayedList.getMode()===x.MultiSelect)?M.getContent(0)[1].getItems()[0]:M.getContent(0)[0].getItems()[0];if(R){R.focus();}}if(M===j){Q.destroySubHeader();h(this._displayedList===null,"Filter items list should have been placed back in the FacetFilter aggregation before page content is destroyed.");Q.destroyContent();this._selectedFacetItem.invalidate();M.invalidate();this._selectedFacetItem.focus();this._selectedFacetItem=null;}}.bind(this));return i;};H.prototype._createFacetPage=function(){var i=this._createFacetList();var j=new S({width:"100%",tooltip:this._bundle.getText("FACETFILTER_SEARCH"),liveChange:function(M){var Q=i.getBinding("items");if(Q){var R=new F("text",f.Contains,M.getParameters()["newValue"]);Q.filter([R]);}}});var k=new u({enableScrolling:true,title:this._bundle.getText("FACETFILTER_TITLE"),subHeader:new o({contentMiddle:j}),content:[i]});return k;};H.prototype._createFilterItemsPage=function(){var i=new u({showNavButton:true,enableScrolling:true,navButtonPress:function(j){var k=j.getSource().getParent();this._navFromFilterItemsPage(k);}.bind(this)});return i;};H.prototype._getFilterItemsPage=function(i){var j=i.getPages()[1];if(j){i.removePage(j);j.destroy();}var k=this._createFilterItemsPage();i.addPage(k);return k;};H.prototype._createFilterItemsSearchFieldBar=function(i){var j=true;if(i.getDataType()!=y.String){j=false;}var k=new S({value:i._getSearchValue(),width:"100%",enabled:j,tooltip:this._bundle.getText("FACETFILTER_SEARCH"),search:function(Q){this._displayedList._handleSearchEvent(Q);}.bind(this)});if(this.getLiveSearch()){k.attachLiveChange(i._handleSearchEvent,i);}var M=new o({contentMiddle:k});i.setAssociation("search",k);return M;};H.prototype._getFacetDialog=function(){var i=this.getAggregation("dialog");if(!i){var j=this;i=new p({showHeader:false,stretch:D.system.phone?true:false,afterClose:function(){j._addDelegateFlag=true;j._invalidateFlag=true;var k=this.getContent()[0];var M=k.getPages()[1];if(k.getCurrentPage()===M){var Q=j._restoreListFromDisplayContainer(M);if(Q.getMode()===x.MultiSelect){Q._updateActiveState();j._bCheckForAddListBtn=true;}Q._fireListCloseEvent();Q._bSearchEventDefaultBehavior&&Q._search("");}this.destroyAggregation("content",true);j.invalidate();},beginButton:new B({text:this._bundle.getText("FACETFILTER_ACCEPT"),tooltip:this._bundle.getText("FACETFILTER_ACCEPT"),press:function(){j._closeDialog();}}),contentHeight:"500px",ariaLabelledBy:[c.getStaticId("sap.m","FACETFILTER_AVAILABLE_FILTER_NAMES")]});i.addStyleClass("sapMFFDialog");i.onsapentermodifiers=function(k){if(k.shiftKey&&!k.ctrlKey&&!k.altKey){var M=this.getContent()[0];j._navFromFilterItemsPage(M);}};this.setAggregation("dialog",i,true);}return i;};H.prototype._closeDialog=function(){var i=this.getAggregation("dialog");if(i&&i.isOpen()){i.close();this._fireConfirmEvent();}};H.prototype._closePopover=function(){var i=this.getAggregation("popover");if(i&&i.isOpen()){i.close();}};H.prototype._createFacetList=function(){var j=this._oFacetList=new r({mode:x.None,items:{path:"/items",template:new s({title:"{text}",counter:"{count}",type:w.Navigation,customData:[new a({key:"index",value:"{index}"})]})}});var k=this._getMapFacetLists();var M=new J({items:k});if(k.length>100){M.setSizeLimit(k.length);}var Q=this;j.attachUpdateFinished(function(){for(var i=0;i<j.getItems().length;i++){var R=this.getItems()[i];R.detachPress(Q._handleFacetListItemPress,Q);R.attachPress(Q._handleFacetListItemPress,Q);}});j.setModel(M);return j;};H.prototype.refreshFacetList=function(){this._oFacetList.getModel().setData({items:this._getMapFacetLists()});return this;};H.prototype._getMapFacetLists=function(){return this.getLists().map(function(i,j){return{text:i.getTitle(),count:i.getAllCount(),index:j};});};H.prototype._createSelectAllCheckboxBar=function(i){if(!i.getMultiSelect()){return null;}var j=i.getActive()&&i.getItems().length>0&&Object.getOwnPropertyNames(i._oSelectedKeys).length===i.getItems().length;var k=new t(i.getId()+"-selectAll",{text:this._bundle.getText("FACETFILTER_CHECKBOX_ALL"),tooltip:this._bundle.getText("FACETFILTER_CHECKBOX_ALL"),selected:j,select:function(Q){k.setSelected(Q.getParameter("selected"));i._handleSelectAllClick(Q.getParameter("selected"));}});i.setAssociation("allcheckbox",k);var M=new o({visible:Boolean(i.getItems(true).length)});M.addEventDelegate({ontap:function(Q){if(Q.srcControl===this){i._handleSelectAllClick(k.getSelected());}}},M);M.addContentLeft(k);M.addStyleClass("sapMFFCheckbar");this._oAllCheckBoxBar=M;return M;};H.prototype._handleFacetListItemPress=function(i){this._navToFilterItemsPage(i.getSource());};H.prototype._navToFilterItemsPage=function(i){this._selectedFacetItem=i;var j=this.getAggregation("dialog").getContent()[0];var k=i.getCustomData();h(k.length===1,"There should be exactly one custom data for the original facet list item index");var M=k[0].getValue();var Q=this.getLists()[M];this._listIndexAgg=this.indexOfAggregation("lists",Q);if(this._listIndexAgg==M){var R=this._getFilterItemsPage(j);Q.fireListOpen({});this._moveListToDisplayContainer(Q,R);R.setSubHeader(this._createFilterItemsSearchFieldBar(Q));var U=this._createSelectAllCheckboxBar(Q);if(U){R.insertContent(U,0);}R.setTitle(Q.getTitle());j.to(R);}};H.prototype._navFromFilterItemsPage=function(i){var j=i.getPages()[1];var k=this._restoreListFromDisplayContainer(j);if(k.getMode()===x.MultiSelect){k._updateActiveState();}k._fireListCloseEvent();k._bSearchEventDefaultBehavior&&k._search("");this._selectedFacetItem.setCounter(k.getAllCount());i.backToTop();};H.prototype._moveListToDisplayContainer=function(i,j){this._listAggrIndex=this.indexOfAggregation("lists",i);h(this._listAggrIndex>-1,"The lists index should be valid.");C.prototype.removeAggregation.call(this,"lists",i,true);j.addAggregation("content",i,false);i.setAssociation("facetFilter",this,true);this._displayedList=i;};H.prototype._restoreListFromDisplayContainer=function(i){var j=i.removeAggregation("content",this._displayedList,true);this.insertAggregation("lists",j,this._listAggrIndex,j.getActive());this._listAggrIndex=-1;this._displayedList=null;return j;};H.prototype._getSequencedLists=function(){var M=-1;var k=[];var Q=this.getLists();if(Q.length>0){for(var i=0;i<Q.length;i++){if(Q[i].getActive()){if(Q[i].getSequence()<-1){Q[i].setSequence(-1);}else if(Q[i].getSequence()>M){M=Q[i].getSequence();}k.push(Q[i]);}else if(!Q[i].getRetainListSequence()){Q[i].setSequence(-1);}}for(var j=0;j<k.length;j++){if(k[j].getSequence()<=-1){M+=1;k[j].setSequence(M);}}if(k.length>1){k.sort(function(R,U){return R.getSequence()-U.getSequence();});}}return k;};H.prototype._getSummaryBar=function(){var i=this.getAggregation("summaryBar"),j=this.getType();if(!i){var k=new m({maxLines:1});i=new n({content:[k],active:j===G.Light?true:false,design:v.Info,ariaLabelledBy:k,press:function(M){this.openFilterDialog();}.bind(this)});i._setRootAccessibilityRole("group");this.setAggregation("summaryBar",i);}return i;};H.prototype._createResetButton=function(){var j=new B({type:z.Transparent,icon:I.getIconURI("undo"),tooltip:this._bundle.getText("FACETFILTER_RESET"),press:function(k){this._addDelegateFlag=true;this._invalidateFlag=true;this.fireReset();var M=this.getLists();for(var i=0;i<M.length;i++){M[i]._setSearchValue("");M[i]._applySearch();var Q=M[i].getItems()[0];if(Q){Q.focus();}}this.invalidate();}.bind(this)});return j;};H.prototype._addOKButtonToPopover=function(i){var j=i.getFooter(),k;if(!j){k=new B({text:this._bundle.getText("FACETFILTER_ACCEPT"),tooltip:this._bundle.getText("FACETFILTER_ACCEPT"),press:function(){this._closePopover();}.bind(this)});j=new O({content:[new T(),k]});i.setFooter(j);}};H.prototype._getSummaryText=function(){var k=", ";var M=" ";var Q="";var R=true;var U=this.getLists();if(U.length>0){for(var i=0;i<U.length;i++){var V=U[i];if(V.getActive()){var W=this._getSelectedItemsText(V);var X="";for(var j=0;j<W.length;j++){X=X+W[j]+k;}if(X){X=X.substring(0,X.lastIndexOf(k)).trim();if(R){Q=this._bundle.getText("FACETFILTER_INFOBAR_FILTERED_BY",[V.getTitle(),X]);R=false;}else{Q=Q+M+this._bundle.getText("FACETFILTER_INFOBAR_AND")+M+this._bundle.getText("FACETFILTER_INFOBAR_AFTER_AND",[V.getTitle(),X]);}}}}}if(!Q){Q=this._bundle.getText("FACETFILTER_INFOBAR_NO_FILTERS");}return Q;};H.prototype._getSelectedItemsText=function(i){var j=i.getSelectedItems().map(function(k){return k.getText();});i._oSelectedKeys&&Object.getOwnPropertyNames(i._oSelectedKeys).forEach(function(k){j.indexOf(i._oSelectedKeys[k])===-1&&j.push(i._oSelectedKeys[k]);});return j;};H.prototype._addResetToSummary=function(i){if(i.getContent().length===1){i.addContent(new T({width:""}));var j=this._createResetButton();i.addContent(j);j.addStyleClass("sapUiSizeCompact");j.addStyleClass("sapMFFRefresh");j.addStyleClass("sapMFFBtnHoverable");}};H.prototype._removeResetFromSummary=function(i){if(i.getContent().length===3){var j=i.removeAggregation("content",1);j.destroy();var k=i.removeAggregation("content",1);k.destroy();}};H.prototype._removeList=function(i){if(i){var j=this._buttons[i.getId()];if(j){this.removeAggregation("buttons",j);j.destroy();}var R=this._removeFacetIcons[i.getId()];if(R){this.removeAggregation("removeIcons",R);R.destroy();}delete this._buttons[i.getId()];delete this._removeFacetIcons[i.getId()];}};H.prototype._getScrollingArrow=function(j){var k=null;var M={src:"sap-icon://navigation-"+j+"-arrow"};if(j==="left"){k=this.getAggregation("arrowLeft");if(!k){M.id=this.getId()+"-arrowScrollLeft";k=I.createControlByURI(M);var Q=["sapMPointer","sapMFFArrowScroll","sapMFFArrowScrollLeft"];for(var i=0;i<Q.length;i++){k.addStyleClass(Q[i]);k.setTooltip(this._bundle.getText("FACETFILTER_PREVIOUS"));}this.setAggregation("arrowLeft",k);}}else if(j==="right"){k=this.getAggregation("arrowRight");if(!k){M.id=this.getId()+"-arrowScrollRight";k=I.createControlByURI(M);var R=["sapMPointer","sapMFFArrowScroll","sapMFFArrowScrollRight"];for(var i=0;i<R.length;i++){k.addStyleClass(R[i]);k.setTooltip(this._bundle.getText("FACETFILTER_NEXT"));}this.setAggregation("arrowRight",k);}}else{L.error("Scrolling arrow name "+j+" is not valid");}return k;};H.prototype._checkOverflow=function(){var i=this.getDomRef("head"),$=q(i),j=this.$(),k=false,M=false,Q=false,R=null,U=null,V=null;if(i){R=i.scrollLeft;U=i.scrollWidth;V=i.clientWidth;if(U>V){if(U-V==1){U=V;}else{Q=true;}}j.toggleClass("sapMFFScrolling",Q);j.toggleClass("sapMFFNoScrolling",!Q);this._lastScrolling=Q;if(!this._bRtl){k=R>0;M=(U>V)&&(U>R+V);}else{M=$.scrollLeftRTL()>0;k=$.scrollRightRTL()>0;}if((M!=this._bPreviousScrollForward)||(k!=this._bPreviousScrollBack)){j.toggleClass("sapMFFNoScrollBack",!k);j.toggleClass("sapMFFNoScrollForward",!M);}}};H.prototype.onclick=function(i){var j=i.target.id;if(j){var k=this.getId(),M=i.target;i.preventDefault();if(j==k+"-arrowScrollLeft"){M.tabIndex=-1;M.focus();this._scroll(-H.SCROLL_STEP,500);}else if(j==k+"-arrowScrollRight"){M.tabIndex=-1;M.focus();this._scroll(H.SCROLL_STEP,500);}}};H.prototype._scroll=function(i,j){var k=this.getDomRef("head");var M=k.scrollLeft;if(!D.browser.internet_explorer&&this._bRtl){i=-i;}var Q=M+i;q(k).stop(true,true).animate({scrollLeft:Q},j);};H.prototype._enableTouchSupport=function(){var i=function(M){var Q=this.getType();if(Q===G.Light){return;}M.preventDefault();if(this._iInertiaIntervalId){window.clearInterval(this._iInertiaIntervalId);}this.startScrollX=this.getDomRef("head").scrollLeft;this.startTouchX=M.touches[0].pageX;this._bTouchNotMoved=true;this._lastMoveTime=new Date().getTime();}.bind(this);var j=function(M){var Q=this.getType();if(Q===G.Light){return;}var R=M.touches[0].pageX-this.startTouchX;var U=this.getDomRef("head");var V=U.scrollLeft;var W=this.startScrollX-R;U.scrollLeft=W;this._bTouchNotMoved=false;var X=new Date().getTime()-this._lastMoveTime;this._lastMoveTime=new Date().getTime();if(X>0){this._velocity=(W-V)/X;}M.preventDefault();}.bind(this);var k=function(M){var Q=this.getType();if(Q===G.Light){return;}if(this._bTouchNotMoved===false){M.preventDefault();var R=this.getDomRef("head");var U=50;var V=Math.abs(this._velocity/10);this._iInertiaIntervalId=window.setInterval(function(){this._velocity=this._velocity*0.80;var W=this._velocity*U;R.scrollLeft=R.scrollLeft+W;if(Math.abs(this._velocity)<V){window.clearInterval(this._iInertiaIntervalId);this._iInertiaIntervalId=undefined;}},U);}else if(this._bTouchNotMoved===true){this.onclick(M);M.preventDefault();}this._bTouchNotMoved=undefined;this._lastMoveTime=undefined;}.bind(this);this.addEventDelegate({ontouchstart:i},this);this.addEventDelegate({ontouchend:k},this);this.addEventDelegate({ontouchmove:j},this);};return H;});
sap.ui.predefine('sap/m/FacetFilterItem',['./ListItemBase','./library','./FacetFilterItemRenderer'],function(L,l,F){"use strict";var a=L.extend("sap.m.FacetFilterItem",{metadata:{library:"sap.m",properties:{key:{type:"string",group:"Data",defaultValue:null},text:{type:"string",group:"Misc",defaultValue:null},count:{type:"int",group:"Misc",defaultValue:null,deprecated:true}}}});a.prototype.setCount=function(c){this.setProperty("count",c);this.setProperty("counter",c);return this;};a.prototype.setCounter=function(c){this.setProperty("count",c);this.setProperty("counter",c);return this;};a.prototype.init=function(){this.attachEvent("_change",this._itemTextChange);L.prototype.init.apply(this);this.addStyleClass("sapMFFLI");};a.prototype.exit=function(){L.prototype.exit.apply(this);this.detachEvent("_change",this._itemTextChange);};a.prototype._itemTextChange=function(e){if(e.getParameter("name")==="text"){this.informList("TextChange",e.getParameter("newValue"));}};return a;});
sap.ui.predefine('sap/m/FacetFilterItemRenderer',['./ListItemBaseRenderer','sap/ui/core/Renderer'],function(L,R){"use strict";var F=R.extend(L);F.apiVersion=2;F.renderLIContent=function(r,c){r.openStart("div",c);if(c.getParent()&&c.getParent().getWordWrap()){r.class("sapMFFLITitleWrap");}else{r.class("sapMFFLITitle");}r.openEnd();r.text(c.getText());r.close("div");};return F;},true);
sap.ui.predefine('sap/m/FacetFilterList',['./List','./library','sap/ui/model/ChangeReason','sap/ui/model/Filter','./FacetFilterListRenderer','./FacetFilterItem',"sap/base/Log","sap/ui/model/FilterOperator","sap/ui/model/FilterType"],function(L,l,C,F,a,b,c,d,e){"use strict";var f=l.ListMode;var g=l.FacetFilterListDataType;var h=L.extend("sap.m.FacetFilterList",{metadata:{library:"sap.m",properties:{title:{type:"string",group:"Appearance",defaultValue:null},wordWrap:{type:"boolean",group:"Appearance",defaultValue:false},multiSelect:{type:"boolean",group:"Behavior",defaultValue:true,deprecated:true},active:{type:"boolean",group:"Behavior",defaultValue:true},enableCaseInsensitiveSearch:{type:"boolean",group:"Behavior",defaultValue:false,deprecated:false},allCount:{type:"int",group:"Appearance",defaultValue:null},sequence:{type:"int",group:"Behavior",defaultValue:-1},key:{type:"string",group:"Identification",defaultValue:null},showRemoveFacetIcon:{type:"boolean",group:"Misc",defaultValue:true},retainListSequence:{type:"boolean",group:"Misc",defaultValue:false},dataType:{type:"sap.m.FacetFilterListDataType",group:"Misc",defaultValue:g.String}},events:{listOpen:{allowPreventDefault:true},listClose:{parameters:{selectedItems:{type:"sap.m.FacetFilterItem[]"},allSelected:{type:"boolean"},selectedKeys:{type:"object"}}},search:{allowPreventDefault:true,parameters:{term:{type:"string"}}}}}});h.prototype.setTitle=function(t){this.setProperty("title",t,true);this._updateFacetFilterButtonText();return this;};h.prototype.setMultiSelect=function(v){this.setProperty("multiSelect",v,true);var m=v?f.MultiSelect:f.SingleSelectMaster;this.setMode(m);return this;};h.prototype.setMode=function(m){if(m===f.MultiSelect||m===f.SingleSelectMaster){L.prototype.setMode.call(this,m);this.setProperty("multiSelect",m===f.MultiSelect?true:false,true);}return this;};h.prototype._applySearch=function(){var s=this._getSearchValue();if(s===null){return;}this._bSearchEventDefaultBehavior&&this._search(s,true);this._updateSelectAllCheckBox();};h.prototype.getSelectedItems=function(){var s=[];var o={};var i=L.prototype.getSelectedItems.apply(this,arguments);i.forEach(function(I){s.push(new b({text:I.getText(),key:I.getKey(),selected:true}));o[I.getKey()]=true;});var S=this.getSelectedKeys();var j=Object.getOwnPropertyNames(S);if(i.length<j.length){j.forEach(function(k){if(!o[k]){s.push(new b({text:S[k],key:k,selected:true}));}});}return s;};h.prototype.getSelectedItem=function(){var i=L.prototype.getSelectedItem.apply(this,arguments);var s=Object.getOwnPropertyNames(this.getSelectedKeys());if(!i&&s.length>0){i=new b({text:this.getSelectedKeys()[s[0]],key:s[0],selected:true});}return i;};h.prototype.removeSelections=function(A){if(this._allowRemoveSelections){A?this.setSelectedKeys():L.prototype.removeSelections.call(this,A);}return this;};h.prototype.getSelectedKeys=function(){var r={};var k=this._oSelectedKeys;Object.getOwnPropertyNames(k).forEach(function(i){r[i]=k[i];});return r;};h.prototype.setSelectedKeys=function(k){this._oSelectedKeys={};var K=false;k&&Object.getOwnPropertyNames(k).forEach(function(i){this._addSelectedKey(i,k[i]);K=true;},this);if(K){if(this.getMode()===f.MultiSelect){this.setActive(true);}this._selectItemsByKeys();}else{L.prototype.removeSelections.call(this);}};h.prototype._getNonGroupItems=function(){var i=[];this.getItems().forEach(function(I){if(I.getMode()!==f.None){i.push(I);}});return i;};h.prototype.removeSelectedKey=function(k,t){if(this._removeSelectedKey(k,t)){this._getNonGroupItems().forEach(function(i){var I=i.getKey()||i.getText();k===I&&i.setSelected(false);});}};h.prototype.removeSelectedKeys=function(){this._oSelectedKeys={};L.prototype.removeSelections.call(this,true);};h.prototype.removeItem=function(i){var I=L.prototype.removeItem.apply(this,arguments);if(!this._filtering){I&&I.getSelected()&&this.removeSelectedKey(I.getKey(),I.getText());return I;}};h.prototype.init=function(){this._firstTime=true;this._bSearchEventDefaultBehavior=true;this._saveBindInfo;this._oSelectedKeys={};L.prototype.init.call(this);this.setMode(f.MultiSelect);this.setIncludeItemInSelection(true);this.setGrowing(true);this.setRememberSelections(false);this._searchValue="";this.attachUpdateFinished(function(E){var u=E.getParameter("reason");u=u?u.toLowerCase():u;if(u==="change"){var B=this.getBinding("items"),m=B?B.getModel():null;if(m&&m.getProperty(B.getPath())){this._iAllItemsCount=m.getProperty(B.getPath()).length||0;}this._oSelectedKeys={};this._getNonGroupItems().forEach(function(i){if(i.getSelected()){this._addSelectedKey(i.getKey(),i.getText());}},this);}if(u!==C.Filter.toLowerCase()){this._selectItemsByKeys();}this._updateFacetFilterButtonText();this._updateSelectAllCheckBox();});this._allowRemoveSelections=true;this._bOriginalActiveState;this._iAllItemsCount;};h.prototype._resetItemsBinding=function(){if(this.isBound("items")){this._setSearchValue("");this._allowRemoveSelections=false;L.prototype._resetItemsBinding.apply(this,arguments);this._allowRemoveSelections=true;}};h.prototype._fireListCloseEvent=function(){var s=this.getSelectedItems();var S=this.getSelectedKeys();var A=s.length===0;this._firstTime=true;this.fireListClose({selectedItems:s,selectedKeys:S,allSelected:A});};h.prototype._updateActiveState=function(){var o=sap.ui.getCore().byId(this.getAssociation("allcheckbox"));if(Object.getOwnPropertyNames(this._oSelectedKeys).length>0||(o&&o.getSelected())){this.setActive(true);}};h.prototype._handleSearchEvent=function(E){var s=E.getParameters()["query"];if(s===undefined){s=E.getParameters()["newValue"];}this._bSearchEventDefaultBehavior=this.fireSearch({term:s,clearButtonPressed:E.getParameters()["clearButtonPressed"]});this._bSearchEventDefaultBehavior?this._search(s):this._setSearchValue(s);this._updateSelectAllCheckBox();};h.prototype._search=function(s,i){var j,B,u,U,p,o,P,k,n=0,m=this.getBinding("items"),q=this.getBindingInfo("items");function r(M){return M instanceof sap.ui.model.odata.ODataModel||M instanceof sap.ui.model.odata.v2.ODataModel||M instanceof sap.ui.model.odata.v4.ODataModel;}if(i||(s!==this._searchValue)){this._searchValue=s;if(q&&q.binding){j=q.binding.aFilters;if(j.length>0){n=j[0].aFilters.length;if(this._firstTime){this._saveBindInfo=j[0].aFilters[0][0];this._firstTime=false;}}}if(m){if(s||n>0){k=q.template?q.template:q.factory();B=k.getBindingInfo("text").parts;p=B[0].path;if(p||p===""){u=[];B.forEach(function(t){u.push(new F(t.path,d.Contains,s));});if(this.getEnableCaseInsensitiveSearch()&&r(m.getModel())){u.forEach(function(t){t.bCaseSensitive=false;});}P=new F(u,false);if(n>1){o=new F([P,this._saveBindInfo],true);}else{if(this._saveBindInfo>""&&U.sPath!=this._saveBindInfo.sPath){o=new F([P,this._saveBindInfo],true);}else{if(s==""){o=[];}else{o=new F([P],true);}}}m.filter(o,e.Control);}}else{m.filter([],e.Control);}}else{c.warning("No filtering performed","The list must be defined with a binding for search to work",this);}}};h.prototype._getSearchValue=function(){return this._searchValue;};h.prototype._updateSelectAllCheckBox=function(){var i=this._getNonGroupItems(),I=i.length,o,A,s;function j(k){return k.getSelected();}if(this.getMultiSelect()){o=sap.ui.getCore().byId(this.getAssociation("allcheckbox"));A=I>0&&I===i.filter(j).length;s=this.getActive()&&A;o&&o.setSelected(s);}};h.prototype._addSelectedKey=function(k,t){if(!k&&!t){c.error("Both sKey and sText are not defined. At least one must be defined.");return;}if(this.getMode()===f.SingleSelectMaster){this.removeSelectedKeys();}if(!k){k=t;}this._oSelectedKeys[k]=t||k;};h.prototype._removeSelectedKey=function(k,t){if(!k&&!t){c.error("Both sKey and sText are not defined. At least one must be defined.");return false;}if(!k){k=t;}delete this._oSelectedKeys[k];return true;};h.prototype._setSearchValue=function(v){this._searchValue=v;};h.prototype._isItemSelected=function(i){return!!(this._oSelectedKeys[i&&(i.getKey()||i.getText())]);};h.prototype._updateFacetFilterButtonText=function(){if(this.getParent()&&this.getParent()._setButtonText){this.getParent()._setButtonText(this);}};h.prototype._selectItemsByKeys=function(){this._getNonGroupItems().forEach(function(i){i.setSelected(this._isItemSelected(i));},this);this._updateFacetFilterButtonText();};h.prototype._handleSelectAllClick=function(s){var A,i,I=this._getNonGroupItems(),j=I.length;I.forEach(function(o){if(s){this._addSelectedKey(o.getKey(),o.getText());}else{this._removeSelectedKey(o.getKey(),o.getText());}o.setSelected(s,true);},this);function k(o){return o.getSelected();}if(this.getMode()===f.MultiSelect){i=j>0&&j===I.filter(k).length;A=this._getOriginalActiveState()||(s&&i);this.setActive(A);}setTimeout(this._updateSelectAllCheckBox.bind(this),0);};h.prototype.onItemTextChange=function(i,n){var k=i.getKey();if(this._oSelectedKeys[k]&&n&&!this._filtering){this._oSelectedKeys[k]=n;}};h.prototype.onItemSelectedChange=function(i,s){var A;if(s){this._addSelectedKey(i.getKey(),i.getText());}else{this._removeSelectedKey(i.getKey(),i.getText());}L.prototype.onItemSelectedChange.apply(this,arguments);if(this.getMode()===f.MultiSelect){A=this._getOriginalActiveState()||s||this.getSelectedItems().length>1;this.setActive(A);}!this.getDomRef()&&this.getParent()&&this.getParent().getDomRef()&&this.getParent().invalidate();setTimeout(this._updateSelectAllCheckBox.bind(this),0);};h.prototype.updateItems=function(r){var p=document.activeElement;this._filtering=r===C.Filter;L.prototype.updateItems.apply(this,arguments);this._filtering=false;if(p&&p.getAttribute("id")!==document.activeElement.getAttribute("id")){this.focus();}if(!this.getGrowing()||r===C.Filter){this._selectItemsByKeys();}};h.prototype._getOriginalActiveState=function(){return this._bOriginalActiveState;};h.prototype._preserveOriginalActiveState=function(){this._bOriginalActiveState=this.getActive();};h.prototype._showBusyIndicator=function(){L.prototype._showBusyIndicator.apply(this,arguments);this.fireEvent("listItemsChange");};h.prototype._hideBusyIndicator=function(){L.prototype._hideBusyIndicator.apply(this,arguments);this.fireEvent("listItemsChange");};return h;});
sap.ui.predefine('sap/m/FacetFilterListRenderer',['./ListRenderer','sap/ui/core/Renderer'],function(L,R){"use strict";var F=R.extend(L);F.apiVersion=2;return F;},true);
sap.ui.predefine('sap/m/FacetFilterRenderer',["sap/m/library","sap/ui/Device","sap/ui/core/InvisibleText"],function(l,D,I){"use strict";var F=l.FacetFilterType;var a={apiVersion:2};a.render=function(r,c){if(c.getType()===F.Light||c.getShowSummaryBar()){a.renderSummaryBar(r,c);}else{a.renderSimpleFlow(r,c);}};a.renderSimpleFlow=function(r,c){r.openStart("div",c);r.class("sapMFF");r.accessibilityState({role:"toolbar",roledescription:c._bundle.getText("FACETFILTER_TITLE")});if(c._lastScrolling){r.class("sapMFFScrolling");}else{r.class("sapMFFNoScrolling");}if(c.getShowReset()){r.class("sapMFFResetSpacer");}r.openEnd();if(D.system.desktop){r.renderControl(c._getScrollingArrow("left"));}r.openStart("div",c.getId()+"-head");r.class("sapMFFHead");r.openEnd();a.renderFacetFilterListButtons(c,r);if(c.getShowPersonalization()){a.renderAddFilterButton(c,r);}r.close("div");if(D.system.desktop){r.renderControl(c._getScrollingArrow("right"));}if(c.getShowReset()){r.openStart("div");r.class("sapMFFResetDiv");r.openEnd();r.renderControl(c.getAggregation("resetButton"));r.close("div");}r.close("div");};a.renderSummaryBar=function(r,c){r.openStart("div",c);r.class("sapMFF");r.openEnd();r.renderControl(c.getAggregation("summaryBar"));r.close("div");};a.getAriaAnnouncement=function(k,b){return I.getStaticId("sap.m",b||"FACETFILTER_"+k.toUpperCase());};a.renderFacetFilterListButtons=function(c,r){var L=c._getSequencedLists(),b=L.length,s=c.getShowPersonalization(),A=s&&(c.getType()===F.Simple),f=A?b+1:b,B,i;for(i=0;i<b;i++){var d=L[i].getItems().length>0,e=L[i].getActive(),g=c._bCheckForAddListBtn&&(d||e);if(!c._bCheckForAddListBtn||g){B=c._getButtonForList(L[i]);a.addPositionInfoForButton(c,B,i+1,f);if(s){B.addAriaDescribedBy(a.getAriaAnnouncement("ARIA_REMOVE"));}r.renderControl(B);if(s){r.renderControl(c._getFacetRemoveIcon(L[i]));}}}return this;};a.renderAddFilterButton=function(c,r){var A=c.getAggregation("addFacetButton"),b=c._getSequencedLists().length+1;a.addPositionInfoForButton(c,A,b,b);r.renderControl(A);return this;};a.addPositionInfoForButton=function(c,b,p,s){var S=a.createStaticPositioningLabel(c,p,s);a.clearOldPositioningLabels(c,b);b.addAriaDescribedBy(S);return this;};a.clearOldPositioningLabels=function(c,b){var o=b.removeAllAriaDescribedBy(),r=this.getAriaAnnouncement("ARIA_REMOVE"),i;o.forEach(function(s){if(r===s){return;}i=sap.ui.getCore().byId(s);i&&i.destroy();});return this;};a.createStaticPositioningLabel=function(c,p,s){var r=sap.ui.getCore().getLibraryResourceBundle("sap.m"),f=r.getText("FACETFILTER_ARIA_FACET_FILTER"),P=r.getText("FACETFILTERLIST_ARIA_POSITION",[p,s]),S=new I({text:f+" "+P}).toStatic();c._aOwnedLabels.push(S.getId());return S;};return a;},true);
sap.ui.predefine('sap/m/FeedContent',['./library','sap/ui/core/Control','sap/m/Text','sap/ui/Device','./FeedContentRenderer',"sap/ui/events/KeyCodes"],function(l,C,T,D,F,K){"use strict";var S=l.Size;var a=C.extend("sap.m.FeedContent",{metadata:{library:"sap.m",properties:{"size":{type:"sap.m.Size",group:"Misc",defaultValue:S.Auto},"contentText":{type:"string",group:"Misc",defaultValue:null},"subheader":{type:"string",group:"Misc",defaultValue:null},"value":{type:"string",group:"Misc",defaultValue:null},"valueColor":{type:"sap.m.ValueColor",group:"Misc",defaultValue:null},"truncateValueTo":{type:"int",group:"Misc",defaultValue:4}},defaultAggregation:"_contentTextAgr",aggregations:{"_contentTextAgr":{type:"sap.m.Text",multiple:false,visibility:"hidden"}},events:{"press":{}}}});a.prototype.init=function(){this._oContentText=new T(this.getId()+"-content-text",{maxLines:2});this._oContentText.cacheLineHeight=false;this.setAggregation("_contentTextAgr",this._oContentText,true);this.setTooltip("{AltText}");};a.prototype.onBeforeRendering=function(){this.$().off("mouseenter");this.$().off("mouseleave");};a.prototype.onAfterRendering=function(){this.$().on("mouseenter",this._addTooltip.bind(this));this.$().on("mouseleave",this._removeTooltip.bind(this));};a.prototype.exit=function(){this._oContentText=null;};a.prototype._addTooltip=function(){this.$().attr("title",this.getTooltip_AsString());};a.prototype._removeTooltip=function(){this.$().attr("title",null);};a.prototype.getAltText=function(){var A="";var i=true;if(this.getAggregation("_contentTextAgr").getText()){A+=this.getAggregation("_contentTextAgr").getText();i=false;}if(this.getSubheader()){if(i){A+=""+this.getSubheader();}else{A+="\n"+this.getSubheader();}i=false;}if(this.getValue()){if(i){A+=""+this.getValue();}else{A+="\n"+this.getValue();}}return A;};a.prototype.getTooltip_AsString=function(){var t=this.getTooltip();var s=this.getAltText();if(typeof t==="string"||t instanceof String){s=t.split("{AltText}").join(s).split("((AltText))").join(s);return s;}if(t){return t;}else{return"";}};a.prototype.setContentText=function(t){this._oContentText.setText(t);return this;};a.prototype.ontap=function(e){if(D.browser.msie){this.$().trigger("focus");}this.firePress();};a.prototype.onkeydown=function(e){if(e.which===K.ENTER||e.which===K.SPACE){this.firePress();e.preventDefault();}};a.prototype.attachEvent=function(e,d,f,b){C.prototype.attachEvent.call(this,e,d,f,b);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapMPointer");}return this;};a.prototype.detachEvent=function(e,f,b){C.prototype.detachEvent.call(this,e,f,b);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapMPointer");}return this;};return a;});
sap.ui.predefine('sap/m/FeedContentRenderer',[],function(){"use strict";var F={};F.render=function(r,c){var s=c.getSubheader();var v=c.getValue();var t=c.getTooltip_AsString();if(typeof t!=="string"){t="";}r.write("<div");r.writeControlData(c);r.writeAttribute("role","presentation");r.writeAttributeEscaped("aria-label",t);r.addClass("sapMFC");if(c.hasListeners("press")){r.writeAttribute("tabindex","0");r.addClass("sapMPointer");}r.writeClasses();r.write(">");if(v){r.write("<div");r.writeAttribute("id",c.getId()+"-value");r.addClass("sapMFCValue");r.addClass(c.getValueColor());r.writeClasses();r.write(">");var C=c.getTruncateValueTo();if(v.length>=C&&(v[C-1]==="."||v[C-1]===",")){r.writeEscaped(v.substring(0,C-1));}else if(v){r.writeEscaped(v.substring(0,C));}else{r.writeEscaped("");}r.write("</div>");}r.write("<div");r.addClass("sapMFCCTxt");r.writeClasses();r.write(">");r.renderControl(c._oContentText);r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-subheader");r.addClass("sapMFCSbh");r.writeClasses();r.write(">");r.writeEscaped(s);r.write("</div>");r.write("</div>");};return F;},true);
sap.ui.predefine('sap/m/FeedInput',["./library","sap/ui/core/Control","sap/ui/core/IconPool","sap/m/TextArea","sap/m/Button","./FeedInputRenderer","sap/ui/thirdparty/jquery","sap/base/security/URLListValidator","sap/base/security/sanitizeHTML"],function(l,C,I,T,B,F,q,U,s){"use strict";var a=l.ButtonType;var A=l.Avatar;var b=l.AvatarSize;var c=l.AvatarShape;var M=15,d=2,e=0;var f=C.extend("sap.m.FeedInput",{metadata:{library:"sap.m",designtime:"sap/m/designtime/FeedInput.designtime",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},rows:{type:"int",group:"Appearance",defaultValue:2},showExceededText:{type:"boolean",group:"Behavior",defaultValue:false},maxLength:{type:"int",group:"Behavior",defaultValue:0},growing:{type:"boolean",group:"Behavior",defaultValue:false},growingMaxLines:{type:"int",group:"Behavior",defaultValue:0},placeholder:{type:"string",group:"Appearance",defaultValue:"Post something here"},value:{type:"string",group:"Data",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},iconDisplayShape:{type:"sap.m.AvatarShape",defaultValue:c.Circle},iconInitials:{type:"string",defaultValue:""},iconSize:{type:"sap.m.AvatarSize",defaultValue:b.M},showIcon:{type:"boolean",group:"Behavior",defaultValue:true},iconDensityAware:{type:"boolean",group:"Appearance",defaultValue:true},buttonTooltip:{type:"sap.ui.core.TooltipBase",group:"Accessibility",defaultValue:"Submit"},ariaLabelForPicture:{type:"string",group:"Accessibility",defaultValue:null}},events:{post:{parameters:{value:{type:"string"}}}}}});var _={ATTRIBS:{'style':1,'class':1,'a::href':1,'a::target':1},ELEMENTS:{'a':{cssClass:'sapMLnk'},'abbr':1,'blockquote':1,'br':1,'cite':1,'code':1,'em':1,'h1':{cssClass:'sapMTitle sapMTitleStyleH1'},'h2':{cssClass:'sapMTitle sapMTitleStyleH2'},'h3':{cssClass:'sapMTitle sapMTitleStyleH3'},'h4':{cssClass:'sapMTitle sapMTitleStyleH4'},'h5':{cssClass:'sapMTitle sapMTitleStyleH5'},'h6':{cssClass:'sapMTitle sapMTitleStyleH6'},'p':1,'pre':1,'strong':1,'span':1,'u':1,'dl':1,'dt':1,'dd':1,'ol':1,'ul':1,'li':1}};f.prototype._renderingRules=_;function S(t,g){var h,v,j=t==="a";var k=this._renderingRules.ELEMENTS[t].cssClass||"";for(var i=0;i<g.length;i+=2){h=g[i];v=g[i+1];if(!this._renderingRules.ATTRIBS[h]&&!this._renderingRules.ATTRIBS[t+"::"+h]){g[i+1]=null;continue;}if(h=="href"){if(!U.validate(v)){g[i+1]="#";j=false;}}if(h=="target"){j=false;}if(k&&h.toLowerCase()=="class"){g[i+1]=k+" "+v;k="";}}if(j){g.push("target");g.push("_blank");}if(k){g.push("class");g.push(k);}return g;}function p(t,g){return S.call(this,t,g);}f.prototype._sanitizeHTML=function(t){return s(t,{tagPolicy:p.bind(this),uriRewriter:function(u){if(U.validate(u)){return u;}}});};f.prototype.init=function(){var o=sap.ui.getCore().getLibraryResourceBundle("sap.m");this.setProperty("placeholder",o.getText("FEEDINPUT_PLACEHOLDER"),true);this.setProperty("buttonTooltip",o.getText("FEEDINPUT_SUBMIT"),true);};f.prototype.exit=function(){if(this._oTextArea){this._oTextArea.destroy();}if(this._oButton){this._oButton.destroy();}if(this.oAvatar){this.oAvatar.destroy();}};f.prototype.setRows=function(r){var m=this.getProperty("growingMaxLines");if(r>M){r=M;}else if(r<d){r=d;}if(r>m&&m!==0){this.setProperty("growingMaxLines",r,true);this._getTextArea().setGrowingMaxLines(r);}this.setProperty("rows",r,true);this._getTextArea().setRows(r);return this;};f.prototype.setShowExceededText=function(v){this.setProperty("showExceededText",v,true);this._getTextArea().setShowExceededText(v);return this;};f.prototype.setMaxLength=function(m){this.setProperty("maxLength",m,true);this._getTextArea().setMaxLength(m);return this;};f.prototype.setGrowing=function(g){this.setProperty("growing",g,true);this._getTextArea().setGrowing(g);return this;};f.prototype.setGrowingMaxLines=function(m){var r=this.getProperty("rows");if(m!==e){if(m<r){m=r;}else if(m>M){m=M;}}this.setProperty("growingMaxLines",m,true);this._getTextArea().setGrowingMaxLines(m);return this;};f.prototype.setValue=function(v){this.setProperty("value",v,true);this._getTextArea().setValue(v);this._enablePostButton();return this;};f.prototype.setPlaceholder=function(v){this.setProperty("placeholder",v,true);this._getTextArea().setPlaceholder(v);return this;};f.prototype.setEnabled=function(E){this.setProperty("enabled",E,true);if(this.getDomRef("outerContainer")){if(E){this.getDomRef("outerContainer").classList.remove("sapMFeedInDisabled");}else{this.getDomRef("outerContainer").classList.add("sapMFeedInDisabled");}}this._getTextArea().setEnabled(E);this._enablePostButton();return this;};f.prototype.setButtonTooltip=function(v){this.setProperty("buttonTooltip",v,true);this._getPostButton().setTooltip(v);return this;};f.prototype._getTextArea=function(){var t=this;if(!this._oTextArea){this._oTextArea=new T(this.getId()+"-textArea",{value:this.getValue(),maxLength:this.getMaxLength(),placeholder:this.getPlaceholder(),growing:this.getGrowing(),growingMaxLines:this.getGrowingMaxLines(),showExceededText:this.getShowExceededText(),rows:this.getRows(),liveChange:q.proxy(function(E){var v=E.getParameter("value");this.setProperty("value",v,true);this._enablePostButton();},this)});this._oTextArea.setParent(this);this._oTextArea.addEventDelegate({onAfterRendering:function(){t.$("counterContainer").empty();t.$("counterContainer").html(t._oTextArea.getAggregation("_counter").$());}});}return this._oTextArea;};f.prototype._getPostButton=function(){if(!this._oButton){this._oButton=new B(this.getId()+"-button",{enabled:false,type:a.Default,icon:"sap-icon://feeder-arrow",tooltip:this.getButtonTooltip(),press:q.proxy(function(){this._oTextArea.focus();this.firePost({value:this._sanitizeHTML(this.getValue())});this.setValue(null);},this)});this._oButton.setParent(this);}return this._oButton;};f.prototype._enablePostButton=function(){var P=this._isControlEnabled();var o=this._getPostButton();o.setEnabled(P);};f.prototype._isControlEnabled=function(){var v=this.getValue();return this.getEnabled()&&(typeof v==="string"||v instanceof String)&&v.trim().length>0;};f.prototype._getAvatar=function(){var i=this.getIcon();var g=i?i:I.getIconURI("person-placeholder");if(!this.oAvatar){this.oAvatar=new A({src:g,displayShape:this.getIconDisplayShape(),initials:this.getIconInitials(),displaySize:this.getIconSize()}).addStyleClass("sapMFeedInImage");}else{this.oAvatar.setSrc(g).setDisplayShape(this.getIconDisplayShape()).setInitials(this.getIconInitials()).setDisplaySize(this.getIconSize());}return this.oAvatar;};return f;});
sap.ui.predefine('sap/m/FeedInputRenderer',[],function(){"use strict";var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");var F={};F.render=function(R,c){var m=c.getId();R.write("<div");R.writeControlData(c);R.addClass("sapMFeedInBase");R.writeAttribute("role","group");R.writeAttributeEscaped("aria-label",r.getText("FEED_INPUT_ARIA_LABEL"));R.writeClasses();R.write(">");R.write('<div id="'+m+'-outerContainer"');R.addClass("sapMFeedIn");if(!c.getShowIcon()){R.addClass("sapMFeedInNoIcon");}if(!c.getEnabled()){R.addClass("sapMFeedInDisabled");}R.writeClasses();R.write(">");if(!!c.getShowIcon()){this._addImage(R,c,m);}R.write('<div id="'+m+'-container"');R.addClass("sapMFeedInContainer");R.writeClasses();R.write(">");var t=c._getTextArea();R.renderControl(t);R.renderControl(c._getPostButton());R.write("</div>");R.write("</div>");R.write('<div id="'+m+'-counterContainer"');R.addClass("sapMFeedInCounter");R.writeClasses();R.write(">");R.write("</div>");R.write("</div>");};F._addImage=function(R,c,m){R.write('<figure id="'+m+'-figure" class ="sapMFeedInFigure');if(!!c.getIcon()){R.write('">');}else{R.write(' sapMFeedListItemIsDefaultIcon">');}R.renderControl(c._getAvatar());R.write('</figure>');};return F;},true);
sap.ui.predefine('sap/m/FeedListItem',["./ListItemBase","./Link","./library","./FormattedText","sap/ui/core/IconPool","sap/m/Button","sap/ui/Device","./FeedListItemRenderer"],function(L,a,l,F,I,B,D,b){"use strict";var c=l.ListType;var A=l.Avatar;var d=l.AvatarSize;var e=l.AvatarShape;var f=l.LinkConversion;var g=l.ButtonType;var h=L.extend("sap.m.FeedListItem",{metadata:{library:"sap.m",designtime:"sap/m/designtime/FeedListItem.designtime",properties:{icon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},iconDisplayShape:{type:"sap.m.AvatarShape",defaultValue:e.Circle},iconInitials:{type:"string",defaultValue:""},iconSize:{type:"sap.m.AvatarSize",defaultValue:d.S},activeIcon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},sender:{type:"string",group:"Data",defaultValue:null},text:{type:"string",group:"Data",defaultValue:null},moreLabel:{type:"string",group:"Data",defaultValue:null},lessLabel:{type:"string",group:"Data",defaultValue:null},info:{type:"string",group:"Data",defaultValue:null},timestamp:{type:"string",group:"Data",defaultValue:null},senderActive:{type:"boolean",group:"Behavior",defaultValue:true},iconActive:{type:"boolean",group:"Behavior",defaultValue:true},iconDensityAware:{type:"boolean",defaultValue:true},showIcon:{type:"boolean",group:"Behavior",defaultValue:true},convertLinksToAnchorTags:{type:"sap.m.LinkConversion",group:"Behavior",defaultValue:f.None},convertedLinksDefaultTarget:{type:"string",group:"Behavior",defaultValue:"_blank"},maxCharacters:{type:"int",group:"Behavior",defaultValue:null}},defaultAggregation:"actions",aggregations:{actions:{type:"sap.m.FeedListItemAction",multiple:true},_text:{type:"sap.m.FormattedText",multiple:false,visibility:"hidden"},_actionSheet:{type:"sap.m.ActionSheet",multiple:false,visibility:"hidden"},_actionButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"}},events:{senderPress:{parameters:{domRef:{type:"string"},getDomRef:{type:"function"}}},iconPress:{parameters:{domRef:{type:"string"},getDomRef:{type:"function"}}}}}});h._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");h._nMaxCharactersMobile=300;h._nMaxCharactersDesktop=500;h._sTextShowMore=h._oRb.getText("TEXT_SHOW_MORE");h._sTextShowLess=h._oRb.getText("TEXT_SHOW_LESS");h.prototype.init=function(){L.prototype.init.apply(this);this.setAggregation("_text",new F(this.getId()+"-formattedText"),true);this.setAggregation("_actionButton",new B({id:this.getId()+"-actionButton",type:g.Transparent,icon:"sap-icon://overflow",press:[this._onActionButtonPress,this]}),true);};h.prototype._onActionButtonPress=function(){sap.ui.require(["sap/m/ActionSheet"],this._openActionSheet.bind(this));};h.prototype._openActionSheet=function(j){var o=this.getAggregation("_actionSheet");var k=this.getActions();var m;if(!(o&&o instanceof j)){o=new j({id:this.getId()+"-actionSheet",beforeOpen:[this._onBeforeOpenActionSheet,this]});this.setAggregation("_actionSheet",o,true);}o.destroyAggregation("buttons",true);for(var i=0;i<k.length;i++){m=k[i];o.addButton(new B({icon:m.getIcon(),text:m.getText(),visible:m.getVisible(),enabled:m.getEnabled(),press:m.firePress.bind(m,{"item":this})}));}o.openBy(this.getAggregation("_actionButton"));};h.prototype._onBeforeOpenActionSheet=function(i){var o,t;if(D.system.phone){return;}t=sap.ui.getCore().getConfiguration().getTheme();o=i.getSource().getParent();o.removeStyleClass("sapContrast sapContrastPlus");if(t==="sap_belize"){o.addStyleClass("sapContrast");}else if(t==="sap_belize_plus"){o.addStyleClass("sapContrastPlus");}};h.prototype.invalidate=function(){L.prototype.invalidate.apply(this,arguments);var m=h._sTextShowMore;if(this.getMoreLabel()){m=this.getMoreLabel();}delete this._bTextExpanded;if(this._oLinkExpandCollapse){this._oLinkExpandCollapse.setProperty("text",m,true);}};h.prototype.onBeforeRendering=function(){this.$("realtext").find('a[target="_blank"]').off("click");var o=this.getAggregation("_text");o.setProperty("convertLinksToAnchorTags",this.getConvertLinksToAnchorTags(),true);o.setProperty("convertedLinksDefaultTarget",this.getConvertedLinksDefaultTarget(),true);if(this.getConvertLinksToAnchorTags()===l.LinkConversion.None){o.setHtmlText(this.getText());}else{o.setProperty("htmlText",this.getText(),true);}this._sFullText=o._getDisplayHtml().replace(/\n/g,"<br>");this._sShortText=this._getCollapsedText();if(this._sShortText){this._sShortText=this._sShortText.replace(/<br>/g," ");}this._bEmptyTagsInShortTextCleared=false;};h.prototype.onAfterRendering=function(){if(document.getElementById(this.getAggregation("_actionButton"))){document.getElementById(this.getAggregation("_actionButton").getId()).setAttribute("aria-haspopup","menu");}if(this._checkTextIsExpandable()&&!this._bTextExpanded){this._clearEmptyTagsInCollapsedText();}var r=this.$("realtext");F.prototype.onAfterRendering.apply({$:function(){return r;}});};h.prototype.exit=function(){this.$("realtext").find('a[target="_blank"]').off("click");if(this._oLinkControl){this._oLinkControl.destroy();}if(this.oAvatar){this.oAvatar.destroy();}if(this._oLinkExpandCollapse){this._oLinkExpandCollapse.destroy();}L.prototype.exit.apply(this);};h.prototype.ontap=function(E){if(E.srcControl){if((!this.getIconActive()&&this.oAvatar&&E.srcControl.getId()===this.oAvatar.getId())||(!this.getSenderActive()&&this._oLinkControl&&E.srcControl.getId()===this._oLinkControl.getId())||(!this.oAvatar||(E.srcControl.getId()!==this.oAvatar.getId())&&(!this._oLinkControl||(E.srcControl.getId()!==this._oLinkControl.getId()))&&(!this._oLinkExpandCollapse||(E.srcControl.getId()!==this._oLinkExpandCollapse.getId())))){L.prototype.ontap.apply(this,[E]);}}};h.prototype.onfocusin=function(E){var i=E.srcControl,o=i.getDomRef(),p=this.getParent().getAccessbilityPosition(i);if(i instanceof sap.m.FeedListItem){o.setAttribute("aria-posinset",p.posInset);o.setAttribute("aria-setsize",p.setSize);}};h.prototype._getAvatar=function(){var i=this.getIcon();var s=i?i:I.getIconURI("person-placeholder");if(!this.oAvatar){this.oAvatar=new A({src:s,displayShape:this.getIconDisplayShape(),initials:this.getIconInitials(),displaySize:this.getIconSize(),ariaLabelledBy:this.getSender()});}var t=this;if(this.getIconActive()){this.oAvatar.addStyleClass("sapMFeedListItemImage");if(!this.oAvatar.hasListeners("press")){this.oAvatar.attachPress(function(){t.fireIconPress({domRef:this.getDomRef(),getDomRef:this.getDomRef.bind(this)});});}}else{this.oAvatar.addStyleClass("sapMFeedListItemImageInactive");}return this.oAvatar;};h.prototype._getLinkSender=function(w){if(!this._oLinkControl){var t=this;this._oLinkControl=new a({press:function(){t.fireSenderPress({domRef:this.getDomRef(),getDomRef:this.getDomRef.bind(this)});}});this._oLinkControl.setParent(this,null,true);}if(w){this._oLinkControl.setProperty("text",this.getSender()+h._oRb.getText("COLON"),true);}else{this._oLinkControl.setProperty("text",this.getSender(),true);}this._oLinkControl.setProperty("enabled",this.getSenderActive(),true);return this._oLinkControl;};h.prototype._activeHandlingInheritor=function(){var s=this.getActiveIcon();if(this.oAvatar&&s){this.oAvatar.setSrc(s);}};h.prototype._inactiveHandlingInheritor=function(){var s=this.getIcon()?this.getIcon():I.getIconURI("person-placeholder");if(this.oAvatar){this.oAvatar.setSrc(s);}};h.prototype._getCollapsedText=function(){this._nMaxCollapsedLength=this.getMaxCharacters();if(this._nMaxCollapsedLength===0){if(D.system.phone){this._nMaxCollapsedLength=h._nMaxCharactersMobile;}else{this._nMaxCollapsedLength=h._nMaxCharactersDesktop;}}var p=this._convertHtmlToPlainText(this._sFullText);var t=null;if(p&&p.length>this._nMaxCollapsedLength){var C=p.substring(0,this._nMaxCollapsedLength);var n=C.lastIndexOf(" ");if(n>0){C=C.substr(0,n);}if(p.length===this._sFullText.length){t=C;}else{t=this._convertPlainToHtmlText(C);}}return t;};h.prototype._clearEmptyTagsInCollapsedText=function(){var r;if(this._bEmptyTagsInShortTextCleared){return;}this._bEmptyTagsInShortTextCleared=true;do{r=this.$("realtext").find(":empty").remove();}while(r.length>0);this._sShortText=this.$("realtext").html();};h.prototype._toggleTextExpanded=function(){var $=this.$("realtext");var i=this.$("threeDots");var m=h._sTextShowMore;var s=h._sTextShowLess;if(this.getMoreLabel()){m=this.getMoreLabel();}if(this.getLessLabel()){s=this.getLessLabel();}if(this._bTextExpanded){$.html(this._sShortText.replace(/&#xa;/g,"<br>"));i.text(" ... ");this._oLinkExpandCollapse.setText(m);this._bTextExpanded=false;this._clearEmptyTagsInCollapsedText();}else{$.html(this._sFullText.replace(/&#xa;/g,"<br>"));i.text("  ");this._oLinkExpandCollapse.setText(s);this._bTextExpanded=true;}};h.prototype._getLinkExpandCollapse=function(){var m=h._sTextShowMore;if(this.getMoreLabel()){m=this.getMoreLabel();}if(!this._oLinkExpandCollapse){this._oLinkExpandCollapse=new a({text:m,press:[this._toggleTextExpanded,this]});this._bTextExpanded=false;this._oLinkExpandCollapse.setParent(this,null,true);}return this._oLinkExpandCollapse;};h.prototype._convertHtmlToPlainText=function(i){var r=/(<([^>]+)>)/ig;return i.replace(r,"");};h.prototype._convertPlainToHtmlText=function(j){var s=this._sFullText;var r=/(<([^>]+)>)/ig;var E=s.split(r);var t="";for(var i=0;i<E.length;i++){if(E[i].length===0){continue;}if(j.length>0&&E[i].indexOf(j.trim())!==-1){E[i]=j;}if(/^<.+>$/.test(E[i])){t=t+E[i];E[i+1]="";continue;}if(j.indexOf(E[i].trim())===-1){continue;}else{j=j.replace(E[i],"");}t=t+E[i];}return t;};h.prototype._checkTextIsExpandable=function(){return this._sShortText!==null;};h.prototype.setType=function(t){if(this.getType()!==t){if(t===c.Navigation){this.setProperty("type",c.Active);}else{this.setProperty("type",t);}}return this;};return h;});
sap.ui.require.preload({
// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
	"sap/ushell/renderers/fiori2/search/SearchModel.js":function(){(function(g){"use strict";sap.ui.define(['sap/ushell/renderers/fiori2/search/SearchHelper','sap/ushell/renderers/fiori2/search/SearchResultListFormatter','sap/ushell/renderers/fiori2/search/SearchFacetsFormatter','sap/ushell/renderers/fiori2/search/SearchTabStripsFormatter','sap/ushell/renderers/fiori2/search/suggestions/SuggestionHandler','sap/ushell/renderers/fiori2/search/SearchConfiguration','sap/ushell/renderers/fiori2/search/personalization/PersonalizationStorage','sap/ushell/renderers/fiori2/search/eventlogging/EventLogger','sap/ushell/renderers/fiori2/search/SearchUrlParser','sap/ushell/renderers/fiori2/search/cFLPUtil'],function(S,c,d,f,h,l,P,E,m,n){sap.ushell.renderers.fiori2.search.getModelSingleton=function(){if(!sap.ushell.renderers.fiori2.search.oModel){sap.ushell.renderers.fiori2.search.oModel=new sap.ushell.renderers.fiori2.search.SearchModel();}return sap.ushell.renderers.fiori2.search.oModel;};var o;var p=sap.ui.model.json.JSONModel.extend("sap.ushell.renderers.fiori2.search.SearchModel",{constructor:function(a){var t=this;a=a||{};sap.ui.model.json.JSONModel.prototype.constructor.apply(t,[]);t.config=l.getInstance();t.setSizeLimit(1000);t.suggestionHandler=new h({model:this});t.searchApplications=S.refuseOutdatedRequests(t.searchApplications,'search');t.pageSize=10;t.appTopDefault=20;t.boTopDefault=t.pageSize;t.setProperty('/isQueryInvalidated',true);t.setProperty('/isBusy',false);t.setProperty('/busyDelay',0);t.setProperty('/tableColumns',[]);t.setProperty('/tableSortableColumns',[]);t.setProperty('/tableResults',[]);t.setProperty('/results',[]);t.setProperty('/appResults',[]);t.setProperty('/boResults',[]);t.setProperty('/origBoResults',[]);t.setProperty('/count',0);t.setProperty('/boCount',0);t.setProperty('/appCount',0);t.setProperty('/facets',[]);t.setProperty('/dataSources',[t.allDataSource,t.appDataSource]);t.setProperty('/appSearchDataSource',null);t.setProperty('/currentPersoServiceProvider',null);t.setProperty('/businessObjSearchEnabled',true);t.setProperty('/initializingObjSearch',false);t.setProperty('/suggestions',[]);t.setProperty('/resultToDisplay',S.loadResultViewType());t.setProperty('/displaySwitchVisibility',false);t.setProperty('/documentTitle','Search');t.setProperty('/top',t.boTopDefault);t.setProperty('/orderBy',{});t.setProperty('/facetVisibility',false);t.setProperty('/focusIndex',0);t.setProperty('/errors',[]);t.setProperty('/isErrorPopovered',false);this.setProperty("/nlqSuccess",false);this.setProperty("/nlqDescription","");this.setProperty("/firstSearchWasExecuted",false);t.setProperty('/multiSelectionAvailable',false);t.setProperty('/multiSelectionEnabled',false);t.setProperty('/multiSelection/actions',[]);t.setProperty('/inputHelpSelectedItems',null);t.setProperty('/inputHelp',null);if(a.searchModel&&a.searchModel._initBusinessObjSearchProm){t._initBusinessObjSearchProm=a.searchModel._initBusinessObjSearchProm;t.oFacetFormatter=new d(t);}t.initBusinessObjSearch();t.searchUrlParser=new m({model:this});},createSina:function(){var s=new jQuery.Deferred();sap.ui.require(['sap/ushell/renderers/fiori2/search/sinaNext/sina/sinaFactory'],function(a){if(!this.config.searchBusinessObjects){a.createAsync('dummy').then(function(b){s.resolve(b);},function(e){s.reject(e);});return;}var t=[];if(window.location.href.indexOf("demo/FioriLaunchpad.")!==-1){t=['sample'];}else{t=['abap_odata','inav2','dummy'];}n.readCFlpConfiguration(t).then(function(t){if(this.config.sinaConfiguration){t=[this.config.sinaConfiguration];}a.createByTrialAsync(t).then(function(b){s.resolve(b);},function(e){s.reject(e);});}.bind(this));}.bind(this));return s;},initBusinessObjSearch:function(){var t=this;if(t._initBusinessObjSearchProm){return t._initBusinessObjSearchProm;}t.setProperty("/initializingObjSearch",true);t.setProperty("/isBusy",true);var a={label:sap.ushell.resources.i18n.getText("genericLoading"),labelPlural:sap.ushell.resources.i18n.getText("genericLoading"),enabled:false,id:'$$Loading$$'};t.setProperty("/dataSource",a);t.setProperty("/dataSources",[a]);t._initBusinessObjSearchProm=this.createSina().then(function(s){t.sinaNext=s;t.eventLogger=E.newInstance({sinaNext:t.sinaNext});t.eventLogger.logEvent({type:t.eventLogger.SESSION_START});t.createAllAndAppDataSource();t.setProperty('/defaultDataSource',t.allDataSource);if(t.config.defaultSearchScopeApps||t.config.searchScopeWithoutAll){t.setProperty('/defaultDataSource',t.appDataSource);}if(s.provider.id==='dummy'){t.setProperty('/defaultDataSource',t.appDataSource);t.setProperty('/businessObjSearchEnabled',false);t.config.searchBusinessObjects=false;t.setProperty('/facetVisibility',false);}if(s.provider.id==='inav2'&&t.config.isLaunchpad()){sap.ushell.Container.addRemoteSystem(new sap.ushell.System({alias:"ENTERPRISE_SEARCH",platform:"abap",baseUrl:"/ENTERPRISE_SEARCH"}));}t.setProperty('/uiFilter',t.sinaNext.createFilter());t.loadDataSources();t.resetDataSource(false);t.resetFilterConditions(false);t.query=t.sinaNext.createSearchQuery();if(t.config.multiSelect){t.query.setMultiSelectFacets(true);}t.oFacetFormatter=new d(t);t.tabStripFormatter=new f.Formatter(t.allDataSource);t.dataSourceTree=t.tabStripFormatter.tree;t.setProperty("/initializingObjSearch",false);t.setProperty("/isBusy",false);},function(e){var b=sap.ushell.resources.i18n.getText('searchError');var i=sap.ushell.resources.i18n.getText('searchInitialError');if(e.message){i=i+" "+e.message;}sap.m.MessageBox.error(i,{icon:sap.m.MessageBox.Icon.NONE,title:b,actions:sap.m.MessageBox.Action.OK,onClose:null,styleClass:"",initialFocus:null,textDirection:sap.ui.core.TextDirection.Inherit});});return t._initBusinessObjSearchProm;},initPersonalization:function(){var t=this;if(this.initPersonalizationPromise){return this.initPersonalizationPromise;}this.initPersonalizationPromise=P.getInstance().then(function(a){var b=false;try{b=a.getItem('search-facet-panel-button-state');}catch(e){}t.setFacetVisibility(b,false);},function(){return jQuery.Deferred().resolve(true);});return this.initPersonalizationPromise;},isBusinessObjSearchConfigured:function(){try{var a=window['sap-ushell-config'].renderers.fiori2.componentData.config;return a.searchBusinessObjects!=='hidden';}catch(e){return true;}},isBusinessObjSearchEnabled:function(){return this.getProperty('/businessObjSearchEnabled');},setProperty:function(a,v,C,A){var t=this;var r=sap.ui.model.json.JSONModel.prototype.setProperty.apply(this,arguments);switch(a){case'/boResults':case'/appResults':t.calculateResultList();break;case'/appCount':case'/boCount':r=t.setProperty('/count',t.getProperty('/appCount')+t.getProperty('/boCount'));break;default:break;}return r;},getPersonalizationStorageInstance:function(){return P.getInstanceSync();},getSearchBoxTerm:function(){return this.getProperty('/uiFilter/searchTerm')||'';},setSearchBoxTerm:function(s,a){var t=this;var b=s.replace(/^\s+/,"");this.setProperty('/uiFilter/searchTerm',b);this.calculateSearchButtonStatus();if(b.length===0){return;}if(a||a===undefined){t._firePerspectiveQuery();}},getLastSearchTerm:function(){return this.query.getSearchTerm();},setFacetVisibility:function(v,a){if(sap.ui.Device.system.phone){v=false;}this.setProperty('/facetVisibility',v);try{this.getPersonalizationStorageInstance().setItem('search-facet-panel-button-state',v);}catch(e){}if((a||a===undefined)){this._firePerspectiveQuery({preserveFormerResults:true});}},getFacetVisibility:function(){return this.getProperty('/facetVisibility');},getTop:function(){return this.getProperty('/top');},setTop:function(t,a){this.setProperty('/top',t);if(a||a===undefined){this._firePerspectiveQuery({preserveFormerResults:true});}},resetTop:function(){this.setProperty('/focusIndex',0);if(this.isAppCategory()){this.setTop(this.appTopDefault,false);}else{this.setTop(this.boTopDefault,false);}},getOrderBy:function(){return this.getProperty('/orderBy');},setOrderBy:function(a,b){this.setProperty('/orderBy',a);if(b||b===undefined){this._firePerspectiveQuery({preserveFormerResults:true});}},resetOrderBy:function(a){this.setProperty('/orderBy',{});if(a||a===undefined){this._firePerspectiveQuery({preserveFormerResults:true});}},isEqualOrderBy:function(a,q){if(!a.orderBy){return q.length===0;}if(q.length!==1){return false;}var b=q[0];if(b.id!==a.orderBy){return false;}if(a.sortOrder==='ASC'){return b.order===this.sinaNext.SortOrder.Ascending;}return b.order===this.sinaNext.SortOrder.Descending;},getDocumentTitle:function(){var s=this.getSearchBoxTerm();var a=this.getDataSource().label;var t;if(this.getDataSource()===this.allDataSource){t=sap.ushell.resources.i18n.getText('searchTileTitleProposalAll',[s]);}else{t=sap.ushell.resources.i18n.getText('searchTileTitleProposal',[s,a]);}return t;},resetQuery:function(){if(this.getProperty('/initializingObjSearch')){return;}S.hasher.reset();this.resetTop();this.setSearchBoxTerm('');this.resetDataSource(false);this.resetFilterConditions(false);this.query.resetConditions();this.query.setSearchTerm('random-jgfhfdskjghrtekjhg');this.setProperty('/facets',[]);this.setProperty('/results',[]);this.setProperty('/appResults',[]);this.setProperty('/boResults',[]);this.setProperty('/origBoResults',[]);this.setProperty('/count',0);this.setProperty('/boCount',0);this.setProperty('/appCount',0);},createAllAndAppDataSource:function(){this.allDataSource=this.sinaNext.getAllDataSource();this.allDataSource.label=sap.ushell.resources.i18n.getText("label_all");this.allDataSource.labelPlural=sap.ushell.resources.i18n.getText("label_all");this.appDataSource=this.sinaNext._createDataSource({id:'$$APPS$$',label:sap.ushell.resources.i18n.getText("label_apps"),labelPlural:sap.ushell.resources.i18n.getText("label_apps"),type:this.sinaNext.DataSourceType.Category});},loadDataSources:function(){var t=this;var a=this.sinaNext.getBusinessObjectDataSources();a=a.slice();var b=[];a.forEach(function(e){if(!e.usage.appSearch){b.push(e);if(e.log&&e.log.messages){t.transferLog(e.log);}}else{t.setProperty("/appSearchDataSource",e);}});if(!this.config.odataProvider&&this.config.isLaunchpad()){b.splice(0,0,this.appDataSource);if(!this.config.searchScopeWithoutAll){b.splice(0,0,this.allDataSource);}}else{b.splice(0,0,this.allDataSource);}this.setProperty("/dataSources",b);this.setProperty("/searchTermPlaceholder",this.calculatePlaceholder());},resetDataSource:function(a){this.setDataSource(this.getDefaultDataSource(),a);},isAllCategory:function(){var a=this.getProperty("/uiFilter/dataSource");return a===this.allDataSource;},isOtherCategory:function(){var a=this.getProperty("/uiFilter/dataSource");return a.type===this.sinaNext.DataSourceType.Category&&!this.isAllCategory();},isAppCategory:function(){var a=this.getProperty("/uiFilter/dataSource");return a===this.appDataSource;},getDataSource:function(){return this.getProperty("/uiFilter/dataSource");},getDefaultDataSource:function(){return this.getProperty("/defaultDataSource");},setDataSource:function(a,b,r){if(this.getDataSource()!==a){this.eventLogger.logEvent({type:this.eventLogger.DATASOURCE_CHANGE,dataSourceId:a.id});}this.updateDataSourceList(a);this.getProperty("/uiFilter").setDataSource(a);if(r||r===undefined){this.resetTop();}this.setProperty("/searchTermPlaceholder",this.calculatePlaceholder());this.calculateSearchButtonStatus();if(b||b===undefined){this._firePerspectiveQuery();}},getServerDataSources:function(){var t=this;if(t.getDataSourcesDeffered){return t.getDataSourcesDeffered;}t.getDataSourcesDeffered=t.sina.getDataSources().then(function(a){return jQuery.grep(a,function(b){return b.getType()!=='Category';});});return t.getDataSourcesDeffered;},notifyFilterChanged:function(){jQuery.each(this.aBindings,function(i,b){if(b.sPath==='/uiFilter/rootCondition'){b.checkUpdate(true);}});},addFilterCondition:function(a,b){if(a.attribute||a.conditions){this.getProperty("/uiFilter").autoInsertCondition(a);}else{this.setDataSource(a,false);}if(b||b===undefined){this._firePerspectiveQuery({preserveFormerResults:false});}this.notifyFilterChanged();},removeFilterCondition:function(a,b){if(a.attribute||a.conditions){this.getProperty("/uiFilter").autoRemoveCondition(a);}else{this.setDataSource(a,false);}if(b||b===undefined){this._firePerspectiveQuery({preserveFormerResults:true});}this.notifyFilterChanged();},resetFilterConditions:function(a){this.getProperty("/uiFilter").resetConditions();if(a||a===undefined){this._firePerspectiveQuery();}this.notifyFilterChanged();},doSuggestion:function(){this.suggestionHandler.doSuggestion(this.getProperty('/uiFilter').clone());},abortSuggestions:function(){this.suggestionHandler.abortSuggestions();},autoSelectAppSuggestion:function(a){return this.suggestionHandler.autoSelectAppSuggestion(a);},_firePerspectiveQuery:function(a,b){var t=this;this.initBusinessObjSearch().then(function(){var e=function(){return t._doFirePerspectiveQuery(a,b);};t.initPersonalization().then(e);});},_doFirePerspectiveQuery:function(a,b){var t=this;var e,i;if(jQuery.isPlainObject(a)){e=a.deserialization;i=a.preserveFormerResults;}else{e=a||undefined;i=b||undefined;}var u=this.getProperty('/uiFilter');if(u.equals(this.query.filter)&&this.getTop()===this.query.top&&this.isEqualOrderBy(this.getOrderBy(),this.query.sortOrder)&&this.getCalculateFacetsFlag()===this.query.calculateFacets&&!this.getProperty('/isQueryInvalidated')){return(new jQuery.Deferred()).resolve();}if(S.getUrlParameter('nlq')==='true'){this.query.setNlq(true);}if((this.query.filter.dataSource&&u.dataSource!==this.query.filter.dataSource)||(this.query.filter.searchTerm&&u.searchTerm!==this.query.filter.searchTerm)){this.resetOrderBy(false);}if(!e&&!i){if(!u.equals(this.query.filter)){this.resetTop();}}if(u.searchTerm!==this.query.filter.searchTerm||!u.rootCondition.equals(this.query.filter.rootCondition)){this.tabStripFormatter.invalidate(this.getDataSource());}if(this.getProperty('/isQueryInvalidated')===true){this.query.resetResultSet();this.setProperty('/isQueryInvalidated',false);}this.query.setFilter(this.getProperty('/uiFilter').clone());this.query.setTop(this.getTop());this.query.setSortOrder(this.assembleSortOrder());this.query.setCalculateFacets(this.getCalculateFacetsFlag());this.cleanErrors();this.setProperty("/queryFilter",this.query.filter);sap.ui.getCore().getEventBus().publish("allSearchStarted");if(e){this.setProperty('/busyDelay',0);}else{this.setProperty('/busyDelay',600);}this.setProperty('/isBusy',true);this.abortSuggestions();this.calculateVisibility();this.updateSearchURLSilently(e);this.eventLogger.logEvent({type:this.eventLogger.SEARCH_REQUEST,searchTerm:this.getProperty('/uiFilter/searchTerm'),dataSourceKey:this.getProperty('/uiFilter/dataSource').id});return jQuery.when.apply(null,[this.normalSearch(i),this.appSearch()]).then(function(){t.setProperty('/tabStrips',t.tabStripFormatter.format(t.getDataSource(),t.perspective,t));return t.oFacetFormatter.getFacets(t.getDataSource(),t.perspective,t).then(function(j){if(j&&j.length>0){j[0].change=jQuery.sap.now();t.setProperty('/facets',j);}});}).always(function(){document.title=t.getDocumentTitle();sap.ui.getCore().getEventBus().publish("allSearchFinished");t.setProperty('/isBusy',false);t.setProperty("/firstSearchWasExecuted",true);t.notifyFilterChanged();});},assembleSortOrder:function(){var a=this.getOrderBy();if(!a.orderBy){return[];}var b=this.sinaNext.SortOrder.Ascending;if(a.sortOrder==='DESC'){b=this.sinaNext.SortOrder.Descending;}return[{id:a.orderBy,order:b}];},getCalculateFacetsFlag:function(){if(this.getDataSource().type===this.sinaNext.DataSourceType.Category||this.getFacetVisibility()){return true;}return false;},appSearch:function(){var t=this;this.setProperty("/appResults",[]);this.setProperty("/appCount",0);if(!this.isAllCategory()&&!this.isAppCategory()){return jQuery.when(true);}var a=this.query.filter.dataSource===this.allDataSource?this.appTopDefault:this.query.top;return this.searchApplications(this.query.filter.searchTerm,a,0).then(function(r){t.setProperty("/appCount",r.totalResults);t.setProperty("/appResults",r.getElements());},function(e){t.pushError({type:"error",title:e.name,description:e,keep:e.keep});return jQuery.when(true);});},searchApplications:function(s,t,a){return sap.ushell.Container.getService("Search").queryApplications({searchTerm:s,top:t,skip:a});},transferLog:function(a){var b=a.getMessages();for(var i=0;i<b.length;++i){var e=b[i];this.pushError({type:e.severity,title:e.text,description:'',keep:true});}},normalSearch:function(a){var t=this;if(!a){t.resetAndDisableMultiSelection();}if(!t.isBusinessObjSearchEnabled()||t.isAppCategory()){this.setProperty("/boResults",[]);this.setProperty("/origBoResults",[]);this.setProperty("/boCount",0);this.setProperty("/nlqSuccess",false);this.setProperty("/nlqDescription","");return jQuery.when(true);}var q=new jQuery.Deferred();var s=function(b){t.transferLog(b.log);t.perspective=b;t.setProperty("/nlqSuccess",false);if(b.nlqSuccess){t.setProperty("/nlqSuccess",true);t.setProperty("/nlqDescription",b.title);}t._afterSearchPrepareResultList(t.perspective,a).then(function(){q.resolve();});};var e=function(b){t.normalSearchErrorHandling(b);t.perspective=null;q.resolve();};t.setDataSource(t.getDataSource(),false,false);t.query.setCalculateFacets(t.getCalculateFacetsFlag());t.query.getResultSetAsync().then(function(b){return s(b);},e);return q;},_prepareTableResults:function(r){var t=this;var i,j,k;var e=[];var q=this.sinaNext.dataSourceMap[this.getDataSource().id].attributesMetadata;for(i=0;i<q.length;i++){if(q[i].usage.Detail&&q[i].group===undefined&&q[i].type!=="GeoJson"&&q[i].id.match(/latitude|longitude/i)==null&&q[i].type!==t.sinaNext.AttributeType.ImageUrl){e.push(q[i]);}}var s=function(a,b){if(a.usage.Detail.displayOrder<b.usage.Detail.displayOrder){return-1;}if(a.usage.Detail.displayOrder>b.usage.Detail.displayOrder){return 1;}return 0;};e.sort(s);var u=r;var v="\u2013";for(i=0;i<r.length;i++){u[i].cells=[];for(j=0;j<e.length;j++){u[i].cells[j]={};}}for(i=0;i<r.length;i++){var w=r[i].itemattributes;for(j=0;j<e.length;j++){for(k=0;k<w.length;k++){if(e[j].id===w[k].key){u[i].cells[j]={value:w[k].value.trim().length!==0?w[k].value:v};}}}if(r[i].hasTitleDescription){u[i].cells.unshift({value:r[i].titleDescription.trim().length!==0?r[i].titleDescription:v});}u[i].cells.unshift({value:r[i].title.trim().length!==0?r[i].title:v,uri:r[i].uri,titleNavigation:r[i].titleNavigation,isTitle:true});if(r[i].navigationObjects!==undefined&&r[i].navigationObjects.length>0){u[i].cells.push({value:sap.ushell.resources.i18n.getText("intents"),navigationObjects:r[i].navigationObjects,isRelatedApps:true});}}t.setProperty("/tableResults",u);var x=[];var y=[];for(i=0;i<e.length;i++){if(e[i].id.match(/latitude|longitude/i)==null&&e[i].type!==t.sinaNext.AttributeType.ImageUrl){x.push({name:e[i].label,attributeId:e[i].id});}}if(r[0].hasTitleDescription){var z=r[0].titleDescriptionLabel+" ("+sap.ushell.resources.i18n.getText("titleDescription")+")";x.unshift({name:z,attributeId:"SEARCH_TABLE_TITLE_DESCRIPTION_COLUMN"});}x.unshift({name:t.getDataSource().label,attributeId:"SEARCH_TABLE_TITLE_COLUMN"});var A=u[0].cells.length-1;if(u[0].cells[A].isRelatedApps){x.push({name:sap.ushell.resources.i18n.getText("intents"),attributeId:"SEARCH_APPS_AS_ID"});}for(i=0;i<x.length;i++){x[i].key="searchColumnKey"+i;x[i].index=i;}t.setProperty("/tableColumns",x);for(i=0;i<q.length;i++){var B=q[i];if(B.isSortable){y.push({name:B.label,key:"searchSortableColumnKey"+i,attributeId:B.id,selected:t.getProperty("/orderBy").orderBy===B.id});}}var C=function(a,b){if(a.name<b.name){return-1;}if(a.name>b.name){return 1;}return 0;};y.sort(C);y.unshift({name:sap.ushell.resources.i18n.getText("defaultRank"),key:"searchSortableColumnKeyDefault",attributeId:"",selected:jQuery.isEmptyObject(t.getProperty("/orderBy"))});t.setProperty("/tableSortableColumns",y);},_afterSearchPrepareResultList:function(s,a){var t=this;t.setProperty("/boCount",s.totalCount);var i;t.setProperty("/boResults",[]);t.setProperty("/origBoResults",s.items);t.setProperty("/boCount",0);var b=new c();var e=b.format(s,t.query.filter.searchTerm);var j;var k=[];var q=[];for(i=0;i<e.length;i++){j=e[i];k.push(j.dataSource);q.push({isDocumentConnector:j.isDocumentConnector});}var r=t.config.loadCustomModulesForDataSourcesAsync(k,q);var u=$.Deferred();Promise.all([Promise.resolve(s),r]).then(function(v){var s=v[0];if(!t.isAllCategory()&&!t.isOtherCategory()&&!t.isAppCategory()&&s.totalCount>0){if(s.items[0].titleDescriptionAttributes.length>0){e.forEach(function(w){w.hasTitleDescription=true;});}t._prepareTableResults(e);}t.setProperty("/boCount",s.totalCount);t.setProperty("/boResults",e);t.enableOrDisableMultiSelection();u.resolve();});return u.promise();},resetAndDisableMultiSelection:function(){this.setProperty("/multiSelectionAvailable",false);this.setProperty("/multiSelectionEnabled",false);},enableOrDisableMultiSelection:function(){if(this.isSearchInputHelp||this.isSearchInputHelpWizard){this.setProperty("/multiSelectionAvailable",true);this.setProperty("/multiSelectionEnabled",true);return;}var a=this.getDataSource();var b=this.config.getDataSourceConfig(a);var s=new b.searchResultListSelectionHandlerControl();if(s){this.setProperty("/multiSelectionAvailable",s.isMultiSelectionAvailable());}else{this.setProperty("/multiSelectionAvailable",false);}},_endWith:function(s,a){return s.indexOf(a,s.length-a.length)!==-1;},calculatePlaceholder:function(){var t=this;if(t.isAllCategory()){return sap.ushell.resources.i18n.getText("search");}return sap.ushell.resources.i18n.getText("searchInPlaceholder",t.getDataSource().labelPlural);},updateDataSourceList:function(a){var b=this.getProperty('/dataSources');if(!this.config.searchScopeWithoutAll){while(b.length>0&&b[0]!==this.allDataSource){b.shift();}}if(a===this.allDataSource||a===this.appDataSource){return;}if(a&&a.id){if(a.id.indexOf('~')>=0){return;}}for(var i=0;i<b.length;++i){var e=b[i];if(e===a){return;}}b.unshift(a);this.setProperty('/dataSources',b);},invalidateQuery:function(){this.setProperty('/isQueryInvalidated',true);},autoStartApp:function(){var t=this;if(t.getProperty("/appCount")&&t.getProperty("/appCount")===1&&t.getProperty("/count")&&t.getProperty("/count")===1){var a=t.getProperty("/appResults");if(a&&a.length>0&&a[0]&&a[0].url&&t.getProperty('/uiFilter/searchTerm')&&a[0].tooltip&&t.getProperty('/uiFilter/searchTerm').toLowerCase().trim()===a[0].tooltip.toLowerCase().trim()){if(a[0].url[0]==='#'){window.location.href=a[0].url;}else{S.openURL(a[0].url,'_blank');}}}},getResultToDisplay:function(){return this.getProperty('/resultToDisplay');},setResultToDisplay:function(t){this.setProperty('/resultToDisplay',t);S.saveResultViewType(t);},calculateVisibility:function(){var t=this;if(t.isAppCategory()){t.setResultToDisplay("appSearchResult");t.setProperty('/displaySwitchVisibility',false);}else if(t.isAllCategory()||t.isOtherCategory()){t.setResultToDisplay("searchResultList");t.setProperty('/displaySwitchVisibility',false);}else{var r=t.getResultToDisplay();if(!(r==="searchResultList"||r==="searchResultTable"||r==="searchResultGrid"||r==="searchResultMap")){t.setResultToDisplay("searchResultList");}t.setProperty('/displaySwitchVisibility',true);}},calculateSearchButtonStatus:function(){if(this.getDataSource()===this.getProperty('/defaultDataSource')&&this.getSearchBoxTerm().length===0){this.setProperty('/searchButtonStatus','close');}else{this.setProperty('/searchButtonStatus','search');}},calculateResultList:function(){var t=this;var r=[];var b=t.getProperty('/boResults');if(b&&b.length){r.push.apply(r,b);}var a=t.getProperty('/appResults');if(a&&a.length>0){var e={type:'appcontainer',tiles:a};if(r.length>0){if(r.length>3){r.splice(3,0,e);}else{r.push(e);}}else{r=[e];}}sap.ui.model.json.JSONModel.prototype.setProperty.apply(this,['/results',r]);},getDebugInfo:function(){var t=[this.sinaNext.getDebugInfo()];return t.join('\n');},getErrors:function(){return this.getProperty('/errors');},cleanErrors:function(){this.setProperty('/errors',jQuery.grep(this.getProperty('/errors'),function(e){return e.keep;}));},pushError:function(e){var t=this;e.title=e.title==="[object Object]"?sap.ushell.resources.i18n.getText('searchError'):e.title;var a=this.getProperty('/errors');a.push(e);t.setProperty('/errors',a);},normalSearchErrorHandling:function(e){if(!e){return;}this.setProperty("/boResults",[]);this.setProperty("/origBoResults",[]);this.setProperty("/boCount",0);this.setProperty("/nlqSuccess",false);this.setProperty("/nlqDescription","");var s=function(t){return t.replace(/<(?:.|\n)*?>|[{}]/gm,'');};if(e instanceof this.sinaNext.core.Exception){this.pushError({type:"error",title:e.message,description:s(e.description)+'\n'+this.getDebugInfo(),keep:e.keep});return;}this.pushError({type:"error",title:e.toString(),description:e.toString()+'\n'+this.getDebugInfo(),keep:e.keep});},updateSearchURLSilently:function(a){if(a||this.preventUpdateURL||this.isSearchInputHelp){S.hasher.init();}else{var H=this.renderSearchURL();S.hasher.setHash(H);}},renderSearchURL:function(){return this.searchUrlParser.render();},parseURL:function(){this.searchUrlParser.parse();}});p.injectSearchShellHelper=function(_){o=o||_;};return p;});})(window);
},
	"sap/ushell/renderers/fiori2/search/sinaNext/configurationEngine/configuratorFactory.js":function(){window.sinaRequire=window.sinaRequire||(window.sap&&window.sap.ui&&window.sap.ui.require)||window.require;window.sinaDefine=window.sinaDefine||(window.sap&&window.sap.ui&&window.sap.ui.define)||window.define;window.sinaLog=window.sinaLog||(window.jQuery&&window.jQuery.sap&&window.jQuery.sap.log)||window.console;sinaDefine(['../core/core','./configurators/CustomFunctionConfigurator','./configurators/TemplateConfigurator','./configurators/TextResourceConfigurator','./configurators/SimpleValueConfigurator','./configurators/ListConfigurator','./configurators/ObjectConfigurator'],function(c,C,T,a,S,L,O){"use strict";var b=[C,L,O,T,a,S];var m={createConfiguratorAsync:function(o){o.createConfiguratorAsync=m.createConfiguratorAsync.bind(m);for(var i=0;i<b.length;++i){var d=b[i];if(d.prototype.isSuitable(o)){return m._createAsync(d,o);}}},_createAsync:function(d,o){var e=new d(o);return c.Promise.resolve().then(function(){return e.initResourceBundleAsync();}).then(function(){return e.initAsync();}).then(function(){return e;});}};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/configurationEngine/configurators/Configurator.js":function(){sinaDefine(['../../core/core'],function(c){"use strict";return c.defineClass({_init:function(o){this.type=o.type;this.typeContext=o.typeContext;this.configuration=o.configuration;this.createConfiguratorAsync=o.createConfiguratorAsync;},createContext:function(o,a){if(!o){return{objectStack:[a],configuratorStack:[this]};}var b=o.objectStack.slice();b.push(a);var d=o.configuratorStack.slice();d.push(this);return{objectStack:b,configuratorStack:d};},getResourceBundle:function(a){for(var i=a.configuratorStack.length-1;i>=0;--i){var b=a.configuratorStack[i];if(b.resourceBundle){return b.resourceBundle;}}},getEvaluateTemplateFunction:function(a){var b=function(e,o){return function(t){return e(t,o);};};for(var i=a.configuratorStack.length-1;i>=0;--i){var d=a.configuratorStack[i];var o=a.objectStack[i];if(d.type&&d.type.evaluateTemplate){return b(d.type.evaluateTemplate,o);}}},initResourceBundleAsync:function(){if(!this.configuration.resourceBundle){return undefined;}return this.loadResourceBundleAsync(this.configuration.resourceBundle).then(function(r){this.resourceBundle=r;}.bind(this));},loadResourceBundleAsync:function(u){if(!window.jQuery){return c.Promise.resolve({getText:function(i){return i;}});}return new c.Promise(function(r,a){jQuery.sap.resources({url:u,async:true}).then(function(b){r(b);},function(e){a(e);});});},configure:function(){},configureAsync:function(){var a=arguments;return c.Promise.resolve().then(function(){return this.configure.apply(this,a);}.bind(this));},isInitialOrForced:function(v){if(this.force||typeof v==='undefined'||(c.isObject(v)&&v===null)||(c.isString(v)&&v.length===0)){return true;}return false;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/configurationEngine/configurators/CustomFunctionConfigurator.js":function(){sinaDefine(['../../core/core','./Configurator'],function(c,C){"use strict";return C.derive({initAsync:function(){if(c.isObject(this.configuration)){this.customFunction=this.configuration.func;this.force=this.configuration.force;return;}this.customFunction=this.configuration;this.force=false;},isSuitable:function(o){if(c.isFunction(o.configuration)){return true;}if(c.isObject(o.configuration)&&o.configuration.hasOwnProperty('func')){return true;}},configure:function(v,a){if(this.isInitialOrForced(v)){return this.customFunction(v,a);}return v;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/configurationEngine/configurators/ListConfigurator.js":function(){sinaDefine(['../../core/core','./Configurator'],function(c,C){"use strict";return C.derive({initAsync:function(){this.elements=[];this.cache={};var p=[];for(var i=0;i<this.configuration.length;++i){var e=this.configuration[i];p.push(this.createElementConfiguratorAsync(this.type,e,i));}return c.Promise.all(p);},isSuitable:function(o){if(o.typeContext&&o.typeContext.multiple&&c.isList(o.configuration)){return true;}},createElementConfiguratorAsync:function(t,a,i){return this.createConfiguratorAsync({type:t,configuration:a}).then(function(b){this.elements.push({configuration:a,configurator:b,id:i});}.bind(this));},getElement:function(l){var a=this.typeContext.getElementId(l);var e=this.cache[a];if(e){return e;}for(var i=0;i<this.elements.length;++i){e=this.elements[i];if(this.matchId(l,e)){this.cache[a]=e;return e;}}},matchId:function(l,e){var a=this.typeContext.getElementId(l);var b=this.typeContext.getElementId(e.configuration);var m;if(c.isObject(b)&&b.hasOwnProperty('regExp')){if(!b.regExpObj){b.regExpObj=new RegExp(b.regExp,b.regExpFlags);}m=b.regExpObj.test(a);}else{m=a===b;}return m;},createEmptyUsedElements:function(){var u=[];for(var i=0;i<this.elements.length;++i){u.push(false);}return u;},configure:function(l,a){if(!l){l=[];}a=this.createContext(a,l);var u=this.createEmptyUsedElements();var e,b,n;for(var i=0;i<l.length;++i){b=l[i];e=this.getElement(b);if(!e){continue;}var d=e.configurator.configure(b,a);if(d!==b){l[i]=d;}u[e.id]={index:i};}var f;var g=0;if(this.typeContext.createElement){for(var j=0;j<u.length;++j){var h=u[j];e=this.elements[j];if(h){f=h;continue;}var t=this.typeContext.createElement(e.configuration,a);n=e.configurator.configure(t,a);var k=(f?f.index:-1)+g+1;l.splice(k,0,n);g++;if(this.typeContext.postProcessCreatedElement){this.typeContext.postProcessCreatedElement(n,a);}}}return l;},configureAsync:function(l,a){if(!l){l=[];}a=this.createContext(a,l);var u=this.createEmptyUsedElements();var b;var n=0;var d=function(f){if(f>=l.length){return null;}var g=l[f];var h=this.getElement(g);if(!h){return d(f+1);}u[h.id]={index:f};return c.Promise.resolve().then(function(){return h.configurator.configureAsync(g,a);}).then(function(i){if(i!==g){l[f]=i;}return d(f+1);});}.bind(this);var e=function(f){if(f>=this.elements.length){return null;}var g=this.elements[f];var h=u[f];if(h){b=h;return e(f+1);}var t=this.typeContext.createElement(g.configuration,a);return c.Promise.resolve().then(function(){return g.configurator.configureAsync(t,a);}).then(function(i){var j=(b?b.index:-1)+n+1;l.splice(j,0,i);n++;if(this.typeContext.postProcessCreatedElement){this.typeContext.postProcessCreatedElement(i,a);}return e(f+1);}.bind(this));}.bind(this);return c.Promise.resolve().then(function(){return d(0);}).then(function(){if(!this.typeContext.createElement){return null;}return e(0);}.bind(this)).then(function(){return l;});}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/configurationEngine/configurators/ObjectConfigurator.js":function(){sinaDefine(['../../core/core','./Configurator'],function(c,C){"use strict";return C.derive({initAsync:function(o){this.properties=[];var p=[];for(var i=0;i<this.type.properties.length;++i){var a=this.type.properties[i];var b=this.configuration[a.name];if(!b){continue;}p.push(this.createPropertyConfiguratorAsync(a,b));}return c.Promise.all(p);},createPropertyConfiguratorAsync:function(p,a){return this.createConfiguratorAsync({type:p.type,typeContext:p,configuration:a}).then(function(b){this.properties.push({name:p.name,configurator:b});}.bind(this));},isSuitable:function(o){if(c.isObject(o.configuration)&&c.isObject(o.type)&&o.type.type==='object'){return true;}},configure:function(o,a){a=this.createContext(a,o);this.object=o;for(var i=0;i<this.properties.length;++i){var p=this.properties[i];o[p.name]=p.configurator.configure(o[p.name],a);}return o;},configureAsync:function(o,a){a=this.createContext(a,o);this.object=o;var b=function(p){return c.Promise.resolve().then(function(){return p.configurator.configureAsync(o[p.name],a);}).then(function(v){o[p.name]=v;});};return c.Promise.all(c.map(this.properties,b)).then(function(){return o;});}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/configurationEngine/configurators/SimpleValueConfigurator.js":function(){sinaDefine(['../../core/core','./Configurator'],function(c,C){"use strict";return C.derive({initAsync:function(){if(c.isObject(this.configuration)){this.value=this.configuration.value;this.force=this.configuration.force;return;}this.value=this.configuration;this.force=false;},isSuitable:function(o){if(c.isString(o.type)&&['string','integer','object'].indexOf(o.type)>=0){return true;}return false;},configure:function(v,a){if(this.isInitialOrForced(v)){return this.value;}return v;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/configurationEngine/configurators/TemplateConfigurator.js":function(){sinaDefine(['../../core/core','./Configurator'],function(c,C){"use strict";return C.derive({initAsync:function(){this.template=this.configuration.template;this.force=this.configuration.force;},isSuitable:function(o){if(c.isString(o.type)&&['string'].indexOf(o.type)>=0&&c.isObject(o.configuration)&&o.configuration.hasOwnProperty('template')){return true;}return false;},configure:function(v,a){if(this.isInitialOrForced(v)){var e=this.getEvaluateTemplateFunction(a);return e(this.configuration.template);}return v;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/configurationEngine/configurators/TextResourceConfigurator.js":function(){sinaDefine(['../../core/core','./Configurator'],function(c,C){"use strict";return C.derive({initAsync:function(){this.resourceKey=this.configuration.resourceKey;this.force=this.configuration.force;},isSuitable:function(o){if(c.isString(o.type)&&['string'].indexOf(o.type)>=0&&c.isObject(o.configuration)&&o.configuration.resourceKey){return true;}return false;},configure:function(v,a){if(this.isInitialOrForced(v)){var r=this.resourceBundle||this.getResourceBundle(a);return r.getText(this.resourceKey);}return v;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/core/LabelCalculator.js":function(){sinaDefine(['./core'],function(c){"use strict";var D=c.Exception.derive({_init:function(p){p.message='Duplicate node';c.Exception.prototype._init.apply(this,arguments);this.node=p.node;}});var N=c.defineClass({_init:function(p,n,l){this.parent=p;this.nodeId=n;this.labelCalculator=l;this.childMap={};this.children=[];},insert:function(k,o){if(k.length===0){this.data=this.labelCalculator.options.data(o);this.obj=o;this.calculateLabel();return;}var a=k[0];var s=this.childMap[a];if(k.length===1&&s){throw new D({node:s});}if(!s){s=new N(this,a,this.labelCalculator);this.childMap[a]=s;this.children.push(s);if(this.children.length===2){this.children[0].recalculateLabels();}}s.insert(k.slice(1),o);},recalculateLabels:function(){var l=[];this.collectLeafs(l);for(var i=0;i<l.length;++i){l[i].calculateLabel();}},collectLeafs:function(l){if(this.isLeaf()){l.push(this);return;}for(var i=0;i<this.children.length;++i){this.children[i].collectLeafs(l);}},isLeaf:function(){return this.children.length===0;},hasSibling:function(){return this.parent&&this.parent.children.length>=2;},isChildOfRoot:function(){return this.parent&&this.parent.nodeId==='__ROOT';},collectPath:function(k,f){if(!this.parent){return;}if(f||this.hasSibling()||this.isChildOfRoot()){k.push(this.nodeId);f=true;}if(this.parent){this.parent.collectPath(k,f);}},calculateLabel:function(){var k=[];this.collectPath(k);k.reverse();this.labelCalculator.options.setLabel(this.obj,k,this.data);}});return c.defineClass({_init:function(o){this.options=o;this.rootNode=new N(null,'__ROOT',this);},calculateLabel:function(o){var k=this.options.key(o);try{this.rootNode.insert(k,o);}catch(e){if(e instanceof D){this.options.setFallbackLabel(e.node.obj,e.node.data);this.options.setFallbackLabel(o,this.options.data(o));return;}throw e;}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/core/Log.js":function(){sinaDefine(['./core'],function(c){"use strict";var L=c.defineClass({ERROR:'error',WARNING:'warning',INFO:'info',_init:function(){this.messages=[];},getMessages:function(){return this.messages;},addMessage:function(s,t){this.messages.push({severity:s,text:t});}});return L;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/core/ajax.js":function(){sinaDefine(['./core','./util'],function(c,u){"use strict";var m={};m.parseHeaders=function(h){var a={};var l=h.split('\n');for(var i=0;i<l.length;++i){var b=l[i];var d=b.indexOf(':');if(d>=0){var n=b.slice(0,d).toLowerCase();var v=b.slice(d+1);a[n]=v.trim();}}return a;};m.encodeUrlParameters=function(p){var r=[];for(var n in p){var v=p[n];r.push(encodeURIComponent(n)+'='+encodeURIComponent(v));}return r.join('&');};m.addEncodedUrlParameters=function(a,p){if(!p){return a;}var e=m.encodeUrlParameters(p);if(e.length>0){a+='?'+e;}return a;};m.Exception=c.Exception.derive({_init:function(x){this.xhttp=x;this.status=x.status;this.statusText=x.statusText;this.responseText=x.responseText;this.headers=m.parseHeaders(x.getAllResponseHeaders());c.Exception.prototype._init.apply(this,[{message:this.status+': '+this.statusText,description:this.responseText}]);}});m.request=function(p){return new Promise(function(r,a){var x=new XMLHttpRequest();x.onreadystatechange=function(){if(x.readyState==4&&(x.status==200||x.status==201||x.status==204)){r({data:x.responseText,headers:m.parseHeaders(x.getAllResponseHeaders())});return;}if(x.readyState==4){a(new m.Exception(x));}};var b=m.addEncodedUrlParameters(p.url,p.parameters);x.open(p.method,b,true);for(var h in p.headers){var d=p.headers[h];x.setRequestHeader(h,d);}x.send(p.data);});};m.Client=c.defineClass({_init:function(p){this._client=new m._Client(p);this.recordOptions={mode:u.getUrlParameter('recordingMode')||p.recordingMode||"none",path:u.getUrlParameter('recordingPath')||p.recordingPath||"",requestNormalization:p.requestNormalization||this._defaultRequestNormalization};this.records={};},_encodeObj:function(d){var r=[];for(var p in d){if(d.hasOwnProperty(p)){r.push(encodeURIComponent(p)+"="+encodeURIComponent(d[p]));}}return r.join("&");},getJson:function(a,d){var t=this;if(d){var D='?'+t._encodeObj(d);a=a+D;}if(t.recordOptions.mode==="none"){return t._client.getJson(a);}if(t.recordOptions.mode==="replay"){return t._replay(a,null);}return t._client.getJson(a).then(function(r){return t._record(a,null,r);});},getXML:function(a){var t=this;if(t.recordOptions.mode==="none"){return t._client.getXML(a);}if(t.recordOptions.mode==="replay"){return t._replayXML(a);}return t._client.getXML(a).then(function(r){return t._recordXML(a,r);});},postJson:function(a,p){p=JSON.parse(JSON.stringify(p));var t=this;if(t.recordOptions.mode==="none"){return t._client.postJson(a,p);}if(t.recordOptions.mode==="replay"){return t._replay(a,p);}return t._client.postJson(a,p).then(function(r){return t._record(a,p,r);});},mergeJson:function(a,p){p=JSON.parse(JSON.stringify(p));var t=this;if(t.recordOptions.mode==="none"){return t._client.mergeJson(a,p);}if(t.recordOptions.mode==="replay"){return t._replay(a,p);}return t._client.mergeJson(a,p).then(function(r){return t._record(a,p,r);});},request:function(p){return this._client.request(p);},_record:function(a,p,r){var t=this;var k=a+JSON.stringify(t.recordOptions.requestNormalization(p));if(t.records[k]===undefined&&k.indexOf("NotToRecord")===-1){t.records[k]=JSON.parse(JSON.stringify(r.data));}return t._client.putJson(t.recordOptions.path,t.records).then(function(){return r;});},_recordXML:function(a,r){var t=this;var k=a;if(t.records[k]===undefined&&k.indexOf("NotToRecord")===-1){t.records[k]=r;}return t._client.putJson(t.recordOptions.path,t.records).then(function(){return r;});},_replay:function(a,p){var t=this;var k=a+JSON.stringify(t.recordOptions.requestNormalization(p));return t._client.getJson(t.recordOptions.path).then(function(r){return{data:r.data[k]};});},_replayXML:function(a){var t=this;var k=a;return t._client.getJson(t.recordOptions.path).then(function(r){return r.data[k];});},_defaultRequestNormalization:function(p){if(p===null){return"";}delete p.SessionID;delete p.SessionTimestamp;return p;}});m._Client=c.defineClass({_init:function(p){this.csrf=p.csrf;this.csrfByPassCache=p.csrfByPassCache||false;this.csrfToken=null;this.csrfFetchRequest=p.csrfFetchRequest||null;},jsonHeaders:{'Content-Type':'application/json','Accept':'application/json'},xmlHeaders:{'Content-Type':'application/xml','Accept':'application/xml'},getJson:function(a){return this.request({headers:this.jsonHeaders,method:'GET',url:a}).then(function(r){if(r.data.length===0){r.data='{}';}if(typeof(r.data)!=="object"){r.data=JSON.parse(r.data);}return r;});},getXML:function(a){return this.request({headers:this.xmlHeaders,method:'GET',url:a}).then(function(r){return r.data;});},postJson:function(a,d){return this.request({headers:this.jsonHeaders,method:'POST',url:a,data:JSON.stringify(d)}).then(function(r){if(r.data.length===0){r.data='{}';}if(typeof(r.data)!=="object"){r.data=JSON.parse(r.data);}return r;});},mergeJson:function(a,d){return this.request({headers:this.jsonHeaders,method:'MERGE',url:a,data:JSON.stringify(d)}).then(function(r){if(r.data.length===0){r.data='{}';}if(typeof(r.data)!=="object"){r.data=JSON.parse(r.data);}return r;});},putJson:function(d,a){return this.request({method:'PUT',url:d,data:JSON.stringify(a)}).catch(function(e){throw e;});},_fetchCsrf:function(){if(this.csrfFetchRequestPromise){return this.csrfFetchRequestPromise;}this.csrfFetchRequest.headers=this.csrfFetchRequest.headers||{};this.csrfFetchRequest.headers['x-csrf-token']='fetch';this.csrfFetchRequest.parameters=this.csrfFetchRequest.parameters||{};if(this.csrfByPassCache){this.csrfFetchRequest.parameters._=Date.now();}this.csrfFetchRequestPromise=m.request(this.csrfFetchRequest).then(function(r){this.csrfFetchRequestPromise=null;this.csrfToken=r.headers['x-csrf-token'];return r;}.bind(this));return this.csrfFetchRequestPromise;},_requestWithCsrf:function(p,r){if(m.addEncodedUrlParameters(this.csrfFetchRequest.url,this.csrfFetchRequest.parameters)===m.addEncodedUrlParameters(p.url,p.parameters)){return this._fetchCsrf();}if(r&&!this.csrfToken){return this._fetchCsrf().then(function(){return this._requestWithCsrf(p,false);}.bind(this));}p.headers=p.headers||{};p.headers['x-csrf-token']=this.csrfToken;return m.request(p).catch(function(e){if(r&&e.headers['x-csrf-token']&&e.headers['x-csrf-token'].toLowerCase()==='required'){return this._fetchCsrf().then(function(){return this._requestWithCsrf(p,false);}.bind(this));}return c.Promise.reject(e);}.bind(this));},request:function(p){if(!this.csrf){return m.request(p);}if(!this.csrfFetchRequest){this.csrfFetchRequest=p;}return this._requestWithCsrf(p,true);}});return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/core/core.js":function(){window.sinaRequire=window.sinaRequire||(window.sap&&window.sap.ui&&window.sap.ui.require)||window.require;window.sinaDefine=window.sinaDefine||(window.sap&&window.sap.ui&&window.sap.ui.define)||window.define;window.sinaLog=window.sinaLog||(window.jQuery&&window.jQuery.sap&&window.jQuery.sap.log)||window.console;sinaDefine([],function(){"use strict";var m={};m.map=function(l,c,h){var r=[];for(var i=0;i<l.length;++i){r.push(c.apply(h,[l[i]]));}return r;};m.filter=function(l,c){var r=[];for(var i=0;i<l.length;++i){var h=l[i];if(c(h)){r.push(h);}}return r;};m.object=function(p){var T=function(){};T.prototype=p;return new T();};m.extend=function(o,c){for(var k in c){o[k]=c[k];}return o;};m.firstCharToUpper=function(t,r){if(r){if(t[0]==='_'){t=t.slice(1);}}return t[0].toUpperCase()+t.slice(1);};m.isList=function(o){if(Object.prototype.toString.call(o)==='[object Array]'){return true;}return false;};m.isObject=function(o){if(m.isList(o)){return false;}return typeof o==='object';};m.isEmptyObject=function(o){for(var p in o){if(o.hasOwnProperty(p)){return false;}}return JSON.stringify(o)===JSON.stringify({});};m.isFunction=function(o){return typeof o==='function';};m.isString=function(o){return(typeof o)==='string';};m.isSimple=function(o){return(typeof o)!=='object'&&(typeof o)!=='function';};m.Promise=Promise;var g=function(){var c=(function(){return function(){if(arguments[0]==='_suppress_init_'){return;}this._genericInit.apply(this,arguments);};})();return c;};var B=g();B.prototype={_getClassHierarchyPrototypes:function(){var p=[];var c=this.constructor.prototype;while(c){p.push(c);c=c.constructor.superPrototype;}p.reverse();return p;},_genericInit:function(){var c=arguments[0]||{};var p=this._getClassHierarchyPrototypes();for(var i=0;i<p.length;++i){var h=p[i];if(h.hasOwnProperty('_beforeInitProperties')){h._beforeInitProperties.apply(this,arguments);}this._initPropertiesOfPrototype(h,c);if(h.hasOwnProperty('_afterInitProperties')){h._afterInitProperties.apply(this,arguments);}}if(this._init){this._init.apply(this,arguments);}},_initPropertiesOfPrototype:function(p,c){var s=function(j,l,n){if(!j.aggregation){return;}if(!n){return;}if(m.isList(n)){for(var i=0;i<n.length;++i){var o=n[i];o.parent=l;}}else{n.parent=l;}};if(!p.hasOwnProperty('_meta')||!p._meta.properties){return;}for(var h in p._meta.properties){var j=p._meta.properties[h];var k=c[h];if(k!==undefined){this[h]=k;s(j,this,this[h]);continue;}if(j.required){throw new m.Exception('initialization property missing:'+h);}if(j.default!==undefined){if(m.isFunction(j.default)){this[h]=j.default.apply(this,[]);}else{this[h]=j.default;}}s(j,this,this[h]);}},_initClone:function(){},_equals:function(o){if(!o){return false;}if(!m.isObject(o)){return false;}if(o.constructor!==this.constructor){return false;}return true;},equals:function(o,c){var p=this._getClassHierarchyPrototypes();for(var i=0;i<p.length;++i){var h=p[i];if(!h.hasOwnProperty('_equals')){continue;}if(!h._equals.apply(this,[o,c])){return false;}}return true;},clone:function(){var c=new this.constructor('_suppress_init_');var p=this._getClassHierarchyPrototypes();for(var i=0;i<p.length;++i){var h=p[i];if(!h.hasOwnProperty('_initClone')){continue;}h._initClone.apply(c,[this]);}return c;}};B.prototype.constructor=B;var a=function(p,c){var h='get'+m.firstCharToUpper(c,true);if(p[h]){return;}p[h]=function(v){return this[c];};};var b=function(p,c){var h='set'+m.firstCharToUpper(c,true);if(p[h]){return;}p[h]=function(v){this[c]=v;};};var d=function(p){if(!p.hasOwnProperty('_meta')){return;}var c=p._meta.properties;if(!c){return;}for(var h in c){var i=c[h];if(i.getter){a(p,h);}if(i.setter){b(p,h);}}};var e=function(p,c){var C=g();if(!p){p=B;}C.prototype=m.extend(new p('_suppress_init_'),c);C.superPrototype=p.prototype;C.prototype.constructor=C;d(C.prototype);C.derive=function(h){return e(C,h);};return C;};m.defineClass=function(p){return e(null,p);};m.Exception=m.defineClass({_init:function(p){if(m.isString(p)){this.previous=null;this.message=p;this.description='';return;}this.previous=p.previous;this.message=p.message;this.description=p.description||'';},toString:function(){if(this.description){return this.message+'\n'+this.description;}return this.message;}});m.equals=function(o,c,h){if(m.isList(o)){return m._equalsList(o,c,h);}if(m.isObject(o)){return m._equalsObject(o,c,h);}return o===c;};m._equalsList=function(l,c,o){if(o===undefined){o=true;}if(l.length!==c.length){return false;}if(o){for(var i=0;i<l.length;++i){if(!m.equals(l[i],c[i],o)){return false;}}return true;}var h={};for(var j=0;j<l.length;++j){var n=l[j];var p=false;for(var k=0;k<c.length;++k){var q=c[k];if(h[k]){continue;}if(m.equals(n,q,o)){p=true;h[k]=true;break;}}if(!p){return false;}}return true;};m._equalsObject=function(o,c,h){if(o.equals){return o.equals(c);}if(!m.isObject(c)){return false;}for(var p in o){var i=o[p];var j=c[p];if(!m.equals(i,j,h)){return false;}}return true;};m.clone=function(o){if(m.isList(o)){return m._cloneList(o);}if(m.isObject(o)){return m._cloneObject(o);}return o;};m._cloneList=function(l){var c=[];for(var i=0;i<l.length;++i){var h=l[i];c.push(m.clone(h));}return c;};m._cloneObject=function(o){if(o.clone){return o.clone();}var c={};for(var p in o){var v=o[p];c[p]=m.clone(v);}return c;};var f=0;m.generateId=function(){return'#'+(++f);};m.generateGuid=function(){return'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=='x'?r:(r&0x3|0x8);return v.toString(16).toUpperCase();});};m.executeSequentialAsync=function(t,c){if(!t){return m.Promise.resolve();}var h=function(i){if(i>=t.length){return undefined;}var j=t[i];return Promise.resolve().then(function(){if(c){return c(j);}return j();}).then(function(){return h(i+1);});};return h(0);};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/core/lang.js":function(){sinaDefine(['./core'],function(c){"use strict";return{getLanguagePreferences:function(){var a=typeof InstallTrigger!=='undefined';var b=false||!!document.documentMode;var d=!b&&!!window.StyleMedia;var e=!!window.chrome&&!!window.chrome.webstore;var l=[];if(b||d){var f=window.navigator.browserLanguage||window.navigator.language;l.splice(0,0,this._getLanguageCountryObject(f));}else if(a||e){var g=window.navigator.language;var h=window.navigator.languages.slice();var j=h.indexOf(g);if(j>-1){h.splice(j,1);}l.splice(0,0,this._getLanguageCountryObject(g));for(var i=0;i<h.length;i++){var k=this._getLanguageCountryObject(h[i]);if(k){l.splice(l.length,0,k);}}}else{l.splice(0,0,this._getLanguageCountryObject(window.navigator.language));}return l;},_getLanguageCountryObject:function(l){var a,b;var d={};if(l.length===2){a=l;b='';}else if(l.length===5&&l.indexOf('-')===2){a=l.substr(0,2);b=l.substr(3);}else{return undefined;}d.Language=a;d.Country=b;return d;}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/core/util.js":function(){sinaDefine(['./core'],function(c){"use strict";var m={};m.sampleProviderInstanceCounter=0;m.timeoutDecorator=function(o,t){var d=function(){var a=this;var b=arguments;return new c.Promise(function(r,e){var f=false;var g=setTimeout(function(){f=true;e(new c.Exception('timeout'));},t);return o.apply(a,b).then(function(h){if(f){return;}clearTimeout(g);r(h);},function(h){if(f){return;}clearTimeout(g);e(h);});});};return d;};m.refuseOutdatedResponsesDecorator=function(o){var a=0;var d=function(){var r=++a;return o.apply(this,arguments).then(function(b){return new c.Promise(function(e,f){if(r!==a){return;}e(b);});},function(e){return new c.Promise(function(b,f){if(r!==a){return;}f(e);});});};d.abort=function(){++a;};return d;};m.getUrlParameter=function(n,u){if(!u){u=window.location.href;}n=n.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),a=r.exec(u);if(!a){return null;}if(!a[2]){return'';}return decodeURIComponent(a[2].replace(/\+/g," "));};m.filterString=function(t,r){for(var i=0;i<r.length;++i){var a=r[i];var b=0;while(b>=0){b=t.indexOf(a);if(b>=0){t=t.slice(0,b)+t.slice(b+a.length);}}}return t;};m.generateTimestamp=function(){var p=function(n,a){var s="000000000"+n;return s.substr(s.length-a);};var d=new Date();return''+d.getUTCFullYear()+p(d.getUTCMonth()+1,2)+p(d.getUTCDate(),2)+p(d.getUTCHours(),2)+p(d.getUTCMinutes(),2)+p(d.getUTCSeconds(),2)+p(d.getUTCMilliseconds(),3);};m.DelayedConsumer=c.defineClass({_init:function(p){p=p||{};this.timeDelay=p.timeDelay||1000;this.consumer=p.consumer||function(){};this.consumerContext=p.consumerContext||null;this.objects=[];},add:function(o){this.objects.push(o);if(this.objects.length===1){setTimeout(this.consume.bind(this),this.timeDelay);}},consume:function(){this.consumer.apply(this.consumerContext,[this.objects]);this.objects=[];}});m.dateToJson=function(d){return{type:'Timestamp',value:d.toJSON()};};m.dateFromJson=function(j){if(j.type!=='Timestamp'){throw new c.Exception('Not a timestampe '+j);}return new Date(j.value);};m.addPotentialNavTargetsToAttribute=function(r){if(r.items){var a=r.items;for(var i=0;i<a.length;i++){var b=a[i];b=this.addGeoDataIfAvailable(b);var d=b.detailAttributes;for(var j=0;j<d.length;j++){var e=d[j];var s=e.sina;var v=e.value;var f=e.metadata;if(typeof v==='string'&&e.metadata.type!=="ImageUrl"){var g=v.match(/^[^\0-\x20,:;<>@\[\\\]^_`]+@[^\0-,.-@\[\\\]^_`\{\|\}~]+\.[^\0-,.-@\[\\\]^_`\{\|\}~]+$/g);var h=v.match(/^(?!\d*$)(?=(?:[()\[\]+\-\/ ]*\d[()\[\]+\-\/ ]*){9,15}$)\+?(?:\d+|\(\d+(?: \d+)*\)|\[\d+\]|[\/ ]|\d-\d)+$/g);var u=v.match(/^https?:\/\/(?=[^\/])\S+$/gi);if(f.semantics==s.AttributeSemanticsType.EmailAddress){e.defaultNavigationTarget=s._createNavigationTarget({label:v,targetUrl:'mailto:'+v});}else if(f.semantics==s.AttributeSemanticsType.PhoneNr){e.defaultNavigationTarget=s._createNavigationTarget({label:v,targetUrl:'tel:'+v});}else if(f.semantics==s.AttributeSemanticsType.HTTPURL){e.defaultNavigationTarget=s._createNavigationTarget({label:v,targetUrl:v,target:"_blank"});}else if(g!==null&&g.length===1){e.defaultNavigationTarget=s._createNavigationTarget({label:g[0],targetUrl:'mailto:'+g[0]});}else if(h!==null&&h[0].match(/\d\d\d/)!==null){e.defaultNavigationTarget=s._createNavigationTarget({label:h[0],targetUrl:'tel:'+h[0]});}else if(u!==null&&u[0].match(/\w\w\w/)!==null){e.defaultNavigationTarget=s._createNavigationTarget({label:u[0],targetUrl:u[0],target:"_blank"});}}}}}return r;};m.removePureAdvancedSearchFacets=function(r){var d=r.sina.getDataSource(r.query.filter.dataSource.id);for(var i=0;i<r.facets.length;i++){var a=r.facets[i].query.dimension;var b=d.attributeMetadataMap[a];if(b&&b.usage.AdvancedSearch&&b.usage.Facet===undefined){r.facets.splice(i,1);i=i-1;}}return r;};m.isMapsAttribute=function(a,r,i){var b=false;var l,d,n,v,e,f,g,h;n=a.id;v=a.value;if(n.match(/latitude/i)!==null){if(!isNaN(v)){g=n;l=v;e=i;}b=true;}else if(n.match(/longitude/i)!==null){if(!isNaN(v)){h=n;d=v;f=i;}b=true;}else if(n.match(/LOC_4326/)){f=i;e=i;var L=JSON.parse(v);var C=L.coordinates;if(C&&C.length>1){d=C[0];l=C[1];}b=true;}if(r===undefined||r===true){return b;}return{lat:l,lon:d,latAttribName:g,lonAttribName:h,latIndex:e,lonIndex:f};};m.addGeoDataIfAvailable=function(a){var r,b,l,d,e,f,g;b=a.detailAttributes;for(var i=0;i<b.length;i++){r=this.isMapsAttribute(b[i],false,i);l=r.lat?r.lat:l;d=r.lon?r.lon:d;f=r.latIndex?r.latIndex:f;g=r.lonIndex?r.lonIndex:g;if(l&&d){break;}}if(l&&d){if(f===g){b.splice(f,1);}else if(f>g){b.splice(f,1);b.splice(g,1);}else{b.splice(g,1);b.splice(f,1);}var n={sina:a.sina,type:"GeoJson",id:"LOC_4326",label:"LOC_4326",isCurrency:false,IsBoolean:false,IsKey:false,IsSortable:true,isUnitOfMeasure:false,semanticObjectType:[],isQuantity:"",usage:{"Map":"coordinates"}};var v='{ "type": "Point", "coordinates": ['+d+', '+l+', 0] }';var h={id:"LOC_4326",label:"LOC_4326",isHighlighted:false,value:v,valueFormatted:v,valueHighlighted:a.sina,metadata:n,sina:a.sina};b.push(h);e=a.sina.getDataSource(a.dataSource.id);if(!e.attributeMetadataMap.LOC_4326){e.attributesMetadata.push(n);e.attributeMetadataMap.LOC_4326=n;}else{e.attributeMetadataMap.LOC_4326.type="GeoJson";e.attributeMetadataMap.LOC_4326.usage={"Map":"coordinates"};}}return a;};m.cacheDecorator=function(o){var a={};return function(i){if(a.hasOwnProperty(i)){return a[i];}var v=o.apply(this,[i]);a[i]=v;return v;};};m.escapeRegExp=function(s){return s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");};m.evaluateTemplate=function(t,o){var p=new RegExp('{{(.*)}}');var g=function(t){var a=p.exec(t);if(!a){return null;}return a[1];};var r=function(t,a,v){var b=new RegExp('{{'+m.escapeRegExp(a)+'}}','g');t=t.replace(b,v);return t;};var e=function(t){var a=g(t);if(!a){return t;}t=r(t,a,o[a]);return e(t);};return e(t);};m.extractRegExp=new RegExp('<b>(.*?)<\\/b>','g');m.extractHighlightedTerms=function(t){var a;var r=[];do{a=m.extractRegExp.exec(t);if(a){r.push(a[1]);}}while(a);return r;};m.appendRemovingDuplicates=function(l,a){for(var i=0;i<a.length;++i){var e=a[i];if(l.indexOf(e)<0){l.push(e);}}};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/FacetParser.js":function(){sinaDefine(['../../core/core','../../sina/SearchQuery','./typeConverter'],function(c,S,t){"use strict";return c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;},parse:function(q,d){if(d.ValueHelp){this.prepareValueHelpFacet(q,d);}var f=[];if(!d.Facets||!d.Facets.results){return[];}for(var i=0;i<d.Facets.results.length;i++){var a=d.Facets.results[i];var b=a.Type;if(b==='DataSource'){f.push(this.parseDataSourceFacet(q,a));}else{if(q.filter.dataSource.type===q.sina.DataSourceType.Category){continue;}f.push(this.parseChartFacet(q,a));}}return c.Promise.all(f);},prepareValueHelpFacet:function(q,d){var s=d.ValueHelp.results;var a=this.sina.getDataSource(q.filter.dataSource.id);var b=d.ValueHelpAttribute;var m=a.getAttributeMetadata(b);var e={Id:d.ValueHelpAttribute,Name:m.label,Type:"AttributeValue",Values:{results:[]}};var r=[];for(var i=0;i<s.length;i++){var f=s[i];r.push({Description:f.ValueFormatted,NumberOfObjects:f.NumberOfInstances,Type:"AttributeValue",ValueLow:f.Value,ValueLowFormatted:f.ValueFormatted,ValueHigh:"",ValueHighFormatted:""});}e.Values.results=r;d.Facets={};d.Facets.results=[];d.Facets.results[0]=e;},parseDataSourceFacet:function(q,f){var d=q;if(q instanceof S){d=this.sina.createDataSourceQuery({dataSource:q.filter.dataSource,filter:q.filter.clone()});}var a=[];for(var i=0;i<f.Values.results.length;i++){var b=f.Values.results[i];var e=this.sina.getDataSource(b.ValueLow);if(!e){e=this.sina._createDataSource({type:this.sina.DataSourceType.Category,id:b.ValueLow,label:b.Description});}a.push(this.sina._createDataSourceResultSetItem({dataSource:e,dimensionValueFormatted:e.labelPlural,measureValue:b.NumberOfObjects,measureValueFormatted:(b.NumberOfObjects).toString()}));}var r=this.sina._createDataSourceResultSet({title:q.filter.dataSource.label,items:a,query:d});if(q instanceof S){return d._setResultSet(r);}return r;},createAttributeFilterCondition:function(a,m,b){if(b.Type==="AttributeRange"){var d=[];if(b.ValueLow&&b.ValueLow.length!==0){d.push(this.sina.createSimpleCondition({attribute:a,operator:this.sina.ComparisonOperator.Ge,value:t.odata2Sina(m.type,b.ValueLow)}));}if(b.ValueHigh&&b.ValueHigh.length!==0){d.push(this.sina.createSimpleCondition({attribute:a,operator:this.sina.ComparisonOperator.Le,value:t.odata2Sina(m.type,b.ValueHigh)}));}return this.sina.createComplexCondition({attributeLabel:m.label,valueLabel:b.Description,operator:this.sina.LogicalOperator.And,conditions:d});}return this.sina.createSimpleCondition({attributeLabel:m.label,attribute:a,value:t.odata2Sina(m.type,b.ValueLow),valueLabel:b.Description});},parseChartFacet:function(q,f){var d=this.sina.getDataSource(q.filter.dataSource.id);var a=f.Id;var m=d.getAttributeMetadata(a);var b,e=q;if(q instanceof S){b=q.filter.clone();b.setDataSource(d);b.setRootCondition(q.filter.rootCondition.clone());e=this.sina.createChartQuery({filter:b,dimension:f.Id});}var g=[];for(var i=0;i<f.Values.results.length;i++){var h=f.Values.results[i];g.push(this.sina._createChartResultSetItem({filterCondition:this.createAttributeFilterCondition(a,m,h),dimensionValueFormatted:h.Description,measureValue:h.NumberOfObjects,measureValueFormatted:h.ValueLowFormatted}));}var r=this.sina._createChartResultSet({title:m.label,items:g,query:e});if(q instanceof S){return e._setResultSet(r);}return r;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/ItemParser.js":function(){sinaDefine(['../../sina/SinaObject','../../core/util','./typeConverter'],function(S,u,T){"use strict";return S.derive({_init:function(p){this.provider=p;this.sina=p.sina;this.intentsResolver=this.sina._createFioriIntentsResolver();this.suvNavTargetResolver=this.sina._createSuvNavTargetResolver();},parse:function(s,d){if(d.ResultList.SearchResults===null){return Promise.resolve([]);}var i=d.ResultList.SearchResults.results;return this.parseItems(i);},parseItems:function(a){var b=[];for(var i=0;i<a.length;++i){var c=a[i];var d=this.parseItem(c);b.push(d);}return Promise.all(b);},parseItem:function(i){var j;var a={};var t=[];var b=[];var d=[];var s,c,e,f;var g={};var w=[];var h=[];var k;var l=this.sina.getDataSource(i.DataSourceId);var m,n,o,p;var q=[];var r=i.Score/100;for(j=0;j<i.Attributes.results.length;j++){m=i.Attributes.results[j];n=l.getAttributeMetadata(m.Id);o=this.sina._createSearchResultSetItemAttribute({id:m.Id,label:n.label,value:T.odata2Sina(n.type,m.Value),valueFormatted:m.ValueFormatted!==undefined?m.ValueFormatted:m.Value,valueHighlighted:m.Snippet||'',isHighlighted:m.Snippet.indexOf("<b>")>-1&&m.Snippet.indexOf("</b>")>-1,metadata:n,groups:[]});o.valueHighlighted=m.Snippet;a[o.id]=o;u.appendRemovingDuplicates(q,u.extractHighlightedTerms(o.valueHighlighted));if(n.suvUrlAttribute&&n.suvMimeTypeAttribute){e=a[n.suvUrlAttribute]||n.suvUrlAttribute.id;f=a[n.suvMimeTypeAttribute]||n.suvMimeTypeAttribute.id;g[m.Id]={suvThumbnailAttribute:o,suvTargetUrlAttribute:e,suvTargetMimeTypeAttribute:f};}if(n.usage.Navigation){if(n.usage.Navigation.mainNavigation){k=this.sina._createNavigationTarget({label:o.value,targetUrl:o.value,target:"_blank"});}}if(n.usage.Detail){d.push(o);}if(!n.usage.Title&&!n.usage.Detail&&!n.isDescription&&(o.isHighlighted||(o.descriptionAttribute&&o.descriptionAttribute.isHighlighted))&&!this._parentHasUsage(n,["Detail","Title"])){w.push(o);}if(n.usage.Title){t.push(o);}if(n.usage.TitleDescription){b.push(o);}p=l.attributeMetadataMap[o.id]._private.semanticObjectType;if(p&&p.length>0){h.push({name:p,value:o.value,type:o.metadata.type});}}for(c in g){s=g[c];if(typeof s.suvTargetUrlAttribute==="string"){s.suvTargetUrlAttribute=a[s.suvTargetUrlAttribute];}if(typeof s.suvTargetMimeTypeAttribute==="string"){s.suvTargetMimeTypeAttribute=a[s.suvTargetMimeTypeAttribute];}if(!(s.suvTargetUrlAttribute||s.suvTargetMimeTypeAttribute)){delete g[c];}}t.sort(function(z,A){return z.metadata.usage.Title.displayOrder-A.metadata.usage.Title.displayOrder;});d.sort(function(z,A){return z.metadata.usage.Detail.displayOrder-A.metadata.usage.Detail.displayOrder;});var v=this._parseHitAttributes(i,l,q);w=w.concat(v);d=d.concat(w);this.suvNavTargetResolver.resolveSuvNavTargets(l,g,q);var x=this.sina._createSearchResultSetItem({dataSource:l,titleAttributes:t,titleDescriptionAttributes:b,detailAttributes:d,defaultNavigationTarget:k,navigationTargets:[],score:r});x._private.allAttributesMap=a;x._private.semanticObjectTypeAttributes=h;var y=this.sina._createItemPostParser({searchResultSetItem:x});return y.postParseResultSetItem();},_parentHasUsage:function(m,a){for(var i=0;i<m.groups.length;i++){var g=m.groups[i].group;var h=false;for(var j=0;j<a.length;j++){if(g.usage[a[j]]!==undefined){h=true;break;}}if(h||this._parentHasUsage(g,a)){return true;}}return false;},_parseHitAttributes:function(a,d,s){var h=[];if(a.HitAttributes!==null){for(var i=0;i<a.HitAttributes.results.length;i++){var b=a.HitAttributes.results[i];var m=d.getAttributeMetadata(b.Id);var v=T.odata2Sina(m.type,u.filterString(b.Snippet,['<b>','</b>']));var c=this.sina._createSearchResultSetItemAttribute({id:b.Id,label:m.label,value:v,valueFormatted:v,valueHighlighted:b.Snippet,isHighlighted:b.Snippet.indexOf("<b>")>-1&&b.Snippet.indexOf("</b>")>-1,metadata:m});u.appendRemovingDuplicates(s,u.extractHighlightedTerms(c.valueHighlighted));h.push(c);}}return h;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/MetadataParser.js":function(){sinaDefine(['../../core/core','../../sina/SinaObject','./typeConverter','./labelCalculation'],function(c,S,t,l){"use strict";return S.derive({_init:function(p){this._provider=p;this._sina=p.sina;this._labelCalculator=l.createLabelCalculator();this._appSearchDataSource=undefined;},getAppSearchDataSource:function(){return this._appSearchDataSource;},parseDataSourceData:function(d,s){for(var i=0;i<d.length;++i){var a=d[i];var b=a.Name;if(!b){b=a.Id;}var e=a.NamePlural;if(!e){e=b;}var f=this._sina._createDataSource({id:a.Id,label:b,labelPlural:e,type:this._sina.DataSourceType.BusinessObject,usage:a.Id.endsWith("TRANSACTIONS~")?{appSearch:{}}:{},attributesMetadata:[{id:'dummy'}]});f._private.system=a.SourceSystem;f._private.client=a.SourceClient;f._private.semanticObjectType=a.SemanticObjectTypeId;f._private.annotations=a.Annotations&&a.Annotations.results||[];this._labelCalculator.calculateLabel(f);this._fillMetadataBufferForDataSource(f,a.Attributes.results);s.registerObjectType({type:f.id,label:f.label,properties:f.attributesMetadata});if(f.id.endsWith("TRANSACTIONS~")&&this._appSearchDataSource===undefined){this._appSearchDataSource=f;}}},_fillMetadataBufferForDataSource:function(d,a){if(d.attributesMetadata[0].id!=='dummy'){return;}d.attributesMetadata=[];d.attributeMetadataMap={};var i;var b=[];var e=[];var f=[];var g=[];var h;var j={dataSourceAnnotations:{},attributeAnnotations:{}};j.dataSourceAnnotations=this._parseAnnotationsIntoJsonStructure(d._private.annotations);for(i=0;i<a.length;i++){h=a[i];var p=this._fillMetadataBufferForAttribute(d,h);var k=h.Annotations&&h.Annotations.results||[];var m=this._parseAnnotationsIntoJsonStructure(k);j.attributeAnnotations[p.id.toUpperCase()]=m;this._parseSemanticsAnnotation(h,m);if(p._private.temporaryUsage.Title!==undefined){b.push(p);}if(p._private.temporaryUsage.Detail!==undefined){if(h.isSummary){e.push(p);}else{f.push(p);}}}var n=this._sina._createCDSAnnotationsParser({dataSource:d,cdsAnnotations:j});var o=n.parseCDSAnnotationsForDataSource();if(!o.dataSourceIsCdsBased){this._sortAttributesOfNonCDSBasedDataSource(d,b,g,e,f);}for(i=0;i<d.attributesMetadata.length;i++){h=d.attributesMetadata[i];if(h._private.temporaryUsage){for(var u in h._private.temporaryUsage){if(u!="Title"&&u!="Detail"){h.usage[u]=h._private.temporaryUsage[u];}}}}},_fillMetadataBufferForAttribute:function(d,a){var b=a.Displayed&&a.DisplayOrder?a.DisplayOrder:-1;var e=this._parseAttributeTypeAndFormat(a);var p=this._sina._createAttributeMetadata({id:a.Id,label:a.Name!==""?a.Name:a.Id,isKey:a.Key,isSortable:a.Sortable,usage:{},type:e.type,format:e.format,matchingStrategy:this._parseMatchingStrategy(a)});p._private.semanticObjectType=a.SemanticObjectTypeId;p._private.temporaryUsage=a.UIAreas?this._parseUsage(a,b):{};d.attributesMetadata.push(p);d.attributeMetadataMap[p.id]=p;return p;},_parseSemanticsAnnotation:function(r,a){var h=false,s="SEMANTICS";for(var b in a){if(b.substr(0,s.length)==s){h=true;break;}}if(r.Semantics&&!h){var d;switch(r.Semantics){case"EMAIL.ADDRESS":case"TELEPHONE.TYPE":case"CURRENCYCODE":case"UNITOFMEASURE":d="TRUE";break;case"QUANTITY.UNITOFMEASURE":case"AMOUNT.CURRENCYCODE":d=r.UnitAttribute;break;}if(d){a[s+r.Semantics]=d;}}},_sortAttributesOfNonCDSBasedDataSource:function(d,a,b,e,f){var i,g;a.sort(this._createSortFunction("Title"));for(i=0;i<a.length;++i){var h=a[i].id;g=d.getAttributeMetadata(h);g.usage.Title=g._private.temporaryUsage.Title;g.usage.Title.displayOrder=i;}var s=this._createSortFunction("Detail");e.sort(s);f.sort(s);b.push.apply(b,e);b.push.apply(b,f);for(i=0;i<b.length;++i){b[i].usage.Detail=b[i]._private.temporaryUsage.Detail;b[i].usage.Detail.displayOrder=i;}},_arrayIncludesEntry:function(a,e,b){var i;if(b){for(i=0;i<a.length;i++){if(b(a[i],e)){return true;}}}else{for(i=0;i<a.length;i++){if(a[i]==e){return true;}}}return false;},_parseAnnotationsIntoJsonStructure:function(a){if(a.length==0){return{};}var i,j;var p={};var b,d;var f,g;var h;var k=[];var m;var n=function(w,x){return w.annotationPointer==x.annotationPointer&&w.annotationName==x.annotationName;};try{for(j=0;j<a.length;j++){b=/\[\d+\]$/g;g=p;h=a[j].Name.split(".");for(i=0;i<h.length;i++){f=h[i].toUpperCase();d=b.exec(f);if(d!==null){f=f.substring(0,d.index);}g[f]=g[f]||{};if(d!==null&&d[0].length>0){m={annotationPointer:g,annotationName:f};if(!this._arrayIncludesEntry(k,m,n)){k.push(m);}if(i<h.length-1){g[f][d[0]]=g[f][d[0]]||{};g=g[f][d[0]];}else{g[f][d[0]]=a[j].Value;}}else if(i<h.length-1){g=g[f];}else{g[f]=a[j].Value;}}}var o;var q;var r,s,u;var v=/\[\d+\]/g;for(j=0;j<k.length;j++){o=k[j].annotationPointer;f=k[j].annotationName;q=o[f];r=[];u={};for(s in q){if(s.match(v)){r.push(q[s]);}else{u[s]=q[s];}}if(Object.keys(u).length>0){r.push(u);}o[f]=r;}}catch(e){return{};}return p;},_createSortFunction:function(u){return function(a,b){if(a._private.temporaryUsage[u].displayOrder<b._private.temporaryUsage[u].displayOrder){return-1;}else if(a._private.temporaryUsage[u].displayOrder>b._private.temporaryUsage[u].displayOrder){return 1;}return 0;};},_parseMatchingStrategy:function(a){if(a.TextIndexed){return this._sina.MatchingStrategy.Text;}return this._sina.MatchingStrategy.Exact;},_parseAttributeTypeAndFormat:function(a){for(var i=0;i<a.UIAreas.results.length;i++){var p=a.UIAreas.results[i];var b=p.Id;switch(b){case'SUMMARY':continue;case'DETAILS':continue;case'TITLE':continue;case'#HIDDEN':case'HIDDEN':continue;case'FACTSHEET':continue;case'DETAILIMAGE':case'PREVIEWIMAGE':return{type:this._sina.AttributeType.ImageUrl};case'LONGTEXT':return{type:this._sina.AttributeType.String,format:this._sina.AttributeFormatType.LongText};default:throw new c.Exception('Unknown presentation usage '+p);}}switch(a.EDMType){case'Edm.String':case'Edm.Binary':case'Edm.Boolean':case'Edm.Byte':case'Edm.Guid':return{type:this._sina.AttributeType.String};case'Edm.Double':case'Edm.Decimal':case'Edm.Float':return{type:this._sina.AttributeType.Double};case'Edm.Int16':case'Edm.Int32':case'Edm.Int64':return{type:this._sina.AttributeType.Integer};case'Edm.Time':return{type:this._sina.AttributeType.Time};case'Edm.DateTime':if(a.TypeLength>8){return{type:this._sina.AttributeType.Timestamp};}return{type:this._sina.AttributeType.Date};case'GeoJson':return{type:this._sina.AttributeType.GeoJson};default:throw new c.Exception('Unknown data type '+a.EDMType);}},_parseUsage:function(a,d){var u=a.UIAreas.results;var b=a.AdvancedSearchRelevant;var f=a.Facet;var e={};u.forEach(function(g){var i=g.Id;if(i==="TITLE"){e.Title={displayOrder:d};}if(i==="SUMMARY"||i==="DETAILIMAGE"||i==="PREVIEWIMAGE"){a.isSummary=true;e.Detail={displayOrder:d};}if(i==="DETAILS"||i==="LONGTEXT"){e.Detail={displayOrder:d};}});if(b){e.AdvancedSearch={};}if(f){e.Facet={};}return e;},parseDynamicMetadata:function(s){var a;try{a=s.ResultList.SearchResults.results;}catch(e){return;}for(var i=0;i<a.length;++i){var b=a[i];if(!b.HitAttributes||!b.HitAttributes.results){continue;}var d=this._sina.getDataSource(b.DataSourceId);var h=b.HitAttributes.results;for(var j=0;j<h.length;++j){var f=h[j];this.parseDynamicAtributeMetadata(d,f);}}},parseDynamicAtributeMetadata:function(d,a){var b;var m=d.getAttributeMetadata(a.Id);if(m){if(!m._private.dynamic){return;}a.UIAreas=a.UIAreas||{results:[]};b=this._parseAttributeTypeAndFormat(a);m.label=a.Name;m.type=b.type;m.format=b.format;}else{a.UIAreas=a.UIAreas||{results:[]};b=this._parseAttributeTypeAndFormat(a);m=this._sina._createAttributeMetadata({id:a.Id,label:a.Name,isKey:false,isSortable:false,usage:{},type:b.type,format:b.format,matchingStrategy:this._sina.MatchingStrategy.Exact,_private:{dynamic:true}});d.attributesMetadata.push(m);d.attributeMetadataMap[m.id]=m;}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/NlqParser.js":function(){sinaDefine(['../../core/core','../../core/util'],function(c,u){"use strict";return c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;},getActiveResult:function(r){for(var i=0;i<r.length;++i){var a=r[i];if(a.IsCurrentQuery){return a;}}return null;},parse:function(d){var n={success:false,description:''};if(!d||!d.ResultList||!d.ResultList.NLQQueries||!d.ResultList.NLQQueries.results){return n;}var r=d.ResultList.NLQQueries.results;var a=this.getActiveResult(r);if(!a){return n;}n.success=true;n.description=a.Description;return n;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/Provider.js":function(){sinaDefine(['../../core/core','../../core/util','../../core/lang','../../sina/SinaObject','./ajax','./ajaxTemplates','./conditionSerializer','./dataSourceSerializer','./FacetParser','./ItemParser','./NlqParser','./suggestionParser','./suggestionTermSplitter','./labelCalculation','./UserEventLogger','./MetadataParser'],function(c,u,l,S,a,b,d,e,F,I,N,f,s,g,U,M){"use strict";return S.derive({id:'abap_odata',_initAsync:function(h){this.requestPrefix=h.url||'/sap/opu/odata/sap/ESH_SEARCH_SRV';this.sina=h.sina;this.ajaxClient=a.createAjaxClient();this.metadataLoadPromises={};this.internalMetadata={};this.labelCalculator=g.createLabelCalculator();this.userEventLogger=new U(this);this.metadataParser=new M(this);this.itemParser=new I(this);this.nlqParser=new N(this);this.facetParser=new F(this);this.suggestionParser=new f(this,this.itemParser);this.sessionId=c.generateGuid();this.sorsNavigationTargetGenerator=this.sina._createSorsNavigationTargetGenerator({urlPrefix:'#Action-search&/top=10&filter=',getPropertyMetadata:function(m){return{name:m.id,label:m.label,semanticObjectType:m._private.semanticObjectType,response:!!(m.usage&&(m.usage.Detail||m.usage.Title)),request:true};}});return this.loadServerInfo().then(function(i){this.serverInfo=i.d.results[0];if(!this.supports('Search')){return Promise.reject(new c.Exception('Enterprise Search is not active'));}return this.loadBusinessObjectDataSources();}.bind(this)).then(function(){return{capabilities:this.sina._createCapabilities({fuzzy:false})};}.bind(this));},supports:function(h,k){for(var i=0;i<this.serverInfo.Services.results.length;++i){var m=this.serverInfo.Services.results[i];if(m.Id==h){if(!k){return true;}for(var j=0;j<m.Capabilities.length;++j){var n=m.Capabilities[j];if(n.Capability===k){return true;}}}}return false;},loadServerInfo:function(){var r=this.buildQueryUrl(this.requestPrefix,"/ServerInfos?$expand=Services/Capabilities");var h=this.buildQueryUrl(this.requestPrefix,"/$metadata");var i=this.ajaxClient.getJson(r);var m=this.ajaxClient.getXML(h);return Promise.all([i,m]).then(function(v){var j=v[0];var k=v[1];var p=new DOMParser();var D=p.parseFromString(k,"text/xml");if(D.documentElement.nodeName!="parsererror"){this.serviceXML=D;}return j.data;}.bind(this));},loadBusinessObjectDataSources:function(){var r="/DataSources?$expand=Annotations,Attributes/UIAreas,Attributes/Annotations&$filter=Type eq 'View'";if(this.serviceXML){var h="Schema[Namespace=ESH_SEARCH_SRV]>EntityType[Name=DataSource]>NavigationProperty[Name=Annotations],"+"Schema[Namespace=ESH_SEARCH_SRV]>EntityType[Name=DataSourceAttribute]>NavigationProperty[Name=Annotations]";var i=this.serviceXML.querySelectorAll(h);if(i.length!=2){r="/DataSources?$expand=Attributes/UIAreas&$filter=Type eq 'View'";}var j="Schema[Namespace=ESH_SEARCH_SRV]>EntityType[Name=DataSource]>Property[Name=IsInternal]";if(this.isQueryPropertySupported(j)){r=r+" and IsInternal eq false";}}var k=this.buildQueryUrl(this.requestPrefix,r);return this.ajaxClient.getJson(k).then(function(m){var n=m.data.d.results;this.metadataParser.parseDataSourceData(n,this.sorsNavigationTargetGenerator);this.sorsNavigationTargetGenerator.finishRegistration();}.bind(this));},assembleOrderBy:function(q){var r=[];for(var i=0;i<q.sortOrder.length;++i){var h=q.sortOrder[i];var j=(h.order===this.sina.SortOrder.Descending)?'desc':'asc';r.push({AttributeId:h.id,SortOrder:j});}return r;},executeSearchQuery:function(q){var i,r;var h=b.searchRequest;if(q.nlq){h=b.nlqSearchRequest;}var j="Schema[Namespace=ESH_SEARCH_SRV]>EntityType[Name=SearchOptions]>Property[Name=ClientServiceName]";if(!this.isQueryPropertySupported(j)){delete h.d.QueryOptions.ClientServiceName;}h=JSON.parse(JSON.stringify(h));var k=q.filter.rootCondition.clone();var m=d.serialize(q.filter.dataSource,k);if(m.SubFilters.length!==0){h.d.Filter=m;}else{delete h.d.Filter;}h.d.DataSources=[e.serialize(q.filter.dataSource)];h.d.QueryOptions.SearchTerms=q.filter.searchTerm;h.d.QueryOptions.Top=q.top;h.d.QueryOptions.Skip=q.skip;h.d.OrderBy=this.assembleOrderBy(q);this.addSessionId(h);if(!q.calculateFacets){delete h.d.MaxFacetValues;delete h.d.Facets;}else{h.d.MaxFacetValues=5;h.d.Facets=[{"Values":[]}];}var n=this.buildQueryUrl(this.requestPrefix,"/SearchQueries");return this.ajaxClient.postJson(n,h).then(function(o){r=o;return this.metadataParser.parseDynamicMetadata(r.data.d);}.bind(this)).then(function(){return this.itemParser.parse(q,r.data.d);}.bind(this)).then(function(o){i=o;return this.facetParser.parse(q,r.data.d);}.bind(this)).then(function(o){var p=this.nlqParser.parse(r.data.d);var t=p.success?p.description:'Search Result List';return this.sina._createSearchResultSet({id:r.data.d.ResultList.ExecutionID,title:t,query:q,items:i,nlqSuccess:p.success,totalCount:r.data.d.ResultList.TotalHits,facets:o});}.bind(this)).then(function(o){this.sorsNavigationTargetGenerator.generateNavigationTargets(o);return o;}.bind(this));},executeChartQuery:function(q){var r="";var h={};var i=q.filter.rootCondition.clone();var j;if(this.decideValueHelp(q)){h=JSON.parse(JSON.stringify(b.valueHelperRequest));h.d.ValueHelpAttribute=q.dimension;j=d.serialize(q.filter.dataSource,i);if(j.SubFilters.length!==0){h.d.Filter=j;}else{delete h.d.Filter;}h.d.ValueFilter=this.getFilterValueFromConditionTree(q.dimension,j);h.d.QueryOptions.SearchTerms=q.filter.searchTerm;h.d.DataSources=[e.serialize(q.filter.dataSource)];r=this.buildQueryUrl(this.requestPrefix,"/ValueHelpQueries");}else{h=JSON.parse(JSON.stringify(b.chartRequest));j=d.serialize(q.filter.dataSource,i);if(j.SubFilters.length!==0){h.d.Filter=j;}else{delete h.d.Filter;}h.d.DataSources=[e.serialize(q.filter.dataSource)];h.d.QueryOptions.SearchTerms=q.filter.searchTerm;h.d.QueryOptions.Skip=0;this.addSessionId(h);h.d.FacetRequests=[{DataSourceAttribute:q.dimension}];h.d.MaxFacetValues=q.top;r=this.buildQueryUrl(this.requestPrefix,"/SearchQueries");}return this.ajaxClient.postJson(r,h).then(function(k){return this.facetParser.parse(q,k.data.d);}.bind(this)).then(function(k){if(k.length>0){return k[0];}return this.sina._createChartResultSet({title:q.filter.dataSource.getAttributeMetadata(q.dimension).label,items:[],query:q});}.bind(this));},decideValueHelp:function(q){var h=q.filter.rootCondition.conditions;for(var i=0;i<h.length;i++){if(q.filter._getAttribute(h[i])===q.dimension){return true;}}return false;},executeSuggestionQuery:function(q){return c.Promise.all([this.executeRegularSuggestionQuery(q),this.executeObjectSuggestionQuery(q)]).then(function(r){var h=[];h.push.apply(h,r[1]);h.push.apply(h,r[0]);return this.sina._createSuggestionResultSet({title:'Suggestions',query:q,items:h});}.bind(this));},isObjectSuggestionQuery:function(q){return q.types.indexOf('Object')>=0&&q.filter.dataSource.type===q.sina.DataSourceType.BusinessObject;},executeObjectSuggestionQuery:function(q){if(!this.supports('ObjectSuggestions')||!this.isObjectSuggestionQuery(q)){return c.Promise.resolve([]);}var r=JSON.parse(JSON.stringify(b.objectSuggestionRequest));var h=q.filter.rootCondition.clone();var i=d.serialize(q.filter.dataSource,h);if(i.SubFilters.length!==0){r.d.Filter=i;}else{delete r.d.Filter;}r.d.DataSources=[e.serialize(q.filter.dataSource)];r.d.QueryOptions.Top=q.top;r.d.QueryOptions.Skip=q.skip;r.d.QueryOptions.SearchTerms=q.filter.searchTerm;this.addSessionId(r);var j=this.buildQueryUrl(this.requestPrefix,"/SuggestionsQueries");return this.ajaxClient.postJson(j,r).then(function(k){return this.suggestionParser.parseObjectSuggestions(q,k.data);}.bind(this));},executeRegularSuggestionQuery:function(q){var r=JSON.parse(JSON.stringify(b.suggestionRequest));var h=q.filter.searchTerm;var i=s.split(this,h);var j=q.filter.rootCondition.clone();var k=d.serialize(q.filter.dataSource,j);if(k.SubFilters.length!==0){r.d.Filter=k;}else{delete r.d.Filter;}r.d.DataSources=[e.serialize(q.filter.dataSource)];r.d.QueryOptions.Top=q.top;r.d.QueryOptions.Skip=q.skip;r.d.SuggestionInput=i.suggestionTerm;r.d.QueryOptions.SearchTerms=i.searchTerm===null?"":i.searchTerm;if(!this.includeSuggestionTypes(q,r)){return[];}this.addSessionId(r);var m=this.buildQueryUrl(this.requestPrefix,"/SuggestionsQueries");return this.ajaxClient.postJson(m,r).then(function(n){return this.suggestionParser.parseRegularSuggestions(q,n.data);}.bind(this)).then(function(n){s.concatenate(this,i,n);return n;}.bind(this));},includeSuggestionTypes:function(q,h){var k={SearchTerm:{Data:'IncludeAttributeSuggestions',History:'IncludeHistorySuggestions'},Object:{},DataSource:{Data:'IncludeDataSourceSuggestions'}};var m=q.types;var n=q.calculationModes;var o=false;for(var i=0;i<m.length;i++){var p=m[i];for(var j=0;j<n.length;j++){var r=n[j];var v=k[p][r];if(typeof v==='undefined'){continue;}h.d[v]=true;o=true;}}return o;},addSessionId:function(r){r.d.QueryOptions.ClientSessionID=this.sessionId;var t=new Date().getTime();r.d.QueryOptions.ClientCallTimestamp="\\/Date("+t+")\\/";},getFilterValueFromConditionTree:function(h,j){if(j.ConditionAttribute&&j.ConditionAttribute===h){return j.ConditionValue;}else if(j.SubFilters){var i;var r=null;for(i=0;r===null&&i<j.SubFilters.length;i++){r=this.getFilterValueFromConditionTree(h,j.SubFilters[i]);}return r;}return null;},getConfigurationAsync:function(){var r=this.buildQueryUrl(this.requestPrefix,"/PersonalizedSearchMainSwitches?$filter=Selected eq true");return this.ajaxClient.getJson(r).then(function(h){var i={personalizedSearch:false,isPersonalizedSearchEditable:false};switch(h.data.d.results[0].MainSwitch){case 3:i.isPersonalizedSearchEditable=true;break;case 4:i.isPersonalizedSearchEditable=true;break;case 2:i.isPersonalizedSearchEditable=false;break;case 1:i.isPersonalizedSearchEditable=false;break;}r=this.buildQueryUrl(this.requestPrefix,"/Users('<current>')");return this.ajaxClient.getJson(r).then(function(h){if(h.data.d.IsEnabledForPersonalizedSearch){i.personalizedSearch=true;}return this.sina._createConfiguration(i);}.bind(this));}.bind(this));},saveConfigurationAsync:function(h){var i={"IsEnabledForPersonalizedSearch":h.personalizedSearch};var r=this.buildQueryUrl(this.requestPrefix,"/Users('<current>')");return this.ajaxClient.mergeJson(r,i);},resetPersonalizedSearchDataAsync:function(){var h={"ClearPersonalizedSearchHistory":true};var r=this.buildQueryUrl(this.requestPrefix,"/Users('<current>')");return this.ajaxClient.mergeJson(r,h);},logUserEvent:function(h){return this.userEventLogger.logUserEvent(h);},buildQueryUrl:function(q,h){var w=window.location.href;var r="";var i="";var j="";var k="";i=w.indexOf("esh-system=sid(");if(i!==-1){var m=w.substring(i).indexOf(")");if(m!==-1){j=w.substring(i+15,i+m);if(j.length!==0){k=";o=sid("+j+")";}}}if(j.length===0){i=w.indexOf("esh-system=");if(i!==-1){var n=w.substring(i).indexOf("&");var o=w.substring(i).indexOf("#");if(n!==-1&&o!==-1){if(n<o){j=w.substring(i+11,i+n);}else{j=w.substring(i+11,i+o);}}if(n!==-1&&o===-1){j=w.substring(i+11,i+n);}if(n===-1&&o!==-1){j=w.substring(i+11,i+o);}if(n===-1&&o===-1){j=w.substring(i+11);}}if(j.length!==0){k=";o="+j;}}r=q+k+h;return r;},getDebugInfo:function(){return'Searchsystem: '+this.serverInfo.SystemId+' Client: '+this.serverInfo.Client+' SinaProvider :'+this.id;},isQueryPropertySupported:function(p){if(this.serviceXML===undefined){return false;}var h=this.serviceXML.querySelectorAll(p);if(h.length>0){return true;}return false;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/UserEventLogger.js":function(){sinaDefine(['../../core/core','../../core/util','./ajaxTemplates'],function(c,u,a){"use strict";return c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;this.delayedConsumer=new u.DelayedConsumer({timeDelay:2000,consumer:this.processEvents,consumerContext:this});},logUserEvent:function(e){e.timeStamp=new Date().getTime();if(e.type!=='ITEM_NAVIGATE'){this.delayedConsumer.add(e);}if(e.type==='ITEM_NAVIGATE'&&e.sourceUrlArray.length!==0){this.incrementClickCounter(e.targetUrl,e.systemAndClient);}},processEvents:function(e){var t=this;var r={ID:1,SessionID:this.provider.sessionId,Events:[]};for(var i=0;i<e.length;++i){var b=e[i];var d="\\/Date("+b.timeStamp+")\\/";var o={ID:i+1,Type:b.type,Timestamp:d,ExecutionID:b.executionId,Parameters:[]};for(var n in b){if(n==='type'||n==='timeStamp'){continue;}var v=b[n];if(typeof v==='undefined'){continue;}if(typeof v!=='object'){v=v.toString();}else{v=JSON.stringify(v);}o.Parameters.push({Name:n,Value:v});}r.Events.push(o);}var f=t.provider.buildQueryUrl(t.provider.requestPrefix,"/InteractionEventLists");return t.provider.ajaxClient.postJson(f,r);},incrementClickCounter:function(t,s){if(!t){return undefined;}if(t.indexOf("#")===-1){return undefined;}var g=function(H){return H.split("-")[0];};var b=function(H){return H.split("-")[1].split("&")[0];};var d=function(p){var m=p;var n=[];for(var i=0,o=m.length;i<o;i++){var q=m[i];if(q.indexOf("sap-system")!==-1){continue;}var v=q.split("=")[0];var w=q.split("=")[1];n.push({Name:v,Value:w});}return n;};var e=this;var h=t.split("?");var f=g(h[0]).split("#")[1];var j=b(h[0]);var k=h[1]!==undefined?d(h[1].split("&")):[];var r=JSON.parse(JSON.stringify(a.navigationEvent));r.SemanticObjectType=f;r.Intent=j;if(s.systemId.length===0||s.client.length===0){delete r.System;delete r.Client;}else{r.System=s.systemId;r.Client=s.client;}r.Parameters=k;var l=e.provider.buildQueryUrl(e.provider.requestPrefix,"/NavigationEvents");return e.provider.ajaxClient.postJson(l,r);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/ajax.js":function(){sinaDefine(['../../core/core','../../core/ajax'],function(c,a){"use strict";var m={};m.Exception=c.Exception.derive({_init:function(d){c.Exception.prototype._init.apply(this,[d]);}});var p=function(d){try{var f=JSON.parse(d.responseText);var g=[];if(f&&f.error&&f.error.code){g.push(f.error.code);}if(f&&f.error&&f.error.message&&f.error.message.value){g.push(f.error.message.value);}if(g.length===0){return c.Promise.reject(d);}return c.Promise.reject(new m.Exception({message:g.join('\n'),previous:d}));}catch(e){return c.Promise.reject(d);}};var b=function(o){return function(){return o.apply(this,arguments).then(function(r){return r;},function(e){if(!(e instanceof a.Exception)){return c.Promise.reject(e);}return p(e);});};};var _=function(n){if(n.SubFilters!==undefined){delete n.ActAsQueryPart;for(var i=0;i<n.SubFilters.length;i++){_(n.SubFilters[i]);}}};m.createAjaxClient=function(){var d=new a.Client({csrf:true,requestNormalization:function(e){if(e===null){return{};}if(e.Events!==undefined){return{"NotToRecord":true};}delete e.SessionID;delete e.SessionTimestamp;if(e.d&&e.d.QueryOptions){delete e.d.QueryOptions.ClientSessionID;delete e.d.QueryOptions.ClientCallTimestamp;delete e.d.QueryOptions.ClientServiceName;delete e.d.QueryOptions.ClientLastExecutionID;}if(e.d){var f=JSON.stringify(e);var h='"DataSources":[';var g=']';var i=f.indexOf(h);var j=i+f.substring(i).indexOf(g)+g.length;var k=',"ExcludedDataSources":[]';f=[f.slice(0,j),k,f.slice(j)].join('');e=JSON.parse(f);}if(e.d.Filter){_(e.d.Filter);}return e;}});d.postJson=b(d.postJson);d.getJson=b(d.getJson);d.mergeJson=b(d.mergeJson);return d;};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/ajaxTemplates.js":function(){sinaDefine([],function(){"use strict";var m={};m.searchRequest={"d":{"Id":"1","QueryOptions":{"SearchTerms":"","Top":10,"Skip":0,"SearchType":"","ClientSessionID":"","ClientServiceName":"","ClientLastExecutionID":""},"DataSources":[],"OrderBy":[],"ResultList":{"SearchResults":[{"HitAttributes":[],"Attributes":[]}]},"ExecutionDetails":[],"MaxFacetValues":5,"Facets":[{"Values":[]}]}};m.nlqSearchRequest={"d":{"Id":"1","ActivateNLQ":true,"QueryOptions":{"SearchTerms":"","Top":10,"Skip":0,"SearchType":"","ClientSessionID":"","ClientServiceName":"","ClientLastExecutionID":""},"DataSources":[],"OrderBy":[],"ResultList":{"SearchResults":[{"HitAttributes":[],"Attributes":[]}],"NLQQueries":[{"NLQConnectorQueries":[{"SearchFilter":{"SubFilters":[{"SubFilters":[{"SubFilters":[{"SubFilters":[{"SubFilters":[{"SubFilters":[]}]}]}]}]}]}}]}]},"ExecutionDetails":[],"MaxFacetValues":5,"Facets":[{"Values":[]}]}};m.chartRequest={"d":{"Id":"1","DataSources":[],"QueryOptions":{"SearchTerms":"","Skip":0,"SearchType":"F"},"FacetRequests":[],"MaxFacetValues":5,"Facets":[{"Values":[]}],"ExecutionDetails":[]}};m.valueHelperRequest={"d":{"Id":"1","ValueHelpAttribute":"","ValueFilter":"","DataSources":[],"QueryOptions":{"Top":1000,"Skip":0,"SearchType":"V"},"ValueHelp":[]}};m.suggestionRequest={"d":{"Id":"1","SuggestionInput":"","IncludeAttributeSuggestions":false,"IncludeHistorySuggestions":false,"IncludeDataSourceSuggestions":false,"DetailLevel":1,"QueryOptions":{"Top":0,"Skip":0,"SearchType":"S","SearchTerms":""},"Filter":{},"DataSources":[],"Suggestions":[],"ExecutionDetails":[]}};m.objectSuggestionRequest={"d":{"Id":"1","IncludeAttributeSuggestions":true,"QueryOptions":{"SearchTerms":"a","Top":10,"Skip":0},"DataSources":[{"Id":"UIA000~EPM_BPA_DEMO~","Type":"View"}],"ObjectSuggestions":{"SearchResults":[{"HitAttributes":[],"Attributes":[]}]},"ExecutionDetails":[]}};m.navigationEvent={"SemanticObjectType":"","Intent":"","System":"","Client":"","Parameters":[]};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/conditionSerializer.js":function(){sinaDefine(['../../core/core','../../sina/ComplexCondition','../../sina/ComparisonOperator','./typeConverter'],function(c,C,a,t){"use strict";var b=c.defineClass({_init:function(d){this.dataSource=d;},convertSinaToOdataOperator:function(s){switch(s){case a.Eq:return'EQ';case a.Lt:return'LT';case a.Gt:return'GT';case a.Le:return'LE';case a.Ge:return'GE';case a.Co:return'EQ';case a.Bw:return'EQ';case a.Ew:return'EQ';case'And':return"AND";case'Or':return"OR";default:throw new c.Exception('unknow comparison operator '+s);}},serializeComplexCondition:function(d){var r={"Id":1,"OperatorType":this.convertSinaToOdataOperator(d.operator),"SubFilters":[]};var e="Schema[Namespace=ESH_SEARCH_SRV]>EntityType[Name=SearchFilter]>Property[Name=ActAsQueryPart]";if(d.sina.provider.isQueryPropertySupported(e)){r.ActAsQueryPart=true;}var s=d.conditions;for(var i=0;i<s.length;++i){var f=s[i];r.SubFilters.push(this.serialize(f));}return r;},serializeSimpleCondition:function(d){var m;var e;var f;m=this.dataSource.getAttributeMetadata(d.attribute);e=m.type;f={"ConditionAttribute":d.attribute,"ConditionOperator":this.convertSinaToOdataOperator(d.operator),"ConditionValue":t.sina2Odata(e,d.value,{operator:d.operator})};return f;},serializeBetweenCondition:function(d){var m;var e;var f;var v;var g;m=this.dataSource.getAttributeMetadata(d.conditions[0].attribute);e=m.type;if(d.conditions[0].operator==="Ge"){v=d.conditions[0].value;g=d.conditions[1].value;}else{v=d.conditions[1].value;g=d.conditions[0].value;}f={"ConditionAttribute":d.conditions[0].attribute,"ConditionOperator":"BT","ConditionValue":t.sina2Odata(e,v),"ConditionValueHigh":t.sina2Odata(e,g)};return f;},serialize:function(d){if(d instanceof C){if(d.operator==="And"&&d.conditions[0]&&(d.conditions[0].operator==="Ge"||d.conditions[0].operator==="Gt"||d.conditions[0].operator==="Le"||d.conditions[0].operator==="Lt")){if(d.conditions.length===1){return this.serializeSimpleCondition(d.conditions[0]);}return this.serializeBetweenCondition(d);}return this.serializeComplexCondition(d);}return this.serializeSimpleCondition(d);}});return{serialize:function(d,e){var s=new b(d);return s.serialize(e);}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/dataSourceSerializer.js":function(){sinaDefine(['../../core/core','../../sina/ComplexCondition','../../sina/ComparisonOperator'],function(c,C,a){"use strict";return{serialize:function(d){if(d===d.sina.getAllDataSource()){return{Id:'<All>',Type:'Category'};}var t;switch(d.type){case d.sina.DataSourceType.Category:t='Category';break;case d.sina.DataSourceType.BusinessObject:t='View';break;}return{Id:d.id,Type:t};}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/labelCalculation.js":function(){sinaDefine(['../../core/core','../../core/LabelCalculator'],function(c,L){"use strict";var m={};m.createLabelCalculator=function(){return new L({key:function(d){return[d.labelPlural,d._private.system,d._private.client];},data:function(d){return{label:d.label,labelPlural:d.labelPlural};},setLabel:function(d,l,a){l[0]=a.label;d.label=l.join(' ');l[0]=a.labelPlural;d.labelPlural=l.join(' ');},setFallbackLabel:function(d,a){d.label=a.label+' duplicate '+d.id;d.labelPlural=d.label;}});};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/qunit/test.js":function(){sinaDefine(['./testLabelCalculator','./testConfiguration','./testAjaxClient'],function(){"use strict";});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/qunit/testAjaxClient.js":function(){sinaDefine(['../../../core/ajax','../ajaxTemplates'],function(a,b){"use strict";QUnit.test('AjaxClient-1',function(c){var d=c.async();var e=new a.Client({csrf:true});e.getJson('/sap/es/ina/GetServerInfo').then(function(s){e.postJson('/sap/es/ina/GetResponse',b.loadDataSourcesRequest).then(function(r){c.ok(r.data.ItemLists[0].Items.length>0);d();});});});QUnit.test('AjaxClient-2',function(c){var d=c.async();var e=new a.Client({csrf:true,csrfFetchRequest:{method:'GET',url:'/sap/es/ina/GetServerInfo',headers:a.Client.prototype.jsonHeaders}});e.postJson('/sap/es/ina/GetResponse',b.loadDataSourcesRequest).then(function(r){c.ok(r.data.ItemLists[0].Items.length>0);d();});});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/qunit/testConfiguration.js":function(){sinaDefine(['../../../sina/sinaFactory'],function(s){"use strict";QUnit.test('Configuration',function(a){var d=a.async();s.createAsync('../Provider').then(function(b){b.getConfigurationAsync().then(function(c){c.setPersonalizedSearch(false);c.saveAsync().then(function(){c.resetPersonalizedSearchDataAsync().then(function(){a.equal(1,1);d();});});});});});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/qunit/testLabelCalculator.js":function(){sinaDefine(['../LabelCalculator'],function(L){"use strict";var t=function(a,s){var d=[];var l=new L();for(var i=0;i<s.length;++i){var b=s[i];l.calculateLabel(b.dataSource);d.push(b.dataSource);for(var j=0;j<=i;++j){a.equal(b.labels[j],d[j].label,'label comparison');a.equal(b.labelsPlural[j],d[j].labelPlural,'label plural comparison');}}};QUnit.test("LabelCalculator 1",function(a){t(a,[{dataSource:{id:'CER002~EPM_PO_DEMO~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order'],labelsPlural:['Purchase Orders']},{dataSource:{id:'CER002~EPM_SO_DEMO~',label:'Sales Order',labelPlural:'Sales Orders'},labels:['Purchase Order','Sales Order'],labelsPlural:['Purchase Orders','Sales Orders']},{dataSource:{id:'CES002~EPM_SO_DEMO~',label:'Sales Order',labelPlural:'Sales Orders'},labels:['Purchase Order','Sales Order CER','Sales Order CES'],labelsPlural:['Purchase Orders','Sales Orders CER','Sales Orders CES']},{dataSource:{id:'CES003~EPM_SO_DEMO~',label:'Sales Order',labelPlural:'Sales Orders'},labels:['Purchase Order','Sales Order CER','Sales Order CES 002','Sales Order CES 003'],labelsPlural:['Purchase Orders','Sales Orders CER','Sales Orders CES 002','Sales Orders CES 003']}]);});QUnit.test("LabelCalculator 2",function(a){t(a,[{dataSource:{id:'CER002~EPM_PO_DEMO~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order'],labelsPlural:['Purchase Orders']},{dataSource:{id:'CER003~EPM_PO_DEMO~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order CER 002','Purchase Order CER 003'],labelsPlural:['Purchase Orders CER 002','Purchase Orders CER 003']},{dataSource:{id:'CES003~EPM_PO_DEMO~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order CER 002','Purchase Order CER 003','Purchase Order CES'],labelsPlural:['Purchase Orders CER 002','Purchase Orders CER 003','Purchase Orders CES']},{dataSource:{id:'CES003~EPM_SO_DEMO~',label:'Sales Order',labelPlural:'Sales Orders'},labels:['Purchase Order CER 002','Purchase Order CER 003','Purchase Order CES','Sales Order'],labelsPlural:['Purchase Orders CER 002','Purchase Orders CER 003','Purchase Orders CES','Sales Orders']}]);});QUnit.test("LabelCalculator - system and client not sufficient for unique key",function(a){t(a,[{dataSource:{id:'CER002~EPM_PO_DEMO~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order'],labelsPlural:['Purchase Orders']},{dataSource:{id:'CER002~EPM_PO_DEMO_2~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order','Purchase Order#1'],labelsPlural:['Purchase Orders','Purchase Orders#1']}]);});QUnit.test("LabelCalculator - category",function(a){t(a,[{dataSource:{id:'EPM_Demo',label:'Procurement',labelPlural:'Procurement'},labels:['Procurement'],labelsPlural:['Procurement']}]);});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/suggestionParser.js":function(){sinaDefine(['../../core/core','./typeConverter'],function(c,t){"use strict";return c.defineClass({_init:function(p,i){this.provider=p;this.sina=p.sina;this.itemParser=i;},parseObjectSuggestions:function(q,d){if(!d.d.ObjectSuggestions||!d.d.ObjectSuggestions.SearchResults||!d.d.ObjectSuggestions.SearchResults.results){return[];}var s=[];var o=d.d.ObjectSuggestions.SearchResults.results;for(var i=0;i<o.length;++i){var a=o[i];s.push(this.parseObjectSuggestion(a));}return c.Promise.all(s);},parseObjectSuggestion:function(o){return this.itemParser.parseItem(o).then(function(a){this.fillValueHighlighted(a);var b=c.map(a.titleAttributes,function(d){return d.valueFormatted;}).join(' ');return this.sina._createObjectSuggestion({calculationMode:this.sina.SuggestionCalculationMode.Data,label:b,object:a});}.bind(this));},fillValueHighlighted:function(o){var d=function(a){if(!a){return;}for(var i=0;i<a.length;++i){var b=a[i];if(!b.valueHighlighted){b.valueHighlighted=b.valueFormatted;}}};d(o.detailAttributes);d(o.titleAttributes);},parseRegularSuggestions:function(q,d){var s=[];var a;var p;var b=[];var e;var f;if(!d.d.Suggestions||!d.d.Suggestions.results){return[];}var r=d.d.Suggestions.results;for(var i=0;i<r.length;i++){a=null;e=r[i];switch(e.Type){case'H':a=this.parseSearchTermSuggestion(q,e);break;case'A':a=this.parseSearchTermAndDataSourceSuggestion(q,e);a.type='A';a.cell=e;break;case'M':a=this.parseDataSourceSuggestion(q,e);break;}if(a){if(a.type==='A'){if(b[a.searchTerm]===undefined){f=this._getParentCell(a.cell);p=this.parseSearchTermSuggestion(q,f);b[a.searchTerm]=p;}delete a.type;delete a.cell;b[a.searchTerm].childSuggestions.push(a);}else{s.push(a);}}}Object.keys(b).forEach(function(k){s.push(b[k]);});return s;},parseDataSourceSuggestion:function(q,a){var b=this.sina.SuggestionCalculationMode.Data;var d=this.sina.getDataSource(a.FromDataSource);if(!d){return null;}var f=q.filter.clone();f.setDataSource(d);return this.sina._createDataSourceSuggestion({calculationMode:b,dataSource:d,label:a.SearchTermsHighlighted});},parseSearchTermSuggestion:function(q,a){var b=this.parseCalculationMode(a.Type);var f=q.filter.clone();f.setSearchTerm(a.SearchTerms);return this.sina._createSearchTermSuggestion({searchTerm:a.SearchTerms,calculationMode:b,filter:f,label:a.SearchTermsHighlighted});},parseSearchTermAndDataSourceSuggestion:function(q,a){var b=this.parseCalculationMode(a.Type);var f=q.filter.clone();f.setSearchTerm(a.SearchTerms);var d=this.sina.getDataSource(a.FromDataSource);if(!d){return null;}f.setDataSource(d);return this.sina._createSearchTermAndDataSourceSuggestion({searchTerm:a.SearchTerms,dataSource:d,calculationMode:b,filter:f,label:a.SearchTermsHighlighted});},parseCalculationMode:function(s){switch(s){case'H':return this.sina.SuggestionCalculationMode.History;case'A':case'M':return this.sina.SuggestionCalculationMode.Data;}},_getParentCell:function(a){var p={};p=a;p.FromDataSource="<All>";p.FromDataSourceAttribute="";p.Type="A";return p;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/suggestionTermSplitter.js":function(){sinaDefine(['../../core/core'],function(c){"use strict";var S=c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;},split:function(t){var s=t.lastIndexOf(' ');if(s<0){return{searchTerm:null,suggestionTerm:t};}var a=t.slice(0,s);a=a.replace(/\s+$/,"");if(a.length===0){return{searchTerm:null,suggestionTerm:t};}var b=t.slice(s);b=b.replace(/^\s+/,"");if(b.length===0){return{searchTerm:null,suggestionTerm:t};}return{searchTerm:a,suggestionTerm:b};},concatenate:function(s,a){if(!s.searchTerm){return;}var t;var b=[];var d=s.searchTerm.split(' ');for(var k=0;k<d.length;k++){t=d[k];t=t.trim();b.push({term:t,regExp:new RegExp(this.escapeRegExp(t),'i')});}for(var i=0;i<a.length;++i){var e=a[i];var n=[];for(var j=0;j<b.length;++j){var f=b[j];if(!f.regExp.test(e.filter.searchTerm)){n.push(f.term);}}var p=[];var g=n.join(' ');for(var l=0;l<n.length;l++){t=n[l];p.push('<b>'+t+'</b>');}p=p.join(' ');e.label=p+' '+e.label;e.filter.searchTerm=e.searchTerm=g+' '+e.filter.searchTerm;this.concatenate(s,e.childSuggestions);}},escapeRegExp:function(s){return s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");}});return{split:function(p,t){var s=new S(p,t);return s.split(t);},concatenate:function(p,s,a){var b=new S(p);return b.concatenate(s,a);}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/typeConverter.js":function(){sinaDefine(['../../core/core','../../sina/util','../../sina/AttributeType'],function(c,s,A){"use strict";return{sina2Odata:function(a,v,b){b=b||{};switch(a){case A.Double:return v.toString();case A.Integer:return v.toString();case A.String:return this.sina2OdataString(v,b);case A.ImageUrl:return v;case A.ImageBlob:throw new c.Exception('not implemented');case A.GeoJson:return v;case A.Date:return this.sina2OdataDate(v);case A.Time:return this.sina2OdataTime(v);case A.Timestamp:return this.sina2OdataTimestamp(v);default:throw new c.Exception('unknown attribute type '+a);}},odata2Sina:function(a,v){switch(a){case A.Double:return parseFloat(v);case A.Integer:return parseInt(v,10);case A.String:return v;case A.ImageUrl:return v;case A.ImageBlob:throw new c.Exception('not implemented');case A.GeoJson:return v;case A.Date:return this.odata2SinaDate(v);case A.Time:return this.odata2SinaTime(v);case A.Timestamp:return this.odata2SinaTimestamp(v);default:throw new c.Exception('unknown attribute type '+a);}},odata2SinaTimestamp:function(v){if(v.length===0){return"";}v=v.trim();var y,m,d,h,a,b,e;y=parseInt(v.slice(0,4),10);m=parseInt(v.slice(5,7),10);d=parseInt(v.slice(8,10),10);h=parseInt(v.slice(11,13),10);a=parseInt(v.slice(14,16),10);b=parseInt(v.slice(17,19),10);e=parseInt(v.slice(20,20+6),10);return new Date(Date.UTC(y,m-1,d,h,a,b,e/1000));},sina2OdataTimestamp:function(v){if(v.length===0){return"";}var y=v.getUTCFullYear();var m=v.getUTCMonth()+1;var d=v.getUTCDate();var h=v.getUTCHours();var a=v.getUTCMinutes();var b=v.getUTCSeconds();var e=v.getUTCMilliseconds()*1000;var r=this.addLeadingZeros(y.toString(),4)+'-'+this.addLeadingZeros(m.toString(),2)+'-'+this.addLeadingZeros(d.toString(),2)+'T'+this.addLeadingZeros(h.toString(),2)+':'+this.addLeadingZeros(a.toString(),2)+':'+this.addLeadingZeros(b.toString(),2)+'.'+this.addLeadingZeros(e.toString(),7)+'Z';return r;},odata2SinaTime:function(v){if(v.length===0){return"";}v=v.trim();return v;},sina2OdataTime:function(v){if(v.length===0){return"";}return v;},odata2SinaDate:function(v){if(v.length===0){return"";}v=v.trim();return v.slice(0,4)+'/'+v.slice(5,7)+'/'+v.slice(8,10);},sina2OdataDate:function(v){if(v.length===0){return"";}return v.slice(0,4)+'-'+v.slice(5,7)+'-'+v.slice(8,10);},sina2OdataString:function(v,a){return s.convertOperator2Wildcards(v,a.operator);},addLeadingZeros:function(v,l){return'00000000000000'.slice(0,l-v.length)+v;}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/dummy/Provider.js":function(){sinaDefine(['../../core/core'],function(c){"use strict";return c.defineClass({id:'dummy',_initAsync:function(p){return Promise.resolve();}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/hana_odata/FacetParser.js":function(){sinaDefine(['../../core/core','../../sina/SearchQuery','./typeConverter'],function(c,S,t){"use strict";return c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;this.Exception=c.Exception.derive({_init:function(a){c.Exception.prototype._init.apply(this,[a]);}});},parse:function(q,d,l){var v=d['@com.sap.vocabularies.Search.v1.Facets'];if(d.error&&!v){return c.Promise.reject(new this.Exception({message:d.error.message,description:'Server-side Error',previous:d.error}));}if(!v){return Promise.resolve([]);}if(d.error){l.addMessage(l.WARNING,'Server-side Warning: '+d.error.message);}var f=[];for(var i=0;i<v.length;i++){var a=v[i];var r;if(q.filter.dataSource===q.sina.getAllDataSource()){try{r=this.parseDataSourceFacet(q,a);}catch(e){l.addMessage(l.WARNING,'Error occurred by parsing result item number '+i+': '+e.message);}}else{if(q.filter.dataSource.type===q.sina.DataSourceType.Category){continue;}if(a["@com.sap.vocabularies.Search.v1.Facet"].Dimensions[0].PropertyType==="GeometryPolygonFacet"){continue;}try{r=this.parseChartFacet(q,a);}catch(e){l.addMessage(l.WARNING,'Error occurred by parsing result item number '+i+': '+e.message);}}f.push(r);}return c.Promise.all(f);},parseDataSourceFacet:function(q,f){var d=q;if(q instanceof S){d=this.sina.createDataSourceQuery({dataSource:q.filter.dataSource,filter:q.filter.clone()});}var a=[];for(var i=0;i<f.Items.length;i++){var b=f.Items[i];var e=this.sina.getDataSource(b.scope);if(!e){e=this.sina._createDataSource({type:this.sina.DataSourceType.Category,id:b.ValueLow,label:b.Description});}a.push(this.sina._createDataSourceResultSetItem({dataSource:e,dimensionValueFormatted:e.labelPlural,measureValue:b._Count,measureValueFormatted:(b._Count).toString()}));}var r=this.sina._createDataSourceResultSet({title:q.filter.dataSource.label,items:a,query:d});if(q instanceof S){return d._setResultSet(r);}return r;},createAttributeFilterCondition:function(a,m,b){if(typeof b[a]==='object'&&(b[a].hasOwnProperty('From')||b[a].hasOwnProperty('From'))){var f=this.sina.createComplexCondition({attributeLabel:m.label,valueLabel:this.formatFacetValue(b[a],m),operator:this.sina.LogicalOperator.And,conditions:[]});var l,u;if(!b[a].From){u=this.sina.createSimpleCondition({attribute:a,operator:this.sina.ComparisonOperator.Le,value:t.odata2Sina(m.type,b[a].To)});f.conditions.push(u);}else if(!b[a].To){l=this.sina.createSimpleCondition({attribute:a,operator:this.sina.ComparisonOperator.Ge,value:t.odata2Sina(m.type,b[a].From)});f.conditions.push(l);}else{l=this.sina.createSimpleCondition({attribute:a,operator:this.sina.ComparisonOperator.Ge,value:t.odata2Sina(m.type,b[a].From)});f.conditions.push(l);u=this.sina.createSimpleCondition({attribute:a,operator:this.sina.ComparisonOperator.Le,value:t.odata2Sina(m.type,b[a].To)});f.conditions.push(u);}return f;}return this.sina.createSimpleCondition({attributeLabel:m.label,attribute:a,value:b[a],valueLabel:t.odata2Sina(m.type,b[a])});},formatFacetValue:function(v,m){var i='';if(v['@com.sap.vocabularies.Common.v1.Label']){return v['@com.sap.vocabularies.Common.v1.Label'];}if(typeof v==='object'&&(v.hasOwnProperty('From')||v.hasOwnProperty('To'))){v=(v.From||i)+'...'+(v.To||i);}return v;},parseChartFacet:function(q,f){var d=q.filter.dataSource;var a='';if(q.dimension){a=q.dimension;}else if(f["@com.sap.vocabularies.Search.v1.Facet"]&&f["@com.sap.vocabularies.Search.v1.Facet"].Dimensions&&f["@com.sap.vocabularies.Search.v1.Facet"].Dimensions[0]&&f["@com.sap.vocabularies.Search.v1.Facet"].Dimensions[0].PropertyName){a=f["@com.sap.vocabularies.Search.v1.Facet"].Dimensions[0].PropertyName;}var m=d.getAttributeMetadata(a);var b=[];var e;var g=q;e=q.filter.clone();e.setDataSource(d);e.setRootCondition(q.filter.rootCondition.clone());g=this.sina.createChartQuery({filter:e,dimension:a});for(var i=0;i<f.Items.length;i++){var h=f.Items[i];b.push(this.sina._createChartResultSetItem({filterCondition:this.createAttributeFilterCondition(a,m,h),dimensionValueFormatted:this.formatFacetValue(h[a],m),measureValue:h._Count,measureValueFormatted:h._Count}));}var r=this.sina._createChartResultSet({title:m.label,items:b,query:g});if(q instanceof S){return g._setResultSet(r);}return r;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/hana_odata/ItemParser.js":function(){sinaDefine(['../../core/core','../../core/util','./typeConverter','../../sina/AttributeType'],function(c,u,T,A){"use strict";return c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;this.intentsResolver=this.sina._createFioriIntentsResolver();this.suvNavTargetResolver=this.sina._createSuvNavTargetResolver();this.Exception=c.Exception.derive({_init:function(a){c.Exception.prototype._init.apply(this,[a]);}});},parse:function(s,d,l){if(d.error&&!d.value){return c.Promise.reject(new this.Exception({message:d.error.message,description:'Server-side Error',previous:d.error}));}if(!d.value){return Promise.resolve([]);}if(d.error){l.addMessage(l.WARNING,'Server-side Warning: '+d.error.message);}var a=d.value;var b=[];for(var i=0;i<a.length;++i){var f=a[i];var g;try{g=this.parseItem(f);b.push(g);}catch(e){l.addMessage(l.WARNING,'Error occurred by parsing result item number '+i+': '+e.message);}}return Promise.all(b);},parseItem:function(i){var t=[];var d=[];var a=[];var b;var e={};var s={};var f=i['@odata.context'];var p=f.lastIndexOf('#');if(p>-1){f=f.slice(p+1);}var g=this.sina.getDataSource(f);var w=i['@com.sap.vocabularies.Search.v1.WhyFound']||{};var m={};var h='';var j={};var k,l,n,o;var q=[];var r;var v=i["@com.sap.vocabularies.Search.v1.Ranking"];var x=this.preParseItem(i);for(var y in x){var z=x[y];m=g.getAttributeMetadata(y);if(!m){throw'unknown attribute '+y;}if(m.id=="LOC_4326"){m.usage={Detail:{displayOrder:-1}};}var B=T.odata2Sina(m.type,z.value);var C;C=undefined;for(var D in w){if(D===y&&w[D][0]){C=w[D][0];delete w[D];}}C=this.calculateValueHighlighted(z,m,C);var _=function(C){if(typeof C==='string'&&C.length>0){return true;}if(Array.isArray(C)&&C.length>0){return true;}return false;};var E=typeof(B)==="string"?B:JSON.stringify(B);var F=C;b=this.sina._createSearchResultSetItemAttribute({id:m.id,label:m.label,value:B,valueFormatted:E,valueHighlighted:F,isHighlighted:_(C),metadata:m,groups:[]});u.appendRemovingDuplicates(q,u.extractHighlightedTerms(b.valueHighlighted));if(m.suvUrlAttribute&&m.suvMimeTypeAttribute){n=e[m.suvUrlAttribute]||m.suvUrlAttribute.id;o=e[m.suvMimeTypeAttribute]||m.suvMimeTypeAttribute.id;j[m.id]={suvThumbnailAttribute:b,suvTargetUrlAttribute:n,suvTargetMimeTypeAttribute:o};}if(m.usage.Title){t.push(b);}if(m.usage.TitleDescription){a.push(b);}if(m.usage.Detail){d.push(b);}if(m.usage.Navigation){if(m.usage.Navigation.mainNavigation){r=this.sina._createNavigationTarget({label:b.value,targetUrl:b.value,target:"_blank"});}}e[b.id]=b;h=g.attributeMetadataMap[m.id]._private.semanticObjectType||'';if(h.length>0){s[h]=B;}}for(l in j){k=j[l];if(typeof k.suvTargetUrlAttribute==="string"){k.suvTargetUrlAttribute=e[k.suvTargetUrlAttribute];}if(typeof k.suvTargetMimeTypeAttribute==="string"){k.suvTargetMimeTypeAttribute=e[k.suvTargetMimeTypeAttribute];}if(!(k.suvTargetUrlAttribute||k.suvTargetMimeTypeAttribute)){delete j[l];}}t.sort(function(L,M){return L.metadata.usage.Title.displayOrder-M.metadata.usage.Title.displayOrder;});d.sort(function(L,M){return L.metadata.usage.Detail.displayOrder-M.metadata.usage.Detail.displayOrder;});for(var G in w){if(w[G][0]){m=g.getAttributeMetadata(G);var H=w[G][0];var I=typeof(H)==="string"?H:JSON.stringify(H);b=this.sina._createSearchResultSetItemAttribute({id:m.id||G,label:m.label||G,value:null,valueFormatted:I,valueHighlighted:I,isHighlighted:true,metadata:m});d.push(b);delete w[G];}}this.suvNavTargetResolver.resolveSuvNavTargets(g,j,q);var J=this.sina._createSearchResultSetItem({dataSource:g,titleAttributes:t,titleDescriptionAttributes:a,detailAttributes:d,defaultNavigationTarget:r,navigationTargets:[],score:v});J._private.allAttributesMap=e;J._private.semanticObjectTypeAttributes=s;var K=this.sina._createItemPostParser({searchResultSetItem:J});return K.postParseResultSetItem();},preParseItem:function(i){var a={};for(var o in i){if(o[0]==='@'||o[0]==='_'){continue;}var v=i[o];var p;var s=o.split('@');p=s[0];var b=a[p];if(!b){b={};a[p]=b;}if(s.length===1){b.value=v;continue;}if(s.length===2){b[s[1]]=v;continue;}throw'more than two @ in property name';}return a;},_getFirstItemIfArray:function(v){if(Array.isArray(v)){v=v[0];}return v;},calculateValueHighlighted:function(s,m,a){var i='com.sap.vocabularies.Search.v1.Highlighted';var b='com.sap.vocabularies.Search.v1.Snippets';var v='';if(m.format==='MultilineText'){v=s[i];if(v){return this._getFirstItemIfArray(v);}v=s[b];if(v){return this._getFirstItemIfArray(v);}return a;}v=s[b];if(v){return this._getFirstItemIfArray(v);}v=s[i];if(v){return this._getFirstItemIfArray(v);}return this._getFirstItemIfArray(a);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/hana_odata/MetadataParser.js":function(){sinaDefine(['../../core/core','./typeConverter'],function(c,t){"use strict";return c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;this.presentationUsageConversionMap={TITLE:'TITLE',SUMMARY:'SUMMARY',DETAIL:'DETAIL',IMAGE:'IMAGE',THUMBNAIL:'THUMBNAIL',HIDDEN:'HIDDEN'};this.accessUsageConversionMap={AUTO_FACET:'AUTO_FACET',SUGGESTION:'SUGGESTION'};},_getWindow:function(){if(typeof window==="undefined"){return new Promise(function(r,a){sinaRequire(['jsdom','fs'],function(j,f){var b=f.readFileSync("./node_modules/jquery/dist/jquery.js","utf-8");j.env({html:"<html><body></body></html>",src:[b],done:function(e,w){if(!e){r(w);}else{a(e);}}});});});}return Promise.resolve(window);},parseResponse:function(m){var a=this;var b={businessObjectMap:{},businessObjectList:[],dataSourceMap:{},dataSourcesList:[]};return this._getWindow().then(function(w){var x=w.$.parseXML(m);w.$(x).find('Schema').each(function(){var $=w.$(this);var h=a._parseEntityType($,w);a._parseEntityContainer($,h,b,w);});return Promise.resolve(b);});},_parseEntityType:function(s,w){var a=this;var h={};s=w.$(s);s.find('EntityType').each(function(){var b=w.$(this).attr('Name');var d={schema:s.attr('Namespace'),keys:[],attributeMap:{},resourceBundle:'',labelResourceBundle:'',label:'',labelPlural:'',annotations:{}};h[b]=d;w.$(this).find('Key>PropertyRef').each(function(){d.keys.push(w.$(this).attr('Name'));});w.$(this).find('Annotation[Term="Search.searchable"]').each(function(){w.$(this).siblings('Annotation').each(function(){var $=w.$(this);var f=$.attr('Term');if(f!==undefined&&f.length>0){f=f.toUpperCase();var g=a._getValueFromElement(this);if(f==='ENTERPRISESEARCHHANA.UIRESOURCE.LABEL.BUNDLE'){var r=g;try{d.resourceBundle=jQuery.sap.resources({url:r,language:sap.ui.getCore().getConfiguration().getLanguage()});}catch(e){sinaLog.error("Resource bundle of "+b+" '"+r+"' can't be found:"+e.toString());}}else if(f==='ENTERPRISESEARCHHANA.UIRESOURCE.LABEL.KEY'){var k=g;if(k&&d.resourceBundle){var T=d.resourceBundle.getText(k);if(T){d.labelResourceBundle=T;}}}else if(f==='UI.HEADERINFO.TYPENAME'){d.label=g;}else if(f==='UI.HEADERINFO.TYPENAMEPLURAL'){d.labelPlural=g;}else if(f==='UI.HEADERINFO.TITLE.TYPE'){a._setAnnotationValue(d.annotations,f,g);}else if(f==='UI.HEADERINFO.TITLE.VALUEQUALIFIER'){a._setAnnotationValue(d.annotations,f,g);}else{a._setAnnotationValue(d.annotations,f,g);}}});});w.$(this).find('Property').each(function(e){var f=w.$(this).attr('Name');var g={labelRaw:f,label:null,type:w.$(this).attr('Type'),presentationUsage:[],isFacet:false,isSortable:false,supportsTextSearch:false,displayOrder:e,annotationsAttr:{},unknownAnnotation:[]};d.attributeMap[f]=g;w.$(this).find('Annotation').each(function(){var k=w.$(this).attr('Term');if(k!==undefined&&k.length>0){k=k.toUpperCase();var l=a._getValueFromElement(this);if(l==undefined){w.$(this).children("Collection").children("Record").each(function(){l=l||[];var m={};l.push(m);w.$(this).children("PropertyValue").each(function(){var n=w.$(this).attr("Property");if(n!==undefined&&n.length>0){n=n.toUpperCase();var o=a._getValueFromElement(this);if(o!==undefined){m[n]=o;}}});});}if(l!==undefined){switch(k){case'SAP.COMMON.LABEL':if(!g.label){g.label=l;}break;case'ENTERPRISESEARCHHANA.UIRESOURCE.LABEL.KEY':if(l&&d.resourceBundle){var T=d.resourceBundle.getText(l);if(T){g.label=T;}}break;case'ENTERPRISESEARCH.KEY':g.isKey=l;break;case'ENTERPRISESEARCH.PRESENTATIONMODE':w.$(this).find('Collection>String').each(function(){var p=a._getValueFromElement(this);p=a.presentationUsageConversionMap[p];if(p){g.presentationUsage.push(p);}});break;case'ENTERPRISESEARCHHANA.ISSORTABLE':g.isSortable=l;break;case'ENTERPRISESEARCHHANA.SUPPORTSTEXTSEARCH':g.supportsTextSearch=l;break;case'ENTERPRISESEARCH.FILTERINGFACET.DEFAULT':g.isFacet=l;break;case'ENTERPRISESEARCH.DISPLAYORDER':g.displayOrder=l;break;default:if(k.startsWith("UI")||k.startsWith("OBJECTMODEL")||k.startsWith("SEMANTICS")){a._setAnnotationValue(g.annotationsAttr,k,l);}else{g.unknownAnnotation.push(w.$(this));}}}}});var j=g.annotationsAttr.UI&&g.annotationsAttr.UI.IDENTIFICATION;if(j){if(j.POSITION!==undefined){g.displayOrder=j.POSITION;}else if(Array.isArray(j)){for(var i=0;i<j.length;i++){if(j[i].TYPE==undefined&&j[i].POSITION!==undefined){g.displayOrder=j[i].POSITION;break;}}}}});});return h;},_setAnnotationValue:function(a,b,v){var d=b.split(".");var e;var f=a;var g="___temporaryDummyEntriesForArrays___";var i;for(i=0;i<d.length-1;i++){e=d[i];if(f[e]===undefined){f[e]={};f=f[e];}else if(Array.isArray(f[e])){f[g]=f[g]||{};if(!f[g][e]){f[g][e]={};f[e].push(f[g][e]);}f=f[g][e];}else if(typeof f[e]==="object"){f=f[e];}else if(typeof f[e]==="boolean"){f[e]={};f=f[e];}else{return;}}if(i<d.length){e=d[i];if(f[e]===undefined){f[e]=v;}else if(Array.isArray(f[e])){if(Array.isArray(v)){f[e]=f[e].concat(v);}else{f[g]=f[g]||{};if(!f[g][e]){f[g][e]=v;f[e].push(f[g][e]);}else{for(var p in v){if(!f[g][e][p]){f[g][e][p]=v[p];}}}}}}},_getValueFromElement:function(a){var $=window.$(a);var v=$.text();if(!v||v.trim().length==0){v=undefined;if($.attr('String')!==undefined){v=$.attr('String');}else if($.attr('Decimal')!==undefined){try{v=Number.parseFloat($.attr('Decimal'));if(isNaN(v)){v=undefined;}}catch(e){v=undefined;}}else if($.attr('Int')!==undefined){try{v=Number.parseInt($.attr('Int'),10);if(isNaN(v)){v=undefined;}}catch(e){v=undefined;}}else if($.attr('Bool')!==undefined){v=$.attr('Bool')=="true";}}return v;},_parseEntityContainer:function(s,h,a,w){var b=this;s.find('EntityContainer>EntitySet').each(function(){if(w.$(this).attr('Name')&&w.$(this).attr('EntityType')){var n=w.$(this).attr('Name');var e=w.$(this).attr('EntityType');var d=e.slice(e.lastIndexOf('.')+1);var f=h[d];if(f===undefined){throw'EntityType '+d+' has no corresponding meta data!';}var g=b.sina._createDataSource({id:n,label:f.labelResourceBundle||f.label||n,labelPlural:f.labelResourceBundle||f.labelPlural||f.label||n,type:b.sina.DataSourceType.BusinessObject,attributesMetadata:[{id:'dummy'}]});g.annotations=f.annotations;a.dataSourceMap[g.id]=g;a.dataSourcesList.push(g);f.name=n;f.dataSource=g;a.businessObjectMap[n]=f;a.businessObjectList.push(f);}});},fillMetadataBuffer:function(d,a,l){if(d.attributesMetadata[0].id!=='dummy'){return;}d.attributesMetadata=[];d.attributeMetadataMap={};var b={dataSourceAnnotations:{},attributeAnnotations:{}};b.dataSourceAnnotations=d.annotations;for(var f in a.attributeMap){try{this.fillPublicMetadataBuffer(d,a.attributeMap[f],b,l);}catch(e){}}var p=this.sina._createCDSAnnotationsParser({dataSource:d,cdsAnnotations:b});p.parseCDSAnnotationsForDataSource();},fillPublicMetadataBuffer:function(d,a,b,l){var e=a.displayOrder;var f=b.attributeAnnotations[a.labelRaw]={};jQuery.extend(f,a.annotationsAttr);var g=this._parseAttributeTypeAndFormat(a,d,l);if(g.type){var p=this.sina._createAttributeMetadata({id:a.labelRaw,label:a.label||a.labelRaw,isKey:a.isKey||false,isSortable:a.isSortable,usage:this._parseUsage(a,e)||{},type:g.type,format:g.format,matchingStrategy:this._parseMatchingStrategy(a)});p._private.semanticObjectType=a.SemanticObjectTypeId;d.attributesMetadata.push(p);d.attributeMetadataMap[p.id]=p;}},_parseMatchingStrategy:function(a){if(a.supportsTextSearch===true){return this.sina.MatchingStrategy.Text;}return this.sina.MatchingStrategy.Exact;},_parseAttributeTypeAndFormat:function(a,d,l){for(var i=0;i<a.presentationUsage.length;i++){var p=a.presentationUsage[i]||'';switch(p.toUpperCase()){case'SUMMARY':continue;case'DETAIL':continue;case'TITLE':continue;case'HIDDEN':continue;case'FACTSHEET':continue;case'THUMBNAIL':case'IMAGE':return{type:this.sina.AttributeType.ImageUrl};case'LONGTEXT':return{type:this.sina.AttributeType.String,format:this.sina.AttributeFormatType.Longtext};default:throw new c.Exception('Unknown presentation usage '+p);}}switch(a.type){case'Edm.Binary':if(a.annotationsAttr){if(a.annotationsAttr.SEMANTICS&&a.annotationsAttr.SEMANTICS.CONTACT&&a.annotationsAttr.SEMANTICS.CONTACT.PHOTO||a.annotationsAttr.SEMANTICS&&a.annotationsAttr.SEMANTICS.IMAGEURL){return{type:this.sina.AttributeType.ImageBlob};}}case'Edm.String':case'Edm.Boolean':case'Edm.Byte':case'Edm.Guid':return{type:this.sina.AttributeType.String};case'Edm.Double':case'Edm.Decimal':case'Edm.Float':case'Edm.Single':case'Edm.SingleRange':return{type:this.sina.AttributeType.Double};case'Edm.Int16':case'Edm.Int32':case'Edm.Int64':return{type:this.sina.AttributeType.Integer};case'Edm.Time':return{type:this.sina.AttributeType.Time};case'Edm.Date':return{type:this.sina.AttributeType.Date};case'Edm.DateTime':case'Edm.DateTimeOffset':if(a.TypeLength!==undefined&&a.TypeLength<=8){return{type:this.sina.AttributeType.Date};}return{type:this.sina.AttributeType.Timestamp};case'Collection(Edm.String)':return{type:this.sina.AttributeType.String};case'Edm.GeometryPoint':return{type:this.sina.AttributeType.GeoJson};case'GeoJson':return{type:this.sina.AttributeType.GeoJson};default:if(a.type&&a.type.startsWith('Collection')){l.addMessage(l.WARNING,'Unsupported data type '+a.type+' of attribute '+a.labelRaw+' in '+d.label);return{type:this.sina.AttributeType.String};}l.addMessage(l.ERROR,'Unknown data type '+a.type+' of attribute '+a.labelRaw+' in '+d.label);return null;}},_parseUsage:function(a,d){var u={};for(var i=0;i<a.presentationUsage.length;i++){var b=a.presentationUsage[i].toUpperCase()||'';if(b==="TITLE"){u.Title={displayOrder:d};}if(b==="SUMMARY"||b==="DETAIL"||b==="IMAGE"||b==="THUMBNAIL"||b==="LONGTEXT"){u.Detail={displayOrder:d};}}if(a.isFacet){u.AdvancedSearch={displayOrder:d};u.Facet={displayOrder:d};}return u;},parseDynamicMetadata:function(s,l){var d=s.data;if(!d){return;}var m=d['@com.sap.vocabularies.Search.v1.Metadata'];if(!m){return;}var a=this.getUniqueDataSourceFromSearchResult(s);if(!a){return;}for(var b in m){var e=m[b];this.parseDynamicAttributeMetadata(a,b,e,l);}},parseDynamicAttributeMetadata:function(d,a,b,l){var e=d.getAttributeMetadata(a);var f=this._parseAttributeTypeAndFormat({presentationUsage:[],type:b.$Type},d,l);if(e){if(!e._private.dynamic){return;}e.label=b['@SAP.Common.Label'];e.type=f.type;e.format=f.format;}else{e=this.sina._createAttributeMetadata({id:a,label:b['@SAP.Common.Label'],isKey:false,isSortable:false,usage:{},type:f.type,format:f.format,matchingStrategy:this.sina.MatchingStrategy.Exact,_private:{dynamic:true}});d.attributesMetadata.push(e);d.attributeMetadataMap[e.id]=e;}},getUniqueDataSourceFromSearchResult:function(s){var d=s.data;if(!d){return;}var a=d.value;if(!a){return;}var b,p;for(var i=0;i<a.length;++i){var e=a[i];var f=e['@odata.context'];if(!f){return;}b=f.split('#')[1];if(!b){return;}if(p&&p!==b){return;}p=b;}return this.sina.getDataSource(b);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/hana_odata/Provider.js":function(){sinaDefine(['../../core/core','../../core/util','../../core/Log','../../core/lang','../../sina/SinaObject','./ajax','./conditionSerializer','./FacetParser','./ItemParser','./suggestionParser','./suggestionTermSplitter','./MetadataParser'],function(c,u,L,l,S,a,b,F,I,d,s,M){"use strict";return S.derive({id:'hana_odata',_initAsync:function(e){if(e.url){this.requestPrefix=e.url;}else{this.requestPrefix='/sap/es/odata';}this.sina=e.sina;this.ajaxClient=a.createAjaxClient();this.metadataLoadPromises={};this.internalMetadata={};this.metadataParser=new M(this);this.itemParser=new I(this);this.facetParser=new F(this);this.suggestionParser=new d(this);return this.loadServerInfo().then(function(f){this.serverInfo=f;if(!this.supports('Search')){return Promise.reject(new c.Exception('Enterprise Search is not active'));}return this.loadBusinessObjectDataSources();}.bind(this)).then(function(){if(this.sina.dataSources.length===0){return Promise.reject(new c.Exception('Enterprise Search is not active - no datasources'));}return{capabilities:this.sina._createCapabilities({fuzzy:false})};}.bind(this));},supports:function(e,f){var g=this.serverInfo.services;for(var h in g){if(h===e){if(!f){return true;}var i=g[h].Capabilities;for(var j=0;j<i.length;++j){var k=i[j];if(k===f){return true;}}}}return false;},loadServerInfo:function(){var e={rawServerInfo:{Services:[{Service:'Search',Capabilities:[{Capability:'SemanticObjectType'}]},{Service:'Suggestions2',Capabilities:[{Capability:'ScopeTypes'}]}]},services:{Suggestions:{suggestionTypes:['objectdata']},Search:{capabilities:['SemanticObjectType']}}};return Promise.resolve(e);},loadBusinessObjectDataSources:function(){var t=this;var r=this.buildQueryUrl(this.requestPrefix,"/$metadata");return this.ajaxClient.getXML(r).then(function(e){t.metadataParser.parseResponse(e).then(function(f){for(var i=0;i<f.dataSourcesList.length;++i){var g=new L();var h=f.dataSourcesList[i];t.metadataParser.fillMetadataBuffer(h,f.businessObjectMap[h.id],g);h.log=g;}});});},assembleOrderBy:function(q){var r=[];for(var i=0;i<q.sortOrder.length;++i){var e=q.sortOrder[i];var f=(e.order===this.sina.SortOrder.Descending)?'desc':'asc';r.push({AttributeId:e.id,SortOrder:f});}return r;},translateOrder:function(o){var r='desc';if(o==='Ascending'){r='asc';}return r;},executeSearchQuery:function(q){var r=q.filter.rootCondition.clone();var f=b.serialize(q.filter.dataSource,r);var e=this._escapeSearchTerm(q.filter.searchTerm);var g=q.filter.dataSource;var t=q.top||10;var h=q.skip||0;var i=q.facetTop||5;var o=q.sortOrder;var k='';var m="Search.search(query='";if(g!==this.sina.getAllDataSource()){m+="SCOPE:"+g.id+" ";}var p='';var n='';if(e){p='(';n=')';}m+=f+" "+p+e+n+"')";var v='filter('+m+')';var w={$count:true,$top:t,$skip:h,$apply:v,whyfound:true};if(Array.isArray(o)){for(var j=0;j<o.length;j++){var x=o[j];if(j===0){k+=x.id+' '+this.translateOrder(x.order);}else{k+=','+x.id+' '+this.translateOrder(x.order);}}}if(k.length>0){w.$orderby=k;}var y=this.buildQueryUrl(this.requestPrefix,'/$all');if(q.calculateFacets){w.facets='all';w.facetlimit=i;}var z,A;var B=new L();return this.ajaxClient.getJson(y,w).then(function(C){A=C;return this.metadataParser.parseDynamicMetadata(A,B);}.bind(this)).then(function(C){return this.itemParser.parse(q,A.data,B);}.bind(this)).then(function(C){z=C;var D=A.data['@com.sap.vocabularies.Search.v1.SearchStatistics'].ConnectorStatistics;if(q.getDataSource()===this.sina.getAllDataSource()&&D&&Array.isArray(D)&&D.length===1){var E=[{"@com.sap.vocabularies.Search.v1.Facet":{"PropertyName":"scope","isConnectorFacet":true},"Items":[{"scope":D[0].OdataID,"_Count":A.data["@odata.count"]}]}];return this.facetParser.parse(q,E);}return this.facetParser.parse(q,A.data,B);}.bind(this)).then(function(C){return this.sina._createSearchResultSet({title:'Search Result List',query:q,items:z,totalCount:A.data['@odata.count']||0,facets:C,log:B});}.bind(this));},executeChartQuery:function(q){var e=this._escapeSearchTerm(q.filter.searchTerm);var f=q.filter.dataSource;var r=q.filter.rootCondition.clone();var g=new L();var h=15;var i=r.removeAttributeConditions(q.dimension);var j=i.deleted;var k=b.serialize(f,r);var t=q.top||5;var m="Search.search(query='";if(f!==this.sina.getAllDataSource()){m+="SCOPE:"+f.id+" ";}var p='';var n='';if(e){p='(';n=')';}if(j===true){if(!i.value||i.value===''||i.value.match(/^[*\s]+$/g)!==null){i.value='*';m+='('+i.attribute+':"*") '+p+e;}else{m+='('+i.attribute+':EQ:"'+i.value+'*") '+p+e;}}else{m+=k+" "+p+e;}m+=n+"')";var o='filter('+m+')';var v={$count:true,$top:0,$apply:o};var w=this.buildQueryUrl(this.requestPrefix,'/$all');var x='all';v.facetlimit=t;if(q.dimension){x=q.dimension;var y=q.filter.dataSource.getAttributeMetadata(q.dimension);if((y.type==='Double'||y.type==='Integer')&&t>=20){v.facetlimit=h;}}v.facets=x;return this.ajaxClient.getJson(w,v).then(function(z){var A=this.facetParser.parse(q,z.data,g);return A;}.bind(this)).then(function(z){if(z.length>0){return z[0];}return this.sina._createChartResultSet({title:q.filter.dataSource.getAttributeMetadata(q.dimension).label,items:[],query:q,log:g});}.bind(this));},executeSuggestionQuery:function(q){var e={SearchTerm:{Data:'SuggestObjectData',History:'SuggestSearchHistory'},Object:{},DataSource:{Data:'SuggestDataSources'}};var f=q.types;var g=q.calculationModes;var h=c.Promise.resolve({items:[]});for(var i=0;i<f.length;i++){var k=f[i];for(var j=0;j<g.length;j++){var m=g[j];var v=e[k][m];switch(v){case"SuggestObjectData":return this._fireSuggestionQuery(q);default:return h;}}}},_escapeSearchTerm:function(t){if(t){t=t.replace(/[\\]/g,'\\$&');}return t;},_fireSuggestionQuery:function(q){var e=this._escapeSearchTerm(q.filter.searchTerm);var f=q.filter.dataSource;var r=q.filter.rootCondition.clone();var g=b.serialize(q.filter.dataSource,r);var t=q.top||10;var h=q.skip||0;var i="GetSuggestion(term='"+e+"')";var j={$top:t,$skip:h};var k='';if(f!==this.sina.getAllDataSource()){k+="SCOPE:"+f.id;}if(g){k+=" "+g;}if(k){k="filter(Search.search(query='"+k+"'))";j.$apply=k;}var m=this.buildQueryUrl(this.requestPrefix,'/$all/'+i);return this.ajaxClient.getJson(m,j).then(function(n){var o=[];if(n.data.value){o=this.suggestionParser.parse(q,n.data.value);}return this.sina._createSuggestionResultSet({title:'Suggestions',query:q,items:o});}.bind(this));},_fireSuggestionQueryV5:function(q){var e=this._escapeSearchTerm(q.filter.searchTerm);var f=s.split(this,e);var g=q.filter.dataSource;var r=q.filter.rootCondition.clone();var h=b.serialize(q.filter.dataSource,r);var i="GetSuggestion(term='";if(g!==this.sina.getAllDataSource()){i+="SCOPE:"+g.id+" ";}i+=h+" "+e+"')";var j={};var k=this.buildQueryUrl(this.requestPrefix,'/$all/'+i);return this.ajaxClient.getJson(k,j).then(function(m){var n=[];if(m.data.value){n=this.suggestionParser.parse(q,m.data.value);}s.concatenate(this,f,n);return this.sina._createSuggestionResultSet({title:'Suggestions',query:q,items:n});}.bind(this));},getFilterValueFromConditionTree:function(e,f){if(f.ConditionAttribute&&f.ConditionAttribute===e){return f.ConditionValue;}else if(f.SubFilters){var i;var r=null;for(i=0;r===null&&i<f.SubFilters.length;i++){r=this.getFilterValueFromConditionTree(e,f.SubFilters[i]);}return r;}return null;},logUserEvent:function(e){},buildQueryUrl:function(q,e){var r=q+'/v20411'+e;return r;},getDebugInfo:function(){return' SinaProvider :'+this.id;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/hana_odata/ajax.js":function(){sinaDefine(['../../core/core','../../core/ajax'],function(c,a){"use strict";var m={};m.Exception=c.Exception.derive({_init:function(d){c.Exception.prototype._init.apply(this,[d]);}});var p=function(d){try{return c.Promise.reject(new m.Exception({message:JSON.parse(d.responseText).error.details,description:'Error by hana odata ajax call',previous:d}));}catch(e){return c.Promise.reject(d);}};var b=function(o){return function(){return o.apply(this,arguments).then(function(r){return r;},function(e){if(!(e instanceof a.Exception)){return c.Promise.reject(e);}return p(e);});};};m.createAjaxClient=function(){var d=new a.Client({csrf:false});d.postJson=b(d.postJson);d.getJson=b(d.getJson);d.mergeJson=b(d.mergeJson);return d;};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/hana_odata/conditionSerializer.js":function(){sinaDefine(['../../core/core','../../sina/ComplexCondition','../../sina/ComparisonOperator','./typeConverter','../../sina/AttributeType'],function(c,C,a,t,A){"use strict";var b=c.defineClass({_init:function(d){this.dataSource=d;},convertSinaToOdataOperator:function(s){switch(s){case a.Eq:return':EQ(S)';case a.Lt:return':LT';case a.Gt:return':GT';case a.Le:return':LE';case a.Ge:return':GE';case a.Co:return':EQ';case a.Bw:return':EQ';case a.Ew:return':EQ';case'And':return"AND";case'Or':return"OR";default:throw new c.Exception('unknow comparison operator '+s);}},serializeComplexCondition:function(d){var r={"Id":1,"OperatorType":this.convertSinaToOdataOperator(d.operator),"SubFilters":[]};var s=d.conditions;for(var i=0;i<s.length;++i){var e=s[i];r.SubFilters.push(this.serialize(e));}var f="";if(r.SubFilters.length>1){f=r.SubFilters.join(' '+r.OperatorType+' ');}else if(r.SubFilters.length===1){f=r.SubFilters[0];}if(r.SubFilters.length>1){f='('+f+')';}return f;},serializeSimpleCondition:function(d){var m;var e;var f;m=this.dataSource.getAttributeMetadata(d.attribute);e=m.type;var g=t.sina2Odata(e,d.value,{operator:d.operator});var h=this.convertSinaToOdataOperator(d.operator);f={"ConditionAttribute":d.attribute,"ConditionOperator":h,"ConditionValue":g};var q='';if(e===A.String||e===A.Timestamp){q='"';}var r='';if(e===A.String&&g.match(/^[*\s]+$/g)!==null&&h===':EQ'){r+='('+f.ConditionAttribute+':'+q+f.ConditionValue+q+')';}else{r+='('+f.ConditionAttribute+f.ConditionOperator+':'+q+f.ConditionValue+q+')';}return r;},serializeBetweenCondition:function(d){var m;var e;m=this.dataSource.getAttributeMetadata(d.conditions[0].attribute);e=m.type;var q='';if(e===A.Date||e===A.Time||e===A.Timestamp){q='"';}var r=d.conditions[0].attribute+this.convertSinaToOdataOperator(d.conditions[0].operator)+':'+q+t.sina2Odata(e,d.conditions[0].value,{operator:d.conditions[0].operator})+q;r+=" AND ";r+=d.conditions[1].attribute+this.convertSinaToOdataOperator(d.conditions[1].operator)+":"+q+t.sina2Odata(e,d.conditions[1].value,{operator:d.conditions[1].operator})+q;r="("+r+")";return r;},serialize:function(d){if(d instanceof C){if(d.operator==="And"&&d.conditions.length>1&&d.conditions[0]&&(d.conditions[0].operator==="Ge"||d.conditions[0].operator==="Gt"||d.conditions[0].operator==="Le"||d.conditions[0].operator==="Lt")){return this.serializeBetweenCondition(d);}return this.serializeComplexCondition(d);}return this.serializeSimpleCondition(d);}});return{serialize:function(d,e){var s=new b(d);return s.serialize(e);}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/hana_odata/dataSourceSerializer.js":function(){sinaDefine(['../../core/core','../../sina/ComplexCondition','../../sina/ComparisonOperator'],function(c,C,a){"use strict";return{serialize:function(d){if(d===d.sina.getAllDataSource()){return{Id:'<All>',Type:'Category'};}var t;switch(d.type){case d.sina.DataSourceType.Category:t='Category';break;case d.sina.DataSourceType.BusinessObject:t='View';break;}return{Id:d.id,Type:t};}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/hana_odata/suggestionParser.js":function(){sinaDefine(['../../core/core','./typeConverter'],function(c,t){"use strict";return c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;},parse:function(q,d){var s=[];var a;var b;for(var i=0;i<d.length;i++){a=null;b=d[i];a=this.parseSearchTermSuggestion(q,b);s.push(a);}return s;},parseDataSourceSuggestion:function(q,a){var b=this.sina.SuggestionCalculationMode.Data;var d=this.sina.getDataSource(a.FromDataSource);if(!d){return null;}var f=q.filter.clone();f.setDataSource(d);return this.sina._createDataSourceSuggestion({calculationMode:b,dataSource:d,label:a.SearchTermsHighlighted});},parseSearchTermSuggestion:function(q,a){var f=q.filter.clone();f.setSearchTerm(a.term);return this.sina._createSearchTermSuggestion({searchTerm:a.term,calculationMode:this.sina.SuggestionCalculationMode.Data,filter:f,label:a.highlighted||a.term});},parseSearchTermAndDataSourceSuggestion:function(q,a){var b=this.parseCalculationMode(a.Type);var f=q.filter.clone();f.setSearchTerm(a.SearchTerms);var d=this.sina.getDataSource(a.FromDataSource);if(!d){return null;}f.setDataSource(d);return this.sina._createSearchTermAndDataSourceSuggestion({searchTerm:a.SearchTerms,dataSource:d,calculationMode:b,filter:f,label:a.SearchTermsHighlighted});},parseCalculationMode:function(s){switch(s){case'H':return this.sina.SuggestionCalculationMode.History;case'A':case'M':return this.sina.SuggestionCalculationMode.Data;}},_getParentCell:function(a){var p={};p=a;p.FromDataSource="<All>";p.FromDataSourceAttribute="";p.Type="A";return p;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/hana_odata/suggestionTermSplitter.js":function(){sinaDefine(['../../core/core'],function(c){"use strict";var S=c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;},split:function(t){var s=t.lastIndexOf(' ');if(s<0){return{searchTerm:null,suggestionTerm:t};}var a=t.slice(0,s);a=a.replace(/\s+$/,"");if(a.length===0){return{searchTerm:null,suggestionTerm:t};}var b=t.slice(s);b=b.replace(/^\s+/,"");if(b.length===0){return{searchTerm:null,suggestionTerm:t};}return{searchTerm:a,suggestionTerm:b};},concatenate:function(s,a){if(!s.searchTerm){return;}var t;var b=[];var d=s.searchTerm.split(' ');for(var k=0;k<d.length;k++){t=d[k];t=t.trim();b.push({term:t,regExp:new RegExp(this.escapeRegExp(t),'i')});}for(var i=0;i<a.length;++i){var e=a[i];var n=[];for(var j=0;j<b.length;++j){var f=b[j];if(!f.regExp.test(e.filter.searchTerm)){n.push(f.term);}}var p=[];var g=n.join(' ');for(var l=0;l<n.length;l++){t=n[l];p.push('<b>'+t+'</b>');}p=p.join(' ');e.label=p+' '+e.label;e.filter.searchTerm=e.searchTerm=g+' '+e.filter.searchTerm;this.concatenate(s,e.childSuggestions);}},escapeRegExp:function(s){return s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");}});return{split:function(p,t){var s=new S(p,t);return s.split(t);},concatenate:function(p,s,a){var b=new S(p);return b.concatenate(s,a);}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/hana_odata/typeConverter.js":function(){sinaDefine(['../../core/core','../../sina/util','../../sina/AttributeType'],function(c,s,A){"use strict";return{sina2Odata:function(a,v,b){switch(a){case A.Double:return v.toString();case A.Integer:return v.toString();case A.String:return this.sina2OdataString(v,b);case A.ImageUrl:case A.ImageBlob:return v;case A.GeoJson:return v;case A.Date:return this.sina2OdataDate(v);case A.Time:return this.sina2OdataTime(v);case A.Timestamp:return this.sina2OdataTimestamp(v);default:throw new c.Exception('unknown attribute type '+a);}},sina2OdataString:function(v,a){return s.convertOperator2Wildcards(v,a.operator);},odata2Sina:function(a,v){switch(a){case A.Double:if(!v){return 0.000;}return parseFloat(v);case A.Integer:if(!v){return 0;}return parseInt(v,10);case A.String:if(!v){return'';}if(Array.isArray(v)){var b='';for(var i=0;i<v.length;i++){if(typeof v[i]==='object'){v[i]=JSON.stringify(v[i]);}else{v[i]=v[i].toString();}if(i===0){b=v[i];}else{b=b+'; '+v[i];}}return b;}return v;case A.ImageUrl:case A.ImageBlob:if(!v){return'';}return v;case A.GeoJson:if(!v){return{};}return v;case A.Date:if(!v){return'1970-01-01';}return this.odata2SinaDate(v);case A.Time:if(!v){return'00:00:00';}return this.odata2SinaTime(v);case A.Timestamp:if(!v){return'1970-01-01T00:00:00.0000000Z';}return this.odata2SinaTimestamp(v);default:throw new c.Exception('unknown attribute type '+a);}},odata2SinaTimestamp:function(v){return new Date(Date.parse(v));},sina2OdataTimestamp:function(v){var y=v.getUTCFullYear();var m=v.getUTCMonth()+1;var d=v.getUTCDate();var h=v.getUTCHours();var a=v.getUTCMinutes();var b=v.getUTCSeconds();var r=this.addLeadingZeros(y.toString(),4)+'-'+this.addLeadingZeros(m.toString(),2)+'-'+this.addLeadingZeros(d.toString(),2)+'T'+this.addLeadingZeros(h.toString(),2)+':'+this.addLeadingZeros(a.toString(),2)+':'+this.addLeadingZeros(b.toString(),2)+'Z';return r;},odata2SinaTime:function(v){v=v.trim();return v;},sina2OdataTime:function(v){return v;},odata2SinaDate:function(v){v=v.trim();return v.slice(0,4)+'/'+v.slice(5,7)+'/'+v.slice(8,10);},sina2OdataDate:function(v){return v.slice(0,4)+'-'+v.slice(5,7)+'-'+v.slice(8,10);},addLeadingZeros:function(v,l){return'00000000000000'.slice(0,l-v.length)+v;}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/FacetParser.js":function(){sinaDefine(['../../core/core','./pivotTableParser','../../sina/SearchQuery','./typeConverter'],function(c,p,S,t){"use strict";return c.defineClass({_init:function(a){this.provider=a;this.sina=a.sina;},parse:function(q,d){var f=[];if(!d.ResultsetFacets||!d.ResultsetFacets.Elements){return[];}for(var i=0;i<d.ResultsetFacets.Elements.length;i++){var a=d.ResultsetFacets.Elements[i];var b=a.Metadata.Cube.ObjectName;if(b==='$$DataSources$$'){f.push(this.parseDataSourceFacet(q,a));}else{if(q.filter.dataSource.type===q.sina.DataSourceType.Category){continue;}f.push(this.parseChartFacet(q,a));}}return c.Promise.all(f);},parseDataSourceFacet:function(q,f){var d=q;if(q instanceof S){d=this.sina.createDataSourceQuery({dataSource:q.filter.dataSource,filter:q.filter.clone()});}var a=p.parse(f.ResultSet);var b=[];for(var i=0;i<a.cells.length;i++){var e=a.cells[i];var g=this.sina.getDataSource(e.$$DataSource$$[0].Value);if(!g){g=this.sina._createDataSource({type:this.sina.DataSourceType.Category,id:e.$$DataSource$$[0].Value,label:e.$$DataSource$$[0].ValueFormatted});}b.push(this.sina._createDataSourceResultSetItem({dataSource:g,dimensionValueFormatted:e.$$DataSource$$[0].ValueFormatted,measureValue:e.Value,measureValueFormatted:e.ValueFormatted}));}var r=this.sina._createDataSourceResultSet({title:q.filter.dataSource.label,items:b,query:d});if(q instanceof S){return d._setResultSet(r);}return r;},createAttributeFilterCondition:function(a,m,b){switch(b.$$AttributeValue$$.length){case 2:return this.sina.createSimpleCondition({attribute:a,value:t.ina2Sina(m.type,b.$$AttributeValue$$[0].Value),attributeLabel:m.label,valueLabel:b.$$AttributeValue$$[0].ValueFormatted});case 3:var d=this.sina.createComplexCondition({attributeLabel:m.label,valueLabel:b.$$AttributeValue$$[0].ValueFormatted,operator:this.sina.LogicalOperator.And});var e=[];if(b.$$AttributeValue$$[1].Value){e.push(this.sina.createSimpleCondition({attribute:a,operator:this.sina.ComparisonOperator.Ge,value:t.ina2Sina(m.type,b.$$AttributeValue$$[1].Value)}));}if(b.$$AttributeValue$$[2].Value){e.push(this.sina.createSimpleCondition({attribute:a,operator:this.sina.ComparisonOperator.Le,value:t.ina2Sina(m.type,b.$$AttributeValue$$[2].Value)}));}d.conditions=e;return d;default:throw new c.Exception('parse error facets');}},parseChartFacet:function(q,f){var d=this.sina.getDataSource(f.Metadata.Cube.DataSource.ObjectName);var a=f.Metadata.Cube.ObjectName;var m=d.getAttributeMetadata(a);var b=q;if(q instanceof S){var e=q.filter.clone();e.setDataSource(d);e.setRootCondition(q.filter.rootCondition.clone());b=this.sina.createChartQuery({filter:e,dimension:f.Metadata.Cube.ObjectName});}var g=p.parse(f.ResultSet);var h=[];for(var i=0;i<g.cells.length;i++){var j=g.cells[i];h.push(this.sina._createChartResultSetItem({filterCondition:this.createAttributeFilterCondition(a,m,j),dimensionValueFormatted:j.$$AttributeValue$$[0].ValueFormatted||j.$$AttributeValue$$[0].Value,measureValue:j.Value,measureValueFormatted:j.ValueFormatted}));}var r=this.sina._createChartResultSet({title:m.label,items:h,query:b});if(q instanceof S){return b._setResultSet(r);}return r;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/ItemParser.js":function(){sinaDefine(['../../core/core','../../core/util','./pivotTableParser','./typeConverter','../tools/fiori/FioriIntentsResolver','../../sina/NavigationTarget'],function(c,u,p,t,I,N){"use strict";return c.defineClass({_init:function(a){this.provider=a;this.sina=a.sina;this.intentsResolver=this.sina._createFioriIntentsResolver();},parse:function(s,d){var a=this.parseTotalCount(d);d=p.parse(d);if(d.axes.length===0){return Promise.resolve({totalCount:0,items:[]});}var b=d.axes[0];var e=[];for(var i=0;i<b.length;++i){var f=b[i];this.provider.metadataParser.parseSearchRequestMetadata(f);var g=this.parseItem(f);e.push(g);}return Promise.all(e).then(function(h){return{totalCount:a,items:h};});},parseTotalCount:function(d){if(d.ItemLists&&d.ItemLists[0]&&d.ItemLists[0].TotalCount){return d.ItemLists[0].TotalCount.Value;}return 0;},parseItem:function(a){var b=[];var d=[];var s=[];var e=this.sina.getDataSource(a.$$DataSourceMetaData$$[0].ObjectName);for(var m=0;m<a.$$ResultItemAttributes$$.length;++m){var f=a.$$ResultItemAttributes$$[m];var g=e.getAttributeMetadata(f.Name);var h=this.sina._createSearchResultSetItemAttribute({id:f.Name,label:e.getAttributeMetadata(f.Name).label,value:t.ina2Sina(g.type,f.Value),valueFormatted:f.ValueFormatted||f.Value,valueHighlighted:f.ValueFormatted||f.Value,isHighlighted:false,metadata:g});if(g.usage.Title){b.push(h);}if(g.usage.Detail){d.push(h);}for(var i=0;i<a.$$AttributeMetadata$$.length;i++){var j=a.$$AttributeMetadata$$[i];if(j.Name==f.Name){if(j.SemanticObjectType&&j.SemanticObjectType.length>0){s.push({name:j.SemanticObjectType,value:h.value,type:h.metadata.type});}break;}}}b.sort(function(x,y){return x.metadata.usage.Title.displayOrder-y.metadata.usage.Title.displayOrder;});d.sort(function(x,y){return x.metadata.usage.Detail.displayOrder-y.metadata.usage.Detail.displayOrder;});this.parseWhyFound(e,b,d,a);var l;for(var k=0;k<a.$$RelatedActions$$.length;++k){var r=a.$$RelatedActions$$[k];if(r.Type==="GeneralUri"||r.Type==="SAPNavigation"){var n=r.Description;var o=encodeURI(r.Uri);l=this.sina._createNavigationTarget({label:n,targetUrl:o});}}var q=a.$$DataSourceMetaData$$[0].SemanticObjectType;var v=a.$$DataSourceMetaData$$[0].SystemId;var w=a.$$DataSourceMetaData$$[0].Client;return this.intentsResolver.resolveIntents({semanticObjectType:q,semanticObjectTypeAttributes:s,systemId:v,client:w,fallbackDefaultNavigationTarget:l}).then(function(x){var y=x&&x.defaultNavigationTarget;var z=x&&x.navigationTargets;var A=this.sina._createSearchResultSetItem({dataSource:e,titleAttributes:b,titleDescriptionAttributes:[],detailAttributes:d,defaultNavigationTarget:y,navigationTargets:z});return A;}.bind(this));},parseWhyFound:function(d,a,b,e){var i,w,f,j,g;for(i=0;i<e.$$WhyFound$$.length;i++){w=e.$$WhyFound$$[i];f=this.getResponseAttributeId(d,w.Name);for(j=0;j<a.length;++j){g=a[j];if(f===g.id){w.matched=true;g.valueHighlighted=w.Value;g.isHighlighted=true;break;}}for(j=0;j<b.length;++j){g=b[j];if(f===g.id){w.matched=true;g.valueHighlighted=w.Value;g.isHighlighted=true;break;}}}for(i=0;i<e.$$WhyFound$$.length;i++){w=e.$$WhyFound$$[i];if(w.matched){continue;}f=this.getResponseAttributeId(d,w.Name);var m=d.getAttributeMetadata(f);if(!m){throw new c.Exception('metadata misssing for '+f);}g=this.sina._createSearchResultSetItemAttribute({id:m.id,label:m.label,value:null,valueFormatted:u.filterString(w.Value,['<b>','</b>']),valueHighlighted:w.Value,isHighlighted:true,metadata:m});b.push(g);}},getResponseAttributeId:function(d,r){var a=this.provider.getInternalMetadataAttribute(d,r);if(!a){return r;}var b=this.provider.getInternalMetadataAttribute(d,a.correspondingSearchAttributeName);if(!b){return r;}return b.Name;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/MetadataParser.js":function(){sinaDefine(['../../core/core','./pivotTableParser','./typeConverter'],function(c,p,t){"use strict";return c.defineClass({_init:function(a){this.provider=a;this.sina=a.sina;},normalizeAttributeMetadata:function(a){a.IsKey=a.isKey;},parseRequestAttributes:function(d,a){var b=a.Cube.Dimensions;var f=[];for(var i=0;i<b.length;++i){var e=b[i];if(e.Name.slice(0,2)==='$$'){continue;}var g=e.Attributes[0];this.normalizeAttributeMetadata(g);f.push(g);}this.provider.fillInternalMetadata(d,'metadataRequest',f);},parseResponseAttributes:function(d,a){var f=[];var b=a.Cube.Dimensions[0].Attributes;for(var i=0;i<b.length;++i){var e=b[i];if(e.Name.slice(0,2)==='$$'){continue;}this.normalizeAttributeMetadata(e);f.push(e);}this.provider.fillInternalMetadata(d,'metadataRequest',f);},parseMetadataRequestMetadata:function(d,a){var m=this.provider.getInternalMetadataLoadStatus(d);if(m.metadataRequest){return;}this.parseRequestAttributes(d,a);this.parseResponseAttributes(d,a);this.fillPublicMetadataBuffer(d);},parseSearchRequestMetadata:function(i){var d=this.sina.getDataSource(i.$$DataSourceMetaData$$[0].ObjectName);var m=this.provider.getInternalMetadataLoadStatus(d);if(m.searchRequest){return;}this.provider.fillInternalMetadata(d,'searchRequest',i.$$AttributeMetadata$$);this.fillPublicMetadataBuffer(d);this.calculateAttributeDisplayOrder(d,i);},fillPublicMetadataBuffer:function(d){d.attributesMetadata=[];d.attributeMetadataMap={};var a=this.provider.getInternalMetadataAttributes(d);for(var i=0;i<a.length;++i){var b=a[i];var e=this._parseAttributeTypeAndFormat(b);var f=this.sina._createAttributeMetadata({type:e.type,format:e.format,id:b.Name,label:b.Description,isSortable:this._parseIsSortable(b),isKey:b.IsKey,matchingStrategy:this._parseMatchingStrategy(b),usage:this._parseUsage(b)});d.attributesMetadata.push(f);d.attributeMetadataMap[b.Name]=f;}d._configure();},calculateAttributeDisplayOrder:function(d,a){var b,e,i;var f=[];var g=[];var h=[];var k=[];for(var j=0;j<a.$$ResultItemAttributes$$.length;++j){var l=a.$$ResultItemAttributes$$[j];var m=this.provider.getInternalMetadataAttribute(d,l.Name);if(m.presentationUsage.indexOf('Title')>=0||m.IsTitle){f.push(l.Name);}if(m.presentationUsage.indexOf('Summary')>=0||m.presentationUsage.indexOf('Image')>=0||m.presentationUsage.indexOf('Thumbnail')>=0){g.push(l.Name);}else if(m.presentationUsage.indexOf('Detail')>=0){h.push(l.Name);}}for(i=0;i<f.length;++i){b=f[i];e=d.getAttributeMetadata(b);e.usage.Title.displayOrder=i;}k.push.apply(k,g);k.push.apply(k,h);for(i=0;i<k.length;++i){b=k[i];e=d.getAttributeMetadata(b);e.usage.Detail.displayOrder=i;}},_parseIsSortable:function(a){if(typeof a.IsSortable==='undefined'){return false;}return a.IsSortable;},_parseMatchingStrategy:function(a){if(a.hasFulltextIndex){return this.sina.MatchingStrategy.Text;}return this.sina.MatchingStrategy.Exact;},_parseUsage:function(a){var u={};if(a.presentationUsage.indexOf('Title')>=0||a.IsTitle){u.Title={displayOrder:0};}if(a.presentationUsage.indexOf('Summary')>=0||a.presentationUsage.indexOf('Image')>=0||a.presentationUsage.indexOf('Thumbnail')>=0||a.presentationUsage.indexOf('Detail')>=0){u.Detail={displayOrder:0};}if(a.accessUsage.indexOf('AutoFacet')>=0){u.Facet={displayOrder:0};}if(a.accessUsage.indexOf('AdvancedSearch')>=0){u.AdvancedSearch={displayOrder:0};}return u;},_parseAttributeTypeAndFormat:function(a){for(var i=0;i<a.presentationUsage.length;i++){var b=a.presentationUsage[i];switch(b){case'Summary':continue;case'Detail':continue;case'Title':continue;case'Hidden':continue;case'FactSheet':continue;case'Thumbnail':case'Image':return{type:this.sina.AttributeType.ImageUrl};case'Text':return{type:this.sina.AttributeType.String,format:this.sina.AttributeFormatType.Longtext};default:throw new c.Exception('Unknown presentation usage '+b);}}switch(a.DataType){case'Integer':case'Long':return{type:this.sina.AttributeType.Integer};case'Double':return{type:this.sina.AttributeType.Double};case'String':return{type:this.sina.AttributeType.String};case'Date':return{type:this.sina.AttributeType.Date};case'Time':return{type:this.sina.AttributeType.Time};case'Timestamp':return{type:this.sina.AttributeType.Timestamp};case'GeoJson':return{type:this.sina.AttributeType.GeoJson};default:throw new c.Exception('Unknown data type '+a.DataType);}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/Provider.js":function(){sinaDefine(['../../core/core','../../core/util','../../core/lang','./ajax','./ajaxTemplates','./pivotTableParser','./conditionSerializer','./dataSourceSerializer','./FacetParser','./ItemParser','./suggestionParser','./suggestionTermSplitter','./labelCalculation','./UserEventLogger','./MetadataParser'],function(c,u,l,a,b,p,d,e,F,I,s,f,g,U,M){"use strict";return c.defineClass({id:'inav2',_initAsync:function(h){this.urlPrefix='/sap/es/ina';this.getServerInfoUrl=this.urlPrefix+'/GetServerInfo';this.getResponseUrl=this.urlPrefix+'/GetResponse';this.sina=h.sina;this.ajaxClient=a.createAjaxClient();this.metadataLoadPromises={};this.internalMetadata={};this.labelCalculator=g.createLabelCalculator();this.userEventLogger=new U(this);this.metadataParser=new M(this);this.itemParser=new I(this);this.facetParser=new F(this);this.executeSearchQuery=this.addMetadataLoadDecorator(this.executeSearchQuery);this.executeChartQuery=this.addMetadataLoadDecorator(this.executeChartQuery);this.executeSuggestionQuery=this.addMetadataLoadDecorator(this.executeSuggestionQuery);this.sessionId=c.generateGuid();return this.loadServerInfo().then(function(i){this.serverInfo=i;this.userEventLogger.delayedInit();if(!this.supports('Search')){return Promise.reject(new c.Exception('Enterprise Search is not active'));}return this.loadBusinessObjectDataSources();}.bind(this)).then(function(){return{capabilities:this.sina._createCapabilities({fuzzy:this.supports('Search','OptionFuzzy')})};}.bind(this));},addMetadataLoadDecorator:function(h){return function(){var i=arguments;var q=arguments[0];var j=q.filter.dataSource;return Promise.resolve().then(function(){return this.loadMetadata(j);}.bind(this)).then(function(){return h.apply(this,i);}.bind(this));}.bind(this);},loadMetadata:function(h){if(h.type===this.sina.DataSourceType.Category){return c.Promise.resolve();}var i=this.metadataLoadPromises[h.id];if(i){return i;}b.loadDataSourceMetadataRequest.DataSource.ObjectName=h.id;this.addLanguagePreferences(b.loadDataSourceMetadataRequest);i=this.ajaxClient.postJson(this.getResponseUrl,b.loadDataSourceMetadataRequest).then(function(r){this.metadataParser.parseMetadataRequestMetadata(h,r.data);}.bind(this));this.metadataLoadPromises[h.id]=i;return i;},supports:function(h,k){for(var i=0;i<this.serverInfo.Services.length;++i){var m=this.serverInfo.Services[i];if(m.Service==h){if(!k){return true;}for(var j=0;j<m.Capabilities.length;++j){var n=m.Capabilities[j];if(n.Capability===k){return true;}}}}return false;},loadServerInfo:function(){return this.ajaxClient.getJson(this.getServerInfoUrl).then(function(r){return r.data;});},loadBusinessObjectDataSources:function(){var t=this;t.addLanguagePreferences(b.loadDataSourcesRequest);if(t.supports('Search','PluralDescriptionForDataSource')){b.loadDataSourcesRequest.Search.NamedValues.push({AttributeName:"DescriptionPlural",Name:"DescriptionPlural"});}return t.ajaxClient.postJson(t.getResponseUrl,b.loadDataSourcesRequest).then(function(r){t._processDataSourcesResponse(r,false);},function(h){var i=t.serverInfo.ServerInfo.SystemId+t.serverInfo.ServerInfo.Client+"~ESH_CONNECTOR~";b.fallbackLoadDataSourcesRequest.DataSource.ObjectName=i;return t.ajaxClient.postJson(t.getResponseUrl,b.fallbackLoadDataSourcesRequest).then(function(r){t._processDataSourcesResponse(r,true);});});},_processDataSourcesResponse:function(r,h){var j=p.parse(r.data);var k=j.axes[0];for(var i=0;i<k.length;++i){var m=k[i];var n='';var o='';var q='';if(!h){if(c.isObject(m.Description)){n=m.Description.Value;}else{n=m.Description;}if(c.isObject(m.DescriptionPlural)){o=m.DescriptionPlural.Value;}else{o=m.DescriptionPlural;}if(c.isObject(m.ObjectName)){q=m.ObjectName.Value;}else{q=m.ObjectName;}}else{m.$$ResultItemAttributes$$.forEach(function(v){if(v.Name==="DESCRIPTION"){n=v.Value;}if(v.Name==="DESCRIPTION_PLURAL"){o=v.Value;}if(v.Name==="OBJECT_NAME"){q=v.Value;}});}if(!n){n=q;}if(!o){o=n;}var t=this.sina._createDataSource({id:q,label:n,labelPlural:o,type:this.sina.DataSourceType.BusinessObject,attributesMetadata:[{id:'dummy'}]});this.labelCalculator.calculateLabel(t);}},getInternalMetadataAttributes:function(h){var i=[];var j=this.internalMetadata[h.id];if(!j){return i;}for(var k in j.data){i.push(j.data[k]);}return i;},getInternalMetadataAttribute:function(h,i){return this.internalMetadata[h.id].data[i];},getInternalMetadataLoadStatus:function(h){var i=this.internalMetadata[h.id];if(!i){return{};}return i.loadStatus;},fillInternalMetadata:function(h,j,k){var m=this.internalMetadata[h.id];if(!m){m={loadStatus:{},data:{}};this.internalMetadata[h.id]=m;}for(var i=0;i<k.length;++i){var n=k[i];var o=m.data[n.Name];if(!o){o={};m.data[n.Name]=o;}for(var q in n){o[q]=n[q];}}m.loadStatus[j]=true;},addTemplateConditions:function(r){r.addCondition({attribute:'$$RenderingTemplatePlatform$$',operator:this.sina.ComparisonOperator.Eq,value:'html'});r.addCondition({attribute:'$$RenderingTemplateTechnology$$',operator:this.sina.ComparisonOperator.Eq,value:'Tempo'});r.addCondition({attribute:'$$RenderingTemplateType$$',operator:this.sina.ComparisonOperator.Eq,value:'ResultItem'});r.addCondition({attribute:'$$RenderingTemplateType$$',operator:this.sina.ComparisonOperator.Eq,value:'ItemDetails'});},assembleOrderBy:function(q){var r=[];for(var i=0;i<q.sortOrder.length;++i){var h=q.sortOrder[i];var j=(h.order===this.sina.SortOrder.Descending)?'DESC':'ASC';r.push({AttributeName:h.id,SortOrder:j});}return r;},executeSearchQuery:function(q){var h,r;var i=q.filter.rootCondition.clone();this.addTemplateConditions(i);b.searchRequest.Search.Filter=d.serialize(q.filter.dataSource,i);b.searchRequest.DataSource=e.serialize(q.filter.dataSource);b.searchRequest.Search.SearchTerms=q.filter.searchTerm;b.searchRequest.Search.Top=q.top;b.searchRequest.Search.Skip=q.skip;b.searchRequest.Options=this.assembleRequestOptions(q);b.searchRequest.Search.OrderBy=this.assembleOrderBy(q);b.searchRequest.Search.Expand=['Grid','Items','TotalCount'];this.addLanguagePreferences(b.searchRequest);this.addSessionId(b.searchRequest);if(q.calculateFacets){b.searchRequest.Search.Expand.push('ResultsetFacets');}return this.ajaxClient.postJson(this.getResponseUrl,b.searchRequest).then(function(j){r=j;return this.itemParser.parse(q,r.data);}.bind(this)).then(function(j){h=j;return this.facetParser.parse(q,r.data);}.bind(this)).then(function(j){return this.sina._createSearchResultSet({id:r.data.ExecutionID,title:'Search Result List',query:q,items:h.items,totalCount:h.totalCount,facets:j});}.bind(this));},executeChartQuery:function(q){var r=q.filter.rootCondition.clone();this.addTemplateConditions(r);b.chartRequest.Search.Filter=d.serialize(q.filter.dataSource,r);b.chartRequest.DataSource=e.serialize(q.filter.dataSource);b.chartRequest.Search.SearchTerms=q.filter.searchTerm;b.chartRequest.Search.Top=1;b.chartRequest.Search.Skip=0;b.chartRequest.Facets.Attributes=[q.dimension];b.chartRequest.Facets.MaxNumberOfReturnValues=q.top;b.chartRequest.Options=this.assembleRequestOptions(q);this.addLanguagePreferences(b.chartRequest);this.addSessionId(b.chartRequest);return this.ajaxClient.postJson(this.getResponseUrl,b.chartRequest).then(function(h){return this.facetParser.parse(q,h.data);}.bind(this)).then(function(h){if(h.length>0){return h[0];}return this.sina._createChartResultSet({title:q.filter.dataSource.getAttributeMetadata(q.dimension).label,items:[],query:q});}.bind(this));},executeSuggestionQuery:function(q){var h=q.filter.searchTerm;var i=f.split(this,h);var r=q.filter.rootCondition.clone();if(i.searchTerm){r.addCondition(q.sina.createSimpleCondition({attribute:'$$SearchTerms$$',value:i.searchTerm}));}r.addCondition(q.sina.createSimpleCondition({attribute:'$$SuggestionTerms$$',value:i.suggestionTerm}));b.suggestionRequest.Suggestions2.Filter=d.serialize(q.filter.dataSource,r);b.suggestionRequest.DataSource=e.serialize(q.filter.dataSource);b.suggestionRequest.Options=this.assembleSuggestionOptions(q);if(b.suggestionRequest.Options.length===0){return this.sina._createSuggestionResultSet({title:'Suggestions',query:q,items:[]});}b.suggestionRequest.Suggestions2.Top=q.top;b.suggestionRequest.Suggestions2.Skip=q.skip;this.addLanguagePreferences(b.suggestionRequest);this.addSessionId(b.suggestionRequest);return this.ajaxClient.postJson(this.getResponseUrl,b.suggestionRequest).then(function(j){var k=s.parse(this,q,j.data);f.concatenate(this,i,k);return this.sina._createSuggestionResultSet({title:'Suggestions',query:q,items:k});}.bind(this));},addSessionId:function(r){if(!this.supports('Search','SessionHandling')){delete r.SessionID;delete r.SessionTimestamp;return;}r.SessionID=this.sessionId;r.SessionTimestamp=parseInt(u.generateTimestamp(),10);},addLanguagePreferences:function(r){if(!this.supports('Search','LanguagePreferences')){delete r.LanguagePreferences;return;}r.LanguagePreferences=l.getLanguagePreferences();},assembleSuggestionOptions:function(q){var h={SearchTerm:{Data:'SuggestObjectData',History:'SuggestSearchHistory'},Object:{},DataSource:{Data:'SuggestDataSources'}};if(!this.supports('Suggestions2','ScopeTypes')){delete h.SearchTerm.History;delete h.DataSource.Data;}var o=[];var k=q.types;var m=q.calculationModes;for(var i=0;i<k.length;i++){var n=k[i];for(var j=0;j<m.length;j++){var r=m[j];var v=h[n][r];if(!v){continue;}o.push(v);}}return o;},assembleRequestOptions:function(q){var O=['SynchronousRun'];if(this.decideValueHelp(q)){O.push('ValueHelpMode');}return O;},decideValueHelp:function(q){var h=q.filter.rootCondition.conditions;for(var i=0;i<h.length;i++){if(q.filter._getAttribute(h[i])===q.dimension){return true;}}return false;},getConfigurationAsync:function(){if(!this.supports('PersonalizedSearch','SetUserStatus')){return c.Promise.resolve(this.sina._createConfiguration({personalizedSearch:false,isPersonalizedSearchEditable:false}));}return this.ajaxClient.postJson(this.getResponseUrl,b.getConfigurationRequest).then(function(r){var h={personalizedSearch:false,isPersonalizedSearchEditable:false};h.personalizedSearch=r.data.Data.PersonalizedSearch.SessionUserActive;switch(r.data.Data.PersonalizedSearch.PersonalizationPolicy){case'Opt-In':h.isPersonalizedSearchEditable=true;break;case'Opt-Out':h.isPersonalizedSearchEditable=true;break;case'Enforced':h.isPersonalizedSearchEditable=false;break;case'Disabled':h.isPersonalizedSearchEditable=false;break;}return this.sina._createConfiguration(h);}.bind(this));},saveConfigurationAsync:function(h){if(!this.supports('PersonalizedSearch','SetUserStatus')){return c.Promise.resolve();}b.saveConfigurationRequest.SearchConfiguration.Data.PersonalizedSearch.SessionUserActive=h.personalizedSearch;return this.ajaxClient.postJson(this.getResponseUrl,b.saveConfigurationRequest);},resetPersonalizedSearchDataAsync:function(){if(!this.supports('PersonalizedSearch','ResetUserData')){return c.Promise.resolve();}return this.ajaxClient.postJson(this.getResponseUrl,b.resetPersonalizedSearchDataRequest);},logUserEvent:function(h){return this.userEventLogger.logUserEvent(h);},getDebugInfo:function(){return'Searchsystem: '+this.serverInfo.ServerInfo.SystemId+' Client: '+this.serverInfo.ServerInfo.Client;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/UserEventLogger.js":function(){sinaDefine(['../../core/core','../../core/util','./ajaxTemplates'],function(c,u,a){"use strict";return c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;this.eventLoggingActive=false;this.clickCounterActive=false;this.delayedConsumer=new u.DelayedConsumer({timeDelay:2000,consumer:this.processEvents,consumerContext:this});},delayedInit:function(){this.eventLoggingActive=this.provider.supports('SearchInteractionLogging','SearchInteractionLogging');this.clickCounterActive=this.provider.supports('PersonalizedSearch');},logUserEvent:function(e){e.timeStamp=u.generateTimestamp();if(this.eventLoggingActive&&e.type!=='ITEM_NAVIGATE'){this.delayedConsumer.add(e);}if(this.clickCounterActive&&e.type==='ITEM_NAVIGATE'&&e.sourceUrlArray.length!==0){this.incrementClickCounter(e.sourceUrlArray,e.targetUrl,e.systemAndClient);}},processEvents:function(e){var r={SearchInteractionLogging:{SessionID:this.provider.sessionId,EventList:[]}};for(var i=0;i<e.length;++i){var b=e[i];var d={Type:b.type,Timestamp:b.timeStamp,ParameterList:[]};for(var n in b){if(n==='type'||n==='timeStamp'){continue;}var v=b[n];d.ParameterList.push({Name:n,Value:v});}r.SearchInteractionLogging.EventList.push(d);}return this.provider.ajaxClient.postJson(this.provider.getResponseUrl,r);},incrementClickCounter:function(s,t,b){if(!t){return undefined;}if(t.indexOf("#")===-1){return undefined;}if(!this.provider.supports("PersonalizedSearch","SetUserStatus")){return undefined;}var g=function(H){return H.split("-")[0];};var d=function(H){return H.split("-")[1].split("&")[0];};var e=function(p){var o=p;var q=[];for(var i=0,r=o.length;i<r;i++){var v=o[i];if(v.indexOf("sap-system")!==-1){continue;}var w=v.split("=")[0];var x=v.split("=")[1];q.push({Name:w,Value:x});}return q;};var N=a.incrementClickCounterRequest.SearchConfiguration.ClientEvent.NavigationEventList;var h=s;var f=g(h[0]);N[0].SourceApplication.SemanticObjectType=f;var j=d(h[0]);N[0].SourceApplication.Intent=j;var k=h[1]!==undefined?e(h[1].split("&")):[];N[0].SourceApplication.ParameterList=k;h=t.split("?");var l=g(h[0]).split("#")[1];N[1].TargetApplication.SemanticObjectType=l;var m=d(h[0]);N[1].TargetApplication.Intent=m;var n=h[1]!==undefined?e(h[1].split("&")):[];N[1].TargetApplication.ParameterList=n;var S={"System":b.systemId,"Client":b.client};delete N[1].TargetApplication.System;delete N[1].TargetApplication.Client;N[1].TargetApplication=jQuery.extend(N[1].TargetApplication,S);return this.provider.ajaxClient.postJson(this.provider.getResponseUrl,a.incrementClickCounterRequest);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/ajax.js":function(){sinaDefine(['../../core/core','../../core/ajax'],function(c,a){"use strict";var m={};m.Exception=c.Exception.derive({_init:function(d){c.Exception.prototype._init.apply(this,[d]);}});var p=function(d){try{var f=JSON.parse(d.responseText);var g=f.Error.Code+': '+f.Error.Message;var h=[];if(f.ErrorDetails){for(var i=0;i<f.ErrorDetails.length;++i){var k=f.ErrorDetails[i];h.push(k.Code+': '+k.Message);}}if(f.Messages){for(var j=0;j<f.Messages.length;++j){var l=f.Messages[j];h.push(l.Number+': '+l.Text+' ('+l.Type+')');}}h=h.join('\n');return c.Promise.reject(new m.Exception({message:g,description:h,previous:d}));}catch(e){return c.Promise.reject(d);}};var b=function(o){return function(){return o.apply(this,arguments).then(function(r){return r;},function(e){if(!(e instanceof a.Exception)){return c.Promise.reject(e);}return p(e);});};};m.createAjaxClient=function(){var d=new a.Client({csrf:true,csrfByPassCache:true});d.postJson=b(d.postJson);d.getJson=b(d.getJson);d.mergeJson=b(d.mergeJson);return d;};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/ajaxTemplates.js":function(){sinaDefine([],function(){"use strict";var m={};m.loadDataSourcesRequest={"DataSource":{"ObjectName":"$$DataSources$$","PackageName":"ABAP"},"Options":["SynchronousRun"],"Search":{"Top":1000,"Skip":0,"OrderBy":[{"AttributeName":"Description","SortOrder":"ASC"},{"AttributeName":"ObjectName","SortOrder":"ASC"}],"Expand":["Grid","Items"],"Filter":{"Selection":{"Operator":{"Code":"And","SubSelections":[{"MemberOperand":{"AttributeName":"SupportedService","Comparison":"=","Value":"Search"}},{"MemberOperand":{"AttributeName":"Type","Comparison":"=","Value":"View"}}]}}},"NamedValues":[{"AttributeName":"ObjectName","Name":"ObjectName"},{"AttributeName":"Description","Name":"Description"},{"AttributeName":"Type","Name":"Type"}]},"SearchTerms":"*","ServiceVersion":204};m.fallbackLoadDataSourcesRequest={"DataSource":{"SchemaName":"","PackageName":"ABAP","ObjectName":"","type":"Connector"},"Search":{"Top":1000,"Skip":0,"OrderBy":[{"AttributeName":"DESCRIPTION","SortOrder":"ASC"}],"Expand":["Grid","Items","TotalCount"],"Filter":{},"NamedValues":[{"AttributeName":"$$ResultItemAttributes$$","Name":"$$ResultItemAttributes$$"},{"AttributeName":"$$RelatedActions$$","Name":"$$RelatedActions$$"}],"SearchTerms":"*","SelectedValues":[]},"SearchTerms":"*"};m.searchRequest={"DataSource":{},"Options":["SynchronousRun"],"Search":{"Expand":["Grid","Items","ResultsetFacets","TotalCount"],"Filter":{"Selection":{"Operator":{"Code":"And","SubSelections":[{"MemberOperand":{"AttributeName":"$$RenderingTemplatePlatform$$","Comparison":"=","Value":"html"}},{"MemberOperand":{"AttributeName":"$$RenderingTemplateTechnology$$","Comparison":"=","Value":"Tempo"}},{"MemberOperand":{"AttributeName":"$$RenderingTemplateType$$","Comparison":"=","Value":"ResultItem"}}]}}},"Top":10,"Skip":0,"SearchTerms":"S*","NamedValues":[{"Function":"WhyFound","Name":"$$WhyFound$$"},{"Function":"RelatedActions","Name":"$$RelatedActions$$"},{"AttributeName":"$$RelatedActions.Proxy$$"}]},"ServiceVersion":204};m.chartRequest={"DataSource":{},"Options":["SynchronousRun"],"Search":{"Expand":["Grid","ResultsetFacets","TotalCount"],"Filter":{},"Top":10,"Skip":0,"SearchTerms":"*","NamedValues":[{"Function":"WhyFound","Name":"$$WhyFound$$"},{"AttributeName":"$$RelatedActions$$"},{"AttributeName":"$$RelatedActions.Proxy$$"}],"OrderBy":[]},"ServiceVersion":204,"Facets":{"MaxNumberOfReturnValues":1000,"Attributes":[]}};m.suggestionRequest={"DataSource":{},"Options":["SynchronousRun"],"Suggestions2":{"Expand":["Grid","Items"],"Precalculated":false,"AttributeNames":[]},"ServiceVersion":204};m.getConfigurationRequest={"SearchConfiguration":{"Action":"Get","Data":{"PersonalizedSearch":{}}}};m.saveConfigurationRequest={"SearchConfiguration":{"Action":"Update","Data":{"PersonalizedSearch":{"SessionUserActive":true}}}};m.resetPersonalizedSearchDataRequest={"SearchConfiguration":{"Action":"Update","Data":{"PersonalizedSearch":{"ResetUserData":true}}}};m.incrementClickCounterRequest={"SearchConfiguration":{"Action":"Update","ClientEvent":{"NavigationEventList":[{"SourceApplication":{"SemanticObjectType":"Action","Intent":"search","ParameterList":[{"Name":"searchterm","Value":"*"},{"Name":"datasource","Value":"{\"label\":\"Purchase Order\",\"labelPlural\":\"Purchase Orders\",\"SchemaName\":{\"label\":\"\",\"value\":\"\"},\"PackageName\":{\"label\":\"ABAP\",\"value\":\"ABAP\"},\"ObjectName\":{\"label\":\"CES002~EPM_PO_DEMO~\",\"value\":\"CES002~EPM_PO_DEMO~\"},\"Type\":\"BusinessObject\"}"},{"Name":"top","Value":"10"},{"Name":"filter","Value":"{\"operator\":\"And\",\"label\":\"DefaultRoot\",\"conditions\":[]}"}]}},{"TargetApplication":{"SemanticObjectType":"EPMPurchaseOrder","Intent":"displayFactSheet","ParameterList":[{"Name":"PurchaseOrderInternalId","Value":"3440B5B014B21EE798DDB43D63E56068"}]}}]}}};m.loadDataSourceMetadataRequest={"DataSource":{"ObjectName":"CER002~EPM_EMPLOYEES_DEMO~","PackageName":"ABAP","SchemaName":""},"Options":["SynchronousRun"],"Metadata":{"Context":"Search","Expand":["Cube"]},"ServiceVersion":204};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/conditionSerializer.js":function(){sinaDefine(['../../core/core','../../sina/ComplexCondition','../../sina/ComparisonOperator','./typeConverter'],function(c,C,a,t){"use strict";var b=c.defineClass({_init:function(d){this.dataSource=d;},convertSinaToInaOperator:function(s){switch(s){case a.Eq:return'=';case a.Lt:return'<';case a.Gt:return'>';case a.Le:return'<=';case a.Ge:return'>=';case a.Co:return'=';case a.Bw:return'=';case a.Ew:return'=';default:throw new c.Exception('unknow comparison operator '+s);}},serializeComplexCondition:function(d){var r={Selection:{Operator:{Code:d.operator,SubSelections:[]}}};var s=d.conditions;for(var i=0;i<s.length;++i){var e=s[i];r.Selection.Operator.SubSelections.push(this.serialize(e));}return r;},serializeSimpleCondition:function(d){if(!d.value){return undefined;}var e=d.attribute;var f;if(e.slice(0,2)==='$$'){f=this.dataSource.sina.AttributeType.String;}else{var m=this.dataSource.getAttributeMetadata(e);f=m.type;}var o='MemberOperand';if(e==='$$SuggestionTerms$$'||e==='$$SearchTerms$$'){o='SearchOperand';}var r={};r[o]={AttributeName:e,Comparison:this.convertSinaToInaOperator(d.operator),Value:t.sina2Ina(f,d.value,{operator:d.operator})};return r;},serialize:function(d){if(d instanceof C){return this.serializeComplexCondition(d);}return this.serializeSimpleCondition(d);}});return{serialize:function(d,e){var s=new b(d);return s.serialize(e);}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/dataSourceSerializer.js":function(){sinaDefine(['../../core/core','../../sina/ComplexCondition','../../sina/ComparisonOperator'],function(c,C,a){"use strict";return{serialize:function(d){if(d.id==='All'&&d.type===d.sina.DataSourceType.Category){return{ObjectName:'$$ALL$$',PackageName:'ABAP',SchemaName:'',Type:'Category'};}var t;switch(d.type){case d.sina.DataSourceType.Category:t='Category';break;case d.sina.DataSourceType.BusinessObject:t='Connector';break;}return{ObjectName:d.id,PackageName:'ABAP',SchemaName:'',Type:t};}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/labelCalculation.js":function(){sinaDefine(['../../core/core','../../core/LabelCalculator'],function(c,L){"use strict";var m={};var s=function(i){if(i[6]!=='~'){return{system:'__DUMMY',client:'__DUMMY'};}return{system:i.slice(0,3),client:i.slice(3,6)};};m.createLabelCalculator=function(){return new L({key:function(d){var a=s(d.id);return[d.labelPlural,a.system,a.client];},data:function(d){return{label:d.label,labelPlural:d.labelPlural};},setLabel:function(d,l,a){l[0]=a.label;d.label=l.join(' ');l[0]=a.labelPlural;d.labelPlural=l.join(' ');},setFallbackLabel:function(d,a){d.label=a.label+' duplicate '+d.id;d.labelPlural=d.label;}});};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/pivotTableParser.js":function(){sinaDefine(['../../core/core'],function(c){"use strict";var m={};m.ResultSetParser=function(){this._init.apply(this,arguments);};m.ResultSetParser.prototype={_init:function(o){this.resultSet=o.resultSet;},parseNamedValue:function(n){var v;var a;var b;for(var p in n){switch(p){case'Name':a=n[p];break;case'Value':v=n[p];break;default:if(!b){b={};}b[p]=n[p];}}if(b){b.Value=v;return{name:a,value:b};}return{name:a,value:v};},formatItem:function(a){var l;if(a.NamedValues){l=a.NamedValues;}if(!l){return a;}var o={};for(var i=0;i<l.length;++i){var n=l[i];var p=this.parseNamedValue(n);o[p.name]=this.formatItem(p.value);}return o;},formatItems:function(a){var r={};for(var i=0;i<a.length;++i){var b=a[i];var f=this.formatItem(b);c.extend(r,f);}return r;},parse:function(){if(!this.resultSet.Grids||!this.resultSet.Grids[0]||!this.resultSet.Grids[0].Axes){return{cells:[],axes:[]};}this.enhance(this.resultSet);var g=this.resultSet.Grids[0];if(g.Cells.length>0){return this.parseWithCells(g);}return this.parseWithoutCells(g);},parseWithCells:function(g){var r={cells:[]};for(var i=0;i<g.Cells.length;i++){var a=g.Cells[i];var b=[];for(var j=0;j<a.Index.length;j++){var d=a.Index[j];var e=g.Axes[j];var f=this.resolve(e,d);b.push.apply(b,f);}var h=c.extend({},a);delete h.Index;b.push(h);r.cells.push(this.formatItems(b));}return r;},parseWithoutCells:function(g){var r={axes:[]};for(var i=0;i<g.Axes.length;++i){var a=g.Axes[i];var b=[];r.axes.push(b);for(var j=0;j<a.Tuples.length;++j){var d=this.resolve(a,j);b.push(this.formatItems(d));}}return r;},resolve:function(a,b){var d=[];if(a.Tuples.length===0){return d;}var t=a.Tuples[b];for(var i=0;i<t.length;++i){var e=t[i];var f=a.Dimensions[i].ItemList.Items[e];d.push(f);}return d;},enhance:function(r){var a={};for(var i=0;i<r.ItemLists.length;++i){var b=r.ItemLists[i];a[b.Name]=b;}for(var h=0;h<r.Grids.length;++h){var g=r.Grids[h];for(var j=0;j<g.Axes.length;++j){var d=g.Axes[j];for(var k=0;k<d.Dimensions.length;++k){var e=d.Dimensions[k];e.ItemList=a[e.ItemListName];}}}}};m.parse=function(r){var p=new m.ResultSetParser({resultSet:r});return p.parse();};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/qunit/test.js":function(){sinaDefine(['./testLabelCalculator','./testConfiguration','./testAjaxClient'],function(){"use strict";});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/qunit/testAjaxClient.js":function(){sinaDefine(['../../../core/ajax','../ajaxTemplates'],function(a,b){"use strict";QUnit.test('AjaxClient-1',function(c){var d=c.async();var e=new a.Client({csrf:true});e.getJson('/sap/es/ina/GetServerInfo').then(function(s){e.postJson('/sap/es/ina/GetResponse',b.loadDataSourcesRequest).then(function(r){c.ok(r.data.ItemLists[0].Items.length>0);d();});});});QUnit.test('AjaxClient-2',function(c){var d=c.async();var e=new a.Client({csrf:true,csrfFetchRequest:{method:'GET',url:'/sap/es/ina/GetServerInfo',headers:a.Client.prototype.jsonHeaders}});e.postJson('/sap/es/ina/GetResponse',b.loadDataSourcesRequest).then(function(r){c.ok(r.data.ItemLists[0].Items.length>0);d();});});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/qunit/testConfiguration.js":function(){sinaDefine(['../../../sina/sinaFactory'],function(s){"use strict";QUnit.test('Configuration',function(a){var d=a.async();s.createAsync('../Provider').then(function(b){b.getConfigurationAsync().then(function(c){c.setPersonalizedSearch(false);c.saveAsync().then(function(){c.resetPersonalizedSearchDataAsync().then(function(){a.equal(1,1);d();});});});});});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/qunit/testLabelCalculator.js":function(){sinaDefine(['../LabelCalculator'],function(L){"use strict";var t=function(a,s){var d=[];var l=new L();for(var i=0;i<s.length;++i){var b=s[i];l.calculateLabel(b.dataSource);d.push(b.dataSource);for(var j=0;j<=i;++j){a.equal(b.labels[j],d[j].label,'label comparison');a.equal(b.labelsPlural[j],d[j].labelPlural,'label plural comparison');}}};QUnit.test("LabelCalculator 1",function(a){t(a,[{dataSource:{id:'CER002~EPM_PO_DEMO~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order'],labelsPlural:['Purchase Orders']},{dataSource:{id:'CER002~EPM_SO_DEMO~',label:'Sales Order',labelPlural:'Sales Orders'},labels:['Purchase Order','Sales Order'],labelsPlural:['Purchase Orders','Sales Orders']},{dataSource:{id:'CES002~EPM_SO_DEMO~',label:'Sales Order',labelPlural:'Sales Orders'},labels:['Purchase Order','Sales Order CER','Sales Order CES'],labelsPlural:['Purchase Orders','Sales Orders CER','Sales Orders CES']},{dataSource:{id:'CES003~EPM_SO_DEMO~',label:'Sales Order',labelPlural:'Sales Orders'},labels:['Purchase Order','Sales Order CER','Sales Order CES 002','Sales Order CES 003'],labelsPlural:['Purchase Orders','Sales Orders CER','Sales Orders CES 002','Sales Orders CES 003']}]);});QUnit.test("LabelCalculator 2",function(a){t(a,[{dataSource:{id:'CER002~EPM_PO_DEMO~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order'],labelsPlural:['Purchase Orders']},{dataSource:{id:'CER003~EPM_PO_DEMO~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order CER 002','Purchase Order CER 003'],labelsPlural:['Purchase Orders CER 002','Purchase Orders CER 003']},{dataSource:{id:'CES003~EPM_PO_DEMO~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order CER 002','Purchase Order CER 003','Purchase Order CES'],labelsPlural:['Purchase Orders CER 002','Purchase Orders CER 003','Purchase Orders CES']},{dataSource:{id:'CES003~EPM_SO_DEMO~',label:'Sales Order',labelPlural:'Sales Orders'},labels:['Purchase Order CER 002','Purchase Order CER 003','Purchase Order CES','Sales Order'],labelsPlural:['Purchase Orders CER 002','Purchase Orders CER 003','Purchase Orders CES','Sales Orders']}]);});QUnit.test("LabelCalculator - system and client not sufficient for unique key",function(a){t(a,[{dataSource:{id:'CER002~EPM_PO_DEMO~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order'],labelsPlural:['Purchase Orders']},{dataSource:{id:'CER002~EPM_PO_DEMO_2~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order','Purchase Order#1'],labelsPlural:['Purchase Orders','Purchase Orders#1']}]);});QUnit.test("LabelCalculator - category",function(a){t(a,[{dataSource:{id:'EPM_Demo',label:'Procurement',labelPlural:'Procurement'},labels:['Procurement'],labelsPlural:['Procurement']}]);});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/suggestionParser.js":function(){sinaDefine(['../../core/core','./pivotTableParser','./typeConverter'],function(c,p,t){"use strict";var S=c.defineClass({_init:function(a){this.provider=a;this.sina=a.sina;},parseSuggestions:function(q,d){d=p.parse(d);var s=[];var a;var b;for(var i=0;i<d.cells.length;i++){a=null;var e=d.cells[i];if(e.$$Attribute$$!=='$$AllAttributes$$'){continue;}switch(e.$$Term$$.Scope){case'SearchHistory':if(e.$$DataSource$$==='$$AllDataSources$$'){a=this.parseSearchTermSuggestion(q,e);}break;case'ObjectData':if(e.$$DataSource$$==='$$AllDataSources$$'){a=this.parseSearchTermSuggestion(q,e);b=a;}else{a=this.parseSearchTermAndDataSourceSuggestion(q,e);if(a&&a.filter.dataSource!==b.filter.dataSource){b.childSuggestions.push(a);}a=null;}break;case'DataSources':if(e.$$DataSource$$==='$$AllDataSources$$'){a=this.parseDataSourceSuggestion(q,e);}break;}if(a){s.push(a);}}return s;},parseDataSourceSuggestion:function(q,a){var d=this.sina.getDataSource(a.$$Term$$.Value);if(!d){return null;}var f=q.filter.clone();f.setDataSource(d);return this.sina._createDataSourceSuggestion({calculationMode:this.sina.SuggestionCalculationMode.Data,dataSource:d,label:a.$$Term$$.ValueFormatted});},parseSearchTermSuggestion:function(q,a){var b=this.parseCalculationMode(a.$$Term$$.Scope);var f=q.filter.clone();f.setSearchTerm(a.$$Term$$.Value);return this.sina._createSearchTermSuggestion({searchTerm:a.$$Term$$.Value,calculationMode:b,filter:f,label:a.$$Term$$.ValueFormatted});},parseSearchTermAndDataSourceSuggestion:function(q,a){var b=this.parseCalculationMode(a.$$Term$$.Scope);var f=q.filter.clone();f.setSearchTerm(a.$$Term$$.Value);var d=this.sina.getDataSource(a.$$DataSource$$);if(!d){return null;}f.setDataSource(d);return this.sina._createSearchTermAndDataSourceSuggestion({searchTerm:a.$$Term$$.Value,dataSource:d,calculationMode:b,filter:f,label:a.$$Term$$.ValueFormatted});},parseCalculationMode:function(s){switch(s){case'SearchHistory':return this.sina.SuggestionCalculationMode.History;case'ObjectData':return this.sina.SuggestionCalculationMode.Data;}}});return{parse:function(a,s,d){var b=new S(a);return b.parseSuggestions(s,d);}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/suggestionTermSplitter.js":function(){sinaDefine(['../../core/core'],function(c){"use strict";var S=c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;},split:function(t){var s=t.lastIndexOf(' ');if(s<0){return{searchTerm:null,suggestionTerm:t};}var a=t.slice(0,s);a=a.replace(/\s+$/,"");if(a.length===0){return{searchTerm:null,suggestionTerm:t};}var b=t.slice(s);b=b.replace(/^\s+/,"");if(b.length===0){return{searchTerm:null,suggestionTerm:t};}return{searchTerm:a,suggestionTerm:b};},concatenate:function(s,a){if(!s.searchTerm){return;}var t;var b=[];var d=s.searchTerm.split(' ');for(var k=0;k<d.length;k++){t=d[k];t=t.trim();b.push({term:t,regExp:new RegExp(this.escapeRegExp(t),'i')});}for(var i=0;i<a.length;++i){var e=a[i];if(e.suggestionType!==this.sina.SuggestionType.SearchTerm&&e.suggestionType!==this.sina.SuggestionType.SearchTermAndDataSource){continue;}var n=[];for(var j=0;j<b.length;++j){var f=b[j];if(!f.regExp.test(e.filter.searchTerm)){n.push(f.term);}}var p=[];var g=n.join(' ');for(var l=0;l<n.length;l++){t=n[l];p.push('<b>'+t+'</b>');}p=p.join(' ');e.label=p+' '+e.label;e.filter.searchTerm=e.searchTerm=g+' '+e.filter.searchTerm;this.concatenate(s,e.childSuggestions);}},escapeRegExp:function(s){return s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");}});return{split:function(p,t){var s=new S(p,t);return s.split(t);},concatenate:function(p,s,a){var b=new S(p);return b.concatenate(s,a);}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/typeConverter.js":function(){sinaDefine(['../../core/core','../../sina/util','../../sina/AttributeType','../../sina/ComparisonOperator'],function(c,s,A,C){"use strict";return{sina2Ina:function(a,v,b){b=b||{};switch(a){case A.Double:return v.toString();case A.Integer:return v.toString();case A.String:return this.sina2InaString(v,b);case A.ImageUrl:return v;case A.ImageBlob:throw new c.Exception('not implemented');case A.GeoJson:return v;case A.Date:return this.sina2InaDate(v,b);case A.Time:return this.sina2InaTime(v);case A.Timestamp:return this.sina2InaTimestamp(v);default:throw new c.Exception('unknown attribute type '+a);}},ina2Sina:function(a,v){switch(a){case A.Double:return parseFloat(v);case A.Integer:return parseInt(v,10);case A.String:return v;case A.ImageUrl:return v;case A.ImageBlob:throw new c.Exception('not implemented');case A.GeoJson:return v;case A.Date:return this.ina2SinaDate(v);case A.Time:return this.ina2SinaTime(v);case A.Timestamp:return this.ina2SinaTimestamp(v);default:throw new c.Exception('unknown attribute type '+a);}},ina2SinaTimestamp:function(v){v=v.trim();var y,m,a,h,b,e,f;if(v.indexOf('-')>=0){y=parseInt(v.slice(0,4),10);m=parseInt(v.slice(5,7),10);a=parseInt(v.slice(8,10),10);h=parseInt(v.slice(11,13),10);b=parseInt(v.slice(14,16),10);e=parseInt(v.slice(17,19),10);f=parseInt(v.slice(20,20+6),10);}else{y=parseInt(v.slice(0,4),10);m=parseInt(v.slice(4,6),10);a=parseInt(v.slice(6,8),10);h=parseInt(v.slice(8,10),10);b=parseInt(v.slice(10,12),10);e=parseInt(v.slice(12,14),10);f=parseInt(v.slice(15,15+6),10);}var d=new Date(Date.UTC(y,m-1,a,h,b,e,f/1000));return d;},sina2InaTimestamp:function(v){var y=v.getUTCFullYear();var m=v.getUTCMonth()+1;var d=v.getUTCDate();var h=v.getUTCHours();var a=v.getUTCMinutes();var b=v.getUTCSeconds();var e=v.getUTCMilliseconds()*1000;var r=this.addLeadingZeros(y.toString(),4)+'-'+this.addLeadingZeros(m.toString(),2)+'-'+this.addLeadingZeros(d.toString(),2)+' '+this.addLeadingZeros(h.toString(),2)+':'+this.addLeadingZeros(a.toString(),2)+':'+this.addLeadingZeros(b.toString(),2)+'.'+this.addLeadingZeros(e.toString(),6);return r;},ina2SinaTime:function(v){v=v.trim();if(v.length===6){return v.slice(0,2)+':'+v.slice(2,4)+':'+v.slice(4,6);}if(v.length===8){return v.slice(0,2)+':'+v.slice(3,5)+':'+v.slice(6,8);}throw new c.Exception('time conversion error '+v);},sina2InaTime:function(v){return v.slice(0,2)+':'+v.slice(3,5)+':'+v.slice(6,8);},ina2SinaDate:function(v){v=v.trim();if(v.length===8){return v.slice(0,4)+'/'+v.slice(4,6)+'/'+v.slice(6,8);}if(v.length===27){return v.slice(0,4)+'/'+v.slice(5,7)+'/'+v.slice(8,10);}throw new c.Exception('date conversion error '+v);},sina2InaDate:function(v,a){var r=v.slice(0,4)+'-'+v.slice(5,7)+'-'+v.slice(8,10);if(a.operator===C.Lt||a.operator===C.Le){r+=' 23:59:59.0000000';}else{r+=' 00:00:00.0000000';}return r;},sina2InaString:function(v,a){return s.convertOperator2Wildcards(v,a.operator);},addLeadingZeros:function(v,l){return'00000000000000'.slice(0,l-v.length)+v;}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/multi/FacetMode.js":function(){sinaDefine([],function(){"use strict";return{'tree':'tree','flat':'flat'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/multi/FederationMethod.js":function(){sinaDefine(['./FederationType'],function(F){"use strict";var m={};m.ranking={};m.ranking.sort=function(r){var c=[];for(var j=0;j<r.length;j++){c=c.concat(r[j]);}c.sort(function(a,b){var d=b.score-a.score;return d;});return c;};m.roundRobin={};m.roundRobin.sort=function(r){var s=[];for(var i=0;i<r.length;i++){s=m.roundRobin.mergeMultiResults(s,r[i],i+1);}return s;};m.roundRobin.mergeMultiResults=function(f,s,a){if(a<1){return[];}if(a===1){return s;}var b=f.length;var c=s.length;var r=[];for(var k=0;k<b;k++){r.push(f[k]);}for(var i=0;i<b;i++){if(i>=c){break;}r.splice(a*(i+1)-1,0,s[i]);}if(c>b){r=r.concat(s.slice(b-c));}return r;};m.advancedRoundRobin={};m.advancedRoundRobin.sort=function(c){var d=[];for(var j=0;j<c.length;j++){d=d.concat(c[j]);}var e;var f={};for(var i=0;i<d.length;i++){e=d[i].dataSource.id;if(!f[e]){f[e]=[];}f[e].push(d[i]);}var g=[];var h=0;for(var k in f){var l=f[k][0];e=l.dataSource.id;var s=l.score;g.push({dataSourceId:e,score:s,index:h});h++;}g.sort(function(a,b){var t=b.score-a.score;if(t===0){t=a.index-b.index;}return t;});var n=[];var o=0;for(var r=0;r<d.length;){var p=g[o];var q=f[p.dataSourceId];if(q.length>0){n.push(q.shift());r++;}o=(o+1)%g.length;}return n;};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/multi/FederationType.js":function(){sinaDefine([],function(){"use strict";return{'ranking':'ranking','round_robin':'roundRobin','advanced_round_robin':'advancedRoundRobin'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/multi/Provider.js":function(){sinaDefine(['../../core/core','../../sina/sinaFactory','./ProviderHelper','./FederationMethod','./FederationType','./FacetMode'],function(c,s,P,F,a,b){"use strict";return c.defineClass({id:'multi',_initAsync:function(p){this.sina=p.sina;this.facetMode=b[p.facetMode]||b.flat;this.federationType=a[p.federationType]||a.advanced_round_robin;this.multiSina=[];this.multiDataSourceMap={};this.sina.dataSourceMap[this.sina.allDataSource.id]=this.sina.allDataSource;this.providerHelper=new P(this);this.federationMethod=F;var d=function(e){if(e>=p.subProviders.length){if(this.multiSina.length<1){return c.Promise.reject(new c.Exception('sina creation by trial failed'));}return undefined;}var f=p.subProviders[e];return s.createAsync(f).then(function(g){this.providerHelper.updateProviderId(g);for(var i=0;i<g.dataSources.length;i++){var h=g.dataSources[i];var m=this.providerHelper.calculateMultiDataSourceId(h.id,g.provider.id);this.providerHelper.createMultiDataSource(m,h);this.multiDataSourceMap[m]=h;}this.multiSina.push(g);return d(e+1);}.bind(this),function(){return d(e+1);});}.bind(this);return d(0);},executeSearchQuery:function(q){var t=this;var d;t.searchResultSet=t.sina._createSearchResultSet({title:'Search Multi Result List',query:q,items:[],totalCount:0,facets:[]});t.searchResultSetItemList=[];if(q.filter.dataSource===t.sina.allDataSource){t.searchResultSet.facets.push(t.sina._createDataSourceResultSet({title:q.filter.dataSource.label,items:[],query:q}));var e=[];for(var i=0;i<t.multiSina.length;i++){d=t.multiSina[i].createSearchQuery({calculateFacets:q.calculateFacets,multiSelectFacets:q.multiSelectFacets,dataSource:t.multiSina[i].allDataSource,searchTerm:q.getSearchTerm(),top:q.top,skip:q.skip,sortOrder:q.sortOrder});e.push(d.getResultSetAsync());}return c.Promise.all(e).then(function(g){for(var j=0;j<g.length;j++){var h=g[j];for(var k=0;k<h.items.length;k++){var l=h.items[k];var m=t.providerHelper.calculateMultiDataSourceId(l.dataSource.id,l.sina.provider.id);var n=t.sina.dataSourceMap[m];l.dataSource=n;l.sina=t.sina;}t.searchResultSet.totalCount+=h.totalCount;t.searchResultSetItemList.push(h.items);if(h.facets[0]){if(t.facetMode===b.tree){var f=t.sina.getDataSource(t.providerHelper.calculateMultiDataSourceId(h.query.filter.dataSource.id,h.sina.provider.id));t.searchResultSet.facets[0].items.push(t.sina._createDataSourceResultSetItem({dataSource:f,dimensionValueFormatted:t.providerHelper.calculateMultiDataSourceLabel(h.query.filter.dataSource.label,h.sina.provider),measureValue:h.totalCount,measureValueFormatted:h.totalCount}));}else{var o=t.providerHelper.updateDataSourceFacets(h.facets);o[0].items.forEach(function(p){t.searchResultSet.facets[0].items.push(p);});}}}t.searchResultSet.items=t.federationMethod[t.federationType].sort(t.searchResultSetItemList);t.searchResultSet.items=t.searchResultSet.items.slice(q.skip,q.top);return t.searchResultSet;});}var f=t.multiDataSourceMap[q.filter.dataSource.id];var r=q.getRootCondition().clone();t.providerHelper.updateRootCondition(r,f.sina);d=f.sina.createSearchQuery({calculateFacets:q.calculateFacets,multiSelectFacets:q.multiSelectFacets,dataSource:f,searchTerm:q.getSearchTerm(),rootCondition:r,top:q.top,skip:q.skip,sortOrder:q.sortOrder});return d.getResultSetAsync().then(function(g){t.searchResultSet.items=g.items;t.searchResultSet.totalCount=g.totalCount;for(var i=0;i<t.searchResultSet.items.length;i++){var h=t.searchResultSet.items[i];var j=t.providerHelper.calculateMultiDataSourceId(h.dataSource.id,h.sina.provider.id);t.providerHelper.updateAttributesMetadata(h.dataSource,t.sina.dataSourceMap[j]);h.dataSource=t.sina.dataSourceMap[j];h.sina=t.sina;}var m;if(g.facets.length===1&&g.facets[0].items[0].dataSource){m=g.facets;m[0].title=t.providerHelper.calculateMultiDataSourceLabel(g.facets[0].title,g.facets[0].sina.provider);t.providerHelper.updateDataSourceFacets(m);}else{m=[];for(var k=0;k<g.facets.length;k++){var l=g.facets[k];m.push(t.providerHelper.createMultiChartResultSet(l));}}t.searchResultSet.facets=m;return t.searchResultSet;});},executeChartQuery:function(q){var t=this;var d=t.multiDataSourceMap[q.filter.dataSource.id];var r=q.getRootCondition().clone();t.providerHelper.updateRootCondition(r,d.sina);var e=d.sina.createChartQuery({dimension:q.dimension,dataSource:d,searchTerm:q.getSearchTerm(),rootCondition:r,top:q.top,skip:q.skip,sortOrder:q.sortOrder});return e.getResultSetAsync().then(function(f){return t.providerHelper.createMultiChartResultSet(f);});},executeSuggestionQuery:function(q){var t=this;var d;if(q.filter.dataSource===t.sina.allDataSource){var e=[];for(var i=0;i<t.multiSina.length;i++){d=t.multiSina[i].createSuggestionQuery({types:q.types,calculationModes:q.calculationModes,dataSource:t.multiSina[i].allDataSource,searchTerm:q.getSearchTerm(),top:q.top,skip:q.skip,sortOrder:q.sortOrder});e.push(d.getResultSetAsync());}return c.Promise.all(e).then(function(r){var m=t.sina._createSuggestionResultSet({title:'Multi Suggestions',query:q,items:[]});for(var j=0;j<r.length;j++){var g=t.providerHelper.updateSuggestionDataSource(r[j]);m.items=t.federationMethod.roundRobin.mergeMultiResults(m.items,g.items,j+1);}return m;});}var f=t.multiDataSourceMap[q.filter.dataSource.id];d=f.sina.createSuggestionQuery({types:q.types,calculationModes:q.calculationModes,dataSource:f,searchTerm:q.getSearchTerm(),top:q.top,skip:q.skip,sortOrder:q.sortOrder});return d.getResultSetAsync().then(function(r){return t.providerHelper.updateSuggestionDataSource(r);});}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/multi/ProviderHelper.js":function(){sinaDefine(['../../core/core'],function(c){"use strict";return c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;},calculateMultiDataSourceLabel:function(l,p){if(p.label){var i=p.label||p.id;return l+' - '+i;}return l;},calculateMultiDataSourceId:function(i,a){return a+'_'+i;},updateProviderId:function(a){var i=0;for(;;){if(i!==0){a.provider.id=a.provider.id+"_"+i;}var d=this.findSinaById(a.provider.id);if(d){i++;continue;}else{break;}}},createMultiDataSource:function(i,d){return this.sina._createDataSource({id:i,label:this.calculateMultiDataSourceLabel(d.label,d.sina.provider),labelPlural:this.calculateMultiDataSourceLabel(d.labelPlural,d.sina.provider),type:d.type,hidden:d.hidden,attributesMetadata:d.attributesMetadata});},findSinaById:function(p){for(var i=0;i<this.provider.multiSina.length;i++){var a=this.provider.multiSina[i];if(p===a.provider.id){return a;}}return undefined;},updateAttributesMetadata:function(d,a){a.attributesMetadata=d.attributesMetadata;a.attributeMetadataMap=d.attributeMetadataMap;},updateSuggestionDataSource:function(r){for(var i=0;i<r.items.length;i++){var a=r.items[i];if(a.childSuggestions){for(var j=0;j<a.childSuggestions.length;j++){var b=a.childSuggestions[j];var d=this.calculateMultiDataSourceId(b.dataSource.id,b.sina.provider.id);b.dataSource=this.sina.dataSourceMap[d];b.filter.dataSource=this.sina.dataSourceMap[d];}}if(a.dataSource){var m=this.calculateMultiDataSourceId(a.dataSource.id,a.sina.provider.id);var e=this.createMultiDataSource(m,a.dataSource);a.dataSource=e;a.sina=this.sina;}}return r;},createMultiChartResultSet:function(a){var t=this;var m=t.sina._createChartResultSet({id:a.id,items:[],query:a.query,title:a.title});for(var i=0;i<a.items.length;i++){var b=a.items[i];var d=t.sina.parseConditionFromJson(b.filterCondition.toJson());m.items.push(t.sina._createChartResultSetItem({filterCondition:d,dimensionValueFormatted:b.dimensionValueFormatted,measureValue:b.measureValue,measureValueFormatted:b.measureValueFormatted}));}return m;},updateDataSourceFacets:function(r){for(var j=0;j<r[0].items.length;j++){var f=r[0].items[j];if(f.dataSource){var a=this.calculateMultiDataSourceId(f.dataSource.id,f.sina.provider.id);if(!this.provider.multiDataSourceMap[a]){this.createMultiDataSource(a,f.dataSource);this.provider.multiDataSourceMap[a]=f.dataSource;}f.dataSource=this.sina.dataSourceMap[a];}}return r;},updateRootCondition:function(r,a){var t=this;r.sina=a;if(r.conditions&&r.conditions.length>0){for(var i=0;i<r.conditions.length;i++){t.updateRootCondition(r.conditions[i],a);}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/Provider.js":function(){sinaDefine(['../../core/core','../../core/util','./template','./template2','../../sina/NavigationTarget'],function(c,u,t,a,N){"use strict";return c.defineClass({id:'sample',instanceCounterStr:"0",_initAsync:function(p){var b=this;b.sina=p.sina;b.NavigationTarget=N;this.sina.util.sampleProviderInstanceCounter++;b.instanceCounterStr=""+this.sina.util.sampleProviderInstanceCounter;var d;var f=0;if(document.location.href.indexOf("use=sample1")>0){f=1;}else if(document.location.href.indexOf("use=sample2")>0){f=2;}if(f===1){b.templateProvider=a;}else if(f===2){b.templateProvider=t;}else if(parseInt(b.instanceCounterStr,10)%2===1){b.templateProvider=t;}else{b.templateProvider=a;}d=b.templateProvider(b);d._init(d);var r=c.Promise.resolve({capabilities:this.sina._createCapabilities({fuzzy:false})});return r;},getSuggestionList:function(b){var l=this._stringify(b);var r=new RegExp("\"valueFormatted\"\:\"([^\{/]+?)\",\"valueHighlighted","g");var m=[];l.replace(r,function(){m.push(arguments[1]);});var s=m.toString().split(' ');s=s.toString().split(',');m=m.concat(s);m=m.filter(function(i,p){if(i!==''){return m.indexOf(i)==p;}});return m;},_stringify:function(o){var b=[];var s=JSON.stringify(o,function(k,v){if(typeof v==='object'&&v!==null){if(b.indexOf(v)!==-1){return undefined;}b.push(v);}return v;});b=null;return s;},adjustImageViewing:function(){var b,d,l;try{$(".sapUshellSearchResultListItem-Image").on('mouseenter',function(){b=$(this).clone();$('body').append(b);d=($(window).height()-$(b).outerHeight())*0.33;l=($(window).width()-$(b).outerWidth())*0.33;b.css({position:"absolute",top:d+"px",left:l+"px"}).show();});$(".sapUshellSearchResultListItem-Image").on('mouseleave',function(){b.remove();});}catch(e){}},applyFilters:function(b,s){var d=[];if(!s.filter.rootCondition.conditions.length>0||!s.filter.rootCondition.conditions[0].conditions.length>0){return b;}var e=[];var f=[];for(var g=0;g<s.filter.rootCondition.conditions.length;g++){var l=s.filter.rootCondition.conditions[g].conditions;for(var h=0;h<l.length;h++){e.push([l[h].attribute,l[h].value]);f.push(l[h].attribute);}}var o=false;for(var i=0;i<b.length;i++){var q=b[i];var r=[];for(var j=0;j<e.length;j++){o=false;for(var k=0;k<q.detailAttributes.length;k++){var v=q.detailAttributes[k];if(v.id===e[j][0]&&v.value===e[j][1]){o=true;}}for(var m=0;m<q.titleAttributes.length;m++){var w=q.titleAttributes[m];if(w.id===e[j][0]&&w.value===e[j][1]){o=true;}}e[j][2]=o;r.push(o);}if(r.toString().match(/false/)===null){d.push(q);}else{var x=[];var y=f.filter(function(q,A){return f.indexOf(q)==A;});for(var n=0;n<y.length;n++){o=false;var z=y[n];for(var p=0;p<e.length;p++){if(e[p][0]===z&&e[p][2]===true){o=true;break;}}x.push(o);}if(x.toString().match(/false/)===null){d.push(q);}}}return d;},adjustHighlights:function(b,s){var n=[];var d="";for(var i=0;i<b.length;i++){var e=b[i];var f=true;d="";e.titleHighlighted=this.addHighlight(e.title,s);if(e.titleHighlighted!==e.title){f=false;}for(var j=0;j<e.detailAttributes.length;j++){var g=e.detailAttributes[j];d=g.metadata.type;if(d==="String"||d==="Integer"){g.valueHighlighted=this.addHighlight(g.valueFormatted,s);if(g.valueHighlighted!==g.valueFormatted){f=false;}}}for(var k=0;k<e.titleAttributes.length;k++){var h=e.titleAttributes[k];d=h.metadata.type;if(d==="String"||d==="Integer"||d==="ImageUrl"){h.valueHighlighted=this.addHighlight(h.valueFormatted,s);if(h.valueHighlighted!==h.valueFormatted){f=false;}}}if(f===false||s==="*"){n.push(e);}}return n;},addHighlight:function(h,s){if(typeof h!=="string"||typeof s!=="string"){return h;}var p=h.toLowerCase().indexOf(s.toLowerCase());if(p>-1){var b=p+s.length;var n=h.substring(0,p)+'<b>'+h.substring(p,b)+'</b>'+h.substring(b);return n;}return h;},addSuvLinkToSearchResultItem:function(s,b,d){var e=this.sina._createSuvNavTargetResolver();if(!b){b='/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/docs/folklorist_authors_and_publications.suv';}if(!d){d=[];}var f={};f.obj={suvThumbnailAttribute:s,suvTargetMimeTypeAttribute:{value:'application/vnd.sap.universal-viewer+suv'},suvTargetUrlAttribute:{value:b}};e.resolveSuvNavTargets(null,f,d);},augmentDetailAttributes:function(r){for(var i=0;i<r.length;i++){var b=r[i].detailAttributes;for(var j=0;j<b.length;j++){var d=b[j];d=u.addPotentialNavTargetsToAttribute(this.sina,d);}}return r;},executeSearchQuery:function(s){var b=this;b.searchQuery=s;return new c.Promise(function(r,d){var e,f,g;var i=b.templateProvider(b);var h=i.searchResultSetItemArray;h=b.augmentDetailAttributes(h);var j=i.searchResultSetItemArray2;j=b.augmentDetailAttributes(j);var k=h.concat(j);var l;if(i.searchResultSetItemArray3){l=i.searchResultSetItemArray3;k=h.concat(l);}b.searchQuery=s;f=s.filter.searchTerm;g=s.filter.dataSource.id;var m=b.generateFacets(s);var n;if(g==="Scientists"||g==="Folklorists"){n=b.adjustHighlights(h,f);n=b.applyFilters(n,s);e=b.sina._createSearchResultSet({items:n,facets:m,type:"",query:s,title:"",totalCount:n.length});}else if(g==="Mysterious_Sightings"||g==="Urban_Legends"){n=b.adjustHighlights(j,f);n=b.applyFilters(n,s);e=b.sina._createSearchResultSet({items:n,facets:m,type:"",query:s,title:"",totalCount:n.length});}else if(g==="Publications"){n=b.adjustHighlights(l,f);n=b.applyFilters(n,s);e=b.sina._createSearchResultSet({items:n,facets:m,type:"",query:s,title:"",totalCount:n.length});}else if(g==="All"){n=b.adjustHighlights(h,f);n=b.applyFilters(n,s);var o=n.length;n=b.adjustHighlights(j,f);n=b.applyFilters(n,s);var p=n.length;var q="";if(l){n=b.adjustHighlights(l,f);n=b.applyFilters(n,s);q=n.length;}m[0].items[0].measureValue=o;m[0].items[0].measureValueFormatted=''+o;m[0].items[1].measureValue=p;m[0].items[1].measureValueFormatted=''+p;if(l&&m[0].items.length>2){m[0].items[2].measureValue=q;m[0].items[2].measureValueFormatted=''+q;}n=b.adjustHighlights(k,f);n=b.applyFilters(n,s);e=b.sina._createSearchResultSet({items:n,facets:m,type:"",query:s,title:"",totalCount:n.length});}r(e);});},executeSuggestionQuery:function(q){var b=this;var d=q.filter.searchTerm;var e=this.templateProvider(this);var f=e.searchResultSetItemArray.concat(e.searchResultSetItemArray2).concat(e.searchResultSetItemArray3);var g=this.getSuggestionList(f);var h=g.filter(function(s){var k=new RegExp("^"+d,"gi");return s.match(k);});if(h.length===0){h=g;}var j=[];var S=function(k){var l=b.sina.SuggestionCalculationMode.Data;var m=q.filter.clone();m.setSearchTerm(k);return b.sina._createSearchTermSuggestion({searchTerm:k,calculationMode:l,filter:m,label:k});};for(var i=0;i<h.length;i++){j.push(new S(h[i]));}var r=this.sina._createSuggestionResultSet({title:'Suggestions',query:q,items:j});return new c.Promise(function(k,l){k(r);});},executeChartQuery:function(q){var b=this.generateFacets(q);var w=1;if(q.dimension==="LOCATION"||b.length===1){w=0;}return new c.Promise(function(r,d){r(b[w]);});},getChartResultSetItemsForLocations:function(r){var b=[];var d=this;var l;var e=[];var f,i,j,k,g;for(i=0;i<r.length;i++){g=r[i].detailAttributes;for(j=0;j<g.length;j++){if(g[j].id==="LOCATION"){l=g[j].value;if(e.indexOf(l)===-1){e.push(l);f=d.sina._createChartResultSetItem({filterCondition:d.sina.createSimpleCondition({attribute:"LOCATION",operator:d.sina.ComparisonOperator.Equals,value:l}),dimensionValueFormatted:l,measureValue:1,measureValueFormatted:'1',dataSource:d.searchQuery.filter.dataSource});b.push(f);}else{for(k=0;k<b.length;k++){if(b[k].filterCondition.value===l){b[k].measureValue=b[k].measureValue+1;b[k].measureValueFormatted=''+b[k].measureValue;}}}}}}return b;},getChartResultSetItemsForPublications:function(r){var b=[];var d=this;var l;var e=[];var f,i,j,k,g;for(i=0;i<r.length;i++){g=r[i].detailAttributes;for(j=0;j<g.length;j++){if(g[j].id==="PUBLICATION"){l=g[j].value;if(e.indexOf(l)===-1){e.push(l);f=d.sina._createChartResultSetItem({filterCondition:d.sina.createSimpleCondition({attribute:"PUBLICATION",operator:d.sina.ComparisonOperator.Equals,value:l}),dimensionValueFormatted:l,measureValue:1,measureValueFormatted:'1',dataSource:d.searchQuery.filter.dataSource});b.push(f);}else{for(k=0;k<b.length;k++){if(b[k].filterCondition.value===l){b[k].measureValue=b[k].measureValue+1;b[k].measureValueFormatted=''+b[k].measureValue;}}}}}}return b;},getSientistOrFolkloristFacet:function(s,r){var b=this;var d;var e=[];var f,i,j,k,g,h;var l=[];for(i=0;i<r.length;i++){g=r[i].titleAttributes;if(s.filter.dataSource.id==="Mysterious_Sightings"||s.filter.dataSource.id==="Urban_Legends"||s.filter.dataSource.id==="Publications"){g=r[i].detailAttributes;}for(j=0;j<g.length;j++){if(g[j].id==="SCIENTIST"||g[j].id==="FOLKLORIST"){d=g[j].value;h=g[j].id;if(e.indexOf(d)===-1){e.push(d);f=b.sina._createChartResultSetItem({filterCondition:b.sina.createSimpleCondition({attribute:g[j].id,operator:b.sina.ComparisonOperator.Equals,value:d}),dimensionValueFormatted:d,measureValue:1,measureValueFormatted:'1',dataSource:b.searchQuery.filter.dataSource});l.push(f);}else{for(k=0;k<l.length;k++){if(l[k].filterCondition.value===d){l[k].measureValue=l[k].measureValue+1;l[k].measureValueFormatted=''+l[k].measureValue;}}}}}}return[l,h];},getTopFacetOnly:function(s){var b=this;var d=s.filter.sina.allDataSource;var e=[b.sina._createDataSourceResultSetItem({dataSource:s.filter.sina.dataSources[1],dimensionValueFormatted:d.labelPlural,measureValue:4,measureValueFormatted:'4'}),b.sina._createDataSourceResultSetItem({dataSource:s.filter.sina.dataSources[2],dimensionValueFormatted:d.labelPlural,measureValue:5,measureValueFormatted:'5'}),b.sina._createDataSourceResultSetItem({dataSource:s.filter.sina.dataSources[3],dimensionValueFormatted:d.labelPlural,measureValue:1,measureValueFormatted:'1'})];var f=[b.sina._createDataSourceResultSet({title:s.filter.dataSource.label,titleHighlighted:s.filter.dataSource.label,items:e,query:s})];return f;},generateFacets:function(s){var b=this;if(s.filter.dataSource.id==="All"){return b.getTopFacetOnly(s);}var d=[];var e;var g=this.templateProvider(this);var f=b.sina.createFilter({searchTerm:b.searchQuery.filter.searchTerm,dataSource:b.searchQuery.filter.dataSource,rootCondition:b.searchQuery.filter.rootCondition.clone()});var h=[];var r,i,j;if(s.filter.dataSource.id==="Publications"){r=g.searchResultSetItemArray3;}else if(s.filter.dataSource.id==="Scientists"||s.filter.dataSource.id==="Folklorists"){r=g.searchResultSetItemArray;}else if(s.filter.dataSource.id==="Urban_Legends"||s.filter.dataSource.id==="Mysterious_Sightings"){r=g.searchResultSetItemArray2;}if(s.filter.dataSource.id==="Scientists"||s.filter.dataSource.id==="Mysterious_Sightings"){h=b.getChartResultSetItemsForLocations(r);e=b.sina._createChartResultSet({items:h,query:b.sina.createChartQuery({filter:f,dimension:"LOCATION"}),title:"Locations",type:''});d.push(e);}i=b.getSientistOrFolkloristFacet(s,r);h=i[0];j=i[1];e=b.sina._createChartResultSet({items:h,query:b.sina.createChartQuery({filter:f,dimension:j}),title:j.charAt(0).toUpperCase()+j.slice(1).toLowerCase()+"s",type:''});d.push(e);return d;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/template.js":function(){sinaDefine(['./template_metadata','./template_details_folklorists','./template_details_legends','./template_details_publications'],function(t,a,b,c){"use strict";this.template_metadata=t;this.template_details_folklorists=a;this.template_details_legends=b;this.template_details_publications=c;return function(C){var g={};g.metadata=[];g.metadata2=[];g.metadata3=[];g.getMetadataById=function(l,k){var r=null;for(var i=0;i<l.length;i++){if(l[i].id===k){r=l[i];break;}}return r;};g.searchResultSetItemArray=[];g.searchResultSetItemArray2=[];g.searchResultSetItemArray3=[];g.chartResultSetArray=[];var d,e;g._init=function(m){var k=m.metadata;var l=m.metadata2;var n=m.metadata3;C.sina._createDataSource({id:"Folklorists",label:"Folklorist",labelPlural:"Folklorists",type:C.sina.DataSourceType.BusinessObject,attributesMetadata:k});C.sina._createDataSource({id:"Urban_Legends",label:"Urban Legend",labelPlural:"Urban Legends",type:C.sina.DataSourceType.BusinessObject,attributesMetadata:l});C.sina._createDataSource({id:"Publications",label:"Publication",labelPlural:"Publications",type:C.sina.DataSourceType.BusinessObject,attributesMetadata:n});};if(C.sina){g.metadata=t(C).metadata;g.metadata2=t(C).metadata2;g.metadata3=t(C).metadata3;}if(C.searchQuery&&C.searchQuery.filter&&C.searchQuery.filter.dataSource&&C.sina&&C.NavigationTarget&&C.sina.getDataSource("Folklorists")){var s=[];var f=C.searchQuery.filter.searchTerm;f=f.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var h=f.split(" ");for(var i=0;i<h.length;i++){var j=h[i];if(j.match(/\w/)!==null){s.push(j);}}d=[C.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Andrew McCain',valueFormatted:'Andrew McCain',metadata:g.getMetadataById(g.metadata,"FOLKLORIST")})];e=a(C,g).george;C.addSuvLinkToSearchResultItem(e[10],null,s);g.searchResultSetItemArray.push(C.sina._createSearchResultSetItem({title:d[0].valueFormatted,titleHighlighted:d[0].valueFormatted,dataSource:C.sina.getDataSource("Folklorists"),titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));d=[C.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Carol Mandelbaum',valueFormatted:'Carol Mandelbaum',metadata:g.getMetadataById(g.metadata,"FOLKLORIST")})];e=a(C,g).shira;g.searchResultSetItemArray.push(C.sina._createSearchResultSetItem({title:d[0].valueFormatted,titleHighlighted:d[0].valueFormatted,dataSource:C.sina.getDataSource("Folklorists"),titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));d=[C.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Ryan Anderson',valueFormatted:'Ryan Anderson',metadata:g.getMetadataById(g.metadata,"FOLKLORIST")})];e=a(C,g).benjamin;g.searchResultSetItemArray.push(C.sina._createSearchResultSetItem({title:d[0].valueFormatted,titleHighlighted:d[0].valueFormatted,dataSource:C.sina.getDataSource("Folklorists"),titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));d=[C.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Simon Kingston',valueFormatted:'Simon Kingston',metadata:g.getMetadataById(g.metadata,"FOLKLORIST")})];e=a(C,g).richard;g.searchResultSetItemArray.push(C.sina._createSearchResultSetItem({title:d[0].valueFormatted,titleHighlighted:d[0].valueFormatted,dataSource:C.sina.getDataSource("Folklorists"),titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));d=[C.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Cynthia MacDonald',valueFormatted:'Cynthia MacDonald',metadata:g.getMetadataById(g.metadata,"FOLKLORIST")})];e=a(C,g).rosalie;g.searchResultSetItemArray.push(C.sina._createSearchResultSetItem({title:d[0].valueFormatted,titleHighlighted:d[0].valueFormatted,dataSource:C.sina.getDataSource("Folklorists"),titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));d=[C.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Douglas Milford',valueFormatted:'Douglas Milford',metadata:g.getMetadataById(g.metadata,"FOLKLORIST")})];e=a(C,g).bill;g.searchResultSetItemArray.push(C.sina._createSearchResultSetItem({title:d[0].valueFormatted,titleHighlighted:d[0].valueFormatted,dataSource:C.sina.getDataSource("Folklorists"),titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'Sewer Alligator',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];e=b(C,g).alligator;g.searchResultSetItemArray2.push(C.sina._createSearchResultSetItem({title:d[0].valueFormatted,titleHighlighted:d[0].valueFormatted,dataSource:C.sina.getDataSource("Urban_Legends"),titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e,defaultNavigationTarget:new C.NavigationTarget({label:'Alligators in the Sewers, Wikipedia',targetUrl:'https://en.wikipedia.org/wiki/Sewer_alligator',target:'_blank'})}));d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'Slender Man',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];e=b(C,g).slenderman;g.searchResultSetItemArray2.push(C.sina._createSearchResultSetItem({title:d[0].valueFormatted,titleHighlighted:d[0].valueFormatted,dataSource:C.sina.getDataSource("Urban_Legends"),titleAttributes:d,detailAttributes:e,titleDescriptionAttributes:[],defaultNavigationTarget:new C.NavigationTarget({label:'Slender Man, Wikipedia',targetUrl:'https://en.wikipedia.org/wiki/Slender_Man',target:'_blank'})}));d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'Chupacabra',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];e=b(C,g).chupacabra;g.searchResultSetItemArray2.push(C.sina._createSearchResultSetItem({title:d[0].valueFormatted,titleHighlighted:d[0].valueFormatted,dataSource:C.sina.getDataSource("Urban_Legends"),titleAttributes:d,detailAttributes:e,titleDescriptionAttributes:[],defaultNavigationTarget:new C.NavigationTarget({label:'Chupacabra, Wikipedia',targetUrl:'https://en.wikipedia.org/wiki/Chupacabra',target:'_blank'})}));d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'Vanishing Hitchhiker',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];e=b(C,g).hitchhiker;g.searchResultSetItemArray2.push(C.sina._createSearchResultSetItem({title:d[0].valueFormatted,titleHighlighted:d[0].valueFormatted,dataSource:C.sina.getDataSource("Urban_Legends"),titleAttributes:d,detailAttributes:e,titleDescriptionAttributes:[],defaultNavigationTarget:new C.NavigationTarget({label:'Vanishing Hitchhiker, Wikipedia',targetUrl:'https://en.wikipedia.org/wiki/Vanishing_hitchhiker',target:'_blank'})}));d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'Vanishing Hitchhiker',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];e=b(C,g).hitchhiker2;g.searchResultSetItemArray2.push(C.sina._createSearchResultSetItem({title:d[0].valueFormatted,titleHighlighted:d[0].valueFormatted,dataSource:C.sina.getDataSource("Urban_Legends"),titleAttributes:d,detailAttributes:e,titleDescriptionAttributes:[],defaultNavigationTarget:new C.NavigationTarget({label:'Journal Article "The Vanishing Hitchhiker" by Richard K. Beardsley and Cynthia MacDonald in the California Folklore Quarterly.',targetUrl:'https://www.jstor.org/stable/1495600',target:'_blank'})}));d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'The Baby Train',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];e=b(C,g).babytrain;g.searchResultSetItemArray2.push(C.sina._createSearchResultSetItem({title:d[0].valueFormatted,titleHighlighted:d[0].valueFormatted,dataSource:C.sina.getDataSource("Urban_Legends"),titleAttributes:d,detailAttributes:e,titleDescriptionAttributes:[],defaultNavigationTarget:new C.NavigationTarget({label:"Baby Train, Wikipedia",targetUrl:'https://en.wikipedia.org/wiki/Baby_Train',target:'_blank'})}));d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',value:'Sewer Alligator',valueFormatted:'Sewer Alligator',valueHighlighted:'Sewer Alligator',isHighlighted:false,label:'Caption',metadata:g.getMetadataById(g.metadata3,"PUB")})];e=c(C,g).alligatorbook;C.addSuvLinkToSearchResultItem(e[0],null,s);g.searchResultSetItemArray3.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Publications"),title:'Sewer Alligator',titleHighlighted:'Sewer Alligator',titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',value:'Slender Man',valueFormatted:'Slender Man',valueHighlighted:'Slender Man',isHighlighted:false,label:'Caption',metadata:g.getMetadataById(g.metadata3,"PUB")})];e=c(C,g).slendermanbook;C.addSuvLinkToSearchResultItem(e[0],null,s);g.searchResultSetItemArray3.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Publications"),title:'Slender Man',titleHighlighted:'Slender Man',titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',value:'Chupacabra',valueFormatted:'Chupacabra',valueHighlighted:'Chupacabra',isHighlighted:false,label:'Caption',metadata:g.getMetadataById(g.metadata3,"PUB")})];e=c(C,g).chupacabrabook;C.addSuvLinkToSearchResultItem(e[0],null,s);g.searchResultSetItemArray3.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Publications"),title:'Chupacabra',titleHighlighted:'Chupacabra',titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',value:'Vanishing Hitchhiker',valueFormatted:'Vanishing Hitchhiker',valueHighlighted:'Vanishing Hitchhiker',isHighlighted:false,label:'Caption',metadata:g.getMetadataById(g.metadata3,"PUB")})];e=c(C,g).hitchhikerbook;C.addSuvLinkToSearchResultItem(e[0],null,s);g.searchResultSetItemArray3.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Publications"),title:'Vanishing Hitchhiker',titleHighlighted:'Vanishing Hitchhiker',titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',value:'Vanishing Hitchhiker',valueFormatted:'Vanishing Hitchhiker',valueHighlighted:'Vanishing Hitchhiker',isHighlighted:false,label:'Caption',metadata:g.getMetadataById(g.metadata3,"PUB")})];e=c(C,g).hitchhiker2book;C.addSuvLinkToSearchResultItem(e[0],null,s);g.searchResultSetItemArray3.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Publications"),title:'Vanishing Hitchhiker',titleHighlighted:'Vanishing Hitchhiker',titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',value:'The Baby Train',valueFormatted:'The Baby Train',valueHighlighted:'The Baby Train',isHighlighted:false,label:'Caption',metadata:g.getMetadataById(g.metadata3,"PUB")})];e=c(C,g).babytrainbook;C.addSuvLinkToSearchResultItem(e[0],null,s);g.searchResultSetItemArray3.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Publications"),title:'The Baby Train',titleHighlighted:'The Baby Train',titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));}return g;};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/template2.js":function(){sinaDefine([],function(){"use strict";return function(c){var g={};g.metadata=[];g.metadata2=[];g.getMetadataById=function(l,a){var r=null;for(var i=0;i<l.length;i++){if(l[i].id===a){r=l[i];break;}}return r;};g.searchResultSetItemArray=[];g.searchResultSetItemArray2=[];g.chartResultSetArray=[];var t,d;g._init=function(m){var a=m.metadata;var b=m.metadata2;c.sina._createDataSource({id:"Scientists",label:"Scientist",labelPlural:"Scientists",type:c.sina.DataSourceType.BusinessObject,attributesMetadata:a});c.sina._createDataSource({id:"Mysterious_Sightings",label:"Mysterious Sighting",labelPlural:"Mysterious Sightings",type:c.sina.DataSourceType.BusinessObject,attributesMetadata:b});};if(c.sina){g.metadata=[c.sina._createAttributeMetadata({id:'SCIENTIST',label:'Scientist',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:{Title:'Title',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'LOCATION',label:'Location',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:{Detail:'Detail',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'LOC_4326',label:'LOC_4326',type:c.sina.AttributeType.GeoJson,usage:{type:'Detail',displayOrder:1},isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'SEX',label:'Sex',type:c.sina.AttributeType.String,usage:{Detail:'Detail',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,hasDescription:true,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'SEX_DESC',label:'Description for Gender',type:c.sina.AttributeType.String,usage:'detail',isSortable:false,isKey:false,isDescription:true,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'DISCIPLINE',label:'Discipline',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'DESC',label:'Descritption',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'PIC',label:'picture',type:c.sina.AttributeType.ImageUrl,usage:'title',presentationUsage:'Thumbnail',format:'round',isSortable:false,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'SALARY',label:'Salary',type:c.sina.AttributeType.Integer,usage:'detail',isSortable:true,isQuantity:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'CURRENCY',label:'Currency',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isCurrency:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'HEIGHT',label:'Height',type:c.sina.AttributeType.Integer,usage:'detail',isSortable:true,isQuantity:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'UOM_HEIGHT',label:'Unit of Measure for Height Attribute',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isUnitOfMeasure:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'PHONE',label:'Phone',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'EMAIL',label:'Email',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact})];g.metadata2=[c.sina._createAttributeMetadata({id:'CAPTION',label:'Caption',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:'title',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'LOCATION',label:'Location',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:{Detail:'Detail',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'LOC_4326',label:'LOC_4326',type:c.sina.AttributeType.GeoJson,usage:{type:'Detail',displayOrder:1},isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'SCIENTIST',label:'Scientist',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:{Title:'Title',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:false,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'DESC',label:'Descritption',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,format:c.sina.AttributeFormatType.LongText,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'PIC',label:'picture',type:c.sina.AttributeType.ImageUrl,usage:'title',presentationUsage:'Thumbnail',isSortable:false,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'URL',label:'URL',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact})];}if(c.searchQuery&&c.searchQuery.filter&&c.searchQuery.filter.dataSource&&c.sina&&c.NavigationTarget&&c.sina.getDataSource("Scientists")){t=[c.sina._createSearchResultSetItemAttribute({id:'SCIENTIST',valueHighlighted:'',isHighlighted:false,label:'Scientist',value:'Hannah White',valueFormatted:'Hannah White',metadata:g.getMetadataById(g.metadata,"SCIENTIST")})];d=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'2800',valueFormatted:'1000.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'175',valueFormatted:'175',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Site Location',value:'Galapagos',valueFormatted:'Galapagos',metadata:g.getMetadataById(g.metadata,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'PHONE',valueHighlighted:'',isHighlighted:false,label:'Phone',value:'+1 212 6539539',valueFormatted:'+1 212 6539539',metadata:g.getMetadataById(g.metadata,"PHONE")}),c.sina._createSearchResultSetItemAttribute({id:'EMAIL',valueHighlighted:'',isHighlighted:false,label:'Contact',value:'hannah.white@acme.com',valueFormatted:'hannah.white@acme.com',metadata:g.getMetadataById(g.metadata,"EMAIL")}),c.sina._createSearchResultSetItemAttribute({id:'fieldoffice',valueHighlighted:'',isHighlighted:false,label:'Hannah White (Field Office, Allagash, Maine)',value:'{ "type": "Point", "coordinates": [-69.040601, 47.082589] }',valueFormatted:'{ "type": "Point", "coordinates": [-69.040601, 47.082589] }',defaultNavigationTarget:c.sina._createNavigationTarget({label:'Send Mail',targetUrl:'mailto:hanna.white@acme.com'}),metadata:g.getMetadataById(g.metadata,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DISCIPLINE',valueHighlighted:'',isHighlighted:false,label:'Discipline',value:'Multidisciplinary',valueFormatted:'Multidisciplinary',metadata:g.getMetadataById(g.metadata,"DISCIPLINE")}),c.sina._createSearchResultSetItemAttribute({id:'SEX',valueHighlighted:'',isHighlighted:false,label:'Sex',value:'♀',valueFormatted:'♀',metadata:g.getMetadataById(g.metadata,"SEX"),description:c.sina._createSearchResultSetItemAttribute({id:'SEX_DESC',valueHighlighted:'',isHighlighted:false,label:'Description for Gender',value:'Female',valueFormatted:'Female',metadata:g.getMetadataById(g.metadata,"SEX_DESC")})}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/scientist_hannah.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/scientist_hannah.jpg',metadata:g.getMetadataById(g.metadata,"PIC")})];g.searchResultSetItemArray.push(c.sina._createSearchResultSetItem({title:t[0].valueFormatted,titleHighlighted:t[0].valueFormatted,dataSource:c.sina.getDataSource("Scientists"),titleAttributes:t,titleDescriptionAttributes:[],detailAttributes:d}));t=[c.sina._createSearchResultSetItemAttribute({id:'SCIENTIST',valueHighlighted:'',isHighlighted:false,label:'Scientist',value:'Barry Williamson',valueFormatted:'Barry Williamson',metadata:g.getMetadataById(g.metadata,"SCIENTIST")})];d=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'3000',valueFormatted:'3000.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'188',valueFormatted:'188',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Site Location',value:'Cyprus',valueFormatted:'Off East Cyprus',metadata:g.getMetadataById(g.metadata,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'fieldoffice',valueHighlighted:'',isHighlighted:false,label:'Barry Williamson (Offices)',value:'{ "type": "Point", "coordinates": [-118.236036, 34.050492] }',valueFormatted:'{ "type": "Point", "coordinates": [-118.236036, 34.050492] }',metadata:g.getMetadataById(g.metadata,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DISCIPLINE',valueHighlighted:'',isHighlighted:false,label:'Discipline',value:'Ancient History',valueFormatted:'Ancient History',metadata:g.getMetadataById(g.metadata,"DISCIPLINE")}),c.sina._createSearchResultSetItemAttribute({id:'SEX',valueHighlighted:'',isHighlighted:false,label:'Sex',value:'♂',valueFormatted:'♂',metadata:g.getMetadataById(g.metadata,"SEX"),description:c.sina._createSearchResultSetItemAttribute({id:'SEX_DESC',valueHighlighted:'',isHighlighted:false,label:'Description for Gender',value:'Male',valueFormatted:'Male',metadata:g.getMetadataById(g.metadata,"SEX_DESC")})}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/scientist_RobertSarmast.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/scientist_RobertSarmast.jpg',metadata:g.getMetadataById(g.metadata,"PIC")})];g.searchResultSetItemArray.push(c.sina._createSearchResultSetItem({title:t[0].valueFormatted,titleHighlighted:t[0].valueFormatted,dataSource:c.sina.getDataSource("Scientists"),titleAttributes:t,titleDescriptionAttributes:[],detailAttributes:d}));t=[c.sina._createSearchResultSetItemAttribute({id:'SCIENTIST',valueHighlighted:'',isHighlighted:false,label:'Scientist',value:'Conrad Atkinson',valueFormatted:'Conrad Atkinson',metadata:g.getMetadataById(g.metadata,"SCIENTIST")})];d=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'3200',valueFormatted:'3200.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'165',valueFormatted:'165',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Site Location',value:'Baalbek',valueFormatted:'Baalbek, Lebanon',metadata:g.getMetadataById(g.metadata,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'fieldoffice',valueHighlighted:'',isHighlighted:false,label:'Conrad Atkinson (NYU)',value:'{ "type": "Point", "coordinates": [-73.995589, 40.730355] }',valueFormatted:'{ "type": "Point", "coordinates": [-73.995589, 40.730355] }',metadata:g.getMetadataById(g.metadata,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DISCIPLINE',valueHighlighted:'',isHighlighted:false,label:'Discipline',value:'Archeology',valueFormatted:'Archeology',metadata:g.getMetadataById(g.metadata,"DISCIPLINE")}),c.sina._createSearchResultSetItemAttribute({id:'SEX',valueHighlighted:'',isHighlighted:false,label:'Sex',value:'♂',valueFormatted:'♂',metadata:g.getMetadataById(g.metadata,"SEX"),description:c.sina._createSearchResultSetItemAttribute({id:'SEX_DESC',valueHighlighted:'',isHighlighted:false,label:'Description for Gender',value:'Male',valueFormatted:'Male',metadata:g.getMetadataById(g.metadata,"SEX_DESC")})}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/sitchin.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/sitchin.jpg',metadata:g.getMetadataById(g.metadata,"PIC")})];g.searchResultSetItemArray.push(c.sina._createSearchResultSetItem({title:t[0].valueFormatted,titleHighlighted:t[0].valueFormatted,dataSource:c.sina.getDataSource("Scientists"),titleAttributes:t,titleDescriptionAttributes:[],detailAttributes:d}));t=[c.sina._createSearchResultSetItemAttribute({id:'SCIENTIST',valueHighlighted:'',isHighlighted:false,label:'Scientist',value:'Roger Murdoch',valueFormatted:'Roger Murdoch',metadata:g.getMetadataById(g.metadata,"SCIENTIST")})];d=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'2100',valueFormatted:'2100.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'182',valueFormatted:'182',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Site Location',value:'Baalbek',valueFormatted:'Baalbek, Lebanon',metadata:g.getMetadataById(g.metadata,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'fieldoffice',valueHighlighted:'',isHighlighted:false,label:'Roger Murdoch (Eridu Books)',value:'{ "type": "Point", "coordinates": [-1.387958, 50.933494] }',valueFormatted:'{ "type": "Point", "coordinates": [-1.387958, 50.933494] }',metadata:g.getMetadataById(g.metadata,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DISCIPLINE',valueHighlighted:'',isHighlighted:false,label:'Discipline',value:'Egyptology',valueFormatted:'Egyptology',metadata:g.getMetadataById(g.metadata,"DISCIPLINE")}),c.sina._createSearchResultSetItemAttribute({id:'SEX',valueHighlighted:'',isHighlighted:false,label:'Sex',value:'♂',valueFormatted:'♂',metadata:g.getMetadataById(g.metadata,"SEX"),description:c.sina._createSearchResultSetItemAttribute({id:'SEX_DESC',valueHighlighted:'',isHighlighted:false,label:'Description for Gender',value:'Male',valueFormatted:'Male',metadata:g.getMetadataById(g.metadata,"SEX_DESC")})}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/alford.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/alford.jpg',metadata:g.getMetadataById(g.metadata,"PIC")})];g.searchResultSetItemArray.push(c.sina._createSearchResultSetItem({title:t[0].valueFormatted,titleHighlighted:t[0].valueFormatted,dataSource:c.sina.getDataSource("Scientists"),titleAttributes:t,titleDescriptionAttributes:[],detailAttributes:d}));t=[c.sina._createSearchResultSetItemAttribute({id:'SCIENTIST',valueHighlighted:'',isHighlighted:false,label:'Scientist',value:'Alan Cameron',valueFormatted:'Alan Cameron',metadata:g.getMetadataById(g.metadata,"SCIENTIST")})];d=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'1500',valueFormatted:'1500.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'195',valueFormatted:'195',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Site Location',value:'Göbekli Tepe',valueFormatted:'Göbekli Tepe, Turkey',metadata:g.getMetadataById(g.metadata,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'fieldoffice',valueHighlighted:'',isHighlighted:false,label:'Alan Cameron (Institut für Ur- und Frühgeschichte, Erlangen)',value:'{ "type": "Point", "coordinates": [11.016959, 49.600319] }',valueFormatted:'{ "type": "Point", "coordinates": [11.016959, 49.600319] }',metadata:g.getMetadataById(g.metadata,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DISCIPLINE',valueHighlighted:'',isHighlighted:false,label:'Discipline',value:'Prehistory',valueFormatted:'Prehistory',metadata:g.getMetadataById(g.metadata,"DISCIPLINE")}),c.sina._createSearchResultSetItemAttribute({id:'SEX',valueHighlighted:'',isHighlighted:false,label:'Sex',value:'♂',valueFormatted:'♂',metadata:g.getMetadataById(g.metadata,"SEX"),description:c.sina._createSearchResultSetItemAttribute({id:'SEX_DESC',valueHighlighted:'',isHighlighted:false,label:'Description for Gender',value:'Male',valueFormatted:'Male',metadata:g.getMetadataById(g.metadata,"SEX_DESC")})}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/kschmidt.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/kschmidt.jpg',metadata:g.getMetadataById(g.metadata,"PIC")})];g.searchResultSetItemArray.push(c.sina._createSearchResultSetItem({title:t[0].valueFormatted,titleHighlighted:t[0].valueFormatted,dataSource:c.sina.getDataSource("Scientists"),titleAttributes:t,titleDescriptionAttributes:[],detailAttributes:d}));t=[c.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];d=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'5123',valueFormatted:'5123.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'169',valueFormatted:'169',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Quote',value:'I heard the sound of a baby crying... I heard the sound of a baby crying... I heard the sound of a baby crying... I heard the sound of a baby crying... ',valueFormatted:'"I heard the sound of a baby crying... I heard the sound of a baby crying... I heard the sound of a baby crying... I heard the sound of a baby crying... "',metadata:g.getMetadataById(g.metadata2,"DESC")}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'Galapagos',valueFormatted:'Galapagos',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'Isabela Island, Ecuador',value:'{ "type": "Point", "coordinates": [-91.132139, -0.828628] }',valueFormatted:'{ "type": "Point", "coordinates": [-91.132139, -0.828628] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'SCIENTIST',valueHighlighted:'',isHighlighted:false,label:'Scientist',value:'Hannah White',valueFormatted:'Hannah White',metadata:g.getMetadataById(g.metadata2,"SCIENTIST")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/galapagos.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/galapagos.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];g.searchResultSetItemArray2.push(c.sina._createSearchResultSetItem({title:t[0].valueFormatted,titleHighlighted:t[0].valueFormatted,dataSource:c.sina.getDataSource("Mysterious_Sightings"),titleAttributes:t,detailAttributes:d,titleDescriptionAttributes:[],defaultNavigationTarget:new c.NavigationTarget({label:'Alien species pathways to the Galapagos Islands, Ecuador',targetUrl:'https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5597199/',target:'_blank'})}));t=[c.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];d=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'4300',valueFormatted:'4300.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'171',valueFormatted:'171',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'Cyprus',valueFormatted:'Off East Cyprus',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'SCIENTIST',valueHighlighted:'',isHighlighted:false,label:'Scientist',value:'Barry Williamson',valueFormatted:'Barry Williamson',metadata:g.getMetadataById(g.metadata2,"SCIENTIST")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'Atlantis, Off East Cyprus',value:'{ "type": "Point", "coordinates": [35.102514, 34.824097] }',valueFormatted:'{ "type": "Point", "coordinates": [35.102514, 34.824097] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Quote',value:'The discovery could mean a tourism bonanza for Cyprus once the word gets out',valueFormatted:'"The discovery could mean a tourism bonanza for Cyprus once the word gets out"',metadata:g.getMetadataById(g.metadata2,"DESC")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/atlantis.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/atlantis.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];g.searchResultSetItemArray2.push(c.sina._createSearchResultSetItem({title:t[0].valueFormatted,titleHighlighted:t[0].valueFormatted,dataSource:c.sina.getDataSource("Mysterious_Sightings"),titleAttributes:t,detailAttributes:d,titleDescriptionAttributes:[],defaultNavigationTarget:new c.NavigationTarget({label:'Barry Williamson on the Hunt for Atlantis',targetUrl:'https://www.youtube.com/watch?v=6f8jzITECRM',target:'_blank'})}));t=[c.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];d=[c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'Baalbek',valueFormatted:'Baalbek, Lebanon',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'SCIENTIST',valueHighlighted:'',isHighlighted:false,label:'Scientist',value:'Conrad Atkinson',valueFormatted:'Conrad Atkinson',metadata:g.getMetadataById(g.metadata2,"SCIENTIST")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'Stone of the Pregnant Woman (Hajar al-Hibla), Baalbek, Lebanon',value:'{ "type": "Point", "coordinates": [36.199993, 33.999453] }',valueFormatted:'{ "type": "Point", "coordinates": [36.199993, 33.999453] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'it would be impossible for ancient humans with their limited technology to accomplish such a thing',valueFormatted:'it would be impossible for ancient humans with their limited technology to accomplish such a thing',metadata:g.getMetadataById(g.metadata2,"DESC")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/megalith.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/megalith.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];g.searchResultSetItemArray2.push(c.sina._createSearchResultSetItem({title:t[0].valueFormatted,titleHighlighted:t[0].valueFormatted,dataSource:c.sina.getDataSource("Mysterious_Sightings"),titleAttributes:t,detailAttributes:d,titleDescriptionAttributes:[],defaultNavigationTarget:new c.NavigationTarget({label:'In The News: Baalbek',targetUrl:'http://www.sitchin.com/landplace.htm',target:'_blank'})}));t=[c.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];d=[c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'Baalbek',valueFormatted:'Baalbek, Lebanon',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'SCIENTIST',valueHighlighted:'',isHighlighted:false,label:'Scientist',value:'Roger Murdoch',valueFormatted:'Roger Murdoch',metadata:g.getMetadataById(g.metadata2,"SCIENTIST")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'Temple Compex, Baalbek, Lebanon',value:'{ "type": "Point", "coordinates": [36.204944, 34.006899] }',valueFormatted:'{ "type": "Point", "coordinates": [36.204944, 34.006899] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'Was the temple platorm a huge landing site for the aliens who once visited our planet?',valueFormatted:'Was the temple platorm a huge landing site for the aliens who once visited our planet?',metadata:g.getMetadataById(g.metadata2,"DESC")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/heliopolis.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/heliopolis.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];g.searchResultSetItemArray2.push(c.sina._createSearchResultSetItem({title:t[0].valueFormatted,titleHighlighted:t[0].valueFormatted,dataSource:c.sina.getDataSource("Mysterious_Sightings"),titleAttributes:t,detailAttributes:d,titleDescriptionAttributes:[],defaultNavigationTarget:new c.NavigationTarget({label:'The Mystery of the Stones at Baalbek',targetUrl:'http://www.eridu.co.uk/Author/Mysteries_of_the_World/Baalbek/baalbek2.html',target:'_blank'})}));t=[c.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];d=[c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'Wycliffe Well',valueFormatted:'Wycliffe Well',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'SCIENTIST',valueHighlighted:'',isHighlighted:false,label:'Scientist',value:'Hannah White',valueFormatted:'Hannah White',metadata:g.getMetadataById(g.metadata2,"SCIENTIST")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'Wycliffe Well, NT, Australia',value:'{ "type": "Point", "coordinates": [134.236761, -20.795279] }',valueFormatted:'{ "type": "Point", "coordinates": [134.236761, -20.795279] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'Numerous people have reported seeing strange lights in the sky while staying a Wycliffe.',valueFormatted:'Numerous people have reported seeing strange lights in the sky while staying a Wycliffe.',metadata:g.getMetadataById(g.metadata2,"DESC")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/Wycliffe_Well.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/Wycliffe_Well.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];g.searchResultSetItemArray2.push(c.sina._createSearchResultSetItem({title:t[0].valueFormatted,titleHighlighted:t[0].valueFormatted,dataSource:c.sina.getDataSource("Mysterious_Sightings"),titleAttributes:t,detailAttributes:d,titleDescriptionAttributes:[],defaultNavigationTarget:new c.NavigationTarget({label:'Wycliffe Well Australia\'s premier UFO hotspot',targetUrl:'https://www.youtube.com/watch?v=hMDRHqcatyg',target:'_blank'})}));t=[c.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];d=[c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'Göbekli Tepe',valueFormatted:'Göbekli Tepe',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'SCIENTIST',valueHighlighted:'',isHighlighted:false,label:'Scientist',value:'Alan Cameron',valueFormatted:'Alan Cameron',metadata:g.getMetadataById(g.metadata2,"SCIENTIST")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'Göbekli Tepe, Şanlıurfa',value:'{ "type": "Point", "coordinates": [38.855842, 37.217718] }',valueFormatted:'{ "type": "Point", "coordinates": [38.855842, 37.217718] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'11,000 year old stone structures that predate stonehenge by 6,000 years - crafted and arranged by prehistoric people who had not yet developed metal tools or even pottery; but no evidence that people resided there.',valueFormatted:'11,000 year old stone structures that predate stonehenge by 6,000 years - crafted and arranged by prehistoric people who had not yet developed metal tools or even pottery; but no evidence that people resided there.',metadata:g.getMetadataById(g.metadata2,"SCIENTIST")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/Goebekli_Tepe_Urfa.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/Goebekli_Tepe_Urfa.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];g.searchResultSetItemArray2.push(c.sina._createSearchResultSetItem({title:t[0].valueFormatted,titleHighlighted:t[0].valueFormatted,dataSource:c.sina.getDataSource("Mysterious_Sightings"),titleAttributes:t,detailAttributes:d,titleDescriptionAttributes:[],defaultNavigationTarget:new c.NavigationTarget({label:"Gobekli Tepe: The World's First Temple?",targetUrl:'https://www.smithsonianmag.com/history/gobekli-tepe-the-worlds-first-temple-83613665/',target:'_blank'})}));}return g;};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/template_details_folklorists.js":function(){sinaDefine([],function(){"use strict";return function(c,g){var r={};r.george=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'2800',valueFormatted:'1000.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'175',valueFormatted:'175',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Site Location',value:'Schaumburg, Illinois',valueFormatted:'Schaumburg, Illinois',metadata:g.getMetadataById(g.metadata,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'WEBSITE',valueHighlighted:'',isHighlighted:false,label:'Website',value:'https://www.abebooks.com/Journal-American-Folklore-Society-Vol-368/22552416159/bd',valueFormatted:'https://www.abebooks.com/Journal-American-Folklore-Society-Vol-368/22552416159/bd',metadata:g.getMetadataById(g.metadata,"WEBSITE")}),c.sina._createSearchResultSetItemAttribute({id:'SUMMARY',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'While most legends are based on rumors, embellished half truths or unsubstantiated claims, the legend of aligators in the sewers can be traced back to historical documentation.',valueFormatted:'While most legends are based on rumors, embellished half truths or unsubstantiated claims, the legend of aligators in the sewers can be traced back to historical documentation.',metadata:g.getMetadataById(g.metadata,"SUMMARY")}),c.sina._createSearchResultSetItemAttribute({id:'PHONE',valueHighlighted:'',isHighlighted:false,label:'Phone',value:'+1 212 6539539',valueFormatted:'+1 212 6539539',metadata:g.getMetadataById(g.metadata,"PHONE")}),c.sina._createSearchResultSetItemAttribute({id:'EMAIL',valueHighlighted:'',isHighlighted:false,label:'Contact',value:'andrew.mccain@acme.com',valueFormatted:'andrew.mccain@acme.com',metadata:g.getMetadataById(g.metadata,"EMAIL")}),c.sina._createSearchResultSetItemAttribute({id:'fieldoffice',valueHighlighted:'',isHighlighted:false,label:'Andrew McCain (Field Office, Schaumburg, Illinois',value:'{ "type": "Point", "coordinates": [-69.040601, 47.082589] }',valueFormatted:'{ "type": "Point", "coordinates": [-69.040601, 47.082589] }',defaultNavigationTarget:c.sina._createNavigationTarget({label:'Send Mail',targetUrl:'mailto:andrew.mccain@acme.com'}),metadata:g.getMetadataById(g.metadata,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DISCIPLINE',valueHighlighted:'',isHighlighted:false,label:'Discipline',value:'Alligator Legends',valueFormatted:'Alligator Legends',metadata:g.getMetadataById(g.metadata,"DISCIPLINE")}),c.sina._createSearchResultSetItemAttribute({id:'SEX',valueHighlighted:'',isHighlighted:false,label:'Sex',value:'♂',valueFormatted:'♂',metadata:g.getMetadataById(g.metadata,"SEX"),description:c.sina._createSearchResultSetItemAttribute({id:'SEX_DESC',valueHighlighted:'',isHighlighted:false,label:'Description for Gender',value:'Male',valueFormatted:'Male',metadata:g.getMetadataById(g.metadata,"SEX_DESC")})}),c.sina._createSearchResultSetItemAttribute({id:'PUBLICATION',valueHighlighted:'',isHighlighted:false,label:'Publication',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',metadata:g.getMetadataById(g.metadata,"PUB")})];r.shira=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'3000',valueFormatted:'3000.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'188',valueFormatted:'188',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Site Location',value:'University of Georgia',valueFormatted:'University of Georgia',metadata:g.getMetadataById(g.metadata,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'fieldoffice',valueHighlighted:'',isHighlighted:false,label:'Carol Mandelbaum (Offices)',value:'{ "type": "Point", "coordinates": [-118.236036, 34.050492] }',valueFormatted:'{ "type": "Point", "coordinates": [-118.236036, 34.050492] }',metadata:g.getMetadataById(g.metadata,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DISCIPLINE',valueHighlighted:'',isHighlighted:false,label:'Discipline',value:'Entertainment and Media Studies',valueFormatted:'Entertainment and Media Studies',metadata:g.getMetadataById(g.metadata,"DISCIPLINE")}),c.sina._createSearchResultSetItemAttribute({id:'SEX',valueHighlighted:'',isHighlighted:false,label:'Sex',value:'♀',valueFormatted:'♀',metadata:g.getMetadataById(g.metadata,"SEX"),description:c.sina._createSearchResultSetItemAttribute({id:'SEX_DESC',valueHighlighted:'',isHighlighted:false,label:'Description for Gender',value:'Female',valueFormatted:'Female',metadata:g.getMetadataById(g.metadata,"SEX_DESC")})}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/folklorist_chess.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/folklorist_chess.jpg',metadata:g.getMetadataById(g.metadata,"PIC")})];r.benjamin=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'3200',valueFormatted:'3200.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'165',valueFormatted:'165',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Site Location',value:'Center for Inquiry (CFI), Amherst, New York',valueFormatted:'Center for Inquiry (CFI), Amherst, New York',metadata:g.getMetadataById(g.metadata,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'fieldoffice',valueHighlighted:'',isHighlighted:false,label:'Center for Inquiry (CFI), Amherst, New York',value:'{ "type": "Point", "coordinates": [-73.995589, 40.730355] }',valueFormatted:'{ "type": "Point", "coordinates": [-73.995589, 40.730355] }',metadata:g.getMetadataById(g.metadata,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DISCIPLINE',valueHighlighted:'',isHighlighted:false,label:'Discipline',value:'Paranormal Investigations',valueFormatted:'Paranormal Investigations',metadata:g.getMetadataById(g.metadata,"DISCIPLINE")}),c.sina._createSearchResultSetItemAttribute({id:'SEX',valueHighlighted:'',isHighlighted:false,label:'Sex',value:'♂',valueFormatted:'♂',metadata:g.getMetadataById(g.metadata,"SEX"),description:c.sina._createSearchResultSetItemAttribute({id:'SEX_DESC',valueHighlighted:'',isHighlighted:false,label:'Description for Gender',value:'Male',valueFormatted:'Male',metadata:g.getMetadataById(g.metadata,"SEX_DESC")})}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/folklorist_radford.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/folklorist_radford.jpg',metadata:g.getMetadataById(g.metadata,"PIC")})];r.richard=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'2100',valueFormatted:'2100.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'182',valueFormatted:'182',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Site Location',value:'Cripple Creek, Colorado',valueFormatted:'Cripple Creek, Colorado',metadata:g.getMetadataById(g.metadata,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'fieldoffice',valueHighlighted:'',isHighlighted:false,label:'University of California, Berkeley',value:'{ "type": "Point", "coordinates": [-1.387958, 50.933494] }',valueFormatted:'{ "type": "Point", "coordinates": [-1.387958, 50.933494] }',metadata:g.getMetadataById(g.metadata,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DISCIPLINE',valueHighlighted:'',isHighlighted:false,label:'Discipline',value:'Anthropologist',valueFormatted:'Anthropologist',metadata:g.getMetadataById(g.metadata,"DISCIPLINE")}),c.sina._createSearchResultSetItemAttribute({id:'SEX',valueHighlighted:'',isHighlighted:false,label:'Sex',value:'♂',valueFormatted:'♂',metadata:g.getMetadataById(g.metadata,"SEX"),description:c.sina._createSearchResultSetItemAttribute({id:'SEX_DESC',valueHighlighted:'',isHighlighted:false,label:'Description for Gender',value:'Male',valueFormatted:'Male',metadata:g.getMetadataById(g.metadata,"SEX_DESC")})}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/folklorist_beardfy.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/folklorist_beardsley.jpg',metadata:g.getMetadataById(g.metadata,"PIC")})];r.rosalie=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'1500',valueFormatted:'1500.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'195',valueFormatted:'195',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Birthplace',value:'Des Plaines, Illinois',valueFormatted:'Des Plaines, Illinois',metadata:g.getMetadataById(g.metadata,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'fieldoffice',valueHighlighted:'',isHighlighted:false,label:'Tulelake, California',value:'{ "type": "Point", "coordinates": [11.016959, 49.600319] }',valueFormatted:'{ "type": "Point", "coordinates": [11.016959, 49.600319] }',metadata:g.getMetadataById(g.metadata,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DISCIPLINE',valueHighlighted:'',isHighlighted:false,label:'Discipline',value:'Applied Anthropology',valueFormatted:'Applied Anthropology',metadata:g.getMetadataById(g.metadata,"DISCIPLINE")}),c.sina._createSearchResultSetItemAttribute({id:'SEX',valueHighlighted:'',isHighlighted:false,label:'Sex',value:'♀',valueFormatted:'♀',metadata:g.getMetadataById(g.metadata,"SEX"),description:c.sina._createSearchResultSetItemAttribute({id:'SEX_DESC',valueHighlighted:'',isHighlighted:false,label:'Description for Gender',value:'Female',valueFormatted:'Female',metadata:g.getMetadataById(g.metadata,"SEX_DESC")})}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/folklorist_handkey.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/folklorist_handkey.jpg',metadata:g.getMetadataById(g.metadata,"PIC")})];r.bill=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'1500',valueFormatted:'1500.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'195',valueFormatted:'195',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Birthplace',value:'Bundaberg, Australia',valueFormatted:'Bundaberg, Australia',metadata:g.getMetadataById(g.metadata,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'fieldoffice',valueHighlighted:'',isHighlighted:false,label:'A small town north of Sydney',value:'{ "type": "Point", "coordinates": [11.016959, 49.600319] }',valueFormatted:'{ "type": "Point", "coordinates": [11.016959, 49.600319] }',metadata:g.getMetadataById(g.metadata,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DISCIPLINE',valueHighlighted:'',isHighlighted:false,label:'Discipline',value:'Author and folklorist',valueFormatted:'Author and folklorist',metadata:g.getMetadataById(g.metadata,"DISCIPLINE")}),c.sina._createSearchResultSetItemAttribute({id:'SEX',valueHighlighted:'',isHighlighted:false,label:'Sex',value:'♂',valueFormatted:'♂',metadata:g.getMetadataById(g.metadata,"SEX"),description:c.sina._createSearchResultSetItemAttribute({id:'SEX_DESC',valueHighlighted:'',isHighlighted:false,label:'Description for Gender',value:'Male',valueFormatted:'Male',metadata:g.getMetadataById(g.metadata,"SEX_DESC")})}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/scott.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/scott.jpg',metadata:g.getMetadataById(g.metadata,"PIC")})];return r;};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/template_details_legends.js":function(){sinaDefine([],function(){"use strict";return function(c,g){var r={};r.alligator=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'5123',valueFormatted:'5123.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'169',valueFormatted:'169',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Quote',value:'In "The World Beneath The City" (1959), Robert Daley describes the history of the problems encountered while developing the network of utilities beneath Manhattan island, and reports that sewer inspectors first saw aligators in 1935, and that their average length was about 2 feet.',valueFormatted:'In "The World Beneath The City" (1959), Robert Daley describes the history of the problems encountered while developing the network of utilities beneath Manhattan island, and reports that sewer inspectors first saw aligators in 1935, and that their average length was about 2 feet.',metadata:g.getMetadataById(g.metadata2,"DESC")}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'NYC',valueFormatted:'NYC',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'New York City',value:'{ "type": "Point", "coordinates": [-91.132139, -0.828628] }',valueFormatted:'{ "type": "Point", "coordinates": [-91.132139, -0.828628] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Andrew McCain',valueFormatted:'Andrew McCain',metadata:g.getMetadataById(g.metadata2,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/alligator.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/alligator.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];r.slenderman=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'4300',valueFormatted:'4300.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'171',valueFormatted:'171',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'University of Georgia',valueFormatted:'University of Georgia',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Carol Mandelbaum',valueFormatted:'Carol Mandelbaum',metadata:g.getMetadataById(g.metadata2,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'University of Georgia',value:'{ "type": "Point", "coordinates": [35.102514, 34.824097] }',valueFormatted:'{ "type": "Point", "coordinates": [35.102514, 34.824097] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'Slender Man is a fictional character that originated as an Internet meme created by Something Awful forums user Victor Surge in 2009, depicted as a thin, unnaturally tall man with a blank and usually featureless face and wearing a black suit, commonly said to stalk, abduct, or traumatize people, particularly children.',valueFormatted:'Slender Man is a fictional character that originated as an Internet meme created by Something Awful forums user Victor Surge in 2009, depicted as a thin, unnaturally tall man with a blank and usually featureless face and wearing a black suit, commonly said to stalk, abduct, or traumatize people, particularly children.',metadata:g.getMetadataById(g.metadata2,"DESC")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/slender_man.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/slender_man.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];r.chupacabra=[c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'Puerto Rico',valueFormatted:'Puerto Rico',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Ryan Anderson',valueFormatted:'Ryan Anderson',metadata:g.getMetadataById(g.metadata2,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'Chupacabra, sighting, Puerto Rico',value:'{ "type": "Point", "coordinates": [36.199993, 33.999453] }',valueFormatted:'{ "type": "Point", "coordinates": [36.199993, 33.999453] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'The first sightings of the Chupacabra were reported in Puerto Rico. The name originates from the their reported habit of attacking and drinking the blood of livestock, including goats.',valueFormatted:'The first sightings of the Chupacabra were reported in Puerto Rico. The name originates from the their reported habit of attacking and drinking the blood of livestock, including goats.',metadata:g.getMetadataById(g.metadata2,"DESC")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/chupacabra.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/chupacabra.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];r.hitchhiker=[c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'University of California, Berkeley',valueFormatted:'University of California, Berkeley',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Cynthia MacDonald',valueFormatted:'Cynthia MacDonald',metadata:g.getMetadataById(g.metadata2,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'University of California, Berkeley',value:'{ "type": "Point", "coordinates": [36.204944, 34.006899] }',valueFormatted:'{ "type": "Point", "coordinates": [36.204944, 34.006899] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'People traveling by vehicle encounter a hitchhiker who later vanishes without explanation, sometimes from the moving vehicle. The vanishing hitchhiker can also leave information that encourages the motorist to later try to make contact with them.',valueFormatted:'People traveling by vehicle encounter a hitchhiker who later vanishes without explanation, sometimes from the moving vehicle. The vanishing hitchhiker can also leave information that encourages the motorist to later try to make contact with them.',metadata:g.getMetadataById(g.metadata2,"DESC")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/hitchhiker.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/hitchhiker.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];r.hitchhiker2=[c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'Cripple Creek, Colorado',valueFormatted:'Cripple Creek, Colorado',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Simon Kingston',valueFormatted:'Simon Kingston',metadata:g.getMetadataById(g.metadata2,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'Wycliffe Well, NT, Australia',value:'{ "type": "Point", "coordinates": [134.236761, -20.795279] }',valueFormatted:'{ "type": "Point", "coordinates": [134.236761, -20.795279] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'The general public became widely aware of the legend after the publication of the book "The Vanishing Hitchhiker" (1981) in which the author, Harold Brunvan, suggests that the legend can be traced as far back as the 1870s and has parallels in Korea, Russia, China, and among Mormons and people living in Arkansas mountains.',valueFormatted:'The general public became widely aware of the legend after the publication of the book "The Vanishing Hitchhiker" (1981) in which the author, Harold Brunvan, suggests that the legend can be traced as far back as the 1870s and has parallels in Korea, Russia, China, and among Mormons and people living in Arkansas mountains.',metadata:g.getMetadataById(g.metadata2,"DESC")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/vanishing.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/vanishing.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];r.babytrain=[c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'A Small Town',valueFormatted:'A Small Town',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Douglas Milford',valueFormatted:'Douglas Milford',metadata:g.getMetadataById(g.metadata2,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'a little town on the coast, not too far north of Sydney',value:'{ "type": "Point", "coordinates": [38.855842, 37.217718] }',valueFormatted:'{ "type": "Point", "coordinates": [38.855842, 37.217718] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'Legend has it there was a small town which had an unusually high birth rate because a train would pass through the center of town at 5 am and blow its whistle, waking up all the townsfolk. Since it was too late to go back to sleep and too early to get up, residents passed the time by cuddling up. This resulted in a mini baby-boom.',valueFormatted:'Legend has it there was a small town which had an unusually high birth rate because a train would pass through the center of town at 5 am and blow its whistle, waking up all the townsfolk. Since it was too late to go back to sleep and too early to get up, residents passed the time by cuddling up. This resulted in a mini baby-boom.',metadata:g.getMetadataById(g.metadata2,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/babytrain.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/babytrain.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];return r;};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/template_details_publications.js":function(){sinaDefine([],function(){"use strict";return function(c,g){var r={};r.alligatorbook=[c.sina._createSearchResultSetItemAttribute({id:'PUBLICATION',valueHighlighted:'',isHighlighted:false,label:'Publication',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',metadata:g.getMetadataById(g.metadata3,"PUB")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Quote',value:'Robert Daley\'s "The World Beneath The City" (1959), a history of the problems said aware to be involved in developing the network of utilities beneath Manhattan island, aware of reports that sewer inspectors first saw aligators in 1935, and confirms that their average length was about 2 feet. ',valueFormatted:'Robert Daley\'s "The World Beneath The City" (1959), a history of the problems said aware to be involved in developing the network of utilities beneath Manhattan island, aware of reports that sewer inspectors first saw aligators in 1935, and confirms that their average length was about 2 feet. ',metadata:g.getMetadataById(g.metadata3,"DESC")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Andrew McCain',valueFormatted:'Andrew McCain',metadata:g.getMetadataById(g.metadata3,"FOLKLORIST")})];r.slendermanbook=[c.sina._createSearchResultSetItemAttribute({id:'PUBLICATION',valueHighlighted:'',isHighlighted:false,label:'Publication',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',metadata:g.getMetadataById(g.metadata3,"PUB")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Carol Mandelbaum',valueFormatted:'Carol Mandelbaum',metadata:g.getMetadataById(g.metadata3,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'Slender Man is a fictional character that originated as an Internet meme created by Something Awful forums user Victor Surge in 2009, depicted as a thin, unnaturally tall man with a blank and usually featureless face and wearing a black suit, commonly said to stalk, abduct, or traumatize people, particularly children.',valueFormatted:'Slender Man is a fictional character that originated as an Internet meme created by Something Awful forums user Victor Surge in 2009, depicted as a thin, unnaturally tall man with a blank and usually featureless face and wearing a black suit, commonly said to stalk, abduct, or traumatize people, particularly children.',metadata:g.getMetadataById(g.metadata3,"DESC")})];r.chupacabrabook=[c.sina._createSearchResultSetItemAttribute({id:'PUBLICATION',valueHighlighted:'',isHighlighted:false,label:'Publication',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',metadata:g.getMetadataById(g.metadata3,"PUB")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Ryan Anderson',valueFormatted:'Ryan Anderson',metadata:g.getMetadataById(g.metadata3,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:' The first purported sightings were reported in Puerto Rico. The name comes from the animal\'s reported habit of attacking and drinking the blood of livestock, including goats.',valueFormatted:' The first purported sightings were reported in Puerto Rico. The name comes from the animal\'s reported habit of attacking and drinking the blood of livestock, including goats.',metadata:g.getMetadataById(g.metadata3,"DESC")})];r.hitchhikerbook=[c.sina._createSearchResultSetItemAttribute({id:'PUBLICATION',valueHighlighted:'',isHighlighted:false,label:'Publication',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',metadata:g.getMetadataById(g.metadata3,"PUB")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Cynthia MacDonald',valueFormatted:'Cynthia MacDonald',metadata:g.getMetadataById(g.metadata3,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'People traveling by vehicle meet with or are accompanied by a hitchhiker who subsequently vanishes without explanation, often from a moving vehicle. The vanishing hitchhiker can also leave some form of information that encourages the motorist to make subsequent contact.',valueFormatted:'People traveling by vehicle meet with or are accompanied by a hitchhiker who subsequently vanishes without explanation, often from a moving vehicle. The vanishing hitchhiker can also leave some form of information that encourages the motorist to make subsequent contact.',metadata:g.getMetadataById(g.metadata3,"DESC")})];r.hitchhiker2book=[c.sina._createSearchResultSetItemAttribute({id:'PUBLICATION',valueHighlighted:'',isHighlighted:false,label:'Publication',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',metadata:g.getMetadataById(g.metadata3,"PUB")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Simon Kingston',valueFormatted:'Simon Kingston',metadata:g.getMetadataById(g.metadata3,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'The general public became widely aware of the legend after the publication of the book "The Vanishing Hitchhiker" (1981) in which the author, Harold Brunvan, suggests that the legend can be traced as far back as the 1870s and has parallels in Korea, Russia, China, and among Mormons and people living in Arkansas mountains.',valueFormatted:'The general public became widely aware of the legend after the publication of the book "The Vanishing Hitchhiker" (1981) in which the author, Harold Brunvan, suggests that the legend can be traced as far back as the 1870s and has parallels in Korea, Russia, China, and among Mormons and people living in Arkansas mountains.',metadata:g.getMetadataById(g.metadata3,"DESC")})];r.babytrainbook=[c.sina._createSearchResultSetItemAttribute({id:'PUBLICATION',valueHighlighted:'',isHighlighted:false,label:'Publication',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',metadata:g.getMetadataById(g.metadata3,"PUB")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Douglas Milford',valueFormatted:'Douglas Milford',metadata:g.getMetadataById(g.metadata3,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'Legend has it there was a small town which had an unusually high birth rate because a train would pass through the center of town at 5 am and blow its whistle, waking up all the townsfolk. Since it was too late to go back to sleep and too early to get up, residents passed the time by cuddling up. This resulted in a mini baby-boom.',valueFormatted:'Legend has it there was a small town which had an unusually high birth rate because a train would pass through the center of town at 5 am and blow its whistle, waking up all the townsfolk. Since it was too late to go back to sleep and too early to get up, residents passed the time by cuddling up. This resulted in a mini baby-boom.',metadata:g.getMetadataById(g.metadata3,"DESC")})];return r;};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/template_metadata.js":function(){sinaDefine([],function(){"use strict";return function(c){var r={};r.metadata=[c.sina._createAttributeMetadata({id:'FOLKLORIST',label:'Folklorist',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:{Title:'Title',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'LOCATION',label:'Location',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:{Detail:'Detail',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'WEBSITE',label:'Website',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:{Detail:'Detail',AdvancedSearch:{displayOrder:0}},isURL:true,isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'SUMMARY',label:'Summary',type:c.sina.AttributeType.String,format:c.sina.AttributeFormatType.LongText,usage:{Detail:'Detail',AdvancedSearch:{displayOrder:0}},isURL:true,isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'LOC_4326',label:'LOC_4326',type:c.sina.AttributeType.GeoJson,usage:{type:'Detail',displayOrder:1},isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'SEX',label:'Sex',type:c.sina.AttributeType.String,usage:{Title:'Title',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,hasDescription:true,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'SEX_DESC',label:'Description for Gender',type:c.sina.AttributeType.String,usage:{Title:'Title',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:false,isKey:false,isDescription:true,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'DISCIPLINE',label:'Discipline',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'DESC',label:'Descritption',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'PIC',label:'picture',type:c.sina.AttributeType.ImageUrl,usage:'title',presentationUsage:'Thumbnail',format:'round',isSortable:false,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'SALARY',label:'Salary',type:c.sina.AttributeType.Integer,usage:'detail',isSortable:true,isQuantity:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'CURRENCY',label:'Currency',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isCurrency:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'HEIGHT',label:'Height',type:c.sina.AttributeType.Integer,usage:'detail',isSortable:true,isQuantity:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'UOM_HEIGHT',label:'Unit of Measure for Height Attribute',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isUnitOfMeasure:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'PHONE',label:'Phone',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'PUB',label:'Publication',type:c.sina.AttributeType.ImageUrl,format:c.sina.AttributeFormatType.DocumentThumbnail,usage:{Title:'Title',AdvancedSearch:{displayOrder:0}},presentationUsage:'Thumbnail',isSortable:false,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'EMAIL',label:'Email',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact})];r.metadata2=[c.sina._createAttributeMetadata({id:'CAPTION',label:'Caption',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:'title',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'LOCATION',label:'Location',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:{Detail:'Detail',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'LOC_4326',label:'LOC_4326',type:c.sina.AttributeType.GeoJson,usage:{type:'Detail',displayOrder:1},isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'FOLKLORIST',label:'Folklorist',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:{Title:'Title',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:false,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'DESC',label:'Descritption',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,format:c.sina.AttributeFormatType.LongText,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'PIC',label:'picture',type:c.sina.AttributeType.ImageUrl,usage:'title',presentationUsage:'Thumbnail',isSortable:false,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'URL',label:'URL',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact})];r.metadata3=[c.sina._createAttributeMetadata({id:'PUB',label:'Publication',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.ImageUrl,format:c.sina.AttributeFormatType.DocumentThumbnail,usage:{Title:'Title',AdvancedSearch:{displayOrder:0}},presentationUsage:'Thumbnail',isSortable:false,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'FOLKLORIST',label:'Folklorist',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:{Detail:'Detail',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'DESC',label:'Description',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,format:c.sina.AttributeFormatType.LongText,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact})];return r;};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/tools/ItemPostParser.js":function(){sinaDefine(['../../sina/SinaObject'],function(S){"use strict";return S.derive({_init:function(p){this._searchResultSetItem=p.searchResultSetItem;this._dataSource=p.searchResultSetItem.dataSource;this._allAttributesMap=p.allAttributesMap||p.searchResultSetItem._private.allAttributesMap;this._intentsResolver=this.sina._createFioriIntentsResolver();},postParseResultSetItem:function(){var p=this.enhanceResultSetItemWithNavigationTargets();this.enhanceResultSetItemWithGroups();return p;},enhanceResultSetItemWithNavigationTargets:function(){var t=this;var s=t._dataSource._private.semanticObjectType;var a=t._searchResultSetItem._private.semanticObjectTypeAttributes;var b=t._dataSource._private.system;var c=t._dataSource._private.client;return t._intentsResolver.resolveIntents({semanticObjectType:s,semanticObjectTypeAttributes:a,systemId:b,client:c,fallbackDefaultNavigationTarget:t._searchResultSetItem.defaultNavigationTarget}).then(function(d){var e=d&&d.defaultNavigationTarget;var n=d&&d.navigationTargets;if(e){t._searchResultSetItem.defaultNavigationTarget=e;e.parent=t._searchResultSetItem;}if(n){t._searchResultSetItem.navigationTargets=n;for(var i=0;i<n.length;i++){n[i].parent=t._searchResultSetItem;}}return t._searchResultSetItem;});},enhanceResultSetItemWithGroups:function(){var a=this._searchResultSetItem.dataSource.attributesMetadata;for(var i=0;i<a.length;i++){var b=a[i];if(b.type===this.sina.AttributeType.Group){var g=this._addAttributeGroup(b);if(b.usage.Detail){this._searchResultSetItem.detailAttributes.push(g);}if(b.usage.Title){this._searchResultSetItem.titleAttributes.push(g);}if(b.usage.TitleDescription){this._searchResultSetItem.titleDescriptionAttributes.push(g);}}}this.sortAttributes();},sortAttributes:function(){var c=function(a){return function(b,d){var e=b.metadata.usage&&b.metadata.usage[a]?b.metadata.usage[a].displayOrder:undefined;var f=d.metadata.usage&&d.metadata.usage[a]?d.metadata.usage[a].displayOrder:undefined;if(e===undefined||f===undefined){if(f!==undefined){return 1;}return-1;}return e-f;};};this._searchResultSetItem.titleAttributes.sort(c("Title"));this._searchResultSetItem.titleDescriptionAttributes.sort(c("TitleDescription"));this._searchResultSetItem.detailAttributes.sort(c("Detail"));},_addAttributeGroup:function(a){var g=this.sina._createSearchResultSetItemAttributeGroup({id:a.id,metadata:a,label:a.label,template:a.template,attributes:[],groups:[]});var p,c;if(a._private){p=a._private.parentAttribute;c=a._private.childAttribute;}for(var k=0;k<a.attributes.length;k++){var b=a.attributes[k];var d=b.attribute;var e;if(d.type===this.sina.AttributeType.Group){e=this._addAttributeGroup(d,this._allAttributesMap);}else{e=this._allAttributesMap[d.id];}if(e){var f=this.sina._createSearchResultSetItemAttributeGroupMembership({group:g,attribute:e,metadata:b});g.attributes.push(f);e.groups.push(f);}if(d==p){g._private.parentAttribute=e;}else if(d==c){g._private.childAttribute=e;}}return g;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/tools/cds/CDSAnnotationsParser.js":function(){sinaDefine(['../../../sina/SinaObject'],function(S){"use strict";return S.derive({_init:function(p){this._datasource=p.dataSource;this._cdsAnnotations=p.cdsAnnotations;this._parsedAttributes={};this._knownAttributeGroups={};this._knownAttributeGroupsArray=[];this._attributeGroupReplacements={};this._AttributeUsagePrio={HIGH:"HIGH",MEDIUM:"MEDIUM",NONE:"NONE"};this._detailUsageStubsMap={};this._detailUsageStubsPrioHigh=[];this._detailUsageStubsPrioMedium=[];this._detailUsageStubsPrioNone=[];this._defaultTextArrangement=this.sina.AttributeGroupTextArrangement.TextLast;},parseCDSAnnotationsForDataSource:function(){this._parsingResult={dataSourceIsCdsBased:false,detailAttributesAreSorted:false,titleAttributesAreSorted:false};this._parseDefaultTextArrangement();this._parseAttributeAnnotations();this._parseDataSourceAnnotations();return this._parsingResult;},_addDetailUsageStub:function(a,d,p){var b;if(typeof a==="string"){b=a;a=undefined;}else{b=a.id;}var u={attribute:a,displayOrder:d,prio:p,obsolete:false};this._detailUsageStubsMap[b]=u;if(p===this._AttributeUsagePrio.HIGH){this._detailUsageStubsPrioHigh.push(u);}else if(p===this._AttributeUsagePrio.MEDIUM){this._detailUsageStubsPrioMedium.push(u);}else{this._detailUsageStubsPrioNone.push(u);}},_getDetailUsageStub:function(a){if(!a){return undefined;}var b;if(typeof a==="string"){b=a;}else{b=a.id;}return this._detailUsageStubsMap[b];},_setParsedAttribute:function(a,b){this._parsedAttributes[a.toUpperCase()]=b;},_getParsedAttribute:function(a){return this._parsedAttributes[a.toUpperCase()];},_setknownAttributeGroup:function(q,a){this._knownAttributeGroups[q.toUpperCase()]=a;},_getknownAttributeGroup:function(q){return this._knownAttributeGroups[q.toUpperCase()];},_parseDefaultTextArrangement:function(){try{var d=this._deriveTextArrangementFromCdsAnnotation(this._cdsAnnotations.dataSourceAnnotations.UI&&this._cdsAnnotations.dataSourceAnnotations.UI.TEXTARRANGEMENT);this._defaultTextArrangement=d||this._defaultTextArrangement;}catch(e){}},_parseDataSourceAnnotations:function(){if(Object.keys(this._cdsAnnotations.dataSourceAnnotations).length>0){try{var u=this._cdsAnnotations.dataSourceAnnotations.UI;var h=u&&u.HEADERINFO;var t=h&&h.TITLE;var a,g,b;if(t){a=t.TYPE&&t.TYPE.toUpperCase();if(a==="AS_CONNECTED_FIELDS"){g=t.VALUEQUALIFIER;if(g&&g.trim().length>0){b=this._getknownAttributeGroup(g);if(b){b.usage.Title={displayOrder:1};}}}else if(!a){var c=t.VALUE;if(c){var d=this._getParsedAttribute(c);if(d){d.usage.Title={displayOrder:1};}}}var f=t.URL;if(f){var i=this._getParsedAttribute(f);if(i){i.usage.Navigation={mainNavigation:true};}}}var j=h&&h.DESCRIPTION;if(j){a=j.TYPE;if(a==="AS_CONNECTED_FIELDS"){g=j.VALUEQUALIFIER;if(g&&g.trim().length>0){b=this._getknownAttributeGroup(g);if(b){b.usage.TitleDescription={displayOrder:1};}}}else if(!a){var k=j.VALUE;if(k){var l=this._getParsedAttribute(k);if(l){l.usage.TitleDescription={};}}}}}catch(e){}}},_parseAttributeAnnotations:function(){for(var a in this._datasource.attributeMetadataMap){this._parseSingleAttribute(a);}this._datasource.attributesMetadata=this._datasource.attributesMetadata.concat(this._knownAttributeGroupsArray);this._datasource.attributeMetadataMap=Object.assign(this._datasource.attributeMetadataMap,this._knownAttributeGroups);this._sortAttributes();},_parseSingleAttribute:function(a){var p=this._getParsedAttribute(a);if(!p){p=this._getPropertyFromObject(this._datasource.attributeMetadataMap,a);this._setParsedAttribute(p.id,p);var b=this._cdsAnnotations.attributeAnnotations[p.id]||{};if(Object.keys(b).length>0){this._parsingResult.dataSourceIsCdsBased=true;try{if(b.UI!==undefined){this._parseSingleAnnotationOrArray(p,b.UI.IDENTIFICATION,this._parseIdentification);this._parseSingleAnnotationOrArray(p,b.UI.CONNECTEDFIELDS,this._parseConnectedFields);this._parseURLsForDocumentResultItemThumbnail(p,b.UI.IDENTIFICATION,b.SEMANTICS);if(b.UI.MULTILINETEXT!==undefined){p.format=this.sina.AttributeFormatType.MultilineText;}}this._parseSemantics(p,b.SEMANTICS);this._parseDescriptionAttribute(p,b.OBJECTMODEL,b.UI);}catch(e){}}}return p;},_parseConnectedFields:function(a,c){var q=c.QUALIFIER;if(q){var b={};if(c.NAME){b[c.NAME]=a;}this._createAttributeGroup(q,c.GROUPLABEL,c.TEMPLATE,b);}},_createAttributeGroup:function(q,l,t,a){var b=this._getknownAttributeGroup(q);if(!b){b=this.sina._createAttributeGroupMetadata({id:q,label:l||"",template:t||"",attributes:[],usage:{}});this._setknownAttributeGroup(q,b);this._knownAttributeGroupsArray.push(b);this._datasource.attributeGroupsMetadata.push(b);this._datasource.attributeGroupMetadataMap[q]=b;var u=this._getDetailUsageStub(q);if(u){u.attribute=b;}}else{if(l&&!b.label){b.label=l;}if(t&&!b.template){b.template=t;}}if(a){for(var n in a){var c=a[n];var d=this.sina._createAttributeGroupMembership({group:b,attribute:c,nameInGroup:n});b.attributes.push(d);c.groups.push(d);}}return b;},_parseIdentification:function(a,i){this._parseAttributePositions(a,i);},_parseAttributePositions:function(a,i){var b=i.IMPORTANCE&&i.IMPORTANCE.toUpperCase();var p=i.POSITION;if(b&&!p){p=Number.MAX_VALUE;}if(p!==undefined){switch(b){case"HIGH":case"MEDIUM":case undefined:p=this._parsePosition(p);var t=i.TYPE&&i.TYPE.toUpperCase();switch(t){case"AS_CONNECTED_FIELDS":var q=i.VALUEQUALIFIER;if(q){var c=this._getknownAttributeGroup(q);if(c){a=c;}else{a=q;}}case undefined:var u=this._getDetailUsageStub(a);if(u){if(!u.attribute&&typeof a!=="string"){u.attribute=a;}}else{var d;if(b==="HIGH"){d=this._AttributeUsagePrio.HIGH;}else if(b==="MEDIUM"){d=this._AttributeUsagePrio.MEDIUM;}else{d=this._AttributeUsagePrio.NONE;}this._addDetailUsageStub(a,p,d);}}}}},_parseURLsForDocumentResultItemThumbnail:function(a,b,s){if(!(s&&s.IMAGEURL)){return;}var u;if(b){if(Array.isArray(b)){for(var i=0;i<b.length;i++){if(b[i].URL){u=b[i].URL;break;}}}else{u=b.URL;}}if(u&&s&&s.IMAGEURL){var c=this._getPropertyFromObject(this._cdsAnnotations.attributeAnnotations,u);if(c){var m=c.SEMANTICS&&c.SEMANTICS.URL&&c.SEMANTICS.URL.MIMETYPE;if(m){var d=this._getPropertyFromObject(this._datasource.attributeMetadataMap,u);var e=this._getPropertyFromObject(this._datasource.attributeMetadataMap,m);a.suvUrlAttribute=d;a.suvMimeTypeAttribute=e;a.format=this.sina.AttributeFormatType.DocumentThumbnail;}}}},_parseSemantics:function(a,s){if(s){if(s.CONTACT&&s.CONTACT.PHOTO!==undefined){a.format=this.sina.AttributeFormatType.Round;if(a.type!==this.sina.AttributeType.ImageBlob){a.type=this.sina.AttributeType.ImageUrl;}}if(s.IMAGEURL!==undefined){if(a.type!==this.sina.AttributeType.ImageBlob){a.type=this.sina.AttributeType.ImageUrl;}}if(s.NAME!==undefined){if(s.NAME.GIVENNAME!==undefined){a.semantics=this.sina.AttributeSemanticsType.FirstName;}if(s.NAME.FAMILYNAME!==undefined){a.semantics=this.sina.AttributeSemanticsType.LastName;}}if(s.EMAIL&&s.EMAIL.ADDRESS!==undefined){a.semantics=this.sina.AttributeSemanticsType.EmailAddress;}if(s.TELEPHONE&&s.TELEPHONE.TYPE!==undefined){a.semantics=this.sina.AttributeSemanticsType.PhoneNr;}if(s&&s.URL!==undefined){a.semantics=this.sina.AttributeSemanticsType.HTTPURL;}if(s&&s.CURRENCYCODE!==undefined){a._private.isCurrency=true;}if(s&&s.UNITOFMEASURE!==undefined){a._private.isUnitOfMeasure=true;}var u,t;var b=s.QUANTITY&&s.QUANTITY.UNITOFMEASURE;if(b){a._private.isQuantity=true;u=this._parseSingleAttribute(b);if(u){if(u._private.isUnitOfMeasure){t="{"+a.id+"} {"+u.id+"}";this._createAttributeGroupForParentChildAttributes(a,u,"____UnitOfMeasureGroup",t);}}}var c=s.AMOUNT&&s.AMOUNT.CURRENCYCODE;if(c){u=this._parseSingleAttribute(c);if(u){if(u._private.isCurrency){t="{"+a.id+"} {"+u.id+"}";this._createAttributeGroupForParentChildAttributes(a,u,"____CurrencyGroup",t);}}}}},_parseDescriptionAttribute:function(a,o,u){var d=o&&o.TEXT&&o.TEXT.ELEMENT;if(d){if(Array.isArray(d)){if(d.length>0){d=d[0];}else{return;}}var b=this._parseSingleAttribute(d);if(b){var t=this._deriveTextArrangementFromCdsAnnotation(u&&u.TEXTARRANGEMENT)||this._defaultTextArrangement;var c=!(a.semantics==this.sina.AttributeSemanticsType.FirstName&&b.semantics==this.sina.AttributeSemanticsType.LastName||b.semantics==this.sina.AttributeSemanticsType.FirstName&&a.semantics==this.sina.AttributeSemanticsType.LastName);var p=c?"(":"";var e=c?")":"";var f;if(t===this.sina.AttributeGroupTextArrangement.TextFirst){f="{"+b.id+"} "+p+"{"+a.id+"}"+e;}else if(t===this.sina.AttributeGroupTextArrangement.TextLast){f="{"+a.id+"} "+p+"{"+b.id+"}"+e;}else if(t===this.sina.AttributeGroupTextArrangement.TextOnly){f="{"+b.id+"}";}else{f="{"+a.id+"} "+p+"{"+b.id+"}"+e;}var g=this._createAttributeGroupForParentChildAttributes(a,b,"____Description",f);g._private.isDescription=true;g._private.textArrangement=t;if(a._private.isUnitOfMeasure||b._private.isUnitOfMeasure){g._private.isUnitOfMeasure=true;}if(a._private.isCurrency||b._private.isCurrency){g._private.isCurrency=true;}}}},_deriveTextArrangementFromCdsAnnotation:function(c){if(c){switch(c.toUpperCase()){case"TEXT_FIRST":return this.sina.AttributeGroupTextArrangement.TextFirst;case"TEXT_LAST":return this.sina.AttributeGroupTextArrangement.TextLast;case"TEXT_ONLY":return this.sina.AttributeGroupTextArrangement.TextOnly;case"TEXT_SEPARATE":return this.sina.AttributeGroupTextArrangement.TextSeparate;}}return undefined;},_createAttributeGroupForParentChildAttributes:function(p,c,q,t){var a=p.id+q;var b={};b[p.id]=p;b[c.id]=c;var d=this._createAttributeGroup(a,p.label,t,b);var o=this._getDetailUsageStub(p);if(o){o.obsolete=true;this._addDetailUsageStub(d,o.displayOrder,o.prio);}this._replaceAttributeWithGroup(p,d);d._private.parentAttribute=p;d._private.childAttribute=c;if(c._private&&c._private.isCurrency){d._private.isCurrency=true;}if(c._private&&c._private.isUnitOfMeasure){d._private.isUnitOfMeasure=true;}return d;},_replaceAttributeWithGroup:function(a,b){this._setParsedAttribute(a.id,b);for(var i=0;i<a.groups.length;i++){var g=a.groups[i];if(g.group!=b){g.attribute=b;}}},_sortAttributes:function(){var s=function(b,c){if(b.displayOrder<c.displayOrder){return-1;}else if(b.displayOrder>c.displayOrder){return 1;}return 0;};var i,a;if(this._detailUsageStubsPrioHigh.length>0||this._detailUsageStubsPrioMedium.length>0){this._detailUsageStubsPrioHigh.sort(s);this._detailUsageStubsPrioMedium.sort(s);var _=this._detailUsageStubsPrioHigh.concat(this._detailUsageStubsPrioMedium);for(i=0;i<_.length;i++){if(!_[i].obsolete){a=_;break;}}}if(!a){a=this._detailUsageStubsPrioNone.sort(s);}for(i=0;i<a.length;i++){var e=a[i];if(!e.obsolete&&e.attribute&&typeof e.attribute!=="string"){e.attribute.usage=e.attribute.usage||{};e.attribute.usage.Detail={displayOrder:i};}}this._parsingResult.detailAttributesAreSorted=true;},_parseSingleAnnotationOrArray:function(a,b,p){if(b!==undefined){if(Array.isArray(b)){for(var j=0;j<b.length;j++){p.apply(this,[a,b[j]]);}}else{p.apply(this,[a,b]);}}},_parsePosition:function(p){if(typeof p==='string'){try{p=parseInt(p,10);}catch(e){p=Number.MAX_VALUE;}}if(typeof p!=='number'||isNaN(p)){p=Number.MAX_VALUE;}return p;},_getPropertyFromObject:function(o,p){if(o[p]){return o[p];}p=p.toLowerCase();for(var k in o){if(k.toLowerCase()===p){return o[k];}}return undefined;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/tools/fiori/FioriIntentsResolver.js":function(){sinaDefine(['../../../sina/SinaObject','./NavigationTargetForIntent'],function(S,N){"use strict";return S.derive({_init:function(){if(typeof sap!=="undefined"&&sap.ushell&&sap.ushell.Container){this._launchpadNavigation=sap.ushell.Container.getService("SmartNavigation")||sap.ushell.Container.getService("CrossApplicationNavigation");this._fioriFrontendSystemInfo={systemId:sap.ushell.Container.getLogonSystem().getName(),client:sap.ushell.Container.getLogonSystem().getClient()};this._primaryIntentAction="-displayFactSheet";this._suppressInSearchTag="suppressInEnterpriseSearch".toLowerCase();}},resolveIntents:function(a){var t=this;if(!t._launchpadNavigation||!a){return Promise.resolve({defaultNavigationTarget:a.fallbackDefaultNavigationTarget});}if(Array.isArray(a)){var p=[];for(var k=0;k<a.length;k++){var b=t._doResolveIntents(a[k]);p.push(b);}return Promise.all(p);}return t._doResolveIntents(a);},_doResolveIntents:function(a){var t=this;var s=a.semanticObjectType;var b=a.semanticObjectTypeAttributes;var c=a.systemId;var d=a.client;var f=a.fallbackDefaultNavigationTarget;if(!s||s.length===0){return Promise.resolve({defaultNavigationTarget:f});}if(!b||b.length===0){return Promise.resolve();}var e={};var v;for(var i=0;i<b.length;i++){v=this.convertAttributeValueToUI5DataTypeFormats(b[i].value,b[i].type);e[b[i].name]=v;}var g={};g.systemId=c||(t._fioriFrontendSystemInfo&&t._fioriFrontendSystemInfo.systemId);g.client=d||(t._fioriFrontendSystemInfo.client&&t._fioriFrontendSystemInfo.client);if(c&&c.trim().length>0&&d&&d.trim().length>0&&(!t._fioriFrontendSystemInfo||!(t._fioriFrontendSystemInfo.systemId===c&&t._fioriFrontendSystemInfo.client===d))){g.urlParameter="sap-system=sid("+c+"."+d+")";}var p=new Promise(function(r,j){if(t._launchpadNavigation.getPrimaryIntent){t._launchpadNavigation.getPrimaryIntent(s,e).done(function(k){r(k);}).fail(function(){r();});}else{r();}});var h=new Promise(function(r,j){var k;if(t._launchpadNavigation.getLinks){k=t._launchpadNavigation.getLinks({semanticObject:s,params:e,withAtLeastOneUsedParam:true,sortResultOnTexts:true});}else{k=t._launchpadNavigation.getSemanticObjectLinks(s,e);}k.done(function(l){r(l);}).fail(function(){r();});});return Promise.all([p,h]).then(function(j){var i;var k=j[0];var l,m=j[1];var n;var r={};var o;if(k&&!t._shallIntentBeSuppressed(k)){o=t._getNavigationTargetForIntent(k,g);r.defaultNavigationTarget=o;}var q=r.defaultNavigationTarget!==undefined;r.navigationTargets=[];if(m){for(i=0;i<m.length;i++){l=m[i];if(t._shallIntentBeSuppressed(l)){continue;}n=t._getNavigationTargetForIntent(l,g);if(!q&&l.intent.substring(l.intent.indexOf("-"),l.intent.indexOf("?"))===t._primaryIntentAction){r.defaultNavigationTarget=n;q=true;}else if(!o||!n.isEqualTo(o)){r.navigationTargets.push(n);}}}return r;});},_shallIntentBeSuppressed:function(a){if(a.tags){for(var i=0;i<a.tags.length;i++){if(a.tags[i].toLowerCase()===this._suppressInSearchTag){return true;}}}return false;},_getNavigationTargetForIntent:function(i,s){var t=this;var a=i.intent;if(s.urlParameter){if(a.indexOf('?')===-1){a+="?";}else{a+="&";}a+=s.urlParameter;}var e={target:{shellHash:a}};var b=t._launchpadNavigation.hrefForExternal(e);var n=t.sina._createNavigationTargetForIntent({label:i.text,targetUrl:b,externalTarget:e,systemId:s.systemId,client:s.client});return n;},convertAttributeValueToUI5DataTypeFormats:function(v,s){var y,m,d,h,a,b,c;switch(s){case this.sina.AttributeType.Timestamp:y=v.getUTCFullYear();m=v.getUTCMonth()+1;d=v.getUTCDate();h=v.getUTCHours();a=v.getUTCMinutes();b=v.getUTCSeconds();c=v.getUTCMilliseconds()*1000;v=this.addLeadingZeros(y.toString(),4)+'-'+this.addLeadingZeros(m.toString(),2)+'-'+this.addLeadingZeros(d.toString(),2)+'T'+this.addLeadingZeros(h.toString(),2)+':'+this.addLeadingZeros(a.toString(),2)+':'+this.addLeadingZeros(b.toString(),2)+'.'+this.addLeadingZeros(c.toString(),3);break;case this.sina.AttributeType.Date:v=v.slice(0,4)+'-'+v.slice(5,7)+'-'+v.slice(8,10);break;}return v;},addLeadingZeros:function(v,l){return'00000000000000'.slice(0,l-v.length)+v;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/tools/fiori/NavigationTargetForIntent.js":function(){sinaDefine(['../../../sina/NavigationTarget'],function(N){"use strict";var _;if(typeof sap!=="undefined"&&sap.ushell&&sap.ushell.Container){_=(sap.ushell.Container.getService("SmartNavigation")||sap.ushell.Container.getService("CrossApplicationNavigation"));}return N.derive({_meta:{properties:{externalTarget:{required:true},systemId:{required:false},client:{required:false}}},performNavigation:function(p){p=p||{};var s=p.suppressTracking||false;var t=p.trackingOnly||false;if(_){if(!s){this._trackNavigation();}if(!t){_.toExternal(this.externalTarget);}}else{N.prototype.performNavigation.apply(this,arguments);}},_trackNavigation:function(){if(_&&_.trackNavigation){_.trackNavigation({target:this.externalTarget.target});}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/tools/fiori/SuvNavTargetResolver.js":function(){sinaDefine(['../../../sina/SinaObject'],function(S){"use strict";var g=function(){var t=[];$.each(document.styleSheets,function(i,c){if(c.href){var f=c.href.toString();var r=/themes\/(.+)\/library.css/;var m=r.exec(f);if(m!==null){t.push(m[1]);return false;}}return true;});return t[0];};var a=function(u){var r=u;var t=g();if(!t){return r;}t="sap-theme="+t+"&";if(u.indexOf("sap-theme=")===-1){if(u.indexOf("?")!==-1){r=u.replace("?","?"+t);}}return r;};return S.derive({_init:function(){this.suvMimeType="application/vnd.sap.universal-viewer+suv";this.suvViewerBasePath="/sap/bc/ui5_ui5/ui2/ushell/resources/sap/fileviewer/viewer/web/viewer.html?file=";},addHighlightTermsToUrl:function(u,h){if(!h){return u;}u+='&searchTerms='+encodeURIComponent(JSON.stringify({'terms':h}));return u;},resolveSuvNavTargets:function(d,s,b){for(var c in s){var o;var e=s[c];var t=e.suvThumbnailAttribute;if(e.suvTargetMimeTypeAttribute.value===this.suvMimeType){o=this.suvViewerBasePath+encodeURIComponent(e.suvTargetUrlAttribute.value);o=this.addHighlightTermsToUrl(o,b);o=a(o);t.defaultNavigationTarget=this.sina._createNavigationTarget({label:e.suvTargetUrlAttribute.value,targetUrl:o,target:'_blank'});}else{o=e.suvTargetUrlAttribute.value;t.defaultNavigationTarget=this.sina._createNavigationTarget({label:e.suvTargetUrlAttribute.value,targetUrl:o,target:'_blank'});}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/tools/sors/JoinConditions.js":function(){sinaDefine(['../../../core/core','./NavigationTargetTemplate'],function(c,N){"use strict";return c.defineClass({_init:function(p){this.sina=p.sina;this.navigationTargetGenerator=p.navigationTargetGenerator;this.sourceObjectType=p.sourceObjectType;this.targetObjectType=p.targetObjectType;this.conditions=[];},add:function(a){this.conditions.push(a);},hasDuplicateSemanticObject:function(){var m={};for(var i=0;i<this.conditions.length;++i){var a=this.conditions[i];if(m[a.semanticObjectType]){return true;}m[a.semanticObjectType]=true;}return false;},hasDistinctValue:function(s,p){var v;for(var i=0;i<this.conditions.length;++i){var a=this.conditions[i];if(a.semanticObjectType!==s){continue;}if(!v){v=a[p];continue;}if(v!==a[p]){return false;}}return true;},generateNavigationTargetTemplates:function(){if(this.hasDuplicateSemanticObject()){return this.createSingleConditionsTemplates();}return this.createMultipleConditionsTemplates();},createSingleConditionsTemplates:function(){var n=[];for(var i=0;i<this.conditions.length;++i){var a=this.conditions[i];var s=this.hasDistinctValue(a.semanticObjectType,'sourcePropertyName');var t=this.hasDistinctValue(a.semanticObjectType,'targetPropertyName');if(!s&&!t){continue;}var b=new N({sina:this.sina,navigationTargetGenerator:this.navigationTargetGenerator,label:'dummy',sourceObjectType:this.sourceObjectType,targetObjectType:this.targetObjectType,conditions:[a]});b._condition=a;n.push(b);}this.assembleSingleConditionTemplateLabels(n);return n;},createMultipleConditionsTemplates:function(){return[new N({sina:this.sina,navigationTargetGenerator:this.navigationTargetGenerator,label:this.navigationTargetGenerator.objectTypeMap[this.targetObjectType].label,sourceObjectType:this.sourceObjectType,targetObjectType:this.targetObjectType,conditions:this.conditions})];},assembleSingleConditionTemplateLabels:function(n){var t={};var a,l,b,m;for(var i=0;i<n.length;++i){b=n[i];m=this.navigationTargetGenerator.objectTypeMap[this.targetObjectType];l=m.label+' to:'+m.propertyMap[b._condition.targetPropertyName].label;b.label=l;a=t[l];if(!a){a=[];t[l]=a;}a.push(b);}m=this.navigationTargetGenerator.objectTypeMap[this.sourceObjectType];for(l in t){a=t[l];if(a.length>1){for(var j=0;j<a.length;++j){b=a[j];b.label+=' from:'+m.propertyMap[b._condition.sourcePropertyName].label;}}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/tools/sors/NavigationTargetGenerator.js":function(){sinaDefine(['../../../core/core','../../../core/util','../../../sina/SinaObject','./JoinConditions'],function(c,u,S,J){"use strict";return S.derive({_init:function(p){this.active=this.checkActive();this.getPropertyMetadata=p.getPropertyMetadata;this.urlPrefix=p.urlPrefix;this.navigationTargetTemplatesInitialized=false;this.navigationTargetTemplatesMap={};this.objectTypeMap={};this.ignoredSemanticObjectTypes={LastChangedByUser:true,CreationDate:true,CreatedByUser:true};},checkActive:function(){var s=u.getUrlParameter('sors');if(s==='true'){return true;}return false;},cleanup:function(){this.objectTypeMap=null;},registerObjectType:function(o){if(!this.active){return;}var m={type:o.type,label:o.label,propertyMap:{}};this.objectTypeMap[o.type]=m;for(var i=0;i<o.properties.length;++i){var p=o.properties[i];var a=this.getPropertyMetadata(p);this.filterSemanticObjectType(a);m.propertyMap[a.name]=a;}},filterSemanticObjectType:function(p){if(this.ignoredSemanticObjectTypes[p.semanticObjectType]){delete p.semanticObjectType;}},finishRegistration:function(){if(!this.active){return;}this.calculateNavigationTargetTemplates();},calculateNavigationTargetTemplates:function(){if(this.navigationTargetTemplatesInitialized){return;}var j=this.collectJoinConditions();this.navigationTargetTemplatesMap=this.createNavTargetTemplatesFromJoinConditions(j);this.cleanup();this.navigationTargetTemplatesInitialized=true;},createNavTargetTemplatesFromJoinConditions:function(j){var n={};for(var s in j){var o=j[s];var a=[];for(var t in o){var b=o[t];if(!b){continue;}a.push.apply(a,b.generateNavigationTargetTemplates());}if(a.length!==0){n[s]=a;}}return n;},collectJoinConditions:function(){var s=this.createIndex();var j={};for(var o in this.objectTypeMap){var a=this.collectJoinConditionsForObjectType(s,o);if(!c.isEmptyObject(a)){j[o]=a;}}return j;},collectJoinConditionsForObjectType:function(s,o){var a={};var b=this.objectTypeMap[o];var g=function(f){var l=a[f];if(!l){l=new J({sina:this.sina,navigationTargetGenerator:this,sourceObjectType:o,targetObjectType:f});a[f]=l;}return l;}.bind(this);for(var p in b.propertyMap){var d=b.propertyMap[p];var e=d.semanticObjectType;if(!d.response){continue;}if(!e){continue;}var t=s[e];for(var f in t){if(f===b.type){continue;}var h=this.objectTypeMap[f];var i=t[f];for(var j in i){var k=h.propertyMap[j];if(!k.request){continue;}var l=g(f);l.add({sourcePropertyName:p,targetPropertyName:j,semanticObjectType:e});}}}return a;},createIndex:function(){var s={};for(var o in this.objectTypeMap){this.createIndexForObjectType(s,o);}return s;},createIndexForObjectType:function(s,o){var a=this.objectTypeMap[o];for(var p in a.propertyMap){var b=a.propertyMap[p];var d=b.semanticObjectType;if(!d){continue;}var e=s[d];if(!e){e={};s[d]=e;}var f=e[a.type];if(!f){f={};e[a.type]=f;}var g=f[p];if(!g){g=true;f[p]=true;}}},formatItem:function(a){var b=function(d,e){for(var i=0;i<e.length;++i){var f=e[i];d[f.id]=f;}};var d={};b(d,a.detailAttributes);b(d,a.titleAttributes);return d;},generateNavigationTargetsForItem:function(a){var n=this.navigationTargetTemplatesMap[a.dataSource.id];if(!n){return undefined;}var f=this.formatItem(a);var b=[];for(var i=0;i<n.length;++i){var d=n[i];var e=d.generate(f);if(!e){continue;}b.push(e);}return b;},generateNavigationTargets:function(s){if(!this.active){return;}for(var i=0;i<s.items.length;++i){var a=s.items[i];var n=this.generateNavigationTargetsForItem(a);a.navigationTargets=a.navigationTargets||[];a.navigationTargets.push.apply(a.navigationTargets,n);}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/tools/sors/NavigationTargetTemplate.js":function(){sinaDefine(['../../../core/core'],function(c){"use strict";return c.defineClass({_init:function(p){this.sina=p.sina;this.navigationTargetGenerator=p.navigationTargetGenerator;this.label=p.label;this.sourceObjectType=p.sourceObjectType;this.targetObjectType=p.targetObjectType;this.conditions=p.conditions;},generate:function(d){var a=this.sina.getDataSource(this.targetObjectType);var f=this.sina.createFilter({dataSource:a,searchTerm:'*'});for(var i=0;i<this.conditions.length;++i){var b=this.conditions[i];var e=this.sina.createSimpleCondition({attribute:b.targetPropertyName,attributeLabel:a.getAttributeMetadata(b.targetPropertyName).label,operator:this.sina.ComparisonOperator.Eq,value:d[b.sourcePropertyName].value,valueLabel:d[b.sourcePropertyName].valueFormatted});f.autoInsertCondition(e);}return this.sina._createNavigationTarget({label:this.label,targetUrl:this.navigationTargetGenerator.urlPrefix+encodeURIComponent(JSON.stringify(f.toJson()))});}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/AttributeFormatType.js":function(){sinaDefine([],function(){"use strict";return{Round:'Round',DocumentThumbnail:'DocumentThumbnail',LongText:'LongText',MultilineText:'MultilineText'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/AttributeGroupMembership.js":function(){sinaDefine(['../core/core','./SinaObject'],function(c,S){"use strict";return S.derive({_meta:{properties:{group:{required:true},attribute:{required:true},nameInGroup:{required:true}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/AttributeGroupMetadata.js":function(){sinaDefine(['../core/core','./SinaObject','./AttributeType','./AttributeMetadataBase'],function(c,S,A,a){"use strict";return a.derive({_meta:{properties:{type:{required:false,default:A.Group},label:{required:false},isSortable:{required:false,default:false},template:{required:false},attributes:{required:true,default:function(){return[];}}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/AttributeGroupTextArrangement.js":function(){sinaDefine([],function(){"use strict";return{TextFirst:'TextFirst',TextLast:'TextLast',TextOnly:'TextOnly',TextSeparate:'TextSeparate'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/AttributeMetadata.js":function(){sinaDefine(['../core/core','./SinaObject','./AttributeMetadataBase'],function(c,S,A){"use strict";return A.derive({_meta:{properties:{type:{required:true},label:{required:true},isSortable:{required:true},format:{required:false},isKey:{required:true},semantics:{required:false},matchingStrategy:{required:true}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/AttributeMetadataBase.js":function(){sinaDefine(['../core/core','./SinaObject'],function(c,S){"use strict";return S.derive({_meta:{properties:{id:{required:true},usage:{required:true},displayOrder:{required:false},groups:{required:false,default:function(){return[];}}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/AttributeSemanticsType.js":function(){sinaDefine([],function(){"use strict";return{PhoneNr:'PhoneNr',EmailAddress:'EmailAddress',HTTPURL:'HTTPURL',FirstName:'FirstName',LastName:'LastName'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/AttributeType.js":function(){sinaDefine([],function(){"use strict";return{Double:'Double',Integer:'Integer',String:'String',ImageUrl:'ImageUrl',ImageBlob:'ImageBlob',GeoJson:'GeoJson',Date:'Date',Time:'Time',Timestamp:'Timestamp',Group:'Group'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/AttributeUsageType.js":function(){sinaDefine([],function(){"use strict";return{AdvancedSearch:'AdvancedSearch',Facet:'Facet',Title:'Title',Detail:'Detail',Navigation:'Navigation'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/Capabilities.js":function(){sinaDefine(['../core/core','./SinaObject'],function(c,S){"use strict";return S.derive({_meta:{properties:{fuzzy:{required:false,default:false}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/ChartQuery.js":function(){sinaDefine(['../core/core','./FacetQuery'],function(c,F){"use strict";return F.derive({_meta:{properties:{top:{default:5},dimension:{required:true}}},_initClone:function(o){this.dimension=o.dimension;},_equals:function(o){return this.dimension===o.dimension;},_execute:function(q){return this.sina.provider.executeChartQuery(q);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/ChartResultSet.js":function(){sinaDefine(['../core/core','./FacetResultSet','./FacetType'],function(c,F,a){"use strict";return F.derive({type:a.Chart});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/ChartResultSetItem.js":function(){sinaDefine(['../core/core','./FacetResultSetItem'],function(c,F){"use strict";return F.derive({_meta:{properties:{filterCondition:{required:true}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/ComparisonOperator.js":function(){sinaDefine([],function(){"use strict";return{'Eq':'Eq','Gt':'Gt','Lt':'Lt','Ge':'Ge','Le':'Le','Co':'Co','Bw':'Bw','Ew':'Ew'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/ComplexCondition.js":function(){sinaDefine(['../core/core','./Condition','./ConditionType'],function(c,C,a){"use strict";return C.derive({_meta:{properties:{operator:{required:false,default:function(){return this.sina.LogicalOperator.And;}},conditions:{required:false,default:function(){return[];}}}},type:a.Complex,_initClone:function(o){this.operator=o.operator;this.conditions=[];for(var i=0;i<o.conditions.length;++i){this.conditions.push(o.conditions[i].clone());}},_equals:function(o){if(this.operator!==o.operator){return false;}if(this.conditions.length!==o.conditions.length){return false;}var m={};for(var i=0;i<this.conditions.length;++i){var b=this.conditions[i];var d=false;for(var j=0;j<o.conditions.length;++j){if(m[j]){continue;}var e=o.conditions[j];if(b.equals(e)){d=true;m[j]=true;break;}}if(!d){return false;}}return true;},addCondition:function(b){if(!(b instanceof C)){b=this.sina.createSimpleCondition(b);}this.conditions.push(b);},removeConditionAt:function(i){this.conditions.splice(i,1);},hasFilters:function(){return this.conditions.length>=1;},removeAttributeConditions:function(b){var r={deleted:false,attribute:'',value:''};for(var i=0;i<this.conditions.length;++i){var s=this.conditions[i];switch(s.type){case a.Complex:r=s.removeAttributeConditions(b);break;case a.Simple:if(s.attribute===b){r={deleted:true,attribute:s.attribute,value:s.value};this.removeConditionAt(i);i--;}break;}}this.cleanup();return r;},cleanup:function(){var r=false;var d=function(b){for(var i=0;i<b.conditions.length;++i){var s=b.conditions[i];switch(s.type){case a.Complex:d(s);if(s.conditions.length===0){r=true;b.removeConditionAt(i);i--;}break;case a.Simple:break;}}};do{r=false;d(this);}while(r);},resetConditions:function(){this.conditions.splice(0,this.conditions.length);},_getAttribute:function(){if(this.conditions.length===0){return null;}return this.conditions[0]._getAttribute();},toJson:function(){var r={type:'Complex',operator:this.operator,conditions:[],valueLabel:this.valueLabel,attributeLabel:this.attributeLabel};for(var i=0;i<this.conditions.length;++i){var b=this.conditions[i];r.conditions.push(b.toJson());}if(this.userDefined){r.userDefined=true;}return r;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/Condition.js":function(){sinaDefine(['../core/core','./SinaObject'],function(c,S){"use strict";return S.derive({_meta:{properties:{attributeLabel:{required:false},valueLabel:{required:false},userDefined:{required:false}}},_initClone:function(o){this.attributeLabel=o.attributeLabel;this.valueLabel=o.valueLabel;this.userDefined=o.userDefined;},_equals:function(o){return true;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/ConditionType.js":function(){sinaDefine([],function(){"use strict";return{Simple:'Simple',Complex:'Complex'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/Configuration.js":function(){sinaDefine(['../core/core','./SinaObject'],function(c,S){"use strict";return S.derive({_meta:{properties:{personalizedSearch:{required:true,setter:true},isPersonalizedSearchEditable:{required:true}}},resetPersonalizedSearchDataAsync:function(){return this.sina.provider.resetPersonalizedSearchDataAsync(this);},saveAsync:function(){return this.sina.provider.saveConfigurationAsync(this);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/DataSource.js":function(){sinaDefine(['../core/core','./SinaObject'],function(c,S){"use strict";return S.derive({_meta:{properties:{type:{required:true},id:{required:true},label:{required:true},labelPlural:{required:false},hidden:{required:false,default:false},usage:{required:false,default:{}},attributesMetadata:{required:false,default:function(){return[];}},attributeMetadataMap:{required:false,default:function(){return{};}},attributeGroupsMetadata:{required:false,default:function(){return[];}},attributeGroupMetadataMap:{required:false,default:function(){return{};}}}},equals:function(){throw new c.Exception('use === operator for comparison of datasources');},_afterInitProperties:function(){if(!this.labelPlural||this.labelPlural.length===0){this.labelPlural=this.label;}if(this.type===this.sina.DataSourceType.BusinessObject&&this.attributesMetadata.length===0){throw'attributes of datasource are missing';}this.attributeMetadataMap=this.createAttributeMetadataMap(this.attributesMetadata);},_configure:function(){var f=this.sina.metadataFormatters;if(!f){return;}for(var i=0;i<f.length;++i){var a=f[i];a.format({dataSources:[this]});}},createAttributeMetadataMap:function(a){var m={};for(var i=0;i<a.length;++i){var b=a[i];m[b.id]=b;}return m;},getAttributeMetadata:function(i){return this.attributeMetadataMap[i];},toJson:function(){return{type:this.type,id:this.id,label:this.label,labelPlural:this.labelPlural};}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/DataSourceQuery.js":function(){sinaDefine(['../core/core','./FacetQuery'],function(c,F){"use strict";return F.derive({_meta:{properties:{dataSource:{required:true}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/DataSourceResultSet.js":function(){sinaDefine(['../core/core','./FacetResultSet','./FacetType'],function(c,F,a){"use strict";return F.derive({type:a.DataSource});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/DataSourceResultSetItem.js":function(){sinaDefine(['../core/core','./FacetResultSetItem'],function(c,F){"use strict";return F.derive({_meta:{properties:{dataSource:{required:true}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/DataSourceSuggestion.js":function(){sinaDefine(['../core/core','./Suggestion','./SuggestionType'],function(c,S,a){"use strict";return S.derive({type:a.DataSource,_meta:{properties:{dataSource:{required:true}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/DataSourceType.js":function(){sinaDefine([],function(){"use strict";return{BusinessObject:'BusinessObject',Category:'Category'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/EqualsMode.js":function(){sinaDefine([],function(){"use strict";return{CheckFireQuery:'CheckFireQuery'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/FacetQuery.js":function(){sinaDefine(['../core/core','./Query'],function(c,Q){"use strict";return Q.derive({});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/FacetResultSet.js":function(){sinaDefine(['../core/core','./ResultSet'],function(c,R){"use strict";return R.derive({toString:function(){var r=[];r.push('--Facet');r.push(R.prototype.toString.apply(this,arguments));return r.join('\n');}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/FacetResultSetItem.js":function(){sinaDefine(['../core/core','./ResultSetItem'],function(c,R){"use strict";return R.derive({_meta:{properties:{dimensionValueFormatted:{required:true},measureValue:{required:true},measureValueFormatted:{required:true}}},toString:function(){return this.dimensionValueFormatted+':'+this.measureValueFormatted;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/FacetType.js":function(){sinaDefine([],function(){"use strict";return{Chart:'Chart',DataSource:'DataSource'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/Filter.js":function(){sinaDefine(['../core/core','./SinaObject','./SimpleCondition','./ComplexCondition'],function(c,S,a,C){"use strict";return S.derive({_meta:{properties:{dataSource:{required:false,default:function(){return this.sina.getAllDataSource();}},searchTerm:{required:false,default:'',setter:true},rootCondition:{required:false,default:function(){return this.sina.createComplexCondition();},setter:true}}},_initClone:function(o){this.dataSource=o.dataSource;this.searchTerm=o.searchTerm;this.rootCondition=o.rootCondition.clone();},_equals:function(o){return this.dataSource===o.dataSource&&this.searchTerm===o.searchTerm&&this.rootCondition.equals(o.rootCondition);},_getAttribute:function(b){if(b instanceof a){return b.attribute;}for(var i=0;i<b.conditions.length;++i){var d=this._getAttribute(b.conditions[i]);if(d){return d;}}},setDataSource:function(d){if(this.dataSource===d){return;}this.dataSource=d;this.resetConditions();},resetConditions:function(){this.rootCondition.resetConditions();},autoInsertCondition:function(b){if(!(this.rootCondition instanceof C)){throw new c.Exception('cannot auto insert condition - condition is not a complex condition');}var d=this._getAttribute(b);var m,e;for(var i=0;i<this.rootCondition.conditions.length;++i){e=this.rootCondition.conditions[i];var f=this._getAttribute(e);if(f===d){m=e;break;}}if(!m){m=this.sina.createComplexCondition({operator:this.sina.LogicalOperator.Or});this.rootCondition.addCondition(m);}for(var j=0;j<m.conditions.length;++j){e=m.conditions[j];if(e.equals(b)){return;}}m.addCondition(b);},autoRemoveCondition:function(b){var r=function(d,b){for(var i=0;i<d.conditions.length;++i){var s=d.conditions[i];if(s.equals(b)){d.removeConditionAt(i);i--;continue;}if(s instanceof C){r(s,b);if(s.conditions.length===0){d.removeConditionAt(i);i--;continue;}}}};r(this.rootCondition,b);},toJson:function(){return{dataSource:this.dataSource.toJson(),searchTerm:this.searchTerm,rootCondition:this.rootCondition.toJson()};}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/LogicalOperator.js":function(){sinaDefine([],function(){"use strict";return{And:'And',Or:'Or'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/MatchingStrategy.js":function(){sinaDefine([],function(){"use strict";return{Exact:'Exact',Text:'Text'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/NavigationTarget.js":function(){sinaDefine(['./SinaObject'],function(S){"use strict";return S.derive({_meta:{properties:{targetUrl:{required:true},label:{required:true},target:{required:false}}},performNavigation:function(p){p=p||{};var t=p.trackingOnly||false;if(!t){if(this.target){this.openURL(this.targetUrl,this.target);}else{this.openURL(this.targetUrl);}}},openURL:function(U,t){if(jQuery&&jQuery.sap&&jQuery.sap.openWindow){return jQuery.sap.openWindow(U,t);}return window.open(U,t,'noopener,noreferrer');},isEqualTo:function(o){if(!o){return false;}return this.targetUrl==o.targetUrl;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/ObjectSuggestion.js":function(){sinaDefine(['../core/core','./Suggestion','./SuggestionType'],function(c,S,a){"use strict";return S.derive({type:a.Object,_meta:{properties:{object:{required:true,aggregation:true}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/Query.js":function(){sinaDefine(['../core/core','../core/util','./SinaObject'],function(c,u,S){"use strict";return S.derive({_meta:{properties:{filter:{required:false,default:function(){return this.sina.createFilter();}},top:{required:false,default:10,setter:true},skip:{required:false,default:0,setter:true},sortOrder:{required:false,default:function(){return[];},setter:true}}},_afterInitProperties:function(p){if(p.dataSource){this.filter.setDataSource(p.dataSource);}if(p.searchTerm){this.filter.setSearchTerm(p.searchTerm);}if(p.rootCondition){this.filter.setRootCondition(p.rootCondition);}if(this.requestTimeout){this._execute=u.timeoutDecorator(this._execute,this.requestTimeout);}this._execute=u.refuseOutdatedResponsesDecorator(this._execute);},_initClone:function(o){this.top=o.top;this.skip=o.skip;this.filter=o.filter.clone();this.sortOrder=c.clone(o.sortOrder);},_equals:function(o){return this.top===o.top&&this.skip===o.skip&&this.filter.equals(o.filter)&&c.equals(this.sortOrder,o.sortOrder);},abort:function(){this._execute.abort();},getResultSetAsync:function(){if(this.equals(this._lastQuery,this.sina.EqualsMode.CheckFireQuery)){return this._resultSetPromise;}if(this._lastQuery&&!this.filter.equals(this._lastQuery.filter)){this.setSkip(0);}this._lastQuery=this._createReadOnlyClone();var r;this._resultSetPromise=this._execute(this._lastQuery).then(function(R){r=R;}).then(function(){return this._formatResultSetAsync(r);}.bind(this)).then(function(){return r;});return this._resultSetPromise;},_formatResultSetAsync:function(r){},_setResultSet:function(r){this._lastQuery=this._createReadOnlyClone();this._resultSetPromise=c.Promise.resolve().then(function(){return this._formatResultSetAsync(r);}.bind(this)).then(function(){return r;});return this._resultSetPromise;},_createReadOnlyClone:function(){var q=this.clone();q.getResultSetAsync=function(){throw new c.Exception('this query is readonly');};return q;},resetResultSet:function(){this._lastQuery=null;this._resultSetPromise=null;},getSearchTerm:function(){return this.filter.searchTerm;},getDataSource:function(){return this.filter.dataSource;},getRootCondition:function(){return this.filter.rootCondition;},setSearchTerm:function(s){this.filter.setSearchTerm(s);},setDataSource:function(d){this.filter.setDataSource(d);},setRootCondition:function(r){this.filter.setRootCondition(r);},resetConditions:function(){this.filter.resetConditions();},autoInsertCondition:function(a){this.filter.autoInsertCondition(a);},autoRemoveCondition:function(a){this.filter.autoRemoveCondition(a);},setFilter:function(f){if(!this.filter.equals(f)){this.setSkip(0);}this.filter=f;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/ResultSet.js":function(){sinaDefine(['../core/core','./SinaObject','../core/Log'],function(c,S,L){"use strict";return S.derive({_meta:{properties:{id:{required:false,default:function(){return c.generateId();}},title:{required:true},items:{required:false,default:function(){return[];},aggregation:true},query:{required:true},log:{required:false,default:function(){return new L();}}}},toString:function(){var r=[];for(var i=0;i<this.items.length;++i){var a=this.items[i];r.push(a.toString());}return r.join('\n');}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/ResultSetItem.js":function(){sinaDefine(['../core/core','./SinaObject'],function(c,S){"use strict";return S.derive({});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SearchQuery.js":function(){sinaDefine(['../core/core','./Query'],function(c,Q){"use strict";return Q.derive({_meta:{properties:{calculateFacets:{required:false,default:false,setter:true},multiSelectFacets:{required:false,default:false,setter:true},nlq:{required:false,default:false,setter:true},facetTop:{required:false,default:5,setter:true}}},_initClone:function(o){this.calculateFacets=o.calculateFacets;this.multiSelectFacets=o.multiSelectFacets;this.nlq=o.nlq;this.facetTop=o.facetTop;},_equals:function(o,m){if(this.nlq!==o.nlq){return false;}if(this.multiSelectFacets!==o.multiSelectFacets){return false;}if(this.facetTop!==o.facetTop){return false;}switch(m){case this.sina.EqualsMode.CheckFireQuery:if(o.calculateFacets&&!this.calculateFacets){return true;}return this.calculateFacets===o.calculateFacets;default:return this.calculateFacets===o.calculateFacets;}},_execute:function(q){var f;var a=[];if(this.multiSelectFacets){f=this._collectAttributesWithFilter(q);a=this._createChartQueries(q,f);}var r=[];var d=[];r.push(this.sina.provider.executeSearchQuery(q));for(var i=0;i<a.length;++i){var b=a[i];var e=q.filter.dataSource.getAttributeMetadata(b.dimension);if(!e){d.push(b);}else{if(e.usage.Facet){r.push(b.getResultSetAsync());}}}var g;return Promise.all(r).then(function(h){g=h;var k=[];for(var j=0;j<d.length;++j){var l=d[j];var m=q.filter.dataSource.getAttributeMetadata(l.dimension);if(m.usage.Facet){k.push(l.getResultSetAsync());}}return Promise.all(k);}.bind(this)).then(function(h){return g.concat(h);}.bind(this)).then(function(h){var s=h[0];var j=h.slice(1);this._mergeFacetsToSearchResultSet(s,j);return s;}.bind(this));},_formatResultSetAsync:function(r){return c.executeSequentialAsync(this.sina.searchResultSetFormatters,function(f){return f.formatAsync(r);});},_collectAttributesWithFilter:function(q){var a={};this._doCollectAttributes(a,q.filter.rootCondition);return Object.keys(a);},_doCollectAttributes:function(a,b){switch(b.type){case this.sina.ConditionType.Simple:a[b.attribute]=true;break;case this.sina.ConditionType.Complex:for(var i=0;i<b.conditions.length;++i){var s=b.conditions[i];this._doCollectAttributes(a,s);}break;}},_createChartQuery:function(q,f){var a=this.sina.createChartQuery({dimension:f,top:this.facetTop});a.setFilter(q.filter.clone());a.filter.rootCondition.removeAttributeConditions(f);return a;},_createChartQueries:function(q,f){var a=[];for(var i=0;i<f.length;++i){var b=f[i];var d=this._createChartQuery(q,b);a.push(d);}return a;},_mergeFacetsToSearchResultSet:function(s,a){this._addSelectedFiltersToSearchResultSet(s);for(var i=0;i<a.length;++i){var b=a[i];this._addChartResultSetToSearchResultSet(s,b);}},_calculateFacetTitle:function(a,d){var b=a._getAttribute();var e=d.getAttributeMetadata(b);return e.label;},_addSelectedFiltersToSearchResultSet:function(s){for(var j=0;j<s.query.filter.rootCondition.conditions.length;j++){var a=s.query.filter.rootCondition.conditions[j].conditions;var b=this._calculateFacetTitle(a[0],s.query.filter.dataSource);var d;switch(a[0].type){case this.sina.ConditionType.Simple:d=a[0].attribute;break;case this.sina.ConditionType.Complex:d=a[0].conditions[0].attribute;break;}var m=this._findMatchFacet(d,s.facets);var e=s.facets[m];if(!e){var f=this._createChartQuery(s.query,d);e=this.sina._createChartResultSet({title:b,items:[],query:f});s.facets.splice(m,1,e);}var g=null;if(a.length===1){g=s.totalCount;}var h=[];for(var k=0;k<a.length;k++){var i;if(this._findFilterConditionInFacetItemList(a[k],e.items)>=0){i=this._findFilterConditionInFacetItemList(a[k],e.items);h.push(e.items[i]);}else{h.push(this.sina._createChartResultSetItem({filterCondition:a[k],dimensionValueFormatted:a[k].valueLabel||a[k].value,measureValue:g,measureValueFormatted:a[k].valueLabel||a[k].value}));}}e.items=h;}},_addChartResultSetToSearchResultSet:function(s,d){if(d.items.length===0){return;}var e=d.query.dimension;var f=this._findMatchFacet(e,s.facets);var g=s.facets[f];var h=g.items;var i=false;var j=[];for(var m=0;m<h.length;m++){var k=this._findFilterConditionInFacetItemList(h[m].filterCondition,d.items);if(k>=0){if(this._isRangeFacet(d.query)){j.push(d.items[k]);}}else{if(this._isRangeFacet(d.query)){i=true;}j.push(h[m]);}}j.sort(function(a,b){return b.measureValue-a.measureValue;});if(this._isRangeFacet(d.query)){if(i){d.items=j;}}else{d.items=d.items.concat(j);}s.facets.splice(f,1,d);},_findMatchFacet:function(d,f){var i=0;for(;i<f.length;i++){var a=f[i];if(a.query.dimension===d){break;}}return i;},_findFilterConditionInFacetItemList:function(f,a){var b=-1;for(var i=0;i<a.length;i++){var d=a[i];if(f.equals(d.filterCondition)){b=i;break;}}return b;},_isRangeFacet:function(q){var d=q.filter.dataSource.getAttributeMetadata(q.dimension);if(d.type===q.sina.AttributeType.Double){return true;}return false;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SearchResultSet.js":function(){sinaDefine(['../core/core','./ResultSet'],function(c,R){"use strict";return R.derive({_meta:{properties:{facets:{required:false,default:function(){return[];}},totalCount:{required:true},nlqSuccess:{required:false,default:false}}},toString:function(){var r=[];r.push(R.prototype.toString.apply(this,arguments));for(var i=0;i<this.facets.length;++i){var f=this.facets[i];r.push(f.toString());}return r.join('\n');}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SearchResultSetItem.js":function(){sinaDefine(['../core/core','./ResultSetItem'],function(c,R){"use strict";return R.derive({_meta:{properties:{dataSource:{required:true},titleAttributes:{required:true,aggregation:true},titleDescriptionAttributes:{required:false,aggregation:true},detailAttributes:{required:true,aggregation:true},defaultNavigationTarget:{required:false,aggregation:true},navigationTargets:{required:false,aggregation:true},score:{required:false,default:0}}},toString:function(){var i;var r=[];var t=[];for(i=0;i<this.titleAttributes.length;++i){var a=this.titleAttributes[i];t.push(a.toString());}r.push('--'+t.join(' '));for(i=0;i<this.detailAttributes.length;++i){var d=this.detailAttributes[i];r.push(d.toString());}return r.join('\n');}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SearchResultSetItemAttribute.js":function(){sinaDefine(['../core/core','./SinaObject','./SearchResultSetItemAttributeBase'],function(c,S,a){"use strict";return a.derive({_meta:{properties:{label:{required:true},value:{required:true},valueFormatted:{required:false},valueHighlighted:{required:false},isHighlighted:{required:true},unitOfMeasure:{required:false},description:{required:false},defaultNavigationTarget:{required:false,aggregation:true},navigationTargets:{required:false,aggregation:true}}},toString:function(){return this.label+':'+this.valueFormatted;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SearchResultSetItemAttributeBase.js":function(){sinaDefine(['../core/core','./SinaObject'],function(c,S){"use strict";return S.derive({_meta:{properties:{id:{required:true},metadata:{required:true},groups:{required:false,defaul:function(){return[];}}}},toString:function(){return this.id;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SearchResultSetItemAttributeGroup.js":function(){sinaDefine(['../core/core','./SinaObject','./SearchResultSetItemAttributeBase'],function(c,S,a){"use strict";return a.derive({_meta:{properties:{label:{required:false},template:{required:false},attributes:{required:true,default:function(){return[];}}}},toString:function(){var v="",p=0;var m,r=RegExp("{[a-z]+}","gi");while((m=r.exec(this.template))!==null){v+=this.template.substring(p,m.index);var b=m[0].slice(1,-1);v+=this.attributes[b]&&this.attributes[b].valueFormatted||"";p=r.lastIndex;}v+=this.template.substring(p);return this.label+':'+v;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SearchResultSetItemAttributeGroupMembership.js":function(){sinaDefine(['../core/core','./SinaObject'],function(c,S){"use strict";return S.derive({_meta:{properties:{group:{required:true},attribute:{required:true},metadata:{required:true}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SearchTermAndDataSourceSuggestion.js":function(){sinaDefine(['../core/core','./SearchTermSuggestion','./SuggestionType'],function(c,S,a){"use strict";return S.derive({type:a.SearchTermAndDataSource,_meta:{properties:{dataSource:{required:true}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SearchTermSuggestion.js":function(){sinaDefine(['../core/core','./Suggestion','./SuggestionType'],function(c,S,a){"use strict";return S.derive({type:a.SearchTerm,_meta:{properties:{searchTerm:{required:true},filter:{required:true},childSuggestions:{required:false,default:function(){return[];}}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SimpleCondition.js":function(){sinaDefine(['../core/core','../core/util','./Condition','./ConditionType'],function(c,u,C,a){"use strict";return C.derive({_meta:{properties:{operator:{required:false,default:function(){return this.sina.ComparisonOperator.Eq;}},attribute:{required:true},value:{required:true}}},type:a.Simple,_initClone:function(o){this.operator=o.operator;this.attribute=o.attribute;this.value=o.value;},_equals:function(o){if(this.attribute!==o.attribute||this.operator!==o.operator){return false;}if(this.value.equals){return this.value.equals(o.value.equals);}if(this.value instanceof Date&&o.value instanceof Date){return this.value.getTime()===o.value.getTime();}return this.value===o.value;},_getAttribute:function(){return this.attribute;},toJson:function(){var j;if(this.value instanceof Date){j=u.dateToJson(this.value);}else{j=this.value;}var r={type:'Simple',operator:this.operator,attribute:this.attribute,value:j,valueLabel:this.valueLabel,attributeLabel:this.attributeLabel};if(this.userDefined){r.userDefined=true;}return r;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/Sina.js":function(){sinaDefine(['../core/core','../core/util','./SearchQuery','./ChartQuery','./DataSourceQuery','./SuggestionQuery','./Filter','./DataSource','./ComplexCondition','./SimpleCondition','./AttributeMetadata','./AttributeGroupMetadata','./AttributeGroupMembership','./SearchResultSetItemAttribute','./SearchResultSetItemAttributeGroup','./SearchResultSetItemAttributeGroupMembership','./SearchResultSetItem','./SearchResultSet','./AttributeType','./AttributeFormatType','./AttributeSemanticsType','./AttributeGroupTextArrangement','./DataSourceType','./SuggestionType','./SuggestionCalculationMode','./FacetType','./MatchingStrategy','./LogicalOperator','./ComparisonOperator','./AttributeUsageType','./FacetResultSet','./FacetResultSetItem','./SearchTermSuggestion','./SearchTermAndDataSourceSuggestion','./DataSourceSuggestion','./ObjectSuggestion','./SuggestionResultSet','./ChartResultSet','./DataSourceResultSet','./ChartResultSetItem','./DataSourceResultSetItem','./EqualsMode','./SortOrder','./Capabilities','./ConditionType','./Configuration','../providers/inav2/typeConverter','./NavigationTarget','../providers/tools/fiori/FioriIntentsResolver','../providers/tools/fiori/NavigationTargetForIntent','../providers/tools/cds/CDSAnnotationsParser','../providers/tools/ItemPostParser','../providers/tools/fiori/SuvNavTargetResolver','../providers/tools/sors/NavigationTargetGenerator','./formatters/ConfigSearchResultSetFormatter','./formatters/ConfigMetadataFormatter','./formatters/Formatter','./formatters/NavtargetsInResultSetFormatter','./formatters/RemovePureAdvancedSearchFacetsFormatter','./formatters/ResultValueFormatter'],function(c,u,S,C,D,a,F,b,d,e,A,f,g,h,k,l,m,n,o,p,q,r,s,t,v,w,M,L,x,y,z,B,E,G,H,O,I,J,K,N,P,Q,R,T,U,V,W,X,Y,Z,$,_,a1,b1,c1,d1,e1,f1,g1,h1){"use strict";return c.defineClass({AttributeType:o,AttributeFormatType:p,AttributeSemanticsType:q,AttributeGroupTextArrangement:r,DataSourceType:s,AttributeUsageType:y,MatchingStrategy:M,LogicalOperator:L,ComparisonOperator:x,FacetType:w,SuggestionCalculationMode:v,SuggestionType:t,EqualsMode:Q,SortOrder:R,ConditionType:U,SearchResultSet:n,SearchResultSetItem:m,SearchResultSetItemAttribute:h,ObjectSuggestion:O,_init:function(i){this.core=c;this.util=u;this.inav2TypeConverter=W;this.provider=i;this.createSearchQuery=this.generateFactoryMethod(S);this.createChartQuery=this.generateFactoryMethod(C);this.createSuggestionQuery=this.generateFactoryMethod(a);this.createDataSourceQuery=this.generateFactoryMethod(D);this.createFilter=this.generateFactoryMethod(F);this.createComplexCondition=this.generateFactoryMethod(d);this.createSimpleCondition=this.generateFactoryMethod(e);this._createAttributeMetadata=this.generateFactoryMethod(A);this._createAttributeGroupMetadata=this.generateFactoryMethod(f);this._createAttributeGroupMembership=this.generateFactoryMethod(g);this._createSearchResultSetItemAttribute=this.generateFactoryMethod(h);this._createSearchResultSetItemAttributeGroup=this.generateFactoryMethod(k);this._createSearchResultSetItemAttributeGroupMembership=this.generateFactoryMethod(l);this._createSearchResultSetItem=this.generateFactoryMethod(m);this._createSearchResultSet=this.generateFactoryMethod(n);this._createSearchTermSuggestion=this.generateFactoryMethod(E);this._createSearchTermAndDataSourceSuggestion=this.generateFactoryMethod(G);this._createDataSourceSuggestion=this.generateFactoryMethod(H);this._createObjectSuggestion=this.generateFactoryMethod(O);this._createSuggestionResultSet=this.generateFactoryMethod(I);this._createChartResultSet=this.generateFactoryMethod(J);this._createDataSourceResultSet=this.generateFactoryMethod(K);this._createChartResultSetItem=this.generateFactoryMethod(N);this._createDataSourceResultSetItem=this.generateFactoryMethod(P);this._createCapabilities=this.generateFactoryMethod(T);this._createConfiguration=this.generateFactoryMethod(V);this._createNavigationTarget=this.generateFactoryMethod(X);this._createSorsNavigationTargetGenerator=this.generateFactoryMethod(b1);this._createFioriIntentsResolver=this.generateFactoryMethod(Y);this._createNavigationTargetForIntent=this.generateFactoryMethod(Z);this._createCDSAnnotationsParser=this.generateFactoryMethod($);this._createItemPostParser=this.generateFactoryMethod(_);this._createSuvNavTargetResolver=this.generateFactoryMethod(a1);this.searchResultSetFormatters=[];this.metadataFormatters=[];this.dataSources=[];this.dataSourceMap={};this.allDataSource=this._createDataSource({id:'All',label:'All',type:this.DataSourceType.Category});this.searchResultSetFormatters.push(new f1());this.searchResultSetFormatters.push(new h1());},_initAsync:function(i){i=i||{};this.isDummyProvider=i.provider.indexOf("dummy")>-1;this.provider.label=i.label;return c.Promise.resolve().then(function(){return this._evaluateConfigurationAsync(i);}.bind(this)).then(function(){i.sina=this;return this.provider._initAsync.apply(this.provider,[i]);}.bind(this)).then(function(j){j=j||{};this.capabilities=j.capabilities||this._createCapabilities();return this._formatMetadataAsync();}.bind(this)).then(function(){if(this.getBusinessObjectDataSources().length===0&&!this.isDummyProvider){return Promise.reject(new c.Exception('Not active - no datasources'));}}.bind(this));},_formatMetadataAsync:function(){return c.executeSequentialAsync(this.metadataFormatters,function(i){return i.formatAsync({dataSources:this.dataSources});}.bind(this));},_evaluateConfigurationAsync:function(i1){var j1=[];if(i1.searchResultSetFormatters){for(var i=0;i<i1.searchResultSetFormatters.length;++i){var k1=i1.searchResultSetFormatters[i];if(!(k1 instanceof e1)){k1=new c1(k1);}this.searchResultSetFormatters.push(k1);j1.push(k1.initAsync());}}if(i1.metadataFormatters){for(var j=0;j<i1.metadataFormatters.length;++j){var l1=i1.metadataFormatters[j];if(!(l1 instanceof e1)){l1=new d1(l1);}this.metadataFormatters.push(l1);j1.push(l1.initAsync());}}return c.Promise.all(j1);},loadMetadata:function(i){if(this.provider.loadMetadata){return this.provider.loadMetadata(i);}return c.Promise.resolve();},createDataSourceMap:function(j){var i1={};for(var i=0;i<j.length;++i){var j1=j[i];i1[j1.id]=j1;}return i1;},generateFactoryMethod:function(i){return function(j){j=j||{};j.sina=this;return new i(j);};},_createDataSource:function(i){i=i||{};i.sina=this;var j=new b(i);if(this.dataSourceMap[j.id]===j){throw new c.Exception('cannot create an already existing datasource: "'+j.id+'"');}this.dataSources.push(j);this.dataSourceMap[j.id]=j;return j;},getAllDataSource:function(){return this.allDataSource;},getBusinessObjectDataSources:function(){var j=[];for(var i=0;i<this.dataSources.length;++i){var i1=this.dataSources[i];if(!i1.hidden&&i1.type===this.DataSourceType.BusinessObject){j.push(i1);}}return j;},getDataSource:function(i){return this.dataSourceMap[i];},getConfigurationAsync:function(i){if(!this.provider.getConfigurationAsync){return c.Promise.resolve(this._createConfiguration({personalizedSearch:false,isPersonalizedSearchEditable:false}));}i=i||{};if(this.configurationPromise&&!i.forceReload){return this.configurationPromise;}this.configurationPromise=this.provider.getConfigurationAsync();return this.configurationPromise;},logUserEvent:function(i){if(!this.provider.logUserEvent){return;}this.provider.logUserEvent(i);},getDebugInfo:function(){var i=['Sina Provider:'+this.provider.id];if(this.provider.getDebugInfo){var j=this.provider.getDebugInfo();if(j){i.push(j);}}return i.join('\n');},parseDataSourceFromJson:function(j){var i=this.getDataSource(j.id);if(i){return i;}if(j.type!==this.DataSourceType.Category){throw new c.Exception('Datasource in URL does not exist '+j.id);}i=this._createDataSource(j);return i;},parseSimpleConditionFromJson:function(j){var i;if(c.isObject(j.value)){i=u.dateFromJson(j.value);}else{i=j.value;}var i1;if(j.userDefined){i1=true;}else{i1=false;}return this.createSimpleCondition({operator:j.operator,attribute:j.attribute,value:i,attributeLabel:j.attributeLabel,valueLabel:j.valueLabel,userDefined:i1});},parseComplexConditionFromJson:function(j){var i1=[];for(var i=0;i<j.conditions.length;++i){var j1=j.conditions[i];i1.push(this.parseConditionFromJson(j1));}var k1;if(j.userDefined){k1=true;}else{k1=false;}return this.createComplexCondition({operator:j.operator,conditions:i1,attributeLabel:j.attributeLabel,valueLabel:j.valueLabel,userDefined:k1});},parseConditionFromJson:function(j){switch(j.type){case'Simple':return this.parseSimpleConditionFromJson(j);case'Complex':return this.parseComplexConditionFromJson(j);default:throw new c.Exception('unknown condition type "'+j.type+'"');}},parseFilterFromJson:function(j){return this.createFilter({searchTerm:j.searchTerm,rootCondition:this.parseConditionFromJson(j.rootCondition),dataSource:this.parseDataSourceFromJson(j.dataSource)});}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SinaObject.js":function(){sinaDefine(['../core/core'],function(c){"use strict";return c.defineClass({_meta:{properties:{sina:{required:false,getter:true},_private:{required:false,default:function(){return{};}}}},_initClone:function(o){this.sina=o.sina;},_equals:function(o){return this.sina===o.sina;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SortOrder.js":function(){sinaDefine([],function(){"use strict";return{Ascending:'Ascending',Descending:'Descending'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/Suggestion.js":function(){sinaDefine(['../core/core','./ResultSetItem'],function(c,R){"use strict";return R.derive({_meta:{properties:{calculationMode:{required:true},label:{required:true}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SuggestionCalculationMode.js":function(){sinaDefine([],function(){"use strict";return{Data:'Data',History:'History'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SuggestionQuery.js":function(){sinaDefine(['../core/core','../core/util','./Query','./SuggestionType','./SuggestionCalculationMode'],function(c,u,Q,S,a){"use strict";return Q.derive({_meta:{properties:{types:{default:function(){return[S.DataSource,S.Object,S.SearchTerm];},setter:true},calculationModes:{default:function(){return[a.Data,a.History];},setter:true}}},requestTimeout:false,_initClone:function(o){this.types=o.types.slice();this.calculationModes=o.calculationModes.slice();},_equals:function(o){return c.equals(this.types,o.types,false)&&c.equals(this.calculationModes,o.calculationModes,false);},_execute:function(q){return this.sina.provider.executeSuggestionQuery(q);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SuggestionResultSet.js":function(){sinaDefine(['../core/core','./ResultSet'],function(c,R){"use strict";return R.derive({});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SuggestionType.js":function(){sinaDefine([],function(){"use strict";return{SearchTerm:'SearchTerm',SearchTermAndDataSource:'SearchTermAndDataSource',Object:'Object',DataSource:'DataSource'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/formatters/ConfigFormatter.js":function(){sinaDefine(['../../core/core','./Formatter','../../configurationEngine/configuratorFactory'],function(c,F,a){"use strict";return F.derive({_init:function(t,b){this.type=t;this.configuration=b;},initAsync:function(){return a.createConfiguratorAsync({type:this.type,configuration:this.configuration}).then(function(b){this.configurator=b;}.bind(this));},formatAsync:function(o){return this.configurator.configureAsync(o);},format:function(o){return this.configurator.configure(o);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/formatters/ConfigMetadataFormatter.js":function(){sinaDefine(['../../core/core','./ConfigFormatter'],function(c,C){"use strict";var m={type:'object',typeName:'DataSources',properties:[{name:'dataSources',multiple:true,getElementId:function(d){return d.id;},type:{type:'object',typeName:'DataSource',properties:[{name:'label',type:'string'},{name:'labelPlural',type:'string'},{name:'attributesMetadata',multiple:true,getElementId:function(a){return a.id;},type:{type:'object',typeName:'AttributeMetadata',properties:[{name:'label',type:'string'},{name:'format',type:'string'}]}}]}}]};return C.derive({_init:function(a){return C.prototype._init.apply(this,[m,a]);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/formatters/ConfigSearchResultSetFormatter.js":function(){sinaDefine(['../../core/core','./ConfigFormatter','../../core/util'],function(c,C,u){"use strict";var a=function(e){if(e.__templateAttributeMapCache){return e.__templateAttributeMapCache;}var m=e.__templateAttributeMapCache={};var f;for(var i=0;i<e.detailAttributes.length;++i){f=e.detailAttributes[i];m[f.id]=f.value;}for(var j=0;j<e.titleAttributes.length;++j){f=e.titleAttributes[j];m[f.id]=f.value;}return m;};var b={type:'object',typeName:'SearchResultSetItemAttribute',properties:[{name:'label',type:'string'},{name:'value',type:'string'},{name:'valueFormatted',type:'string'},{name:'valueHighlighted',type:'string'}]};var d={name:'detailAttributes',multiple:true,getElementId:function(e){return e.id;},createElement:function(e,f){var g=f.objectStack[0].sina;var h=g._createAttributeMetadata({type:g.AttributeType.String,id:e.id,label:'',isSortable:false,isKey:false,matchingStrategy:g.MatchingStrategy.Exact,usage:{Detail:{}}});var n=g._createSearchResultSetItemAttribute({id:e.id,label:'',value:'',valueFormatted:'',valueHighlighted:'',isHighlighted:false,metadata:h});n.parent=f.objectStack[2];return n;},postProcessCreatedElement:function(e){e.valueFormatted=e.valueFormatted||e.value;e.valueHighlighted=e.valueHighlighted||e.valueFormatted;},type:b};var t=c.extend({},d);t.name='titleAttributes';var s={type:'object',typeName:'SearchResultSet',properties:[{name:'items',multiple:true,getElementId:function(i){return i.dataSource.id;},type:{type:'object',typeName:'SearchResultResultSetItem',evaluateTemplate:function(e,i){var f=a(i);return u.evaluateTemplate(e,f);},properties:[{name:'title',type:'string'},t,d,{name:'navigationTargets',multiple:true,getElementId:function(n){return n.label;},createElement:function(n,e){var f=e.objectStack[0].sina;var g=f._createNavigationTarget({label:'',targetUrl:''});g.parent=e.objectStack[2];return g;},type:{type:'object',typeName:'NavigationTarget',properties:[{name:'label',type:'string'},{name:'targetUrl',type:'string'}]}}]}}]};return C.derive({_init:function(e){return C.prototype._init.apply(this,[s,e]);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/formatters/Formatter.js":function(){sinaDefine(['../../core/core'],function(c){"use strict";return c.defineClass({initAsync:function(){},format:function(o){return o;},formatAsync:function(o){o=this.format(o);return c.Promise.resolve(o);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/formatters/NavtargetsInResultSetFormatter.js":function(){sinaDefine(['../../core/core','./Formatter','../../core/util'],function(c,F,u){"use strict";return F.derive({initAsync:function(){},format:function(r){return r;},formatAsync:function(r){r=u.addPotentialNavTargetsToAttribute(r);return c.Promise.resolve(r);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/formatters/RemovePureAdvancedSearchFacetsFormatter.js":function(){sinaDefine(['../../core/core','./Formatter','../../core/util'],function(c,F,u){"use strict";return F.derive({initAsync:function(){},format:function(r){return u.removePureAdvancedSearchFacets(r);},formatAsync:function(r){r=u.removePureAdvancedSearchFacets(r);return c.Promise.resolve(r);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/formatters/ResultValueFormatter.js":function(){sinaDefine(['../../core/core','./Formatter'],function(c,F){"use strict";return F.derive({initAsync:function(){},format:function(r){return this._formatDataInUI5Form(r);},formatAsync:function(r){r=this._formatDataInUI5Form(r);return c.Promise.resolve(r);},_formatDataInUI5Form:function(r){if(!sap&&!sap.ui&&!sap.ui.core&&!sap.ui.core.format){return r;}var t=this;t.sina=r.sina;r.items.forEach(function(i){if(t.sina.getDataSource(i.dataSource.id)===undefined){return;}if(jQuery.isEmptyObject(t.sina.getDataSource(i.dataSource.id).attributeMetadataMap)){return;}t.attributeMap=t.sina.getDataSource(i.dataSource.id).attributeMetadataMap;i.titleAttributes.forEach(function(a){t._formatHybridAttribute(a);});i.titleDescriptionAttributes.forEach(function(a){t._formatHybridAttribute(a);});i.detailAttributes.forEach(function(a){t._formatHybridAttribute(a);});});return r;},_formatHybridAttribute:function(a){var t=this;if(a.metadata.type&&a.metadata.type===t.sina.AttributeType.Group){for(var i=0;i<a.attributes.length;i++){t._formatHybridAttribute(a.attributes[i].attribute);}}else{t._formatSingleAttribute(a);}},_formatSingleAttribute:function(a){var t=this;a.valueFormatted=t._getFormattedValue(a);if(a.valueHighlighted===undefined||a.valueHighlighted.length===0){a.valueHighlighted=a.valueFormatted;if(a.isHighlighted){a.valueHighlighted='<b>'+a.valueHighlighted+'</b>';}}},_getFormattedValue:function(a){if(this.attributeMap[a.id]===undefined){return a.valueFormatted;}var t=this.sina.AttributeType;var u=undefined;var v=a.value;switch(this.attributeMap[a.id].type){case t.Integer:u=sap.ui.core.format.NumberFormat.getIntegerInstance();break;case t.Double:u=sap.ui.core.format.NumberFormat.getFloatInstance({});break;case t.Timestamp:if(isNaN(Date.parse(a.value))===false){u=sap.ui.core.format.DateFormat.getDateTimeInstance();}break;case t.Date:if(isNaN(Date.parse(a.value))===false){u=sap.ui.core.format.DateFormat.getDateInstance();v=new Date(a.value);}break;case t.Time:if(isNaN(Date.parse("1970/01/01 "+a.value))===false){u=sap.ui.core.format.DateFormat.getTimeInstance();v=new Date("1970/01/01 "+a.value);}break;}if(u&&u.format(v)!==undefined){return u.format(v);}return a.valueFormatted;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/sinaFactory.js":function(){window.sinaRequire=window.sinaRequire||(window.sap&&window.sap.ui&&window.sap.ui.require)||window.require;window.sinaDefine=window.sinaDefine||(window.sap&&window.sap.ui&&window.sap.ui.define)||window.define;window.sinaLog=window.sinaLog||(window.jQuery&&window.jQuery.sap&&window.jQuery.sap.log)||window.console;var modules=['../core/core','../core/util','./Sina'];var isSapRequire=window.sap&&window.sap.ui&&window.sap.ui.require&&window.sap.ui.require===window.sinaRequire;if(!isSapRequire){modules.push('module');}sinaDefine(modules,function(c,u,S,m){"use strict";return{createAsync:function(a){return this._normalizeConfiguration(a).then(function(a){return new c.Promise(function(r,b){sinaRequire([a.provider],function(p){var d=new p();var s=new S(d);return s._initAsync.apply(s,[a]).then(function(){r(s);},function(e){b(e);});},function(e){sinaLog.error('require error: '+e);b(e);});});});},createByTrialAsync:function(i,a){var b;return Promise.all(c.map(i,this._normalizeConfiguration.bind(this))).then(function(n){b=n;return this._mixinUrlConfiguration(b);}.bind(this)).then(function(){return this._createSinaRecursively(b,a);}.bind(this));},_normalizeConfiguration:function(a){return new c.Promise(function(r,b){if(c.isString(a)&&a.indexOf('/')>=0&&a.indexOf('Provider')<0&&a[0]!=='{'){sinaRequire([a],function(a){this._normalizeConfiguration(a).then(function(a){r(a);});}.bind(this));return;}if(c.isString(a)&&a[0]!=='{'){a='{ "provider" : "'+a+'"}';}if(c.isString(a)){a=JSON.parse(a);}if(a.provider.indexOf('/')<0){if(isSapRequire){a.provider=this._calculateProviderUrlSap(a.provider);}else{a.provider=this._calculateProviderUrl(a.provider);}}r(a);}.bind(this));},_calculateProviderUrlSap:function(p){var a='sap/ushell/renderers/fiori2/search/sinaNext/providers/';var s='/Provider';return a+p+s;},_calculateProviderUrl:function(p){var a=m.uri.split('/').slice(0,-1).join('/')+'/../providers/';var s='/Provider';return a+p+s;},_readConfigurationFromUrl:function(){var s=u.getUrlParameter('sinaConfiguration');if(s){return this._normalizeConfiguration(s);}var a=u.getUrlParameter('sinaProvider');if(a){return this._normalizeConfiguration(a);}return c.Promise.resolve();},_createSinaRecursively:function(a,b){b=b||function(){return true;};var d=function(i){if(i>=a.length){return c.Promise.reject(new c.Exception('sina creation by trial failed'));}var e=a[i];return this.createAsync(e).then(function(s){if(b(s)){return s;}return d(i+1);},function(){return d(i+1);});}.bind(this);return d(0);},_mixinUrlConfiguration:function(a){return this._readConfigurationFromUrl().then(function(b){if(!b){return;}var f=false;for(var i=0;i<a.length;++i){var d=a[i];if(d.provider.indexOf('/dummy/Provider')<0&&d.provider!==b.provider){a.splice(i,1);i--;continue;}if(d.provider===b.provider){f=true;this._mergeConfiguration(d,b);}}if(!f){a.splice(0,0,b);}}.bind(this));},_mergeConfiguration:function(a,b){for(var p in b){a[p]=b[p];}}};});
this.modules=modules;
this.isSapRequire=isSapRequire;
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/util.js":function(){sinaDefine(['./ComparisonOperator'],function(C){"use strict";var m={};m.convertOperator2Wildcards=function(v,o){if(o===C.Eq){return v;}var r=[];var a=v.split(' ');for(var i=0;i<a.length;i++){var t=a[i].trim();if(t.length===0){continue;}switch(o){case C.Co:t='*'+t+'*';break;case C.Bw:t=t+'*';break;case C.Ew:t='*'+t;break;default:break;}r.push(t);}return r.join(' ');};return m;});
},
	"sap/ushell/services/SmartNavigation.js":function(){(function(){"use strict";sap.ui.define(["sap/ushell/services/Container","sap/ushell/services/AppConfiguration","sap/ushell/services/Personalization","sap/ushell/services/URLParsing","sap/ushell/services/CrossApplicationNavigation","sap/ushell/services/_SmartNavigation/complements","sap/ushell/utils"],function(c,a,p,u,C,P,b){c=sap.ushell.Container;u=c.getService("URLParsing");C=c.getService("CrossApplicationNavigation");p=c.getService("Personalization");function d(o,s,e){return new S(o,s,e,P,a,p,u,C,b);}d.hasNoAdapter=true;return d;});sap.ushell.services.SmartNavigation=S;function S(c,p,s,P,a,o,u,C,b){if(!S.instance){Object.defineProperty(S,"instance",{value:{getLinks:function(A){var d=C.getLinks(A);if(!P.isTrackingEnabled(s,b)){return jQuery.when(d);}var e=a.getCurrentApplication(),f=e.sShellHash,g=e.componentHandle;if(e.componentHandle){g=e.componentHandle.getInstance();}if(!f){jQuery.sap.log.warning("Call to SmartNavigation#getLinks() simply delegated to CrossApplicationNavigation#getLinks()"+" because oAppConfiguration#getCurrentApplication()#sShellHash evaluates to undefined.");return d;}return jQuery.when(d,P.getNavigationOccurrences(f,o,g,u)).then(function(l,n){if(n.length===0){return l;}return P.prepareLinksForSorting(l,n,u).sort(function(L,O){return O.clickCount-L.clickCount;});});},toExternal:function(A){var _=arguments,d=P.getHashFromOArgs(A.target,u),t=function(){return C.toExternal.apply(C,_);};if(!P.isTrackingEnabled(s,b)){return jQuery.when(t());}var e=a.getCurrentApplication(),f=e.sShellHash,g=e.componentHandle;if(e.componentHandle){g=e.componentHandle.getInstance();}if(!f){jQuery.sap.log.warning("Current shell hash could not be identified. Navigation will not be tracked.",null,"sap.ushell.services.SmartNavigation");return jQuery.when(t());}if(!d){jQuery.sap.log.warning("Destination hash does not conform with the ushell guidelines. Navigation will not be tracked.",null,"sap.ushell.services.SmartNavigation");return jQuery.when(t());}return P.recordNavigationOccurrences(f,d,o,g,u).then(t);},hrefForExternal:function(){var h=C.hrefForExternal.apply(C,arguments);return h;},getPrimaryIntent:function(){var d=C.getPrimaryIntent.apply(C,arguments);return d;},trackNavigation:function(A){if(!P.isTrackingEnabled(s,b)){jQuery.sap.log.debug("Call to SmartNavigation#trackNavigation() ignored"+" because Service is not enabled via Configuration",null,"sap.ushell.services.SmartNavigation");return jQuery.when(null);}var t=A.target,d=a.getCurrentApplication(),f=d.sShellHash,D;if(!f){jQuery.sap.log.warning("Call to SmartNavigation#trackNavigation() simply ignored"+" because oAppConfiguration#getCurrentApplication()#sShellHash evaluates to undefined.");return jQuery.when(null);}D=P.getHashFromOArgs(t,u);if(!D){jQuery.sap.log.warning("Navigation not tracked - no valid destination provided",null,"sap.ushell.services.SmartNavigation");return jQuery.when(null);}jQuery.sap.log.debug("Navigation to "+D+" was tracked out of "+f,null,"sap.ushell.services.SmartNavigation");return P.recordNavigationOccurrences(f,D,o,d.componentHandle.getInstance(),u);},constructor:S}});}return S.instance;}})();
},
	"sap/ushell/services/_SmartNavigation/complements.js":function(){(function(){"use strict";var i=null,c={STATISTIC_COLLECTION_WINDOW_DAYS:90,PERS_CONTAINER_KEY_PREFIX:"ushell.smartnav.",ONE_DAY_IN_MILLISECOND:24*60*60*1000},h={"":0|0};sap.ui.define([],function(){if(!i){i={getHashCode:g,getBaseHashPart:b,getHashFromOArgs:d,getPersContainerKey:e,getNavigationOccurrences:f,prepareLinksForSorting:p,mapClickCountsIntoLinkItems:m,recordNavigationOccurrences:r,updateHistoryEntryWithCurrentUsage:u,isTrackingEnabled:a};Object.keys(c).forEach(function(n){Object.defineProperty(i,n,{value:c[n]});});}return i;});function a(C,U){return U.isDefined(C)&&U.isDefined(C.config)&&U.isDefined(C.config.isTrackingEnabled)?C.config.isTrackingEnabled:false;}function g(v){var s=v+"";return h[s]||(function(j){var H=0|0;while(j--){H=(H<<5)-H+(s.charCodeAt(j)|0);H|=0;}h[s]=H;return H;})(s.length);}function b(U,I){var t=U.parseShellHash(I);if(t&&t.semanticObject&&t.action){return t.semanticObject+"-"+t.action;}throw"Invalid intent `"+I+"`";}function d(o,U){if(!o){return null;}if(o.shellHash&&U.parseShellHash(o.shellHash)){return b(U,o.shellHash);}if(o.semanticObject&&o.action){return o.semanticObject+"-"+o.action;}return null;}function e(s){return c.PERS_CONTAINER_KEY_PREFIX+g(s);}function f(F,P,C){var s=e(F);return P.getContainer(s,{keyCategory:P.constants.keyCategory.FIXED_KEY,writeFrequency:P.constants.writeFrequency.HIGH,clientStorageAllowed:true},C).then(function(o){return o.getItemKeys().map(function(j){var k=o.getItemValue(j);return Object.keys(k.actions).map(function(l){var n=k.actions[l];return{intent:j+"-"+l,clickCount:n.dailyFrequency.reduce(function(q,t){return q+t;},0)};});}).reduce(function(E,j){Array.prototype.push.apply(E,j);return E;},[]);});}function p(l,n,U){return m(l,n,U);}function m(l,n,U){var N={};n.forEach(function(o){N[o.intent]=o;});l.forEach(function(L){var B=b(U,L.intent),o=N[B];L.clickCount=o?o.clickCount:0;});return l;}function r(F,t,P,C,U){var T=U.parseShellHash(t),s=e(F),j=T.semanticObject,o;return P.getContainer(s,{keyCategory:P.constants.keyCategory.FIXED_KEY,writeFrequency:P.constants.writeFrequency.HIGH,clientStorageAllowed:true},C).then(function(k){o=k;return o.getItemValue(j);}).then(function(k){var l,n=T.action;if(!k){k=new S();}l=k.actions[n];if(!l){l=new A();k.actions[n]=l;}u(k);u(l);return k;}).then(function(k){o.setItemValue(j,k);return o.save();});}function u(H){var n=Date.now(),t=n-H.latestVisit,D=Math.floor(t/c.ONE_DAY_IN_MILLISECOND);while(D--){H.dailyFrequency.unshift(0);if(H.dailyFrequency.length>c.STATISTIC_COLLECTION_WINDOW_DAYS){H.dailyFrequency.pop();}}++H.dailyFrequency[0];H.latestVisit=n;return H;}function S(){return{actions:{},latestVisit:Date.now(),dailyFrequency:[0]};}function A(){return{latestVisit:Date.now(),dailyFrequency:[0]};}})();
},
/*!
 * D3 v3.4.12 - http://d3js.org/
 *
 * Copyright (c) 2010-2014, Michael Bostock
 * All rights reserved.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL MICHAEL BOSTOCK BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
	"sap/ui/thirdparty/d3.js":function(){!function(){var D={version:"3.4.12"};if(!Date.now)Date.now=function(){return+new Date();};var E=[].slice,J=function(l){return E.call(l);};var K=document,M=K.documentElement,O=window;try{J(M.childNodes)[0].nodeType;}catch(e){J=function(l){var i=l.length,a=new Array(i);while(i--)a[i]=l[i];return a;};}try{K.createElement("div").style.setProperty("opacity",0,"");}catch(P){var Q=O.Element.prototype,R=Q.setAttribute,T=Q.setAttributeNS,U=O.CSSStyleDeclaration.prototype,V=U.setProperty;Q.setAttribute=function(n,v){R.call(this,n,v+"");};Q.setAttributeNS=function(s,l,v){T.call(this,s,l,v+"");};U.setProperty=function(n,v,p){V.call(this,n,v+"",p);};}D.ascending=W;function W(a,b){return a<b?-1:a>b?1:a>=b?0:NaN;}D.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN;};D.min=function(c,f){var i=-1,n=c.length,a,b;if(arguments.length===1){while(++i<n&&!((a=c[i])!=null&&a<=a))a=undefined;while(++i<n)if((b=c[i])!=null&&a>b)a=b;}else{while(++i<n&&!((a=f.call(c,c[i],i))!=null&&a<=a))a=undefined;while(++i<n)if((b=f.call(c,c[i],i))!=null&&a>b)a=b;}return a;};D.max=function(c,f){var i=-1,n=c.length,a,b;if(arguments.length===1){while(++i<n&&!((a=c[i])!=null&&a<=a))a=undefined;while(++i<n)if((b=c[i])!=null&&b>a)a=b;}else{while(++i<n&&!((a=f.call(c,c[i],i))!=null&&a<=a))a=undefined;while(++i<n)if((b=f.call(c,c[i],i))!=null&&b>a)a=b;}return a;};D.extent=function(d,f){var i=-1,n=d.length,a,b,c;if(arguments.length===1){while(++i<n&&!((a=c=d[i])!=null&&a<=a))a=c=undefined;while(++i<n)if((b=d[i])!=null){if(a>b)a=b;if(c<b)c=b;}}else{while(++i<n&&!((a=c=f.call(d,d[i],i))!=null&&a<=a))a=undefined;while(++i<n)if((b=f.call(d,d[i],i))!=null){if(a>b)a=b;if(c<b)c=b;}}return[a,c];};D.sum=function(b,f){var s=0,n=b.length,a,i=-1;if(arguments.length===1){while(++i<n)if(!isNaN(a=+b[i]))s+=a;}else{while(++i<n)if(!isNaN(a=+f.call(b,b[i],i)))s+=a;}return s;};function Z(x){return x!=null&&!isNaN(x);}D.mean=function(b,f){var s=0,n=b.length,a,i=-1,j=n;if(arguments.length===1){while(++i<n)if(Z(a=b[i]))s+=a;else--j;}else{while(++i<n)if(Z(a=f.call(b,b[i],i)))s+=a;else--j;}return j?s/j:undefined;};D.quantile=function(a,p){var H=(a.length-1)*p+1,h=Math.floor(H),v=+a[h-1],e=H-h;return e?v+e*(a[h]-v):v;};D.median=function(a,f){if(arguments.length>1)a=a.map(f);a=a.filter(Z);return a.length?D.quantile(a.sort(W),.5):undefined;};function $(c){return{left:function(a,x,l,h){if(arguments.length<3)l=0;if(arguments.length<4)h=a.length;while(l<h){var m=l+h>>>1;if(c(a[m],x)<0)l=m+1;else h=m;}return l;},right:function(a,x,l,h){if(arguments.length<3)l=0;if(arguments.length<4)h=a.length;while(l<h){var m=l+h>>>1;if(c(a[m],x)>0)h=m;else l=m+1;}return l;}};}var f1=$(W);D.bisectLeft=f1.left;D.bisect=D.bisectRight=f1.right;D.bisector=function(f){return $(f.length===1?function(d,x){return W(f(d),x);}:f);};D.shuffle=function(a){var m=a.length,t,i;while(m){i=Math.random()*m--|0;t=a[m],a[m]=a[i],a[i]=t;}return a;};D.permute=function(a,b){var i=b.length,p=new Array(i);while(i--)p[i]=a[b[i]];return p;};D.pairs=function(a){var i=0,n=a.length-1,p,b=a[0],c=new Array(n<0?0:n);while(i<n)c[i]=[p=b,b=a[++i]];return c;};D.zip=function(){if(!(n=arguments.length))return[];for(var i=-1,m=D.min(arguments,g1),z=new Array(m);++i<m;){for(var j=-1,n,a=z[i]=new Array(n);++j<n;){a[j]=arguments[j][i];}}return z;};function g1(d){return d.length;}D.transpose=function(m){return D.zip.apply(D,m);};D.keys=function(m){var k=[];for(var a in m)k.push(a);return k;};D.values=function(m){var v=[];for(var k in m)v.push(m[k]);return v;};D.entries=function(m){var a=[];for(var k in m)a.push({key:k,value:m[k]});return a;};D.merge=function(a){var n=a.length,m,i=-1,j=0,b,c;while(++i<n)j+=a[i].length;b=new Array(j);while(--n>=0){c=a[n];m=c.length;while(--m>=0){b[--j]=c[m];}}return b;};var h1=Math.abs;D.range=function(s,a,b){if(arguments.length<3){b=1;if(arguments.length<2){a=s;s=0;}}if((a-s)/b===Infinity)throw new Error("infinite range");var r=[],k=j1(h1(b)),i=-1,j;s*=k,a*=k,b*=k;if(b<0)while((j=s+b*++i)>a)r.push(j/k);else while((j=s+b*++i)<a)r.push(j/k);return r;};function j1(x){var k=1;while(x*k%1)k*=10;return k;}function k1(c,p){try{for(var k in p){Object.defineProperty(c.prototype,k,{value:p[k],enumerable:false});}}catch(e){c.prototype=p;}}D.map=function(o){var m=new o1();if(o instanceof o1)o.forEach(function(k,v){m.set(k,v);});else for(var k in o)m.set(k,o[k]);return m;};function o1(){}k1(o1,{has:z1,get:function(k){return this[u1+k];},set:function(k,v){return this[u1+k]=v;},remove:A1,keys:B1,values:function(){var v=[];this.forEach(function(k,a){v.push(a);});return v;},entries:function(){var a=[];this.forEach(function(k,v){a.push({key:k,value:v});});return a;},size:C1,empty:D1,forEach:function(f){for(var k in this)if(k.charCodeAt(0)===v1)f.call(this,k.slice(1),this[k]);}});var u1="\x00",v1=u1.charCodeAt(0);function z1(k){return u1+k in this;}function A1(k){k=u1+k;return k in this&&delete this[k];}function B1(){var k=[];this.forEach(function(a){k.push(a);});return k;}function C1(){var s=0;for(var k in this)if(k.charCodeAt(0)===v1)++s;return s;}function D1(){for(var k in this)if(k.charCodeAt(0)===v1)return false;return true;}D.nest=function(){var c={},k=[],s=[],g,r;function m(a,b,d){if(d>=k.length)return r?r.call(c,b):g?b.sort(g):b;var i=-1,n=b.length,f=k[d++],j,o,l,v=new o1(),p;while(++i<n){if(p=v.get(j=f(o=b[i]))){p.push(o);}else{v.set(j,[o]);}}if(a){o=a();l=function(j,p){o.set(j,m(a,p,d));};}else{o={};l=function(j,p){o[j]=m(a,p,d);};}v.forEach(l);return o;}function h(m,d){if(d>=k.length)return m;var f=[],i=s[d++];m.forEach(function(a,b){f.push({key:a,values:h(b,d)});});return i?f.sort(function(a,b){return i(a.key,b.key);}):f;}c.map=function(a,b){return m(b,a,0);};c.entries=function(a){return h(m(D.map,a,0),0);};c.key=function(d){k.push(d);return c;};c.sortKeys=function(o){s[k.length-1]=o;return c;};c.sortValues=function(o){g=o;return c;};c.rollup=function(f){r=f;return c;};return c;};D.set=function(a){var s=new E1();if(a)for(var i=0,n=a.length;i<n;++i)s.add(a[i]);return s;};function E1(){}k1(E1,{has:z1,add:function(v){this[u1+v]=true;return v;},remove:function(v){v=u1+v;return v in this&&delete this[v];},values:B1,size:C1,empty:D1,forEach:function(f){for(var v in this)if(v.charCodeAt(0)===v1)f.call(this,v.slice(1));}});D.behavior={};D.rebind=function(t,s){var i=1,n=arguments.length,m;while(++i<n)t[m=arguments[i]]=F1(t,s,s[m]);return t;};function F1(t,s,m){return function(){var v=m.apply(s,arguments);return v===s?t:v;};}function G1(o,a){if(a in o)return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var i=0,n=H1.length;i<n;++i){var p=H1[i]+a;if(p in o)return p;}}var H1=["webkit","ms","moz","Moz","o","O"];function I1(){}D.dispatch=function(){var d=new J1(),i=-1,n=arguments.length;while(++i<n)d[arguments[i]]=K1(d);return d;};function J1(){}J1.prototype.on=function(t,l){var i=t.indexOf("."),n="";if(i>=0){n=t.slice(i+1);t=t.slice(0,i);}if(t)return arguments.length<2?this[t].on(n):this[t].on(n,l);if(arguments.length===2){if(l==null)for(t in this){if(this.hasOwnProperty(t))this[t].on(n,null);}return this;}};function K1(d){var a=[],b=new o1();function c(){var z=a,i=-1,n=z.length,l;while(++i<n)if(l=z[i].on)l.apply(this,arguments);return d;}c.on=function(n,f){var l=b.get(n),i;if(arguments.length<2)return l&&l.on;if(l){l.on=null;a=a.slice(0,i=a.indexOf(l)).concat(a.slice(i+1));b.remove(n);}if(f)a.push(b.set(n,{on:f}));return d;};return c;}D.event=null;function L1(){D.event.preventDefault();}function M1(){var e=D.event,s;while(s=e.sourceEvent)e=s;return e;}function N1(t){var d=new J1(),i=0,n=arguments.length;while(++i<n)d[arguments[i]]=K1(d);d.of=function(a,b){return function(c){try{var f=c.sourceEvent=D.event;c.target=t;D.event=c;d[c.type].apply(a,b);}finally{D.event=f;}};};return d;}D.requote=function(s){return s.replace(O1,"\\$&");};var O1=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var P1={}.__proto__?function(o,p){o.__proto__=p;}:function(o,p){for(var a in p)o[a]=p[a];};function Q1(g){P1(g,V1);return g;}var R1=function(s,n){return n.querySelector(s);},S1=function(s,n){return n.querySelectorAll(s);},T1=M.matches||M[G1(M,"matchesSelector")],U1=function(n,s){return T1.call(n,s);};if(typeof Sizzle==="function"){R1=function(s,n){return Sizzle(s,n)[0]||null;};S1=Sizzle;U1=Sizzle.matchesSelector;}D.selection=function(){return z2;};var V1=D.selection.prototype=[];V1.select=function(s){var a=[],b,c,g,d;s=W1(s);for(var j=-1,m=this.length;++j<m;){a.push(b=[]);b.parentNode=(g=this[j]).parentNode;for(var i=-1,n=g.length;++i<n;){if(d=g[i]){b.push(c=s.call(d,d.__data__,i,j));if(c&&"__data__"in d)c.__data__=d.__data__;}else{b.push(null);}}}return Q1(a);};function W1(s){return typeof s==="function"?s:function(){return R1(s,this);};}V1.selectAll=function(s){var a=[],b,c;s=Z1(s);for(var j=-1,m=this.length;++j<m;){for(var g=this[j],i=-1,n=g.length;++i<n;){if(c=g[i]){a.push(b=J(s.call(c,c.__data__,i,j)));b.parentNode=c;}}}return Q1(a);};function Z1(s){return typeof s==="function"?s:function(){return S1(s,this);};}var $1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};D.ns={prefix:$1,qualify:function(n){var i=n.indexOf(":"),p=n;if(i>=0){p=n.slice(0,i);n=n.slice(i+1);}return $1.hasOwnProperty(p)?{space:$1[p],local:n}:n;}};V1.attr=function(n,v){if(arguments.length<2){if(typeof n==="string"){var a=this.node();n=D.ns.qualify(n);return n.local?a.getAttributeNS(n.space,n.local):a.getAttribute(n);}for(v in n)this.each(_1(v,n[v]));return this;}return this.each(_1(n,v));};function _1(n,v){n=D.ns.qualify(n);function a(){this.removeAttribute(n);}function b(){this.removeAttributeNS(n.space,n.local);}function c(){this.setAttribute(n,v);}function d(){this.setAttributeNS(n.space,n.local,v);}function f(){var x=v.apply(this,arguments);if(x==null)this.removeAttribute(n);else this.setAttribute(n,x);}function g(){var x=v.apply(this,arguments);if(x==null)this.removeAttributeNS(n.space,n.local);else this.setAttributeNS(n.space,n.local,x);}return v==null?n.local?b:a:typeof v==="function"?n.local?g:f:n.local?d:c;}function a2(s){return s.trim().replace(/\s+/g," ");}V1.classed=function(a,v){if(arguments.length<2){if(typeof a==="string"){var b=this.node(),n=(a=e2(a)).length,i=-1;if(v=b.classList){while(++i<n)if(!v.contains(a[i]))return false;}else{v=b.getAttribute("class");while(++i<n)if(!b2(a[i]).test(v))return false;}return true;}for(v in a)this.each(f2(v,a[v]));return this;}return this.each(f2(a,v));};function b2(n){return new RegExp("(?:^|\\s+)"+D.requote(n)+"(?:\\s+|$)","g");}function e2(n){return(n+"").trim().split(/^|\s+/);}function f2(a,v){a=e2(a).map(g2);var n=a.length;function c(){var i=-1;while(++i<n)a[i](this,v);}function b(){var i=-1,x=v.apply(this,arguments);while(++i<n)a[i](this,x);}return typeof v==="function"?b:c;}function g2(n){var r=b2(n);return function(a,v){if(c=a.classList)return v?c.add(n):c.remove(n);var c=a.getAttribute("class")||"";if(v){r.lastIndex=0;if(!r.test(c))a.setAttribute("class",a2(c+" "+n));}else{a.setAttribute("class",a2(c.replace(r," ")));}};}V1.style=function(a,v,p){var n=arguments.length;if(n<3){if(typeof a!=="string"){if(n<2)v="";for(p in a)this.each(h2(p,a[p],v));return this;}if(n<2)return O.getComputedStyle(this.node(),null).getPropertyValue(a);p="";}return this.each(h2(a,v,p));};function h2(n,v,p){function s(){this.style.removeProperty(n);}function a(){this.style.setProperty(n,v,p);}function b(){var x=v.apply(this,arguments);if(x==null)this.style.removeProperty(n);else this.style.setProperty(n,x,p);}return v==null?s:typeof v==="function"?b:a;}V1.property=function(n,v){if(arguments.length<2){if(typeof n==="string")return this.node()[n];for(v in n)this.each(i2(v,n[v]));return this;}return this.each(i2(n,v));};function i2(n,v){function p(){delete this[n];}function a(){this[n]=v;}function b(){var x=v.apply(this,arguments);if(x==null)delete this[n];else this[n]=x;}return v==null?p:typeof v==="function"?b:a;}V1.text=function(a){return arguments.length?this.each(typeof a==="function"?function(){var v=a.apply(this,arguments);this.textContent=v==null?"":v;}:a==null?function(){this.textContent="";}:function(){this.textContent=a;}):this.node().textContent;};V1.html=function(a){return arguments.length?this.each(typeof a==="function"?function(){var v=a.apply(this,arguments);this.innerHTML=v==null?"":v;}:a==null?function(){this.innerHTML="";}:function(){this.innerHTML=a;}):this.node().innerHTML;};V1.append=function(n){n=j2(n);return this.select(function(){return this.appendChild(n.apply(this,arguments));});};function j2(n){return typeof n==="function"?n:(n=D.ns.qualify(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local);}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,n);};}V1.insert=function(n,b){n=j2(n);b=W1(b);return this.select(function(){return this.insertBefore(n.apply(this,arguments),b.apply(this,arguments)||null);});};V1.remove=function(){return this.each(function(){var p=this.parentNode;if(p)p.removeChild(this);});};V1.data=function(v,k){var i=-1,n=this.length,g,a;if(!arguments.length){v=new Array(n=(g=this[0]).length);while(++i<n){if(a=g[i]){v[i]=a.__data__;}}return v;}function b(g,f){var i,n=g.length,m=f.length,h=Math.min(n,m),j=new Array(m),l=new Array(m),o=new Array(n),a,p;if(k){var q=new o1(),r=new o1(),s=[],t;for(i=-1;++i<n;){t=k.call(a=g[i],a.__data__,i);if(q.has(t)){o[i]=a;}else{q.set(t,a);}s.push(t);}for(i=-1;++i<m;){t=k.call(f,p=f[i],i);if(a=q.get(t)){j[i]=a;a.__data__=p;}else if(!r.has(t)){l[i]=k2(p);}r.set(t,p);q.remove(t);}for(i=-1;++i<n;){if(q.has(s[i])){o[i]=g[i];}}}else{for(i=-1;++i<h;){a=g[i];p=f[i];if(a){a.__data__=p;j[i]=a;}else{l[i]=k2(p);}}for(;i<m;++i){l[i]=k2(f[i]);}for(;i<n;++i){o[i]=g[i];}}l.update=j;l.parentNode=j.parentNode=o.parentNode=g.parentNode;c.push(l);u.push(j);d.push(o);}var c=r2([]),u=Q1([]),d=Q1([]);if(typeof v==="function"){while(++i<n){b(g=this[i],v.call(g,g.parentNode.__data__,i));}}else{while(++i<n){b(g=this[i],v);}}u.enter=function(){return c;};u.exit=function(){return d;};return u;};function k2(d){return{__data__:d};}V1.datum=function(v){return arguments.length?this.property("__data__",v):this.property("__data__");};V1.filter=function(f){var s=[],a,g,b;if(typeof f!=="function")f=l2(f);for(var j=0,m=this.length;j<m;j++){s.push(a=[]);a.parentNode=(g=this[j]).parentNode;for(var i=0,n=g.length;i<n;i++){if((b=g[i])&&f.call(b,b.__data__,i,j)){a.push(b);}}}return Q1(s);};function l2(s){return function(){return U1(this,s);};}V1.order=function(){for(var j=-1,m=this.length;++j<m;){for(var g=this[j],i=g.length-1,n=g[i],a;--i>=0;){if(a=g[i]){if(n&&n!==a.nextSibling)n.parentNode.insertBefore(a,n);n=a;}}}return this;};V1.sort=function(c){c=o2.apply(this,arguments);for(var j=-1,m=this.length;++j<m;)this[j].sort(c);return this.order();};function o2(c){if(!arguments.length)c=W;return function(a,b){return a&&b?c(a.__data__,b.__data__):!a-!b;};}V1.each=function(c){return q2(this,function(n,i,j){c.call(n,n.__data__,i,j);});};function q2(g,c){for(var j=0,m=g.length;j<m;j++){for(var a=g[j],i=0,n=a.length,b;i<n;i++){if(b=a[i])c(b,i,j);}}return g;}V1.call=function(c){var a=J(arguments);c.apply(a[0]=this,a);return this;};V1.empty=function(){return!this.node();};V1.node=function(){for(var j=0,m=this.length;j<m;j++){for(var g=this[j],i=0,n=g.length;i<n;i++){var a=g[i];if(a)return a;}}return null;};V1.size=function(){var n=0;q2(this,function(){++n;});return n;};function r2(s){P1(s,u2);return s;}var u2=[];D.selection.enter=r2;D.selection.enter.prototype=u2;u2.append=V1.append;u2.empty=V1.empty;u2.node=V1.node;u2.call=V1.call;u2.size=V1.size;u2.select=function(s){var a=[],b,c,u,g,d;for(var j=-1,m=this.length;++j<m;){u=(g=this[j]).update;a.push(b=[]);b.parentNode=g.parentNode;for(var i=-1,n=g.length;++i<n;){if(d=g[i]){b.push(u[i]=c=s.call(g.parentNode,d.__data__,i,j));c.__data__=d.__data__;}else{b.push(null);}}}return Q1(a);};u2.insert=function(n,b){if(arguments.length<2)b=v2(this);return V1.insert.call(this,n,b);};function v2(a){var b,c;return function(d,i,j){var g=a[j].update,n=g.length,f;if(j!=c)c=j,b=0;if(i>=b)b=i+1;while(!(f=g[b])&&++b<n);return f;};}V1.transition=function(){var a=Sa||++Ra,s=[],b,c,t=Ta||{time:Date.now(),ease:T7,delay:0,duration:250};for(var j=-1,m=this.length;++j<m;){s.push(b=[]);for(var g=this[j],i=-1,n=g.length;++i<n;){if(c=g[i])Wa(c,i,a,t);b.push(c);}}return Pa(s,a);};V1.interrupt=function(){return this.each(w2);};function w2(){var l=this.__transition__;if(l)++l.active;}D.select=function(n){var g=[typeof n==="string"?R1(n,K):n];g.parentNode=M;return Q1([g]);};D.selectAll=function(n){var g=J(typeof n==="string"?S1(n,K):n);g.parentNode=M;return Q1([g]);};var z2=D.select(M);V1.on=function(t,l,c){var n=arguments.length;if(n<3){if(typeof t!=="string"){if(n<2)l=false;for(c in t)this.each(A2(c,t[c],l));return this;}if(n<2)return(n=this.node()["__on"+t])&&n._;c=false;}return this.each(A2(t,l,c));};function A2(t,a,c){var n="__on"+t,i=t.indexOf("."),w=C2;if(i>0)t=t.slice(0,i);var f=B2.get(t);if(f)t=f,w=D2;function o(){var l=this[n];if(l){this.removeEventListener(t,l,l.$);delete this[n];}}function b(){var l=w(a,J(arguments));o.call(this);this.addEventListener(t,this[n]=l,l.$=c);l._=a;}function r(){var d=new RegExp("^__on([^.]+)"+D.requote(t)+"$"),m;for(var n in this){if(m=n.match(d)){var l=this[n];this.removeEventListener(m[1],l,l.$);delete this[n];}}}return i?a?b:o:a?I1:r;}var B2=D.map({mouseenter:"mouseover",mouseleave:"mouseout"});B2.forEach(function(k){if("on"+k in K)B2.remove(k);});function C2(l,a){return function(e){var o=D.event;D.event=e;a[0]=this.__data__;try{l.apply(this,a);}finally{D.event=o;}};}function D2(a,b){var l=C2(a,b);return function(e){var t=this,r=e.relatedTarget;if(!r||r!==t&&!(r.compareDocumentPosition(t)&8)){l.call(t,e);}};}var E2="onselectstart"in K?null:G1(M.style,"userSelect"),F2=0;function G2(){var n=".dragsuppress-"+ ++F2,c="click"+n,w=D.select(O).on("touchmove"+n,L1).on("dragstart"+n,L1).on("selectstart"+n,L1);if(E2){var s=M.style,a=s[E2];s[E2]="none";}return function(b){w.on(n,null);if(E2)s[E2]=a;if(b){function o(){w.on(c,null);};w.on(c,function(){L1();o();},true);setTimeout(o,0);}};}D.mouse=function(c){return I2(c,M1());};var H2=/WebKit/.test(O.navigator.userAgent)?-1:0;function I2(c,e){if(e.changedTouches)e=e.changedTouches[0];var s=c.ownerSVGElement||c;if(s.createSVGPoint){var p=s.createSVGPoint();if(H2<0&&(O.scrollX||O.scrollY)){s=D.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=s[0][0].getScreenCTM();H2=!(a.f||a.e);s.remove();}if(H2)p.x=e.pageX,p.y=e.pageY;else p.x=e.clientX,p.y=e.clientY;p=p.matrixTransform(c.getScreenCTM().inverse());return[p.x,p.y];}var r=c.getBoundingClientRect();return[e.clientX-r.left-c.clientLeft,e.clientY-r.top-c.clientTop];}D.touch=function(c,t,a){if(arguments.length<3)a=t,t=M1().changedTouches;if(t)for(var i=0,n=t.length,b;i<n;++i){if((b=t[i]).identifier===a){return I2(c,b);}}};D.behavior.drag=function(){var a=N1(d,"drag","dragstart","dragend"),o=null,m=b(I1,D.mouse,L2,"mousemove","mouseup"),t=b(J2,D.touch,K2,"touchmove","touchend");function d(){this.on("mousedown.drag",m).on("touchstart.drag",t);}function b(i,p,s,c,f){return function(){var g=this,h=D.event.target,j=g.parentNode,k=a.of(g,arguments),l=0,n=i(),q=".drag"+(n==null?"":"-"+n),r,u=D.select(s()).on(c+q,x).on(f+q,y),v=G2(),w=p(j,n);if(o){r=o.apply(g,arguments);r=[r.x-w[0],r.y-w[1]];}else{r=[0,0];}k({type:"dragstart"});function x(){var z=p(j,n),A,B;if(!z)return;A=z[0]-w[0];B=z[1]-w[1];l|=A|B;w=z;k({type:"drag",x:z[0]+r[0],y:z[1]+r[1],dx:A,dy:B});}function y(){if(!p(j,n))return;u.on(c+q,null).on(f+q,null);v(l&&D.event.target===h);k({type:"dragend"});}};}d.origin=function(x){if(!arguments.length)return o;o=x;return d;};return D.rebind(d,a,"on");};function J2(){return D.event.changedTouches[0].identifier;}function K2(){return D.event.target;}function L2(){return O;}D.touches=function(c,t){if(arguments.length<2)t=M1().touches;return t?J(t).map(function(a){var p=I2(c,a);p.identifier=a.identifier;return p;}):[];};var π=Math.PI,τ=2*π,M2=π/2,ε=1e-6,ε2=ε*ε,O2=π/180,P2=180/π;function Q2(x){return x>0?1:x<0?-1:0;}function R2(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0]);}function S2(x){return x>1?0:x<-1?π:Math.acos(x);}function T2(x){return x>1?M2:x<-1?-M2:Math.asin(x);}function U2(x){return((x=Math.exp(x))-1/x)/2;}function V2(x){return((x=Math.exp(x))+1/x)/2;}function W2(x){return((x=Math.exp(2*x))-1)/(x+1);}function X2(x){return(x=Math.sin(x/2))*x;}var ρ=Math.SQRT2,ρ2=2,ρ4=4;D.interpolateZoom=function(p,a){var b=p[0],c=p[1],w=p[2],d=a[0],f=a[1],g=a[2];var h=d-b,i=f-c,j=h*h+i*i,k=Math.sqrt(j),l=(g*g-w*w+ρ4*j)/(2*w*ρ2*k),m=(g*g-w*w-ρ4*j)/(2*g*ρ2*k),r=Math.log(Math.sqrt(l*l+1)-l),n=Math.log(Math.sqrt(m*m+1)-m),o=n-r,S=(o||Math.log(g/w))/ρ;function q(t){var s=t*S;if(o){var v=V2(r),u=w/(ρ2*k)*(v*W2(ρ*s+r)-U2(r));return[b+u*h,c+u*i,w*v/V2(ρ*s+r)];}return[b+t*h,c+t*i,w*Math.exp(ρ*s)];}q.duration=S*1e3;return q;};D.behavior.zoom=function(){var v={x:0,y:0,k:1},a,c,b,d=[960,500],f=$2,m="mousedown.zoom",h="mousemove.zoom",j="mouseup.zoom",o,r="touchstart.zoom",u,w=N1(G,"zoomstart","zoom","zoomend"),A,B,C,F;function G(g){g.on(m,b1).on(a3+".zoom",d1).on("dblclick.zoom",e1).on(r,c1);}G.event=function(g){g.each(function(){var n=w.of(this,arguments),p=v;if(Sa){D.select(this).transition().each("start.zoom",function(){v=this.__chart__||{x:0,y:0,k:1};X(n);}).tween("zoom:zoom",function(){var q=d[0],s=d[1],x=q/2,y=s/2,i=D.interpolateZoom([(x-v.x)/v.k,(y-v.y)/v.k,q/v.k],[(x-p.x)/p.k,(y-p.y)/p.k,q/p.k]);return function(t){var l=i(t),k=q/l[2];this.__chart__=v={x:x-l[0]*k,y:y-l[1]*k,k:k};Y(n);};}).each("end.zoom",function(){a1(n);});}else{this.__chart__=v;X(n);Y(n);a1(n);}});};G.translate=function(_){if(!arguments.length)return[v.x,v.y];v={x:+_[0],y:+_[1],k:v.k};S();return G;};G.scale=function(_){if(!arguments.length)return v.k;v={x:v.x,y:v.y,k:+_};S();return G;};G.scaleExtent=function(_){if(!arguments.length)return f;f=_==null?$2:[+_[0],+_[1]];return G;};G.center=function(_){if(!arguments.length)return b;b=_&&[+_[0],+_[1]];return G;};G.size=function(_){if(!arguments.length)return d;d=_&&[+_[0],+_[1]];return G;};G.x=function(z){if(!arguments.length)return B;B=z;A=z.copy();v={x:0,y:0,k:1};return G;};G.y=function(z){if(!arguments.length)return F;F=z;C=z.copy();v={x:0,y:0,k:1};return G;};function H(p){return[(p[0]-v.x)/v.k,(p[1]-v.y)/v.k];}function I(l){return[l[0]*v.k+v.x,l[1]*v.k+v.y];}function L(s){v.k=Math.max(f[0],Math.min(f[1],s));}function N(p,l){l=I(l);v.x+=p[0]-l[0];v.y+=p[1]-l[1];}function S(){if(B)B.domain(A.range().map(function(x){return(x-v.x)/v.k;}).map(A.invert));if(F)F.domain(C.range().map(function(y){return(y-v.y)/v.k;}).map(C.invert));}function X(g){g({type:"zoomstart"});}function Y(g){S();g({type:"zoom",scale:v.k,translate:[v.x,v.y]});}function a1(g){g({type:"zoomend"});}function b1(){var t=this,g=D.event.target,i=w.of(t,arguments),k=0,s=D.select(O).on(h,p).on(j,q),l=H(D.mouse(t)),n=G2();w2.call(t);X(i);function p(){k=1;N(D.mouse(t),l);Y(i);}function q(){s.on(h,null).on(j,null);n(k&&D.event.target===g);a1(i);}}function c1(){var g=this,k=w.of(g,arguments),s={},x=0,y,z=".zoom-"+D.event.changedTouches[0].identifier,_="touchmove"+z,i1="touchend"+z,m1=[],n1=D.select(g),q1=G2();w2.call(g);s1();X(k);n1.on(m,null).on(r,s1);function r1(){var i=D.touches(g);y=v.k;i.forEach(function(t){if(t.identifier in s)s[t.identifier]=H(t);});return i;}function s1(){var t=D.event.target;D.select(t).on(_,t1).on(i1,w1);m1.push(t);var l1=D.event.changedTouches;for(var i=0,n=l1.length;i<n;++i){s[l1[i].identifier]=null;}var p1=r1(),X1=Date.now();if(p1.length===1){if(X1-u<500){var p=p1[0],l=s[p.identifier];L(v.k*2);N(p,l);L1();Y(k);}u=X1;}else if(p1.length>1){var p=p1[0],q=p1[1],dx=p[0]-q[0],dy=p[1]-q[1];x=dx*dx+dy*dy;}}function t1(){var t=D.touches(g),p,l,q,l1;for(var i=0,n=t.length;i<n;++i,l1=null){q=t[i];if(l1=s[q.identifier]){if(l)break;p=q,l=l1;}}if(l1){var p1=(p1=q[0]-p[0])*p1+(p1=q[1]-p[1])*p1,X1=x&&Math.sqrt(p1/x);p=[(p[0]+q[0])/2,(p[1]+q[1])/2];l=[(l[0]+l1[0])/2,(l[1]+l1[1])/2];L(X1*y);}u=null;N(p,l);Y(k);}function w1(){if(D.event.touches.length){var l=D.event.changedTouches;for(var i=0,n=l.length;i<n;++i){delete s[l[i].identifier];}for(var p in s){return void r1();}}D.selectAll(m1).on(z,null);n1.on(m,b1).on(r,c1);q1();a1(k);}}function d1(){var g=w.of(this,arguments);if(o)clearTimeout(o);else a=H(c=b||D.mouse(this)),w2.call(this),X(g);o=setTimeout(function(){o=null;a1(g);},50);L1();L(Math.pow(2,_2()*.002)*v.k);N(c,a);Y(g);}function e1(){var g=w.of(this,arguments),p=D.mouse(this),l=H(p),k=Math.log(v.k)/Math.LN2;X(g);L(Math.pow(2,D.event.shiftKey?Math.ceil(k)-1:Math.floor(k)+1));N(p,l);Y(g);a1(g);}return D.rebind(G,w,"on");};var $2=[0,Infinity];var _2,a3="onwheel"in K?(_2=function(){return-D.event.deltaY*(D.event.deltaMode?120:1);},"wheel"):"onmousewheel"in K?(_2=function(){return D.event.wheelDelta;},"mousewheel"):(_2=function(){return-D.event.detail;},"MozMousePixelScroll");D.color=b3;function b3(){}b3.prototype.toString=function(){return this.rgb()+"";};D.hsl=c3;function c3(h,s,l){return this instanceof c3?void(this.h=+h,this.s=+s,this.l=+l):arguments.length<2?h instanceof c3?new c3(h.h,h.s,h.l):D3(""+h,E3,c3):new c3(h,s,l);}var d3=c3.prototype=new b3();d3.brighter=function(k){k=Math.pow(.7,arguments.length?k:1);return new c3(this.h,this.s,this.l/k);};d3.darker=function(k){k=Math.pow(.7,arguments.length?k:1);return new c3(this.h,this.s,k*this.l);};d3.rgb=function(){return e3(this.h,this.s,this.l);};function e3(h,s,l){var m,a;h=isNaN(h)?0:(h%=360)<0?h+360:h;s=isNaN(s)?0:s<0?0:s>1?1:s;l=l<0?0:l>1?1:l;a=l<=.5?l*(1+s):l+s-l*s;m=2*l-a;function v(h){if(h>360)h-=360;else if(h<0)h+=360;if(h<60)return m+(a-m)*h/60;if(h<180)return a;if(h<240)return m+(a-m)*(240-h)/60;return m;}function b(h){return Math.round(v(h)*255);}return new w3(b(h+120),b(h),b(h-120));}D.hcl=f3;function f3(h,c,l){return this instanceof f3?void(this.h=+h,this.c=+c,this.l=+l):arguments.length<2?h instanceof f3?new f3(h.h,h.c,h.l):h instanceof i3?q3(h.l,h.a,h.b):q3((h=F3((h=D.rgb(h)).r,h.g,h.b)).l,h.a,h.b):new f3(h,c,l);}var g3=f3.prototype=new b3();g3.brighter=function(k){return new f3(this.h,this.c,Math.min(100,this.l+j3*(arguments.length?k:1)));};g3.darker=function(k){return new f3(this.h,this.c,Math.max(0,this.l-j3*(arguments.length?k:1)));};g3.rgb=function(){return h3(this.h,this.c,this.l).rgb();};function h3(h,c,l){if(isNaN(h))h=0;if(isNaN(c))c=0;return new i3(l,Math.cos(h*=O2)*c,Math.sin(h)*c);}D.lab=i3;function i3(l,a,b){return this instanceof i3?void(this.l=+l,this.a=+a,this.b=+b):arguments.length<2?l instanceof i3?new i3(l.l,l.a,l.b):l instanceof f3?h3(l.l,l.c,l.h):F3((l=w3(l)).r,l.g,l.b):new i3(l,a,b);}var j3=18;var k3=.95047,l3=1,m3=1.08883;var n3=i3.prototype=new b3();n3.brighter=function(k){return new i3(Math.min(100,this.l+j3*(arguments.length?k:1)),this.a,this.b);};n3.darker=function(k){return new i3(Math.max(0,this.l-j3*(arguments.length?k:1)),this.a,this.b);};n3.rgb=function(){return o3(this.l,this.a,this.b);};function o3(l,a,b){var y=(l+16)/116,x=y+a/500,z=y-b/200;x=r3(x)*k3;y=r3(y)*l3;z=r3(z)*m3;return new w3(v3(3.2404542*x-1.5371385*y-.4985314*z),v3(-.969266*x+1.8760108*y+.041556*z),v3(.0556434*x-.2040259*y+1.0572252*z));}function q3(l,a,b){return l>0?new f3(Math.atan2(b,a)*P2,Math.sqrt(a*a+b*b),l):new f3(NaN,NaN,l);}function r3(x){return x>.206893034?x*x*x:(x-4/29)/7.787037;}function u3(x){return x>.008856?Math.pow(x,1/3):7.787037*x+4/29;}function v3(r){return Math.round(255*(r<=.00304?12.92*r:1.055*Math.pow(r,1/2.4)-.055));}D.rgb=w3;function w3(r,g,b){return this instanceof w3?void(this.r=~~r,this.g=~~g,this.b=~~b):arguments.length<2?r instanceof w3?new w3(r.r,r.g,r.b):D3(""+r,w3,e3):new w3(r,g,b);}function z3(v){return new w3(v>>16,v>>8&255,v&255);}function A3(v){return z3(v)+"";}var B3=w3.prototype=new b3();B3.brighter=function(k){k=Math.pow(.7,arguments.length?k:1);var r=this.r,g=this.g,b=this.b,i=30;if(!r&&!g&&!b)return new w3(i,i,i);if(r&&r<i)r=i;if(g&&g<i)g=i;if(b&&b<i)b=i;return new w3(Math.min(255,r/k),Math.min(255,g/k),Math.min(255,b/k));};B3.darker=function(k){k=Math.pow(.7,arguments.length?k:1);return new w3(k*this.r,k*this.g,k*this.b);};B3.hsl=function(){return E3(this.r,this.g,this.b);};B3.toString=function(){return"#"+C3(this.r)+C3(this.g)+C3(this.b);};function C3(v){return v<16?"0"+Math.max(0,v).toString(16):Math.min(255,v).toString(16);}function D3(f,a,h){var r=0,g=0,b=0,m,c,d;m=/([a-z]+)\((.*)\)/i.exec(f);if(m){c=m[2].split(",");switch(m[1]){case"hsl":{return h(parseFloat(c[0]),parseFloat(c[1])/100,parseFloat(c[2])/100);}case"rgb":{return a(H3(c[0]),H3(c[1]),H3(c[2]));}}}if(d=I3.get(f))return a(d.r,d.g,d.b);if(f!=null&&f.charAt(0)==="#"&&!isNaN(d=parseInt(f.slice(1),16))){if(f.length===4){r=(d&3840)>>4;r=r>>4|r;g=d&240;g=g>>4|g;b=d&15;b=b<<4|b;}else if(f.length===7){r=(d&16711680)>>16;g=(d&65280)>>8;b=d&255;}}return a(r,g,b);}function E3(r,g,b){var m=Math.min(r/=255,g/=255,b/=255),a=Math.max(r,g,b),d=a-m,h,s,l=(a+m)/2;if(d){s=l<.5?d/(a+m):d/(2-a-m);if(r==a)h=(g-b)/d+(g<b?6:0);else if(g==a)h=(b-r)/d+2;else h=(r-g)/d+4;h*=60;}else{h=NaN;s=l>0&&l<1?0:h;}return new c3(h,s,l);}function F3(r,g,b){r=G3(r);g=G3(g);b=G3(b);var x=u3((.4124564*r+.3575761*g+.1804375*b)/k3),y=u3((.2126729*r+.7151522*g+.072175*b)/l3),z=u3((.0193339*r+.119192*g+.9503041*b)/m3);return i3(116*y-16,500*(x-y),200*(y-z));}function G3(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);}function H3(c){var f=parseFloat(c);return c.charAt(c.length-1)==="%"?Math.round(f*2.55):f;}var I3=D.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});I3.forEach(function(k,v){I3.set(k,z3(v));});function J3(v){return typeof v==="function"?v:function(){return v;};}D.functor=J3;function K3(d){return d;}D.xhr=L3(K3);function L3(r){return function(u,m,c){if(arguments.length===2&&typeof m==="function")c=m,m=null;return M3(u,m,r,c);};}function M3(u,m,r,c){var x={},d=D.dispatch("beforesend","progress","load","error"),h={},a=new XMLHttpRequest(),b=null;if(O.XDomainRequest&&!("withCredentials"in a)&&/^(http(s)?:)?\/\//.test(u))a=new XDomainRequest();"onload"in a?a.onload=a.onerror=f:a.onreadystatechange=function(){a.readyState>3&&f();};function f(){var s=a.status,g;if(!s&&O3(a)||s>=200&&s<300||s===304){try{g=r.call(x,a);}catch(e){d.error.call(x,e);return;}d.load.call(x,g);}else{d.error.call(x,a);}}a.onprogress=function(g){var o=D.event;D.event=g;try{d.progress.call(x,a);}finally{D.event=o;}};x.header=function(n,v){n=(n+"").toLowerCase();if(arguments.length<2)return h[n];if(v==null)delete h[n];else h[n]=v+"";return x;};x.mimeType=function(v){if(!arguments.length)return m;m=v==null?null:v+"";return x;};x.responseType=function(v){if(!arguments.length)return b;b=v;return x;};x.response=function(v){r=v;return x;};["get","post"].forEach(function(g){x[g]=function(){return x.send.apply(x,[g].concat(J(arguments)));};});x.send=function(g,i,c){if(arguments.length===2&&typeof i==="function")c=i,i=null;a.open(g,u,true);if(m!=null&&!("accept"in h))h["accept"]=m+",*/*";if(a.setRequestHeader)for(var n in h)a.setRequestHeader(n,h[n]);if(m!=null&&a.overrideMimeType)a.overrideMimeType(m);if(b!=null)a.responseType=b;if(c!=null)x.on("error",c).on("load",function(a){c(null,a);});d.beforesend.call(x,a);a.send(i==null?null:i);return x;};x.abort=function(){a.abort();return x;};D.rebind(x,d,"on");return c==null?x:x.get(N3(c));}function N3(c){return c.length===1?function(P,r){c(P==null?r:null);}:c;}function O3(r){var t=r.responseType;return t&&t!=="text"?r.response:r.responseText;}D.dsv=function(d,m){var r=new RegExp('["'+d+"\n]"),b=d.charCodeAt(0);function g(u,a,c){if(arguments.length<3)c=a,a=null;var x=M3(u,m,a==null?h:l(a),c);x.row=function(_){return arguments.length?x.response((a=_)==null?h:l(_)):a;};return x;}function h(a){return g.parse(a.responseText);}function l(f){return function(a){return g.parse(a.responseText,f);};}g.parse=function(t,f){var o;return g.parseRows(t,function(c,i){if(o)return o(c,i-1);var a=new Function("d","return {"+c.map(function(n,i){return JSON.stringify(n)+": d["+i+"]";}).join(",")+"}");o=f?function(c,i){return f(a(c),i);}:a;});};g.parseRows=function(o,f){var s={},u={},v=[],N=o.length,I=0,n=0,t,w;function x(){if(I>=N)return u;if(w)return w=false,s;var j=I;if(o.charCodeAt(j)===34){var i=j;while(i++<N){if(o.charCodeAt(i)===34){if(o.charCodeAt(i+1)!==34)break;++i;}}I=i+2;var c=o.charCodeAt(i+1);if(c===13){w=true;if(o.charCodeAt(i+2)===10)++I;}else if(c===10){w=true;}return o.slice(j+1,i).replace(/""/g,'"');}while(I<N){var c=o.charCodeAt(I++),k=1;if(c===10)w=true;else if(c===13){w=true;if(o.charCodeAt(I)===10)++I,++k;}else if(c!==b)continue;return o.slice(j,I-k);}return o.slice(j);}while((t=x())!==u){var a=[];while(t!==s&&t!==u){a.push(t);t=x();}if(f&&!(a=f(a,n++)))continue;v.push(a);}return v;};g.format=function(a){if(Array.isArray(a[0]))return g.formatRows(a);var f=new E1(),c=[];a.forEach(function(i){for(var j in i){if(!f.has(j)){c.push(f.add(j));}}});return[c.map(q).join(d)].concat(a.map(function(i){return c.map(function(j){return q(i[j]);}).join(d);})).join("\n");};g.formatRows=function(a){return a.map(p).join("\n");};function p(a){return a.map(q).join(d);}function q(t){return r.test(t)?'"'+t.replace(/\"/g,'""')+'"':t;}return g;};D.csv=D.dsv(",","text/csv");D.tsv=D.dsv("	","text/tab-separated-values");var P3,Q3,R3,S3,T3,U3=O[G1(O,"requestAnimationFrame")]||function(c){setTimeout(c,17);};D.timer=function(c,d,t){var n=arguments.length;if(n<2)d=0;if(n<3)t=Date.now();var a=t+d,b={c:c,t:a,f:false,n:null};if(Q3)Q3.n=b;else P3=b;Q3=b;if(!R3){S3=clearTimeout(S3);R3=1;U3(V3);}};function V3(){var n=W3(),d=X3()-n;if(d>24){if(isFinite(d)){clearTimeout(S3);S3=setTimeout(V3,d);}R3=0;}else{R3=1;U3(V3);}}D.timer.flush=function(){W3();X3();};function W3(){var n=Date.now();T3=P3;while(T3){if(n>=T3.t)T3.f=T3.c(n-T3.t);T3=T3.n;}return n;}function X3(){var t,a=P3,b=Infinity;while(a){if(a.f){a=t?t.n=a.n:P3=a.n;}else{if(a.t<b)b=a.t;a=(t=a).n;}}Q3=t;return b;}function Y3(x,p){return p-(x?Math.ceil(Math.log(x)/Math.LN10):1);}D.round=function(x,n){return n?Math.round(x*(n=Math.pow(10,n)))/n:Math.round(x);};var Z3=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map($3);D.formatPrefix=function(v,p){var i=0;if(v){if(v<0)v*=-1;if(p)v=D.round(v,Y3(v,p));i=1+Math.floor(1e-12+Math.log(v)/Math.LN10);i=Math.max(-24,Math.min(24,Math.floor((i-1)/3)*3));}return Z3[8+i/3];};function $3(d,i){var k=Math.pow(10,h1(8-i)*3);return{scale:i>8?function(d){return d/k;}:function(d){return d*k;},symbol:d};}function _3(l){var a=l.decimal,b=l.thousands,c=l.grouping,d=l.currency,f=c?function(v){var i=v.length,t=[],j=0,g=c[0];while(g>0&&i>0){t.push(v.substring(i-=g,i+g));g=c[j=(j+1)%c.length];}return t.reverse().join(b);}:K3;return function(s){var m=a4.exec(s),g=m[1]||" ",h=m[2]||">",j=m[3]||"",k=m[4]||"",z=m[5],w=+m[6],n=m[7],p=m[8],t=m[9],o=1,q="",r="",u=false;if(p)p=+p.substring(1);if(z||g==="0"&&h==="="){z=g="0";h="=";if(n)w-=Math.floor((w-1)/4);}switch(t){case"n":n=true;t="g";break;case"%":o=100;r="%";t="f";break;case"p":o=100;r="%";t="r";break;case"b":case"o":case"x":case"X":if(k==="#")q="0"+t.toLowerCase();case"c":case"d":u=true;p=0;break;case"s":o=-1;t="r";break;}if(k==="$")q=d[0],r=d[1];if(t=="r"&&!p)t="g";if(p!=null){if(t=="g")p=Math.max(1,Math.min(21,p));else if(t=="e"||t=="f")p=Math.max(0,Math.min(20,p));}t=b4.get(t)||c4;var v=z&&n;return function(x){var y=r;if(u&&x%1)return"";var A=x<0||x===0&&1/x<0?(x=-x,"-"):j;if(o<0){var B=D.formatPrefix(x,p);x=B.scale(x);y=B.symbol+r;}else{x*=o;}x=t(x,p);var i=x.lastIndexOf("."),C=i<0?x:x.substring(0,i),F=i<0?"":a+x.substring(i+1);if(!z&&n)C=f(C);var G=q.length+C.length+F.length+(v?0:A.length),H=G<w?new Array(G=w-G+1).join(g):"";if(v)C=f(H+C);A+=q;x=C+F;return(h==="<"?A+x+H:h===">"?H+A+x:h==="^"?H.substring(0,G>>=1)+A+x+H.substring(G):A+(v?x:H+x))+y;};};}var a4=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var b4=D.map({b:function(x){return x.toString(2);},c:function(x){return String.fromCharCode(x);},o:function(x){return x.toString(8);},x:function(x){return x.toString(16);},X:function(x){return x.toString(16).toUpperCase();},g:function(x,p){return x.toPrecision(p);},e:function(x,p){return x.toExponential(p);},f:function(x,p){return x.toFixed(p);},r:function(x,p){return(x=D.round(x,Y3(x,p))).toFixed(Math.max(0,Math.min(20,Y3(x*(1+1e-15),p))));}});function c4(x){return x+"";}var d4=D.time={},e4=Date;function f4(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0]);}f4.prototype={getDate:function(){return this._.getUTCDate();},getDay:function(){return this._.getUTCDay();},getFullYear:function(){return this._.getUTCFullYear();},getHours:function(){return this._.getUTCHours();},getMilliseconds:function(){return this._.getUTCMilliseconds();},getMinutes:function(){return this._.getUTCMinutes();},getMonth:function(){return this._.getUTCMonth();},getSeconds:function(){return this._.getUTCSeconds();},getTime:function(){return this._.getTime();},getTimezoneOffset:function(){return 0;},valueOf:function(){return this._.valueOf();},setDate:function(){g4.setUTCDate.apply(this._,arguments);},setDay:function(){g4.setUTCDay.apply(this._,arguments);},setFullYear:function(){g4.setUTCFullYear.apply(this._,arguments);},setHours:function(){g4.setUTCHours.apply(this._,arguments);},setMilliseconds:function(){g4.setUTCMilliseconds.apply(this._,arguments);},setMinutes:function(){g4.setUTCMinutes.apply(this._,arguments);},setMonth:function(){g4.setUTCMonth.apply(this._,arguments);},setSeconds:function(){g4.setUTCSeconds.apply(this._,arguments);},setTime:function(){g4.setTime.apply(this._,arguments);}};var g4=Date.prototype;function h4(l,s,n){function r(d){var f=l(d),g=o(f,1);return d-f<g-d?f:g;}function c(d){s(d=l(new e4(d-1)),1);return d;}function o(d,k){s(d=new e4(+d),k);return d;}function a(t,d,f){var g=c(t),h=[];if(f>1){while(g<d){if(!(n(g)%f))h.push(new Date(+g));s(g,1);}}else{while(g<d)h.push(new Date(+g)),s(g,1);}return h;}function b(t,d,f){try{e4=f4;var u=new f4();u._=t;return a(u,d,f);}finally{e4=Date;}}l.floor=l;l.round=r;l.ceil=c;l.offset=o;l.range=a;var u=l.utc=i4(l);u.floor=u;u.round=i4(r);u.ceil=i4(c);u.offset=i4(o);u.range=b;return l;}function i4(m){return function(d,k){try{e4=f4;var u=new f4();u._=d;return m(u,k)._;}finally{e4=Date;}};}d4.year=h4(function(d){d=d4.day(d);d.setMonth(0,1);return d;},function(d,o){d.setFullYear(d.getFullYear()+o);},function(d){return d.getFullYear();});d4.years=d4.year.range;d4.years.utc=d4.year.utc.range;d4.day=h4(function(d){var a=new e4(2e3,0);a.setFullYear(d.getFullYear(),d.getMonth(),d.getDate());return a;},function(d,o){d.setDate(d.getDate()+o);},function(d){return d.getDate()-1;});d4.days=d4.day.range;d4.days.utc=d4.day.utc.range;d4.dayOfYear=function(d){var y=d4.year(d);return Math.floor((d-y-(d.getTimezoneOffset()-y.getTimezoneOffset())*6e4)/864e5);};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(d,i){i=7-i;var a=d4[d]=h4(function(b){(b=d4.day(b)).setDate(b.getDate()-(b.getDay()+i)%7);return b;},function(b,o){b.setDate(b.getDate()+Math.floor(o)*7);},function(b){var d=d4.year(b).getDay();return Math.floor((d4.dayOfYear(b)+(d+i)%7)/7)-(d!==i);});d4[d+"s"]=a.range;d4[d+"s"].utc=a.utc.range;d4[d+"OfYear"]=function(b){var d=d4.year(b).getDay();return Math.floor((d4.dayOfYear(b)+(d+i)%7)/7);};});d4.week=d4.sunday;d4.weeks=d4.sunday.range;d4.weeks.utc=d4.sunday.utc.range;d4.weekOfYear=d4.sundayOfYear;function j4(l){var a=l.dateTime,b=l.date,g=l.time,h=l.periods,k=l.days,o=l.shortDays,q=l.months,r=l.shortMonths;function gb(t){var n=t.length;function m(d){var a1=[],i=-1,j=0,c,p,f;while(++i<n){if(t.charCodeAt(i)===37){a1.push(t.slice(j,i));if((p=k4[c=t.charAt(++i)])!=null)c=t.charAt(++i);if(f=F[c])c=f(d,p==null?c==="e"?" ":"0":p);a1.push(c);j=i+1;}}a1.push(t.slice(j,i));return a1.join("");}m.parse=function(c){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=s(d,t,c,0);if(i!=c.length)return null;if("p"in d)d.H=d.H%12+d.p*12;var f=d.Z!=null&&e4!==f4,j=new(f?f4:e4)();if("j"in d)j.setFullYear(d.y,0,d.j);else if("w"in d&&("W"in d||"U"in d)){j.setFullYear(d.y,0,1);j.setFullYear(d.y,0,"W"in d?(d.w+6)%7+d.W*7-(j.getDay()+5)%7:d.w+d.U*7-(j.getDay()+6)%7);}else j.setFullYear(d.y,d.m,d.d);j.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L);return f?j._:j;};m.toString=function(){return t;};return m;}function s(d,f,a1,j){var c,p,t,i=0,n=f.length,m=a1.length;while(i<n){if(j>=m)return-1;c=f.charCodeAt(i++);if(c===37){t=f.charAt(i++);p=G[t in k4?f.charAt(i++):t];if(!p||(j=p(d,a1,j))<0)return-1;}else if(c!=a1.charCodeAt(j++)){return-1;}}return j;}gb.utc=function(t){var c=gb(t);function f(d){try{e4=f4;var i=new e4();i._=d;return c(i);}finally{e4=Date;}}f.parse=function(d){try{e4=f4;var i=c.parse(d);return i&&i._;}finally{e4=Date;}};f.toString=c.toString;return f;};gb.multi=gb.utc.multi=G4;var u=D.map(),v=o4(k),w=p4(k),x=o4(o),y=p4(o),z=o4(q),A=p4(q),B=o4(r),C=p4(r);h.forEach(function(p,i){u.set(p.toLowerCase(),i);});var F={a:function(d){return o[d.getDay()];},A:function(d){return k[d.getDay()];},b:function(d){return r[d.getMonth()];},B:function(d){return q[d.getMonth()];},c:gb(a),d:function(d,p){return n4(d.getDate(),p,2);},e:function(d,p){return n4(d.getDate(),p,2);},H:function(d,p){return n4(d.getHours(),p,2);},I:function(d,p){return n4(d.getHours()%12||12,p,2);},j:function(d,p){return n4(1+d4.dayOfYear(d),p,3);},L:function(d,p){return n4(d.getMilliseconds(),p,3);},m:function(d,p){return n4(d.getMonth()+1,p,2);},M:function(d,p){return n4(d.getMinutes(),p,2);},p:function(d){return h[+(d.getHours()>=12)];},S:function(d,p){return n4(d.getSeconds(),p,2);},U:function(d,p){return n4(d4.sundayOfYear(d),p,2);},w:function(d){return d.getDay();},W:function(d,p){return n4(d4.mondayOfYear(d),p,2);},x:gb(b),X:gb(g),y:function(d,p){return n4(d.getFullYear()%100,p,2);},Y:function(d,p){return n4(d.getFullYear()%1e4,p,4);},Z:E4,"%":function(){return"%";}};var G={a:H,A:I,b:L,B:N,c:S,d:y4,e:y4,H:A4,I:A4,j:z4,L:D4,m:x4,M:B4,p:_,S:C4,U:r4,w:q4,W:s4,x:X,X:Y,y:u4,Y:t4,Z:v4,"%":F4};function H(d,c,i){x.lastIndex=0;var n=x.exec(c.slice(i));return n?(d.w=y.get(n[0].toLowerCase()),i+n[0].length):-1;}function I(d,c,i){v.lastIndex=0;var n=v.exec(c.slice(i));return n?(d.w=w.get(n[0].toLowerCase()),i+n[0].length):-1;}function L(d,c,i){B.lastIndex=0;var n=B.exec(c.slice(i));return n?(d.m=C.get(n[0].toLowerCase()),i+n[0].length):-1;}function N(d,c,i){z.lastIndex=0;var n=z.exec(c.slice(i));return n?(d.m=A.get(n[0].toLowerCase()),i+n[0].length):-1;}function S(d,c,i){return s(d,F.c.toString(),c,i);}function X(d,c,i){return s(d,F.x.toString(),c,i);}function Y(d,c,i){return s(d,F.X.toString(),c,i);}function _(d,c,i){var n=u.get(c.slice(i,i+=2).toLowerCase());return n==null?-1:(d.p=n,i);}return gb;}var k4={"-":"",_:" ","0":"0"},l4=/^\s*\d+/,m4=/^%/;function n4(v,f,w){var s=v<0?"-":"",a=(s?-v:v)+"",l=a.length;return s+(l<w?new Array(w-l+1).join(f)+a:a);}function o4(n){return new RegExp("^(?:"+n.map(D.requote).join("|")+")","i");}function p4(a){var m=new o1(),i=-1,n=a.length;while(++i<n)m.set(a[i].toLowerCase(),i);return m;}function q4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+1));return n?(d.w=+n[0],i+n[0].length):-1;}function r4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i));return n?(d.U=+n[0],i+n[0].length):-1;}function s4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i));return n?(d.W=+n[0],i+n[0].length):-1;}function t4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+4));return n?(d.y=+n[0],i+n[0].length):-1;}function u4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+2));return n?(d.y=w4(+n[0]),i+n[0].length):-1;}function v4(d,s,i){return/^[+-]\d{4}$/.test(s=s.slice(i,i+5))?(d.Z=-s,i+5):-1;}function w4(d){return d+(d>68?1900:2e3);}function x4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+2));return n?(d.m=n[0]-1,i+n[0].length):-1;}function y4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+2));return n?(d.d=+n[0],i+n[0].length):-1;}function z4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+3));return n?(d.j=+n[0],i+n[0].length):-1;}function A4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+2));return n?(d.H=+n[0],i+n[0].length):-1;}function B4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+2));return n?(d.M=+n[0],i+n[0].length):-1;}function C4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+2));return n?(d.S=+n[0],i+n[0].length):-1;}function D4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+3));return n?(d.L=+n[0],i+n[0].length):-1;}function E4(d){var z=d.getTimezoneOffset(),a=z>0?"-":"+",b=h1(z)/60|0,c=h1(z)%60;return a+n4(b,"0",2)+n4(c,"0",2);}function F4(d,s,i){m4.lastIndex=0;var n=m4.exec(s.slice(i,i+1));return n?i+n[0].length:-1;}function G4(a){var n=a.length,i=-1;while(++i<n)a[i][0]=this(a[i][0]);return function(d){var i=0,f=a[i];while(!f[1](d))f=a[++i];return f[0](d);};}D.locale=function(l){return{numberFormat:_3(l),timeFormat:j4(l)};};var H4=D.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});D.format=H4.numberFormat;D.geo={};function I4(){}I4.prototype={s:0,t:0,add:function(y){K4(y,this.t,J4);K4(J4.s,this.s,this);if(this.s)this.t+=J4.t;else this.s=J4.t;},reset:function(){this.s=this.t=0;},valueOf:function(){return this.s;}};var J4=new I4();function K4(a,b,o){var x=o.s=a+b,c=x-a,d=x-c;o.t=a-d+(b-c);}D.geo.stream=function(o,l){if(o&&M4.hasOwnProperty(o.type)){M4[o.type](o,l);}else{L4(o,l);}};function L4(g,l){if(g&&N4.hasOwnProperty(g.type)){N4[g.type](g,l);}}var M4={Feature:function(f,l){L4(f.geometry,l);},FeatureCollection:function(o,l){var f=o.features,i=-1,n=f.length;while(++i<n)L4(f[i].geometry,l);}};var N4={Sphere:function(o,l){l.sphere();},Point:function(o,l){o=o.coordinates;l.point(o[0],o[1],o[2]);},MultiPoint:function(o,l){var c=o.coordinates,i=-1,n=c.length;while(++i<n)o=c[i],l.point(o[0],o[1],o[2]);},LineString:function(o,l){O4(o.coordinates,l,0);},MultiLineString:function(o,l){var c=o.coordinates,i=-1,n=c.length;while(++i<n)O4(c[i],l,0);},Polygon:function(o,l){P4(o.coordinates,l);},MultiPolygon:function(o,l){var c=o.coordinates,i=-1,n=c.length;while(++i<n)P4(c[i],l);},GeometryCollection:function(o,l){var g=o.geometries,i=-1,n=g.length;while(++i<n)L4(g[i],l);}};function O4(c,l,a){var i=-1,n=c.length-a,b;l.lineStart();while(++i<n)b=c[i],l.point(b[0],b[1],b[2]);l.lineEnd();}function P4(c,l){var i=-1,n=c.length;l.polygonStart();while(++i<n)O4(c[i],l,1);l.polygonEnd();}D.geo.area=function(o){Q4=0;D.geo.stream(o,S4);return Q4;};var Q4,R4=new I4();var S4={sphere:function(){Q4+=4*π;},point:I1,lineStart:I1,lineEnd:I1,polygonStart:function(){R4.reset();S4.lineStart=T4;},polygonEnd:function(){var a=2*R4;Q4+=a<0?4*π+a:a;S4.lineStart=S4.lineEnd=S4.point=I1;}};function T4(){var a,b,c,d,s;S4.point=function(λ,φ){S4.point=n;c=(a=λ)*O2,d=Math.cos(φ=(b=φ)*O2/2+π/4),s=Math.sin(φ);};function n(λ,φ){λ*=O2;φ=φ*O2/2+π/4;var f=λ-c,g=f>=0?1:-1,h=g*f,i=Math.cos(φ),j=Math.sin(φ),k=s*j,u=d*i+k*Math.cos(h),v=k*g*Math.sin(h);R4.add(Math.atan2(v,u));c=λ,d=i,s=j;}S4.lineEnd=function(){n(a,b);};}function U4(s){var λ=s[0],φ=s[1],c=Math.cos(φ);return[c*Math.cos(λ),c*Math.sin(λ),Math.sin(φ)];}function V4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2];}function W4(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]];}function X4(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2];}function Y4(v,k){return[v[0]*k,v[1]*k,v[2]*k];}function Z4(d){var l=Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);d[0]/=l;d[1]/=l;d[2]/=l;}function $4(c){return[Math.atan2(c[1],c[0]),T2(c[2])];}function _4(a,b){return h1(a[0]-b[0])<ε&&h1(a[1]-b[1])<ε;}D.geo.bounds=function(){var c,d,f,g,h,j,k,l,m,r,o;var q={point:t,lineStart:v,lineEnd:w,polygonStart:function(){q.point=y;q.lineStart=z;q.lineEnd=A;m=0;S4.polygonStart();},polygonEnd:function(){S4.polygonEnd();q.point=t;q.lineStart=v;q.lineEnd=w;if(R4<0)c=-(f=180),d=-(g=90);else if(m>ε)g=90;else if(m<-ε)d=-90;o[0]=c,o[1]=f;}};function t(λ,φ){r.push(o=[c=λ,f=λ]);if(φ<d)d=φ;if(φ>g)g=φ;}function u(λ,φ){var p=U4([λ*O2,φ*O2]);if(l){var n=W4(l,p),a=[n[1],-n[0],0],i=W4(a,n);Z4(i);i=$4(i);var b=λ-h,s=b>0?1:-1,x=i[0]*P2*s,G=h1(b)>180;if(G^(s*h<x&&x<s*λ)){var H=i[1]*P2;if(H>g)g=H;}else if(x=(x+360)%360-180,G^(s*h<x&&x<s*λ)){var H=-i[1]*P2;if(H<d)d=H;}else{if(φ<d)d=φ;if(φ>g)g=φ;}if(G){if(λ<h){if(B(c,λ)>B(c,f))f=λ;}else{if(B(λ,f)>B(c,f))c=λ;}}else{if(f>=c){if(λ<c)c=λ;if(λ>f)f=λ;}else{if(λ>h){if(B(c,λ)>B(c,f))f=λ;}else{if(B(λ,f)>B(c,f))c=λ;}}}}else{t(λ,φ);}l=p,h=λ;}function v(){q.point=u;}function w(){o[0]=c,o[1]=f;q.point=t;l=null;}function y(λ,φ){if(l){var a=λ-h;m+=h1(a)>180?a+(a>0?360:-360):a;}else j=λ,k=φ;S4.point(λ,φ);u(λ,φ);}function z(){S4.lineStart();}function A(){y(j,k);S4.lineEnd();if(h1(m)>ε)c=-(f=180);o[0]=c,o[1]=f;l=null;}function B(c,f){return(f-=c)<0?f+360:f;}function C(a,b){return a[0]-b[0];}function F(x,o){return o[0]<=o[1]?o[0]<=x&&x<=o[1]:x<o[0]||o[1]<x;}return function(p){g=f=-(c=d=Infinity);r=[];D.geo.stream(p,q);var n=r.length;if(n){r.sort(C);for(var i=1,a=r[0],b,s=[a];i<n;++i){b=r[i];if(F(b[0],a)||F(b[1],a)){if(B(a[0],b[1])>B(a[0],a[1]))a[1]=b[1];if(B(b[0],a[1])>B(a[0],a[1]))a[0]=b[0];}else{s.push(a=b);}}var x=-Infinity,G;for(var n=s.length-1,i=0,a=s[n],b;i<=n;a=b,++i){b=s[i];if((G=B(a[1],b[0]))>x)x=G,c=b[0],f=a[1];}}r=o=null;return c===Infinity||d===Infinity?[[NaN,NaN],[NaN,NaN]]:[[c,d],[f,g]];};}();D.geo.centroid=function(o){a5=b5=c5=d5=e5=f5=g5=h5=i5=j5=k5=0;D.geo.stream(o,l5);var x=i5,y=j5,z=k5,m=x*x+y*y+z*z;if(m<ε2){x=f5,y=g5,z=h5;if(b5<ε)x=c5,y=d5,z=e5;m=x*x+y*y+z*z;if(m<ε2)return[NaN,NaN];}return[Math.atan2(y,x)*P2,T2(z/Math.sqrt(m))*P2];};var a5,b5,c5,d5,e5,f5,g5,h5,i5,j5,k5;var l5={sphere:I1,point:m5,lineStart:o5,lineEnd:p5,polygonStart:function(){l5.lineStart=q5;},polygonEnd:function(){l5.lineStart=o5;}};function m5(λ,φ){λ*=O2;var c=Math.cos(φ*=O2);n5(c*Math.cos(λ),c*Math.sin(λ),Math.sin(φ));}function n5(x,y,z){++a5;c5+=(x-c5)/a5;d5+=(y-d5)/a5;e5+=(z-e5)/a5;}function o5(){var a,b,c;l5.point=function(λ,φ){λ*=O2;var d=Math.cos(φ*=O2);a=d*Math.cos(λ);b=d*Math.sin(λ);c=Math.sin(φ);l5.point=n;n5(a,b,c);};function n(λ,φ){λ*=O2;var d=Math.cos(φ*=O2),x=d*Math.cos(λ),y=d*Math.sin(λ),z=Math.sin(φ),w=Math.atan2(Math.sqrt((w=b*z-c*y)*w+(w=c*x-a*z)*w+(w=a*y-b*x)*w),a*x+b*y+c*z);b5+=w;f5+=w*(a+(a=x));g5+=w*(b+(b=y));h5+=w*(c+(c=z));n5(a,b,c);}}function p5(){l5.point=m5;}function q5(){var a,b,c,d,f;l5.point=function(λ,φ){a=λ,b=φ;l5.point=n;λ*=O2;var g=Math.cos(φ*=O2);c=g*Math.cos(λ);d=g*Math.sin(λ);f=Math.sin(φ);n5(c,d,f);};l5.lineEnd=function(){n(a,b);l5.lineEnd=p5;l5.point=m5;};function n(λ,φ){λ*=O2;var g=Math.cos(φ*=O2),x=g*Math.cos(λ),y=g*Math.sin(λ),z=Math.sin(φ),h=d*z-f*y,i=f*x-c*z,j=c*y-d*x,m=Math.sqrt(h*h+i*i+j*j),u=c*x+d*y+f*z,v=m&&-S2(u)/m,w=Math.atan2(m,u);i5+=v*h;j5+=v*i;k5+=v*j;b5+=w;f5+=w*(c+(c=x));g5+=w*(d+(d=y));h5+=w*(f+(f=z));n5(c,d,f);}}function r5(){return true;}function s5(s,c,d,f,l){var g=[],h=[];s.forEach(function(r){if((n=r.length-1)<=0)return;var n,t=r[0],u=r[n];if(_4(t,u)){l.lineStart();for(var i=0;i<n;++i)l.point((t=r[i])[0],t[1]);l.lineEnd();return;}var a=new u5(t,r,null,true),b=new u5(t,null,a,false);a.o=b;g.push(a);h.push(b);a=new u5(u,r,null,false);b=new u5(u,null,a,true);a.o=b;g.push(a);h.push(b);});h.sort(c);t5(g);t5(h);if(!g.length)return;for(var i=0,j=d,n=h.length;i<n;++i){h[i].e=j=!j;}var k=g[0],p,m;while(1){var o=k,q=true;while(o.v)if((o=o.n)===k)return;p=o.z;l.lineStart();do{o.v=o.o.v=true;if(o.e){if(q){for(var i=0,n=p.length;i<n;++i)l.point((m=p[i])[0],m[1]);}else{f(o.x,o.n.x,1,l);}o=o.n;}else{if(q){p=o.p.z;for(var i=p.length-1;i>=0;--i)l.point((m=p[i])[0],m[1]);}else{f(o.x,o.p.x,-1,l);}o=o.p;}o=o.o;p=o.z;q=!q;}while(!o.v);l.lineEnd();}}function t5(c){if(!(n=c.length))return;var n,i=0,a=c[0],b;while(++i<n){a.n=b=c[i];b.p=a;a=b;}a.n=b=c[0];b.p=a;}function u5(p,a,o,b){this.x=p;this.z=a;this.o=o;this.e=b;this.v=false;this.n=this.p=null;}function v5(p,c,a,b){return function(r,l){var d=c(l),f=r.invert(b[0],b[1]);var g={point:h,lineStart:k,lineEnd:m,polygonStart:function(){g.point=w;g.lineStart=x;g.lineEnd=y;s=[];u=[];},polygonEnd:function(){g.point=h;g.lineStart=k;g.lineEnd=m;s=D.merge(s);var i=D5(f,u);if(s.length){if(!t)l.polygonStart(),t=true;s5(s,y5,i,a,l);}else if(i){if(!t)l.polygonStart(),t=true;l.lineStart();a(null,null,1,l);l.lineEnd();}if(t)l.polygonEnd(),t=false;s=u=null;},sphere:function(){l.polygonStart();l.lineStart();a(null,null,1,l);l.lineEnd();l.polygonEnd();}};function h(λ,φ){var h=r(λ,φ);if(p(λ=h[0],φ=h[1]))l.point(λ,φ);}function j(λ,φ){var h=r(λ,φ);d.point(h[0],h[1]);}function k(){g.point=j;d.lineStart();}function m(){g.point=h;d.lineEnd();}var s;var o=x5(),q=c(o),t=false,u,v;function w(λ,φ){v.push([λ,φ]);var h=r(λ,φ);q.point(h[0],h[1]);}function x(){q.lineStart();v=[];}function y(){w(v[0][0],v[0][1]);q.lineEnd();var z=q.clean(),A=o.buffer(),B,n=A.length;v.pop();u.push(v);v=null;if(!n)return;if(z&1){B=A[0];var n=B.length-1,i=-1,h;if(n>0){if(!t)l.polygonStart(),t=true;l.lineStart();while(++i<n)l.point((h=B[i])[0],h[1]);l.lineEnd();}return;}if(n>1&&z&2)A.push(A.pop().concat(A.shift()));s.push(A.filter(w5));}return g;};}function w5(s){return s.length>1;}function x5(){var l=[],a;return{lineStart:function(){l.push(a=[]);},point:function(λ,φ){a.push([λ,φ]);},lineEnd:I1,buffer:function(){var b=l;l=[];a=null;return b;},rejoin:function(){if(l.length>1)l.push(l.pop().concat(l.shift()));}};}function y5(a,b){return((a=a.x)[0]<0?a[1]-M2-ε:M2-a[1])-((b=b.x)[0]<0?b[1]-M2-ε:M2-b[1]);}var z5=v5(r5,A5,C5,[-π,-π/2]);function A5(l){var λ=NaN,φ=NaN,s=NaN,c;return{lineStart:function(){l.lineStart();c=1;},point:function(a,b){var d=a>0?π:-π,f=h1(a-λ);if(h1(f-π)<ε){l.point(λ,φ=(φ+b)/2>0?M2:-M2);l.point(s,φ);l.lineEnd();l.lineStart();l.point(d,φ);l.point(a,φ);c=0;}else if(s!==d&&f>=π){if(h1(λ-s)<ε)λ-=s*ε;if(h1(a-d)<ε)a-=d*ε;φ=B5(λ,φ,a,b);l.point(s,φ);l.lineEnd();l.lineStart();l.point(d,φ);c=0;}l.point(λ=a,φ=b);s=d;},lineEnd:function(){l.lineEnd();λ=φ=NaN;},clean:function(){return 2-c;}};}function B5(λ,φ,a,b){var c,d,s=Math.sin(λ-a);return h1(s)>ε?Math.atan((Math.sin(φ)*(d=Math.cos(b))*Math.sin(a)-Math.sin(b)*(c=Math.cos(φ))*Math.sin(λ))/(c*d*s)):(φ+b)/2;}function C5(f,t,d,l){var φ;if(f==null){φ=d*M2;l.point(-π,φ);l.point(0,φ);l.point(π,φ);l.point(π,0);l.point(π,-φ);l.point(0,-φ);l.point(-π,-φ);l.point(-π,0);l.point(-π,φ);}else if(h1(f[0]-t[0])>ε){var s=f[0]<t[0]?π:-π;φ=d*s/2;l.point(-s,φ);l.point(0,φ);l.point(s,φ);}else{l.point(t[0],t[1]);}}function D5(p,a){var b=p[0],c=p[1],d=[Math.sin(b),-Math.cos(b),0],f=0,w=0;R4.reset();for(var i=0,n=a.length;i<n;++i){var r=a[i],m=r.length;if(!m)continue;var g=r[0],h=g[0],l=g[1]/2+π/4,s=Math.sin(l),o=Math.cos(l),j=1;while(true){if(j===m)j=0;p=r[j];var λ=p[0],φ=p[1]/2+π/4,q=Math.sin(φ),t=Math.cos(φ),u=λ-h,v=u>=0?1:-1,x=v*u,y=x>π,k=s*q;R4.add(Math.atan2(k*v*Math.sin(x),o*t+k*Math.cos(x)));f+=y?u+v*τ:u;if(y^h>=b^λ>=b){var z=W4(U4(g),U4(p));Z4(z);var A=W4(d,z);Z4(A);var B=(y^u>=0?-1:1)*T2(A[2]);if(c>B||c===B&&(z[0]||z[1])){w+=y^u>=0?1:-1;}}if(!j++)break;h=λ,s=q,o=t,g=p;}}return(f<-ε||f<ε&&R4<0)^w&1;}function E5(d){var f=Math.cos(d),s=f>0,n=h1(f)>ε,i=o6(d,6*O2);return v5(g,h,i,s?[0,-d]:[-π,d-π]);function g(λ,φ){return Math.cos(λ)*Math.cos(φ)>f;}function h(l){var p,a,b,m,o;return{lineStart:function(){m=b=false;o=1;},point:function(λ,φ){var q=[λ,φ],r,v=g(λ,φ),c=s?v?0:k(λ,φ):v?k(λ+(λ<0?π:-π),φ):0;if(!p&&(m=b=v))l.lineStart();if(v!==b){r=j(p,q);if(_4(p,r)||_4(q,r)){q[0]+=ε;q[1]+=ε;v=g(q[0],q[1]);}}if(v!==b){o=0;if(v){l.lineStart();r=j(q,p);l.point(r[0],r[1]);}else{r=j(p,q);l.point(r[0],r[1]);l.lineEnd();}p=r;}else if(n&&p&&s^v){var t;if(!(c&a)&&(t=j(q,p,true))){o=0;if(s){l.lineStart();l.point(t[0][0],t[0][1]);l.point(t[1][0],t[1][1]);l.lineEnd();}else{l.point(t[1][0],t[1][1]);l.lineEnd();l.lineStart();l.point(t[0][0],t[0][1]);}}}if(v&&(!p||!_4(p,q))){l.point(q[0],q[1]);}p=q,b=v,a=c;},lineEnd:function(){if(b)l.lineEnd();p=null;},clean:function(){return o|(m&&b)<<1;}};}function j(a,b,c){var p=U4(a),l=U4(b);var m=[1,0,0],o=W4(p,l),r=V4(o,o),v=o[0],x=r-v*v;if(!x)return!c&&a;var y=f*r/x,C=-f*v/x,F=W4(m,o),A=Y4(m,y),B=Y4(o,C);X4(A,B);var u=F,w=V4(A,u),G=V4(u,u),H=w*w-G*(V4(A,A)-1);if(H<0)return;var t=Math.sqrt(H),q=Y4(u,(-w-t)/G);X4(q,A);q=$4(q);if(!c)return q;var λ=a[0],I=b[0],φ=a[1],L=b[1],z;if(I<λ)z=λ,λ=I,I=z;var δ=I-λ,N=h1(δ-π)<ε,S=N||δ<ε;if(!N&&L<φ)z=φ,φ=L,L=z;if(S?N?φ+L>0^q[1]<(h1(q[0]-λ)<ε?φ:L):φ<=q[1]&&q[1]<=L:δ>π^(λ<=q[0]&&q[0]<=I)){var X=Y4(u,(-w+t)/G);X4(X,A);return[q,$4(X)];}}function k(λ,φ){var r=s?d:π-d,k=0;if(λ<-r)k|=1;else if(λ>r)k|=2;if(φ<-r)k|=4;else if(φ>r)k|=8;return k;}}function F5(x,y,c,d){return function(l){var a=l.a,b=l.b,f=a.x,g=a.y,h=b.x,i=b.y,t=0,j=1,k=h-f,m=i-g,r;r=x-f;if(!k&&r>0)return;r/=k;if(k<0){if(r<t)return;if(r<j)j=r;}else if(k>0){if(r>j)return;if(r>t)t=r;}r=c-f;if(!k&&r<0)return;r/=k;if(k<0){if(r>j)return;if(r>t)t=r;}else if(k>0){if(r<t)return;if(r<j)j=r;}r=y-g;if(!m&&r>0)return;r/=m;if(m<0){if(r<t)return;if(r<j)j=r;}else if(m>0){if(r>j)return;if(r>t)t=r;}r=d-g;if(!m&&r<0)return;r/=m;if(m<0){if(r>j)return;if(r>t)t=r;}else if(m>0){if(r<t)return;if(r<j)j=r;}if(t>0)l.a={x:f+t*k,y:g+t*m};if(j<1)l.b={x:f+j*k,y:g+j*m};return l;};}var G5=1e9;D.geo.clipExtent=function(){var x,y,a,b,s,c,d={stream:function(o){if(s)s.valid=false;s=c(o);s.valid=true;return s;},extent:function(_){if(!arguments.length)return[[x,y],[a,b]];c=H5(x=+_[0][0],y=+_[0][1],a=+_[1][0],b=+_[1][1]);if(s)s.valid=false,s=null;return d;}};return d.extent([[0,0],[960,500]]);};function H5(c,d,f,g){return function(q){var r=q,s=x5(),t=F5(c,d,f,g),u,w,z;var A={point:G,lineStart:b1,lineEnd:c1,polygonStart:function(){q=s;u=[];w=[];_=true;},polygonEnd:function(){q=r;u=D.merge(u);var a=B([c,g]),i=_&&a,v=u.length;if(i||v){q.polygonStart();if(i){q.lineStart();C(null,null,1,q);q.lineEnd();}if(v){s5(u,k,a,C,q);}q.polygonEnd();}u=w=z=null;}};function B(p){var l=0,n=w.length,y=p[1];for(var i=0;i<n;++i){for(var j=1,v=w[i],m=v.length,a=v[0],b;j<m;++j){b=v[j];if(a[1]<=y){if(b[1]>y&&R2(a,b,p)>0)++l;}else{if(b[1]<=y&&R2(a,b,p)<0)--l;}a=b;}}return l!==0;}function C(b,i,j,q){var a=0,l=0;if(b==null||(a=h(b,j))!==(l=h(i,j))||o(b,i)<0^j>0){do{q.point(a===0||a===3?c:f,a>1?g:d);}while((a=(a+j+4)%4)!==l);}else{q.point(i[0],i[1]);}}function F(x,y){return c<=x&&x<=f&&d<=y&&y<=g;}function G(x,y){if(F(x,y))q.point(x,y);}var H,I,L,N,S,X,Y,_;function b1(){A.point=d1;if(w)w.push(z=[]);Y=true;X=false;N=S=NaN;}function c1(){if(u){d1(H,I);if(L&&X)s.rejoin();u.push(s.buffer());}A.point=G;if(X)q.lineEnd();}function d1(x,y){x=Math.max(-G5,Math.min(G5,x));y=Math.max(-G5,Math.min(G5,y));var v=F(x,y);if(w)z.push([x,y]);if(Y){H=x,I=y,L=v;Y=false;if(v){q.lineStart();q.point(x,y);}}else{if(v&&X)q.point(x,y);else{var l={a:{x:N,y:S},b:{x:x,y:y}};if(t(l)){if(!X){q.lineStart();q.point(l.a.x,l.a.y);}q.point(l.b.x,l.b.y);if(!v)q.lineEnd();_=false;}else if(v){q.lineStart();q.point(x,y);_=false;}}}N=x,S=y,X=v;}return A;};function h(p,a){return h1(p[0]-c)<ε?a>0?0:3:h1(p[0]-f)<ε?a>0?2:1:h1(p[1]-d)<ε?a>0?1:0:a>0?3:2;}function k(a,b){return o(a.x,b.x);}function o(a,b){var i=h(a,1),j=h(b,1);return i!==j?i-j:i===0?b[1]-a[1]:i===1?a[0]-b[0]:i===2?a[1]-b[1]:b[0]-a[0];}}function I5(a,b){function c(x,y){return x=a(x,y),b(x[0],x[1]);}if(a.invert&&b.invert)c.invert=function(x,y){return x=b.invert(x,y),x&&a.invert(x[0],x[1]);};return c;}function J5(a){var φ=0,b=π/3,m=g6(a),p=m(φ,b);p.parallels=function(_){if(!arguments.length)return[φ/π*180,b/π*180];return m(φ=_[0]*π/180,b=_[1]*π/180);};return p;}function K5(a,b){var s=Math.sin(a),n=(s+Math.sin(b))/2,C=1+s*(2*n-s),c=Math.sqrt(C)/n;function f(λ,φ){var ρ=Math.sqrt(C-2*n*Math.sin(φ))/n;return[ρ*Math.sin(λ*=n),c-ρ*Math.cos(λ)];}f.invert=function(x,y){var d=c-y;return[Math.atan2(x,d)/n,T2((C-(x*x+d*d)*n*n)/(2*n))];};return f;}(D.geo.conicEqualArea=function(){return J5(K5);}).raw=K5;D.geo.albers=function(){return D.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070);};D.geo.albersUsa=function(){var l=D.geo.albers();var a=D.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var h=D.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var p,b={point:function(x,y){p=[x,y];}},c,d,f;function g(i){var x=i[0],y=i[1];p=null;(c(x,y),p)||(d(x,y),p)||f(x,y);return p;}g.invert=function(i){var k=l.scale(),t=l.translate(),x=(i[0]-t[0])/k,y=(i[1]-t[1])/k;return(y>=.12&&y<.234&&x>=-.425&&x<-.214?a:y>=.166&&y<.234&&x>=-.214&&x<-.115?h:l).invert(i);};g.stream=function(s){var i=l.stream(s),j=a.stream(s),k=h.stream(s);return{point:function(x,y){i.point(x,y);j.point(x,y);k.point(x,y);},sphere:function(){i.sphere();j.sphere();k.sphere();},lineStart:function(){i.lineStart();j.lineStart();k.lineStart();},lineEnd:function(){i.lineEnd();j.lineEnd();k.lineEnd();},polygonStart:function(){i.polygonStart();j.polygonStart();k.polygonStart();},polygonEnd:function(){i.polygonEnd();j.polygonEnd();k.polygonEnd();}};};g.precision=function(_){if(!arguments.length)return l.precision();l.precision(_);a.precision(_);h.precision(_);return g;};g.scale=function(_){if(!arguments.length)return l.scale();l.scale(_);a.scale(_*.35);h.scale(_);return g.translate(l.translate());};g.translate=function(_){if(!arguments.length)return l.translate();var k=l.scale(),x=+_[0],y=+_[1];c=l.translate(_).clipExtent([[x-.455*k,y-.238*k],[x+.455*k,y+.238*k]]).stream(b).point;d=a.translate([x-.307*k,y+.201*k]).clipExtent([[x-.425*k+ε,y+.12*k+ε],[x-.214*k-ε,y+.234*k-ε]]).stream(b).point;f=h.translate([x-.205*k,y+.212*k]).clipExtent([[x-.214*k+ε,y+.166*k+ε],[x-.115*k-ε,y+.234*k-ε]]).stream(b).point;return g;};return g.scale(1070);};var L5,M5,N5={point:I1,lineStart:I1,lineEnd:I1,polygonStart:function(){M5=0;N5.lineStart=O5;},polygonEnd:function(){N5.lineStart=N5.lineEnd=N5.point=I1;L5+=h1(M5/2);}};function O5(){var a,b,c,d;N5.point=function(x,y){N5.point=n;a=c=x,b=d=y;};function n(x,y){M5+=d*x-c*y;c=x,d=y;}N5.lineEnd=function(){n(a,b);};}var P5,Q5,R5,S5;var T5={point:U5,lineStart:I1,lineEnd:I1,polygonStart:I1,polygonEnd:I1};function U5(x,y){if(x<P5)P5=x;if(x>R5)R5=x;if(y<Q5)Q5=y;if(y>S5)S5=y;}function V5(){var p=W5(4.5),b=[];var s={point:a,lineStart:function(){s.point=c;},lineEnd:l,polygonStart:function(){s.lineEnd=f;},polygonEnd:function(){s.lineEnd=l;s.point=a;},pointRadius:function(_){p=W5(_);return s;},result:function(){if(b.length){var r=b.join("");b=[];return r;}}};function a(x,y){b.push("M",x,",",y,p);}function c(x,y){b.push("M",x,",",y);s.point=d;}function d(x,y){b.push("L",x,",",y);}function l(){s.point=a;}function f(){b.push("Z");}return s;}function W5(r){return"m0,"+r+"a"+r+","+r+" 0 1,1 0,"+-2*r+"a"+r+","+r+" 0 1,1 0,"+2*r+"z";}var X5={point:Y5,lineStart:Z5,lineEnd:$5,polygonStart:function(){X5.lineStart=_5;},polygonEnd:function(){X5.point=Y5;X5.lineStart=Z5;X5.lineEnd=$5;}};function Y5(x,y){c5+=x;d5+=y;++e5;}function Z5(){var a,b;X5.point=function(x,y){X5.point=n;Y5(a=x,b=y);};function n(x,y){var d=x-a,c=y-b,z=Math.sqrt(d*d+c*c);f5+=z*(a+x)/2;g5+=z*(b+y)/2;h5+=z;Y5(a=x,b=y);}}function $5(){X5.point=Y5;}function _5(){var a,b,c,d;X5.point=function(x,y){X5.point=n;Y5(a=c=x,b=d=y);};function n(x,y){var f=x-c,g=y-d,z=Math.sqrt(f*f+g*g);f5+=z*(c+x)/2;g5+=z*(d+y)/2;h5+=z;z=d*x-c*y;i5+=z*(c+x);j5+=z*(d+y);k5+=z*3;Y5(c=x,d=y);}X5.lineEnd=function(){n(a,b);};}function a6(c){var p=4.5;var s={point:a,lineStart:function(){s.point=b;},lineEnd:l,polygonStart:function(){s.lineEnd=f;},polygonEnd:function(){s.lineEnd=l;s.point=a;},pointRadius:function(_){p=_;return s;},result:I1};function a(x,y){c.moveTo(x,y);c.arc(x,y,p,0,τ);}function b(x,y){c.moveTo(x,y);s.point=d;}function d(x,y){c.lineTo(x,y);}function l(){s.point=a;}function f(){c.closePath();}return s;}function b6(d){var δ=.5,f=Math.cos(30*O2),g=16;function r(s){return(g?i:h)(s);}function h(s){return e6(s,function(x,y){x=d(x,y);s.point(x[0],x[1]);});}function i(s){var a,b,k,l,m,n,o,q,t,u,v,w,z;var r={point:A,lineStart:B,lineEnd:F,polygonStart:function(){s.polygonStart();r.lineStart=G;},polygonEnd:function(){s.polygonEnd();r.lineStart=B;}};function A(x,y){x=d(x,y);s.point(x[0],x[1]);}function B(){t=NaN;r.point=C;s.lineStart();}function C(λ,φ){var c=U4([λ,φ]),p=d(λ,φ);j(t,u,q,v,w,z,t=p[0],u=p[1],q=λ,v=c[0],w=c[1],z=c[2],g,s);s.point(t,u);}function F(){r.point=A;s.lineEnd();}function G(){B();r.point=H;r.lineEnd=I;}function H(λ,φ){C(a=λ,b=φ),k=t,l=u,m=v,n=w,o=z;r.point=C;}function I(){j(t,u,q,v,w,z,k,l,a,m,n,o,g,s);r.lineEnd=F;F();}return r;}function j(x,y,λ,k,l,n,o,q,s,t,u,v,w,z){var A=o-x,B=q-y,C=A*A+B*B;if(C>4*δ&&w--){var a=k+t,b=l+u,c=n+v,m=Math.sqrt(a*a+b*b+c*c),φ=Math.asin(c/=m),F=h1(h1(c)-1)<ε||h1(λ-s)<ε?(λ+s)/2:Math.atan2(b,a),p=d(F,φ),G=p[0],H=p[1],I=G-x,L=H-y,N=B*I-A*L;if(N*N/C>δ||h1((A*I+B*L)/C-.5)>.3||k*t+l*u+n*v<f){j(x,y,λ,k,l,n,G,H,F,a/=m,b/=m,c,w,z);z.point(G,H);j(G,H,F,a,b,c,o,q,s,t,u,v,w,z);}}}r.precision=function(_){if(!arguments.length)return Math.sqrt(δ);g=(δ=_*_)>0&&16;return r;};return r;}D.geo.path=function(){var p=4.5,a,c,b,d,f;function g(o){if(o){if(typeof p==="function")d.pointRadius(+p.apply(this,arguments));if(!f||!f.valid)f=b(d);D.geo.stream(o,f);}return d.result();}g.area=function(o){L5=0;D.geo.stream(o,b(N5));return L5;};g.centroid=function(o){c5=d5=e5=f5=g5=h5=i5=j5=k5=0;D.geo.stream(o,b(X5));return k5?[i5/k5,j5/k5]:h5?[f5/h5,g5/h5]:e5?[c5/e5,d5/e5]:[NaN,NaN];};g.bounds=function(o){R5=S5=-(P5=Q5=Infinity);D.geo.stream(o,b(T5));return[[P5,Q5],[R5,S5]];};g.projection=function(_){if(!arguments.length)return a;b=(a=_)?_.stream||c6(_):K3;return r();};g.context=function(_){if(!arguments.length)return c;d=(c=_)==null?new V5():new a6(_);if(typeof p!=="function")d.pointRadius(p);return r();};g.pointRadius=function(_){if(!arguments.length)return p;p=typeof _==="function"?_:(d.pointRadius(+_),+_);return g;};function r(){f=null;return g;}return g.projection(D.geo.albersUsa()).context(null);};function c6(p){var r=b6(function(x,y){return p([x*P2,y*P2]);});return function(s){return h6(r(s));};}D.geo.transform=function(m){return{stream:function(s){var t=new d6(s);for(var k in m)t[k]=m[k];return t;}};};function d6(s){this.stream=s;}d6.prototype={point:function(x,y){this.stream.point(x,y);},sphere:function(){this.stream.sphere();},lineStart:function(){this.stream.lineStart();},lineEnd:function(){this.stream.lineEnd();},polygonStart:function(){this.stream.polygonStart();},polygonEnd:function(){this.stream.polygonEnd();}};function e6(s,p){return{point:p,sphere:function(){s.sphere();},lineStart:function(){s.lineStart();},lineEnd:function(){s.lineEnd();},polygonStart:function(){s.polygonStart();},polygonEnd:function(){s.polygonEnd();}};}D.geo.projection=f6;D.geo.projectionMutator=g6;function f6(p){return g6(function(){return p;})();}function g6(p){var a,r,b,c=b6(function(x,y){x=a(x,y);return[x[0]*k+g,h-x[1]*k];}),k=150,x=480,y=250,λ=0,φ=0,δ=0,d=0,f=0,g,h,i=z5,j=K3,l=null,m=null,s;function n(u){u=b(u[0]*O2,u[1]*O2);return[u[0]*k+g,h-u[1]*k];}function o(u){u=b.invert((u[0]-g)/k,(h-u[1])/k);return u&&[u[0]*P2,u[1]*P2];}n.stream=function(u){if(s)s.valid=false;s=h6(i(r,c(j(u))));s.valid=true;return s;};n.clipAngle=function(_){if(!arguments.length)return l;i=_==null?(l=_,z5):E5((l=+_)*O2);return t();};n.clipExtent=function(_){if(!arguments.length)return m;m=_;j=_?H5(_[0][0],_[0][1],_[1][0],_[1][1]):K3;return t();};n.scale=function(_){if(!arguments.length)return k;k=+_;return q();};n.translate=function(_){if(!arguments.length)return[x,y];x=+_[0];y=+_[1];return q();};n.center=function(_){if(!arguments.length)return[λ*P2,φ*P2];λ=_[0]%360*O2;φ=_[1]%360*O2;return q();};n.rotate=function(_){if(!arguments.length)return[δ*P2,d*P2,f*P2];δ=_[0]%360*O2;d=_[1]%360*O2;f=_.length>2?_[2]%360*O2:0;return q();};D.rebind(n,c,"precision");function q(){b=I5(r=k6(δ,d,f),a);var u=a(λ,φ);g=x-u[0]*k;h=y+u[1]*k;return t();}function t(){if(s)s.valid=false,s=null;return n;}return function(){a=p.apply(this,arguments);n.invert=a.invert&&o;return q();};}function h6(s){return e6(s,function(x,y){s.point(x*O2,y*O2);});}function i6(λ,φ){return[λ,φ];}(D.geo.equirectangular=function(){return f6(i6);}).raw=i6.invert=i6;D.geo.rotation=function(r){r=k6(r[0]%360*O2,r[1]*O2,r.length>2?r[2]*O2:0);function f(c){c=r(c[0]*O2,c[1]*O2);return c[0]*=P2,c[1]*=P2,c;}f.invert=function(c){c=r.invert(c[0]*O2,c[1]*O2);return c[0]*=P2,c[1]*=P2,c;};return f;};function j6(λ,φ){return[λ>π?λ-τ:λ<-π?λ+τ:λ,φ];}j6.invert=i6;function k6(δ,a,b){return δ?a||b?I5(m6(δ),n6(a,b)):m6(δ):a||b?n6(a,b):j6;}function l6(δ){return function(λ,φ){return λ+=δ,[λ>π?λ-τ:λ<-π?λ+τ:λ,φ];};}function m6(δ){var r=l6(δ);r.invert=l6(-δ);return r;}function n6(δ,a){var c=Math.cos(δ),s=Math.sin(δ),b=Math.cos(a),d=Math.sin(a);function r(λ,φ){var f=Math.cos(φ),x=Math.cos(λ)*f,y=Math.sin(λ)*f,z=Math.sin(φ),k=z*c+x*s;return[Math.atan2(y*b-k*d,x*c-z*s),T2(k*b+y*d)];}r.invert=function(λ,φ){var f=Math.cos(φ),x=Math.cos(λ)*f,y=Math.sin(λ)*f,z=Math.sin(φ),k=z*b-y*d;return[Math.atan2(y*b+z*d,x*c+k*s),T2(k*c-x*s)];};return r;}D.geo.circle=function(){var o=[0,0],a,p=6,i;function c(){var b=typeof o==="function"?o.apply(this,arguments):o,r=k6(-b[0]*O2,-b[1]*O2,0).invert,d=[];i(null,null,1,{point:function(x,y){d.push(x=r(x,y));x[0]*=P2,x[1]*=P2;}});return{type:"Polygon",coordinates:[d]};}c.origin=function(x){if(!arguments.length)return o;o=x;return c;};c.angle=function(x){if(!arguments.length)return a;i=o6((a=+x)*O2,p*O2);return c;};c.precision=function(_){if(!arguments.length)return p;i=o6(a*O2,(p=+_)*O2);return c;};return c.angle(90);};function o6(r,p){var c=Math.cos(r),s=Math.sin(r);return function(f,a,d,l){var b=d*p;if(f!=null){f=p6(c,f);a=p6(c,a);if(d>0?f<a:f>a)f+=d*τ;}else{f=r+d*τ;a=r-.5*b;}for(var g,t=f;d>0?t>a:t<a;t-=b){l.point((g=$4([c,-s*Math.cos(t),-s*Math.sin(t)]))[0],g[1]);}};}function p6(c,p){var a=U4(p);a[0]-=c;Z4(a);var b=S2(-a[1]);return((-a[2]<0?-b:b)+2*Math.PI-ε)%(2*Math.PI);}D.geo.distance=function(a,b){var Δ=(b[0]-a[0])*O2,φ=a[1]*O2,c=b[1]*O2,s=Math.sin(Δ),d=Math.cos(Δ),f=Math.sin(φ),g=Math.cos(φ),h=Math.sin(c),i=Math.cos(c),t;return Math.atan2(Math.sqrt((t=i*s)*t+(t=g*h-f*i*d)*t),f*h+g*i*d);};D.geo.graticule=function(){var a,b,c,d,f,g,h,i,j=10,k=j,l=90,m=360,x,y,X,Y,p=2.5;function n(){return{type:"MultiLineString",coordinates:o()};}function o(){return D.range(Math.ceil(d/l)*l,c,l).map(X).concat(D.range(Math.ceil(i/m)*m,h,m).map(Y)).concat(D.range(Math.ceil(b/j)*j,a,j).filter(function(x){return h1(x%l)>ε;}).map(x)).concat(D.range(Math.ceil(g/k)*k,f,k).filter(function(y){return h1(y%m)>ε;}).map(y));}n.lines=function(){return o().map(function(q){return{type:"LineString",coordinates:q};});};n.outline=function(){return{type:"Polygon",coordinates:[X(d).concat(Y(h).slice(1),X(c).reverse().slice(1),Y(i).reverse().slice(1))]};};n.extent=function(_){if(!arguments.length)return n.minorExtent();return n.majorExtent(_).minorExtent(_);};n.majorExtent=function(_){if(!arguments.length)return[[d,i],[c,h]];d=+_[0][0],c=+_[1][0];i=+_[0][1],h=+_[1][1];if(d>c)_=d,d=c,c=_;if(i>h)_=i,i=h,h=_;return n.precision(p);};n.minorExtent=function(_){if(!arguments.length)return[[b,g],[a,f]];b=+_[0][0],a=+_[1][0];g=+_[0][1],f=+_[1][1];if(b>a)_=b,b=a,a=_;if(g>f)_=g,g=f,f=_;return n.precision(p);};n.step=function(_){if(!arguments.length)return n.minorStep();return n.majorStep(_).minorStep(_);};n.majorStep=function(_){if(!arguments.length)return[l,m];l=+_[0],m=+_[1];return n;};n.minorStep=function(_){if(!arguments.length)return[j,k];j=+_[0],k=+_[1];return n;};n.precision=function(_){if(!arguments.length)return p;p=+_;x=q6(g,f,90);y=r6(b,a,p);X=q6(i,h,90);Y=r6(d,c,p);return n;};return n.majorExtent([[-180,-90+ε],[180,90-ε]]).minorExtent([[-180,-80-ε],[180,80+ε]]);};function q6(a,b,d){var y=D.range(a,b-ε,d).concat(b);return function(x){return y.map(function(y){return[x,y];});};}function r6(a,b,d){var x=D.range(a,b-ε,d).concat(b);return function(y){return x.map(function(x){return[x,y];});};}function s6(d){return d.source;}function t6(d){return d.target;}D.geo.greatArc=function(){var s=s6,a,t=t6,b;function g(){return{type:"LineString",coordinates:[a||s.apply(this,arguments),b||t.apply(this,arguments)]};}g.distance=function(){return D.geo.distance(a||s.apply(this,arguments),b||t.apply(this,arguments));};g.source=function(_){if(!arguments.length)return s;s=_,a=typeof _==="function"?null:_;return g;};g.target=function(_){if(!arguments.length)return t;t=_,b=typeof _==="function"?null:_;return g;};g.precision=function(){return arguments.length?g:0;};return g;};D.geo.interpolate=function(s,t){return u6(s[0]*O2,s[1]*O2,t[0]*O2,t[1]*O2);};function u6(a,b,c,f){var g=Math.cos(b),s=Math.sin(b),h=Math.cos(f),i=Math.sin(f),j=g*Math.cos(a),l=g*Math.sin(a),m=h*Math.cos(c),n=h*Math.sin(c),d=2*Math.asin(Math.sqrt(X2(f-b)+g*h*X2(c-a))),k=1/Math.sin(d);var o=d?function(t){var B=Math.sin(t*=d)*k,A=Math.sin(d-t)*k,x=A*j+B*m,y=A*l+B*n,z=A*s+B*i;return[Math.atan2(y,x)*P2,Math.atan2(z,Math.sqrt(x*x+y*y))*P2];}:function(){return[a*P2,b*P2];};o.distance=d;return o;}D.geo.length=function(o){v6=0;D.geo.stream(o,w6);return v6;};var v6;var w6={sphere:I1,point:I1,lineStart:x6,lineEnd:I1,polygonStart:I1,polygonEnd:I1};function x6(){var a,s,c;w6.point=function(λ,φ){a=λ*O2,s=Math.sin(φ*=O2),c=Math.cos(φ);w6.point=n;};w6.lineEnd=function(){w6.point=w6.lineEnd=I1;};function n(λ,φ){var b=Math.sin(φ*=O2),d=Math.cos(φ),t=h1((λ*=O2)-a),f=Math.cos(t);v6+=Math.atan2(Math.sqrt((t=d*Math.sin(t))*t+(t=c*b-s*d*f)*t),s*b+c*d*f);a=λ,s=b,c=d;}}function y6(s,a){function b(λ,φ){var c=Math.cos(λ),d=Math.cos(φ),k=s(c*d);return[k*d*Math.sin(λ),k*Math.sin(φ)];}b.invert=function(x,y){var ρ=Math.sqrt(x*x+y*y),c=a(ρ),d=Math.sin(c),f=Math.cos(c);return[Math.atan2(x*d,ρ*f),Math.asin(ρ&&y*d/ρ)];};return b;}var z6=y6(function(c){return Math.sqrt(2/(1+c));},function(ρ){return 2*Math.asin(ρ/2);});(D.geo.azimuthalEqualArea=function(){return f6(z6);}).raw=z6;var A6=y6(function(a){var c=Math.acos(a);return c&&c/Math.sin(c);},K3);(D.geo.azimuthalEquidistant=function(){return f6(A6);}).raw=A6;function B6(a,b){var c=Math.cos(a),t=function(φ){return Math.tan(π/4+φ/2);},n=a===b?Math.sin(a):Math.log(c/Math.cos(b))/Math.log(t(b)/t(a)),F=c*Math.pow(t(a),n)/n;if(!n)return E6;function f(λ,φ){if(F>0){if(φ<-M2+ε)φ=-M2+ε;}else{if(φ>M2-ε)φ=M2-ε;}var ρ=F/Math.pow(t(φ),n);return[ρ*Math.sin(n*λ),F-ρ*Math.cos(n*λ)];}f.invert=function(x,y){var d=F-y,ρ=Q2(n)*Math.sqrt(x*x+d*d);return[Math.atan2(x,d)/n,2*Math.atan(Math.pow(F/ρ,1/n))-M2];};return f;}(D.geo.conicConformal=function(){return J5(B6);}).raw=B6;function C6(a,b){var c=Math.cos(a),n=a===b?Math.sin(a):(c-Math.cos(b))/(b-a),G=c/n+a;if(h1(n)<ε)return i6;function f(λ,φ){var ρ=G-φ;return[ρ*Math.sin(n*λ),G-ρ*Math.cos(n*λ)];}f.invert=function(x,y){var d=G-y;return[Math.atan2(x,d)/n,G-Q2(n)*Math.sqrt(x*x+d*d)];};return f;}(D.geo.conicEquidistant=function(){return J5(C6);}).raw=C6;var D6=y6(function(c){return 1/c;},Math.atan);(D.geo.gnomonic=function(){return f6(D6);}).raw=D6;function E6(λ,φ){return[λ,Math.log(Math.tan(π/4+φ/2))];}E6.invert=function(x,y){return[x,2*Math.atan(Math.exp(y))-M2];};function F6(p){var m=f6(p),s=m.scale,a=m.translate,c=m.clipExtent,b;m.scale=function(){var v=s.apply(m,arguments);return v===m?b?m.clipExtent(null):m:v;};m.translate=function(){var v=a.apply(m,arguments);return v===m?b?m.clipExtent(null):m:v;};m.clipExtent=function(_){var v=c.apply(m,arguments);if(v===m){if(b=_==null){var k=π*s(),t=a();c([[t[0]-k,t[1]-k],[t[0]+k,t[1]+k]]);}}else if(b){v=null;}return v;};return m.clipExtent(null);}(D.geo.mercator=function(){return F6(E6);}).raw=E6;var G6=y6(function(){return 1;},Math.asin);(D.geo.orthographic=function(){return f6(G6);}).raw=G6;var H6=y6(function(c){return 1/(1+c);},function(ρ){return 2*Math.atan(ρ);});(D.geo.stereographic=function(){return f6(H6);}).raw=H6;function I6(λ,φ){return[Math.log(Math.tan(π/4+φ/2)),-λ];}I6.invert=function(x,y){return[-y,2*Math.atan(Math.exp(x))-M2];};(D.geo.transverseMercator=function(){var p=F6(I6),c=p.center,r=p.rotate;p.center=function(_){return _?c([-_[1],_[0]]):(_=c(),[_[1],-_[0]]);};p.rotate=function(_){return _?r([_[0],_[1],_.length>2?_[2]+90:90]):(_=r(),[_[0],_[1],_[2]-90]);};return r([0,0,90]);}).raw=I6;D.geom={};function J6(d){return d[0];}function K6(d){return d[1];}D.geom.hull=function(v){var x=J6,y=K6;if(arguments.length)return h(v);function h(d){if(d.length<3)return[];var f=J3(x),a=J3(y),i,n=d.length,p=[],b=[];for(i=0;i<n;i++){p.push([+f.call(this,d[i],i),+a.call(this,d[i],i),i]);}p.sort(M6);for(i=0;i<n;i++)b.push([p[i][0],-p[i][1]]);var u=L6(p),l=L6(b);var s=l[0]===u[0],c=l[l.length-1]===u[u.length-1],g=[];for(i=u.length-1;i>=0;--i)g.push(d[p[u[i]][2]]);for(i=+s;i<l.length-c;++i)g.push(d[p[l[i]][2]]);return g;}h.x=function(_){return arguments.length?(x=_,h):x;};h.y=function(_){return arguments.length?(y=_,h):y;};return h;};function L6(p){var n=p.length,h=[0,1],a=2;for(var i=2;i<n;i++){while(a>1&&R2(p[h[a-2]],p[h[a-1]],p[i])<=0)--a;h[a++]=i;}return h.slice(0,a);}function M6(a,b){return a[0]-b[0]||a[1]-b[1];}D.geom.polygon=function(c){P1(c,N6);return c;};var N6=D.geom.polygon.prototype=[];N6.area=function(){var i=-1,n=this.length,a,b=this[n-1],c=0;while(++i<n){a=b;b=this[i];c+=a[1]*b[0]-a[0]*b[1];}return c*.5;};N6.centroid=function(k){var i=-1,n=this.length,x=0,y=0,a,b=this[n-1],c;if(!arguments.length)k=-1/(6*this.area());while(++i<n){a=b;b=this[i];c=a[0]*b[1]-b[0]*a[1];x+=(a[0]+b[0])*c;y+=(a[1]+b[1])*c;}return[x*k,y*k];};N6.clip=function(s){var f,g=Q6(s),i=-1,n=this.length-Q6(this),j,m,a=this[n-1],b,c,d;while(++i<n){f=s.slice();s.length=0;b=this[i];c=f[(m=f.length-g)-1];j=-1;while(++j<m){d=f[j];if(O6(d,a,b)){if(!O6(c,a,b)){s.push(P6(c,d,a,b));}s.push(d);}else if(O6(c,a,b)){s.push(P6(c,d,a,b));}c=d;}if(g)s.push(s[0]);a=b;}return s;};function O6(p,a,b){return(b[0]-a[0])*(p[1]-a[1])<(b[1]-a[1])*(p[0]-a[0]);}function P6(c,d,a,b){var x=c[0],f=a[0],g=d[0]-x,h=b[0]-f,y=c[1],i=a[1],j=d[1]-y,k=b[1]-i,u=(h*(y-i)-k*(x-f))/(k*g-h*j);return[x+u*g,y+u*j];}function Q6(c){var a=c[0],b=c[c.length-1];return!(a[0]-b[0]||a[1]-b[1]);}var R6,S6,T6,U6=[],V6,W6,X6=[];function Y6(){r7(this);this.edge=this.site=this.circle=null;}function Z6(s){var b=U6.pop()||new Y6();b.site=s;return b;}function $6(b){i7(b);T6.remove(b);U6.push(b);r7(b);}function _6(b){var c=b.circle,x=c.x,y=c.cy,v={x:x,y:y},p=b.P,n=b.N,d=[b];$6(b);var l=p;while(l.circle&&h1(x-l.circle.x)<ε&&h1(y-l.circle.cy)<ε){p=l.P;d.unshift(l);$6(l);l=p;}d.unshift(l);i7(l);var r=n;while(r.circle&&h1(x-r.circle.x)<ε&&h1(y-r.circle.cy)<ε){n=r.N;d.push(r);$6(r);r=n;}d.push(r);i7(r);var a=d.length,A;for(A=1;A<a;++A){r=d[A];l=d[A-1];o7(r.edge,l.site,r.site,v);}l=d[0];r=d[a-1];r.edge=m7(l.site,r.site,null,v);h7(l);h7(r);}function a7(s){var x=s.x,a=s.y,l,r,b,c,n=T6._;while(n){b=b7(n,a)-x;if(b>ε)n=n.L;else{c=x-c7(n,a);if(c>ε){if(!n.R){l=n;break;}n=n.R;}else{if(b>-ε){l=n.P;r=n;}else if(c>-ε){l=n;r=n.N;}else{l=r=n;}break;}}}var f=Z6(s);T6.insert(l,f);if(!l&&!r)return;if(l===r){i7(l);r=Z6(l.site);T6.insert(f,r);f.edge=r.edge=m7(l.site,f.site);h7(l);h7(r);return;}if(!r){f.edge=m7(l.site,f.site);return;}i7(l);i7(r);var g=l.site,h=g.x,i=g.y,j=s.x-h,k=s.y-i,m=r.site,o=m.x-h,p=m.y-i,d=2*(j*p-k*o),q=j*j+k*k,t=o*o+p*p,v={x:(p*q-k*t)/d+h,y:(j*t-o*q)/d+i};o7(r.edge,g,m,v);f.edge=m7(g,s,null,v);r.edge=m7(s,m,null,v);h7(l);h7(r);}function b7(a,d){var s=a.site,r=s.x,c=s.y,p=c-d;if(!p)return r;var l=a.P;if(!l)return-Infinity;s=l.site;var f=s.x,g=s.y,h=g-d;if(!h)return f;var i=f-r,j=1/p-1/h,b=i/h;if(j)return(-b+Math.sqrt(b*b-2*j*(i*i/(-2*h)-g+h/2+c-p/2)))/j+r;return(r+f)/2;}function c7(a,d){var r=a.N;if(r)return b7(r,d);var s=a.site;return s.y===d?s.x:Infinity;}function d7(s){this.site=s;this.edges=[];}d7.prototype.prepare=function(){var h=this.edges,H=h.length,a;while(H--){a=h[H].edge;if(!a.b||!a.a)h.splice(H,1);}h.sort(f7);return h.length;};function e7(a){var x=a[0][0],b=a[1][0],y=a[0][1],c=a[1][1],d,f,g,h,i=S6,C=i.length,j,H,k,n,s,l;while(C--){j=i[C];if(!j||!j.prepare())continue;k=j.edges;n=k.length;H=0;while(H<n){l=k[H].end(),g=l.x,h=l.y;s=k[++H%n].start(),d=s.x,f=s.y;if(h1(g-d)>ε||h1(h-f)>ε){k.splice(H,0,new p7(n7(j.site,l,h1(g-x)<ε&&c-h>ε?{x:x,y:h1(d-x)<ε?f:c}:h1(h-c)<ε&&b-g>ε?{x:h1(f-c)<ε?d:b,y:c}:h1(g-b)<ε&&h-y>ε?{x:b,y:h1(d-b)<ε?f:y}:h1(h-y)<ε&&g-x>ε?{x:h1(f-y)<ε?d:x,y:y}:null),j.site,null));++n;}}}}function f7(a,b){return b.angle-a.angle;}function g7(){r7(this);this.x=this.y=this.arc=this.site=this.cy=null;}function h7(a){var l=a.P,r=a.N;if(!l||!r)return;var b=l.site,c=a.site,f=r.site;if(b===f)return;var g=c.x,h=c.y,i=b.x-g,j=b.y-h,k=f.x-g,m=f.y-h;var d=2*(i*m-j*k);if(d>=-ε2)return;var n=i*i+j*j,o=k*k+m*m,x=(m*n-j*o)/d,y=(i*o-k*n)/d,m=y+h;var p=X6.pop()||new g7();p.arc=a;p.site=c;p.x=x+g;p.y=m+Math.sqrt(x*x+y*y);p.cy=m;a.circle=p;var q=null,s=W6._;while(s){if(p.y<s.y||p.y===s.y&&p.x<=s.x){if(s.L)s=s.L;else{q=s.P;break;}}else{if(s.R)s=s.R;else{q=s;break;}}}W6.insert(q,p);if(!q)V6=p;}function i7(a){var c=a.circle;if(c){if(!c.P)V6=c.N;W6.remove(c);X6.push(c);r7(c);a.circle=null;}}function j7(a){var b=R6,c=F5(a[0][0],a[0][1],a[1][0],a[1][1]),i=b.length,e;while(i--){e=b[i];if(!k7(e,a)||!c(e)||h1(e.a.x-e.b.x)<ε&&h1(e.a.y-e.b.y)<ε){e.a=e.b=null;b.splice(i,1);}}}function k7(a,b){var v=a.b;if(v)return true;var c=a.a,x=b[0][0],d=b[1][0],y=b[0][1],f=b[1][1],l=a.l,r=a.r,g=l.x,h=l.y,i=r.x,j=r.y,k=(g+i)/2,m=(h+j)/2,n,o;if(j===h){if(k<x||k>=d)return;if(g>i){if(!c)c={x:k,y:y};else if(c.y>=f)return;v={x:k,y:f};}else{if(!c)c={x:k,y:f};else if(c.y<y)return;v={x:k,y:y};}}else{n=(g-i)/(j-h);o=m-n*k;if(n<-1||n>1){if(g>i){if(!c)c={x:(y-o)/n,y:y};else if(c.y>=f)return;v={x:(f-o)/n,y:f};}else{if(!c)c={x:(f-o)/n,y:f};else if(c.y<y)return;v={x:(y-o)/n,y:y};}}else{if(h<j){if(!c)c={x:x,y:n*x+o};else if(c.x>=d)return;v={x:d,y:n*d+o};}else{if(!c)c={x:d,y:n*d+o};else if(c.x<x)return;v={x:x,y:n*x+o};}}}a.a=c;a.b=v;return true;}function l7(l,r){this.l=l;this.r=r;this.a=this.b=null;}function m7(l,r,v,a){var b=new l7(l,r);R6.push(b);if(v)o7(b,l,r,v);if(a)o7(b,r,l,a);S6[l.i].edges.push(new p7(b,l,r));S6[r.i].edges.push(new p7(b,r,l));return b;}function n7(l,v,a){var b=new l7(l,null);b.a=v;b.b=a;R6.push(b);return b;}function o7(a,l,r,v){if(!a.a&&!a.b){a.a=v;a.l=l;a.r=r;}else if(a.l===r){a.b=v;}else{a.a=v;}}function p7(a,l,r){var v=a.a,b=a.b;this.edge=a;this.site=l;this.angle=r?Math.atan2(r.y-l.y,r.x-l.x):a.l===l?Math.atan2(b.x-v.x,v.y-b.y):Math.atan2(v.x-b.x,b.y-v.y);}p7.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b;},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a;}};function q7(){this._=null;}function r7(n){n.U=n.C=n.L=n.R=n.P=n.N=null;}q7.prototype={insert:function(a,n){var p,g,u;if(a){n.P=a;n.N=a.N;if(a.N)a.N.P=n;a.N=n;if(a.R){a=a.R;while(a.L)a=a.L;a.L=n;}else{a.R=n;}p=a;}else if(this._){a=u7(this._);n.P=null;n.N=a;a.P=a.L=n;p=a;}else{n.P=n.N=null;this._=n;p=null;}n.L=n.R=null;n.U=p;n.C=true;a=n;while(p&&p.C){g=p.U;if(p===g.L){u=g.R;if(u&&u.C){p.C=u.C=false;g.C=true;a=g;}else{if(a===p.R){s7(this,p);a=p;p=a.U;}p.C=false;g.C=true;t7(this,g);}}else{u=g.L;if(u&&u.C){p.C=u.C=false;g.C=true;a=g;}else{if(a===p.L){t7(this,p);a=p;p=a.U;}p.C=false;g.C=true;s7(this,g);}}p=a.U;}this._.C=false;},remove:function(n){if(n.N)n.N.P=n.P;if(n.P)n.P.N=n.N;n.N=n.P=null;var p=n.U,s,l=n.L,r=n.R,a,b;if(!l)a=r;else if(!r)a=l;else a=u7(r);if(p){if(p.L===n)p.L=a;else p.R=a;}else{this._=a;}if(l&&r){b=a.C;a.C=n.C;a.L=l;l.U=a;if(a!==r){p=a.U;a.U=n.U;n=a.R;p.L=n;a.R=r;r.U=a;}else{a.U=p;p=a;n=a.R;}}else{b=n.C;n=a;}if(n)n.U=p;if(b)return;if(n&&n.C){n.C=false;return;}do{if(n===this._)break;if(n===p.L){s=p.R;if(s.C){s.C=false;p.C=true;s7(this,p);s=p.R;}if(s.L&&s.L.C||s.R&&s.R.C){if(!s.R||!s.R.C){s.L.C=false;s.C=true;t7(this,s);s=p.R;}s.C=p.C;p.C=s.R.C=false;s7(this,p);n=this._;break;}}else{s=p.L;if(s.C){s.C=false;p.C=true;t7(this,p);s=p.L;}if(s.L&&s.L.C||s.R&&s.R.C){if(!s.L||!s.L.C){s.R.C=false;s.C=true;s7(this,s);s=p.L;}s.C=p.C;p.C=s.L.C=false;t7(this,p);n=this._;break;}}s.C=true;n=p;p=p.U;}while(!n.C);if(n)n.C=false;}};function s7(t,n){var p=n,q=n.R,a=p.U;if(a){if(a.L===p)a.L=q;else a.R=q;}else{t._=q;}q.U=a;p.U=q;p.R=q.L;if(p.R)p.R.U=p;q.L=p;}function t7(t,n){var p=n,q=n.L,a=p.U;if(a){if(a.L===p)a.L=q;else a.R=q;}else{t._=q;}q.U=a;p.U=q;p.L=q.R;if(p.L)p.L.U=p;q.R=p;}function u7(n){while(n.L)n=n.L;return n;}function v7(s,b){var a=s.sort(w7).pop(),x,y,c;R6=[];S6=new Array(s.length);T6=new q7();W6=new q7();while(true){c=V6;if(a&&(!c||a.y<c.y||a.y===c.y&&a.x<c.x)){if(a.x!==x||a.y!==y){S6[a.i]=new d7(a);a7(a);x=a.x,y=a.y;}a=s.pop();}else if(c){_6(c.arc);}else{break;}}if(b)j7(b),e7(b);var d={cells:S6,edges:R6};T6=W6=R6=S6=null;return d;}function w7(a,b){return b.y-a.y||b.x-a.x;}D.geom.voronoi=function(p){var x=J6,y=K6,f=x,a=y,c=x7;if(p)return v(p);function v(d){var g=new Array(d.length),h=c[0][0],j=c[0][1],k=c[1][0],l=c[1][1];v7(b(d),c).cells.forEach(function(m,i){var n=m.edges,o=m.site,q=g[i]=n.length?n.map(function(e){var s=e.start();return[s.x,s.y];}):o.x>=h&&o.x<=k&&o.y>=j&&o.y<=l?[[h,l],[k,l],[k,j],[h,j]]:[];q.point=d[i];});return g;}function b(g){return g.map(function(d,i){return{x:Math.round(f(d,i)/ε)*ε,y:Math.round(a(d,i)/ε)*ε,i:i};});}v.links=function(d){return v7(b(d)).edges.filter(function(g){return g.l&&g.r;}).map(function(g){return{source:d[g.l.i],target:d[g.r.i]};});};v.triangles=function(d){var t=[];v7(b(d)).cells.forEach(function(g,i){var s=g.site,h=g.edges.sort(f7),j=-1,m=h.length,k,l,n=h[m-1].edge,o=n.l===s?n.r:n.l;while(++j<m){k=n;l=o;n=h[j].edge;o=n.l===s?n.r:n.l;if(i<l.i&&i<o.i&&y7(s,l,o)<0){t.push([d[i],d[l.i],d[o.i]]);}}});return t;};v.x=function(_){return arguments.length?(f=J3(x=_),v):x;};v.y=function(_){return arguments.length?(a=J3(y=_),v):y;};v.clipExtent=function(_){if(!arguments.length)return c===x7?null:c;c=_==null?x7:_;return v;};v.size=function(_){if(!arguments.length)return c===x7?null:c&&c[1];return v.clipExtent(_&&[[0,0],_]);};return v;};var x7=[[-1e6,-1e6],[1e6,1e6]];function y7(a,b,c){return(a.x-c.x)*(b.y-a.y)-(a.x-b.x)*(c.y-a.y);}D.geom.delaunay=function(v){return D.geom.voronoi().triangles(v);};D.geom.quadtree=function(p,a,b,c,g){var x=J6,y=K6,h;if(h=arguments.length){x=z7;y=A7;if(h===3){g=b;c=a;b=a=0;}return q(p);}function q(j){var d,k=J3(x),l=J3(y),m,o,i,n,r,s,t,u;if(a!=null){r=a,s=b,t=c,u=g;}else{t=u=-(r=s=Infinity);m=[],o=[];n=j.length;if(h)for(i=0;i<n;++i){d=j[i];if(d.x<r)r=d.x;if(d.y<s)s=d.y;if(d.x>t)t=d.x;if(d.y>u)u=d.y;m.push(d.x);o.push(d.y);}else for(i=0;i<n;++i){var v=+k(d=j[i],i),w=+l(d,i);if(v<r)r=v;if(w<s)s=w;if(v>t)t=v;if(w>u)u=w;m.push(v);o.push(w);}}var z=t-r,A=u-s;if(z>A)u=s+z;else t=r+A;function B(n,d,x,y,a,b,c,g){if(isNaN(x)||isNaN(y))return;if(n.leaf){var f=n.x,G=n.y;if(f!=null){if(h1(f-x)+h1(G-y)<.01){C(n,d,x,y,a,b,c,g);}else{var H=n.point;n.x=n.y=n.point=null;C(n,H,f,G,a,b,c,g);C(n,d,x,y,a,b,c,g);}}else{n.x=x,n.y=y,n.point=d;}}else{C(n,d,x,y,a,b,c,g);}}function C(n,d,x,y,a,b,c,g){var f=(a+c)*.5,G=(b+g)*.5,H=x>=f,I=y>=G,i=(I<<1)+H;n.leaf=false;n=n.nodes[i]||(n.nodes[i]=B7());if(H)a=f;else c=f;if(I)b=G;else g=G;B(n,d,x,y,a,b,c,g);}var F=B7();F.add=function(d){B(F,d,+k(d,++i),+l(d,i),r,s,t,u);};F.visit=function(f){C7(f,F,r,s,t,u);};i=-1;if(a==null){while(++i<n){B(F,j[i],m[i],o[i],r,s,t,u);}--i;}else j.forEach(F.add);m=o=j=d=null;return F;}q.x=function(_){return arguments.length?(x=_,q):x;};q.y=function(_){return arguments.length?(y=_,q):y;};q.extent=function(_){if(!arguments.length)return a==null?null:[[a,b],[c,g]];if(_==null)a=b=c=g=null;else a=+_[0][0],b=+_[0][1],c=+_[1][0],g=+_[1][1];return q;};q.size=function(_){if(!arguments.length)return a==null?null:[c-a,g-b];if(_==null)a=b=c=g=null;else a=b=0,c=+_[0],g=+_[1];return q;};return q;};function z7(d){return d.x;}function A7(d){return d.y;}function B7(){return{leaf:true,nodes:[],point:null,x:null,y:null};}function C7(f,n,x,y,a,b){if(!f(n,x,y,a,b)){var s=(x+a)*.5,c=(y+b)*.5,d=n.nodes;if(d[0])C7(f,d[0],x,y,s,c);if(d[1])C7(f,d[1],s,y,a,c);if(d[2])C7(f,d[2],x,c,s,b);if(d[3])C7(f,d[3],s,c,a,b);}}D.interpolateRgb=D7;function D7(a,b){a=D.rgb(a);b=D.rgb(b);var c=a.r,d=a.g,f=a.b,g=b.r-c,h=b.g-d,i=b.b-f;return function(t){return"#"+C3(Math.round(c+g*t))+C3(Math.round(d+h*t))+C3(Math.round(f+i*t));};}D.interpolateObject=E7;function E7(a,b){var i={},c={},k;for(k in a){if(k in b){i[k]=J7(a[k],b[k]);}else{c[k]=a[k];}}for(k in b){if(!(k in a)){c[k]=b[k];}}return function(t){for(k in i)c[k]=i[k](t);return c;};}D.interpolateNumber=F7;function F7(a,b){b-=a=+a;return function(t){return a+b*t;};}D.interpolateString=G7;function G7(a,b){var c=H7.lastIndex=I7.lastIndex=0,d,f,g,i=-1,s=[],q=[];a=a+"",b=b+"";while((d=H7.exec(a))&&(f=I7.exec(b))){if((g=f.index)>c){g=b.slice(c,g);if(s[i])s[i]+=g;else s[++i]=g;}if((d=d[0])===(f=f[0])){if(s[i])s[i]+=f;else s[++i]=f;}else{s[++i]=null;q.push({i:i,x:F7(d,f)});}c=I7.lastIndex;}if(c<b.length){g=b.slice(c);if(s[i])s[i]+=g;else s[++i]=g;}return s.length<2?q[0]?(b=q[0].x,function(t){return b(t)+"";}):function(){return b;}:(b=q.length,function(t){for(var i=0,o;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("");});}var H7=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,I7=new RegExp(H7.source,"g");D.interpolate=J7;function J7(a,b){var i=D.interpolators.length,f;while(--i>=0&&!(f=D.interpolators[i](a,b)));return f;}D.interpolators=[function(a,b){var t=typeof b;return(t==="string"?I3.has(b)||/^(#|rgb\(|hsl\()/.test(b)?D7:G7:b instanceof b3?D7:Array.isArray(b)?K7:t==="object"&&isNaN(b)?E7:F7)(a,b);}];D.interpolateArray=K7;function K7(a,b){var x=[],c=[],n=a.length,d=b.length,f=Math.min(a.length,b.length),i;for(i=0;i<f;++i)x.push(J7(a[i],b[i]));for(;i<n;++i)c[i]=a[i];for(;i<d;++i)c[i]=b[i];return function(t){for(i=0;i<f;++i)c[i]=x[i](t);return c;};}var L7=function(){return K3;};var M7=D.map({linear:L7,poly:U7,quad:function(){return R7;},cubic:function(){return S7;},sin:function(){return V7;},exp:function(){return W7;},circle:function(){return X7;},elastic:Y7,back:Z7,bounce:function(){return $7;}});var N7=D.map({"in":K3,out:P7,"in-out":Q7,"out-in":function(f){return Q7(P7(f));}});D.ease=function(n){var i=n.indexOf("-"),t=i>=0?n.slice(0,i):n,m=i>=0?n.slice(i+1):"in";t=M7.get(t)||L7;m=N7.get(m)||K3;return O7(m(t.apply(null,E.call(arguments,1))));};function O7(f){return function(t){return t<=0?0:t>=1?1:f(t);};}function P7(f){return function(t){return 1-f(1-t);};}function Q7(f){return function(t){return.5*(t<.5?f(2*t):2-f(2-2*t));};}function R7(t){return t*t;}function S7(t){return t*t*t;}function T7(t){if(t<=0)return 0;if(t>=1)return 1;var a=t*t,b=a*t;return 4*(t<.5?b:3*(t-a)+b-.75);}function U7(e){return function(t){return Math.pow(t,e);};}function V7(t){return 1-Math.cos(t*M2);}function W7(t){return Math.pow(2,10*(t-1));}function X7(t){return 1-Math.sqrt(1-t*t);}function Y7(a,p){var s;if(arguments.length<2)p=.45;if(arguments.length)s=p/τ*Math.asin(1/a);else a=1,s=p/4;return function(t){return 1+a*Math.pow(2,-10*t)*Math.sin((t-s)*τ/p);};}function Z7(s){if(!s)s=1.70158;return function(t){return t*t*((s+1)*t-s);};}function $7(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375;}D.interpolateHcl=_7;function _7(a,b){a=D.hcl(a);b=D.hcl(b);var c=a.h,d=a.c,f=a.l,g=b.h-c,h=b.c-d,i=b.l-f;if(isNaN(h))h=0,d=isNaN(d)?b.c:d;if(isNaN(g))g=0,c=isNaN(c)?b.h:c;else if(g>180)g-=360;else if(g<-180)g+=360;return function(t){return h3(c+g*t,d+h*t,f+i*t)+"";};}D.interpolateHsl=a8;function a8(a,b){a=D.hsl(a);b=D.hsl(b);var c=a.h,d=a.s,f=a.l,g=b.h-c,h=b.s-d,i=b.l-f;if(isNaN(h))h=0,d=isNaN(d)?b.s:d;if(isNaN(g))g=0,c=isNaN(c)?b.h:c;else if(g>180)g-=360;else if(g<-180)g+=360;return function(t){return e3(c+g*t,d+h*t,f+i*t)+"";};}D.interpolateLab=b8;function b8(a,b){a=D.lab(a);b=D.lab(b);var c=a.l,d=a.a,f=a.b,g=b.l-c,h=b.a-d,i=b.b-f;return function(t){return o3(c+g*t,d+h*t,f+i*t)+"";};}D.interpolateRound=c8;function c8(a,b){b-=a;return function(t){return Math.round(a+b*t);};}D.transform=function(s){var g=K.createElementNS(D.ns.prefix.svg,"g");return(D.transform=function(s){if(s!=null){g.setAttribute("transform",s);var t=g.transform.baseVal.consolidate();}return new d8(t?t.matrix:h8);})(s);};function d8(m){var r=[m.a,m.b],a=[m.c,m.d],k=f8(r),b=e8(r,a),c=f8(g8(a,r,-b))||0;if(r[0]*a[1]<a[0]*r[1]){r[0]*=-1;r[1]*=-1;k*=-1;b*=-1;}this.rotate=(k?Math.atan2(r[1],r[0]):Math.atan2(-a[0],a[1]))*P2;this.translate=[m.e,m.f];this.scale=[k,c];this.skew=c?Math.atan2(b,c)*P2:0;}d8.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")";};function e8(a,b){return a[0]*b[0]+a[1]*b[1];}function f8(a){var k=Math.sqrt(e8(a,a));if(k){a[0]/=k;a[1]/=k;}return k;}function g8(a,b,k){a[0]+=k*b[0];a[1]+=k*b[1];return a;}var h8={a:1,b:0,c:0,d:1,e:0,f:0};D.interpolateTransform=i8;function i8(a,b){var s=[],q=[],n,A=D.transform(a),B=D.transform(b),c=A.translate,d=B.translate,r=A.rotate,f=B.rotate,w=A.skew,g=B.skew,k=A.scale,h=B.scale;if(c[0]!=d[0]||c[1]!=d[1]){s.push("translate(",null,",",null,")");q.push({i:1,x:F7(c[0],d[0])},{i:3,x:F7(c[1],d[1])});}else if(d[0]||d[1]){s.push("translate("+d+")");}else{s.push("");}if(r!=f){if(r-f>180)f+=360;else if(f-r>180)r+=360;q.push({i:s.push(s.pop()+"rotate(",null,")")-2,x:F7(r,f)});}else if(f){s.push(s.pop()+"rotate("+f+")");}if(w!=g){q.push({i:s.push(s.pop()+"skewX(",null,")")-2,x:F7(w,g)});}else if(g){s.push(s.pop()+"skewX("+g+")");}if(k[0]!=h[0]||k[1]!=h[1]){n=s.push(s.pop()+"scale(",null,",",null,")");q.push({i:n-4,x:F7(k[0],h[0])},{i:n-2,x:F7(k[1],h[1])});}else if(h[0]!=1||h[1]!=1){s.push(s.pop()+"scale("+h+")");}n=q.length;return function(t){var i=-1,o;while(++i<n)s[(o=q[i]).i]=o.x(t);return s.join("");};}function j8(a,b){b=b-(a=+a)?1/(b-a):0;return function(x){return(x-a)*b;};}function k8(a,b){b=b-(a=+a)?1/(b-a):0;return function(x){return Math.max(0,Math.min(1,(x-a)*b));};}D.layout={};D.layout.bundle=function(){return function(l){var p=[],i=-1,n=l.length;while(++i<n)p.push(l8(l[i]));return p;};};function l8(l){var s=l.source,a=l.target,b=n8(s,a),p=[s];while(s!==b){s=s.parent;p.push(s);}var k=p.length;while(a!==b){p.splice(k,0,a);a=a.parent;}return p;}function m8(n){var a=[],p=n.parent;while(p!=null){a.push(n);n=p;p=p.parent;}a.push(n);return a;}function n8(a,b){if(a===b)return a;var n=m8(a),N=m8(b),c=n.pop(),d=N.pop(),s=null;while(c===d){s=c;c=n.pop();d=N.pop();}return s;}D.layout.chord=function(){var c={},f,g,m,n,p=0,s,h,l;function r(){var q={},t=[],u=D.range(n),w=[],k,x,y,i,j;f=[];g=[];k=0,i=-1;while(++i<n){x=0,j=-1;while(++j<n){x+=m[i][j];}t.push(x);w.push(D.range(n));k+=x;}if(s){u.sort(function(a,b){return s(t[a],t[b]);});}if(h){w.forEach(function(d,i){d.sort(function(a,b){return h(m[i][a],m[i][b]);});});}k=(τ-p*n)/k;x=0,i=-1;while(++i<n){y=x,j=-1;while(++j<n){var z=u[i],A=w[z][j],v=m[z][A],B=x,C=x+=v*k;q[z+"-"+A]={index:z,subindex:A,startAngle:B,endAngle:C,value:v};}g[z]={index:z,startAngle:y,endAngle:x,value:(x-y)/k};x+=p;}i=-1;while(++i<n){j=i-1;while(++j<n){var F=q[i+"-"+j],G=q[j+"-"+i];if(F.value||G.value){f.push(F.value<G.value?{source:G,target:F}:{source:F,target:G});}}}if(l)o();}function o(){f.sort(function(a,b){return l((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2);});}c.matrix=function(x){if(!arguments.length)return m;n=(m=x)&&m.length;f=g=null;return c;};c.padding=function(x){if(!arguments.length)return p;p=x;f=g=null;return c;};c.sortGroups=function(x){if(!arguments.length)return s;s=x;f=g=null;return c;};c.sortSubgroups=function(x){if(!arguments.length)return h;h=x;f=null;return c;};c.sortChords=function(x){if(!arguments.length)return l;l=x;if(f)o();return c;};c.chords=function(){if(!f)r();return f;};c.groups=function(){if(!g)r();return g;};return c;};D.layout.force=function(){var f={},a=D.dispatch("start","tick","end"),b=[1,1],c,g,p=.9,r=t8,u=u8,v=-30,z=v8,A=.1,B=.64,C=[],F=[],G,H,I;function L(n){return function(q,x,_,d){if(q.point!==n){var h=q.cx-n.x,i=q.cy-n.y,j=d-x,l=h*h+i*i;if(j*j/B<l){if(l<z){var k=q.charge/l;n.px-=h*k;n.py-=i*k;}return true;}if(q.point&&l&&l<z){var k=q.pointCharge/l;n.px-=h*k;n.py-=i*k;}}return!q.charge;};}f.tick=function(){if((g*=.99)<.005){a.end({type:"end",alpha:g=0});return true;}var n=C.length,m=F.length,q,i,o,s,t,l,k,x,y;for(i=0;i<m;++i){o=F[i];s=o.source;t=o.target;x=t.x-s.x;y=t.y-s.y;if(l=x*x+y*y){l=g*H[i]*((l=Math.sqrt(l))-G[i])/l;x*=l;y*=l;t.x-=x*(k=s.weight/(t.weight+s.weight));t.y-=y*k;s.x+=x*(k=1-k);s.y+=y*k;}}if(k=g*A){x=b[0]/2;y=b[1]/2;i=-1;if(k)while(++i<n){o=C[i];o.x+=(x-o.x)*k;o.y+=(y-o.y)*k;}}if(v){s8(q=D.geom.quadtree(C),g,I);i=-1;while(++i<n){if(!(o=C[i]).fixed){q.visit(L(o));}}}i=-1;while(++i<n){o=C[i];if(o.fixed){o.x=o.px;o.y=o.py;}else{o.x-=(o.px-(o.px=o.x))*p;o.y-=(o.py-(o.py=o.y))*p;}}a.tick({type:"tick",alpha:g});};f.nodes=function(x){if(!arguments.length)return C;C=x;return f;};f.links=function(x){if(!arguments.length)return F;F=x;return f;};f.size=function(x){if(!arguments.length)return b;b=x;return f;};f.linkDistance=function(x){if(!arguments.length)return r;r=typeof x==="function"?x:+x;return f;};f.distance=f.linkDistance;f.linkStrength=function(x){if(!arguments.length)return u;u=typeof x==="function"?x:+x;return f;};f.friction=function(x){if(!arguments.length)return p;p=+x;return f;};f.charge=function(x){if(!arguments.length)return v;v=typeof x==="function"?x:+x;return f;};f.chargeDistance=function(x){if(!arguments.length)return Math.sqrt(z);z=x*x;return f;};f.gravity=function(x){if(!arguments.length)return A;A=+x;return f;};f.theta=function(x){if(!arguments.length)return Math.sqrt(B);B=x*x;return f;};f.alpha=function(x){if(!arguments.length)return g;x=+x;if(g){if(x>0)g=x;else g=0;}else if(x>0){a.start({type:"start",alpha:g=x});D.timer(f.tick);}return f;};f.start=function(){var i,n=C.length,m=F.length,w=b[0],h=b[1],d,o;for(i=0;i<n;++i){(o=C[i]).index=i;o.weight=0;}for(i=0;i<m;++i){o=F[i];if(typeof o.source=="number")o.source=C[o.source];if(typeof o.target=="number")o.target=C[o.target];++o.source.weight;++o.target.weight;}for(i=0;i<n;++i){o=C[i];if(isNaN(o.x))o.x=k("x",w);if(isNaN(o.y))o.y=k("y",h);if(isNaN(o.px))o.px=o.x;if(isNaN(o.py))o.py=o.y;}G=[];if(typeof r==="function")for(i=0;i<m;++i)G[i]=+r.call(this,F[i],i);else for(i=0;i<m;++i)G[i]=r;H=[];if(typeof u==="function")for(i=0;i<m;++i)H[i]=+u.call(this,F[i],i);else for(i=0;i<m;++i)H[i]=u;I=[];if(typeof v==="function")for(i=0;i<n;++i)I[i]=+v.call(this,C[i],i);else for(i=0;i<n;++i)I[i]=v;function k(l,b){if(!d){d=new Array(n);for(j=0;j<n;++j){d[j]=[];}for(j=0;j<m;++j){var o=F[j];d[o.source.index].push(o.target);d[o.target.index].push(o.source);}}var q=d[i],j=-1,m=q.length,x;while(++j<m)if(!isNaN(x=q[j][l]))return x;return Math.random()*b;}return f.resume();};f.resume=function(){return f.alpha(.1);};f.stop=function(){return f.alpha(0);};f.drag=function(){if(!c)c=D.behavior.drag().origin(K3).on("dragstart.force",o8).on("drag.force",N).on("dragend.force",p8);if(!arguments.length)return c;this.on("mouseover.force",q8).on("mouseout.force",r8).call(c);};function N(d){d.px=D.event.x,d.py=D.event.y;f.resume();}return D.rebind(f,a,"on");};function o8(d){d.fixed|=2;}function p8(d){d.fixed&=~6;}function q8(d){d.fixed|=4;d.px=d.x,d.py=d.y;}function r8(d){d.fixed&=~4;}function s8(q,a,b){var d=0,f=0;q.charge=0;if(!q.leaf){var g=q.nodes,n=g.length,i=-1,c;while(++i<n){c=g[i];if(c==null)continue;s8(c,a,b);q.charge+=c.charge;d+=c.charge*c.cx;f+=c.charge*c.cy;}}if(q.point){if(!q.leaf){q.point.x+=Math.random()-.5;q.point.y+=Math.random()-.5;}var k=a*b[q.point.index];q.charge+=q.pointCharge=k;d+=k*q.point.x;f+=k*q.point.y;}q.cx=d/q.charge;q.cy=f/q.charge;}var t8=20,u8=1,v8=Infinity;D.layout.hierarchy=function(){var s=B8,c=z8,v=A8;function h(r){var a=[r],b=[],d;r.depth=0;while((d=a.pop())!=null){b.push(d);if((f=c.call(h,d,d.depth))&&(n=f.length)){var n,f,g;while(--n>=0){a.push(g=f[n]);g.parent=d;g.depth=d.depth+1;}if(v)d.value=0;d.children=f;}else{if(v)d.value=+v.call(h,d,d.depth)||0;delete d.children;}}y8(r,function(d){var f,p;if(s&&(f=d.children))f.sort(s);if(v&&(p=d.parent))p.value+=d.value;});return b;}h.sort=function(x){if(!arguments.length)return s;s=x;return h;};h.children=function(x){if(!arguments.length)return c;c=x;return h;};h.value=function(x){if(!arguments.length)return v;v=x;return h;};h.revalue=function(r){if(v){x8(r,function(n){if(n.children)n.value=0;});y8(r,function(n){var p;if(!n.children)n.value=+v.call(h,n,n.depth)||0;if(p=n.parent)p.value+=n.value;});}return r;};return h;};function w8(o,h){D.rebind(o,h,"sort","children","value");o.nodes=o;o.links=C8;return o;}function x8(a,c){var b=[a];while((a=b.pop())!=null){c(a);if((d=a.children)&&(n=d.length)){var n,d;while(--n>=0)b.push(d[n]);}}}function y8(a,c){var b=[a],d=[];while((a=b.pop())!=null){d.push(a);if((f=a.children)&&(n=f.length)){var i=-1,n,f;while(++i<n)b.push(f[i]);}}while((a=d.pop())!=null){c(a);}}function z8(d){return d.children;}function A8(d){return d.value;}function B8(a,b){return b.value-a.value;}function C8(n){return D.merge(n.map(function(p){return(p.children||[]).map(function(c){return{source:p,target:c};});}));}D.layout.partition=function(){var h=D.layout.hierarchy(),s=[1,1];function p(f,x,g,j){var k=f.children;f.x=x;f.y=f.depth*j;f.dx=g;f.dy=j;if(k&&(n=k.length)){var i=-1,n,c,d;g=f.value?g/f.value:0;while(++i<n){p(c=k[i],x,d=c.value*g,j);x+=d;}}}function a(c){var f=c.children,d=0;if(f&&(n=f.length)){var i=-1,n;while(++i<n)d=Math.max(d,a(f[i]));}return 1+d;}function b(d,i){var n=h.call(this,d,i);p(n[0],0,s[0],s[1]/a(n[0]));return n;}b.size=function(x){if(!arguments.length)return s;s=x;return b;};return w8(b,h);};D.layout.pie=function(){var v=Number,s=D8,b=0,c=τ;function p(f){var g=f.map(function(d,i){return+v.call(p,d,i);});var a=+(typeof b==="function"?b.apply(this,arguments):b);var k=((typeof c==="function"?c.apply(this,arguments):c)-a)/D.sum(g);var h=D.range(f.length);if(s!=null)h.sort(s===D8?function(i,j){return g[j]-g[i];}:function(i,j){return s(f[i],f[j]);});var l=[];h.forEach(function(i){var d;l[i]={data:f[i],value:d=g[i],startAngle:a,endAngle:a+=d*k};});return l;}p.value=function(x){if(!arguments.length)return v;v=x;return p;};p.sort=function(x){if(!arguments.length)return s;s=x;return p;};p.startAngle=function(x){if(!arguments.length)return b;b=x;return p;};p.endAngle=function(x){if(!arguments.length)return c;c=x;return p;};return p;};var D8={};D.layout.stack=function(){var a=K3,b=J8,c=K8,f=G8,x=E8,y=F8;function s(g,h){var k=g.map(function(d,i){return a.call(s,d,i);});var p=k.map(function(d){return d.map(function(v,i){return[x.call(s,v,i),y.call(s,v,i)];});});var l=b.call(s,p,h);k=D.permute(k,l);p=D.permute(p,l);var q=c.call(s,p,h);var n=k.length,m=k[0].length,i,j,o;for(j=0;j<m;++j){f.call(s,k[0][j],o=q[j],p[0][j][1]);for(i=1;i<n;++i){f.call(s,k[i][j],o+=p[i-1][j][1],p[i][j][1]);}}return g;}s.values=function(x){if(!arguments.length)return a;a=x;return s;};s.order=function(x){if(!arguments.length)return b;b=typeof x==="function"?x:H8.get(x)||J8;return s;};s.offset=function(x){if(!arguments.length)return c;c=typeof x==="function"?x:I8.get(x)||K8;return s;};s.x=function(z){if(!arguments.length)return x;x=z;return s;};s.y=function(z){if(!arguments.length)return y;y=z;return s;};s.out=function(z){if(!arguments.length)return f;f=z;return s;};return s;};function E8(d){return d.x;}function F8(d){return d.y;}function G8(d,a,y){d.y0=a;d.y=y;}var H8=D.map({"inside-out":function(d){var n=d.length,i,j,m=d.map(L8),s=d.map(M8),c=D.range(n).sort(function(a,b){return m[a]-m[b];}),t=0,f=0,g=[],h=[];for(i=0;i<n;++i){j=c[i];if(t<f){t+=s[j];g.push(j);}else{f+=s[j];h.push(j);}}return h.reverse().concat(g);},reverse:function(d){return D.range(d.length).reverse();},"default":J8});var I8=D.map({silhouette:function(d){var n=d.length,m=d[0].length,s=[],a=0,i,j,o,y=[];for(j=0;j<m;++j){for(i=0,o=0;i<n;i++)o+=d[i][j][1];if(o>a)a=o;s.push(o);}for(j=0;j<m;++j){y[j]=(a-s[j])/2;}return y;},wiggle:function(d){var n=d.length,x=d[0],m=x.length,i,j,k,s,a,b,c,o,f,y=[];y[0]=o=f=0;for(j=1;j<m;++j){for(i=0,s=0;i<n;++i)s+=d[i][j][1];for(i=0,a=0,c=x[j][0]-x[j-1][0];i<n;++i){for(k=0,b=(d[i][j][1]-d[i][j-1][1])/(2*c);k<i;++k){b+=(d[k][j][1]-d[k][j-1][1])/c;}a+=b*d[i][j][1];}y[j]=o-=s?a/s*c:0;if(o<f)f=o;}for(j=0;j<m;++j)y[j]-=f;return y;},expand:function(d){var n=d.length,m=d[0].length,k=1/n,i,j,o,y=[];for(j=0;j<m;++j){for(i=0,o=0;i<n;i++)o+=d[i][j][1];if(o)for(i=0;i<n;i++)d[i][j][1]/=o;else for(i=0;i<n;i++)d[i][j][1]=k;}for(j=0;j<m;++j)y[j]=0;return y;},zero:K8});function J8(d){return D.range(d.length);}function K8(d){var j=-1,m=d[0].length,y=[];while(++j<m)y[j]=0;return y;}function L8(a){var i=1,j=0,v=a[0][1],k,n=a.length;for(;i<n;++i){if((k=a[i][1])>v){j=i;v=k;}}return j;}function M8(d){return d.reduce(N8,0);}function N8(p,d){return p+d[1];}D.layout.histogram=function(){var f=true,v=Number,r=Q8,b=O8;function h(d,i){var a=[],c=d.map(v,this),g=r.call(this,c,i),t=b.call(this,g,c,i),j,i=-1,n=c.length,m=t.length-1,k=f?1:1/n,x;while(++i<m){j=a[i]=[];j.dx=t[i+1]-(j.x=t[i]);j.y=0;}if(m>0){i=-1;while(++i<n){x=c[i];if(x>=g[0]&&x<=g[1]){j=a[D.bisect(t,x,1,m)-1];j.y+=k;j.push(d[i]);}}}return a;}h.value=function(x){if(!arguments.length)return v;v=x;return h;};h.range=function(x){if(!arguments.length)return r;r=J3(x);return h;};h.bins=function(x){if(!arguments.length)return b;b=typeof x==="number"?function(a){return P8(a,x);}:J3(x);return h;};h.frequency=function(x){if(!arguments.length)return f;f=!!x;return h;};return h;};function O8(r,v){return P8(r,Math.ceil(Math.log(v.length)/Math.LN2+1));}function P8(r,n){var x=-1,b=+r[0],m=(r[1]-b)/n,f=[];while(++x<=n)f[x]=m*x+b;return f;}function Q8(v){return[D.min(v),D.max(v)];}D.layout.pack=function(){var a=D.layout.hierarchy().sort(R8),p=0,s=[1,1],b;function c(d,i){var n=a.call(this,d,i),f=n[0],w=s[0],h=s[1],r=b==null?Math.sqrt:typeof b==="function"?b:function(){return b;};f.x=f.y=0;y8(f,function(d){d.r=+r(d.value);});y8(f,V8);if(p){var g=p*(b?1:Math.max(2*f.r/w,2*f.r/h))/2;y8(f,function(d){d.r+=g;});y8(f,V8);y8(f,function(d){d.r-=g;});}Y8(f,w/2,h/2,b?1:1/Math.max(2*f.r/w,2*f.r/h));return n;}c.size=function(_){if(!arguments.length)return s;s=_;return c;};c.radius=function(_){if(!arguments.length)return b;b=_==null||typeof _==="function"?_:+_;return c;};c.padding=function(_){if(!arguments.length)return p;p=+_;return c;};return w8(c,a);};function R8(a,b){return a.value-b.value;}function S8(a,b){var c=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=c;c._pack_prev=b;}function T8(a,b){a._pack_next=b;b._pack_prev=a;}function U8(a,b){var d=b.x-a.x,c=b.y-a.y,f=a.r+b.r;return.999*f*f>d*d+c*c;}function V8(d){if(!(f=d.children)||!(n=f.length))return;var f,x=Infinity,g=-Infinity,y=Infinity,h=-Infinity,a,b,c,i,j,k,n;function l(d){x=Math.min(d.x-d.r,x);g=Math.max(d.x+d.r,g);y=Math.min(d.y-d.r,y);h=Math.max(d.y+d.r,h);}f.forEach(W8);a=f[0];a.x=-a.r;a.y=0;l(a);if(n>1){b=f[1];b.x=b.r;b.y=0;l(b);if(n>2){c=f[2];Z8(a,b,c);l(c);S8(a,c);a._pack_prev=c;S8(c,b);b=a._pack_next;for(i=3;i<n;i++){Z8(a,b,c=f[i]);var m=0,s=1,o=1;for(j=b._pack_next;j!==b;j=j._pack_next,s++){if(U8(j,c)){m=1;break;}}if(m==1){for(k=a._pack_prev;k!==j._pack_prev;k=k._pack_prev,o++){if(U8(k,c)){break;}}}if(m){if(s<o||s==o&&b.r<a.r)T8(a,b=j);else T8(a=k,b);i--;}else{S8(a,c);b=c;l(c);}}}}var p=(x+g)/2,q=(y+h)/2,r=0;for(i=0;i<n;i++){c=f[i];c.x-=p;c.y-=q;r=Math.max(r,c.r+Math.sqrt(c.x*c.x+c.y*c.y));}d.r=r;f.forEach(X8);}function W8(n){n._pack_next=n._pack_prev=n;}function X8(n){delete n._pack_next;delete n._pack_prev;}function Y8(a,x,y,k){var c=a.children;a.x=x+=k*a.x;a.y=y+=k*a.y;a.r*=k;if(c){var i=-1,n=c.length;while(++i<n)Y8(c[i],x,y,k);}}function Z8(a,b,c){var d=a.r+c.r,f=b.x-a.x,g=b.y-a.y;if(d&&(f||g)){var h=b.r+c.r,i=f*f+g*g;h*=h;d*=d;var x=.5+(d-h)/(2*i),y=Math.sqrt(Math.max(0,2*h*(d+i)-(d-=i)*d-h*h))/(2*i);c.x=a.x+x*f+y*g;c.y=a.y+x*g-y*f;}else{c.x=a.x+d;c.y=a.y;}}D.layout.tree=function(){var h=D.layout.hierarchy().sort(null).value(null),s=$8,a=[1,1],b=null;function t(d,i){var n=h.call(this,d,i),r=n[0],l=c(r);y8(l,f),l.parent.m=-l.z;x8(l,g);if(b)x8(r,k);else{var m=r,o=r,p=r;x8(r,function(w){if(w.x<m.x)m=w;if(w.x>o.x)o=w;if(w.depth>p.depth)p=w;});var q=s(m,o)/2-m.x,u=a[0]/(o.x+s(o,m)/2+q),v=a[1]/(p.depth||1);x8(r,function(w){w.x=(w.x+q)*u;w.y=w.depth*v;});}return n;}function c(r){var d={A:null,children:[r]},q=[d],l;while((l=q.pop())!=null){for(var m=l.children,o,i=0,n=m.length;i<n;++i){q.push((m[i]=o={_:m[i],parent:l,children:(o=m[i].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:i}).a=o);}}return d.children[0];}function f(v){var d=v.children,i=v.parent.children,w=v.i?i[v.i-1]:null;if(d.length){c9(v);var m=(d[0].z+d[d.length-1].z)/2;if(w){v.z=w.z+s(v._,w._);v.m=v.z-m;}else{v.z=m;}}else if(w){v.z=w.z+s(v._,w._);}v.parent.A=j(v,w,v.parent.A||i[0]);}function g(v){v._.x=v.z+v.parent.m;v.m+=v.parent.m;}function j(v,w,d){if(w){var i=v,l=v,m=w,n=i.parent.children[0],o=i.m,p=l.m,q=m.m,r=n.m,u;while(m=a9(m),i=_8(i),m&&i){n=_8(n);l=a9(l);l.a=v;u=m.z+q-i.z-o+s(m._,i._);if(u>0){b9(d9(m,v,d),v,u);o+=u;p+=u;}q+=m.m;o+=i.m;r+=n.m;p+=l.m;}if(m&&!a9(l)){l.t=m;l.m+=q-p;}if(i&&!_8(n)){n.t=i;n.m+=o-r;d=v;}}return d;}function k(n){n.x*=a[0];n.y=n.depth*a[1];}t.separation=function(x){if(!arguments.length)return s;s=x;return t;};t.size=function(x){if(!arguments.length)return b?null:a;b=(a=x)==null?k:null;return t;};t.nodeSize=function(x){if(!arguments.length)return b?a:null;b=(a=x)==null?null:k;return t;};return w8(t,h);};function $8(a,b){return a.parent==b.parent?1:2;}function _8(v){var c=v.children;return c.length?c[0]:v.t;}function a9(v){var c=v.children,n;return(n=c.length)?c[n-1]:v.t;}function b9(w,a,s){var c=s/(a.i-w.i);a.c-=c;a.s+=s;w.c+=c;a.z+=s;a.m+=s;}function c9(v){var s=0,c=0,a=v.children,i=a.length,w;while(--i>=0){w=a[i];w.z+=s;w.m+=s;s+=w.s+(c+=w.c);}}function d9(a,v,b){return a.a.parent===v.parent?a.a:b;}D.layout.cluster=function(){var h=D.layout.hierarchy().sort(null).value(null),s=$8,a=[1,1],n=false;function c(d,i){var b=h.call(this,d,i),r=b[0],p,x=0;y8(r,function(k){var m=k.children;if(m&&m.length){k.x=f9(m);k.y=e9(m);}else{k.x=p?x+=s(k,p):0;k.y=0;p=k;}});var l=g9(r),f=h9(r),g=l.x-s(l,f)/2,j=f.x+s(f,l)/2;y8(r,n?function(k){k.x=(k.x-r.x)*a[0];k.y=(r.y-k.y)*a[1];}:function(k){k.x=(k.x-g)/(j-g)*a[0];k.y=(1-(r.y?k.y/r.y:1))*a[1];});return b;}c.separation=function(x){if(!arguments.length)return s;s=x;return c;};c.size=function(x){if(!arguments.length)return n?null:a;n=(a=x)==null;return c;};c.nodeSize=function(x){if(!arguments.length)return n?a:null;n=(a=x)!=null;return c;};return w8(c,h);};function e9(c){return 1+D.max(c,function(a){return a.y;});}function f9(c){return c.reduce(function(x,a){return x+a.x;},0)/c.length;}function g9(n){var c=n.children;return c&&c.length?g9(c[0]):n;}function h9(a){var c=a.children,n;return c&&(n=c.length)?h9(c[n-1]):a;}D.layout.treemap=function(){var h=D.layout.hierarchy(),a=Math.round,b=[1,1],c=null,f=i9,g=false,j,m="squarify",l=.5*(1+Math.sqrt(5));function q(d,k){var i=-1,n=d.length,o,p;while(++i<n){p=(o=d[i]).value*(k<0?0:k);o.area=isNaN(p)||p<=0?0:p;}}function t(d){var i=d.children;if(i&&i.length){var r=f(d),k=[],o=i.slice(),p,s=Infinity,v,u=m==="slice"?r.dx:m==="dice"?r.dy:m==="slice-dice"?d.depth&1?r.dy:r.dx:Math.min(r.dx,r.dy),n;q(o,r.dx*r.dy/d.value);k.area=0;while((n=o.length)>0){k.push(p=o[n-1]);k.area+=p.area;if(m!=="squarify"||(v=z(k,u))<=s){o.pop();s=v;}else{k.area-=k.pop().area;A(k,u,r,false);u=Math.min(r.dx,r.dy);k.length=k.area=0;s=Infinity;}}if(k.length){A(k,u,r,true);k.length=k.area=0;}i.forEach(t);}}function w(n){var d=n.children;if(d&&d.length){var r=f(n),i=d.slice(),k,o=[];q(i,r.dx*r.dy/n.value);o.area=0;while(k=i.pop()){o.push(k);o.area+=k.area;if(k.z!=null){A(o,k.z?r.dx:r.dy,r,!i.length);o.length=o.area=0;}}d.forEach(w);}}function z(d,u){var s=d.area,r,k=0,o=Infinity,i=-1,n=d.length;while(++i<n){if(!(r=d[i].area))continue;if(r<o)o=r;if(r>k)k=r;}s*=s;u*=u;return s?Math.max(u*k*l/s,s/(u*o*l)):Infinity;}function A(r,u,d,k){var i=-1,n=r.length,x=d.x,y=d.y,v=u?a(r.area/u):0,o;if(u==d.dx){if(k||v>d.dy)v=d.dy;while(++i<n){o=r[i];o.x=x;o.y=y;o.dy=v;x+=o.dx=Math.min(d.x+d.dx-x,v?a(o.area/v):0);}o.z=true;o.dx+=d.x+d.dx-x;d.y+=v;d.dy-=v;}else{if(k||v>d.dx)v=d.dx;while(++i<n){o=r[i];o.x=x;o.y=y;o.dx=v;y+=o.dy=Math.min(d.y+d.dy-y,v?a(o.area/v):0);}o.z=false;o.dy+=d.y+d.dy-y;d.x+=v;d.dx-=v;}}function B(d){var n=j||h(d),r=n[0];r.x=0;r.y=0;r.dx=b[0];r.dy=b[1];if(j)h.revalue(r);q([r],r.dx*r.dy/r.value);(j?w:t)(r);if(g)j=n;return n;}B.size=function(x){if(!arguments.length)return b;b=x;return B;};B.padding=function(x){if(!arguments.length)return c;function d(n){var p=x.call(B,n,n.depth);return p==null?i9(n):j9(n,typeof p==="number"?[p,p,p,p]:p);}function i(n){return j9(n,x);}var k;f=(c=x)==null?i9:(k=typeof x)==="function"?d:k==="number"?(x=[x,x,x,x],i):i;return B;};B.round=function(x){if(!arguments.length)return a!=Number;a=x?Math.round:Number;return B;};B.sticky=function(x){if(!arguments.length)return g;g=x;j=null;return B;};B.ratio=function(x){if(!arguments.length)return l;l=x;return B;};B.mode=function(x){if(!arguments.length)return m;m=x+"";return B;};return w8(B,h);};function i9(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy};}function j9(n,p){var x=n.x+p[3],y=n.y+p[0],d=n.dx-p[1]-p[3],a=n.dy-p[0]-p[2];if(d<0){x+=d/2;d=0;}if(a<0){y+=a/2;a=0;}return{x:x,y:y,dx:d,dy:a};}D.random={normal:function(µ,σ){var n=arguments.length;if(n<2)σ=1;if(n<1)µ=0;return function(){var x,y,r;do{x=Math.random()*2-1;y=Math.random()*2-1;r=x*x+y*y;}while(!r||r>1);return µ+σ*x*Math.sqrt(-2*Math.log(r)/r);};},logNormal:function(){var r=D.random.normal.apply(D,arguments);return function(){return Math.exp(r());};},bates:function(m){var r=D.random.irwinHall(m);return function(){return r()/m;};},irwinHall:function(m){return function(){for(var s=0,j=0;j<m;j++)s+=Math.random();return s;};}};D.scale={};function k9(d){var s=d[0],a=d[d.length-1];return s<a?[s,a]:[a,s];}function l9(s){return s.rangeExtent?s.rangeExtent():k9(s.range());}function m9(d,r,a,b){var u=a(d[0],d[1]),i=b(r[0],r[1]);return function(x){return i(u(x));};}function n9(d,n){var i=0,a=d.length-1,x=d[i],b=d[a],c;if(b<x){c=i,i=a,a=c;c=x,x=b,b=c;}d[i]=n.floor(x);d[a]=n.ceil(b);return d;}function o9(s){return s?{floor:function(x){return Math.floor(x/s)*s;},ceil:function(x){return Math.ceil(x/s)*s;}}:p9;}var p9={floor:K3,ceil:K3};function q9(d,r,a,b){var u=[],i=[],j=0,k=Math.min(d.length,r.length)-1;if(d[k]<d[0]){d=d.slice().reverse();r=r.slice().reverse();}while(++j<=k){u.push(a(d[j-1],d[j]));i.push(b(r[j-1],r[j]));}return function(x){var j=D.bisect(d,x,1,k)-1;return i[j](u[j](x));};}D.scale.linear=function(){return r9([0,1],[0,1],J7,false);};function r9(d,r,i,c){var o,a;function b(){var l=Math.min(d.length,r.length)>2?q9:m9,u=c?k8:j8;o=l(d,r,u,i);a=l(r,d,u,J7);return s;}function s(x){return o(x);}s.invert=function(y){return a(y);};s.domain=function(x){if(!arguments.length)return d;d=x.map(Number);return b();};s.range=function(x){if(!arguments.length)return r;r=x;return b();};s.rangeRound=function(x){return s.range(x).interpolate(c8);};s.clamp=function(x){if(!arguments.length)return c;c=x;return b();};s.interpolate=function(x){if(!arguments.length)return i;i=x;return b();};s.ticks=function(m){return v9(d,m);};s.tickFormat=function(m,f){return w9(d,m,f);};s.nice=function(m){t9(d,m);return b();};s.copy=function(){return r9(d,r,i,c);};return b();}function s9(s,l){return D.rebind(s,l,"range","rangeRound","interpolate","clamp");}function t9(d,m){return n9(d,o9(u9(d,m)[2]));}function u9(d,m){if(m==null)m=10;var a=k9(d),s=a[1]-a[0],b=Math.pow(10,Math.floor(Math.log(s/m)/Math.LN10)),c=m/s*b;if(c<=.15)b*=10;else if(c<=.35)b*=5;else if(c<=.75)b*=2;a[0]=Math.ceil(a[0]/b)*b;a[1]=Math.floor(a[1]/b)*b+b*.5;a[2]=b;return a;}function v9(d,m){return D.range.apply(D,u9(d,m));}function w9(a,m,f){var r=u9(a,m);if(f){var b=a4.exec(f);b.shift();if(b[8]==="s"){var p=D.formatPrefix(Math.max(h1(r[0]),h1(r[1])));if(!b[7])b[7]="."+y9(p.scale(r[2]));b[8]="f";f=D.format(b.join(""));return function(d){return f(p.scale(d))+p.symbol;};}if(!b[7])b[7]="."+z9(b[8],r);f=b.join("");}else{f=",."+y9(r[2])+"f";}return D.format(f);}var x9={s:1,g:1,p:1,r:1,e:1};function y9(v){return-Math.floor(Math.log(v)/Math.LN10+.01);}function z9(t,r){var p=y9(r[2]);return t in x9?Math.abs(p-y9(Math.max(h1(r[0]),h1(r[1]))))+ +(t!=="e"):p-(t==="%")*2;}D.scale.log=function(){return A9(D.scale.linear().domain([0,1]),10,true,[1,10]);};function A9(l,b,p,a){function c(x){return(p?Math.log(x<0?0:x):-Math.log(x>0?0:-x))/Math.log(b);}function g(x){return p?Math.pow(b,x):-Math.pow(b,-x);}function s(x){return l(c(x));}s.invert=function(x){return g(l.invert(x));};s.domain=function(x){if(!arguments.length)return a;p=x[0]>=0;l.domain((a=x.map(Number)).map(c));return s;};s.base=function(_){if(!arguments.length)return b;b=+_;l.domain(a.map(c));return s;};s.nice=function(){var n=n9(a.map(c),p?Math:C9);l.domain(n);a=n.map(g);return s;};s.ticks=function(){var d=k9(a),t=[],u=d[0],v=d[1],i=Math.floor(c(u)),j=Math.ceil(c(v)),n=b%1?2:b;if(isFinite(j-i)){if(p){for(;i<j;i++)for(var k=1;k<n;k++)t.push(g(i)*k);t.push(g(i));}else{t.push(g(i));for(;i++<j;)for(var k=n-1;k>0;k--)t.push(g(i)*k);}for(i=0;t[i]<u;i++){}for(j=t.length;t[j-1]>v;j--){}t=t.slice(i,j);}return t;};s.tickFormat=function(n,h){if(!arguments.length)return B9;if(arguments.length<2)h=B9;else if(typeof h!=="function")h=D.format(h);var k=Math.max(.1,n/s.ticks().length),f=p?(e=1e-12,Math.ceil):(e=-1e-12,Math.floor),e;return function(d){return d/g(f(c(d)+e))<=k?h(d):"";};};s.copy=function(){return A9(l.copy(),b,p,a);};return s9(s,l);}var B9=D.format(".0e"),C9={floor:function(x){return-Math.ceil(-x);},ceil:function(x){return-Math.floor(-x);}};D.scale.pow=function(){return D9(D.scale.linear(),1,[0,1]);};function D9(l,a,d){var p=E9(a),b=E9(1/a);function s(x){return l(p(x));}s.invert=function(x){return b(l.invert(x));};s.domain=function(x){if(!arguments.length)return d;l.domain((d=x.map(Number)).map(p));return s;};s.ticks=function(m){return v9(d,m);};s.tickFormat=function(m,f){return w9(d,m,f);};s.nice=function(m){return s.domain(t9(d,m));};s.exponent=function(x){if(!arguments.length)return a;p=E9(a=x);b=E9(1/a);l.domain(d.map(p));return s;};s.copy=function(){return D9(l.copy(),a,d);};return s9(s,l);}function E9(e){return function(x){return x<0?-Math.pow(-x,e):Math.pow(x,e);};}D.scale.sqrt=function(){return D.scale.pow().exponent(.5);};D.scale.ordinal=function(){return F9([],{t:"range",a:[[]]});};function F9(d,r){var a,b,c;function s(x){return b[((a.get(x)||(r.t==="range"?a.set(x,d.push(x)):NaN))-1)%b.length];}function f(g,h){return D.range(d.length).map(function(i){return g+h*i;});}s.domain=function(x){if(!arguments.length)return d;d=[];a=new o1();var i=-1,n=x.length,g;while(++i<n)if(!a.has(g=x[i]))a.set(g,d.push(g));return s[r.t].apply(s,r.a);};s.range=function(x){if(!arguments.length)return b;b=x;c=0;r={t:"range",a:arguments};return s;};s.rangePoints=function(x,p){if(arguments.length<2)p=0;var g=x[0],h=x[1],i=(h-g)/(Math.max(1,d.length-1)+p);b=f(d.length<2?(g+h)/2:g+i*p/2,i);c=0;r={t:"rangePoints",a:arguments};return s;};s.rangeBands=function(x,p,o){if(arguments.length<2)p=0;if(arguments.length<3)o=p;var g=x[1]<x[0],h=x[g-0],i=x[1-g],j=(i-h)/(d.length-p+2*o);b=f(h+j*o,j);if(g)b.reverse();c=j*(1-p);r={t:"rangeBands",a:arguments};return s;};s.rangeRoundBands=function(x,p,o){if(arguments.length<2)p=0;if(arguments.length<3)o=p;var g=x[1]<x[0],h=x[g-0],i=x[1-g],j=Math.floor((i-h)/(d.length-p+2*o)),P=i-h-(d.length-p)*j;b=f(h+Math.round(P/2),j);if(g)b.reverse();c=Math.round(j*(1-p));r={t:"rangeRoundBands",a:arguments};return s;};s.rangeBand=function(){return c;};s.rangeExtent=function(){return k9(r.a[0]);};s.copy=function(){return F9(d,r);};return s.domain(d);}D.scale.category10=function(){return D.scale.ordinal().range(G9);};D.scale.category20=function(){return D.scale.ordinal().range(H9);};D.scale.category20b=function(){return D.scale.ordinal().range(I9);};D.scale.category20c=function(){return D.scale.ordinal().range(J9);};var G9=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(A3);var H9=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(A3);var I9=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(A3);var J9=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(A3);D.scale.quantile=function(){return K9([],[]);};function K9(d,r){var t;function a(){var k=0,q=r.length;t=[];while(++k<q)t[k-1]=D.quantile(d,k/q);return s;}function s(x){if(!isNaN(x=+x))return r[D.bisect(t,x)];}s.domain=function(x){if(!arguments.length)return d;d=x.filter(Z).sort(W);return a();};s.range=function(x){if(!arguments.length)return r;r=x;return a();};s.quantiles=function(){return t;};s.invertExtent=function(y){y=r.indexOf(y);return y<0?[NaN,NaN]:[y>0?t[y-1]:d[0],y<t.length?t[y]:d[d.length-1]];};s.copy=function(){return K9(d,r);};return a();}D.scale.quantize=function(){return L9(0,1,[0,1]);};function L9(a,b,r){var k,i;function s(x){return r[Math.max(0,Math.min(i,Math.floor(k*(x-a))))];}function c(){k=r.length/(b-a);i=r.length-1;return s;}s.domain=function(x){if(!arguments.length)return[a,b];a=+x[0];b=+x[x.length-1];return c();};s.range=function(x){if(!arguments.length)return r;r=x;return c();};s.invertExtent=function(y){y=r.indexOf(y);y=y<0?NaN:y/k+a;return[y,y+1/k];};s.copy=function(){return L9(a,b,r);};return c();}D.scale.threshold=function(){return M9([.5],[0,1]);};function M9(d,r){function s(x){if(x<=x)return r[D.bisect(d,x)];}s.domain=function(_){if(!arguments.length)return d;d=_;return s;};s.range=function(_){if(!arguments.length)return r;r=_;return s;};s.invertExtent=function(y){y=r.indexOf(y);return[d[y-1],d[y]];};s.copy=function(){return M9(d,r);};return s;}D.scale.identity=function(){return N9([0,1]);};function N9(d){function i(x){return+x;}i.invert=i;i.domain=i.range=function(x){if(!arguments.length)return d;d=x.map(i);return i;};i.ticks=function(m){return v9(d,m);};i.tickFormat=function(m,f){return w9(d,m,f);};i.copy=function(){return N9(d);};return i;}D.svg={};D.svg.arc=function(){var i=Q9,o=R9,s=S9,b=T9;function c(){var r=i.apply(this,arguments),a=o.apply(this,arguments),d=s.apply(this,arguments)+O9,f=b.apply(this,arguments)+O9,g=(f<d&&(g=d,d=f,f=g),f-d),h=g<π?"0":"1",j=Math.cos(d),k=Math.sin(d),l=Math.cos(f),m=Math.sin(f);return g>=P9?r?"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"M0,"+r+"A"+r+","+r+" 0 1,0 0,"+-r+"A"+r+","+r+" 0 1,0 0,"+r+"Z":"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z":r?"M"+a*j+","+a*k+"A"+a+","+a+" 0 "+h+",1 "+a*l+","+a*m+"L"+r*l+","+r*m+"A"+r+","+r+" 0 "+h+",0 "+r*j+","+r*k+"Z":"M"+a*j+","+a*k+"A"+a+","+a+" 0 "+h+",1 "+a*l+","+a*m+"L0,0"+"Z";}c.innerRadius=function(v){if(!arguments.length)return i;i=J3(v);return c;};c.outerRadius=function(v){if(!arguments.length)return o;o=J3(v);return c;};c.startAngle=function(v){if(!arguments.length)return s;s=J3(v);return c;};c.endAngle=function(v){if(!arguments.length)return b;b=J3(v);return c;};c.centroid=function(){var r=(i.apply(this,arguments)+o.apply(this,arguments))/2,a=(s.apply(this,arguments)+b.apply(this,arguments))/2+O9;return[Math.cos(a)*r,Math.sin(a)*r];};return c;};var O9=-M2,P9=τ-ε;function Q9(d){return d.innerRadius;}function R9(d){return d.outerRadius;}function S9(d){return d.startAngle;}function T9(d){return d.endAngle;}function U9(p){var x=J6,y=K6,a=r5,b=W9,c=b.key,t=.7;function l(f){var s=[],g=[],i=-1,n=f.length,d,h=J3(x),j=J3(y);function k(){s.push("M",b(p(g),t));}while(++i<n){if(a.call(this,d=f[i],i)){g.push([+h.call(this,d,i),+j.call(this,d,i)]);}else if(g.length){k();g=[];}}if(g.length)k();return s.length?s.join(""):null;}l.x=function(_){if(!arguments.length)return x;x=_;return l;};l.y=function(_){if(!arguments.length)return y;y=_;return l;};l.defined=function(_){if(!arguments.length)return a;a=_;return l;};l.interpolate=function(_){if(!arguments.length)return c;if(typeof _==="function")c=b=_;else c=(b=V9.get(_)||W9).key;return l;};l.tension=function(_){if(!arguments.length)return t;t=_;return l;};return l;}D.svg.line=function(){return U9(K3);};var V9=D.map({linear:W9,"linear-closed":X9,step:Y9,"step-before":Z9,"step-after":$9,basis:ja,"basis-open":la,"basis-closed":ma,bundle:oa,cardinal:fa,"cardinal-open":_9,"cardinal-closed":ea,monotone:Da});V9.forEach(function(k,v){v.key=k;v.closed=/-closed$/.test(k);});function W9(p){return p.join("L");}function X9(p){return W9(p)+"Z";}function Y9(a){var i=0,n=a.length,p=a[0],b=[p[0],",",p[1]];while(++i<n)b.push("H",(p[0]+(p=a[i])[0])/2,"V",p[1]);if(n>1)b.push("H",p[0]);return b.join("");}function Z9(a){var i=0,n=a.length,p=a[0],b=[p[0],",",p[1]];while(++i<n)b.push("V",(p=a[i])[1],"H",p[0]);return b.join("");}function $9(a){var i=0,n=a.length,p=a[0],b=[p[0],",",p[1]];while(++i<n)b.push("H",(p=a[i])[0],"V",p[1]);return b.join("");}function _9(p,t){return p.length<4?W9(p):p[1]+ga(p.slice(1,p.length-1),ia(p,t));}function ea(p,t){return p.length<3?W9(p):p[0]+ga((p.push(p[0]),p),ia([p[p.length-2]].concat(p,[p[1]]),t));}function fa(p,t){return p.length<3?W9(p):p[0]+ga(p,ia(p,t));}function ga(a,b){if(b.length<1||a.length!=b.length&&a.length!=b.length+2){return W9(a);}var q=a.length!=b.length,c="",d=a[0],p=a[1],f=b[0],t=f,g=1;if(q){c+="Q"+(p[0]-f[0]*2/3)+","+(p[1]-f[1]*2/3)+","+p[0]+","+p[1];d=a[1];g=2;}if(b.length>1){t=b[1];p=a[g];g++;c+="C"+(d[0]+f[0])+","+(d[1]+f[1])+","+(p[0]-t[0])+","+(p[1]-t[1])+","+p[0]+","+p[1];for(var i=2;i<b.length;i++,g++){p=a[g];t=b[i];c+="S"+(p[0]-t[0])+","+(p[1]-t[1])+","+p[0]+","+p[1];}}if(q){var l=a[g];c+="Q"+(p[0]+t[0]*2/3)+","+(p[1]+t[1]*2/3)+","+l[0]+","+l[1];}return c;}function ia(p,t){var b=[],a=(1-t)/2,c,d=p[0],f=p[1],i=1,n=p.length;while(++i<n){c=d;d=f;f=p[i];b.push([a*(f[0]-c[0]),a*(f[1]-c[1])]);}return b;}function ja(p){if(p.length<3)return W9(p);var i=1,n=p.length,a=p[0],x=a[0],y=a[1],b=[x,x,x,(a=p[1])[0]],c=[y,y,y,a[1]],d=[x,",",y,"L",qa(ya,b),",",qa(ya,c)];p.push(p[n-1]);while(++i<=n){a=p[i];b.shift();b.push(a[0]);c.shift();c.push(a[1]);za(d,b,c);}p.pop();d.push("L",a);return d.join("");}function la(p){if(p.length<4)return W9(p);var a=[],i=-1,n=p.length,b,c=[0],d=[0];while(++i<3){b=p[i];c.push(b[0]);d.push(b[1]);}a.push(qa(ya,c)+","+qa(ya,d));--i;while(++i<n){b=p[i];c.shift();c.push(b[0]);d.shift();d.push(b[1]);za(a,c,d);}return a.join("");}function ma(p){var a,i=-1,n=p.length,m=n+4,b,c=[],d=[];while(++i<4){b=p[i%n];c.push(b[0]);d.push(b[1]);}a=[qa(ya,c),",",qa(ya,d)];--i;while(++i<m){b=p[i%n];c.shift();c.push(b[0]);d.shift();d.push(b[1]);za(a,c,d);}return a.join("");}function oa(a,b){var n=a.length-1;if(n){var x=a[0][0],y=a[0][1],d=a[n][0]-x,c=a[n][1]-y,i=-1,p,t;while(++i<=n){p=a[i];t=i/n;p[0]=b*p[0]+(1-b)*(x+t*d);p[1]=b*p[1]+(1-b)*(y+t*c);}}return ja(a);}function qa(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];}var sa=[0,2/3,1/3,0],xa=[0,1/3,2/3,0],ya=[0,1/6,2/3,1/6];function za(p,x,y){p.push("C",qa(sa,x),",",qa(sa,y),",",qa(xa,x),",",qa(xa,y),",",qa(ya,x),",",qa(ya,y));}function Aa(p,a){return(a[1]-p[1])/(a[0]-p[0]);}function Ba(p){var i=0,j=p.length-1,m=[],a=p[0],b=p[1],d=m[0]=Aa(a,b);while(++i<j){m[i]=(d+(d=Aa(a=b,b=p[i+1])))/2;}m[i]=d;return m;}function Ca(p){var t=[],d,a,b,s,m=Ba(p),i=-1,j=p.length-1;while(++i<j){d=Aa(p[i],p[i+1]);if(h1(d)<ε){m[i]=m[i+1]=0;}else{a=m[i]/d;b=m[i+1]/d;s=a*a+b*b;if(s>9){s=d*3/Math.sqrt(s);m[i]=s*a;m[i+1]=s*b;}}}i=-1;while(++i<=j){s=(p[Math.min(j,i+1)][0]-p[Math.max(0,i-1)][0])/(6*(1+m[i]*m[i]));t.push([s||0,m[i]*s||0]);}return t;}function Da(p){return p.length<3?W9(p):p[0]+ga(p,Ca(p));}D.svg.line.radial=function(){var l=U9(Ea);l.radius=l.x,delete l.x;l.angle=l.y,delete l.y;return l;};function Ea(p){var b,i=-1,n=p.length,r,a;while(++i<n){b=p[i];r=b[0];a=b[1]+O9;b[0]=r*Math.cos(a);b[1]=r*Math.sin(a);}return p;}function Fa(p){var a=J6,b=J6,c=0,f=K6,g=r5,h=W9,j=h.key,k=h,L="L",t=.7;function l(m){var s=[],o=[],q=[],i=-1,n=m.length,d,r=J3(a),u=J3(c),v=a===b?function(){return x;}:J3(b),w=c===f?function(){return y;}:J3(f),x,y;function z(){s.push("M",h(p(q),t),L,k(p(o.reverse()),t),"Z");}while(++i<n){if(g.call(this,d=m[i],i)){o.push([x=+r.call(this,d,i),y=+u.call(this,d,i)]);q.push([+v.call(this,d,i),+w.call(this,d,i)]);}else if(o.length){z();o=[];q=[];}}if(o.length)z();return s.length?s.join(""):null;}l.x=function(_){if(!arguments.length)return b;a=b=_;return l;};l.x0=function(_){if(!arguments.length)return a;a=_;return l;};l.x1=function(_){if(!arguments.length)return b;b=_;return l;};l.y=function(_){if(!arguments.length)return f;c=f=_;return l;};l.y0=function(_){if(!arguments.length)return c;c=_;return l;};l.y1=function(_){if(!arguments.length)return f;f=_;return l;};l.defined=function(_){if(!arguments.length)return g;g=_;return l;};l.interpolate=function(_){if(!arguments.length)return j;if(typeof _==="function")j=h=_;else j=(h=V9.get(_)||W9).key;k=h.reverse||h;L=h.closed?"M":"L";return l;};l.tension=function(_){if(!arguments.length)return t;t=_;return l;};return l;}Z9.reverse=$9;$9.reverse=Z9;D.svg.area=function(){return Fa(K3);};D.svg.area.radial=function(){var a=Fa(Ea);a.radius=a.x,delete a.x;a.innerRadius=a.x0,delete a.x0;a.outerRadius=a.x1,delete a.x1;a.angle=a.y,delete a.y;a.startAngle=a.y0,delete a.y0;a.endAngle=a.y1,delete a.y1;return a;};D.svg.chord=function(){var c=s6,g=t6,h=Ga,j=S9,k=T9;function l(d,i){var s=m(this,c,d,i),t=m(this,g,d,i);return"M"+s.p0+o(s.r,s.p1,s.a1-s.a0)+(n(s,t)?q(s.r,s.p1,s.r,s.p0):q(s.r,s.p1,t.r,t.p0)+o(t.r,t.p1,t.a1-t.a0)+q(t.r,t.p1,s.r,s.p0))+"Z";}function m(s,f,d,i){var m=f.call(s,d,i),r=h.call(s,m,i),a=j.call(s,m,i)+O9,b=k.call(s,m,i)+O9;return{r:r,a0:a,a1:b,p0:[r*Math.cos(a),r*Math.sin(a)],p1:[r*Math.cos(b),r*Math.sin(b)]};}function n(a,b){return a.a0==b.a0&&a.a1==b.a1;}function o(r,p,a){return"A"+r+","+r+" 0 "+ +(a>π)+",1 "+p;}function q(r,p,a,b){return"Q 0,0 "+b;}l.radius=function(v){if(!arguments.length)return h;h=J3(v);return l;};l.source=function(v){if(!arguments.length)return c;c=J3(v);return l;};l.target=function(v){if(!arguments.length)return g;g=J3(v);return l;};l.startAngle=function(v){if(!arguments.length)return j;j=J3(v);return l;};l.endAngle=function(v){if(!arguments.length)return k;k=J3(v);return l;};return l;};function Ga(d){return d.radius;}D.svg.diagonal=function(){var s=s6,t=t6,a=Ha;function b(d,i){var c=s.call(this,d,i),f=t.call(this,d,i),m=(c.y+f.y)/2,p=[c,{x:c.x,y:m},{x:f.x,y:m},f];p=p.map(a);return"M"+p[0]+"C"+p[1]+" "+p[2]+" "+p[3];}b.source=function(x){if(!arguments.length)return s;s=J3(x);return b;};b.target=function(x){if(!arguments.length)return t;t=J3(x);return b;};b.projection=function(x){if(!arguments.length)return a;a=x;return b;};return b;};function Ha(d){return[d.x,d.y];}D.svg.diagonal.radial=function(){var d=D.svg.diagonal(),p=Ha,a=d.projection;d.projection=function(x){return arguments.length?a(Ia(p=x)):p;};return d;};function Ia(p){return function(){var d=p.apply(this,arguments),r=d[0],a=d[1]+O9;return[r*Math.cos(a),r*Math.sin(a)];};}D.svg.symbol=function(){var t=Ka,s=Ja;function a(d,i){return(Ma.get(t.call(this,d,i))||La)(s.call(this,d,i));}a.type=function(x){if(!arguments.length)return t;t=J3(x);return a;};a.size=function(x){if(!arguments.length)return s;s=J3(x);return a;};return a;};function Ja(){return 64;}function Ka(){return"circle";}function La(s){var r=Math.sqrt(s/π);return"M0,"+r+"A"+r+","+r+" 0 1,1 0,"+-r+"A"+r+","+r+" 0 1,1 0,"+r+"Z";}var Ma=D.map({circle:La,cross:function(s){var r=Math.sqrt(s/5)/2;return"M"+-3*r+","+-r+"H"+-r+"V"+-3*r+"H"+r+"V"+-r+"H"+3*r+"V"+r+"H"+r+"V"+3*r+"H"+-r+"V"+r+"H"+-3*r+"Z";},diamond:function(s){var r=Math.sqrt(s/(2*Oa)),a=r*Oa;return"M0,"+-r+"L"+a+",0"+" 0,"+r+" "+-a+",0"+"Z";},square:function(s){var r=Math.sqrt(s)/2;return"M"+-r+","+-r+"L"+r+","+-r+" "+r+","+r+" "+-r+","+r+"Z";},"triangle-down":function(s){var r=Math.sqrt(s/Na),a=r*Na/2;return"M0,"+a+"L"+r+","+-a+" "+-r+","+-a+"Z";},"triangle-up":function(s){var r=Math.sqrt(s/Na),a=r*Na/2;return"M0,"+-a+"L"+r+","+a+" "+-r+","+a+"Z";}});D.svg.symbolTypes=Ma.keys();var Na=Math.sqrt(3),Oa=Math.tan(30*O2);function Pa(g,i){P1(g,Qa);g.id=i;return g;}var Qa=[],Ra=0,Sa,Ta;Qa.call=V1.call;Qa.empty=V1.empty;Qa.node=V1.node;Qa.size=V1.size;D.transition=function(s){return arguments.length?Sa?s.transition():s:z2.transition();};D.transition.prototype=Qa;Qa.select=function(s){var a=this.id,b=[],c,d,f;s=W1(s);for(var j=-1,m=this.length;++j<m;){b.push(c=[]);for(var g=this[j],i=-1,n=g.length;++i<n;){if((f=g[i])&&(d=s.call(f,f.__data__,i,j))){if("__data__"in f)d.__data__=f.__data__;Wa(d,i,a,f.__transition__[a]);c.push(d);}else{c.push(null);}}}return Pa(b,a);};Qa.selectAll=function(s){var a=this.id,b=[],c,d,f,g,t;s=Z1(s);for(var j=-1,m=this.length;++j<m;){for(var h=this[j],i=-1,n=h.length;++i<n;){if(f=h[i]){t=f.__transition__[a];d=s.call(f,f.__data__,i,j);b.push(c=[]);for(var k=-1,o=d.length;++k<o;){if(g=d[k])Wa(g,k,a,t);c.push(g);}}}}return Pa(b,a);};Qa.filter=function(f){var s=[],a,g,b;if(typeof f!=="function")f=l2(f);for(var j=0,m=this.length;j<m;j++){s.push(a=[]);for(var g=this[j],i=0,n=g.length;i<n;i++){if((b=g[i])&&f.call(b,b.__data__,i,j)){a.push(b);}}}return Pa(s,this.id);};Qa.tween=function(n,t){var i=this.id;if(arguments.length<2)return this.node().__transition__[i].tween.get(n);return q2(this,t==null?function(a){a.__transition__[i].tween.remove(n);}:function(a){a.__transition__[i].tween.set(n,t);});};function Ua(g,n,v,t){var a=g.id;return q2(g,typeof v==="function"?function(b,i,j){b.__transition__[a].tween.set(n,t(v.call(b,b.__data__,i,j)));}:(v=t(v),function(b){b.__transition__[a].tween.set(n,v);}));}Qa.attr=function(n,v){if(arguments.length<2){for(v in n)this.attr(v,n[v]);return this;}var c=n=="transform"?i8:J7,d=D.ns.qualify(n);function f(){this.removeAttribute(d);}function g(){this.removeAttributeNS(d.space,d.local);}function h(b){return b==null?f:(b+="",function(){var a=this.getAttribute(d),i;return a!==b&&(i=c(a,b),function(t){this.setAttribute(d,i(t));});});}function j(b){return b==null?g:(b+="",function(){var a=this.getAttributeNS(d.space,d.local),i;return a!==b&&(i=c(a,b),function(t){this.setAttributeNS(d.space,d.local,i(t));});});}return Ua(this,"attr."+n,v,d.local?j:h);};Qa.attrTween=function(n,a){var b=D.ns.qualify(n);function c(d,i){var f=a.call(this,d,i,this.getAttribute(b));return f&&function(t){this.setAttribute(b,f(t));};}function g(d,i){var f=a.call(this,d,i,this.getAttributeNS(b.space,b.local));return f&&function(t){this.setAttributeNS(b.space,b.local,f(t));};}return this.tween("attr."+n,b.local?g:c);};Qa.style=function(c,v,p){var n=arguments.length;if(n<3){if(typeof c!=="string"){if(n<2)v="";for(p in c)this.style(p,c[p],v);return this;}p="";}function s(){this.style.removeProperty(c);}function d(b){return b==null?s:(b+="",function(){var a=O.getComputedStyle(this,null).getPropertyValue(c),i;return a!==b&&(i=J7(a,b),function(t){this.style.setProperty(c,i(t),p);});});}return Ua(this,"style."+c,v,d);};Qa.styleTween=function(n,a,p){if(arguments.length<3)p="";function s(d,i){var f=a.call(this,d,i,O.getComputedStyle(this,null).getPropertyValue(n));return f&&function(t){this.style.setProperty(n,f(t),p);};}return this.tween("style."+n,s);};Qa.text=function(v){return Ua(this,"text",v,Va);};function Va(b){if(b==null)b="";return function(){this.textContent=b;};}Qa.remove=function(){return this.each("end.transition",function(){var p;if(this.__transition__.count<2&&(p=this.parentNode))p.removeChild(this);});};Qa.ease=function(v){var i=this.id;if(arguments.length<1)return this.node().__transition__[i].ease;if(typeof v!=="function")v=D.ease.apply(D,arguments);return q2(this,function(n){n.__transition__[i].ease=v;});};Qa.delay=function(v){var a=this.id;if(arguments.length<1)return this.node().__transition__[a].delay;return q2(this,typeof v==="function"?function(n,i,j){n.__transition__[a].delay=+v.call(n,n.__data__,i,j);}:(v=+v,function(n){n.__transition__[a].delay=v;}));};Qa.duration=function(v){var a=this.id;if(arguments.length<1)return this.node().__transition__[a].duration;return q2(this,typeof v==="function"?function(n,i,j){n.__transition__[a].duration=Math.max(1,v.call(n,n.__data__,i,j));}:(v=Math.max(1,v),function(n){n.__transition__[a].duration=v;}));};Qa.each=function(t,l){var a=this.id;if(arguments.length<2){var b=Ta,c=Sa;Sa=a;q2(this,function(n,i,j){Ta=n.__transition__[a];t.call(n,n.__data__,i,j);});Ta=b;Sa=c;}else{q2(this,function(n){var d=n.__transition__[a];(d.event||(d.event=D.dispatch("start","end"))).on(t,l);});}return this;};Qa.transition=function(){var a=this.id,b=++Ra,s=[],c,g,d,t;for(var j=0,m=this.length;j<m;j++){s.push(c=[]);for(var g=this[j],i=0,n=g.length;i<n;i++){if(d=g[i]){t=Object.create(d.__transition__[a]);t.delay+=t.duration;Wa(d,i,b,t);}c.push(d);}}return Pa(s,b);};function Wa(a,i,b,c){var l=a.__transition__||(a.__transition__={active:0,count:0}),f=l[b];if(!f){var g=c.time;f=l[b]={tween:new o1(),time:g,ease:c.ease,delay:c.delay,duration:c.duration};++l.count;D.timer(function(h){var d=a.__data__,j=f.ease,k=f.delay,m=f.duration,o=T3,p=[];o.t=k+g;if(k<=h)return s(h-k);o.c=s;function s(h){if(l.active>b)return r();l.active=b;f.event&&f.event.start.call(a,d,i);f.tween.forEach(function(n,v){if(v=v.call(a,d,i)){p.push(v);}});D.timer(function(){o.c=q(h||1)?r5:q;return 1;},0,g);}function q(h){if(l.active!==b)return r();var t=h/m,e=j(t),n=p.length;while(n>0){p[--n].call(a,e);}if(t>=1){f.event&&f.event.end.call(a,d,i);return r();}}function r(){if(--l.count)delete l[b];else delete a.__transition__;return 1;}},0,g);}}D.svg.axis=function(){var s=D.scale.linear(),o=Xa,i=6,a=6,t=3,b=[10],c=null,f;function h(g){g.each(function(){var g=D.select(this);var j=this.__chart__||s,k=this.__chart__=s.copy();var l=c==null?k.ticks?k.ticks.apply(k,b):k.domain():c,m=f==null?k.tickFormat?k.tickFormat.apply(k,b):K3:f,n=g.selectAll(".tick").data(l,k),p=n.enter().insert("g",".domain").attr("class","tick").style("opacity",ε),q=D.transition(n.exit()).style("opacity",ε).remove(),r=D.transition(n.order()).style("opacity",1),u;var v=l9(k),w=g.selectAll(".domain").data([0]),y=(w.enter().append("path").attr("class","domain"),D.transition(w));p.append("line");p.append("text");var z=p.select("line"),A=r.select("line"),B=n.select("text").text(m),C=p.select("text"),F=r.select("text");switch(o){case"bottom":{u=Za;z.attr("y2",i);C.attr("y",Math.max(i,0)+t);A.attr("x2",0).attr("y2",i);F.attr("x",0).attr("y",Math.max(i,0)+t);B.attr("dy",".71em").style("text-anchor","middle");y.attr("d","M"+v[0]+","+a+"V0H"+v[1]+"V"+a);break;}case"top":{u=Za;z.attr("y2",-i);C.attr("y",-(Math.max(i,0)+t));A.attr("x2",0).attr("y2",-i);F.attr("x",0).attr("y",-(Math.max(i,0)+t));B.attr("dy","0em").style("text-anchor","middle");y.attr("d","M"+v[0]+","+-a+"V0H"+v[1]+"V"+-a);break;}case"left":{u=$a;z.attr("x2",-i);C.attr("x",-(Math.max(i,0)+t));A.attr("x2",-i).attr("y2",0);F.attr("x",-(Math.max(i,0)+t)).attr("y",0);B.attr("dy",".32em").style("text-anchor","end");y.attr("d","M"+-a+","+v[0]+"H0V"+v[1]+"H"+-a);break;}case"right":{u=$a;z.attr("x2",i);C.attr("x",Math.max(i,0)+t);A.attr("x2",i).attr("y2",0);F.attr("x",Math.max(i,0)+t).attr("y",0);B.attr("dy",".32em").style("text-anchor","start");y.attr("d","M"+a+","+v[0]+"H0V"+v[1]+"H"+a);break;}}if(k.rangeBand){var x=k,G=x.rangeBand()/2;j=k=function(d){return x(d)+G;};}else if(j.rangeBand){j=k;}else{q.call(u,k);}p.call(u,j);r.call(u,k);});}h.scale=function(x){if(!arguments.length)return s;s=x;return h;};h.orient=function(x){if(!arguments.length)return o;o=x in Ya?x+"":Xa;return h;};h.ticks=function(){if(!arguments.length)return b;b=arguments;return h;};h.tickValues=function(x){if(!arguments.length)return c;c=x;return h;};h.tickFormat=function(x){if(!arguments.length)return f;f=x;return h;};h.tickSize=function(x){var n=arguments.length;if(!n)return i;i=+x;a=+arguments[n-1];return h;};h.innerTickSize=function(x){if(!arguments.length)return i;i=+x;return h;};h.outerTickSize=function(x){if(!arguments.length)return a;a=+x;return h;};h.tickPadding=function(x){if(!arguments.length)return t;t=+x;return h;};h.tickSubdivide=function(){return arguments.length&&h;};return h;};var Xa="bottom",Ya={top:1,right:1,bottom:1,left:1};function Za(s,x){s.attr("transform",function(d){return"translate("+x(d)+",0)";});}function $a(s,y){s.attr("transform",function(d){return"translate(0,"+y(d)+")";});}D.svg.brush=function(){var a=N1(l,"brushstart","brush","brushend"),x=null,y=null,b=[0,0],c=[0,0],f,h,j=true,k=true,r=eb[0];function l(g){g.each(function(){var g=D.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",p).on("touchstart.brush",p);var i=g.selectAll(".background").data([0]);i.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");g.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var q=g.selectAll(".resize").data(r,K3);q.exit().remove();q.enter().append("g").attr("class",function(d){return"resize "+d;}).style("cursor",function(d){return _a[d];}).append("rect").attr("x",function(d){return/[ew]$/.test(d)?-3:null;}).attr("y",function(d){return/^[ns]/.test(d)?-3:null;}).attr("width",6).attr("height",6).style("visibility","hidden");q.style("display",l.empty()?"none":null);var s=D.transition(g),t=D.transition(i),u;if(x){u=l9(x);t.attr("x",u[0]).attr("width",u[1]-u[0]);n(s);}if(y){u=l9(y);t.attr("y",u[0]).attr("height",u[1]-u[0]);o(s);}m(s);});}l.event=function(g){g.each(function(){var d=a.of(this,arguments),i={x:b,y:c,i:f,j:h},q=this.__chart__||i;this.__chart__=i;if(Sa){D.select(this).transition().each("start.brush",function(){f=q.i;h=q.j;b=q.x;c=q.y;d({type:"brushstart"});}).tween("brush:brush",function(){var s=K7(b,i.x),u=K7(c,i.y);f=h=null;return function(t){b=i.x=s(t);c=i.y=u(t);d({type:"brush",mode:"resize"});};}).each("end.brush",function(){f=i.i;h=i.j;d({type:"brush",mode:"resize"});d({type:"brushend"});});}else{d({type:"brushstart"});d({type:"brush",mode:"resize"});d({type:"brushend"});}});};function m(g){g.selectAll(".resize").attr("transform",function(d){return"translate("+b[+/e$/.test(d)]+","+c[+/^s/.test(d)]+")";});}function n(g){g.select(".extent").attr("x",b[0]);g.selectAll(".extent,.n>rect,.s>rect").attr("width",b[1]-b[0]);}function o(g){g.select(".extent").attr("y",c[0]);g.selectAll(".extent,.e>rect,.w>rect").attr("height",c[1]-c[0]);}function p(){var t=this,d=D.select(D.event.target),q=a.of(t,arguments),g=D.select(t),s=d.datum(),u=!/^(n|s)$/.test(s)&&x,v=!/^(e|w)$/.test(s)&&y,z=d.classed("extent"),A=G2(),B,C=D.mouse(t),F;var w=D.select(O).on("keydown.brush",I).on("keyup.brush",L);if(D.event.changedTouches){w.on("touchmove.brush",N).on("touchend.brush",X);}else{w.on("mousemove.brush",N).on("mouseup.brush",X);}g.interrupt().selectAll("*").interrupt();if(z){C[0]=b[0]-C[0];C[1]=c[0]-C[1];}else if(s){var G=+/w$/.test(s),H=+/^n/.test(s);F=[b[1-G]-C[0],c[1-H]-C[1]];C[0]=b[G];C[1]=c[H];}else if(D.event.altKey)B=C.slice();g.style("pointer-events","none").selectAll(".resize").style("display",null);D.select("body").style("cursor",d.style("cursor"));q({type:"brushstart"});N();function I(){if(D.event.keyCode==32){if(!z){B=null;C[0]-=b[1];C[1]-=c[1];z=2;}L1();}}function L(){if(D.event.keyCode==32&&z==2){C[0]+=b[1];C[1]+=c[1];z=0;L1();}}function N(){var i=D.mouse(t),Y=false;if(F){i[0]+=F[0];i[1]+=F[1];}if(!z){if(D.event.altKey){if(!B)B=[(b[0]+b[1])/2,(c[0]+c[1])/2];C[0]=b[+(i[0]<B[0])];C[1]=c[+(i[1]<B[1])];}else B=null;}if(u&&S(i,x,0)){n(g);Y=true;}if(v&&S(i,y,1)){o(g);Y=true;}if(Y){m(g);q({type:"brush",mode:z?"move":"resize"});}}function S(Y,_,i){var a1=l9(_),r0=a1[0],r1=a1[1],d1=C[i],e1=i?c:b,i1=e1[1]-e1[0],l1,m1;if(z){r0-=d1;r1-=i1+d1;}l1=(i?k:j)?Math.max(r0,Math.min(r1,Y[i])):Y[i];if(z){m1=(l1+=d1)+i1;}else{if(B)d1=Math.max(r0,Math.min(r1,2*B[i]-l1));if(d1<l1){m1=l1;l1=d1;}else{m1=d1;}}if(e1[0]!=l1||e1[1]!=m1){if(i)h=null;else f=null;e1[0]=l1;e1[1]=m1;return true;}}function X(){N();g.style("pointer-events","all").selectAll(".resize").style("display",l.empty()?"none":null);D.select("body").style("cursor",null);w.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);A();q({type:"brushend"});}}l.x=function(z){if(!arguments.length)return x;x=z;r=eb[!x<<1|!y];return l;};l.y=function(z){if(!arguments.length)return y;y=z;r=eb[!x<<1|!y];return l;};l.clamp=function(z){if(!arguments.length)return x&&y?[j,k]:x?j:y?k:null;if(x&&y)j=!!z[0],k=!!z[1];else if(x)j=!!z;else if(y)k=!!z;return l;};l.extent=function(z){var d,g,i,q,t;if(!arguments.length){if(x){if(f){d=f[0],g=f[1];}else{d=b[0],g=b[1];if(x.invert)d=x.invert(d),g=x.invert(g);if(g<d)t=d,d=g,g=t;}}if(y){if(h){i=h[0],q=h[1];}else{i=c[0],q=c[1];if(y.invert)i=y.invert(i),q=y.invert(q);if(q<i)t=i,i=q,q=t;}}return x&&y?[[d,i],[g,q]]:x?[d,g]:y&&[i,q];}if(x){d=z[0],g=z[1];if(y)d=d[0],g=g[0];f=[d,g];if(x.invert)d=x(d),g=x(g);if(g<d)t=d,d=g,g=t;if(d!=b[0]||g!=b[1])b=[d,g];}if(y){i=z[0],q=z[1];if(x)i=i[1],q=q[1];h=[i,q];if(y.invert)i=y(i),q=y(q);if(q<i)t=i,i=q,q=t;if(i!=c[0]||q!=c[1])c=[i,q];}return l;};l.clear=function(){if(!l.empty()){b=[0,0],c=[0,0];f=h=null;}return l;};l.empty=function(){return!!x&&b[0]==b[1]||!!y&&c[0]==c[1];};return D.rebind(l,a,"on");};var _a={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var eb=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var gb=d4.format=H4.timeFormat;var ib=gb.utc;var jb=ib("%Y-%m-%dT%H:%M:%S.%LZ");gb.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?lb:jb;function lb(d){return d.toISOString();}lb.parse=function(s){var d=new Date(s);return isNaN(d)?null:d;};lb.toString=jb.toString;d4.second=h4(function(d){return new e4(Math.floor(d/1e3)*1e3);},function(d,o){d.setTime(d.getTime()+Math.floor(o)*1e3);},function(d){return d.getSeconds();});d4.seconds=d4.second.range;d4.seconds.utc=d4.second.utc.range;d4.minute=h4(function(d){return new e4(Math.floor(d/6e4)*6e4);},function(d,o){d.setTime(d.getTime()+Math.floor(o)*6e4);},function(d){return d.getMinutes();});d4.minutes=d4.minute.range;d4.minutes.utc=d4.minute.utc.range;d4.hour=h4(function(d){var t=d.getTimezoneOffset()/60;return new e4((Math.floor(d/36e5-t)+t)*36e5);},function(d,o){d.setTime(d.getTime()+Math.floor(o)*36e5);},function(d){return d.getHours();});d4.hours=d4.hour.range;d4.hours.utc=d4.hour.utc.range;d4.month=h4(function(d){d=d4.day(d);d.setDate(1);return d;},function(d,o){d.setMonth(d.getMonth()+o);},function(d){return d.getMonth();});d4.months=d4.month.range;d4.months.utc=d4.month.utc.range;function mb(l,m,f){function s(x){return l(x);}s.invert=function(x){return ob(l.invert(x));};s.domain=function(x){if(!arguments.length)return l.domain().map(ob);l.domain(x);return s;};function t(a,c){var b=a[1]-a[0],g=b/c,i=D.bisect(qb,g);return i==qb.length?[m.year,u9(a.map(function(d){return d/31536e6;}),c)[2]]:!i?[xb,u9(a,c)[2]]:m[g/qb[i-1]<qb[i]/g?i-1:i];}s.nice=function(i,a){var d=s.domain(),b=k9(d),c=i==null?t(b,10):typeof i==="number"&&t(b,i);if(c)i=c[0],a=c[1];function g(h){return!isNaN(h)&&!i.range(h,ob(+h+1),a).length;}return s.domain(n9(d,a>1?{floor:function(h){while(g(h=i.floor(h)))h=ob(h-1);return h;},ceil:function(h){while(g(h=i.ceil(h)))h=ob(+h+1);return h;}}:i));};s.ticks=function(i,a){var b=k9(s.domain()),c=i==null?t(b,10):typeof i==="number"?t(b,i):!i.range&&[{range:i},a];if(c)i=c[0],a=c[1];return i.range(b[0],ob(+b[1]+1),a<1?1:a);};s.tickFormat=function(){return f;};s.copy=function(){return mb(l.copy(),m,f);};return s9(s,l);}function ob(t){return new Date(t);}var qb=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6];var sb=[[d4.second,1],[d4.second,5],[d4.second,15],[d4.second,30],[d4.minute,1],[d4.minute,5],[d4.minute,15],[d4.minute,30],[d4.hour,1],[d4.hour,3],[d4.hour,6],[d4.hour,12],[d4.day,1],[d4.day,2],[d4.week,1],[d4.month,1],[d4.month,3],[d4.year,1]];var ub=gb.multi([[".%L",function(d){return d.getMilliseconds();}],[":%S",function(d){return d.getSeconds();}],["%I:%M",function(d){return d.getMinutes();}],["%I %p",function(d){return d.getHours();}],["%a %d",function(d){return d.getDay()&&d.getDate()!=1;}],["%b %d",function(d){return d.getDate()!=1;}],["%B",function(d){return d.getMonth();}],["%Y",r5]]);var xb={range:function(s,a,b){return D.range(Math.ceil(s/b)*b,+a,b).map(ob);},floor:K3,ceil:K3};sb.year=d4.year;d4.scale=function(){return mb(D.scale.linear(),sb,ub);};var yb=sb.map(function(m){return[m[0].utc,m[1]];});var zb=ib.multi([[".%L",function(d){return d.getUTCMilliseconds();}],[":%S",function(d){return d.getUTCSeconds();}],["%I:%M",function(d){return d.getUTCMinutes();}],["%I %p",function(d){return d.getUTCHours();}],["%a %d",function(d){return d.getUTCDay()&&d.getUTCDate()!=1;}],["%b %d",function(d){return d.getUTCDate()!=1;}],["%B",function(d){return d.getUTCMonth();}],["%Y",r5]]);yb.year=d4.year.utc;d4.scale.utc=function(){return mb(D.scale.linear(),yb,zb);};D.text=L3(function(r){return r.responseText;});D.json=function(u,c){return M3(u,"application/json",Ab,c);};function Ab(r){return JSON.parse(r.responseText);}D.html=function(u,c){return M3(u,"text/html",Bb,c);};function Bb(r){var a=K.createRange();a.selectNode(K.body);return a.createContextualFragment(r.responseText);}D.xml=L3(function(r){return r.responseXML;});if(typeof define==="function"&&define.amd)define(D);else if(typeof module==="object"&&module.exports)module.exports=D;this.d3=D;}();
},
/*!
 * Mobiscroll v2.9.0
 * http://mobiscroll.com
 *
 * Copyright 2010-2013, Acid Media
 * Licensed under the MIT license.
 *
 */
	"sap/ui/thirdparty/mobiscroll/js/mobiscroll-core.js":function(){(function($){function t(p){var i;for(i in p){if(m[p[i]]!==undefined){return true;}}return false;}function a(){var c=['Webkit','Moz','O','ms'],p;for(p in c){if(t([c[p]+'Transform'])){return'-'+c[p].toLowerCase()+'-';}}return'';}function g(e,c){var o=e.originalEvent,i=e.changedTouches;return i||(o&&o.changedTouches)?(o?o.changedTouches[0]['page'+c]:i[0]['page'+c]):e['page'+c];}function b(c,o,e){var i=c;if(typeof o==='object'){return c.each(function(){if(!this.id){this.id='mobiscroll'+(++f);}if(j[this.id]){j[this.id].destroy();}new $.mobiscroll.classes[o.component||'Scroller'](this,o);});}if(typeof o==='string'){c.each(function(){var r,p=j[this.id];if(p&&p[o]){r=p[o].apply(this,Array.prototype.slice.call(e,1));if(r!==undefined){i=r;return false;}}});}return i;}function d(e){if(e.type=='touchstart'){h[e.target]=true;}else if(h[e.target]){delete h[e.target];return false;}return true;}var f=+new Date,h={},j={},k=$.extend,m=document.createElement('modernizr').style,l=t(['perspectiveProperty','WebkitPerspective','MozPerspective','OPerspective','msPerspective']),n=a(),q=n.replace(/^\-/,'').replace(/\-$/,'').replace('moz','Moz');$.fn.mobiscroll=function(c){k(this,$.mobiscroll.components);return b(this,c,arguments);};$.mobiscroll=$.mobiscroll||{util:{prefix:n,jsPrefix:q,has3d:l,getCoord:g,testTouch:d},presets:{},themes:{},i18n:{},instances:j,classes:{},components:{},defaults:{},setDefaults:function(o){k(defaults,o);},presetShort:function(e,c){this.components[e]=function(s){return b(this,k(s,{component:c,preset:e}),arguments);};}};$.scroller=$.scroller||$.mobiscroll;$.fn.scroller=$.fn.scroller||$.fn.mobiscroll;})(jQuery);
},
/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
	"jquery.sap.logger.js":function(){jQuery.sap.declare("jquery.sap.logger",false);
},
	"sap/m/ColorPalette.js":function(){sap.ui.getCore().loadLibrary("sap.ui.unified");sap.ui.define(['sap/ui/core/Control','sap/ui/Device','sap/ui/base/DataType','sap/ui/core/library','sap/ui/core/delegate/ItemNavigation','./Button','./Dialog','./library','./ColorPaletteRenderer',"sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/ui/unified/ColorPickerDisplayMode"],function(C,D,a,c,I,B,b,l,d,e,K,q,f){"use strict";var g=c.CSSColor;var h;var i;var j=l.ButtonType;var k=a.getType("boolean");var m="sapMColorPaletteSquare";var S=5;var M=2;var n=15;var L=sap.ui.getCore().getLibraryResourceBundle("sap.m");var o=C.extend("sap.m.ColorPalette",{metadata:{library:"sap.m",properties:{colors:{type:"sap.ui.core.CSSColor[]",group:"Appearance",defaultValue:["gold","darkorange","indianred","darkmagenta","cornflowerblue","deepskyblue","darkcyan","olivedrab","darkslategray","azure","white","lightgray","darkgray","dimgray","black"]}},aggregations:{_defaultColorButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_moreColorsButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"}},events:{colorSelect:{parameters:{"value":{type:"sap.ui.core.CSSColor"},"defaultAction":{type:"boolean"}}},liveChange:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}}}}});o.prototype.init=function(){this._oDefaultColor=null;this._bShowDefaultColorButton=false;this._bShowMoreColorsButton=false;this._bShowRecentColorsSection=false;this._oDisplayMode=f.Default;this._oMoreColorsDialog=null;this._oPaletteColorItemNavigation=null;this._oRecentColorItemNavigation=null;this._recentColors=[];};o.prototype.exit=function(){if(this._oMoreColorsDialog){this._oMoreColorsDialog.destroy();delete this._oMoreColorsDialog;}if(this._oPaletteColorItemNavigation){this.removeDelegate(this._oPaletteColorItemNavigation);this._oPaletteColorItemNavigation.destroy();delete this._oPaletteColorItemNavigation;}if(this._oRecentColorItemNavigation){this.removeDelegate(this._oRecentColorItemNavigation);this._oRecentColorItemNavigation.destroy();delete this._oRecentColorItemNavigation;}};o.prototype.setColors=function(r){r=this.validateProperty("colors",r);if(r.length<M||r.length>n){throw new Error("Cannot set property 'colors' - array must has minimum 2 and maximum 15 elements");}return this.setProperty("colors",r);};o.prototype._setDisplayMode=function(r){var s=this._getColorPicker();s.setDisplayMode(r);this._oDisplayMode=r;return this;};o.prototype._getDisplayMode=function(){return this._oDisplayMode;};o.prototype._getColorPicker=function(){return this._ensureMoreColorsDialog()._oColorPicker;};o.prototype.ontap=function(E){var t=q(E.target),s,$;$=t.closest("."+m);if(!$.length){return;}s=$.attr("data-sap-ui-color");this._fireColorSelect(s,false,E);};o.prototype.onsaptabnext=o.prototype.onsaptabprevious=function(E){var r=this._getElementInfo(E.target);if(r.bIsMoreColorsButton){this.fireEvent("_colorNotSelected",{_originalEvent:E});return;}if(r.bIsDefaultColorButton){this._fireColorSelect(this._getDefaultColor(),true,E);return;}o.prototype.ontap.apply(this,arguments);};o.prototype.onsapenter=o.prototype.ontap;o.prototype.onsapspace=function(E){E.preventDefault();};o.prototype.onkeyup=function(E){if(E.which===K.SPACE){E.preventDefault();o.prototype.ontap.apply(this,arguments);}};o.prototype.onAfterRendering=function(){this._ensureItemNavigation();};o.prototype.pushToRecentColors=function(s){var r=this._recentColors.indexOf(s);if(r>-1){this._recentColors.splice(r,1);}else if(this._recentColors.length===5){this._recentColors.pop();}this._recentColors.unshift(s);this.invalidate();};o.prototype.setColorPickerSelectedColor=function(r){if(!g.isValid(r)){throw new Error("Cannot set the selected color - invalid value: "+r);}this._getColorPicker().setColorString(r);return this;};o.prototype._createDefaultColorButton=function(){return new B(this.getId()+"-btnDefaultColor",{width:"100%",type:j.Transparent,text:L.getText("COLOR_PALETTE_DEFAULT_COLOR"),visible:this._getShowDefaultColorButton(),press:function(E){this._fireColorSelect(this._getDefaultColor(),true,E);}.bind(this)});};o.prototype._getDefaultColor=function(){return this._oDefaultColor;};o.prototype._setDefaultColor=function(r){if(!g.isValid(r)){throw new Error("Cannot set internal property '_defaultColor' - invalid value: "+r);}this._oDefaultColor=r;return this;};o.prototype._getShowDefaultColorButton=function(){return this._bShowDefaultColorButton;};o.prototype._setShowDefaultColorButton=function(v){if(!k.isValid(v)){throw new Error("Cannot set internal property 'showDefaultColorButton' - invalid value: "+v);}this._bShowDefaultColorButton=v;if(v&&!this._getDefaultColorButton()){this.setAggregation("_defaultColorButton",this._createDefaultColorButton());}if(this._getDefaultColorButton()){this._getDefaultColorButton().setVisible(v);}return this;};o.prototype._getDefaultColorButton=function(){return this.getAggregation("_defaultColorButton");};o.prototype._createMoreColorsButton=function(){return new B(this.getId()+"-btnMoreColors",{width:"100%",type:j.Transparent,text:L.getText("COLOR_PALETTE_MORE_COLORS"),visible:this._getShowMoreColorsButton(),press:this._openColorPicker.bind(this)});};o.prototype._getShowMoreColorsButton=function(){return this._bShowMoreColorsButton;};o.prototype._getShowRecentColorsSection=function(){return this._bShowRecentColorsSection;};o.prototype._getRecentColors=function(){return this._recentColors;};o.prototype._setShowRecentColorsSection=function(v){if(!k.isValid(v)){throw new Error("Cannot set internal property 'showRecentColorsSection' - invalid value: "+v);}this._bShowRecentColorsSection=v;return this;};o.prototype._setShowMoreColorsButton=function(v){if(!k.isValid(v)){throw new Error("Cannot set internal property 'showMoreColorsButton' - invalid value: "+v);}this._bShowMoreColorsButton=v;if(v&&!this._getMoreColorsButton()){this.setAggregation("_moreColorsButton",this._createMoreColorsButton());}if(this._getMoreColorsButton()){this._getMoreColorsButton().setVisible(v);}return this;};o.prototype._getMoreColorsButton=function(){return this.getAggregation("_moreColorsButton");};o.prototype._openColorPicker=function(){this.fireEvent("_beforeOpenColorPicker");this._ensureMoreColorsDialog().open();};o.prototype._ensureMoreColorsDialog=function(){if(!this._oMoreColorsDialog){this._oMoreColorsDialog=this._createMoreColorsDialog();}return this._oMoreColorsDialog;};o.prototype._createMoreColorsDialog=function(){var r=new b(this.getId()+"-moreColorsDialog",{stretch:!!D.system.phone,title:L.getText("COLOR_PALETTE_MORE_COLORS_TITLE")}).addStyleClass("CPDialog");this._ensureUnifiedLibrary();r.addContent(r._oColorPicker=new h({mode:i.HSL,displayMode:this._oDisplayMode,liveChange:function(E){this.fireLiveChange(E.getParameters());}.bind(this)}));r.setBeginButton(new B({text:L.getText("COLOR_PALETTE_MORE_COLORS_CONFIRM"),press:function(E){r.close();if(r._oColorPicker.getColorString()){this._fireColorSelect(r._oColorPicker.getColorString(),false,E);}}.bind(this)}));r.setEndButton(new B({text:L.getText("COLOR_PALETTE_MORE_COLORS_CANCEL"),press:function(){r.close();}}));return r;};o.prototype._ensureUnifiedLibrary=function(){var u;if(!h){sap.ui.getCore().loadLibrary("sap.ui.unified");u=sap.ui.require("sap/ui/unified/library");h=sap.ui.requireSync("sap/ui/unified/ColorPicker");i=u.ColorPickerMode;}};o.prototype._focusFirstElement=function(){var F=this._getShowDefaultColorButton()?this._getDefaultColorButton().getDomRef():this._getAllPaletteColorSwatches()[0];F.focus();};o.prototype._fireColorSelect=function(r,s,O){this.fireColorSelect({value:r,defaultAction:s,_originalEvent:O});this.pushToRecentColors(r);};o.prototype._ensureItemNavigation=function(){var P=[],r=[];if(!this._oPaletteColorItemNavigation){this._oPaletteColorItemNavigation=new p(this);this._oPaletteColorItemNavigation.setColumns(S);this._oPaletteColorItemNavigation.setCycling(false);this.addDelegate(this._oPaletteColorItemNavigation);this._oPaletteColorItemNavigation.attachEvent(I.Events.BorderReached,this._onSwatchContainerBorderReached,this);}if(!this._oRecentColorItemNavigation){this._oRecentColorItemNavigation=new p(this);this._oRecentColorItemNavigation.setColumns(S);this._oRecentColorItemNavigation.setCycling(false);this.addDelegate(this._oRecentColorItemNavigation);this._oRecentColorItemNavigation.attachEvent(I.Events.BorderReached,this._onSwatchContainerBorderReached,this);}P=P.concat(this._getAllPaletteColorSwatches());r=r.concat(this._getAllRecentColorSwatches());r=r.slice(0,this._getRecentColors().length);this._oPaletteColorItemNavigation.setRootDomRef(this.getDomRef("swatchCont-paletteColor"));this._oPaletteColorItemNavigation.setItemDomRefs(P);this._oRecentColorItemNavigation.setRootDomRef(this.getDomRef("swatchCont-recentColors"));this._oRecentColorItemNavigation.setItemDomRefs(r);};o.prototype._onSwatchContainerBorderReached=function(E){var N,s,H=["saphome","sapend"].indexOf(E.getParameter("event").type)>-1,r=this._getAllRecentColorSwatches()[0]?this._getElementInfo(E.mParameters.event.target).bIsRecentColorSwatch:false;if(E.getParameter(p.BorderReachedDirection)===p.BorderReachedDirectionForward){if(this._getShowMoreColorsButton()&&!r){N=this._getMoreColorsButton();}else if(!H&&this._bShowRecentColorsSection&&!r&&this._getRecentColors().length>0){N=this._getAllRecentColorSwatches()[0];}else if(!H&&this._getShowDefaultColorButton()){N=this._getDefaultColorButton();}else if(!H){N=this._getAllPaletteColorSwatches()[0];}}else{if(this._getShowDefaultColorButton()&&!r){N=this._getDefaultColorButton();}else if(!H&&this._bShowRecentColorsSection&&!r&&this._getRecentColors().length>0){N=this._getAllRecentColorSwatches()[0];}else if(!H&&this._getShowMoreColorsButton()){N=this._getMoreColorsButton();}else if(!H&&!this._getShowDefaultColorButton()){s=this._getAllPaletteColorSwatches();N=s[s.length-1];}else if(!H){s=this._getAllPaletteColorSwatches();N=s[this._oPaletteColorItemNavigation._getIndexOfTheFirstItemInLastRow()];}}if(N){N.focus();}return N;};o.prototype.onsapnext=function(E){var N,r=this._getElementInfo(E.target);if(!(r.bIsDefaultColorButton||r.bIsMoreColorsButton)){return;}E.preventDefault();E.stopImmediatePropagation(true);if(r.bIsDefaultColorButton){N=this._getAllPaletteColorSwatches()[0];}else if(this._getRecentColors().length>0&&!r.bIsRecentColorSwatch&&this._bShowRecentColorsSection){N=this._getAllRecentColorSwatches()[0];}else{N=this._getShowDefaultColorButton()?this._getDefaultColorButton():this._getAllPaletteColorSwatches()[0];}N.focus();};o.prototype.onsapprevious=function(E){var N,F=this._getElementInfo(E.target),A;if(!(F.bIsDefaultColorButton||F.bIsMoreColorsButton||E.target===this._getAllRecentColorSwatches()[0])){return;}E.preventDefault();E.stopImmediatePropagation(true);A=this._getAllPaletteColorSwatches();if(F.bIsMoreColorsButton||(!F.bIsMoreColorsButton&&this.bIsRecentColorSwatch)){N=E.keyCode===K.ARROW_UP?A[this._oPaletteColorItemNavigation._getIndexOfTheFirstItemInLastRow()]:A[A.length-1];}else if(F.bIsRecentColorSwatch&&!this._bShowMoreColorsButton&&!this._bShowDefaultColorButton){A=this._getAllPaletteColorSwatches();N=A[this._oPaletteColorItemNavigation._getIndexOfTheFirstItemInLastRow()];}else if(this._getRecentColors().length>0&&!F.bIsRecentColorSwatch&&this._bShowRecentColorsSection){N=this._getAllRecentColorSwatches()[0];}else if(this._getShowMoreColorsButton()){N=this._getMoreColorsButton();}else{N=A[this._oPaletteColorItemNavigation._getIndexOfTheFirstItemInLastRow()];}N.focus();};o.prototype.onsaphome=function(E){var r=this._getElementInfo(E.target);if(!r.bIsMoreColorsButton){return;}if(this._getShowDefaultColorButton()){this._getDefaultColorButton().focus();}E.preventDefault();E.stopImmediatePropagation(true);};o.prototype.onsapend=function(E){var r=this._getElementInfo(E.target);if(!r.bIsDefaultColorButton){return;}if(this._getShowMoreColorsButton()){this._getMoreColorsButton().focus();}E.preventDefault();E.stopImmediatePropagation(true);};o.prototype._getAllPaletteColorSwatches=function(){return this.$().find("."+m).get().slice(0,this.getColors().length);};o.prototype._getAllRecentColorSwatches=function(){return this.$().find("."+m).get().slice(this.getColors().length);};o.prototype._getElementInfo=function(E){var r=this._getShowDefaultColorButton()&&e(E,this._getDefaultColorButton().getDomRef()),s=!r&&this._getShowMoreColorsButton()&&e(E,this._getMoreColorsButton().getDomRef()),t=this._getAllRecentColorSwatches().indexOf(E)>-1,u=this._getAllPaletteColorSwatches().indexOf(E)>-1;return{bIsDefaultColorButton:r,bIsMoreColorsButton:s,bIsASwatch:u,bIsRecentColorSwatch:t};};var p=I.extend("sap.m.ItemNavigationHomeEnd",{constructor:function(){I.apply(this,arguments);this.setHomeEndColumnMode(true);this.fireEvent=function(N,E){var s;if(N===I.Events.BorderReached){s=p.BorderReachedDirectionBackward;if(["sapnext","sapend"].indexOf(E.event.type)>-1){s=p.BorderReachedDirectionForward;}E[p.BorderReachedDirection]=s;}I.prototype.fireEvent.apply(this,arguments);};}});p.BorderReachedDirection="direction";p.BorderReachedDirectionForward="BorderReachedDirectionForward";p.BorderReachedDirectionBackward="BorderReachedDirectionBackward";p.prototype.getColumns=function(){return this.iColumns;};p.prototype.onsapprevious=function(E){var r=e(this.getRootDomRef(),E.target),A=E.keyCode===K.ARROW_UP&&this.getFocusedIndex()===0;if(!r){return;}if(!A){I.prototype.onsapprevious.apply(this,arguments);return;}E.preventDefault();this.fireEvent(I.Events.BorderReached,{index:0,event:E});};p.prototype.onsapnext=function(E){var r=e(this.getRootDomRef(),E.target),s,t,u;if(!r){return;}if(E.keyCode!==K.ARROW_DOWN){I.prototype.onsapnext.apply(this,arguments);return;}t=this.getFocusedIndex();u=this._getItemInfo(t);if(u.bIsLastItem&&u.bIsInTheLastColumn){E.preventDefault();this.fireEvent(I.Events.BorderReached,{index:t,event:E});return;}if(u.bNextRowExists&&!u.bItemSameColumnNextRowExists){E.preventDefault();s=this.getItemDomRefs();s[s.length-1].focus();return;}I.prototype.onsapnext.apply(this,arguments);};p.prototype.onsaphome=function(E){var r=e(this.getRootDomRef(),E.target),s;if(!r){return;}s=this._getItemInfo(this.getFocusedIndex());if(!s.bIsInTheFirstColumn){I.prototype.onsaphome.apply(this,arguments);return;}E.preventDefault();if(s.bIsFirstItem){this.fireEvent(I.Events.BorderReached,{index:0,event:E});}else{this.getItemDomRefs()[0].focus();}};p.prototype.onsapend=function(E){var r=e(this.getRootDomRef(),E.target),s;if(!r){return;}s=this._getItemInfo(this.getFocusedIndex());if(!(s.bIsLastItem||s.bIsInTheLastColumn)){I.prototype.onsapend.apply(this,arguments);return;}E.preventDefault();if(s.bIsLastItem){this.fireEvent(I.Events.BorderReached,{index:this.getItemDomRefs().length-1,event:E});}else{this.getItemDomRefs()[this.getItemDomRefs().length-1].focus();}};p.prototype._getItemInfo=function(r){var s=this.getItemDomRefs().length,t=r===(s-1),u=s>this.getColumns()?this.getColumns():s,v=r%this.getColumns()===0,w=(r+1)%u===0,x=Math.floor(r/this.getColumns())+1,N,y;N=x*this.getColumns()<s;y=N&&(r+this.getColumns())<s;return{bIsFirstItem:r===0,bIsLastItem:t,bIsInTheLastColumn:w,bIsInTheFirstColumn:v,bNextRowExists:N,bItemSameColumnNextRowExists:y};};p.prototype._getIndexOfTheFirstItemInLastRow=function(){return Math.floor((this.getItemDomRefs().length-1)/this.getColumns())*this.getColumns();};o.prototype._ItemNavigation=p;o.prototype._ColorsHelper={RGB_TO_NAMED_COLORS_MAP:{"#FFB200":"gold","#FF8C00":"darkorange","#CD5C5C":"indianred","#8B008B":"darkmagenta","#6495ED":"cornflowerblue","#00BFFF":"deepskyblue","#008B8B":"darkcyan","#6B8E23":"olivedrab","#2F4F4F":"darkslategray","#F0FFFF":"azure","#FFFFFF":"white","#D3D3D3":"lightgray","#A9A9A9":"darkgray","#696969":"dimgray","#000000":"black"},NAME_COLORS_TO_RGB_MAP:{"gold":"#FFB200","darkorange":"#FF8C00","indianred":"#CD5C5C","darkmagenta":"#8B008B","cornflowerblue":"#6495ED","deepskyblue":"#00BFFF","darkcyan":"#008B8B","olivedrab":"#6B8E23","darkslategray":"#2F4F4F","azure":"#F0FFFF","white":"#FFFFFF","lightgray":"#D3D3D3","darkgray":"#A9A9A9","dimgray":"#696969","black":"#000000"},getNamedColor:function(s){var H="";if(!s||s.toLowerCase().indexOf("hsl")!==-1){return undefined;}if(s.indexOf("#")===-1){return this.NAME_COLORS_TO_RGB_MAP[s.toLowerCase()]?s.toLowerCase():undefined;}if(s.length===4){H=["#",s[1],s[1],s[2],s[2],s[3],s[3]].join("");}else{H=s;}H=H.toUpperCase();return this.RGB_TO_NAMED_COLORS_MAP[H];}};return o;});
},
	"sap/m/ColorPalettePopover.js":function(){sap.ui.getCore().loadLibrary("sap.ui.unified");sap.ui.define(['sap/ui/core/Control','sap/ui/Device','sap/ui/unified/ColorPickerDisplayMode','./Button','./ResponsivePopover','./ColorPalette','./library'],function(C,D,a,B,R,b,l){"use strict";var P=l.PlacementType;var c=C.extend("sap.m.ColorPalettePopover",{metadata:{library:"sap.m",publicMethods:["openBy","close"],properties:{defaultColor:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null},colors:{type:"sap.ui.core.CSSColor[]",group:"Appearance",defaultValue:["gold","darkorange","indianred","darkmagenta","cornflowerblue","deepskyblue","darkcyan","olivedrab","darkslategray","azure","white","lightgray","darkgray","dimgray","black"]},showDefaultColorButton:{type:"boolean",group:"Appearance",defaultValue:true},showMoreColorsButton:{type:"boolean",group:"Appearance",defaultValue:true},showRecentColorsSection:{type:"boolean",group:"Appearance",defaultValue:true},displayMode:{type:"sap.ui.unified.ColorPickerDisplayMode",group:"Appearance",defaultValue:a.Default}},events:{colorSelect:{parameters:{"value":{type:"sap.ui.core.CSSColor"},"defaultAction":{type:"boolean"}}},liveChange:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}}}},renderer:{apiVersion:2}});var L=sap.ui.getCore().getLibraryResourceBundle("sap.m");var F={COLOR_PALETTE_PROPS:{colors:"setColors",defaultColor:"_setDefaultColor",showDefaultColorButton:"_setShowDefaultColorButton",showMoreColorsButton:"_setShowMoreColorsButton",showRecentColorsSection:"_setShowRecentColorsSection",displayMode:"_setDisplayMode"},POPOVER_METHODS:{getDomRef:"",close:"",openBy:""}};c.prototype.init=function(){this._oPopover=null;this._bPopoverDestroying=null;};c.prototype.exit=function(){this._bPopoverDestroying=true;if(this._oPopover){this._oPopover.removeDelegate(this._oPopover._onAfterRenderingDelegate);this._oPopover.destroy();this._oPopover=null;}};c.prototype.setColorPickerSelectedColor=function(d){this._getPalette().setColorPickerSelectedColor(d);return this;};c.prototype._getPalette=function(){return this._ensurePopover().getContent()[0];};c.prototype._ensurePopover=function(){if(!this._oPopover){this._oPopover=this._createPopover();}return this._oPopover;};c.prototype._createPopover=function(){var p,o=this._createColorPalette(),d;p=new R(this.getId()+"-colorPalettePopover",{showHeader:D.system.phone,placement:P.VerticalPreferredBottom,showArrow:false,showCloseButton:false,title:L.getText("COLOR_PALETTE_TITLE"),content:o,afterOpen:o._focusFirstElement.bind(o)}).addStyleClass("sapMColorPaletteContainer");if(D.system.phone){p.setEndButton(new B({text:L.getText("COLOR_PALETTE_CANCEL"),press:function(){p.close();}}));}o.attachEvent("_beforeOpenColorPicker",function(){p.close();});o.attachEvent("_colorNotSelected",function(e){this._handleNextOrPreviousUponPaletteClose(e);p.close();}.bind(this));o.attachEvent("colorSelect",function(e){this._handleNextOrPreviousUponPaletteClose(e);p.close();this.fireColorSelect({"value":e.getParameter("value"),"defaultAction":e.getParameter("defaultAction")});}.bind(this));d={onAfterRendering:function(){var $=this.$();$.attr("aria-modal","true");$.attr("aria-label",this.getTitle());}};p.addEventDelegate(d,p);p._onAfterRenderingDelegate=d;return p;};c.prototype._createColorPalette=function(){var o=new b(this.getId()+"-palette",{liveChange:function(e){this.fireLiveChange(e.getParameters());}.bind(this)});o._setShowDefaultColorButton(this.getShowDefaultColorButton());o._setShowMoreColorsButton(this.getShowMoreColorsButton());o._setShowRecentColorsSection(this.getShowRecentColorsSection());return o;};c.prototype._handleNextOrPreviousUponPaletteClose=function(e){var o=e.getParameter("_originalEvent");if(!o){return;}if(o.type==="saptabnext"||o.type==="saptabprevious"){o.stopPropagation();o.preventDefault();}};c.prototype.setProperty=function(p,v,s){var t;if(F.COLOR_PALETTE_PROPS[p]!==undefined){t=F.COLOR_PALETTE_PROPS[p]||p;b.prototype[t].call(this._getPalette(),v);}return C.prototype.setProperty.apply(this,arguments);};Object.keys(F.POPOVER_METHODS).forEach(function(s){var t=F.COLOR_PALETTE_PROPS[s]||s;c.prototype[s]=function(){if(this._bPopoverDestroying){return null;}var p=this._ensurePopover();return p[t].apply(p,arguments);};});return c;});
},
	"sap/m/DatePicker.js":function(){sap.ui.getCore().loadLibrary("sap.ui.unified");sap.ui.define(['sap/ui/thirdparty/jquery','sap/ui/Device',"sap/ui/core/Element",'./InputBase','./DateTimeField','./Button','./ResponsivePopover','sap/ui/core/date/UniversalDate','./library','sap/ui/core/Control','sap/ui/core/library',"./DatePickerRenderer","sap/base/util/deepEqual","sap/base/assert","sap/base/Log","sap/ui/core/IconPool","./InstanceManager","sap/ui/unified/Calendar","sap/ui/unified/DateRange",'sap/ui/unified/DateTypeRange',"sap/ui/unified/calendar/CustomMonthPicker","sap/ui/unified/calendar/CustomYearPicker","sap/ui/core/LabelEnablement","sap/ui/unified/library","sap/ui/dom/jquery/cursorPos"],function(q,D,E,I,a,B,R,U,l,C,c,b,d,e,L,f,g,h,j,k,m,n,o,u){"use strict";var p=c.CalendarType;var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");var s=a.extend("sap.m.DatePicker",{metadata:{library:"sap.m",properties:{displayFormatType:{type:"string",group:"Appearance",defaultValue:""},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance",defaultValue:null},minDate:{type:"object",group:"Misc",defaultValue:null},maxDate:{type:"object",group:"Misc",defaultValue:null},showFooter:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{specialDates:{type:"sap.ui.core.Element",multiple:true,singularName:"specialDate"},_popup:{type:"sap.m.ResponsivePopover",multiple:false,visibility:"hidden"}},associations:{legend:{type:"sap.ui.core.Control",multiple:false}},events:{navigate:{parameters:{dateRange:{type:"sap.ui.unified.DateRange"},afterPopupOpened:{type:"boolean"}}}},designtime:"sap/m/designtime/DatePicker.designtime",dnd:{draggable:false,droppable:true}}});s.prototype.init=function(){a.prototype.init.apply(this,arguments);this._bIntervalSelection=false;this._bOnlyCalendar=true;this._bValid=true;this._oMinDate=new Date(1,0,1);this._oMinDate.setFullYear(1);this._oMaxDate=new Date(9999,11,31,23,59,59,999);var i=this.addEndIcon({id:this.getId()+"-icon",src:this.getIconSrc(),noTabStop:true,tooltip:r.getText("OPEN_PICKER_TEXT")});this._bShouldClosePicker=false;i.addEventDelegate({onmousedown:function(A){this._bShouldClosePicker=!!this.isOpen();}},this);i.attachPress(function(){this.toggleOpen(this._bShouldClosePicker);},this);};s.prototype.isValidValue=function(){return this._bValid;};s.prototype.isOpen=function(){return this._oPopup&&this._oPopup.isOpen();};s.prototype.toggleOpen=function(O){if(this.getEditable()&&this.getEnabled()){if(O){t.call(this);}else{_.call(this);}}};s.prototype.getIconSrc=function(){return f.getIconURI("appointment-2");};s.prototype.exit=function(){I.prototype.exit.apply(this,arguments);if(this._oPopup){if(this._oPopup.isOpen()){this._oPopup.close();}delete this._oPopup;}if(this._getCalendar()){if(this._oCalendarAfterRenderDelegate){this._getCalendar().removeDelegate(this._oCalendarAfterRenderDelegate);}this._getCalendar().destroy();delete this._getCalendar();}if(this._iInvalidateCalendar){clearTimeout(this._iInvalidateCalendar);}this._sUsedDisplayPattern=undefined;this._sUsedDisplayCalendarType=undefined;this._oDisplayFormat=undefined;this._sUsedValuePattern=undefined;this._sUsedValueCalendarType=undefined;this._oValueFormat=undefined;};s.prototype.invalidate=function(O){if(!O||O!=this._getCalendar()){C.prototype.invalidate.apply(this,arguments);this._iInvalidateCalendar=setTimeout(z.bind(this),0);}};s.prototype.onBeforeRendering=function(){a.prototype.onBeforeRendering.apply(this,arguments);this._checkMinMaxDate();var V=this._getValueHelpIcon();if(V){V.setProperty("visible",this.getEditable(),true);}};s.prototype.setWidth=function(W){return I.prototype.setWidth.call(this,W||"100%");};s.prototype.getWidth=function(W){return this.getProperty("width")||"100%";};s.prototype.applyFocusInfo=function(F){this._bFocusNoPopup=true;if(!D.support.touch||D.system.desktop){I.prototype.applyFocusInfo.apply(this,arguments);}};s.prototype.onfocusin=function(i){if(!q(i.target).hasClass("sapUiIcon")){I.prototype.onfocusin.apply(this,arguments);}this._bFocusNoPopup=undefined;};s.prototype.onsapshow=function(i){this.toggleOpen(this.isOpen());i.preventDefault();};s.prototype.onsaphide=s.prototype.onsapshow;s.prototype.onsappageup=function(i){var A=this._getCalendarConstructor().getMetadata().getName();i.preventDefault();if(A!="sap.ui.unified.Calendar"){return;}this._increaseDate(1,"day");};s.prototype.onsappageupmodifiers=function(i){var A=this._getCalendarConstructor().getMetadata().getName();i.preventDefault();if(!i.ctrlKey&&i.shiftKey){if(A=="sap.ui.unified.internal.CustomYearPicker"){return;}this._increaseDate(1,"month");}else{this._increaseDate(1,"year");}};s.prototype.onsappagedown=function(i){var A=this._getCalendarConstructor().getMetadata().getName();i.preventDefault();if(A!="sap.ui.unified.Calendar"){return;}this._increaseDate(-1,"day");};s.prototype.onsappagedownmodifiers=function(i){var A=this._getCalendarConstructor().getMetadata().getName();i.preventDefault();if(!i.ctrlKey&&i.shiftKey){if(A=="sap.ui.unified.internal.CustomYearPicker"){return;}this._increaseDate(-1,"month");}else{this._increaseDate(-1,"year");}};s.prototype.onkeypress=function(i){if(!i.charCode||i.metaKey||i.ctrlKey){return;}var F=this._getFormatter(true);var A=String.fromCharCode(i.charCode);if(A&&F.sAllowedCharacters&&F.sAllowedCharacters.indexOf(A)<0){i.preventDefault();}};s.prototype._getValueHelpIcon=function(){var V=this.getAggregation("_endIcon");return V&&V[0];};s.prototype._dateValidation=function(i){this._bValid=true;if(i&&(i.getTime()<this._oMinDate.getTime()||i.getTime()>this._oMaxDate.getTime())){this._bValid=false;e(this._bValid,"Date must be in valid range");}this.setProperty("dateValue",i);return i;};s.prototype.setMinDate=function(i){if(!this._isValidDate(i)){throw new Error("Date must be a JavaScript date object; "+this);}if(d(this.getMinDate(),i)){return this;}if(i){var Y=i.getFullYear();if(Y<1||Y>9999){throw new Error("Date must be between 0001-01-01 and 9999-12-31; "+this);}this._oMinDate=new Date(i.getTime());var A=this.getDateValue();if(A&&A.getTime()<i.getTime()){this._bValid=false;L.warning("DateValue not in valid date range",this);}}else{this._oMinDate=new Date(1,0,1);this._oMinDate.setFullYear(1);}this.setProperty("minDate",i);if(this._getCalendar()){this._getCalendar().setMinDate(i);}this._oMinDate.setHours(0,0,0,0);return this;};s.prototype.setMaxDate=function(i){if(!this._isValidDate(i)){throw new Error("Date must be a JavaScript date object; "+this);}if(d(this.getMaxDate(),i)){return this;}if(i){var Y=i.getFullYear();if(Y<1||Y>9999){throw new Error("Date must be between 0001-01-01 and 9999-12-31; "+this);}this._oMaxDate=new Date(i.getTime());var A=this.getDateValue();if(A&&A.getTime()>i.getTime()){this._bValid=false;L.warning("DateValue not in valid date",this);}}else{this._oMaxDate=new Date(9999,11,31,23,59,59,999);}this.setProperty("maxDate",i);if(this._getCalendar()){this._getCalendar().setMaxDate(i);}this._oMaxDate.setHours(23,59,59,999);return this;};s.prototype._checkMinMaxDate=function(){if(this._oMinDate.getTime()>this._oMaxDate.getTime()){L.warning("minDate > MaxDate -> dates switched",this);var M=new Date(this._oMinDate.getTime());var i=new Date(this._oMaxDate.getTime());this._oMinDate=new Date(i.getTime());this._oMaxDate=new Date(M.getTime());this.setProperty("minDate",i,true);this.setProperty("maxDate",M,true);if(this._getCalendar()){this._getCalendar().setMinDate(i);this._getCalendar().setMaxDate(M);}}var A=this.getDateValue();if(A&&(A.getTime()<this._oMinDate.getTime()||A.getTime()>this._oMaxDate.getTime())){this._bValid=false;L.error("dateValue "+A.toString()+"(value="+this.getValue()+") does not match "+"min/max date range("+this._oMinDate.toString()+" - "+this._oMaxDate.toString()+"). App. "+"developers should take care to maintain dateValue/value accordingly.",this);}};s.prototype.getDisplayFormatType=function(){return this.getProperty("displayFormatType");};s.prototype._handleDateValidation=function(i){this._bValid=true;if(!i||i.getTime()<this._oMinDate.getTime()||i.getTime()>this._oMaxDate.getTime()){this._bValid=false;L.warning("Value can not be converted to a valid date",this);}var V=this._formatValue(i,true);if(V!==this.getValue()){this.setLastValue(V);}this.setProperty("value",V);this.setProperty("dateValue",i);};s.prototype.setDisplayFormatType=function(i){if(i){var F=false;for(var T in p){if(T==i){F=true;break;}}if(!F){throw new Error(i+" is not a valid calendar type"+this);}}this.setProperty("displayFormatType",i,true);this.setDisplayFormat(this.getDisplayFormat());return this;};s.prototype.setSecondaryCalendarType=function(i){this._bSecondaryCalendarTypeSet=true;this.setProperty("secondaryCalendarType",i,true);if(this._getCalendar()){this._getCalendar().setSecondaryCalendarType(i);}return this;};s.prototype.setShowFooter=function(F){var P=this._oPopup,i=this._getCalendar();this.setProperty("showFooter",F);if(!P||!i){return this;}P._getButtonFooter().setVisible(F);return this;};s.prototype.addSpecialDate=function(S){y.call(this,S);this.addAggregation("specialDates",S,true);z.call(this);return this;};s.prototype.insertSpecialDate=function(S,i){y.call(this,S);this.insertAggregation("specialDates",S,i,true);z.call(this);return this;};s.prototype.removeSpecialDate=function(S){var i=this.removeAggregation("specialDates",S,true);z.call(this);return i;};s.prototype.removeAllSpecialDates=function(){var i=this.removeAllAggregation("specialDates",true);z.call(this);return i;};s.prototype.destroySpecialDates=function(){this.destroyAggregation("specialDates",true);z.call(this);return this;};s.prototype.setLegend=function(i){this.setAssociation("legend",i,true);var A=this.getLegend();if(A){var F=sap.ui.require("sap/ui/unified/CalendarLegend");i=sap.ui.getCore().byId(A);if(i&&!(typeof F=="function"&&i instanceof F)){throw new Error(i+" is not an sap.ui.unified.CalendarLegend. "+this);}}if(this._getCalendar()){this._getCalendar().setLegend(A);}return this;};s.prototype.onChange=function(i){if(!this.getEditable()||!this.getEnabled()){return;}var V=this._$input.val(),O=this._formatValue(this.getDateValue()),A;if(V==O&&this._bValid){return;}if(this.getShowFooter()&&this._oPopup&&!V){this._oPopup.getBeginButton().setEnabled(false);}this._bValid=true;if(V!=""){A=this._parseValue(V,true);if(!A||A.getTime()<this._oMinDate.getTime()||A.getTime()>this._oMaxDate.getTime()){this._bValid=false;A=undefined;}else{V=this._formatValue(A);}}if(this.getDomRef()&&(this._$input.val()!==V)){this._$input.val(V);this._curpos=this._$input.cursorPos();}if(A){V=this._formatValue(A,true);}if(this.getLastValue()!==V||(A&&this.getDateValue()&&A.getFullYear()!==this.getDateValue().getFullYear())){this.setLastValue(V);this.setProperty("value",V,true);var N=this.getValue();if(this._bValid&&V==N){this.setProperty("dateValue",A,true);}V=N;if(this.isOpen()){if(this._bValid){A=this.getDateValue();}this._getCalendar().focusDate(A);var S=this._oDateRange.getStartDate();if((!S&&A)||(S&&A&&S.getTime()!=A.getTime())){this._oDateRange.setStartDate(new Date(A.getTime()));}else if(S&&!A){this._oDateRange.setStartDate(undefined);}}this.fireChangeEvent(V,{valid:this._bValid});}};s.prototype._getInputValue=function(V){V=(typeof V=="undefined")?this._$input.val():V.toString();var i=this._parseValue(V,true);V=this._formatValue(i,true);return V;};s.prototype.updateDomValue=function(V){if(this.isActive()&&(this._$input.val()!==V)){this._bCheckDomValue=true;V=(typeof V=="undefined")?this._$input.val():V.toString();this._curpos=this._$input.cursorPos();var i=this._parseValue(V,true);V=this._formatValue(i);this._$input.val(V);if(document.activeElement===this._$input[0]){this._$input.cursorPos(this._curpos);}}return this;};s.prototype._storeInputSelection=function(i){if((D.browser.msie||D.browser.edge)&&!D.support.touch){this._oInputSelBeforePopupOpen={iStart:i.selectionStart,iEnd:i.selectionEnd};i.selectionStart=0;i.selectionEnd=0;}};s.prototype._restoreInputSelection=function(i){if((D.browser.msie||D.browser.edge)&&!D.support.touch){i.selectionStart=this._oInputSelBeforePopupOpen.iStart;i.selectionEnd=this._oInputSelBeforePopupOpen.iEnd;}};function _(){this._createPopup();this._createPopupContent();var i;var A=this.getBinding("value");if(A&&A.oType&&A.oType.oOutputFormat){i=A.oType.oOutputFormat.oFormatOptions.calendarType;}else if(A&&A.oType&&A.oType.oFormat){i=A.oType.oFormat.oFormatOptions.calendarType;}if(!i){i=this.getDisplayFormatType();}if(i){this._getCalendar().setPrimaryCalendarType(i);}var V=this._bValid?this._formatValue(this.getDateValue()):this.getValue();if(V!=this._$input.val()){this.onChange();}this._fillDateRange();this._openPopup();this.fireNavigate({dateRange:this._getVisibleDatesRange(this._getCalendar()),afterPopupOpened:true});}s.prototype._createPopup=function(){var T="";if(!this._oPopup){this._oPopup=new R(this.getId()+"-RP",{showCloseButton:false,showArrow:false,showHeader:false,placement:l.PlacementType.VerticalPreferedBottom,beginButton:new B({type:l.ButtonType.Emphasized,text:r.getText("DATEPICKER_SELECTION_CONFIRM"),press:this._handleOKButton.bind(this)}),afterOpen:v.bind(this),afterClose:w.bind(this)}).addStyleClass("sapMRPCalendar");if(this.getShowFooter()){this._oPopup.addStyleClass("sapMLandscapePadding");}this._oPopup._getPopup().setAutoClose(true);if(D.system.phone){T=o.getReferencingLabels(this).concat(this.getAriaLabelledBy()).reduce(function(A,i){var F=E.registry.get(i);return A+" "+(F.getText?F.getText():"");},"").trim();this._oPopup.setTitle(T);this._oPopup.setShowHeader(true);this._oPopup.setShowCloseButton(true);}else{this._oPopup._getPopup().setDurations(0,0);this._oPopup.setEndButton(new B({text:r.getText("DATEPICKER_SELECTION_CANCEL"),press:this._handleCancelButton.bind(this)}));}this.setAggregation("_popup",this._oPopup,true);}};s.prototype._openPopup=function(){if(!this._oPopup){return;}this._storeInputSelection(this._$input.get(0));this._oPopup._getPopup().setAutoCloseAreas([this.getDomRef()]);this._oPopup.openBy(this);};s.prototype._getVisibleDatesRange=function(i){var V=i._getVisibleDays();return new j({startDate:V[0].toLocalJSDate(),endDate:V[V.length-1].toLocalJSDate()});};s.prototype._createPopupContent=function(){var i=this._getCalendarConstructor();if(!this._getCalendar()){this._oCalendar=new i(this.getId()+"-cal",{intervalSelection:this._bIntervalSelection,minDate:this.getMinDate(),maxDate:this.getMaxDate(),legend:this.getLegend(),startDateChange:function(){this.fireNavigate({dateRange:this._getVisibleDatesRange(this._getCalendar())});}.bind(this)});this._oDateRange=new j();this._getCalendar().addSelectedDate(this._oDateRange);this._getCalendar()._setSpecialDatesControlOrigin(this);this._getCalendar().attachCancel(t,this);this._getCalendar().setPopupMode(true);if(this.$().closest(".sapUiSizeCompact").length>0){this._getCalendar().addStyleClass("sapUiSizeCompact");}if(this._bSecondaryCalendarTypeSet){this._getCalendar().setSecondaryCalendarType(this.getSecondaryCalendarType());}if(this._bOnlyCalendar){this._getCalendar().attachSelect(this._handleCalendarSelect,this);this._getCalendar().attachEvent("_renderMonth",x,this);this._oPopup._getButtonFooter().setVisible(this.getShowFooter());this._getCalendar()._bSkipCancelButtonRendering=true;this._oPopup.addContent(this._getCalendar());if(!this.getDateValue()){this._oPopup.getBeginButton().setEnabled(false);}}this._oCalendarAfterRenderDelegate={onAfterRendering:function(){this._oCalendar.focus();}.bind(this)};this._oCalendar.addDelegate(this._oCalendarAfterRenderDelegate);}};s.prototype._getCalendarConstructor=function(){var P=this._getFormatter(true).aFormatArray.map(function(A){return A.type.toLowerCase();}),i=P.indexOf("day")>=0,M=P.indexOf("month")>=0||P.indexOf("monthstandalone")>=0,Y=P.indexOf("year")>=0;if(i&&M&&Y){return h;}else if(M&&Y){return m;}else if(Y){return n;}else{L.warning("Not valid date pattern! Default Calendar constructor function is returned",this);return h;}};s.prototype._fillDateRange=function(){var i=this.getDateValue();if(i&&i.getTime()>=this._oMinDate.getTime()&&i.getTime()<=this._oMaxDate.getTime()){this._getCalendar().focusDate(new Date(i.getTime()));if(!this._oDateRange.getStartDate()||this._oDateRange.getStartDate().getTime()!=i.getTime()){this._oDateRange.setStartDate(new Date(i.getTime()));}}else{var A=this.getInitialFocusedDateValue();var F=A?A:new Date();var M=this._oMaxDate.getTime();if(F.getTime()<this._oMinDate.getTime()||F.getTime()>M){F=this._oMinDate;}this._getCalendar().focusDate(F);if(this._oDateRange.getStartDate()){this._oDateRange.setStartDate(undefined);}}};s.prototype.getAccessibilityInfo=function(){var i=this.getRenderer();var A=I.prototype.getAccessibilityInfo.apply(this,arguments);var V=this.getValue()||"";if(this._bValid){var F=this.getDateValue();if(F){V=this._formatValue(F);}}A.type=r.getText("ACC_CTR_TYPE_DATEINPUT");A.description=[V,i.getLabelledByAnnouncement(this),i.getDescribedByAnnouncement(this)].join(" ").trim();return A;};s.prototype._selectDate=function(){var i=this.getDateValue(),A=this._getSelectedDate(),V="";if(!d(A,i)){this.setDateValue(new Date(A.getTime()));V=this.getValue();this.fireChangeEvent(V,{valid:true});this._focusInput();}else if(!this._bValid){V=this._formatValue(A);if(V!=this._$input.val()){this._bValid=true;if(this.getDomRef()){this._$input.val(V);this.setLastValue(V);}V=this._formatValue(A,true);this.setProperty("value",V,true);this.fireChangeEvent(V,{valid:true});this._focusInput();}}else if(D.system.desktop||!D.support.touch){this.focus();}this._oPopup.close();};s.prototype._handleCalendarSelect=function(){if(this.getShowFooter()){this._oPopup.getBeginButton().setEnabled(true);return;}this._selectDate();};s.prototype._focusInput=function(){if(this.getDomRef()&&(D.system.desktop||!D.support.touch)){this._curpos=this._$input.val().length;this._$input.cursorPos(this._curpos);}return this;};s.prototype._getCalendar=function(){return this._oCalendar;};s.prototype._getSelectedDate=function(){var S=this._getCalendar().getSelectedDates(),i;if(S.length>0){i=S[0].getStartDate();}return i;};s.prototype._handleOKButton=function(){this._selectDate();};s.prototype._handleCancelButton=function(){if(!this.getDateValue()){this._oPopup.getBeginButton().setEnabled(false);}this._oPopup.close();};function t(i){if(this.isOpen()){this._oPopup.close();if((D.system.desktop||!D.support.touch)){this.focus();}}}s.prototype._increaseDate=function(N,i){var O=this.getDateValue();var A=this._$input.cursorPos();if(O&&this.getEditable()&&this.getEnabled()){var F;var G=this.getBinding("value");if(G&&G.oType&&G.oType.oOutputFormat){F=G.oType.oOutputFormat.oFormatOptions.calendarType;}else if(G&&G.oType&&G.oType.oFormat){F=G.oType.oFormat.oFormatOptions.calendarType;}if(!F){F=this.getDisplayFormatType();}var H=U.getInstance(new Date(O.getTime()),F);O=U.getInstance(new Date(O.getTime()),F);switch(i){case"day":H.setDate(H.getDate()+N);break;case"month":H.setMonth(H.getMonth()+N);var M=(O.getMonth()+N)%12;if(M<0){M=12+M;}while(H.getMonth()!=M){H.setDate(H.getDate()-1);}break;case"year":H.setFullYear(H.getFullYear()+N);while(H.getMonth()!=O.getMonth()){H.setDate(H.getDate()-1);}break;default:break;}if(H.getTime()<this._oMinDate.getTime()){H=new U(this._oMinDate.getTime());}else if(H.getTime()>this._oMaxDate.getTime()){H=new U(this._oMaxDate.getTime());}if(!d(this.getDateValue(),H.getJSDate())){this.setDateValue(new Date(H.getTime()));this._curpos=A;this._$input.cursorPos(this._curpos);var V=this.getValue();this.fireChangeEvent(V,{valid:true});}}};s.prototype._getSpecialDates=function(){var A=this.getSpecialDates();for(var i=0;i<A.length;i++){var N=A[i].getSecondaryType()===u.CalendarDayType.NonWorking&&A[i].getType()!==u.CalendarDayType.NonWorking;if(N){var F=new k();F.setType(A[i].getSecondaryType());F.setStartDate(A[i].getStartDate());if(A[i].getEndDate()){F.setEndDate(A[i].getEndDate());}A.push(F);}}return A;};function v(){this.addStyleClass(I.ICON_PRESSED_CSS_CLASS);this._renderedDays=this._getCalendar().$("-Month0-days").find(".sapUiCalItem").length;this.$("inner").attr("aria-owns",this.getId()+"-cal");this.$("inner").attr("aria-expanded",true);g.addPopoverInstance(this._oPopup);}function w(){if(!this.getDateValue()){this._oPopup.getBeginButton().setEnabled(false);}this.removeStyleClass(I.ICON_PRESSED_CSS_CLASS);this.$("inner").attr("aria-expanded",false);this._restoreInputSelection(this._$input.get(0));this._getCalendar()._closePickers();g.removePopoverInstance(this._oPopup);}function x(i){var A=i.getParameter("days"),P=this._oPopup._getPopup();if(A>this._renderedDays){this._renderedDays=A;P._applyPosition(P._oLastPosition);}}function y(S){var k=sap.ui.require("sap/ui/unified/DateTypeRange");if(S&&!(k&&S instanceof k)){throw new Error(S+"is not valid for aggregation \"specialDates\" of "+this);}}function z(){if(this.isOpen()){this._getCalendar()._bDateRangeChanged=false;this._getCalendar().invalidate();}}return s;});
},
	"sap/m/DateRangeSelection.js":function(){sap.ui.getCore().loadLibrary("sap.ui.unified");sap.ui.define(['sap/ui/Device','./DatePicker','./library','sap/ui/core/LocaleData','sap/ui/core/format/DateFormat','sap/ui/core/date/UniversalDate','./DateRangeSelectionRenderer',"sap/ui/unified/calendar/CustomMonthPicker","sap/ui/unified/calendar/CustomYearPicker","sap/base/util/deepEqual","sap/base/Log","sap/base/assert","sap/ui/dom/jquery/cursorPos"],function(D,a,l,L,b,U,c,C,d,f,g,h){"use strict";var j=a.extend("sap.m.DateRangeSelection",{metadata:{library:"sap.m",properties:{delimiter:{type:"string",group:"Misc",defaultValue:'-'},secondDateValue:{type:"object",group:"Data",defaultValue:null},from:{type:"object",group:"Misc",defaultValue:null,deprecated:true},to:{type:"object",group:"Misc",defaultValue:null,deprecated:true}},designtime:"sap/m/designtime/DateRangeSelection.designtime",dnd:{draggable:false,droppable:true}}});var H=String.fromCharCode(45),E=String.fromCharCode(8211),k=String.fromCharCode(8212);j.prototype.init=function(){a.prototype.init.apply(this,arguments);this._bIntervalSelection=true;};j.prototype._createPopupContent=function(){a.prototype._createPopupContent.apply(this,arguments);var e=this._getCalendar();if(e instanceof C){e._getMonthPicker().setIntervalSelection(true);}if(e instanceof d){e._getYearPicker().setIntervalSelection(true);}this._getCalendar().attachWeekNumberSelect(this._handleWeekSelect,this);this._getCalendar().getSelectedDates()[0].setStartDate(this._oDateRange.getStartDate());this._getCalendar().getSelectedDates()[0].setEndDate(this._oDateRange.getEndDate());};j.prototype.onkeypress=function(e){if(!e.charCode||e.metaKey||e.ctrlKey){return;}var F=r.call(this);var i=q.call(this);var A=F.sAllowedCharacters+i+" ";var v=String.fromCharCode(e.charCode);if(v&&F.sAllowedCharacters&&A.indexOf(v)<0){e.preventDefault();}};j.prototype._getPlaceholder=function(){var P=this.getPlaceholder(),B,e,i,v;if(!P){B=this.getBinding("value");i=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();v=L.getInstance(i);if(B&&B.getType()instanceof sap.ui.model.type.DateInterval){e=B.getType();if(e.oFormatOptions&&e.oFormatOptions.format){P=v.getCustomDateTimePattern(e.oFormatOptions.format);}else{P=v.getDatePattern("medium");}}else{P=this.getDisplayFormat();if(!P){P="medium";}if(this._checkStyle(P)){P=v.getDatePattern(P);}}var w=q.call(this);if(w&&w!==""){P=P+" "+w+" "+P;}}return P;};j.prototype.setValue=function(v){if(v!==this.getValue()){this.setLastValue(v);}else{return this;}this.setProperty("value",v);this._bValid=true;var e=[undefined,undefined];if(v){e=this._parseValue(v);if(!o.call(this,e[0],e[1])[0]){this._bValid=false;g.warning("Value can not be converted to a valid dates",this);}}this.setProperty("dateValue",_(e[0]));this.setProperty("secondDateValue",_(e[1]));if(this.getDomRef()){var O=this._formatValue(e[0],e[1]);if(this._$input.val()!==O){this._$input.val(O);this._curpos=this._$input.cursorPos();}}return this;};function _(B){return(typeof B==='number')?new Date(B):B;}function m(B){return(B&&B.getTime)?B.getTime():B;}j.prototype.setValueFormat=function(v){this.setProperty("valueFormat",v,true);g.warning("Property valueFormat is not supported in sap.m.DateRangeSelection control.",this);return this;};j.prototype.setDisplayFormat=function(e){this.setProperty("displayFormat",e,true);var O=this._formatValue(this.getDateValue(),this.getSecondDateValue());this.setProperty("value",O,true);if(this.getDomRef()&&(this._$input.val()!==O)){this._$input.val(O);this._curpos=this._$input.cursorPos();}return this;};j.prototype.setFrom=function(F){this.setDateValue(F);return this;};j.prototype.getFrom=function(){return this.getDateValue();};j.prototype.setTo=function(T){this.setSecondDateValue(T);return this;};j.prototype.getTo=function(){return this.getSecondDateValue();};j.prototype.setDateValue=function(e){if(!this._isValidDate(e)){throw new Error("Date must be a JavaScript date object; "+this);}if(f(this.getDateValue(),e)){return this;}a.prototype._dateValidation.call(this,e);this._syncDateObjectsToValue(e,this.getSecondDateValue());return this;};j.prototype.setSecondDateValue=function(S){if(!this._isValidDate(S)){throw new Error("Date must be a JavaScript date object; "+this);}if(f(this.getSecondDateValue(),S)){return this;}this._bValid=true;if(S&&(S.getTime()<this._oMinDate.getTime()||S.getTime()>this._oMaxDate.getTime())){this._bValid=false;h(this._bValid,"Date must be in valid range");}this.setProperty("secondDateValue",S);this._syncDateObjectsToValue(this.getDateValue(),S);return this;};j.prototype.setMinDate=function(e){a.prototype.setMinDate.apply(this,arguments);if(e){var S=this.getSecondDateValue();if(S&&S.getTime()<this._oMinDate.getTime()){g.warning("SecondDateValue not in valid date range",this);}}return this;};j.prototype.setMaxDate=function(e){a.prototype.setMaxDate.apply(this,arguments);if(e){var S=this.getSecondDateValue();if(S&&S.getTime()>this._oMaxDate.getTime()){g.warning("SecondDateValue not in valid date range",this);}}return this;};j.prototype._checkMinMaxDate=function(){a.prototype._checkMinMaxDate.apply(this,arguments);var S=this.getSecondDateValue();if(S&&(S.getTime()<this._oMinDate.getTime()||S.getTime()>this._oMaxDate.getTime())){g.error("secondDateValue "+S.toString()+"(value="+this.getValue()+") does not match "+"min/max date range("+this._oMinDate.toString()+" - "+this._oMaxDate.toString()+"). App. "+"developers should take care to maintain secondDateValue/value accordingly.",this);}};j.prototype._parseValue=function(v){var F;var i=[];var w,x;var B=this.getBinding("value");if(B&&B.getType()instanceof sap.ui.model.type.DateInterval){try{i=B.getType().parseValue(v,"string");}catch(e){return[undefined,undefined];}if(B.getType().oFormatOptions&&B.getType().oFormatOptions.UTC){i=i.map(function(A){return new Date(A.getUTCFullYear(),A.getUTCMonth(),A.getUTCDate(),A.getUTCHours(),A.getUTCMinutes(),A.getUTCSeconds());});}return i;}var y=q.call(this);if(y&&v){v=v.trim();v=u(v,[y," "]);i=this._splitValueByDelimiter(v,y);if(i.length===2){if(i[0].slice(i[0].length-1,i[0].length)==" "){i[0]=i[0].slice(0,i[0].length-1);}if(i[1].slice(0,1)==" "){i[1]=i[1].slice(1);}}else{i=v.split(" "+y+" ");}if(v.indexOf(y)===-1){var z=v.split(" ");if(z.length===2){i=z;}}}if(v&&i.length<=2){F=r.call(this);if((!y||y==="")||i.length===1){w=F.parse(v);}else if(i.length===2){w=F.parse(i[0]);x=F.parse(i[1]);if(!w||!x){w=undefined;x=undefined;}}}return[w,x];};j.prototype._splitValueByDelimiter=function(v,e){var w=[H,E,k],i;if(e){if(w.indexOf(e)===-1){return v.split(e);}}for(i=0;i<w.length;i++){if(v.indexOf(w[i])>0){return v.split(w[i]);}}return v?v.split(" "):[];};j.prototype._formatValue=function(e,S){var v="",i=q.call(this),F,B,w,x;w=e;x=S;if(w){B=this.getBinding("value");if(B&&B.getType()instanceof sap.ui.model.type.DateInterval){if(B.getType().oFormatOptions&&B.getType().oFormatOptions.source&&B.getType().oFormatOptions.source.pattern==="timestamp"){v=B.getType().formatValue([m(e),m(S)],"string");}else{if(B.getType().oFormatOptions&&B.getType().oFormatOptions.UTC){w=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()));if(S){x=new Date(Date.UTC(S.getFullYear(),S.getMonth(),S.getDate(),S.getHours(),S.getMinutes(),S.getSeconds()));}}v=B.getType().formatValue([w,x],"string");}}else{F=r.call(this);if(i&&i!==""&&x){v=F.format(w)+" "+i+" "+F.format(x);}else{v=F.format(w);}}}return v;};j.prototype.onChange=function(){if(!this.getEditable()||!this.getEnabled()){return;}var v=this._$input.val();var e=[undefined,undefined];if(this.getShowFooter()&&this._oPopup&&!v){this._oPopup.getBeginButton().setEnabled(false);}this._bValid=true;if(v!=""){e=this._parseValue(v);e[1]&&e[1].setHours(23,59,59,999);e=o.call(this,e[0],e[1]);if(e[0]){v=this._formatValue(e[0],e[1]);}else{this._bValid=false;}}if(v!==this.getLastValue()){if(this.getDomRef()&&(this._$input.val()!==v)){this._$input.val(v);this._curpos=this._$input.cursorPos();}this.setLastValue(v);this.setProperty("value",v,true);if(this._bValid){this.setProperty("dateValue",_(e[0]),true);this.setProperty("secondDateValue",_(e[1]),true);}if(this._oPopup&&this._oPopup.isOpen()){var S=this.getDateValue();if(S){if(!this._oDateRange.getStartDate()||this._oDateRange.getStartDate().getTime()!==S.getTime()){this._oDateRange.setStartDate(new Date(S.getTime()));this._getCalendar().focusDate(S);}}else{if(this._oDateRange.getStartDate()){this._oDateRange.setStartDate(undefined);}}var i=this.getSecondDateValue();if(i){if(!this._oDateRange.getEndDate()||this._oDateRange.getEndDate().getTime()!==i.getTime()){this._oDateRange.setEndDate(new Date(i.getTime()));this._getCalendar().focusDate(i);}}else{if(this._oDateRange.getEndDate()){this._oDateRange.setEndDate(undefined);}}}n.call(this,this._bValid);}};j.prototype._getInputValue=function(v){v=(typeof v=="undefined")?this._$input.val():v.toString();if(!v){return"";}var e=this._parseValue(v);v=this._formatValue(e[0],e[1]);return v;};j.prototype.updateDomValue=function(v){this._bCheckDomValue=true;v=(typeof v=="undefined")?this._$input.val():v.toString();this._curpos=this._$input.cursorPos();var e=this._parseValue(v);v=this._formatValue(e[0],e[1]);if(this.isActive()&&(this._$input.val()!==v)){this._$input.val(v);this._$input.cursorPos(this._curpos);}return this;};j.prototype._fillDateRange=function(){a.prototype._fillDateRange.apply(this,arguments);var e=this.getSecondDateValue();if(e&&e.getTime()>=this._oMinDate.getTime()&&e.getTime()<=this._oMaxDate.getTime()){if(!this._oDateRange.getEndDate()||this._oDateRange.getEndDate().getTime()!==e.getTime()){this._oDateRange.setEndDate(new Date(e.getTime()));}}else{if(this._oDateRange.getEndDate()){this._oDateRange.setEndDate(undefined);}}};j.prototype._selectDate=function(){var S=this._getCalendar().getSelectedDates();if(S.length>0){var e=S[0].getStartDate();var i=S[0].getEndDate();if(e&&i){var v=this.getDateValue();var w=this.getSecondDateValue();i.setHours(23,59,59,999);var V;if(!f(e,v)||!f(i,w)){if(f(i,w)){this.setDateValue(e);}else{this.setProperty("dateValue",e,true);this.setSecondDateValue(i);}V=this.getValue();n.call(this,true);if(D.system.desktop||!D.support.touch){this._curpos=V.length;this._$input.cursorPos(this._curpos);}}else if(!this._bValid){V=this._formatValue(e,i);if(V!=this._$input.val()){this._bValid=true;if(this.getDomRef()){this._$input.val(V);}n.call(this,true);}}this._oDateRange.setStartDate(this._getCalendar().getSelectedDates()[0].getStartDate());this._oDateRange.setEndDate(this._getCalendar().getSelectedDates()[0].getEndDate());this._oPopup.close();}}};j.prototype._handleCalendarSelect=function(){var S=this._getCalendar().getSelectedDates(),e=S[0].getStartDate(),i=S[0].getEndDate();if(this.getShowFooter()){this._oPopup.getBeginButton().setEnabled(!!(e&&i));return;}this._selectDate();};j.prototype._handleWeekSelect=function(e){var S=e.getParameter("weekDays"),i=S.getStartDate(),v=S.getEndDate();if(this.getShowFooter()){this._oPopup.getBeginButton().setEnabled(!!(i&&v));return;}this._getCalendar().getSelectedDates()[0].setStartDate(i);this._getCalendar().getSelectedDates()[0].setEndDate(v);this._oDateRange.setStartDate(i);this._oDateRange.setEndDate(v);this._selectDate();};j.prototype.getAccessibilityInfo=function(){var R=this.getRenderer();var i=a.prototype.getAccessibilityInfo.apply(this,arguments);var v=this.getValue()||"";if(this._bValid){var e=this.getDateValue();if(e){v=this._formatValue(e,this.getSecondDateValue());}}i.type=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_DATERANGEINPUT");i.description=[v,R.getLabelledByAnnouncement(this),R.getDescribedByAnnouncement(this)].join(" ").trim();return i;};j.prototype._syncDateObjectsToValue=function(e,S){var v=this._formatValue(e,S);if(v!==this.getValue()){this.setLastValue(v);}this.setProperty("value",v);if(this.getDomRef()){var O=this._formatValue(e,S);if(this._$input.val()!==O){this._$input.val(O);this._curpos=this._$input.cursorPos();}}};function n(v){this.fireChangeEvent(this.getValue(),{from:this.getDateValue(),to:this.getSecondDateValue(),valid:v});}function o(e,S){var F,i;if(e&&e.getTime){F=e.getTime();}else if(typeof e==='number'){F=e;}if(S&&S.getTime){i=S.getTime();}else if(typeof S==='number'){i=S;}if(e&&S&&F>i){var T=e;e=S;S=T;}if((e&&(F<this._oMinDate.getTime()||F>this._oMaxDate.getTime()))||(S&&(i<this._oMinDate.getTime()||i>this._oMaxDate.getTime()))){return[undefined,undefined];}else{return[e,S];}}j.prototype._increaseDate=function(N,e){var v=this._$input.val(),i=this._parseValue(v),F=i[0],S=i[1],w=r.call(this),x=q.call(this),y,z,A,V,B,G,I;if(!F||!this.getEditable()||!this.getEnabled()){return;}if(!o.call(this,F,S)[0]){g.warning("Value can not be converted to a valid dates or dates are outside of the min/max range",this);this._bValid=false;n.call(this,this._bValid);return;}v=u(v,[x," "]);y=this._$input.cursorPos();z=F?w.format(F).length:0;A=S?w.format(S).length:0;V=v.length;B=y<=z+1;G=y>=V-A-1&&y<=V;if(B&&F){I=p.call(this,F,N,e);if(!f(this.getDateValue(),I.getJSDate())){this.setDateValue(new Date(I.getTime()));this._curpos=y;this._$input.cursorPos(this._curpos);this.fireChangeEvent(this.getValue(),{valid:this._bValid});}}else if(G&&S){I=p.call(this,S,N,e);if(!f(this.getSecondDateValue(),I.getJSDate())){this.setSecondDateValue(new Date(I.getTime()));this._curpos=y;this._$input.cursorPos(this._curpos);this.fireChangeEvent(this.getValue(),{valid:this._bValid});}}};function p(O,N,e){var B=this.getBinding("value"),i,M,v,w;if(B&&B.oType&&B.oType.oOutputFormat){i=B.oType.oOutputFormat.oFormatOptions.calendarType;}else if(B&&B.oType&&B.oType.oFormat){i=B.oType.oFormat.oFormatOptions.calendarType;}if(!i){i=this.getDisplayFormatType();}v=U.getInstance(new Date(O.getTime()),i);w=v.getMonth();switch(e){case"day":v.setDate(v.getDate()+N);break;case"month":v.setMonth(v.getMonth()+N);M=(w+N)%12;if(M<0){M=12+M;}while(v.getMonth()!=M){v.setDate(v.getDate()-1);}break;case"year":v.setFullYear(v.getFullYear()+N);while(v.getMonth()!=w){v.setDate(v.getDate()-1);}break;default:break;}if(v.getTime()<this._oMinDate.getTime()){v=new U(this._oMinDate.getTime());}else if(v.getTime()>this._oMaxDate.getTime()){v=new U(this._oMaxDate.getTime());}return v;}function q(){var e=this.getDelimiter();if(!e){if(!this._sLocaleDelimiter){var i=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();var v=L.getInstance(i);var P=v.getIntervalPattern();var I=P.indexOf("{0}")+3;var w=P.indexOf("{1}");e=P.slice(I,w);if(e.length>1){if(e.slice(0,1)==" "){e=e.slice(1);}if(e.slice(e.length-1,e.length)==" "){e=e.slice(0,e.length-1);}}this._sLocaleDelimiter=e;}else{e=this._sLocaleDelimiter;}}return e;}function r(){var P=(this.getDisplayFormat()||"medium");var F;var e=this.getDisplayFormatType();if(P==this._sUsedDisplayPattern&&e==this._sUsedDisplayCalendarType){F=this._oDisplayFormat;}else{if(this._checkStyle(P)){F=b.getInstance({style:P,strictParsing:true,calendarType:e});}else{F=b.getInstance({pattern:P,strictParsing:true,calendarType:e});}this._sUsedDisplayPattern=P;this._sUsedDisplayCalendarType=e;this._oDisplayFormat=F;}return F;}function s(v,e){return v&&e&&v.lastIndexOf(e)===v.length-e.length;}function t(v,S){return v&&S&&v.indexOf(S)===0;}function u(v,P){var i=0,T=P;if(!T){T=[" "];}while(i<T.length){if(s(v,T[i])){v=v.substring(0,v.length-T[i].length);i=0;continue;}i++;}i=0;while(i<T.length){if(t(v,T[i])){v=v.substring(T[i].length);i=0;continue;}i++;}return v;}return j;});
},
	"sap/m/DateTimePicker.js":function(){sap.ui.getCore().loadLibrary("sap.ui.unified");sap.ui.define(["sap/ui/thirdparty/jquery",'./InputBase','./DatePicker','sap/ui/model/type/Date','sap/ui/unified/DateRange','./library','sap/ui/core/Control','sap/ui/Device','sap/ui/core/format/DateFormat','sap/ui/core/LocaleData','./DateTimePickerRenderer','./TimePickerSliders','./SegmentedButton','./SegmentedButtonItem','./ResponsivePopover','./Button',"sap/ui/events/KeyCodes","sap/ui/core/IconPool"],function(q,I,D,a,b,l,C,c,d,L,e,T,S,f,R,B,K,g){"use strict";var P=l.PlacementType,h=l.ButtonType,k="Phone";var m=D.extend("sap.m.DateTimePicker",{metadata:{library:"sap.m",properties:{minutesStep:{type:"int",group:"Misc",defaultValue:1},secondsStep:{type:"int",group:"Misc",defaultValue:1}},designtime:"sap/m/designtime/DateTimePicker.designtime",dnd:{draggable:false,droppable:true}}});var n={Short:"short",Medium:"medium",Long:"long",Full:"full"};var o=C.extend("sap.m.internal.DateTimePickerPopup",{metadata:{library:"sap.m",aggregations:{_switcher:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},calendar:{type:"sap.ui.core.Control",multiple:false},timeSliders:{type:"sap.ui.core.Control",multiple:false}}},renderer:{apiVersion:2,render:function(i,j){i.openStart("div",j);i.class("sapMDateTimePopupCont").class("sapMTimePickerDropDown");i.openEnd();var v=j.getAggregation("_switcher");if(v){i.openStart("div");i.class("sapMTimePickerSwitch");i.openEnd();i.renderControl(v);i.close("div");}var w=j.getCalendar();if(w){i.renderControl(w);}i.openStart("div");i.class("sapMTimePickerSep");i.openEnd();i.close("div");var x=j.getTimeSliders();if(x){i.renderControl(x);}i.close("div");}},init:function(){},onBeforeRendering:function(){var i=this.getAggregation("_switcher");if(!i){var j=sap.ui.getCore().getLibraryResourceBundle("sap.m");var v=j.getText("DATETIMEPICKER_DATE");var w=j.getText("DATETIMEPICKER_TIME");i=new S(this.getId()+"-Switch",{selectedKey:"Cal",items:[new f(this.getId()+"-Switch-Cal",{key:"Cal",text:v}),new f(this.getId()+"-Switch-Sli",{key:"Sli",text:w})]});i.attachSelect(this._handleSelect,this);this.setAggregation("_switcher",i,true);}if(c.system.phone||q('html').hasClass("sapUiMedia-Std-Phone")){i.setVisible(true);i.setSelectedKey("Cal");}else{i.setVisible(false);}},onAfterRendering:function(){if(c.system.phone||q('html').hasClass("sapUiMedia-Std-Phone")){var i=this.getAggregation("_switcher");var j=i.getSelectedKey();this._switchVisibility(j);}},_handleSelect:function(E){this._switchVisibility(E.getParameter("key"));},_switchVisibility:function(i){var j=this.getCalendar();var v=this.getTimeSliders();if(!j||!v){return;}if(i=="Cal"){j.$().css("display","");v.$().css("display","none");}else{j.$().css("display","none");v.$().css("display","");v._updateSlidersValues();v._onOrientationChanged();v.openFirstSlider();}},switchToTime:function(){var i=this.getAggregation("_switcher");if(i&&i.getVisible()){i.setSelectedKey("Sli");this._switchVisibility("Sli");}},getSpecialDates:function(){return this._oDateTimePicker.getSpecialDates();},onkeydown:function(E){var i=E.keyCode===K.TAB&&!E.shiftKey;var j=E.keyCode===K.TAB&&E.shiftKey;if(i&&E.target.classList.contains('sapUiCalHeadBLast')){this.getAggregation('timeSliders').getDomRef().children[0].focus();}if(j&&E.target.classList.contains('sapUiCalItem')){var v=this.oParent.getAggregation("footer").getAggregation("content").length-1;this.oParent.getAggregation("footer").getAggregation("content")[v].focus();}}});m.prototype.init=function(){D.prototype.init.apply(this,arguments);this._bOnlyCalendar=false;};m.prototype.getIconSrc=function(){return g.getIconURI("date-time");};m.prototype.exit=function(){D.prototype.exit.apply(this,arguments);if(this._oSliders){this._oSliders.destroy();delete this._oSliders;}this._oPopupContent=undefined;c.media.detachHandler(this._handleWindowResize,this);};m.prototype.setDisplayFormat=function(i){D.prototype.setDisplayFormat.apply(this,arguments);if(this._oSliders){this._oSliders.setDisplayFormat(t.call(this));}return this;};m.prototype.setMinutesStep=function(M){this.setProperty('minutesStep',M,true);if(this._oSliders){this._oSliders.setMinutesStep(M);}return this;};m.prototype._getDefaultValueStyle=function(){return n.Medium;};m.prototype.setMinDate=function(i){D.prototype.setMinDate.call(this,i);if(i){this._oMinDate.setHours(i.getHours(),i.getMinutes(),i.getSeconds());}return this;};m.prototype.setMaxDate=function(i){D.prototype.setMaxDate.call(this,i);if(i){this._oMaxDate.setHours(i.getHours(),i.getMinutes(),i.getSeconds());}return this;};m.prototype.setSecondsStep=function(i){this.setProperty('secondsStep',i,true);if(this._oSliders){this._oSliders.setSecondsStep(i);}return this;};m.prototype._getFormatInstance=function(A,i){var M=q.extend({},A);var j=-1;if(M.style){j=M.style.indexOf("/");}if(i){var v=q.extend({},M);if(j>0){v.style=v.style.substr(0,j);}this._oDisplayFormatDate=d.getInstance(v);}return d.getDateTimeInstance(M);};m.prototype._checkStyle=function(v){if(D.prototype._checkStyle.apply(this,arguments)){return true;}else if(v.indexOf("/")>0){var w=[n.Short,n.Medium,n.Long,n.Long];var x=false;for(var i=0;i<w.length;i++){var y=w[i];for(var j=0;j<w.length;j++){var z=w[j];if(v==y+"/"+z){x=true;break;}}if(x){break;}}return x;}return false;};m.prototype._parseValue=function(v,i){var j=D.prototype._parseValue.apply(this,arguments);if(i&&!j){j=this._oDisplayFormatDate.parse(v);if(j){var O=this.getDateValue();if(!O){O=new Date();}j.setHours(O.getHours());j.setMinutes(O.getMinutes());j.setSeconds(O.getSeconds());j.setMilliseconds(O.getMilliseconds());}}return j;};m.prototype._getLocaleBasedPattern=function(i){var j=L.getInstance(sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale()),v=i.indexOf("/");if(v>0){return j.getCombinedDateTimePattern(i.substr(0,v),i.substr(v+1));}else{return j.getCombinedDateTimePattern(i,i);}};m.prototype._createPopup=function(){var i,j,v,O,w,x;if(!this._oPopup){v=sap.ui.getCore().getLibraryResourceBundle("sap.m");O=v.getText("TIMEPICKER_SET");w=v.getText("TIMEPICKER_CANCEL");this._oPopupContent=new o(this.getId()+"-PC");this._oPopupContent._oDateTimePicker=this;this._oOKButton=new B(this.getId()+"-OK",{text:O,type:h.Emphasized,press:_.bind(this)});this._oPopup=new R(this.getId()+"-RP",{showCloseButton:false,showHeader:false,placement:P.VerticalPreferedBottom,beginButton:this._oOKButton,content:this._oPopupContent,afterOpen:r.bind(this),afterClose:s.bind(this)});if(c.system.phone){i=this.$("inner").attr("aria-labelledby");j=i?document.getElementById(i).getAttribute("aria-label"):"";this._oPopup.setTitle(j);this._oPopup.setShowHeader(true);this._oPopup.setShowCloseButton(true);}else{this._oPopup._getPopup().setDurations(0,0);this._oPopup.setEndButton(new B(this.getId()+"-Cancel",{text:w,press:p.bind(this)}));}this._oPopup.addStyleClass("sapMDateTimePopup");x=this._oPopup.getAggregation("_popup");if(x.setShowArrow){x.setShowArrow(false);}this.setAggregation("_popup",this._oPopup,true);}};m.prototype._openPopup=function(){if(!this._oPopup){return;}this.addStyleClass(I.ICON_PRESSED_CSS_CLASS);this._storeInputSelection(this._$input.get(0));var i=this._oPopup.getAggregation("_popup");i.oPopup.setAutoCloseAreas([this.getDomRef()]);this._oPopup.openBy(this);var j=this._oPopup.getContent()[0]&&this._oPopup.getContent()[0].getTimeSliders();if(j){setTimeout(j._updateSlidersValues.bind(j),0);}};m.prototype._createPopupContent=function(){var N=!this._oCalendar;D.prototype._createPopupContent.apply(this,arguments);if(N){this._oPopupContent.setCalendar(this._oCalendar);this._oCalendar.attachSelect(u,this);}if(!this._oSliders){this._oSliders=new T(this.getId()+"-Sliders",{minutesStep:this.getMinutesStep(),secondsStep:this.getSecondsStep(),displayFormat:t.call(this),localeId:this.getLocaleId()})._setShouldOpenSliderAfterRendering(true);this._oPopupContent.setTimeSliders(this._oSliders);}};m.prototype._selectFocusedDateValue=function(i){var j=this._oCalendar;j.removeAllSelectedDates();j.addSelectedDate(i);return this;};m.prototype._fillDateRange=function(){var i=this.getDateValue(),j=true;if(i){i=new Date(i.getTime());this._oOKButton.setEnabled(true);}else{j=false;i=this.getInitialFocusedDateValue();if(!i){i=new Date();this._oCalendar.removeAllSelectedDates();}var M=this._oMaxDate.getTime();if(i.getTime()<this._oMinDate.getTime()||i.getTime()>M){i=this._oMinDate;}this._oOKButton.setEnabled(false);}this._oCalendar.focusDate(i);if(j){if(!this._oDateRange.getStartDate()||this._oDateRange.getStartDate().getTime()!=i.getTime()){this._oDateRange.setStartDate(i);}}this._oSliders._setTimeValues(i);};m.prototype._getSelectedDate=function(){var i=D.prototype._getSelectedDate.apply(this,arguments);if(i){var j=this._oSliders.getTimeValues();var v=this._oSliders._getDisplayFormatPattern();if(v.search("h")>=0||v.search("H")>=0){i.setHours(j.getHours());}if(v.search("m")>=0){i.setMinutes(j.getMinutes());}if(v.search("s")>=0){i.setSeconds(j.getSeconds());}if(i.getTime()<this._oMinDate.getTime()){i=new Date(this._oMinDate.getTime());}else if(i.getTime()>this._oMaxDate.getTime()){i=new Date(this._oMaxDate.getTime());}}return i;};m.prototype.getLocaleId=function(){return sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale().toString();};m.prototype.getAccessibilityInfo=function(){var i=D.prototype.getAccessibilityInfo.apply(this,arguments);i.type=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_DATETIMEINPUT");return i;};function _(E){this._handleCalendarSelect();}function p(E){this.onsaphide(E);if(!this.getDateValue()){this._oCalendar.removeAllSelectedDates();}}m.prototype._handleWindowResize=function(i){var j=this.getAggregation("_popup").getContent()[0].getAggregation("_switcher"),v=this.getAggregation("_popup").getContent()[0].getCalendar(),w=this.getAggregation("_popup").getContent()[0].getTimeSliders();if(i.name===k){j.setVisible(true);this.getAggregation("_popup").getContent()[0]._switchVisibility(j.getSelectedKey());}else{j.setVisible(false);w.$().css("display","");v.$().css("display","");}};function r(E){this.$("inner").attr("aria-expanded",true);this._oCalendar.focus();this._oSliders._onOrientationChanged();c.media.attachHandler(this._handleWindowResize,this);}function s(){this.removeStyleClass(I.ICON_PRESSED_CSS_CLASS);this.$("inner").attr("aria-expanded",false);this._restoreInputSelection(this._$input.get(0));this._oCalendar._closePickers();c.media.detachHandler(this._handleWindowResize,this);}function t(){var i=this.getDisplayFormat();var j;var v=this.getBinding("value");if(v&&v.oType&&(v.oType instanceof a)){i=v.oType.getOutputPattern();}else if(v&&v.oType&&v.oType.oFormat){i=v.oType.oFormat.oFormatOptions.pattern;}else{i=this.getDisplayFormat();}if(!i){i=n.Medium;}var w=i.indexOf("/");if(w>0&&this._checkStyle(i)){i=i.substr(w+1);}if(i==n.Short||i==n.Medium||i==n.Long||i==n.Full){var x=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();var y=L.getInstance(x);j=y.getTimePattern(i);}else{j=i;}return j;}function u(E){this._oOKButton.setEnabled(true);this._oPopupContent.switchToTime();}return m;});
}
});
//# sourceMappingURL=core-ext-light-1.js.map