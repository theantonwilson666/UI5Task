/*!
 * @copyright@
 */
sap.ui.define(["./NavError","sap/ui/base/Object","sap/base/util/extend","sap/base/util/each","sap/base/Log"],function(N,B,e,a,L){"use strict";var P=B.extend("sap.fe.navigation.PresentationVariant",{constructor:function(p){this._sId="";if(p!==undefined){if(typeof p==="string"){this._parseFromString(p);}else if(typeof p==="object"){this._parseFromObject(p);}else{throw new N("PresentationVariant.INVALID_INPUT_TYPE");}}},getID:function(){return this._sId;},setID:function(i){this._sId=i;},setText:function(n){if(typeof n!=="string"){throw new N("PresentationVariant.INVALID_INPUT_TYPE");}this._sText=n;},getText:function(){return this._sText;},setContextUrl:function(u){if(typeof u!=="string"){throw new N("PresentationVariant.INVALID_INPUT_TYPE");}this._sCtxUrl=u;},getContextUrl:function(){return this._sCtxUrl;},isEmpty:function(){return(Object.keys(this.getTableVisualization()).length===0&&Object.keys(this.getChartVisualization()).length===0&&Object.keys(this.getProperties()).length===0);},setProperties:function(p){this._mProperties=e({},p);},getProperties:function(){return this._mProperties;},setTableVisualization:function(p){this._mVisTable=e({},p);},getTableVisualization:function(){return this._mVisTable;},setChartVisualization:function(p){this._mVisChart=e({},p);},getChartVisualization:function(){return this._mVisChart;},toJSONObject:function(){var E={Version:{Major:"1",Minor:"0",Patch:"0"},PresentationVariantID:this._sId};if(this._sCtxUrl){E.ContextUrl=this._sCtxUrl;}if(this._sText){E.Text=this._sText;}else{E.Text="Presentation Variant with ID "+this._sId;}this._serializeProperties(E);this._serializeVisualizations(E);return E;},toJSONString:function(){return JSON.stringify(this.toJSONObject());},_serializeProperties:function(E){if(!this.getProperties()){return;}e(E,this.getProperties());},_serializeVisualizations:function(E){if(this.getTableVisualization()){if(!E.Visualizations){E.Visualizations=[];}E.Visualizations.push(this.getTableVisualization());}if(this.getChartVisualization()){if(!E.Visualizations){E.Visualizations=[];}E.Visualizations.push(this.getChartVisualization());}},_parseFromString:function(j){if(j===undefined){throw new N("PresentationVariant.UNABLE_TO_PARSE_INPUT");}if(typeof j!=="string"){throw new N("PresentationVariant.INVALID_INPUT_TYPE");}var i=JSON.parse(j);this._parseFromObject(i);},_parseFromObject:function(i){if(i.PresentationVariantID===undefined){L.warning("PresentationVariantID is not defined");i.PresentationVariantID="";}var I=e({},i);delete I.Version;this.setID(i.PresentationVariantID);delete I.PresentationVariantID;if(i.ContextUrl!==undefined&&i.ContextUrl!==""){this.setContextUrl(i.ContextUrl);delete I.ContextUrl;}if(i.Text!==undefined){this.setText(i.Text);delete I.Text;}if(i.Visualizations){this._parseVisualizations(i.Visualizations);delete I.Visualizations;}this._parseProperties(I);},_parseProperties:function(i){var p={};a(i,function(k,v){p[k]=v;});this.setProperties(p);},_parseVisualizations:function(v){if(!Array.isArray(v)){throw new N("PresentationVariant.INVALID_INPUT_TYPE");}if(typeof v.length>2){throw new N("PresentationVariant.TOO_MANY_VISUALIZATIONS");}for(var i=0;i<v.length;i++){if(v[i].Type&&v[i].Type.indexOf("Chart")>=0){this.setChartVisualization(v[i]);}else{this.setTableVisualization(v[i]);}}}});return P;});
