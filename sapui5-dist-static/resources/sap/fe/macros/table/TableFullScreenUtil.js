/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2017 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/base/Log","sap/ui/thirdparty/jquery","sap/m/Dialog","sap/ui/core/HTML","sap/m/Button","sap/ui/core/Component","sap/ui/mdc/table/ResponsiveTableType"],function(L,q,D,H,B,C,R){"use strict";var T={onFullScreenToggle:function(f){var t=f.getParent().getParent().getParent(),$;f._enteringFullScreen=!f._enteringFullScreen;var o=this.onFullScreenToggle.bind(this,f);var m=sap.ui.getCore().getLibraryResourceBundle("sap.fe.macros");if(f._enteringFullScreen===true){f.setIcon("sap-icon://exit-full-screen");f.setTooltip(m.getText("M_COMMON_TABLE_FULLSCREEN_MINIMIZE"));$=t.$();$.css("height","100%");if(!t._oHTML){t._oHTML=new H({preferDOM:false,afterRendering:function(){if(t&&t._oHTML){var a=t._oHTML.$(),b;if(a){b=a.children();b.remove();a.css("height","100%");a.append(t.getDomRef());}}}});}if(!t._oFullScreenDialog){var c=C.getOwnerComponentFor(t);c.runAsOwner(function(){t._oFullScreenDialog=new D({showHeader:false,stretch:true,beforeClose:function(){if(t&&t._$placeHolder){o();}},endButton:new B({text:m.getText("M_COMMON_TABLE_FULLSCREEN_CLOSE"),type:sap.m.ButtonType.Transparent,press:o}),content:[t._oHTML]});c.getRootControl().addDependent(t._oFullScreenDialog);});if(f){t._oFullScreenDialog.attachAfterOpen(function(){f.focus();if(t._oGrowingDelegate&&t._oGrowingDelegate.onAfterRendering){t._oOldParent=t.oParent;t.oParent=t._oFullScreenDialog;t._oGrowingDelegate.onAfterRendering();t.oParent=t._oOldParent;delete t._oOldParent;}t._oFullScreenDialog.$().find(".sapMDialogScroll").css("height","100%");});t._oFullScreenDialog.attachAfterClose(function(){var a=C.getOwnerComponentFor(c);f.focus();a.getRootViewController().getView().getController()._scrollTablesToLastNavigatedItems();});}t._oFullScreenDialog.addStyleClass($.closest(".sapUiSizeCompact").length?"sapUiSizeCompact":"");t._oFullScreenDialog.addStyleClass("sapUiCompSmartFullScreenDialog");}t._$placeHolder=q(document.createElement("div"));$.before(t._$placeHolder);t._oHTML.setContent("<div/>");if(!t._oGrowingDelegate){t._oGrowingDelegate=t._oTable||t._oList;if(t._oGrowingDelegate&&t._oGrowingDelegate.getGrowingScrollToLoad&&t._oGrowingDelegate.getGrowingScrollToLoad()){t._oGrowingDelegate=t._oGrowingDelegate._oGrowingDelegate;}else{t._oGrowingDelegate=null;}}t._oFullScreenDialog.open();}else{f.setIcon("sap-icon://full-screen");f.setTooltip(m.getText("M_COMMON_TABLE_FULLSCREEN_MAXIMIZE"));var t=f.getParent().getParent().getParent(),$;$=t._oHTML.$();t._$placeHolder.replaceWith($.children());t._$placeHolder=null;$=null;if(t._oFullScreenDialog){t._oFullScreenDialog.close();}}}};return T;},true);
