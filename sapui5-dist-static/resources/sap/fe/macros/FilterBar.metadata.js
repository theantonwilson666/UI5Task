/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2017 SAP SE. All rights reserved
    
 */
sap.ui.define(["./MacroMetadata","sap/fe/core/converters/templates/ListReportConverter","sap/fe/core/converters/ConverterContext","sap/fe/core/converters/MetaModelConverter","sap/fe/core/TemplateModel","sap/fe/core/converters/templates/BaseConverter","sap/fe/core/helpers/ModelHelper","sap/base/util/merge","sap/base/Log"],function(M,L,C,a,T,B,b,m,c){"use strict";var F=M.extend("sap.fe.macros.FilterBar",{name:"FilterBar",namespace:"sap.fe.macros",fragment:"sap.fe.macros.FilterBar",metadata:{stereotype:"xmlmacro",designtime:"sap/fe/macros/FilterBar.designtime",properties:{id:{type:"string"},variantBackreference:{type:"string"},entityType:{type:"sap.ui.model.Context",required:true,$kind:"EntityType"},hideBasicSearch:{type:"boolean",defaultValue:false},enableFallback:{type:"boolean",defaultValue:false},showAdaptFiltersButton:{type:"boolean",defaultValue:false},p13nMode:{type:"sap.ui.mdc.FilterBarP13nMode[]"},useSemanticDateRange:{type:"boolean",defaultValue:true},liveMode:{type:"boolean",defaultValue:false},_valueList:{type:"sap.ui.model.Context",required:false},selectionFields:{type:"sap.ui.model.Context",required:false},filterConditions:{type:"string",required:false},valueHelpRequestGroupId:{type:"string"},suspendSelection:{type:"boolean",defaultValue:false},showDraftEditState:{type:"boolean"}},events:{search:{type:"function"},filtersChanged:{type:"function"}}},create:function(p,o,s){var e=p.entityType;if(!e){c.error("EntityType not available for FilterBar Macro.");return;}var d=e.getModel();if(!p.selectionFields){var v=a.getInvolvedDataModelObjects(e);var f=this.getConverterContext(v,undefined,s);var S=L.getSelectionFields(f);p.selectionFields=new T(S,d).createBindingContext("/");}var E=e.getPath();var g=b.getEntitySetPath(E);if(d.getObject(g+"@com.sap.vocabularies.Common.v1.DraftRoot")||d.getObject(g+"@com.sap.vocabularies.Common.v1.DraftNode")){p.showDraftEditState=true;}return p;}});return F;});
