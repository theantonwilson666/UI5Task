sap.ui.define(["sap/ui/core/CommandExecution","sap/base/Log","sap/ui/core/Element","sap/ui/core/Shortcut"],function(C,L,E,S){"use strict";return C.extend("sap.fe.core.controls.CommandExecution",{setParent:function(p){var e=["escape"],c;C.prototype.setParent.apply(this,arguments);c=p.data("sap.ui.core.Shortcut");if(Array.isArray(c)&&c.length>0){var o=p.data("sap.ui.core.Shortcut")[c.length-1],s=o.shortcutSpec;if(s&&e.indexOf(s.key)>-1){for(var k in s){if(s[k]&&k!=="key"){return this;}}p.addDelegate({"onkeydown":function(a){if(e.indexOf(a.key.toLowerCase())>-1){var b=a.target?a.target.tagName.toLowerCase():undefined;if(b==="input"){a.setMarked();}}}},true,undefined,true);}return this;}},destroy:function(){var p=this.getParent();if(p){var c=this._getCommandInfo();if(c){S.unregister(this.getParent(),c.shortcut);}this._cleanupContext(p);}E.prototype.destroy.apply(this,arguments);},setVisible:function(v){var c=this._getCommandInfo();if(c){C.prototype.setVisible.apply(this,arguments);}else{L.info("There is no shortcut definition registered in the manifest for the command : "+this.getCommand());}}});});
