sap.ui.define(["sap/fe/core/templating/UIFormatters","sap/fe/core/templating/PropertyHelper"],function(U,P){"use strict";var _={};var g=P.getAssociatedUnitProperty;var a=P.getAssociatedCurrencyProperty;var b=U.getDisplayMode;function i(j){return j.hasOwnProperty("Action");}_.isDataFieldForActionAbstract=i;function c(j){return j.hasOwnProperty("Value");}_.isDataFieldTypes=c;function d(j){var k,l,m,n,o,p,q;return((k=j.annotations)===null||k===void 0?void 0:(l=k.UI)===null||l===void 0?void 0:(m=l.Hidden)===null||m===void 0?void 0:m.valueOf())===true||c(j)&&((n=j.Value)===null||n===void 0?void 0:(o=n.$target)===null||o===void 0?void 0:(p=o.annotations)===null||p===void 0?void 0:(q=p.UI)===null||q===void 0?void 0:q.Hidden)===true;}_.isDataFieldAlwaysHidden=d;function e(j,o){if(typeof o==="object"){var k,l;if(c(o)&&((k=o.Value)===null||k===void 0?void 0:(l=k.$target)===null||l===void 0?void 0:l.fullyQualifiedName)){var m,n,p,q;var r=j.getEntityPropertyFromFullyQualifiedName((m=o.Value)===null||m===void 0?void 0:(n=m.$target)===null||n===void 0?void 0:n.fullyQualifiedName);if((r===null||r===void 0?void 0:(p=r.annotations)===null||p===void 0?void 0:(q=p.Common)===null||q===void 0?void 0:q.SemanticObject)!==undefined){return j.getEntitySetBasedAnnotationPath(r===null||r===void 0?void 0:r.fullyQualifiedName);}}}else{var s,t;var u=j.getEntityPropertyFromFullyQualifiedName(o);if((u===null||u===void 0?void 0:(s=u.annotations)===null||s===void 0?void 0:(t=s.Common)===null||t===void 0?void 0:t.SemanticObject)!==undefined){return j.getEntitySetBasedAnnotationPath(u===null||u===void 0?void 0:u.fullyQualifiedName);}}return undefined;}_.getSemanticObjectPath=e;function f(p,j,k,l){var r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{properties:{}};var m=arguments.length>5?arguments[5]:undefined;function n(K,L){if(!r.properties.hasOwnProperty(K)){r.properties[K]=L;}return Object.keys(r.properties).indexOf(K);}function o(K){r.exportSettingsTemplate=r.exportSettingsTemplate?"".concat(r.exportSettingsTemplate).concat(K):"".concat(K);}if(p&&j){var q,s;var t=p.indexOf("/")>-1?p.substring(0,p.lastIndexOf("/")+1):"";var u=(q=j.annotations)===null||q===void 0?void 0:(s=q.Common)===null||s===void 0?void 0:s.Text;var v;var w;if(r.exportSettingsTemplate){o("\n");}if((u===null||u===void 0?void 0:u.path)&&(u===null||u===void 0?void 0:u.$target)){var x=k.getDataModelObjectPath();var y=t+u.path;var z=b(j,x);var A;switch(z){case"Value":v=n(p,{value:j,fieldGroup:m});o("{".concat(v,"}"));break;case"Description":A=n(y,{value:u.$target,description:j,fieldGroup:m});n(p,{value:j,fieldGroup:m});o("{".concat(A,"}"));break;case"ValueDescription":v=n(p,{value:j,fieldGroup:m});A=n(y,{value:u.$target,description:j,fieldGroup:m});o("{".concat(v,"} ({").concat(A,"})"));break;case"DescriptionValue":A=n(y,{value:u.$target,description:j,fieldGroup:m});v=n(p,{value:j,fieldGroup:m});o("{".concat(A,"} ({").concat(v,"})"));break;}}else{var B,C,D,E,F,G;var H=a(j)||g(j);var I=(j===null||j===void 0?void 0:(B=j.annotations)===null||B===void 0?void 0:(C=B.Measures)===null||C===void 0?void 0:C.ISOCurrency)||(j===null||j===void 0?void 0:(D=j.annotations)===null||D===void 0?void 0:(E=D.Measures)===null||E===void 0?void 0:E.Unit);if(H&&(I===null||I===void 0?void 0:I.$target)){v=n(p,{value:j});w=n(H.name,{value:I.$target});o("{".concat(v,"}  {").concat(w,"}"));}else if((F=j.Target)===null||F===void 0?void 0:(G=F.$target)===null||G===void 0?void 0:G.Visualization){var J;v=n(p,{value:(J=j.Target.$target.Value)===null||J===void 0?void 0:J.$target,fieldGroup:m});n(j.Target.value,{value:j,fieldGroup:m});o("{".concat(v,"}/").concat(j.Target.$target.TargetValue));}else if(!l){v=n(p,{value:j,fieldGroup:m});o("{".concat(v,"}"));}}}return r;}_.collectRelatedProperties=f;function h(j,k){var l,m,n;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{properties:{}};var o=arguments.length>3?arguments[3]:undefined;if(j.$Type==="com.sap.vocabularies.UI.v1.DataField"&&j.Value){var p=j.Value;r=f(p.path,p.$target,k,false,r,o);}else if(j.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){switch((l=j.Target)===null||l===void 0?void 0:(m=l.$target)===null||m===void 0?void 0:m.$Type){case"com.sap.vocabularies.UI.v1.FieldGroupType":var q=j;(n=j.Target.$target.Data)===null||n===void 0?void 0:n.forEach(function(s){r=h(s,k,r,q);});break;case"com.sap.vocabularies.UI.v1.DataPointType":r=f(j.Target.$target.Value.path,j,k,false,r,o);break;}}return r;}_.collectRelatedPropertiesRecursively=h;return _;},false);
