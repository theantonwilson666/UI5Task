sap.ui.define([],function(){"use strict";var _={};function a(i,C){if(!(i instanceof C)){throw new TypeError("Cannot call a class as a function");}}function b(t,p){for(var i=0;i<p.length;i++){var d=p[i];d.enumerable=d.enumerable||false;d.configurable=true;if("value"in d)d.writable=true;Object.defineProperty(t,d.key,d);}}function c(C,p,s){if(p)b(C.prototype,p);if(s)b(C,s);return C;}var A=function(){function A(e,d){var f,g,h,i,j,k,l,m,n;a(this,A);this._entityType=e;this._converterContext=d;this._bApplySupported=((f=d.getEntitySet())===null||f===void 0?void 0:(g=f.annotations)===null||g===void 0?void 0:(h=g.Aggregation)===null||h===void 0?void 0:h.ApplySupported)||((i=d.getEntityContainer().annotations)===null||i===void 0?void 0:(j=i.Aggregation)===null||j===void 0?void 0:j.ApplySupported)?true:false;var o=(k=d.getEntitySet())===null||k===void 0?void 0:(l=k.annotations)===null||l===void 0?void 0:(m=l.Aggregation)===null||m===void 0?void 0:(n=m.ApplySupported)===null||n===void 0?void 0:n.PropertyRestrictions;if(o!==undefined){this._bHasPropertyRestrictions=o?true:false;}else{var p,q,r;this._bHasPropertyRestrictions=((p=d.getEntityContainer().annotations)===null||p===void 0?void 0:(q=p.Aggregation)===null||q===void 0?void 0:(r=q.ApplySupported)===null||r===void 0?void 0:r.PropertyRestrictions)?true:false;}if(this._bHasPropertyRestrictions){var s,t,u,v,w,x,y;var z=((s=d.getEntityContainer().annotations)===null||s===void 0?void 0:(t=s.Aggregation)===null||t===void 0?void 0:(u=t.ApplySupported)===null||u===void 0?void 0:u.GroupableProperties)||[];var B=((v=d.getEntitySet())===null||v===void 0?void 0:(w=v.annotations)===null||w===void 0?void 0:(x=w.Aggregation)===null||x===void 0?void 0:(y=x.ApplySupported)===null||y===void 0?void 0:y.GroupableProperties)||[];this._aRestrictedGroupableProperties=z.concat(B);}else{this._aRestrictedGroupableProperties=[];}}_.AggregationHelper=A;c(A,[{key:"isAnalyticsSupported",value:function i(){return this._bApplySupported;}},{key:"isPropertyGroupable",value:function i(p){if(!this._bApplySupported){return undefined;}else{var d,e,f;return!this._bHasPropertyRestrictions||((d=p.annotations)===null||d===void 0?void 0:(e=d.Aggregation)===null||e===void 0?void 0:(f=e.Groupable)===null||f===void 0?void 0:f.valueOf())===true||this._aRestrictedGroupableProperties.findIndex(function(g){return g.$target.fullyQualifiedName===p.fullyQualifiedName;})>=0;}}},{key:"getCustomAggregateDefinitions",value:function g(){var d=this;var D={};var C=this._converterContext.getEntityContainerAnnotationsByTerm("Aggregation","Org.OData.Aggregation.V1.CustomAggregate").concat(this._converterContext.getEntitySetAnnotationsByTerm("Aggregation","Org.OData.Aggregation.V1.CustomAggregate"));C.forEach(function(e){var o=d._entityType.entityProperties.find(function(p){return p.name===e.qualifier;});if(o){var f,h;var i=(f=e.annotations)===null||f===void 0?void 0:(h=f.Aggregation)===null||h===void 0?void 0:h.ContextDefiningProperties;D[o.name]=i?i.map(function(j){return j.value;}):[];}});return D;}}]);return A;}();_.AggregationHelper=A;return _;},false);
