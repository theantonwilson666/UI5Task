sap.ui.define(["../controls/ObjectPage/SubSection","../controls/ObjectPage/HeaderFacet","./BaseConverter","../helpers/ID","../helpers/ConfigurableObject","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/objectPage/HeaderAndFooterAction","sap/fe/core/helpers/BindingExpression"],function(S,H,B,I,C,A,a,b){"use strict";var _={};var n=b.not;var e=b.equal;var c=b.compileBinding;var d=b.annotationExpression;var g=a.getHiddenHeaderActions;var f=a.getFooterDefaultActions;var h=a.getHeaderDefaultActions;var r=A.removeDuplicateActions;var j=A.getActionsFromManifest;var P=C.Placement;var k=C.insertCustomElements;var l=I.SectionID;var E=I.EditableHeaderSectionID;var m=I.CustomSectionID;var T=B.TemplateType;var o=H.getHeaderFacetsFromManifest;var p=H.getHeaderFacetsFromAnnotations;var q=S.createSubSections;var s=S.createCustomSubSections;function t(i,J){var K=Object.keys(i);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(i);if(J)L=L.filter(function(M){return Object.getOwnPropertyDescriptor(i,M).enumerable;});K.push.apply(K,L);}return K;}function u(J){for(var i=1;i<arguments.length;i++){var K=arguments[i]!=null?arguments[i]:{};if(i%2){t(Object(K),true).forEach(function(L){v(J,L,K[L]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(J,Object.getOwnPropertyDescriptors(K));}else{t(Object(K)).forEach(function(L){Object.defineProperty(J,L,Object.getOwnPropertyDescriptor(K,L));});}}return J;}function v(i,J,K){if(J in i){Object.defineProperty(i,J,{value:K,enumerable:true,configurable:true,writable:true});}else{i[J]=K;}return i;}var w=function(i,J){var K,L;return((K=i.ID)===null||K===void 0?void 0:K.toString())||((L=i.Label)===null||L===void 0?void 0:L.toString())||J;};function x(i,J){var K=E();var L={id:K,key:"EditableHeaderContent",title:"{sap.fe.i18n>T_COMMON_OBJECT_PAGE_HEADER_SECTION}",visible:"{= ${ui>/editMode} === 'Editable' }",subSections:J?q(J,i):[]};return L;}function y(i){var J,K,L;var M=i.getEntityType();var N=((J=M.annotations)===null||J===void 0?void 0:(K=J.UI)===null||K===void 0?void 0:(L=K.Facets)===null||L===void 0?void 0:L.map(function(O){return z(O,i);}))||[];return N;}function z(i,J){var K,L,M;var N=l({Facet:i});var O={id:N,key:w(i,N),title:c(d(i.Label)),showTitle:!!i.Label,visible:c(n(e(d((K=i.annotations)===null||K===void 0?void 0:(L=K.UI)===null||L===void 0?void 0:(M=L.Hidden)===null||M===void 0?void 0:M.valueOf()),true))),subSections:q([i],J)};return O;}function D(i,J){var K={};Object.keys(i).forEach(function(L){K[L]=F(i[L],L,J);});return K;}function F(i,J,K){var L=i.id||m(J);var M=i.position;if(!M){M={placement:P.After};}var N;if(!i.subSections){N=v({},J,u({},i,{position:undefined,visible:true}));}else{N=i.subSections;}var O=s(N,K);var Q={id:L,key:J,title:i.title,showTitle:!!i.title,visible:i.visible!==undefined?i.visible:true,position:M,subSections:k([],O,{"title":"overwrite","actions":"merge"})};return Q;}var G=function(i){var J,K;var L=i.getManifestWrapper();var M;var N=i.getEntityType();var O=k(p(i),o(L.getHeaderFacets()));var Q=h(i);var R=k(Q,j(L.getHeaderActions(),i,Q,undefined,undefined,g(i)),{isNavigable:"overwrite",enabled:"overwrite"});var U=f(L.getViewLevel(),i);var V=k(U,j(L.getFooterActions(),i,U),{isNavigable:"overwrite",enabled:"overwrite"});if(L.isHeaderEditable()&&(((J=N.annotations.UI)===null||J===void 0?void 0:J.HeaderFacets)||((K=N.annotations.UI)===null||K===void 0?void 0:K.HeaderInfo))){var W;M=x(i,(W=N.annotations.UI)===null||W===void 0?void 0:W.HeaderFacets);}var X=k(y(i),D(L.getSections(),i),{"title":"overwrite","visible":"overwrite","subSections":{"actions":"merge","title":"overwrite","sideContent":"overwrite"}});return{template:T.ObjectPage,headerFacets:O,headerSection:M,headerActions:r(R),sections:X,footerActions:V,showHeader:L.getShowObjectPageHeader(),showAnchorBar:L.getShowAnchorBar(),useIconTabBar:L.useIconTabBar()};};_.convertPage=G;return _;},false);
