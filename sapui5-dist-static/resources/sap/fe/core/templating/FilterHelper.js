sap.ui.define(["sap/ui/mdc/condition/Condition","sap/ui/mdc/enum/ConditionValidated"],function(C,a){"use strict";var _={};var c=C.createCondition;function o(i,n){var p=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);if(n)s=s.filter(function(q){return Object.getOwnPropertyDescriptor(i,q).enumerable;});p.push.apply(p,s);}return p;}function b(t){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};if(i%2){o(Object(s),true).forEach(function(n){d(t,n,s[n]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(s));}else{o(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n));});}}return t;}function d(i,n,p){if(n in i){Object.defineProperty(i,n,{value:p,enumerable:true,configurable:true,writable:true});}else{i[n]=p;}return i;}var v=["Edm.Boolean","Edm.Byte","Edm.Date","Edm.DateTime","Edm.DateTimeOffset","Edm.Decimal","Edm.Double","Edm.Float","Edm.Guid","Edm.Int16","Edm.Int32","Edm.Int64","Edm.SByte","Edm.Single","Edm.String","Edm.Time","Edm.TimeOfDay"];var e={"Contains":"NotContains","StartsWith":"NotStartsWith","EndsWith":"NotEndsWith","Empty":"NotEmpty","NotEmpty":"Empty","LE":"NOTLE","GE":"NOTGE","LT":"NOTLT","GT":"NOTGT","BT":"NOTBT","NE":"EQ","EQ":"NE"};function g(V,t){var i;if(v.indexOf(t)>-1){i=V;if(t==="Edm.Boolean"){i=V==="true"||(V==="false"?false:undefined);}else if(t==="Edm.Double"||t==="Edm.Single"){i=isNaN(V)?undefined:parseFloat(V);}else if(t==="Edm.Byte"||t==="Edm.Int16"||t==="Edm.Int32"||t==="Edm.SByte"){i=isNaN(V)?undefined:parseInt(V,10);}else if(t==="Edm.Date"){i=V.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)?V.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)[0]:V.match(/^(\d{8})/)&&V.match(/^(\d{8})/)[0];}else if(t==="Edm.DateTimeOffset"){if(V.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})\+(\d{1,4})/)){i=V.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})\+(\d{1,4})/)[0];}else if(V.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})/)){i=V.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})/)[0]+"+0000";}else if(V.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)){i=V.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)[0]+"T00:00:00+0000";}else if(V.indexOf("Z")===V.length-1){i=V.split("Z")[0]+"+0100";}else{i=undefined;}}else if(t==="Edm.TimeOfDay"){i=V.match(/(\d{1,2}):(\d{1,2}):(\d{1,2})/)?V.match(/(\d{1,2}):(\d{1,2}):(\d{1,2})/)[0]:undefined;}}return i;}_.getTypeCompliantValue=g;function r(O,V,i,s){var n=V,p,I;var q={};q.values=[];q.isEmpty=null;if(V===undefined||V===null){return;}switch(O){case"CP":I="Contains";if(n){var t=n.indexOf("*");var u=n.lastIndexOf("*");if(t>-1){if(t===0&&u!==n.length-1){I="EndsWith";n=n.substring(1,n.length);}else if(t!==0&&u===n.length-1){I="StartsWith";n=n.substring(0,n.length-1);}else{n=n.substring(1,n.length-1);}}else{return;}}break;case"EQ":I=V===""?"Empty":O;break;case"NE":I=V===""?"NotEmpty":O;break;case"BT":if(i===undefined||i===null){return;}p=i;I=O;break;case"LE":case"GE":case"GT":case"LT":I=O;break;default:return;}if(s==="E"){I=e[I];}q.operator=I;if(I!=="Empty"){q.values.push(n);if(p){q.values.push(p);}}return q;}_.resolveConditionValues=r;function f(O){return O.indexOf("/")>0?O.split("/")[1]:O;}_.getOperator=f;function h(i,s){var n={};if(s){var S=s.SelectOptions;var V=i;S===null||S===void 0?void 0:S.forEach(function(p){var q=p.PropertyName;var P=q.value;var R=p.Ranges;for(var t in V){if(P===t){(function(){var u=V[t];var w=[];R===null||R===void 0?void 0:R.forEach(function(x){var y=j(x,u);w.push(y);if(w.length){n[P]=w;}});})();}}});}return n;}_.getFiltersConditionsFromSelectionVariant=h;function j(R,V){var i;var s=R.Sign;var O=R.Option?f(R.Option):undefined;var n=g(R.Low,V.$Type);var p=R.High?g(R.High,V.$Type):undefined;var q=r(O,n,p,s);if(q){i=c(q.operator,q.values,null,null,a.Validated);}return i;}_.getConditions=j;var k=function(i,p){var n={};var q=i.getInterface(1).getPath(),M=i.getInterface(1).getModel();if(p){for(var s in p){var t=M.getObject(q+"/"+s+"@com.sap.vocabularies.Common.v1.FilterDefaultValue");if(t){var P=s;n[P]=[c("EQ",[t],null,null,a.Validated)];}}}return n;};function l(){var i={};i["$editState"]=[c("DRAFT_EDIT_STATE",["ALL"],null,null,a.Validated)];return i;}function m(i,n){var p;var q;var s=i.getInterface(1).getPath(),M=i.getInterface(1).getModel(),t=M.getObject(s+"@"),u=M.getObject(s+"/");if(t["@com.sap.vocabularies.Common.v1.DraftRoot"]||t["@com.sap.vocabularies.Common.v1.DraftNode"]){q=l();}var w=(p=n)===null||p===void 0?void 0:p.selectionVariant;var x=k(i,u);if(w){n=h(u,w);}else if(x){n=x;}if(q){n=b({},n,{},q);}return JSON.stringify(n);}_.getFilterConditions=m;m.requiresIContext=true;return _;},false);
