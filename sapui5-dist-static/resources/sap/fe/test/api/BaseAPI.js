sap.ui.define(["sap/fe/test/Utils","sap/ui/test/Opa5","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/ui/mdc/p13n/panels/BasePanel"],function(U,O,a,F,M){"use strict";function _(r,c){var A=r.and;if(c in A){return _(A[c],c);}return A;}var B=function(o,i){this._oBuilder=o;this._vIdentifier=i;};B.MDC_P13N_MODEL=M.prototype.P13N_MODEL;B.prototype.isAction=undefined;B.prototype.getBuilder=function(){return new this._oBuilder.constructor(this._oBuilder.getOpaInstance(),this._oBuilder.build());};B.prototype.getOpaInstance=function(){return this._oBuilder.getOpaInstance();};B.prototype.getIdentifier=function(){return this._vIdentifier;};B.prototype.prepareResult=function(w){var p=_(w,this.isAction?"when":"then");w.and=this;if(!U.isOfType(this.isAction,[null,undefined])){w.and[this.isAction?"when":"then"]=p;}return w;};B.prototype.createActionMatcher=function(A){var m,s;if(!U.isOfType(A,String)){if(typeof A.service==="string"&&typeof A.action==="string"){s=A.service+(A.unbound?"::":".")+A.action;m=F.Matchers.id(new RegExp(U.formatMessage("{0}$",s)));}else{throw new Error("not supported service and action parameters for creating a control id: "+A.service+"/"+A.action);}}else{m=a.Matchers.properties({text:A});}return m;};B.prototype.createFieldMatcher=function(f){var m,s;if(!U.isOfType(f,String)){if(typeof f.property==="string"){s=f.property.replaceAll("/","::")+"::Field";return a.Matchers.some.apply(null,["DataField","DataFieldWithURL"].reduce(function(b,d){return b.concat([F.Matchers.id(new RegExp(U.formatMessage("::{0}::{1}$",d,s)))]);},[]));}else{throw new Error("The 'property' parameter for creating a control ID for a field is not supported: "+f.property);}}else{m=F.Matchers.label(f);}return m;};B.prototype.createFormElementMatcher=function(f,d){var m,s;if(!U.isOfType(f,String)){if(f.property&&typeof f.property==="string"){s="FormElement::"+d+"::"+f.property.replaceAll("/","::");m=F.Matchers.id(new RegExp(U.formatMessage("{0}$",s)));}else{throw new Error("not supported parameter for creating a control id for a FormElement");}}else{m=a.Matchers.properties({label:f});}return m;};B.prototype.createFieldGroupMatcher=function(f){var m,s;if(!U.isOfType(f,String)){if(f.fieldGroup&&typeof f.fieldGroup==="string"){s="FormContainer::"+f.fieldGroup;m=F.Matchers.id(new RegExp(U.formatMessage("{0}$",s)));}else{throw new Error(U.formatMessage("The parameter for creating a control ID for a FieldGroup is not supported: {0}",f));}}else{m=a.Matchers.properties({title:f});}return m;};return B;});
