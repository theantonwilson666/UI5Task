sap.ui.define(["sap/fe/test/Utils","./TemplatePage","sap/ui/test/Opa5","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MacroFieldBuilder","sap/fe/test/builder/VMBuilder","sap/fe/test/builder/OverflowToolbarBuilder","sap/fe/test/api/FooterActionsBase","sap/fe/test/api/FooterAssertionsBase","sap/fe/test/api/HeaderActionsLR","sap/fe/test/api/HeaderAssertionsLR"],function(U,T,O,a,F,b,V,c,d,e,H,f){"use strict";function g(i){return"fe::table::"+i+"::LineItem";}function h(E){return"fe::Chart::"+E+"::Chart";}function _(o,p){return F.create(o).hasId(p);}function L(p,A){var s=p.appId,C=p.componentId,E=p.entitySet,i=s+"::"+C,S="fe::table::"+E+"::LineItem",j="fe::Chart::"+E+"::Chart",k="fe::FilterBar::"+E,l=k+"::FilterFieldValueHelp::",r=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core"),I="fe::TabMultipleMode",P="fe::ListReport",A=Array.isArray(arguments[1])?arguments[1]:Array.prototype.slice.call(arguments,1);return T.apply(T,[i,{actions:{onTable:function(t){var m;if(t){m=!U.isOfType(t,String)?g(t.property):t;}else{m=S;}return this._onTable({id:m});},onChart:function(v){var m;if(v){m=!U.isOfType(v,String)?h(v.property):v;}else{m=j;}return this._onChart({id:m});},onFilterBar:function(){return this._onFilterBar({id:k});},onHeader:function(){return new H(_(this,P),{id:P});},iCollapseExpandPageHeader:function(m){return this._iCollapseExpandPageHeader(m);},iExecuteActionOnDialog:function(t){return a.create(this).hasType("sap.m.Button").hasProperties({text:t}).isDialogElement().doPress().description("Pressing dialog button '"+t+"'").execute();},iOpenIconTabWithTitle:function(n){return a.create(this).hasId(I).has(a.Matchers.aggregation("items",a.Matchers.properties({text:n}))).doPress().description("Selecting Icon Tab "+n).execute();},iSaveVariant:function(v,m,n){var o=U.parseArguments([String,Boolean,Boolean],arguments),q=V.create(this).hasId("fe::PageVariantManagement");if(o[0]){q.doSaveAs(v,m,n).description(U.formatMessage("Saving variant for '{0}' as '{1}' with default='{2}' and applyAutomatically='{3}'","Page Variant",v,!!m,!!n));}else{q.doSave().description(U.formatMessage("Updating current variant for '{0}'","Page Variant"));}return q.execute();},iSelectVariant:function(v){return V.create(this).hasId("fe::PageVariantManagement").doSelectVariant(v).description(U.formatMessage("Selecting variant '{1}' from '{0}'","Page Variant",v)).execute();}},assertions:{onTable:function(t){if(!t){t={id:S};}else{var m=!U.isOfType(t,String)?t.property:t;t={id:g(m)};}return this._onTable(t);},onChart:function(v){var m;if(v){m=!U.isOfType(v,String)?h(v.property):v;}else{m=j;}return this._onChart({id:m});},onFilterBar:function(){return this._onFilterBar({id:k});},onHeader:function(){return new f(_(this,P),{id:P});},iSeeTheMessageToast:function(t){return this._iSeeTheMessageToast(t);},iSeeFilterFieldsInFilterBar:function(n){return a.create(this).hasId(k).hasAggregationLength("filterItems",n).description("Seeing filter bar with "+n+" filter fields").execute();},iSeeTableCellWithActions:function(m,n,B){return a.create(this).hasType("sap.m.ColumnListItem").has(a.Matchers.bindingPath(m)).has(function(o){var q=o.getCells()[n];if(q.isA("sap.fe.macros.MacroAPI")){q=q.getContent();}return q.getMetadata().getElementName()==="sap.m.Button"&&q.getText()===B;}).description("Inline Action is present in the table cell with the Text "+B).execute();},iSeeLinkWithText:function(t){return a.create(this).hasType("sap.m.Link").hasProperties({text:t}).description("Seeing link with text '"+t+"'").execute();},iSeeContactPopoverWithAvatarImage:function(m){return a.create(this).hasType("sap.ui.mdc.link.Panel").check(function(n){var o=n.some(function(q){return q.src===m;});return o===false;},true).description("Seeing Contact Card with Avatar Image in ListReport").execute();},iSeeLabelWithText:function(t){return a.create(this).hasType("sap.m.Label").hasProperties({text:t}).description("Not Seeing label with text '"+t+"'").execute();},iSeeSummaryOfAppliedFilters:function(){var m;a.create(this).hasId(k).mustBeVisible(false).do(function(o){m=o.getAssignedFiltersText().filtersText;}).execute();return a.create(this).hasType("sap.f.DynamicPageTitle").has(function(D){return D.getSnappedContent()[0].getText()===m;}).description("The correct text on the collapsed filterbar is displayed").execute();},iSeeDeleteConfirmation:function(){return this._iSeeTheMessageToast(r.getText("C_TRANSACTION_HELPER_OBJECT_PAGE_DELETE_TOAST_SINGULAR"));},iSeePageTitle:function(t){return a.create(this).hasType("sap.f.DynamicPageTitle").hasAggregationProperties("heading",{text:t}).description("Seeing title '"+t+"'").execute();},iSeeVariantTitle:function(t){return a.create(this).hasType("sap.m.Title").hasId("fe::PageVariantManagement-text").hasProperties({text:t}).description("Seeing variant title '"+t+"'").execute();},iSeeControlVMFilterBarTitle:function(t){return a.create(this).hasType("sap.m.Title").hasId(k+"::VariantManagement-text").hasProperties({text:t}).description("Seeing variant title '"+t+"'").execute();},iSeeControlVMTableTitle:function(t,m){var n=m?g(m):S;return a.create(this).hasType("sap.m.Title").hasId(n+"::VM-text").hasProperties({text:t}).description("Seeing variant title '"+t+"'").execute();},iSeeVariantModified:function(m,n){var o;if(n){o=k+"::VariantManagement-modified";}else{o="fe::PageVariantManagement-modified";}m=m===undefined?true:m;if(m){return a.create(this).hasType("sap.m.Label").hasId(o).hasProperties({text:"*"}).description("Seeing variant state as 'modified'").execute();}else{return a.create(this).hasType("sap.m.Label").check(function(q){return!q.some(function(t){return t.getId()===o;});},true).description("Seeing variant state as 'not modified'").execute();}},iSeePageVM:function(m){return F.create(this).hasId("fe::PageVariantManagement").hasState(m).description(U.formatMessage("Seeing page VM with state '{0}'",m)).execute();},iSeeControlVMFilterBar:function(){return a.create(this).hasId(k+"::VariantManagement").description("Seeing control VM - FilterBar").execute();},iSeeDraftIndicator:function(){return a.create(this).hasType("sap.m.Link").hasProperties({text:r.getText("C_DRAFT_POPOVER_ADMIN_DATA_DRAFTINFO_DRAFT_OBJECT")}).description("Draft indicator is visible").execute();},iSeeDraftIndicatorLocked:function(u){var t=r.getText("C_DRAFT_POPOVER_ADMIN_DATA_DRAFTINFO_LOCKED_OBJECT")+" "+r.getText("C_EDIT_FLOW_OWNER",[u]);return a.create(this).hasType("sap.m.Link").hasProperties({text:t}).description("Draft indicator is visible and displays '"+t+"'").execute();},iSeeIconTabWithProperties:function(m){return(a.create(this).hasId(I).has(a.Matchers.aggregationMatcher("items",a.Matchers.properties(m))).description(U.formatMessage("Seeing Icon Tab with properties '{0}'",m)).execute());},iSeeNumOfOperators:function(m,n){return a.create(this).hasId(l+m+"-DCP").doOnChildren(a.create(this).hasAggregationLength("items",n)).description("Seeing a value list of condition operators with "+n+" items.").execute();},iCheckValueForFieldInCreateDialog:function(m,v,n){return b.create(this).isDialogElement().hasId(m).hasValue(v).hasProperties({required:!!n}).description(U.formatMessage("Seeing Create dialog parameter '{0}' with value '{1}'",m,v)).execute();}}}].concat(A));}return L;});
