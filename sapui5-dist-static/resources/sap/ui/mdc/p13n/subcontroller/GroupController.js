/*
 * ! OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['./BaseController','sap/ui/mdc/p13n/P13nBuilder','sap/base/util/merge'],function(B,P,m){"use strict";var G=B.extend("sap.ui.mdc.p13n.subcontroller.GroupController");G.prototype.getCurrentState=function(){return this.getAdaptationControl().getCurrentState().groupLevels;};G.prototype.getContainerSettings=function(){return{title:sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc").getText("group.PERSONALIZATION_DIALOG_TITLE")};};G.prototype.getDelta=function(p){return B.prototype.getDelta.apply(this,arguments);};G.prototype.getAdaptationUI=function(){return"sap/ui/mdc/p13n/panels/SelectionPanel";};G.prototype.getChangeOperations=function(){return{add:"addGroup",remove:"removeGroup",move:"moveGroup"};};G.prototype._getPresenceAttribute=function(){return"grouped";};G.prototype.setP13nData=function(p){var i=this.getCurrentState();var I=P.arrayToMap(i);var o=P.prepareAdaptationData(p,function(a,b){var e=I[b.name];a.grouped=!!e;a.groupPosition=e?e.position:-1;return!(b.groupable===false);});P.sortP13nData({visible:"grouped",position:"groupPosition"},o.items);o.presenceAttribute=this._getPresenceAttribute();o.items.forEach(function(a){delete a.groupPosition;});this.oP13nData=o;};G.prototype.getP13nData=function(){return this.oP13nData;};return G;});
