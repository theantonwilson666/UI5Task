/*
 * ! SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(['sap/base/util/merge',"sap/base/Log"],function(m,L){"use strict";var E={};E.applyChange=function(c,v,p){var C=c.getContent();if(!C){L.error("Change does not contain sufficient information to be applied");return;}var M=p.modifier;var P=m({},M.getProperty(v,"adaptationInfo"));if(!P.executeOnSelect){P.executeOnSelect={};}if(v.getExecuteOnSelectForStandardVariant){var i=v.getItemByKey(C.key);if(i){c.setRevertData({key:i.getKey(),selected:i.getExecuteOnSelection()});i.setExecuteOnSelection(C.selected);}else if(C.key===v.STANDARDVARIANTKEY){c.setRevertData({key:i.getKey(),selected:v.getExecuteOnSelectForStandardVariant()});v.setExecuteOnSelectForStandardVariant(C.selected);}}else{if(P.executeOnSelect.hasOwnProperty(C.key)){c.setRevertData({key:C.key,selected:P.executeOnSelect[C.key]});}}P.executeOnSelect[C.key]=C.selected;M.setProperty(v,"adaptationInfo",P);};E.completeChangeContent=function(c,s,p){if(!s.content){throw new Error("oSpecificChangeInfo.content should be filled");}if(!s.content.hasOwnProperty("key")){throw new Error("In oSpecificChangeInfo.content.key attribute is required");}if(!s.content.hasOwnProperty("selected")){throw new Error("In oSpecificChangeInfo.content.selected attribute is required");}};E.revertChange=function(c,v,p){var M=p.modifier;var P=m({},M.getProperty(v,"adaptationInfo"));var C=c.getRevertData();if(C){if(v.setExecuteOnSelectForStandardVariant){var i=v.getItemByKey(C.key);if(i){i.setExecuteOnSelection(C.selected);}else if(C.key===v.STANDARDVARIANTKEY){v.setExecuteOnSelectForStandardVariant(C.selected);}}c.resetRevertData();P.executeOnSelect[C.key]=C.selected;}else{C=c.getContent();if(P.executeOnSelect&&P.executeOnSelect.hasOwnProperty(C.key)){delete P.executeOnSelect[C.key];}}M.setProperty(v,"adaptationInfo",P);};return E;},true);
