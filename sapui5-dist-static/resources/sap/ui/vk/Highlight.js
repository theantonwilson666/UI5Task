/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/ui/base/Object"],function(B){"use strict";var H=B.extend("sap.ui.vk.Highlight",{constructor:function(i,p){this._id=i;this._name=p&&p.name?p.name:"";this._duration=p&&p.duration?p.duration:0.0;this._cycles=p&&p.cycles?p.cycles:0;this._colours=p&&p.colours?p.colours:[];this._opacities=p&&p.opacities?p.opacities:[];this._fadeOut=p&&p.fadeOut?p.fadeOut:false;this._reset();}});H.prototype.getId=function(){return this._id;};H.prototype.getName=function(){return this._name;};H.prototype.setName=function(n){this._name=n;return this;};H.prototype.getDuration=function(){return this._duration;};H.prototype.setDuration=function(d){this._duration=d;this._reset();return this;};H.prototype.getCycles=function(){return this._cycles;};H.prototype.setCycles=function(c){this._cycles=c;this._reset();return this;};H.prototype.getOpacities=function(){return this._opacities;};H.prototype.setOpacities=function(o){this._opacities=o;this._reset();return this;};H.prototype.getColours=function(){return this._colours;};H.prototype.setColours=function(c){this._colours=c;this._reset();return this;};H.prototype._reset=function(){var k,o,t;var n=false;if(this._opacities&&this._opacities.length){for(var i=0;i<this._opacities.length;i++){if(this._opacities[i]<0.999){n=true;break;}}}if(n){if(Math.abs(this._duration-0.0)<0.000000001||this._opacities.length===1){this._adjustedOpacities=[this._opacities[0]];this._opacityTimes=[0.0];}else if(this._cycles>0){t=this._duration/this._opacities.length;this._adjustedOpacities=[];this._opacityTimes=[];for(k=0;k<this._cycles;k++){for(o=0;o<this._opacities.length;o++){this._adjustedOpacities.push(this._opacities[o]);this._opacityTimes.push(t*(k*this._opacities.length+o));}}}else{t=this._duration/this._opacities.length;this._adjustedOpacities=[];this._opacityTimes=[];for(o=0;o<this._opacities.length;o++){this._adjustedOpacities.push(this._opacities[o]);this._opacityTimes.push(t*o);}this._adjustedOpacities.push(this._opacities[0]);this._opacityTimes.push(t*this._opacities.length);}}else{this._adjustedOpacities=[];this._opacityTimes=[];}var a=true;if(this._colours&&this._colours.length){for(var j=0;j<this._colours.length;j++){if(this._colours[j][3]<0){a=false;break;}}}else{a=false;}if(a){if(this._cycles===0&&this._duration>0.0){if(this._colours.length===1){this._colours.push([0,0,0,0]);}}if(Math.abs(this._duration-0.0)<0.000000001||this._colours.length===1){this._adjustedColours=[this._colours[0]];this._colourTimes=[0.0];}else if(this._cycles>0){t=this._duration/this._colours.length;this._adjustedColours=[];this._colourTimes=[];for(k=0;k<this._cycles;k++){for(o=0;o<this._colours.length;o++){this._adjustedColours.push(this._colours[o]);this._colourTimes.push(t*(k*this._colours.length+o));}}}else{t=this._duration/this._colours.length;this._adjustedColours=[];this._colourTimes=[];for(o=0;o<this._colours.length;o++){this._adjustedColours.push(this._colours[o]);this._colourTimes.push(t*o);}this._adjustedColours.push(this._colours[0]);this._colourTimes.push(t*this._colours.length);}}else{this._adjustedColours=[];this._colourTimes=[];}};H.prototype.getOpacity=function(t){if(!this._adjustedOpacities||!this._adjustedOpacities.length){return undefined;}var r={};if(this._adjustedOpacities.length===1){r.opacity=this._adjustedOpacities[0];r.isCompleted=true;return r;}var d=this._opacityTimes[this._opacityTimes.length-1];var c=t;if(this._cycles===0){while(c>d){c-=d;}}if(c>=d){if(this._cycles>0){r.isCompleted=true;r.opacity=undefined;}else{r.isCompleted=false;r.opacity=this._adjustedOpacities[this._adjustedOpacities.length-1];}return r;}var a=this._opacityTimes[1]-this._opacityTimes[0];var b=c/a;var i=Math.floor(b);var e=b-i;r.opacity=this._adjustedOpacities[i]*(1-e)+this._adjustedOpacities[i+1]*e;r.isCompleted=false;return r;};H.prototype.getColour=function(t){if(!this._adjustedColours||!this._adjustedColours.length){return undefined;}var c={};if(this._adjustedColours.length===1){c.colour=this._adjustedColours[0];c.isCompleted=true;return c;}var d=this._colourTimes[this._colourTimes.length-1];var e=t;if(this._cycles===0){while(e>d){e-=d;}}if(e>=d){if(this._cycles>0){c.isCompleted=true;c.colour=undefined;}else{c.isCompleted=false;c.colour=this._adjustedColours[this._adjustedColours.length-1];}return c;}var f=this._colourTimes[1]-this._colourTimes[0];var h=e/f;var i=Math.floor(h);var j=h-i;var r=this._adjustedColours[i][0]*(1-j)+this._adjustedColours[i+1][0]*j;var g=this._adjustedColours[i][1]*(1-j)+this._adjustedColours[i+1][1]*j;var b=this._adjustedColours[i][2]*(1-j)+this._adjustedColours[i+1][2]*j;var a=this._adjustedColours[i][3]*(1-j)+this._adjustedColours[i+1][3]*j;c.colour=[r,g,b,a];c.isCompleted=false;return c;};H.prototype.getLastOpacity=function(){var r;if(this._opacities&&this._opacities.length>0){r=this._opacities[this._opacities.length-1];}return r;};H.prototype.isFadeOut=function(){return this._fadeOut;};return H;});
