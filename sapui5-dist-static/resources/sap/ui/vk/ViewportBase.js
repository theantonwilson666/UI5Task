/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/ui/core/Control","sap/ui/core/Core","./tools/Tool","./library","./Core","./SelectionMode","./SelectionDisplayMode","./RenderMode","./SafeArea"],function(C,c,T,v,a,S,b,R,d){"use strict";var V=C.extend("sap.ui.vk.ViewportBase",{metadata:{library:"sap.ui.vk","abstract":true,properties:{showDebugInfo:{type:"boolean",defaultValue:false},backgroundColorTop:{type:"sap.ui.core.CSSColor",defaultValue:"rgba(50, 50, 50, 1)"},backgroundColorBottom:{type:"sap.ui.core.CSSColor",defaultValue:"rgba(255, 255, 255, 1)"},width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},selectionMode:{type:"sap.ui.vk.SelectionMode",defaultValue:S.Sticky},selectionDisplayMode:{type:"sap.ui.vk.SelectionDisplayMode",defaultValue:b.Highlight},showSelectionBoundingBoxes:{type:"boolean",defaultValue:true},freezeCamera:{type:"boolean",defaultValue:false},renderMode:{type:"sap.ui.vk.RenderMode",defaultValue:R.Default},showSafeArea:{type:"boolean",defaultValue:false},showAllHotspots:{type:"boolean",defaultValue:false},disableHotspotHovering:{type:"boolean",defaultValue:false},hotspotColorABGR:{type:"int",defaultValue:0xc00000ff},hotspotColor:{type:"sap.ui.core.CSSColor",defaultValue:"rgba(255, 0, 0, 0.7529411764705882)"}},associations:{contentConnector:{type:"sap.ui.vk.ContentConnector",multiple:false},viewStateManager:{type:"sap.ui.vk.ViewStateManagerBase",multiple:false},tools:{type:"sap.ui.vk.tools.Tool",multiple:true}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true},safeArea:{type:"sap.ui.vk.SafeArea",multiple:false},annotations:{type:"sap.ui.vk.Annotation",multiple:true}},events:{urlClicked:{parameters:{nodeRef:"any",url:"string"},enableEventBubbling:true},nodeClicked:{parameters:{nodeRef:"any",x:"int",y:"int"},enableEventBubbling:true},resize:{parameters:{size:"object"},enableEventBubbling:true},nodesPicked:{parameters:{picked:{type:"any[]"}},enableEventBubbling:true},nodeZoomed:{parameters:{zoomed:{type:"any"},isZoomIn:{type:"boolean"}},enableEventBubbling:true},viewActivated:{parameters:{viewIndex:"int",view:"sap.ui.vk.View",type:{type:"string"}},enableEventBubbling:true},procedureFinished:{enableEventBubbling:true},viewFinished:{parameters:{viewIndex:"int"},enableEventBubbling:true}}},constructor:function(i,s){C.apply(this,arguments);a.observeAssociations(this);}});var e=V.getMetadata().getParent().getClass().prototype;V.prototype.init=function(){if(e.init){e.init.call(this);}if(this.getSafeArea()==null){this.setSafeArea(new d());}this._camera=null;};V.prototype.exit=function(){if(this._camera){var f=c.byId(this.getContentConnector());if(f){var g=f.getContentManager();if(g){g.destroyCamera(this._camera);}this._camera=null;}}if(e.exit){e.exit.call(this);}};V.prototype.onSetContentConnector=function(f){f.attachContentReplaced(this._onContentReplaced,this);this._setContent(f.getContent());};V.prototype.onUnsetContentConnector=function(f){f.detachContentReplaced(this._onContentReplaced,this);this._setContent(null);this.setCamera(null);};V.prototype._onContentReplaced=function(f){this._setContent(f.getParameter("newContent"));};V.prototype._setContent=function(f){return this;};V.prototype.addTool=function(t){this.addAssociation("tools",t);t=t instanceof T?t:sap.ui.getCore().byId(t);t.setViewport(this);};V.prototype.getImage=function(w,h){return null;};V.prototype.stickySelectionHandler=function(n){if(this._viewStateManager==null){return;}if(n.length===0){var f=[];if(this.getSelectionDisplayMode()===b.Outline){this._viewStateManager.enumerateOutlinedNodes(function(j){f.push(j);});if(f.length>0){this._viewStateManager.setOutliningStates([],f);}}else{this._viewStateManager.enumerateSelection(function(j){f.push(j);});if(f.length>0){this._viewStateManager.setSelectionStates([],f);}}}else{var s=[];var g=[];var i,h;if(this.getSelectionDisplayMode()===b.Outline){i=this._viewStateManager.getOutliningState(n);for(h=0;h<i.length;h++){if(i[h]){g.push(n[h]);}else{s.push(n[h]);}}this._viewStateManager.setOutliningStates(s,g);}else{i=this._viewStateManager.getSelectionState(n);for(h=0;h<i.length;h++){if(i[h]){g.push(n[h]);}else{s.push(n[h]);}}this._viewStateManager.setSelectionStates(s,g);}}};V.prototype.exclusiveSelectionHandler=function(n){if(this._viewStateManager==null){return;}var f=true;if(n.length===1){f=!this._viewStateManager.getSelectionState(n[0]);}else if(n.length>1){var i;if(this.getSelectionDisplayMode()===b.Outline){i=this._viewStateManager.getOutliningState(n);}else{i=this._viewStateManager.getSelectionState(n);}for(var g=0;g<i.length;g++){if(i[g]){f=false;break;}}}var u=[];if(n.length===0||f){if(this.getSelectionDisplayMode()===b.Outline){this._viewStateManager.enumerateOutlinedNodes(function(s){u.push(s);});}else{this._viewStateManager.enumerateSelection(function(s){u.push(s);});}}if(this.getSelectionDisplayMode()===b.Outline){this._viewStateManager.setOutliningStates(n,u);}else{this._viewStateManager.setSelectionStates(n,u);}};V.prototype.setCamera=function(f){if(f!==this._camera){var g=c.byId(this.getContentConnector());if(this._camera&&g){var h=g.getContentManager();if(h){h.destroyCamera(this._camera);}}}this._camera=f;return this;};V.prototype.getCamera=function(){return this._camera;};V.prototype.activateView=function(f,p,n){return this;};V.prototype.pan=function(f,g){return this;};V.prototype.rotate=function(f,g){return this;};V.prototype.zoom=function(f){return this;};V.prototype.projectToScreen=function(x,y,z,f){return{x:0,y:0,depth:0};};V.prototype.normalizeRectangle=function(x,y,w,h){return{x:0,y:0,width:0,height:0};};V.prototype.deNormalizeRectangle=function(x,y,w,h){return{x:0,y:0,width:0,height:0};};return V;});
