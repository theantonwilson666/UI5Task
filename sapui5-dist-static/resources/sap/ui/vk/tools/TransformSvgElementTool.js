/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/base/Log","../library","./Tool","./TransformSvgElementToolHandler","./TransformSvgElementToolGizmo","./ToolNodeSet","../svg/Rectangle"],function(L,v,T,a,b,c,R){"use strict";var d=T.extend("sap.ui.vk.tools.TransformSvgElementTool",{metadata:{properties:{nodeSet:{type:"sap.ui.vk.tools.ToolNodeSet",defaultValue:c.Highlight},uniformScaleEnabled:{type:"boolean",defaultValue:false}},events:{moving:{parameters:{x:"float",y:"float",nodesProperties:{type:"any[]"}}},moved:{parameters:{x:"float",y:"float",nodesProperties:{type:"any[]"}}},rotating:{parameters:{angle:"float",nodesProperties:{type:"any[]"}}},rotated:{parameters:{angle:"float",nodesProperties:{type:"any[]"}}},scaling:{parameters:{x:"float",y:"float",nodesProperties:{type:"any[]"}}},scaled:{parameters:{x:"float",y:"float",nodesProperties:{type:"any[]"}}}}},constructor:function(i,s){if(d._instance){return d._instance;}T.apply(this,arguments);this._viewport=null;this._handler=new a(this);d._instance=this;}});d.prototype.init=function(){if(T.prototype.init){T.prototype.init.call(this);}this.setFootprint(["sap.ui.vk.svg.Viewport"]);this.setAggregation("gizmo",new b());};d.prototype.setActive=function(e,f,g){T.prototype.setActive.call(this,e,f,g);var h=this._viewport;if(h){if(e){this._gizmo=this.getGizmo();if(this._gizmo){this._gizmo.show(h,this);}this._addLocoHandler();}else{this._removeLocoHandler();if(this._gizmo){this._gizmo.hide();this._gizmo=null;}}}return this;};d.prototype.setNodeSet=function(e){this.setProperty("nodeSet",e,true);if(this._gizmo){this._gizmo.handleSelectionChanged();}};d.prototype.queueCommand=function(e){if(this._addLocoHandler()){if(this.isViewportType("sap.ui.vk.svg.Viewport")){e();}}return this;};return d;});
