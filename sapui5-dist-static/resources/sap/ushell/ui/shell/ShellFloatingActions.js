// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/Control","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/resources","./ShellFloatingAction"],function(C,q,u,r,S){"use strict";var a=C.extend("sap.ushell.ui.shell.ShellFloatingActions",{metadata:{properties:{isFooterVisible:{type:"boolean",defaultValue:false}},aggregations:{floatingActions:{type:"sap.ushell.ui.shell.ShellFloatingAction",multiple:true,singularName:"floatingAction"}}},renderer:{render:function(R,A){var f=A.getFloatingActions();R.write("<div");R.writeControlData(A);R.addClass("sapUshellShellFloatingActions");R.writeClasses();R.write(">");if(f.length){var F;if(f.length===1){F=f[0];}else{F=A._createMultipleFloatingActionsButton(f);q.each(f,function(){this.setVisible(false);R.renderControl(this);});}R.renderControl(F);}R.write("</div>");}}});a.prototype._createMultipleFloatingActionsButton=function(f){var F;var t=this;return new S({id:this.getId()+"-multipleFloatingActions",icon:"sap-icon://add",visible:true,press:function(){if(!this.hasStyleClass("sapUshellShellFloatingActionRotate")){this.addStyleClass("sapUshellShellFloatingActionRotate");if(!F){F=parseInt(this.$().outerHeight(),10)+parseInt(t.$().css("bottom"),10);}f.forEach(function(o){o.setVisible(true);});setTimeout(function(){f.forEach(function(o,i){var b=F*(i+1);o.$().css("transform","translateY(-"+b+"px)");o.data("transformY","-"+b+"px");});},0);}else{this.removeStyleClass("sapUshellShellFloatingActionRotate");f.forEach(function(o){o.$().css("transform","translateY(0)");});setTimeout(function(){f.forEach(function(o){o.setVisible(false);o.data("transformY",undefined);});},150);}},tooltip:r.i18n.getText("XXX")});};a.prototype.addFloatingAction=function(A){this.addAggregation("floatingActions",A,true);if(this.getDomRef()){var b=sap.ui.getCore().createRenderManager();b.renderControl(A);b.flush(this.getDomRef());b.destroy();}return this;};a.prototype.removeFloatingAction=function(A){if(typeof A==="number"){A=this.getAggregation("floatingActions")[A];}this.removeAggregation("floatingActions",A,true);var i=A.getId();q("#"+i).remove();return this;};return a;});
