// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.define(["sap/m/ButtonRenderer","sap/ushell/Config","sap/ushell/resources","sap/ushell/ui/launchpad/ActionItem"],function(B,C,r,A){"use strict";var a=A.extend("sap.ushell.ui.footerbar.AboutButton",{metadata:{library:"sap.ushell"},renderer:"sap.m.ButtonRenderer"});a.prototype.init=function(){if(A.prototype.init){A.prototype.init.apply(this,arguments);}this.setIcon("sap-icon://hint");this.setText(r.i18n.getText("about"));this.setTooltip(r.i18n.getText("about"));this.attachPress(this.showAboutDialog);};a.prototype.showAboutDialog=function(){var c;return sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(o){var s=Promise.resolve();c=o.getCurrentApplication();if(C.last("/core/contentProviders/providerInfo/show")){s=c.getSystemContext().then(function(S){return S.label;});}return Promise.all([c.getInfo(["technicalAppComponentId","appVersion","appFrameworkId","appFrameworkVersion","appId","appSupportInfo"]),s]);}).then(function(R){return new Promise(function(b,d){sap.ui.require(["sap/base/util/restricted/_flatten","sap/m/Button","sap/m/Dialog","sap/m/HBox","sap/m/Label","sap/m/Text","sap/m/Title","sap/m/VBox","sap/ui/core/Icon","sap/ui/core/library","sap/ui/layout/form/SimpleForm","sap/ui/layout/form/SimpleFormLayout","sap/ushell/services/AppConfiguration"],function(_,e,D,H,L,T,f,V,I,g,S,h,i){var G=function(P,n){return[new L({text:r.i18n.getText(P)}),new T({text:n||"",visible:!!n})];},o=R[0],p=R[1],F=c.homePage?o.appFrameworkVersion:undefined,l=sap.ushell.Container.getLogonSystem();var m=i.getMetadata(),s=new S({id:"aboutDialogFormID",editable:false,layout:h.ResponsiveGridLayout,content:_([G("technicalAppComponentId",o.technicalAppComponentId),G("appVersion",o.appVersion),G("appFrameworkId",o.appFrameworkId),G("appFrameworkVersion",F),G("contentProviderLabel",p),G("userAgentFld",navigator.userAgent),G("productName",l.getProductName()),G("productVersionFld",l.getProductVersion()),G("systemName",l.getSystemName()),G("systemRole",l.getSystemRole()),G("tenantRole",l.getTenantRole()),G("appId",o.appId),G("appSupportInfo",o.appSupportInfo)])}),j=[],k;if(m.icon){j.push(new I({src:m.icon}).addStyleClass("sapUiTinyMarginEnd"));}if(m.title){j.push(new f({text:m.title,level:g.TitleLevel.H3}));}if(j.length>0){s.insertContent(new H({items:j}),0);}k=new D({id:"aboutContainerDialogID",title:r.i18n.getText("about"),contentWidth:"25rem",horizontalScrolling:false,leftButton:new e({text:r.i18n.getText("okBtn"),press:function(){k.close();}}),afterClose:function(){k.destroy();if(window.document.activeElement&&window.document.activeElement.tagName==="BODY"){window.document.getElementById("meAreaHeaderButton").focus();}},content:[new V({items:[s]})]}).addStyleClass("sapContrastPlus");k.open();b(R);},d);});});};return a;});
