// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/Config"],function(C){"use strict";function _(){var s=sap.ushell.Container.getRenderer("fiori2").getShellConfig()||{},i=s.enableSearch;if(i){return new Promise(function(r){sap.ui.require(["sap/ushell/renderers/fiori2/search/userpref/SearchPrefs","sap/ushell/renderers/fiori2/search/SearchShellHelperAndModuleLoader"],function(S){var o=S.getEntry(),R=sap.ushell.Container.getRenderer("fiori2");o.isSearchPrefsActive().done(function(b){if(b&&R){R.addUserProfilingEntry(o);}}).always(r);});});}return Promise.resolve();}function a(){return new Promise(function(r){sap.ushell.Container.getServiceAsync("UsageAnalytics").then(function(U){if(U.systemEnabled()&&U.isSetUsageAnalyticsPermitted()){sap.ui.require(["sap/ushell/components/shell/Settings/userProfiling/UsageAnalyticsProfiling"],function(b){var p=C.last("/core/userPreferences/profiling");p.push(b.getProfiling());C.emit("/core/userPreferences/profiling",p);r();});}else{r();}});});}return function l(){return Promise.all([a(),_()]);};});
