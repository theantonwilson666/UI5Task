// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/XMLView","sap/base/Log","sap/ushell/resources"],function(X,L,r){"use strict";var t;function _(){if(t){return Promise.resolve(t);}return sap.ushell.Container.getServiceAsync("UserInfo").then(function(u){return new Promise(function(R){u.getThemeList().done(function(d){t=d.options||[];R(t);}).fail(function(){L.error("Failed to load theme list.");R([]);});});});}function g(){var v;var e={id:"themes",entryHelpID:"themes",title:r.i18n.getText("Appearance"),valueResult:null,contentResult:null,icon:"sap-icon://palette",valueArgument:function(){return _().then(function(T){var u=sap.ushell.Container.getUser().getTheme(),s="";for(var i=0;i<T.length;i++){if(T[i].id===u){s=T[i].name||"";break;}}return s;});},contentFunc:function(){return _().then(function(T){return X.create({id:"userPrefThemeSelector",viewName:"sap.ushell.components.shell.Settings.appearance.Appearance",viewData:{themeList:T}});}).then(function(V){v=V;return V;});},onSave:function(){if(v){return v.getController().onSave();}L.warning("Save operation for appearance settings was not executed, because the userPrefThemeSelector view was not initialized");return Promise.resolve();},onCancel:function(){if(v){v.getController().onCancel();return;}L.warning("Cancel operation for appearance settings was not executed, because the userPrefThemeSelector view was not initialized");}};return e;}return{getEntry:g};});
