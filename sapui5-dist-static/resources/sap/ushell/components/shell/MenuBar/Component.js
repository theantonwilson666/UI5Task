// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/UIComponent","sap/ushell/Config"],function(U,C){"use strict";return U.extend("sap.ushell.components.shell.MenuBar.Component",{metadata:{manifest:"json",library:"sap.ushell"},init:function(){U.prototype.init.apply(this,arguments);sap.ushell.Container.getServiceAsync("Menu").then(function(m){return Promise.all([m.isMenuEnabled(),m.getMenuModel()]);}).then(function(r){var c;var i=r[0];var m=r[1];this.setModel(m,"menu");if(i){c=sap.ui.getCore().byId("menuBarComponentContainer");}if(c){c.setComponent(this);}sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(A){var o=A.getCurrentApplication();if(!o||!o.homePage){this.setVisible(false);}}.bind(this));}.bind(this));},setVisible:function(v){v=v||C.last("/core/menu/visibleInAllStates");sap.ui.getCore().byId("menuBarComponentContainer").setVisible(!!v);}});});
