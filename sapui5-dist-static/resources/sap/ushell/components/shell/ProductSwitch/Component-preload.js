//@ui5-bundle sap/ushell/components/shell/ProductSwitch/Component-preload.js
// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.predefine('sap/ushell/components/shell/ProductSwitch/Component',["sap/base/Log","sap/ui/Device","sap/ui/core/UIComponent","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/resources","sap/ushell/utils/WindowUtils","sap/ushell/ui/shell/ShellHeadItem"],function(L,D,U,J,C,r,W,S){"use strict";function g(){return sap.ui.getCore().byId("productSwitchBtn");}function a(){return sap.ui.getCore().byId("sapUshellProductSwitchPopover");}return U.extend("sap.ushell.components.shell.ProductSwitch.Component",{metadata:{version:"1.88.1",library:"sap.ushell.components.shell.ProductSwitch",dependencies:{libs:["sap.m","sap.f"]}},createContent:function(){this.oModel=this._getModel();},_getModel:function(){var t=this,m=new J();m.loadData(C.last("/core/productSwitch/url")).then(function(){var p=m.getData();if(p.length===0){L.debug("There are no other profucts configured for your user. ProductSwitch button will be hidden.");}else{t._addProductSwitchButtonToHeader();}}).catch(function(e){L.debug(e);});return m;},_openProductSwitch:function(){var p=a();if(!p){p=sap.ui.xmlfragment("sap.ushell.components.shell.ProductSwitch.ProductSwitch",this);p.setModel(this.oModel);p.setModel(r.i18nModel,"i18n");if(D.system.phone){p.setShowHeader(true);}}var s=g();if(!s||!s.$().width()){s=sap.ui.getCore().byId("endItemsOverflowBtn");}p.openBy(s);},onProductItemPress:function(e){var t=e.getParameter("itemPressed").getTargetSrc();a().close();W.openURL(t,"_blank");},_addProductSwitchButtonToHeader:function(){var p=new S({id:"productSwitchBtn",icon:"sap-icon://grid",visible:true,tooltip:r.i18n.getText("productSwitch_tooltip"),text:r.i18n.getText("productSwitch"),ariaHaspopup:"dialog",press:this._openProductSwitch.bind(this)});sap.ushell.Container.getRenderer("fiori2").showHeaderEndItem([p.getId()],false);},exit:function(){var p=a();if(!p){p.destroy();}var h=g();if(h){h.destroy();}}});});
sap.ui.require.preload({
	"sap/ushell/components/shell/ProductSwitch/ProductSwitch.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:f="sap.f"><ResponsivePopover id="sapUshellProductSwitchPopover" placement="Bottom" showArrow="true" showHeader="false" title="{i18n&gt;productSwitch}" class="sapUshellPopupContainer sapContrastPlus"><content><f:ProductSwitch change="onProductItemPress" items="{/}"><f:items><f:ProductSwitchItem title="{title}" src="{visual/icon}" subTitle="{subtitle}" targetSrc="{targetUrl}"/></f:items></f:ProductSwitch></content></ResponsivePopover></core:FragmentDefinition>'
},"sap/ushell/components/shell/ProductSwitch/Component-preload"
);
//# sourceMappingURL=Component-preload.js.map