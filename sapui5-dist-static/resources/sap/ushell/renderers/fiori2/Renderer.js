// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/UIComponent","sap/ushell/ui/shell/ToolAreaItem","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/utils","sap/ushell/components/applicationIntegration/AppLifeCycle","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ushell/components/SharedComponentUtils","sap/ushell/services/AppConfiguration","sap/ushell/services/AppType","sap/ushell/resources","sap/base/util/UriParameters","sap/ui/thirdparty/jquery","sap/base/Log","sap/base/util/ObjectPath","sap/ui/core/library","sap/ushell/ui/shell/ShellHeadItem","sap/m/NotificationListItem","./RendererExtensions"],function(U,T,C,e,u,A,D,J,s,a,b,r,c,q,L,O,d,S,N){"use strict";var V=d.mvc.ViewType;var R=U.extend("sap.ushell.renderers.fiori2.Renderer",{metadata:{version:"1.88.1",dependencies:{version:"1.88.1",libs:["sap.ui.core","sap.m"],components:[]},routing:{config:{path:"sap.ushell.components",async:true,controlId:"viewPortContainer",clearAggregation:false,controlAggregation:"pages"},routes:[{name:"appfinder-legacy",pattern:"Shell-home&/appFinder/:menu:/:filter:"},{name:"home",pattern:["Shell-home?:hashParameters:","Shell-home&/:innerHash*:","Shell-home"],target:C.last("/core/spaces/enabled")?"pages":"home"},{name:"appfinder",pattern:["Shell-appfinder?:hashParameters:&/:innerHash*:","Shell-appfinder?:hashParameters*:","Shell-appfinder&/:innerHash*:","Shell-appfinder"],target:C.last("/core/catalog/enabled")?"appfinder":undefined},{name:"openFLPPage",pattern:["Launchpad-openFLPPage?:hashParameters:","Launchpad-openFLPPage"],target:C.last("/core/spaces/enabled")?"pages":"home"}],targets:{home:{name:"homepage",type:"Component",title:r.i18n.getText("homeBtn_tooltip"),id:"Shell-home-component",options:{manifest:false,asyncHints:{preloadBundles:C.last("/core/home/featuredGroup/enable")?["sap/fiori/flp-controls.js","sap/ushell/components/homepage/cards-preload.js"]:["sap/fiori/flp-controls.js"]},componentData:{config:{enablePersonalization:true,enableHomePageSettings:false}}}},appfinder:{name:"appfinder",type:"Component",id:"Shell-appfinder-component",options:{manifest:false,asyncHints:{preloadBundles:["sap/fiori/flp-controls.js"]},componentData:{config:{enablePersonalization:true,enableHomePageSettings:false}}}},pages:{name:"pages",type:"Component",id:"pages-component",componentData:{},options:{asyncHints:{preloadBundles:["sap/fiori/flp-controls.js"]}}}}}},init:function(){U.prototype.init.apply(this,arguments);var t=this,o=this.getRouter();var p=function(E){e.emit("trackHashChange","Shell-home");if(a.getCurrentApplication()){sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(j){j.setIsInitialNavigation(false);});}var g=window.hasher.getHash();if(!C.last("/core/spaces/enabled")&&g.indexOf("Launchpad-openFLPPage")===0){sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(j){j.replaceHashWithoutNavigation("Shell-home");});}var h=r.i18n.getText("homeBtn_tooltip");var i=t.getShellConfig().rootIntent;var I=!i||u.isFlpHomeIntent(i);A.switchViewState(I?"home":"app",false,"Shell-home");t.setCurrentCoreView("home");a.setCurrentApplication(null);A.getShellUIService().setTitle(h);A.getShellUIService().setHierarchy();A.getShellUIService().setRelatedApps();A.getAppMeta().setAppIcons();s.initializeAccessKeys();};o.getRoute("home").attachMatched(p);o.getRoute("openFLPPage").attachMatched(p);o.getRoute("appfinder-legacy").attachMatched(function(E){o.navTo("appfinder",{},true);});o.getRoute("appfinder").attachMatched(function(E){if(!C.last("/core/catalog/enabled")){L.warning("AppFinder is disabled. Re-route to the homepage.");o.navTo("home",null,true);return;}e.emit("trackHashChange","Shell-appFinder");var g=sap.ui.getCore().getComponent(t.createId("Shell-appfinder-component")),h=E.getParameter("arguments");if(sap.ushell.Container.getRenderer("fiori2")){A.getShellUIService().setBackNavigation();sap.ushell.Container.getRenderer("fiori2").setCurrentCoreView("appFinder");}a.setCurrentApplication(null);var i=g.getRouter();g.getRootControl().loaded().then(function(){i.parse(h["innerHash*"]||"");});A.switchViewState("app",false,"Shell-appfinder");A.getAppMeta().setAppIcons();s.initializeAccessKeys();});var f=new J(D);f.setDefaultBindingMode("OneWay");this.setModel(f,"device");this.setModel(r.i18nModel,"i18n");}});R.prototype.createContent=function(){var p=new c(window.location.href).get("appState")||new c(window.location.href).get("sap-ushell-config"),w,v=this.getComponentData()||{},o={applications:{"Shell-home":{}},rootIntent:"Shell-home"},f;w=(p==="headerless-opt")?"headerless":p;if(w){if(!v.config){v.config={};}v.config.appState=w;v.config.appStateOrig=p;v.config.inHeaderLessOpt=(p==="headerless-opt");}if(v.config){if(v.config.rootIntent===undefined){v.config.migrationConfig=true;}v.config=q.extend(true,o,v.config);q.extend(v.config.applications["Shell-home"],C.last("/core/home"),C.last("/core/catalog"));if(v.config.appState==="headerless"||v.config.appState==="merged"||v.config.appState==="blank"){v.config.enablePersonalization=false;C.emit("/core/shell/enablePersonalization",false);}else{v.config.enablePersonalization=C.last("/core/shell/enablePersonalization");}if(!v.config.enablePersonalization){v.config.moveEditHomePageActionToShellHeader=false;v.config.moveAppFinderActionToShellHeader=false;}}if(v.config&&v.config.customViews){Object.keys(v.config.customViews).forEach(function(h){var i=v.config.customViews[h];sap.ui.view(h,{type:i.viewType,viewName:i.viewName,viewData:i.componentData});});}var g=C.createModel("/core/shell/model",J);v.shellModel=g;f=sap.ui.view("mainShell",{type:V.JS,viewName:"sap.ushell.renderers.fiori2.Shell",height:"100%",viewData:v});f.setModel(g);this._oShellView=f;this.oShellModel=A.getElementsModel();f.loaded().then(function(h){sap.ushell.renderers.fiori2.utils.init(h.getController());this.shellCtrl=h.oController;}.bind(this));return f;};R.prototype.createExtendedShellState=function(f,g){return A.shellElements().createExtendedShellState(f,g);};R.prototype.applyExtendedShellState=function(f,g){this.oShellModel.applyExtendedShellState(f,g);};R.prototype.showLeftPaneContent=function(i,f,g){var I=typeof i==="string"?[i]:i;if(f){A.shellElements().addShellModelForApplications("paneContent",I);}else{this.oShellModel.addLeftPaneContent(I,false,g);}};R.prototype.showHeaderItem=function(i,f,g){var I=typeof i==="string"?[i]:i;if(f){A.shellElements().addShellModelForApplications("headItems",I);}else{this.oShellModel.addHeaderItem(I,false,g);}};R.prototype.showRightFloatingContainerItem=function(i,f,g){var I=typeof i==="string"?[i]:i;if(f){A.shellElements().addShellModelForApplications("RightFloatingContainerItems",I);}else{this.oShellModel.addRightFloatingContainerItem(I,false,g);}};R.prototype.showRightFloatingContainer=function(f){A.shellElements().setShellModelForApplications("showRightFloatingContainer",f);};R.prototype.showToolAreaItem=function(i,f,g){this.oShellModel.addToolAreaItem(i,true,f,g);};R.prototype.showActionButton=function(i,f,g){var B=[],h=[],o;if(typeof i==="string"){i=[i];}B=i.filter(function(I){o=sap.ui.getCore().byId(I);return o instanceof sap.m.Button&&!(o instanceof sap.ushell.ui.launchpad.ActionItem);});h=i.filter(function(I){o=sap.ui.getCore().byId(I);return o instanceof sap.ushell.ui.launchpad.ActionItem;});if(B.length){this.convertButtonsToActions(B,f,g);}if(h.length){if(f){A.shellElements().addShellModelForApplications("actions",i);}else{this.oShellModel.addActionButton(i,false,g);}}};R.prototype.showFloatingActionButton=function(i,f,g){if(f){A.shellElements().addShellModelForApplications("floatingActions",typeof i==="string"?[i]:i);}else{this.oShellModel.addFloatingActionButton(typeof i==="string"?[i]:i,false,g);}};R.prototype.showHeaderEndItem=function(i,f,g){if(f){A.shellElements().addShellModelForApplications("headEndItems",typeof i==="string"?[i]:i);}else{this.oShellModel.addHeaderEndItem(typeof i==="string"?[i]:i,false,g);}};R.prototype.setHeaderVisibility=function(v,f,g){if(f){A.shellElements().setShellModelForApplications("headerVisible",v);}else{this.oShellModel.setHeaderVisibility(v,false,g);}};R.prototype.showSubHeader=function(i,f,g){if(f){A.shellElements().addShellModelForApplications("subHeader",typeof i==="string"?[i]:i);}else{this.oShellModel.addSubHeader(typeof i==="string"?[i]:i,false,g);}};R.prototype.showSignOutItem=function(f,g){if(f){A.shellElements().addShellModelForApplications("actions",["logoutBtn"],false);}else{this.oShellModel.showSignOutButton(f,g);}};R.prototype.showSettingsItem=function(f,g){this.oShellModel.showSettingsButton(f,g);};R.prototype.setFooter=function(f){this.shellCtrl.setFooter(f);};R.prototype.setShellFooter=function(p){var o=new q.Deferred(),t=this,f,g,h=p.controlType,i=p.oControlProperties;if(i&&i.id&&sap.ui.getCore().byId(i.id)){g=sap.ui.getCore().byId(i.id);if(g){if(this.lastFooterId){this.removeFooter();}this.lastFooterId=g.getId();this.shellCtrl.setFooter(g);o.resolve(g);}}if(h){f=h.replace(/\./g,"/");sap.ui.require([f],function(j){g=new j(i);if(t.lastFooterId){t.removeFooter();}t.lastFooterId=g.getId();t.shellCtrl.setFooter(g);o.resolve(g);});}else{L.warning("You must specify control type in order to create it");}return o.promise();};R.prototype.setFooterControl=function(f,o){var g=f.replace(/\./g,"/"),h=sap.ui.require(g),i,j=false;if(h){j=true;}else if(!O.get(f||"")){q.sap.require(f);}i=this.createItem(o,undefined,function(p){if(f){if(j){return new h(p);}var k=O.get(f||"");return new k(p);}L.warning("You must specify control type in order to create it");return undefined;});if(this.lastFooterId){this.removeFooter();}this.lastFooterId=i.getId();this.shellCtrl.setFooter(i);return i;};R.prototype.hideHeaderItem=function(i,f,g){if(typeof i==="string"){this.oShellModel.removeHeaderItem([i],f,g);}else{this.oShellModel.removeHeaderItem(i,f,g);}};R.prototype.removeToolAreaItem=function(i,f,g){if(typeof i==="string"){i=[i];}this.oShellModel.removeToolAreaItem(i,f,g);};R.prototype.removeRightFloatingContainerItem=function(i,f,g){if(typeof i==="string"){this.oShellModel.removeRightFloatingContainerItem([i],f,g);}else{this.oShellModel.removeRightFloatingContainerItem(i,f,g);}};R.prototype.hideActionButton=function(i,f,g){if(typeof i==="string"){this.oShellModel.removeActionButton([i],f,g);}else{this.oShellModel.removeActionButton(i,f,g);}};R.prototype.hideLeftPaneContent=function(i,f,g){if(typeof i==="string"){this.oShellModel.removeLeftPaneContent([i],f,g);}else{this.oShellModel.removeLeftPaneContent(i,f,g);}};R.prototype.hideFloatingActionButton=function(i,f,g){if(typeof i==="string"){this.oShellModel.removeFloatingActionButton([i],f,g);}else{this.oShellModel.removeFloatingActionButton(i,f,g);}};R.prototype.hideHeaderEndItem=function(i,f,g){if(typeof i==="string"){this.oShellModel.removeHeaderEndItem([i],f,g);}else{this.oShellModel.removeHeaderEndItem(i,f,g);}};R.prototype.hideSubHeader=function(i,f,g){if(typeof i==="string"){this.oShellModel.removeSubHeader([i],f,g);}else{this.oShellModel.removeSubHeader(i,f,g);}};R.prototype.removeFooter=function(){this.shellCtrl.removeFooter();if(this.lastFooterId){var f=sap.ui.getCore().byId(this.lastFooterId);if(f){f.destroy();}this.lastFooterId=undefined;}};R.prototype.getCurrentViewportState=function(){return this.shellCtrl.getCurrentViewportState();};R.prototype.addShellSubHeader=function(p){var o=new q.Deferred(),t=this,f,g,h=p.controlType,i=p.oControlProperties,I=p.bIsVisible,j=p.bCurrentState,k=p.aStates;if(i&&i.id&&sap.ui.getCore().byId(i.id)){g=sap.ui.getCore().byId(i.id);if(g){if(I){this.showSubHeader(g.getId(),j,k);}o.resolve(g);}}if(h){f=h.replace(/\./g,"/");sap.ui.require([f],function(l){g=new l(i);if(I){t.showSubHeader(g.getId(),j,k);t.oShellModel.addElementToManagedQueue(g);}o.resolve(g);});}else{L.warning("You must specify control type in order to create it");}return o.promise();};R.prototype.addSubHeader=function(f,o,i,g,h){var j=f.replace(/\./g,"/"),k=sap.ui.require(j),l,m=false;if(k){m=true;}else if(!O.get(f||"")){q.sap.require(f);}l=this.createItem(o,g,function(p){if(f){if(m){return new k(p);}var n=O.get(f||"");return new n(p);}L.warning("You must specify control type in order to create it");return undefined;});if(i){this.showSubHeader(l.getId(),g,h);}return l;};R.prototype.addUserAction=function(p){var o=new q.Deferred(),t=this,f,g,h=p.controlType,i=p.oControlProperties,I=p.bIsVisible,j=p.bCurrentState,m=j?A.shellElements().getStateModelToUpdate():this.oShellModel.getModelToUpdate(),k=p.aStates,n;if(i){g=sap.ui.getCore().byId(i.id);}if(g){o.resolve(g);}if(h){if(h==="sap.m.Button"){h="sap.ushell.ui.launchpad.ActionItem";}f=h.replace(/\./g,"/");sap.ui.require([f],function(l){var v;if(j){v=A.shellElements().getStateModelToUpdate();A.shellElements().setStateModelToUpdate(m);}else{v=t.oShellModel.getModelToUpdate();t.oShellModel.setModelToUpdate(m,true);}g=g||new l(i);if(!g.getActionType){g=new l(i);}if(I){t.showActionButton(g.getId(),j,k);}if(j){A.shellElements().setStateModelToUpdate(v);}else{t.oShellModel.setModelToUpdate(v,false);}o.resolve(g);});}else{n="You must specify control type in order to create it";L.warning(n);o.reject(n);}return o.promise();};R.prototype.addActionButton=function(f,o,i,g,h){var j,k,l=false;if(f==="sap.m.Button"){f="sap.ushell.ui.launchpad.ActionItem";}j=f.replace(/\./g,"/");var m=sap.ui.require(j);if(m){l=true;}else if(!O.get(f||"")){q.sap.require(f);}k=this.createItem(o,g,function(p){if(f){if(l){return new m(p);}var n=O.get(f||"");return new n(p);}L.warning("You must specify control type in order to create it");return undefined;});if(i){this.showActionButton(k.getId(),g,h);}return k;};R.prototype.addFloatingButton=function(p){var o=new q.Deferred(),t=this,f,g,h=p.controlType,i=p.oControlProperties,I=p.bIsVisible,j=p.bCurrentState,k=p.aStates;if(i&&i.id&&sap.ui.getCore().byId(i.id)){g=sap.ui.getCore().byId(i.id);if(g){if(I){t.showFloatingActionButton(g.getId(),j,k);t.oShellModel.addElementToManagedQueue(g);}o.resolve(g);}}if(h){f=h.replace(/\./g,"/");}else{f="sap/m/Button";}sap.ui.require([f],function(l){g=new l(i);if(I){this.showFloatingActionButton(g.getId(),j,k);}o.resolve(g);});return o.promise();};R.prototype.addFloatingActionButton=function(f,o,i,g,h){var j,k,l,m=false;if(!f){f="sap.m.Button";}j=f.replace(/\./g,"/");k=sap.ui.require(j);if(k){m=true;}else if(!O.get(f||"")){q.sap.require(f);}l=this.createItem(o,g,function(p){if(f){if(m){return new k(p);}var n=O.get(f||"");return new n(p);}L.warning("You must specify control type in order to create it");return undefined;});if(i){this.showFloatingActionButton(l.getId(),g,h);}return l;};R.prototype.addSidePaneContent=function(p){var o=new q.Deferred(),t=this,f,g,h=p.controlType,i=p.oControlProperties,I=p.bIsVisible,j=p.bCurrentState,k=p.aStates;if(i&&i.id&&sap.ui.getCore().byId(i.id)){g=sap.ui.getCore().byId(i.id);if(g){o.resolve(g);}}if(h){f=h.replace(/\./g,"/");sap.ui.require([f],function(l){g=new l(i);if(I){t.oShellModel.addElementToManagedQueue(g);t.showLeftPaneContent(g.getId(),j,k);}o.resolve(g);});}else{L.warning("You must specify control type in order to create it");}return o.promise();};R.prototype.addLeftPaneContent=function(f,o,i,g,h){var j=f.replace(/\./g,"/"),k=sap.ui.require(j),l;if(k){l=true;}else if(!O.get(f||"")){q.sap.require(f);}var m=this.createItem(o,g,function(p){if(f){if(l){return new k(p);}var n=O.get(f||"");return new n(p);}L.warning("You must specify control type in order to create it");return undefined;});if(i){this.showLeftPaneContent(m.getId(),g,h);}return m;};R.prototype.addHeaderItem=function(f,o,i,g,h){if(typeof(arguments[0])==="object"&&typeof(arguments[1])==="boolean"){o=arguments[0];i=arguments[1];g=arguments[2];h=arguments[3];}else{L.error("sap.ushell.renderers.fiori2.Renderer: The parameter 'controlType' of the function 'addHeaderItem' is deprecated. Usage will be ignored!");}var I=this.createItem(o,g,function(p){return new S(p);});if(i){this.showHeaderItem(I.getId(),g,h);}return I;};R.prototype.addRightFloatingContainerItem=function(o,i,f,g){var I=this.createItem(o,f,function(p){return new N(p);});if(i){this.showRightFloatingContainerItem(I.getId(),f,g);}return I;};R.prototype.addToolAreaItem=function(o,i,f,g){o.visible=!!i;var h=function(p){return new T(p);},I=this.createItem(o,f,h);this.oShellModel.addToolAreaItem(I.getId(),!!i,f,g);return I;};R.prototype.addHeaderEndItem=function(f,o,i,g,h){if(typeof(arguments[0])==="object"&&typeof(arguments[1])==="boolean"){o=arguments[0];i=arguments[1];g=arguments[2];h=arguments[3];}var I=this.createItem(o,g,function(p){return new S(p);});if(i){this.showHeaderEndItem(I.getId(),g,h);}return I;};R.prototype.getModelConfiguration=function(){return this.shellCtrl.getModelConfiguration();};R.prototype.addEndUserFeedbackCustomUI=function(o,f){this.shellCtrl.addEndUserFeedbackCustomUI(o,f);};R.prototype.addUserPreferencesEntry=function(f){return this.shellCtrl.addUserPreferencesEntry(f);};R.prototype.setHeaderTitle=function(t){this.shellCtrl.setHeaderTitle(t);};R.prototype.setLeftPaneVisibility=function(l,v){this.oShellModel.setLeftPaneVisibility(v,false,[l]);};R.prototype.showToolArea=function(l,v){this.oShellModel.showShellItem("/toolAreaVisible",l,v);};R.prototype.setHeaderHiding=function(h){return this.oShellModel.setHeaderHiding(h);};R.prototype.setFloatingContainerContent=function(o,f,g){this.shellCtrl.setFloatingContainerContent("floatingContainerContent",[o.getId()],f,g);};R.prototype.setFloatingContainerVisibility=function(v){this.shellCtrl.setFloatingContainerVisibility(v);};R.prototype.getFloatingContainerState=function(){return this.shellCtrl.getFloatingContainerState();};R.prototype.getFloatingContainerVisiblity=function(){return this.shellCtrl.getFloatingContainerVisibility();};R.prototype.getRightFloatingContainerVisibility=function(){return this.shellCtrl.getRightFloatingContainerVisibility();};R.prototype.setFloatingContainerDragSelector=function(E){this.shellCtrl.setFloatingContainerDragSelector(E);};R.prototype.makeEndUserFeedbackAnonymousByDefault=function(E){this.shellCtrl.makeEndUserFeedbackAnonymousByDefault(E);};R.prototype.showEndUserFeedbackLegalAgreement=function(f){this.shellCtrl.showEndUserFeedbackLegalAgreement(f);};R.prototype.LaunchpadState={App:"app",Home:"home"};R.prototype.createTriggers=function(t,f,g){this.oShellModel.createTriggers(t,f,g);};R.prototype.convertButtonsToActions=function(i,f,g){var p={},B,t=this;i.forEach(function(I){B=sap.ui.getCore().byId(I);p.id=B.getId();p.text=B.getText();p.icon=B.getIcon();p.tooltip=B.getTooltip();p.enabled=B.getEnabled();p.visible=B.getVisible();if(B.mEventRegistry&&B.mEventRegistry.press){p.press=B.mEventRegistry.press[0].fFunction;}B.destroy();t.addActionButton("sap.ushell.ui.launchpad.ActionItem",p,p.visible,f,g);});};R.prototype.createItem=function(o,f,g){var i;if(o&&o.id){i=sap.ui.getCore().byId(o.id);}if(!i){i=g(o);if(f){this.oShellModel.addElementToManagedQueue(i);}}return i;};R.prototype.addEntryInShellStates=function(n,f,g,h,o){this.oShellModel.addEntryInShellStates(n,f,g,h,o);};R.prototype.removeCustomItems=function(f,i,g,h){if(typeof i==="string"){this.oShellModel.removeCustomItems(f,[i],g,h);}else{this.oShellModel.removeCustomItems(f,i,g,h);}};R.prototype.addCustomItems=function(f,i,g,h){if(typeof i==="string"){this.oShellModel.addCustomItems(f,[i],g,h);}else{this.oShellModel.addCustomItems(f,i,g,h);}};R.prototype.addRightViewPort=function(v){this.shellCtrl.getViewPortContainer().addRightViewPort(v,false);};R.prototype.addLeftViewPort=function(v){this.shellCtrl.getViewPortContainer().addLeftViewPort(v,false);};R.prototype.getShellController=function(){return this.shellCtrl;};R.prototype.getViewPortContainerCurrentState=function(){return this.shellCtrl.getViewPortContainer().getCurrentState();};R.prototype.ViewPortContainerNavTo=function(n,t,f){return this.shellCtrl.getViewPortContainer().navTo(n,t,f);};R.prototype.switchViewPortStateByControl=function(){};R.prototype.ViewPortContainerAttachAfterSwitchStateAnimationFinished=function(){};R.prototype.setMeAreaSelected=function(f){this.shellCtrl.setMeAreaSelected(f);};R.prototype.getMeAreaSelected=function(){return this.shellCtrl.getMeAreaSelected();};R.prototype.setNotificationsSelected=function(f){this.shellCtrl.setNotificationsSelected(f);};R.prototype.getNotificationsSelected=function(){return this.shellCtrl.getNotificationsSelected();};R.prototype.addShellDanglingControl=function(o){this.shellCtrl.getView().addDanglingControl(o);};R.prototype.getShellConfig=function(){return(this.shellCtrl.getView().getViewData()?this.shellCtrl.getView().getViewData().config||{}:{});};R.prototype.getEndUserFeedbackConfiguration=function(){return this.shellCtrl.oEndUserFeedbackConfiguration;};R.prototype.reorderUserPrefEntries=function(f){return this.shellCtrl._reorderUserPrefEntries(f);};R.prototype.addUserProfilingEntry=function(f){this.shellCtrl.addUserProfilingEntry(f);};R.prototype.logRecentActivity=function(o){if(!o.appType){o.appType=b.APP;}if(!o.appId){o.appId=o.url;}return this.shellCtrl._logRecentActivity(o);};R.prototype.setCurrentCoreView=function(f){this.currentCoreView=f;};R.prototype.getCurrentCoreView=function(){return this.currentCoreView;};R.prototype._isBuiltInIntent=function(p){if(!R._aBuiltInRoutes){var f=R.getMetadata().getRoutes();R._aBuiltInRoutes=f.reduce(function(g,o){return g.concat(o.pattern);},[]);}if(!p||!p.semanticObject||!p.action){return false;}var i=p.semanticObject+"-"+p.action;return R._aBuiltInRoutes.indexOf(i)!==-1;};return R;},true);
