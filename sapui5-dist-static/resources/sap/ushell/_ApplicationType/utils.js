// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/thirdparty/URI","sap/ushell/utils","sap/ushell/_ApplicationType/systemAlias"],function(U,u,s){"use strict";var a;function g(){if(!a){a=sap.ushell.Container.getService("URLParsing");}return a;}function b(o,S,f){if(!f||f===s.SYSTEM_ALIAS_SEMANTICS.applied){return s.isAbsoluteURI(o)&&!S;}if(f===s.SYSTEM_ALIAS_SEMANTICS.apply){return s.isAbsoluteURI(o);}throw new Error("Invalid system alias semantics: '"+f+"'");}function c(p,f){var S,F;if(p){var h=f.match(/#.*/);if(h){F=h;S=f.replace(h,"");}else{S=f;F="";}f=S+((f.indexOf("?")<0)?"?":"&")+p+F;}return f;}function d(p,f){var a=g();var h=f.match(/#.*/);var i=h&&h[0];if(!i){var P=a.paramsToString(p);return c(P,f);}var j=a.parseShellHash(i);Object.keys(p).forEach(function(n){var o=p[n];j.params[n]=[o];});var k=Object.keys(j.params).reduce(function(o,K){var v=j.params[K];var V=v.map(function(n){return encodeURIComponent(n);});o[encodeURIComponent(K)]=V;return o;},{});j.params=k;var l=f.replace(i,"");var m=a.constructShellHash(j);return l+"#"+m;}function e(r,f){if(r["sap-system"]&&r["sap-system"]!=null&&r["sap-system"]!=undefined&&r["sap-system"]!=""){r.systemAlias=r["sap-system"];}else{r.systemAlias=f.systemAlias;}if(r.systemAlias===undefined){delete r.systemAlias;}}return{getURLParsing:g,appendParametersToUrl:c,appendParametersToIntentURL:d,absoluteUrlDefinedByUser:b,setSystemAlias:e};},false);
