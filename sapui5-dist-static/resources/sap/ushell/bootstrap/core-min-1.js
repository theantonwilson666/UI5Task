//@ui5-bundle sap/ushell/bootstrap/core-min-1.js
// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.predefine('sap/ushell/renderers/fiori2/Shell.view',["sap/ui/core/library","sap/ushell/library","sap/ui/Device","sap/ushell/components/_HeaderManager/ControlManager","sap/ushell/components/_HeaderManager/ShellHeader.controller","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ushell/resources","sap/ushell/utils","sap/ushell/Config","sap/ushell/EventHub","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery","sap/ushell/renderers/fiori2/AccessKeysHandler","sap/ui/core/mvc/XMLView"],function(c,l,D,H,S,A,r,u,C,E,J,q,a,X){"use strict";function s(i,o){return sap.ui.getCore().byId(o.getObject());}sap.ui.jsview("sap.ushell.renderers.fiori2.Shell",{createContent:function(o){this.oController=o;var v=this.getViewData()||{},b=v.config||{};this.oConfig=b;this.aDanglingControls=[];this._allowUpToThreeActionInShellHeader(b);var U=sap.ui.xmlfragment("sap.ushell.ui.ShellLayout",o),d=this.createShellHeader(b,this.getViewData().shellModel);U.setHeader(d);d.setShellLayout(U);E.once("CreateToolArea").do(function(){sap.ui.require(["sap/ushell/ui/shell/ToolArea"],function(T){var e=new T({id:"shell-toolArea",toolAreaItems:{path:"/currentState/toolAreaItems",factory:s}});e.updateAggregation=this.updateShellAggregation;e.addEventDelegate({onAfterRendering:function(){U.applySplitContainerSecondaryContentSize();}});U.setToolArea(e);}.bind(this));}.bind(this));this.setOUnifiedShell(U);this.setDisplayBlock(true);this.addDanglingControl(sap.ui.getCore().byId("viewPortContainer"));u.setPerformanceMark("FLP - Shell.view rendering started!");return U;},_allowUpToThreeActionInShellHeader:function(o){if(Object.keys(o).length>3){var p=["moveAppFinderActionToShellHeader","moveUserSettingsActionToShellHeader","moveGiveFeedbackActionToShellHeader","moveContactSupportActionToShellHeader","moveEditHomePageActionToShellHeader"],b=0,P;for(var i=0;i<5;i++){P=p[i];if(b===3){o[P]=false;}else if(o[P]){b++;}}}},createShellHeader:function(o,b){var d=C.createModel("/core/shellHeader",J),h=new S(),e;h.onInit();e=sap.ui.xmlfragment("sap.ushell.ui.ShellHeader",h);H.init(o,h,b);if(D.system.desktop){e.setAccessKeyHandler(a);}if(o.appState==="embedded"){e.setNoLogo();}e.setModel(d);e.setModel(r.i18nModel,"i18n");e.createUIArea();return e;},createPostCoreExtControls:function(){sap.ui.require(["sap/ushell/ui/shell/FloatingContainer","sap/ushell/ui/shell/ShellFloatingActions"],function(F,b){var o=sap.ui.getCore().byId("shell");if(!o){return;}var d=new F({id:"shell-floatingContainer",content:{path:"/currentState/floatingContainerContent",factory:s}});if(D.system.desktop){d.addCustomData(new A({key:"tabindex",value:"-1",writeToDom:true}));d.addEventDelegate({onsapskipforward:function(g){g.preventDefault();a.sendFocusBackToShell(g);}});}d.setModel(o.getModel());this.addDanglingControl(d);var e=new b({id:"shell-floatingActions",floatingActions:{path:"/currentState/floatingActions",factory:s}});e.updateAggregation=this.updateShellAggregation;var f=this.getOUnifiedShell();f.setFloatingContainer(d);f.setFloatingActionsContainer(e);this._createAllMyAppsView();}.bind(this));},_createAllMyAppsView:function(){var o=function(b){if(b.isEnabled()){this._initializeAllMyAppsView();}}.bind(this);sap.ushell.Container.getServiceAsync("AllMyApps").then(o);},_initializeAllMyAppsView:function(){X.create({id:"allMyAppsView",viewName:"sap.ushell.renderers.fiori2.allMyApps.AllMyApps"}).then(function(b){var m=this.getModel();b.setModel(m);b.setModel(r.i18nModel,"i18n");b.addCustomData(new A({key:"aria-label",value:r.i18n.getText("allMyApps_headerTitle"),writeToDom:true}));this.getOUnifiedShell().getHeader().getAppTitle().setAllMyApps(b);}.bind(this));},getOUnifiedShell:function(){return this.oUnifiedShell;},setOUnifiedShell:function(U){this.oUnifiedShell=U;},updateShellAggregation:function(n){var b=this.mBindingInfos[n],o=this.getMetadata().getJSONKeys()[n],d;q.each(this[o._sGetter](),function(i,v){this[o._sRemoveMutator](v);}.bind(this));q.each(b.binding.getContexts(),function(i,v){d=b.factory(this.getId()+"-"+i,v)?b.factory(this.getId()+"-"+i,v).setBindingContext(v,b.model):"";this[o._sMutator](d);}.bind(this));},getControllerName:function(){return"sap.ushell.renderers.fiori2.Shell";},addDanglingControl:function(o){this.aDanglingControls.push(o);},destroyDanglingControls:function(){if(this.aDanglingControls){this.aDanglingControls.forEach(function(o){if(o.destroyContent){o.destroyContent();}o.destroy();});}}});});
sap.ui.predefine('sap/ushell/resources',["sap/ui/model/resource/ResourceModel"],function(R){"use strict";var r={};r.getTranslationModel=function(l){var o;if(r._oResourceModel){o=r._oResourceModel;}else{o=new R({bundleUrl:sap.ui.require.toUrl("sap/ushell/renderers/fiori2/resources/resources.properties"),bundleLocale:l});r._oResourceModel=o;}return o;};r.i18nModel=r.getTranslationModel(sap.ui.getCore().getConfiguration().getLanguage());r.i18n=r.i18nModel.getResourceBundle();return r;},true);
sap.ui.predefine('sap/ushell/services/AllMyApps',[],function(){"use strict";function A(c,p,s){var S=s&&s.config,e=false,d={},P={HOME:0,EXTERNAL:1,CATALOG:2};this.isEnabled=function(){e=(!S||(S.enabled!==false))?true:false;return e;};this.isHomePageAppsEnabled=function(){return(!S||(S.showHomePageApps!==false))?true:false;};this.isCatalogAppsEnabled=function(){return(!S||(S.showCatalogApps!==false))?true:false;};this.isExternalProviderAppsEnabled=function(){return(!S||(S.showExternalProviders!==false))?true:false;};this.registerExternalProvider=function(a,o){if(!a||(a==="")){return;}if(!o.getTitle||!o.getData){return;}d[a]=o;};this.getDataProviders=function(){return d;};this.getProviderTypeEnum=function(){return P;};this.init=function(){};}A.hasNoAdapter=true;return A;},true);
sap.ui.predefine('sap/ushell/services/AppConfiguration',["sap/ushell/utils","sap/ushell/EventHub","sap/base/Log","sap/ui/util/Mobile","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath","sap/base/i18n/ResourceBundle","sap/ushell/resources","sap/ui/core/IconPool","sap/m/library"],function(u,E,L,M,q,O,R,r,I,m){"use strict";var B=m.ButtonType;function A(){var o={},a=true,c=null,b=[],d=[];E.on("AppRendered").do(e.bind(this));function e(){a=false;if(d.length){for(var i=0;i<d.length;i++){d[i]();}d.length=0;}}this.addActivity=function(g){var C=sap.ushell.Container;return C&&C.getService("UserRecents").addActivity(g);};this.setApplicationInInitMode=function(){a=true;};this.getApplicationRequestQueue=function(){return d;};this.getCurrentApplication=function(){return c;};this.getCurrentAppliction=this.getCurrentApplication;this.getMetadata=function(g){if(!g){g=c;}if(g){var h=hasher&&hasher.getHash?hasher.getHash():"",k=this._processKey(h);if(!(o.hasOwnProperty(k))||!o[k].complete){this.addMetadata(g,k);}if(!o[k]){o[k]={complete:false};}if(!o[k].title){o[k].title=g.text||r.i18n.getText("default_app_title");}return o[k];}return{};};this._processKey=function(C){var i=C.split("?")[0],p=C.split("?")[1],s,P={},S,g="",h="",j;if(p){s=p.split("&");s.forEach(function(k){var l=k.split("=");P[l[0]]=l[1];});S=Object.keys(P).sort();S.forEach(function(k,l){h=l?"&":"?";g+=h+k+"="+P[k];});return i+g;}j=sap.ushell.Container.getService("URLParsing").parseShellHash(C);i=j?j.semanticObject+"-"+j.action:"";return i;};this.setCurrentApplication=function(g){c=g;if(d.length){d.length=0;}};this.setHeaderHiding=function(){L.warning("Application configuration headerHiding property is deprecated and has no effect");};this.addApplicationSettingsButtons=function(g){if(a){d.push(function(){f(g);});}else{f(g);}};function f(g){var i,h=[],j=sap.ushell.Container.getRenderer("fiori2");for(i=0;i<g.length;i++){var C=g[i];h.push(C.getId());C.setIcon(C.getIcon()||I.getIconURI("customize"));if(r.i18n.getText("userSettings")===C.getProperty("text")){C.setProperty("text",r.i18n.getText("userAppSettings"));}C.setType(B.Unstyled);}if(sap.ushell.Container&&j){if(b.length){j.hideActionButton(b,true);}b=h;j.showActionButton(h,true,undefined,true);}}this.setWindowTitle=function(t){window.document.title=t;};this.setIcons=function(i){M.setIcons(i);};this.setApplicationFullWidth=function(v){sap.ushell.components.applicationIntegration.AppLifeCycle.setApplicationFullWidth(v);};this.getSettingsControlAsync=function(){var D=new q.Deferred();sap.ui.require(["sap/ushell/ui/footerbar/SettingsButton"],function(S){D.resolve(new S());});return D.promise();};this.getSettingsControl=function(){var s="sap/ushell/ui/footerbar/SettingsButton",g="sap.ushell.ui.footerbar.SettingsButton",S=sap.ui.require(s);if(S){return new S();}q.sap.require(g);S=O.get(g||"");return new S();};this.getApplicationName=function(g){var h,s=(g&&g.additionalInformation)||null;if(s){h=/^SAPUI5\.Component=(.+)$/i.exec(s);if(h){return h[1];}}return null;};this.getApplicationUrl=function(g){var U=(g&&g.url)||null,s="P_TCODE",i;if(U){if(g.applicationType==="NWBC"&&U.indexOf(s)){return U;}i=U.indexOf("?");if(i>=0){U=U.slice(0,i);}if(U.slice(-1)!=="/"){U+="/";}}return U;};this.getPropertyValueFromConfig=function(C,p,g){var v;if(g&&C.hasOwnProperty(p+"Resource")){v=g.getText(C[p+"Resource"]);}else if(C.hasOwnProperty(p)){v=C[p];}return v;};this.getPropertyValueFromManifest=function(l,p,P){var s=p[P].manifestEntryKey,g=p[P].path,h=l.getManifestEntry(s);return O.get(g||"",h);};this.addMetadata=function(g,k){try{var C=this.getApplicationName(g),U=this.getApplicationUrl(g),l,h,p={fullWidth:{manifestEntryKey:"sap.ui",path:"fullWidth"},hideLightBackground:{manifestEntryKey:"sap.ui",path:"hideLightBackground"},title:{manifestEntryKey:"sap.app",path:"title"},icon:{manifestEntryKey:"sap.ui",path:"icons.icon"},favIcon:{manifestEntryKey:"sap.ui",path:"icons.favIcon"},homeScreenIconPhone:{manifestEntryKey:"sap.ui",path:"icons.phone"},"homeScreenIconPhone@2":{manifestEntryKey:"sap.ui",path:"icons.phone@2"},homeScreenIconTablet:{manifestEntryKey:"sap.ui",path:"icons.tablet"},"homeScreenIconTablet@2":{manifestEntryKey:"sap.ui",path:"icons.tablet@2"},startupImage320x460:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x920"},startupImage640x920:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x920"},startupImage640x1096:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x1096"},startupImage768x1004:{manifestEntryKey:"sap.ui",path:"icons.startupImage768x1004"},startupImage748x1024:{manifestEntryKey:"sap.ui",path:"icons.startupImage748x1024"},startupImage1536x2008:{manifestEntryKey:"sap.ui",path:"icons.startupImage1536x2008"},startupImage1496x2048:{manifestEntryKey:"sap.ui",path:"icons.startupImage1496x2048"},compactContentDensity:{manifestEntryKey:"sap.ui5",path:"contentDensities.compact"},cozyContentDensity:{manifestEntryKey:"sap.ui5",path:"contentDensities.cozy"}},i,s,j,n,P,t,v,w=g&&g.componentHandle;if(k){if(!(o.hasOwnProperty(k))){o[k]={complete:false};}if(!o[k].complete){if(w){l=w.getMetadata();}else if(C){L.warning("No component handle available for '"+C+"'; SAPUI5 component metadata is incomplete",null,"sap.ushell.services.AppConfiguration");return;}if(l){h=l.getConfig();n=(l.getManifest()!==undefined);o[k].complete=true;if(h){t=h.resourceBundle||"";if(t){if(t.slice(0,1)!=="/"){t=U+t;}v=R.create({url:t,locale:sap.ui.getCore().getConfiguration().getLanguage()});}}for(P in p){if(p.hasOwnProperty(P)){if(n){o[k][P]=this.getPropertyValueFromManifest(l,p,P);}if(h&&o[k][P]===undefined){o[k][P]=this.getPropertyValueFromConfig(h,P,v);}}}o[k].version=l.getVersion();o[k].technicalName=l.getComponentName();}else if(u.isApplicationTypeEmbeddedInIframe(g.applicationType)){var W="/~canvas;window=app/wda/",x=g.url.indexOf(W),y="/sap/bc/webdynpro/sap/",z="/bc/gui/sap/its/webgui",D=g.url.indexOf(z);if(x>=0){o[k].technicalName=g.url.substring((x+W.length),g.url.indexOf("/",(x+W.length)));}if(g.url.indexOf(y)>=0){o[k].technicalName=new RegExp(y+"(.*)[?]").exec(g.url)[1];}o[k].complete=true;if(D>=0){var F="etransaction=",G=g.url.indexOf(F,D+z.length),H=g.url.indexOf("&",G),J=(H>=0)?H:g.url.length;o[k].technicalName=decodeURIComponent(g.url.substring(G+F.length,J))+" (TCODE)";}}else{L.warning("No technical information for the given application could be determined",null,"sap.ushell.services.AppConfiguration");}}i=["favIcon","homeScreenIconPhone","homeScreenIconPhone@2","homeScreenIconTablet","homeScreenIconTablet@2","startupImage320x460","startupImage640x920","startupImage640x1096","startupImage768x1004","startupImage748x1024","startupImage1536x2008","startupImage1496x2048"];s=(U&&U[U.length-1]==="/")?U.substring(0,U.length-1):U;j=function(U){if(U.match(/^https?:\/\/.*/)){return false;}return U&&U[0]!=="/";};i.forEach(function(N){var Q=o[k][N],S=null;if(Q){S=j(Q)?s+"/"+Q:Q;}o[k][N]=S;});}}catch(K){L.warning("Application configuration could not be parsed");}};}return new A();},true);
sap.ui.predefine('sap/ushell/services/AppLifeCycle',["sap/ui/base/EventProvider","sap/ushell/TechnicalParameters","sap/ushell/AppInfoParameters","sap/base/Log"],function(E,T,A,L){"use strict";var S="appLoaded";function a(o,c,p,C){var b,e,v;this.getCurrentApplication=function(){return b;};this.attachAppLoaded=function(d,f,l){e.attachEvent(S,d,f,l);};this.detachAppLoaded=function(f,l){e.detachEvent(S,f,l);};this.prepareCurrentAppObject=function(d,f,h,g){s(d,f,h,g);};this.reloadCurrentApp=function(){try{sap.ushell.Container.getService("ShellNavigation").hashChanger.treatHashChanged(window.hasher.getHash());}catch(d){L.error("Error when trying to re-load the current displayed application",d,"sap.ushell.services.AppLifeCycle");}};e=new E();if(sap.ushell.Container.inAppRuntime()===false){r();}function r(){v=sap.ui.getCore().byId("viewPortContainer");if(!v||typeof v.attachAfterNavigate!=="function"){jQuery.sap.log.error("Error during instantiation of AppLifeCycle service","Could not attach to afterNavigate event","sap.ushell.services.AppLifeCycle");return;}v.attachAfterNavigate(function(d){var f,g,h,i,j,H=false;if(d.mParameters.toId.indexOf("applicationShellPage")===0){g=d.mParameters.to.getApp();}else if(d.mParameters.toId.indexOf("application")===0){g=d.mParameters.to;}if(g&&typeof g.getComponentHandle==="function"&&g.getComponentHandle()){i=g.getComponentHandle().getInstance();}else if(g){f=g.getAggregation("child");if(f){i=f.getComponentInstance();}}else{i=sap.ui.getCore().getComponent(d.mParameters.to.getComponent());}if(i){j=i.getId();H=j.indexOf("Shell-home-component")!==-1||j.indexOf("pages-component")!==-1||j.indexOf("Shell-appfinder-component")!==-1;}h=g&&typeof g.getApplicationType==="function"&&g.getApplicationType();if((!h||h==="URL")&&i){h="UI5";}s(h,i,H,g);});}function s(d,f,h,g){b={applicationType:d,componentInstance:f,homePage:h,getTechnicalParameter:function(P){return T.getParameterValue(P,f,g,d);},getIntent:function(){var H=hasher&&hasher.getHash();if(!H){return Promise.reject("Could not identify current application hash");}var i=sap.ushell.Container.getServiceAsync("URLParsing");return i.then(function(P){return P.parseShellHash(H);});},getInfo:function(P){return A.getInfo(P,b);},getSystemContext:function(){var i=sap.ushell.services.AppConfiguration.getCurrentApplication()||{};var j=i.contentProviderId||"";return sap.ushell.Container.getService("ClientSideTargetResolution").getSystemContext(j);}};setTimeout(function(){e.fireEvent(S,b);},0);}}a.hasNoAdapter=true;return a;},true);
sap.ui.predefine('sap/ushell/services/AppState',["sap/ushell/services/_AppState/WindowAdapter","sap/ushell/services/_AppState/SequentializingAdapter","sap/ushell/services/_AppState/AppState","sap/ushell/services/_AppState/Sequentializer","sap/ushell/services/_AppState/AppStatePersistencyMethod","sap/ushell/utils","sap/ui/thirdparty/jquery"],function(W,S,A,a,b,u,q){"use strict";function g(C){return u.isDefined(C)&&u.isDefined(C.transient)?!!C.transient:true;}function c(o,C,p,e){this._oConfig=e&&e.config;this._sSessionKey="";this._oAdapter=new S(o);this._oAdapter=new W(this,this._oAdapter,e);}c.prototype._getSessionKey=function(){if(!this._sSessionKey){this._sSessionKey=this._getGeneratedKey();}return this._sSessionKey;};c.prototype.getAppState=function(k){var D=new q.Deferred(),t=this,o;this._loadAppState(k).done(function(k,s,p,P){o=new A(t,k,false,s,undefined,undefined,undefined,p,P);D.resolve(o);}).fail(function(){o=new A(t,k);D.resolve(o);});return D.promise();};c.prototype._getGeneratedKey=function(t){var k=sap.ushell.Container.getService("Personalization").getGeneratedKey();if(t){k=("TAS"+k).substring(0,41);}else{k=("AS"+k).substring(0,40);}return k;};c.prototype.createEmptyAppState=function(C,t,p,P){var o,s="",e="",U=u.isDefined(t)?t:g(this._oConfig),k=this._getGeneratedKey(U);if(p!==undefined&&!this.isPersistencyMethodSupported(p)){p=undefined;P=undefined;}if(C){if(!(C instanceof sap.ui.core.UIComponent)){throw new Error("oComponent passed must be a UI5 Component");}if(C.getMetadata&&C.getMetadata()&&typeof C.getMetadata().getName==="function"){s=C.getMetadata().getName()||"";}if(!s&&C.getMetadata&&C.getMetadata().getComponentName){s=C.getMetadata().getComponentName();}if(C.getMetadata&&C.getMetadata()&&typeof C.getMetadata().getManifest==="function"&&typeof C.getMetadata().getManifest()==="object"&&typeof C.getMetadata().getManifest()["sap.app"]==="object"){e=C.getMetadata().getManifest()["sap.app"].ach||"";}}if(U===true){p=P=undefined;}else if(p===undefined&&this.isPersistencyMethodSupported(b.PersonalState)){p=b.PersonalState;P=undefined;}o=new A(this,k,true,undefined,s,e,U,p,P);return o;};c.prototype.createEmptyUnmodifiableAppState=function(){var k=this._getGeneratedKey(),o;o=new A(this,k,false);return o;};c.prototype._saveAppState=function(k,D,s,C,t,p,P){var e=this._getSessionKey(),U=u.isDefined(t)?t:g(this._oConfig);if(U){p=undefined;P=undefined;}else if(p!==undefined){if(!this.isPersistencyMethodSupported(p)){if(this.isPersistencyMethodSupported(b.PersonalState)){p=b.PersonalState;}else{p=undefined;}P=undefined;}}return this._oAdapter.saveAppState(k,e,D,s,C,U,p,P);};c.prototype._loadAppState=function(k){return this._oAdapter.loadAppState(k);};c.prototype.deleteAppState=function(k){return this._oAdapter.deleteAppState(k);};c._getSequentializer=function(){return new a();};c.prototype.getSupportedPersistencyMethods=function(){if(this._oAdapter.getSupportedPersistencyMethods){return this._oAdapter.getSupportedPersistencyMethods();}return[];};c.prototype.isPersistencyMethodSupported=function(p){var s=this.getSupportedPersistencyMethods();if(s.length>0&&p!==undefined){return(s.indexOf(p)>=0);}return false;};c.prototype.setAppStateToPublic=function(e){var x=d(e,"sap-xapp-state"),i=d(e,"sap-iapp-state"),X=new q.Deferred().resolve(),I=new q.Deferred().resolve(),D=new q.Deferred(),s=undefined,f=undefined;if(x!==undefined){X=this.makeStatePersistent(x,b.PublicState).done(function(n){if(x!==n){e=e.replace(x,n);s=n;}}).fail(D.reject);}if(i!==undefined){I=this.makeStatePersistent(i,b.PublicState).done(function(n){if(i!==n){e=e.replace(i,n);f=n;}}).fail(D.reject);}q.when(X,I).done(function(){D.resolve(e,x,i,s,f);});return D.promise();};function d(U,p){var r=new RegExp("(?:"+p+"=)([^&/]+)"),R=r.exec(U),v;if(R&&R.length===2){v=R[1];}return v;}c.prototype.makeStatePersistent=function(k,p,e){var D=new q.Deferred();if(this.getSupportedPersistencyMethods().length===0){return D.resolve(k);}if(this.isPersistencyMethodSupported(p)){this.getAppState(k).done(function(o){if(o._iPersistencyMethod!==p){o.bTransient=false;o._iPersistencyMethod=p;o._oPersistencySettings=e;if(k.startsWith("TAS")){k=k.substring(1,k.length);}this._saveAppState(k,o._sData,o._sAppName,o._sACHComponent,false,p,e).done(function(){D.resolve(k);}).fail(D.reject);}else{D.resolve(k);}}.bind(this)).fail(D.reject);}else{D.reject("AppState.makeStatePersistent - adapter does not support persistence method: "+p);}return D.promise();};c.WindowAdapter=W;c.hasNoAdapter=false;return c;},true);
sap.ui.predefine('sap/ushell/services/AppType',["sap/ushell/resources"],function(r){"use strict";return{OVP:"OVP",SEARCH:"Search",FACTSHEET:"FactSheet",COPILOT:"Co-Pilot",URL:"External Link",APP:"Application",getDisplayName:function(a){switch(a){case this.OVP:return r.i18n.getText("Apptype.OVP");case this.SEARCH:return r.i18n.getText("Apptype.SEARCH");case this.FACTSHEET:return r.i18n.getText("Apptype.FACTSHEET");case this.COPILOT:return r.i18n.getText("Apptype.COPILOT");case this.URL:return r.i18n.getText("Apptype.URL");default:return r.i18n.getText("Apptype.APP");}}};});
sap.ui.predefine('sap/ushell/services/ClientSideTargetResolution',["sap/ushell/utils","sap/ushell/services/_ClientSideTargetResolution/SystemContext","sap/ushell/services/_ClientSideTargetResolution/Utils","sap/ushell/services/AppConfiguration","sap/ushell/services/_ClientSideTargetResolution/InboundProvider","sap/ushell/services/_ClientSideTargetResolution/InboundIndex","sap/ushell/services/_ClientSideTargetResolution/VirtualInbounds","sap/ushell/services/_ClientSideTargetResolution/Search","sap/ushell/services/_ClientSideTargetResolution/StagedLogger","sap/ushell/services/_ClientSideTargetResolution/Formatter","sap/ushell/services/_ClientSideTargetResolution/ParameterMapping","sap/ushell/services/_ClientSideTargetResolution/PrelaunchOperations","sap/ushell/services/_ClientSideTargetResolution/XAppStateProcessing","sap/ushell/navigationMode","sap/ushell/Config","sap/ushell/ApplicationType","sap/ui/thirdparty/URI","sap/ushell/_ApplicationType/systemAlias","sap/ushell/TechnicalParameters","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/base/util/isPlainObject","sap/base/Log"],function(u,S,c,a,I,b,V,s,l,f,p,P,x,n,C,A,U,d,T,O,q,i,L){"use strict";function g(o,e,h,j){this._init.apply(this,arguments);}g.prototype._init=function(o,e,h,j){this._iLogId=0;if(!this._implementsServiceInterface(o)){L.error("Cannot get Inbounds","ClientSideTargetResolutionAdapter should implement getInbounds method","sap.ushell.services.ClientSideTargetResolution");return;}this._oInboundProvider=new I(o.getInbounds.bind(o));this._oHaveEasyAccessSystemsDeferreds={userMenu:null,sapMenu:null};this._oServiceConfiguration=j;this._oAdapter=o;sap.ushell.Container.getServiceAsync("URLParsing").then(function(k){this._oURLParsing=k;}.bind(this));};g.prototype._implementsServiceInterface=function(o){if(typeof o.getInbounds==="function"){return true;}return false;};g.prototype._getURLParsing=function(){if(!this._oURLParsing){L.error("ClientSideTargetResolution.js: sap.ushell.Container.getSerivce() - sync call triggered.");this._oURLParsing=sap.ushell.Container.getService("URLParsing");}return this._oURLParsing;};g.prototype._extractInboundFilter=function(o){if(!this._oAdapter.hasSegmentedAccess){return undefined;}if(typeof o!=="string"){return undefined;}var F=o.indexOf("#")===0?o:"#"+o;var e=this._getURLParsing().parseShellHash(F);if(!e||!e.semanticObject||!e.action){return undefined;}return[{semanticObject:e.semanticObject,action:e.action}];};g.prototype.resolveHashFragment=function(h){var t=this,D=new q.Deferred(),B=this._oAdapter.resolveHashFragmentFallback&&this._oAdapter.resolveHashFragmentFallback.bind(this._oAdapter),e=this._extractInboundFilter(h);this._oInboundProvider.getInbounds(e).then(function(j){t._resolveHashFragment(h,B,j).done(function(o){return D.resolve(o);}).fail(D.reject.bind(D));},function(){D.reject.apply(D,arguments);});return D.promise();};g.prototype.resolveTileIntent=function(h){var t=this,D=new q.Deferred(),e=this._extractInboundFilter(h);this._oInboundProvider.getInbounds(e).then(function(o){t._resolveTileIntent(h,undefined,o).done(D.resolve.bind(D)).fail(D.reject.bind(D));},function(){D.reject.apply(D,arguments);});return D.promise();};g.prototype.resolveTileIntentInContext=function(e,h){var o,D=new q.Deferred();o=b.createIndex(e.concat(V.getInbounds()));this._resolveTileIntent(h,undefined,o).done(D.resolve.bind(D)).fail(D.reject.bind(D));return D.promise();};g.prototype._resolveHashFragment=function(h,B,e){var j=this._getURLParsing(),t=this,D=new q.Deferred(),F=h.indexOf("#")===0?h:"#"+h,k=j.parseShellHash(F);if(k===undefined){L.error("Could not parse shell hash '"+h+"'","please specify a valid shell hash","sap.ushell.services.ClientSideTargetResolution");return D.reject().promise();}k.formFactor=u.getFormFactor();this._getMatchingInbounds(k,e,{bExcludeTileInbounds:true}).fail(function(E){L.error("Could not resolve "+h,"_getMatchingInbounds promise rejected with: "+E,"sap.ushell.services.ClientSideTargetResolution");D.reject(E);}).done(function(m){var M;if(m.length===0){L.warning("Could not resolve "+h,"rejecting promise","sap.ushell.services.ClientSideTargetResolution");D.reject("Could not resolve navigation target");return;}m=t._applySapNavigationScopeFilter(m,k);M=m[0];c.whenDebugEnabled(function(){function o(K,w){return this[K]===undefined?"<undefined>":w;}function r(w,y){return(w==="_original")?undefined:o.call(this,w,y);}var v=JSON.stringify(M,r,"   ");L.debug("The following target will now be resolved",v,"sap.ushell.services.ClientSideTargetResolution");});t._resolveSingleMatchingTarget(M,B,F).done(function(o){D.resolve(o);}).fail(D.reject.bind(D));});return D.promise();};g.prototype._applySapNavigationScopeFilter=function(m,o){var e=o&&o.params&&o.params["sap-navigation-scope-filter"];if(!e){return m;}var F=m.filter(function(M){var h=O.get("inbound.signature.parameters",M);var j=h&&h["sap-navigation-scope"];if(j){return e[0]===j.defaultValue.value;}return undefined;});return F.length>0?F:m;};g.prototype._resolveSingleMatchingTarget=function(m,B,F){var t=this,D=new q.Deferred(),o=this._getURLParsing(),e=o.parseShellHash(F),h=[e.semanticObject,e.action].join("-"),j=(m.inbound.resolutionResult||{}).applicationType;var E;if(this._oAdapter.resolveSystemAlias){E=this._oAdapter.resolveSystemAlias.bind(this._oAdapter);}var H=!!m.inbound.templateContext;var k=A.getEasyAccessMenuResolver(h,j);if(k&&!H){k(e,m,E).then(function(R){var N=n.compute(O.get("inbound.resolutionResult.applicationType",m),(m.intentParamsPlusAllDefaults["sap-ushell-next-navmode"]||[])[0],(m.intentParamsPlusAllDefaults["sap-ushell-navmode"]||[])[0],(a.getCurrentApplication()||{}).applicationType,C.last("/core/navigation/enableInPlaceForClassicUIs"));u.shallowMergeObject(R,N);R.inboundPermanentKey=m.inbound.permanentKey||m.inbound.id;D.resolve(R);},function(v){D.reject(v);});return D.promise();}var r=this._getReservedParameters(m);p.mapParameterNamesAndRemoveObjects(m);x.mixAppStateIntoResolutionResultAndRename(m,sap.ushell.Container.getService("AppState")).done(function(m){var R=function(){return t._constructFallbackResolutionResult.call(t,m,B,F);};if(A[j]){R=A[j].generateResolutionResult;}delete m.intentParamsPlusAllDefaults["sap-tag"];delete m.mappedIntentParamsPlusSimpleDefaults["sap-tag"];m.mappedDefaultedParamNames=m.mappedDefaultedParamNames.filter(function(w){return w!=="sap-tag";});var v=O.get("inbound.resolutionResult.url",m);P.executePrelaunchOperations(m,r["sap-prelaunch-operations"]).then(function(){return R(m,v,E);}).then(function(w){w.reservedParameters=r;w.inboundPermanentKey=m.inbound.permanentKey||m.inbound.id;return w;}).then(function(w){L.debug("Intent was resolved to the following target",JSON.stringify(m.resolutionResult,null,3),"sap.ushell.services.ClientSideTargetResolution");u.shallowMergeObject(m.resolutionResult,w);D.resolve(m.resolutionResult);},function(M){if(typeof M==="string"&&M.indexOf("fallback:")>=0){t._constructFallbackResolutionResult.call(this,m,B,F).then(function(w){u.shallowMergeObject(m.resolutionResult,w);D.resolve(m.resolutionResult);},D.reject.bind(D));}else{D.reject(M);}});});return D.promise();};g.prototype._getReservedParameters=function(m){var r=T.getParameters({injectFrom:"startupParameter"}).map(function(o){return o.name;});var R=c.extractParameters(r,m.intentParamsPlusAllDefaults);T.getParameters({injectFrom:"inboundParameter"}).forEach(function(o){var e=o.name;var h=m.inbound&&m.inbound.signature&&m.inbound.signature.parameters;if(h&&Object.keys(h).length>0){var j=h[e];var k=j&&j.defaultValue&&j.defaultValue.hasOwnProperty("value");var t=j&&j.filter&&j.filter.hasOwnProperty("value");if(j&&(t||k)){if(k){R[e]=j.defaultValue.value;}else{R[e]=j.filter.value;}}else{delete R[e];}delete m.intentParamsPlusAllDefaults[e];var v=m.defaultedParamNames.indexOf(e);if(v>=0){m.defaultedParamNames.splice(v,1);}}});return R;};g.prototype._resolveTileIntent=function(h,B,o){var e=this._getURLParsing(),t=this,D=new q.Deferred(),F=h.indexOf("#")===0?h:"#"+h,j=e.parseShellHash(F);if(j===undefined){L.error("Could not parse shell hash '"+h+"'","please specify a valid shell hash","sap.ushell.services.ClientSideTargetResolution");return D.reject("Cannot parse shell hash").promise();}j.formFactor=u.getFormFactor();this._getMatchingInbounds(j,o,{bExcludeTileInbounds:false}).fail(function(E){L.error("Could not resolve "+h,"_getMatchingInbounds promise rejected with: "+E,"sap.ushell.services.ClientSideTargetResolution");D.reject(E);}).done(function(m){var M;if(m.length===0){L.warning("Could not resolve "+h,"no matching targets were found","sap.ushell.services.ClientSideTargetResolution");D.reject("No matching targets found");return;}M=m[0];t._resolveSingleMatchingTileIntent(M,B,F).done(D.resolve.bind(D)).fail(D.reject.bind(D));});return D.promise();};g.prototype._resolveSingleMatchingTileIntent=function(m,B,F){var D=new q.Deferred(),e=(m.inbound.resolutionResult||{}).applicationType,t=this;var E;if(this._oAdapter.resolveSystemAlias){E=this._oAdapter.resolveSystemAlias.bind(this._oAdapter);}p.mapParameterNamesAndRemoveObjects(m);x.mixAppStateIntoResolutionResultAndRename(m,sap.ushell.Container.getService("AppState")).done(function(m){var r=function(){return t._constructFallbackResolutionResult.call(t,m,B,F);};if(A[e]){r=A[e].generateResolutionResult;}delete m.intentParamsPlusAllDefaults["sap-tag"];delete m.mappedIntentParamsPlusSimpleDefaults["sap-tag"];m.mappedDefaultedParamNames=m.mappedDefaultedParamNames.filter(function(j){return j!=="sap-tag";});var h=O.get("inbound.resolutionResult.url",m);r(m,h,E).then(function(R){u.shallowMergeObject(m.resolutionResult,R);var o=q.extend(true,{},m.inbound.tileResolutionResult);o.startupParameters=m.effectiveParameters;o.navigationMode=m.resolutionResult.navigationMode;if(!o.navigationMode){o.navigationMode=n.getNavigationMode(m.resolutionResult);}D.resolve(o);L.debug("Tile Intent was resolved to the following target",JSON.stringify(o,null,3),"sap.ushell.services.ClientSideTargetResolution");},function(M){D.reject(M);});});return D.promise();};g.prototype._constructFallbackResolutionResult=function(m,B,F){var e={},D;Object.keys(m.intentParamsPlusAllDefaults).forEach(function(h){if(Array.isArray(m.intentParamsPlusAllDefaults[h])){e[h]=m.intentParamsPlusAllDefaults[h];}});D=m.mappedDefaultedParamNames||m.defaultedParamNames;if(D.length>0){e["sap-ushell-defaultedParameterNames"]=[JSON.stringify(D)];}if(typeof B!=="function"){L.error("Cannot resolve hash fragment",F+" has matched an inbound that cannot be resolved client side and no resolveHashFragmentFallback method was implemented in ClientSideTargetResolutionAdapter","sap.ushell.services.ClientSideTargetResolution");return Promise.reject("Cannot resolve hash fragment: no fallback provided.");}L.warning("Cannot resolve hash fragment client side",F+" has matched an inbound that cannot be resolved client side. Using fallback logic","sap.ushell.services.ClientSideTargetResolution");return new Promise(function(r,R){B(F,q.extend(true,{},m.inbound),e).done(function(o){var h={};["applicationType","additionalInformation","url","applicationDependencies","text"].forEach(function(j){if(o.hasOwnProperty(j)){h[j]=o[j];}});r(h);}).fail(R.bind(null));});};g.prototype.getDistinctSemanticObjects=function(){var D=new q.Deferred();this._oInboundProvider.getInbounds().then(function(o){var e={};o.getAllInbounds().forEach(function(h){if(typeof h.semanticObject==="string"&&h.semanticObject!=="*"&&!h.hideIntentLink&&h.semanticObject.length>0){e[h.semanticObject]=true;}});D.resolve(Object.keys(e).sort());},function(){D.reject.apply(D,arguments);});return D.promise();};g.prototype.getLinks=function(o){var N,t=this,e,m,h,D=new q.Deferred(),j;if(arguments.length===1&&i(arguments[0])){N=arguments[0];j=q.extend(true,{},N);["action","semanticObject"].forEach(function(k){if(N.hasOwnProperty(k)){j[k]=N[k];}});if(j.appStateKey){j.params=j.params||{};j.params["sap-xapp-state"]=[j.appStateKey];delete j.appStateKey;}}else if(arguments.length<=3){L.warning("Passing positional arguments to getLinks is deprecated","Please use nominal arguments instead","sap.ushell.services.ClientSideTargetResolution");e=arguments[0];m=arguments[1];h=arguments[2];j={semanticObject:e,params:m,ignoreFormFactor:h};}else{return D.reject("invalid arguments for getLinks").promise();}this._oInboundProvider.getInbounds().then(function(k){t._getLinks(j,k).done(D.resolve.bind(D)).fail(D.reject.bind(D));},function(){D.reject.apply(D,arguments);});return D.promise();};g.prototype._validateGetSemanticObjectLinksArgs=function(o){var e=o.semanticObject,h=o.action,j=!o.hasOwnProperty("action");if(typeof e!=="undefined"||j){if(typeof e!=="string"){L.error("invalid input for _getLinks","the semantic object must be a string, got "+Object.prototype.toString.call(e)+" instead","sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object";}if(j&&e.match(/^\s+$/)){L.error("invalid input for _getLinks","the semantic object must be a non-empty string, got '"+e+"' instead","sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object";}if(!j&&e.length===0){L.error("invalid input for _getLinks","the semantic object must not be an empty string, got '"+e+"' instead","sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object";}}if(typeof h!=="undefined"){if(typeof h!=="string"){L.error("invalid input for _getLinks","the action must be a string, got "+Object.prototype.toString.call(h)+" instead","sap.ushell.services.ClientSideTargetResolution");return"invalid action";}if(h.length===0){L.error("invalid input for _getLinks","the action must not be an empty string, got '"+h+"' instead","sap.ushell.services.ClientSideTargetResolution");return"invalid action";}}return undefined;};g.prototype._getLinks=function(o,e){var h=o.semanticObject,j=o.action,m=o.params,w=!!o.withAtLeastOneUsedParam,t=!!o.treatTechHintAsFilter,k=o.ignoreFormFactor,r=o.hasOwnProperty("sortResultsBy")?o.sortResultsBy:"intent";if(o.hasOwnProperty("sortResultOnTexts")){L.warning("the parameter 'sortResultOnTexts' was experimantal and is no longer supported","getLinks results will be sorted by '"+r+"'","sap.ushell.services.ClientsideTargetResolution");}var v={bExcludeTileInbounds:true};var E=this._validateGetSemanticObjectLinksArgs(o);if(o.tags){v.tags=o.tags;}if(E){return new q.Deferred().reject(E).promise();}if(h==="*"){return q.when([]);}function y(z,H){var J=z.paramsToString(H);return J?"?"+J:"";}var z=this._getURLParsing(),D=new q.Deferred(),F=u.getFormFactor(),B=z.parseParameters(y(z,m)),G={semanticObject:(h===""?undefined:h),action:j,formFactor:(k?undefined:F),params:B};if(t){G.treatTechHintAsFilter=true;}this._getMatchingInbounds(G,e,v).done(function(M){var H={},R=M.map(function(N){var Q=h||N.inbound.semanticObject,W="#"+Q+"-"+N.inbound.action,X;if(Q==="*"){return undefined;}if(N.inbound.action==="*"){return undefined;}if(N.inbound&&N.inbound.hasOwnProperty("hideIntentLink")&&N.inbound.hideIntentLink===true){return undefined;}if(!H.hasOwnProperty(W)){H[W]={matchingInbound:N.inbound,count:1};if(N.inbound.signature.additionalParameters==="ignored"){X=c.filterObjectKeys(B,function(a1){return(a1.indexOf("sap-")===0)||N.inbound.signature.parameters.hasOwnProperty(a1);},false);}else{X=B;}if(w){var Y=Object.keys(X).some(function(a1){return a1.indexOf("sap-")!==0;});if(!Y){H[W].hideReason="getLinks called with 'withAtLeastOneUsedParam = true', but the inbound had no business parameters defined.";return undefined;}}var Z=c.inboundSignatureMeetsParameterOptions(N.inbound.signature.parameters,o.paramsOptions||[]);if(!Z){H[W].hideReason="inbound signature does not meet the requested parameter filter options";return undefined;}var $={intent:W+y(z,X),text:N.inbound.title};if(N.inbound.icon){$.icon=N.inbound.icon;}if(N.inbound.subTitle){$.subTitle=N.inbound.subTitle;}if(N.inbound.shortTitle){$.shortTitle=N.inbound.shortTitle;}var _=O.get("inbound.signature.parameters.sap-tag.defaultValue.value",N);if(_){$.tags=[_];}return $;}H[W].count++;return undefined;}).filter(function(N){return typeof N==="object";});if(r!=="priority"){R.sort(function(N,Q){return N[r]<Q[r]?-1:1;});}if(R.length===0){L.debug("_getLinks returned no results");}else if(L.getLevel()>=L.Level.DEBUG){if(L.getLevel()>=L.Level.TRACE){var J=[];var K=[];R.forEach(function(N){var Q=N.intent.split("?")[0];if(H[Q].hideReason){K.push(["-",Q+"("+H[Q].hideReason+")\n"," text:",N.text+"\n"," full intent:",N.intent].join(" "));}else{J.push(["-",Q,H[Q].count>1?"("+(H[Q].count-1)+" others matched)\n":"\n","text:",N.text+"\n","full intent:",N.intent].join(" "));}});L.debug("_getLinks filtered to the following unique intents:","\n"+J.join("\n"),"sap.ushell.services.ClientSideTargetResolution");L.debug("_getLinks would have also returned the following unique intents, but something prevented this:",K.join("\n"),"sap.ushell.services.ClientSideTargetResolution");}else{L.debug("_getLinks filtered to unique intents.","Reporting histogram: \n - "+Object.keys(H).join("\n - "),"sap.ushell.services.ClientSideTargetResolution");}}D.resolve(R);}).fail(D.reject.bind(D));return D.promise();};g.prototype._getMatchingInbounds=function(o,e,h){var t=this,j,k,m,r,v,E,w,D=new q.Deferred();if(h){j=h.tags;E=h.bExcludeTileInbounds;}c.whenDebugEnabled(function(){m=++t._iLogId;});l.begin(function(){function y(M){var B=M.action||(typeof M.action==="undefined"?"<any>":"<invalid-value>");var F=M.semanticObject||(typeof M.semanticObject==="undefined"?"<any>":"<invalid-value>");return t._getURLParsing().constructShellHash({semanticObject:F,action:B,params:M.params});}var z=y(o);return{logId:m,title:"Matching Intent '"+z+"' to inbounds (form factor: "+(o.formFactor||"<any>")+")",moduleName:"sap.ushell.services.ClientSideTargetResolution",stages:["STAGE1: Find matching inbounds","STAGE2: Resolve references","STAGE3: Rematch with references","STAGE4: Sort matched targets"]};});v=o.semanticObject;k=o.action;this._oShellHash=o;r=j?e.getSegmentByTags(j):e.getSegment(v,k);if(E){w=r.filter(function(y){return!y.tileResolutionResult||!y.tileResolutionResult.isCustomTile;});}else{w=r;}var G=null;if(this._oAdapter.getContentProviderDataOriginsLookup){G=this._oAdapter.getContentProviderDataOriginsLookup.bind(this._oAdapter);}s.match(o,w,{},G,c.isDebugEnabled()).then(function(y){l.log(function(){return{logId:m,stage:1,prefix:"\u2718",lines:Object.keys(y.noMatchReasons||{}).map(function(B){return B+" "+y.noMatchReasons[B];})};});l.log(function(){var B=y.matchResults.map(function(F){return f.formatInbound(F.inbound);});return{logId:m,stage:1,prefix:B.length>0?"\u2705":"\u2718",lines:B.length>0?B:["No inbound was matched"]};});var M={};var N=false;var z=Object.keys(y.missingReferences);z.forEach(function(B){var F=Object.keys(y.missingReferences[B]);N=N||F.length>0;M[B]=F;});z=z.filter(function(B){if(M[B].length>0){return true;}delete M[B];});if(!N){l.log(function(){return{logId:m,stage:2,prefix:"\u2705",line:"No need to resolve references"};});return new q.Deferred().resolve({matchResults:y.matchResults,referencesToInclude:null}).promise();}z.forEach(function(B){l.log(function(){return{logId:m,stage:2,line:"@ Must resolve the following references with contentProviderId = \""+B+"\":",prefix:"\u2022",lines:M[B]};});});var R=new q.Deferred();sap.ushell.Container.getServiceAsync("ReferenceResolver").then(function(B){var F=z.map(function(H){return this.getSystemContext(H);}.bind(this));return Promise.all(F).then(function(H){var J=z.map(function(K,Q){return new Promise(function(W,X){B.resolveReferences(M[K],H[Q]).done(W).fail(X);});});return Promise.all(J);});}.bind(this)).then(function(B){var F={matchResults:y.matchResults,referencesToInclude:{}};z.forEach(function(H,J){var K=B[J];F.referencesToInclude[H]=K;if(Object.keys(K).length>0){l.log(function(){return{logId:m,stage:2,line:"\u2705 resolved references with contentProviderId = \""+H+"\" to the following values:",prefix:"\u2022",lines:Object.keys(K).map(function(Q){return Q+": '"+K[Q]+"'";})};});}});R.resolve(F);}).catch(function(B){l.log(function(){return{logId:m,stage:2,prefix:"\u274c",line:"Failed to resolve references: "+B};});D.resolve([]);});return R.promise();}.bind(this)).then(function(y){var M,z,R=y.referencesToInclude;if(!R){l.log(function(){return{logId:m,stage:3,line:"rematch was skipped (no references to resolve)",prefix:"\u2705"};});return new q.Deferred().resolve(y).promise();}z=y.matchResults;M=z.map(function(B){return B.inbound;});return s.match(o,M,R,G,0).then(function(F){l.log(function(){var z=F.matchResults||[];if(z.length>=1){return{logId:m,stage:3,line:"The following inbounds re-matched:",lines:z.map(function(B){return f.formatInbound(B.inbound);}),prefix:"\u2705"};}return{logId:m,stage:3,line:"No inbounds re-matched",prefix:"-"};});return F;});}).then(function(F){var M=F.matchResults||[];if(M.length<=1){l.log(function(){return{logId:m,stage:4,line:"Nothing to sort"};});D.resolve(M);return;}var y=s.sortMatchingResultsDeterministic(F.matchResults||[]);l.log(function(){var z=y.map(function(B){return f.formatInbound(B.inbound||{})+(B.matchesVirtualInbound?" (virtual)":"")+"\n[ Sort Criteria ] "+"\n * 1 * sap-priority: '"+B["sap-priority"]+"'"+"\n * 2 * Sort string: '"+B.priorityString+"\n * 3 * Deterministic blob: '"+s.serializeMatchingResult(B)+"'";});return{logId:m,stage:4,line:"Sorted inbounds as follows:",lines:z,prefix:".",number:true};});D.resolve(y);});return D.promise().then(function(M){l.end(function(){return{logId:m};});return M;});};g.prototype._isIntentSupportedOne=function(e,o){var D=new q.Deferred(),h=this._getURLParsing().parseShellHash(e);if(e==="#"){D.resolve(true);return D.promise();}if(h===undefined){return D.reject("Could not parse shell hash '"+e+"'").promise();}h.formFactor=u.getFormFactor();this._getMatchingInbounds(h,o,{bExcludeTileInbounds:true}).done(function(t){D.resolve(t.length>0);}).fail(function(){D.reject();});return D.promise();};g.prototype.isIntentSupported=function(e){var t=this,D=new q.Deferred();this._oInboundProvider.getInbounds().then(function(o){t._isIntentSupported(e,o).done(D.resolve.bind(D)).fail(D.reject.bind(D));},function(){D.reject.apply(D,arguments);});return D.promise();};g.prototype._isIntentSupported=function(e,o){var t=this,D=new q.Deferred(),m={};D.resolve();function h(j,k){m[j]={supported:k};}var r=[];e.forEach(function(j){var N=t._isIntentSupportedOne(j,o);N.fail(function(E){r.push(E);});N.done(function(k){h(j,k);});D=q.when(D,N);});var R=new q.Deferred();D.done(function(){R.resolve(m);}).fail(function(){R.reject("One or more input intents contain errors: "+r.join(", "));});return R.promise();};g.prototype.getUserDefaultParameterNames=function(o){var t=this,D=new q.Deferred();this._oInboundProvider.getInbounds().then(function(h){var r;try{r=t._getUserDefaultParameterNames(h.getAllInbounds(),o);D.resolve(r);}catch(e){D.reject("Cannot get user default parameters from inbounds: "+e);}},function(){D.reject.apply(D,arguments);});return D.promise();};g.prototype._getUserDefaultParameterNames=function(e,o){var r={simple:{},extended:{}};e=e.filter(function(h){if(h.contentProviderId===undefined&&o.id===""){return true;}return h.contentProviderId===o.id;});e.forEach(function(t){var h=t.signature&&t.signature.parameters||[];Object.keys(h).forEach(function(j){var k=h[j],R,E,m,v;if(k){if(k.filter&&k.filter.format==="reference"){m=k.filter.value;}else if(k.defaultValue&&k.defaultValue.format==="reference"){m=k.defaultValue.value;}if(typeof m==="string"){v=sap.ushell.Container.getService("ReferenceResolver");R=v.extractUserDefaultReferenceName(m);if(typeof R==="string"){r.simple[R]={};}E=v.extractExtendedUserDefaultReferenceName(m);if(typeof E==="string"){r.extended[E]={};}}}});});return r;};g.prototype.getEasyAccessSystems=function(m){var r={},o,v,D;m=m||"sapMenu";if(this._oHaveEasyAccessSystemsDeferreds[m]){return this._oHaveEasyAccessSystemsDeferreds[m].promise();}this._oHaveEasyAccessSystemsDeferreds[m]=new q.Deferred();D=this._oHaveEasyAccessSystemsDeferreds[m];function e(h,j,v){if(!h){return false;}var k=[h.semanticObject,h.action].join("-");return v[m][k]&&h.deviceTypes&&j!==undefined&&h.deviceTypes[j];}o=A.getEasyAccessMenuDefinitions().reduce(function(R,E){var h=E.easyAccessMenu.intent.split("-")[1];R[h]={appType:E.type,priority:E.easyAccessMenu.systemSelectionPriority};return R;},{});v={userMenu:A.getEasyAccessMenuDefinitions().reduce(function(h,E){var j=E.easyAccessMenu.intent;h[j]=E.easyAccessMenu.showSystemSelectionInUserMenu;return h;},{}),sapMenu:A.getEasyAccessMenuDefinitions().reduce(function(h,E){var j=E.easyAccessMenu.intent;h[j]=E.easyAccessMenu.showSystemSelectionInSapMenu;return h;},{})};this._oInboundProvider.getInbounds().then(function(h){var j={};h.getAllInbounds().filter(function(k){return e(k,u.getFormFactor(),v);}).forEach(function(E){var k;if(i(E.signature.parameters["sap-system"])&&E.signature.parameters["sap-system"].hasOwnProperty("filter")){k=O.get("signature.parameters.sap-system.filter.value",E);}if(typeof k==="string"){var t=o[E.action].priority;var w=o[E.action].appType;if(!r[k]){j[k]=-1;r[k]={appType:{}};}if(j[k]<t){r[k].text=E.title;j[k]=t;}r[k].appType[w]=true;}else{L.warning("Cannot extract sap-system from easy access menu inbound: "+f.formatInbound(E),"This parameter is supposed to be a string. Got '"+k+"' instead.","sap.ushell.services.ClientSideTargetResolution");}});D.resolve(r);},function(){D.reject.apply(D,arguments);});return D.promise();};g.prototype.getSystemContext=function(e){var h=e===undefined?"":e;return new Promise(function(r,j){var o;this._oAdapter.resolveSystemAlias(h).done(function(R){o=S.createSystemContextFromSystemAlias(R);r(o);}).fail(function(E){j(E);});}.bind(this));};g.hasNoAdapter=false;return g;},true);
sap.ui.predefine('sap/ushell/services/CommonDataModel',["sap/ushell/services/_CommonDataModel/PersonalizationProcessor","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/base/util/isPlainObject","sap/ushell/services/_CommonDataModel/SiteConverter","sap/base/util/isEmptyObject","sap/base/util/deepClone","sap/base/util/Version","sap/ushell/Config","sap/base/util/includes","sap/base/util/values","sap/ushell/library","sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications"],function(P,O,q,a,S,b,d,V,C,c,e,u,r){"use strict";var D=u.DisplayFormat;var f="sap.ushell.services.CommonDataModel",g={STATIC_LAUNCHER:"sap.ushell.StaticAppLauncher",DYNAMIC_LAUNCHER:"sap.ushell.DynamicAppLauncher",CARD:"sap.ushell.Card"};function h(A,o,p,s){var i=new q.Deferred();this._oAdapter=A;this._oPersonalizationProcessor=new P();this._oSiteDeferred=i;this._oOriginalSite={};this._oPersonalizedSite={};this._oContentProviderIndex={};this._oSiteConverter=new S();this._oPersonalizationDeltas={};this._oGetSitePromise=A.getSite().then(this._loadAndApplyPersonalization.bind(this)).fail(i.reject);}h.prototype._loadAndApplyPersonalization=function(s){this._oOriginalSite=q.extend(true,{},s);var o=new V(s._version);if(o.compareTo("3.1.0")<0){this._oAdapter.getPersonalization(o).then(function(p){if(p){this._oPersonalizationDeltas=d(p);}else{this._oPersonalizationDeltas={version:"3.0.0",_version:"3.0.0"};}this._triggerMixinPersonalisationInSite(s,p);}.bind(this)).fail(this._oSiteDeferred.reject);}else{this._oPersonalizedPages={};this._oOriginalSite=this._ensureStandardVizTypesPresent(this._oOriginalSite);this._oOriginalSite=this._ensureProperDisplayFormats(this._oOriginalSite);this._oSiteDeferred.resolve(this._oOriginalSite);}};h.prototype._applyPagePersonalization=function(p,o){var s=p.identification.id;if(Object.keys(o).length){var i=o.classicHomePage;if(i&&i.version==="3.1.0"){Object.keys(i).forEach(function(m){if(!o[m]){o[m]=i[m];}});delete o.classicHomePage;o._version=o.version;}var v=new V(o._version||o.version);if(v.compareTo("3.1.0")<0){o={classicHomePage:o,_version:"3.1.0",version:"3.1.0"};}}this._oPersonalizationDeltas=o;var j=o[s]||{};var k=this._oSiteConverter.convertTo("3.0.0",d(p,20));return this._triggerMixinPersonalisationInSite(k,j).then(function(m){this._oPersonalizedPages[s]=this._oSiteConverter.convertTo("3.1.0",d(m,20));return this._oPersonalizedPages[s];}.bind(this));};h.prototype._triggerMixinPersonalisationInSite=function(s,p){return new Promise(function(i,j){this._oPersonalizationProcessor.mixinPersonalization(s,p).done(function(o){this._oPersonalizedSite=this._ensureCompleteSite(o);this._oPersonalizedSite=this._ensureGroupsOrder(this._oPersonalizedSite);this._oPersonalizedSite=this._ensureStandardVizTypesPresent(this._oPersonalizedSite);this._oPersonalizedSite=this._ensureProperDisplayFormats(this._oPersonalizedSite);this._oSiteDeferred.resolve(this._oPersonalizedSite);i(this._oPersonalizedSite);}.bind(this)).fail(function(m){this._oSiteDeferred.reject(m);j();}.bind(this));}.bind(this));};h.prototype.getHomepageGroups=function(){var o=new q.Deferred();this._oSiteDeferred.then(function(s){var G=(s&&s.site&&s.site.payload&&s.site.payload.groupsOrder)?s.site.payload.groupsOrder:[];o.resolve(G);});return o.promise();};h.prototype.getGroups=function(){var o=new q.Deferred();this._oSiteDeferred.then(function(s){var G=[];Object.keys(s.groups).forEach(function(k){G.push(s.groups[k]);});o.resolve(G);});return o.promise();};h.prototype.getGroup=function(i){var o=new q.Deferred();this._oSiteDeferred.then(function(s){var G=s.groups[i];if(G){o.resolve(G);}else{o.reject("Group "+i+" not found");}});return o.promise();};h.prototype.getSite=function(){return this._oSiteDeferred.promise();};h.prototype.getPage=function(p){return new Promise(function(i,j){var E=C.last("/core/shell/enablePersonalization");Promise.resolve(this._oGetSitePromise).then(function(){if(E&&this._oPersonalizedPages[p]){i(this._oPersonalizedPages[p]);return;}if(!E){i(this._getPageFromAdapter(p));return;}Promise.all([this._getPageFromAdapter(p),this._oAdapter.getPersonalization(this._oOriginalSite._version)]).then(function(k){this._applyPagePersonalization(k[0],k[1]).then(i).catch(function(){j("Personalization Processor: Cannot mixin the personalization.");});}.bind(this)).catch(function(){j("CommonDataModel Service: Cannot get page "+p);});}.bind(this)).catch(j);}.bind(this));};h.prototype._getPageFromAdapter=function(p){if(!this._oAdapter.getPage){return Promise.resolve(d(this._oOriginalSite.pages[p],20));}return this._oAdapter.getPage(p).then(function(o){this._oOriginalSite.pages[p]=o;return d(o,20);}.bind(this));};h.prototype._filterForProperPages=function(p){return p.filter(function(o){return!!o;});};h.prototype.getPages=function(p){return new Promise(function(i,j){var E=C.last("/core/shell/enablePersonalization");Promise.resolve(this._oGetSitePromise).then(function(){if(!E){this._getPagesFromAdapter(p).then(function(o){i(this._filterForProperPages(e(o)));}.bind(this));}else{Promise.all([this._getPagesFromAdapter(p),this._oAdapter.getPersonalization(this._oOriginalSite._version)]).then(function(k){var o=k[0];var m=Promise.all(Object.keys(o).map(function(s){if(this._oPersonalizedPages[s]){return Promise.resolve(this._oPersonalizedPages[s]);}return this._applyPagePersonalization(o[s],k[1]).catch(function(){j("Personalization Processor: Cannot mixin the personalization.");});}.bind(this)));m.then(function(n){i(this._filterForProperPages(n));}.bind(this));}.bind(this)).catch(function(){j("CommonDataModel Service: Cannot get pages");});}}.bind(this)).catch(j);}.bind(this));};h.prototype._getPagesFromAdapter=function(p){if(!this._oAdapter.getPages){var o={};for(var s in this._oOriginalSite.pages){if(c(p,this._oOriginalSite.pages[s].identification.id)){o[s]=this._oOriginalSite.pages[s];}}return Promise.resolve(d(o,20));}return this._oAdapter.getPages(p).then(function(i){Object.keys(i).forEach(function(s){this._oOriginalSite.pages[s]=i[s];}.bind(this));return d(i,20);}.bind(this));};h.prototype.getAllPages=function(){return sap.ushell.Container.getServiceAsync("Menu").then(function(m){return m.getSpacesPagesHierarchy();}).then(function(H){var p=[];H.spaces.forEach(function(s){s.pages.forEach(function(o){if(p.indexOf(o.id)===-1){p.push(o.id);}});});return this.getPages(p);}.bind(this));};h.prototype.getApplications=function(){return new Promise(function(i,j){this._oSiteDeferred.then(function(s){var A=s.applications;if(A){i(A);}else{j("CDM applications not found.");}}).fail(j);}.bind(this));};h.prototype.getVizTypes=function(){return new Promise(function(i,j){this._oSiteDeferred.then(function(s){var v=s.vizTypes;if(v){i(v);}else{j("CDM vizTypes not found.");}}).fail(j);}.bind(this));};h.prototype.getVisualizations=function(){return new Promise(function(i,j){this._oSiteDeferred.then(function(s){var v=s.visualizations;if(v){i(v);}else{j("CDM visualizations not found.");}}).fail(j);}.bind(this));};h.prototype.getGroupFromOriginalSite=function(G){var o=new q.Deferred();if(typeof G==="string"&&this._oOriginalSite&&this._oOriginalSite.groups&&this._oOriginalSite.groups[G]){o.resolve(q.extend(true,{},this._oOriginalSite.groups[G]));}else{o.reject("Group does not exist in original site.");}return o.promise();};h.prototype.getOriginalPage=function(p){return d(this._oOriginalSite.pages[p],20);};h.prototype.save=function(p){var o=new q.Deferred(),i,j;if(this._oOriginalSite._version==="3.1.0"){if(!p){return o.reject("No page id was provided").promise();}j=this._oSiteConverter.convertTo("3.0.0",this._oOriginalSite.pages[p]);i=this._oSiteConverter.convertTo("3.0.0",this._oPersonalizedPages[p]);}else{j=this._oOriginalSite;i=this._oPersonalizedSite;}this._oPersonalizationProcessor.extractPersonalization(d(i,20),d(j,20)).done(function(E){if(!b(E)){if(this._oPersonalizationDeltas.version===undefined||this._oPersonalizationDeltas._version===undefined){this._oPersonalizationDeltas.version=this._oOriginalSite._version;this._oPersonalizationDeltas._version=this._oOriginalSite._version;}if(p){this._oPersonalizationDeltas[p]=E;}else{this._oPersonalizationDeltas=E;}this._setPersonalization(this._oPersonalizationDeltas).then(o.resolve).catch(o.reject);}else{o.resolve();}}.bind(this)).fail(function(){o.reject("Personalization Processor: Cannot extract personalization.");});return o.promise();};h.prototype._setPersonalization=function(i,p){if(this._oPendingPersonalizationDeferred){if(!this._oNextPersonalizationQuery){this._oNextPersonalizationQuery={fnNextCall:null,aPromiseResolvers:[]};}return new Promise(function(j,k){this._oNextPersonalizationQuery.fnNextCall=this._setPersonalization.bind(this,i,p);this._oNextPersonalizationQuery.aPromiseResolvers.push({resolve:j,reject:k});}.bind(this));}this._oPendingPersonalizationDeferred=this._oAdapter.setPersonalization(i,p);return new Promise(function(j,k){this._oPendingPersonalizationDeferred.then(j).fail(k).always(function(){delete this._oPendingPersonalizationDeferred;if(this._oNextPersonalizationQuery){var n=this._oNextPersonalizationQuery.fnNextCall();this._cleanupPersonalizationQueuePromises(n,this._oNextPersonalizationQuery.aPromiseResolvers);delete this._oNextPersonalizationQuery;}}.bind(this));}.bind(this));};h.prototype._cleanupPersonalizationQueuePromises=function(n,i){i.forEach(function(p){n.then(p.resolve).catch(p.reject);});};function l(){var p=sap.ushell.Container.getService("PluginManager");return p.loadPlugins("ContentProvider");}h.prototype._getUnreferencedCatalogApplications=function(E){var U={};var A=Object.keys(E.applications).map(function(s){return E.applications[s]["sap.app"].id;}).reduce(function(i,s){i[s]=true;return i;},{});var o=E.catalogs;Object.keys(o).forEach(function(s){var i=o[s].payload.appDescriptors;i.map(function(j){return j.id;}).filter(function(j){return!A[j];}).forEach(function(B){if(!U.hasOwnProperty(s)){U[s]={};}U[s][B]=true;});});return U;};h.prototype._formatUnreferencedApplications=function(s,U){return"One or more apps from "+s+" content provider are not listed among the applications section "+"of the extended site and will be discarded - "+Object.keys(U).map(function(i){var B=Object.keys(U[i]).map(function(j){return"'"+j+"'";});return"From catalog '"+i+"': "+B.join(", ");}).join("; ");};h.prototype._removeUnreferencedApplications=function(E,U){Object.keys(E.catalogs).forEach(function(s){var o=E.catalogs[s].payload;var A=o.appDescriptors;o.appDescriptors=A.filter(function(i){return U[s]&&!U[s][i.id];});});};h.prototype.getExtensionSites=function(){var t=this;var o=new q.Deferred();l().done(function(){var i=Object.keys(t._oContentProviderIndex),T=i.length;if(T===0){o.resolve([]);return;}var G=i.map(function(s,I){var j=t._oContentProviderIndex[s];var k;try{k=j.getSite();if(!k||typeof k.then!=="function"){throw"getSite does not return a Promise";}}catch(E){k=Promise.reject("call to getSite failed: "+E);}return k.then(function(s,m){var n=q.extend(true,{},m);var U=t._getUnreferencedCatalogApplications(m);if(Object.keys(U).length>0){var p=t._formatUnreferencedApplications(s,U);q.sap.log.error(p,null,f);t._removeUnreferencedApplications(n,U);}var L={providerId:s,success:true,site:n};o.notify(L);return L;}.bind(null,s),function(s,m){return{providerId:s,success:false,error:m};}.bind(null,s));});Promise.all(G).then(function(L){o.resolve(L);});});return o.promise();};h.prototype.registerContentProvider=function(i,s){if(this._oContentProviderIndex[i]){q.sap.log.error("a content provider with ID '"+i+"' is already registered",null,f);return;}this._oContentProviderIndex[i]=s;q.sap.log.debug("ContentProvider '"+i+"' was registered",null,f);};h.prototype._ensureCompleteSite=function(p){if(p.groups){var G=p.groups;Object.keys(G).forEach(function(k){if(!G[k]){delete G[k];}else{if(!G[k].payload){G[k].payload={};}if(!G[k].payload.links){G[k].payload.links=[];}if(!G[k].payload.tiles){G[k].payload.tiles=[];}if(!G[k].payload.groups){G[k].payload.groups=[];}}});}return p;};h.prototype._ensureGroupsOrder=function(s){var G=O.get("site.payload.groupsOrder",s),o=s.groups,j,i=0;if(!G){return s;}while(i<G.length){j=G[i];if(!o[j]){G.splice(i,1);}else{i++;}}return s;};h.prototype.getPlugins=(function(){var i,E,p;E=function(s,o){var j,n=Object.keys(o).length;if(n===0){return{};}if(!o.hasOwnProperty("Shell-plugin")){q.sap.log.error("Cannot find inbound with id 'Shell-plugin' for plugin '"+s+"'","plugin startup configuration cannot be determined correctly",f);return{};}if(n>1){q.sap.log.warning("Multiple inbounds are defined for plugin '"+s+"'","plugin startup configuration will be determined using "+"the signature of 'Shell-plugin' inbound.",f);}j=O.get("signature.parameters",o["Shell-plugin"])||{};return Object.keys(j).reduce(function(R,N){var k=O.get(N+".defaultValue.value",j);if(typeof k==="string"){R[N]=k;}return R;},{});};i=function(o){Object.keys(o).filter(function(s){return typeof o[s]==="object";}).forEach(function(s){o[s]=i(o[s]);});return Object.freeze(o);};return function(o){if(o!==undefined){p=o;}if(p){return q.when(p);}p={};return this.getSite().then(function(s){var A=s.applications||{};Object.keys(A).filter(function(j){return O.get("type",this[j]["sap.flp"])==="plugin";},A).forEach(function(j){var k,m,n=this[j],t={};if(!a(n["sap.platform.runtime"])){q.sap.log.error("Cannot find 'sap.platform.runtime' section for plugin '"+j+"'","plugin might not be started correctly","sap.ushell.services.CommonDataModel");}else if(!a(n["sap.platform.runtime"].componentProperties)){q.sap.log.error("Cannot find 'sap.platform.runtime/componentProperties' "+"section for plugin '"+j+"'","plugin might not be started correctly","sap.ushell.services.CommonDataModel");}else{t=n["sap.platform.runtime"].componentProperties;}p[j]={url:t.url,component:n["sap.ui5"].componentName};var v=O.get("crossNavigation.inbounds",n["sap.app"])||{};m=E(j,v);k=q.extend(t.config||{},m);if(k){p[j].config=k;}if(t.asyncHints){p[j].asyncHints=t.asyncHints;}var w=O.get("deviceTypes",n["sap.ui"]);if(w){p[j].deviceTypes=w;}},A);return i(p);},function(v){return v;});};})();h.prototype._mapDisplayFormats=function(i){var o={tile:D.Standard,standard:D.Standard,link:D.Compact,compact:D.Compact,flat:D.Flat,flatWide:D.FlatWide,tileWide:D.StandardWide,standardWide:D.StandardWide};var s=Object.keys(o).filter(function(j){return i.indexOf(j)>-1;});return s.map(function(j){return o[j];});};h.prototype._ensureProperDisplayFormats=function(s){if(s.vizTypes){Object.keys(s.vizTypes).forEach(function(k){if(s.vizTypes[k]["sap.flp"]&&s.vizTypes[k]["sap.flp"].vizOptions){var v=s.vizTypes[k];var i=O.get("vizOptions.displayFormats.supported",v["sap.flp"]);var j=O.get("vizOptions.displayFormats.default",v["sap.flp"]);if(i){s.vizTypes[k]["sap.flp"].vizOptions.displayFormats.supported=this._mapDisplayFormats(i);}if(j){s.vizTypes[k]["sap.flp"].vizOptions.displayFormats.default=this._mapDisplayFormats([j])[0];}}}.bind(this));}if(s.hasOwnProperty("pages")){Object.keys(s.pages).forEach(function(k){var p=s.pages[k];if(p.payload&&p.payload.sections){var o=p.payload.sections;Object.keys(o).forEach(function(i){var j=o[i];Object.keys(j.viz).forEach(function(v){var m=j.viz[v];if(m.displayFormatHint){var M=this._mapDisplayFormats([m.displayFormatHint])[0];m.displayFormatHint=M||m.displayFormatHint;}}.bind(this));}.bind(this));}}.bind(this));}else if(s.hasOwnProperty("groups")){Object.keys(s.groups).forEach(function(G){var o=s.groups[G];o.payload.tiles.forEach(function(t){if(t.displayFormatHint){var m=this._mapDisplayFormats([t.displayFormatHint])[0];t.displayFormatHint=m||t.displayFormatHint;}}.bind(this));}.bind(this));}return s;};h.prototype._ensureStandardVizTypesPresent=function(s){if(!(s._version&&s._version.startsWith("3."))){return s;}if(!s.vizTypes){s.vizTypes={};}if(!s.vizTypes[g.STATIC_LAUNCHER]){s.vizTypes[g.STATIC_LAUNCHER]=q.sap.loadResource("sap/ushell/components/tiles/cdm/applauncher/manifest.json");}if(!s.vizTypes[g.DYNAMIC_LAUNCHER]){s.vizTypes[g.DYNAMIC_LAUNCHER]=q.sap.loadResource("sap/ushell/components/tiles/cdm/applauncherdynamic/manifest.json");}if(!s.vizTypes[g.CARD]){s.vizTypes[g.CARD]=q.sap.loadResource("sap/ushell/services/_CommonDataModel/vizTypeDefaults/cardManifest.json");}return s;};h.prototype.getMenuEntries=function(m){return new Promise(function(i,j){this._oSiteDeferred.then(function(s){var M=O.get("menus."+m+".payload.menuEntries",s);i(d(M)||[]);});}.bind(this));};h.prototype.getContentProviderIds=function(){return new Promise(function(i,j){this._oSiteDeferred.then(function(s){var k=Object.keys(s.systemAliases);var o={};e(s.applications).forEach(function(A){var m=r.getContentProviderId(A);if(c(k,m)){o[m]=true;}});i(Object.keys(o));});}.bind(this));};h.hasNoAdapter=false;return h;},true);
sap.ui.predefine('sap/ushell/services/ContentExtensionAdapterFactory',["sap/ushell/Config","sap/ushell/services/_ContentExtensionAdapterFactory/ContentExtensionAdapterConfig","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath"],function(C,a,q,O){"use strict";var b={};b.getAdapters=function(c){var d=b._getConfigAdapters(c);var A={};var e=d.map(function(o){var E=C.last(o.configSwitch);if(!E){return Promise.resolve();}var f=b._getAdapter(o);f.then(function(g){A[o.contentProviderName]=g;});return f;});return new Promise(function(r){q.when.apply(q,e).then(function(){r(A);});});};b._getConfigAdapters=function(c){if(!c){c=a._getConfigAdapters();}if(!Array.isArray(c)){c=[c];}return c;};b._getAdapter=function(c){var d=new q.Deferred();var A=c.configHandler?c.configHandler():{};var m=c.adapter.replace(/\./g,"/");sap.ui.require([m],function(){var i=b._getAdapterInstance(c.adapter,c.system,null,A);d.resolve(i);});return d.promise();};b._getAdapterInstance=function(A,s,p,c){var d=O.get(A);if(d){var D={config:c||{}};return new d(s,p,D);}return null;};return b;});
sap.ui.predefine('sap/ushell/services/CrossApplicationNavigation',["sap/ushell/services/AppConfiguration","sap/ushell/services/_CrossApplicationNavigation/utils","sap/ushell/utils/type","sap/ushell/TechnicalParameters","sap/ushell/components/applicationIntegration/AppLifeCycle","sap/base/util/isPlainObject","sap/base/util/UriParameters","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath","sap/base/util/merge","sap/ushell/utils","sap/ushell/ApplicationType"],function(a,u,t,T,A,i,U,q,O,m,b,c){"use strict";function C(o,p,s){var d,S;if(s&&s.config){S=s.config;}function g(v,f){var r,h,n,j,k;if(typeof v!=="string"&&!i(v)&&v!==undefined){q.sap.log.error("Unexpected input type",null,"sap.ushell.services.CrossApplicationNavigation");return undefined;}if(v===undefined){return undefined;}r=a.getCurrentApplication();if(f){if(typeof f.getComponentData!=="function"||!i(f.getComponentData())||!f.getComponentData().startupParameters||!i(f.getComponentData().startupParameters)){q.sap.log.error("Cannot call getComponentData on component","the component should be an application root component","sap.ushell.services.CrossApplicationNavigation");}else{k=f.getComponentData().startupParameters;if(k.hasOwnProperty("sap-system")){h=k["sap-system"][0];}if(k.hasOwnProperty("sap-ushell-next-navmode")){n=k["sap-ushell-next-navmode"][0];}}}else{if(r&&r["sap-system"]){h=r["sap-system"];}else if(r&&r.url){h=new U(r.url).get("sap-system");}if(r&&r["sap-ushell-next-navmode"]){n=r["sap-ushell-next-navmode"];}else if(r&&r.url){n=new U(r.url).get("sap-ushell-next-navmode");}}if(r){j=r.contentProviderId;}var I=u._injectParameters({type:t,inject:{"sap-system":h,"sap-ushell-navmode":n,"sap-app-origin-hint":j},injectEmptyString:{"sap-app-origin-hint":true},args:v});return I;}function e(v){var f,h,j;if(localStorage&&localStorage["sap-ushell-enc-test"]==="false"){return v;}if(!S||!S["sap-ushell-enc-test"]){if(localStorage&&localStorage["sap-ushell-enc-test"]!=="true"){return v;}}if(typeof v!=="string"&&!i(v)&&v!==undefined){q.sap.log.error("Unexpected input type",null,"sap.ushell.services.CrossApplicationNavigation");return undefined;}if(v===undefined){return undefined;}if(i(v)){h=q.extend(true,{},v);if(h.target&&h.target.shellHash){if(typeof h.target.shellHash==="string"){if(h.target.shellHash!=="#"&&h.target.shellHash!==""){h.target.shellHash=e(h.target.shellHash);}}return h;}h.params=h.params||{};h.params["sap-ushell-enc-test"]=["A B%20C"];return h;}j=v;if(!/[?&]sap-system=/.test(j)){f=(j.indexOf("?")>-1)?"&":"?";j+=f+"sap-ushell-enc-test="+encodeURIComponent("A B%20C");}return j;}this._extractInnerAppRoute=function(I){var f=this,P,h;if(typeof I==="string"){P=I.split("&/");h=P.shift();return{intent:h,innerAppRoute:P.length>0?"&/"+P.join("&/"):""};}if(Object.prototype.toString.apply(I)==="[object Object]"){var j=O.get("target.shellHash",I);if(typeof j==="string"){var r=f._extractInnerAppRoute(j);I.target.shellHash=r.intent;return{intent:I,innerAppRoute:r.innerAppRoute};}if(I.hasOwnProperty("appSpecificRoute")){var v=I.appSpecificRoute;delete I.appSpecificRoute;var k=typeof v==="string"&&v.indexOf("&/")!==0&&v.length>0;return{innerAppRoute:k?"&/"+v:v,intent:I};}return{intent:I,innerAppRoute:""};}q.sap.log.error("Invalid input parameter","expected string or object","sap.ushell.services.CrossApplicationNavigation");return{intent:I};};this._injectInnerAppRoute=function(I,f){var h,j=this;if(!f){return I;}if(typeof I==="string"){return I+f;}if(Object.prototype.toString.apply(I)==="[object Object]"){h=O.get("target.shellHash",I);if(typeof h==="string"){I.target.shellHash=j._injectInnerAppRoute(h,f);return I;}I.appSpecificRoute=f;}return I;};this.hrefForExternal=function(f,h,j){var k,E,I;if(sap.ushell&&sap.ushell.Container&&typeof sap.ushell.Container.getService==="function"&&sap.ushell.Container.getService("ShellNavigation")){k=m({},f);E=this._extractInnerAppRoute(k);I=E.intent;u.addXAppStateFromParameter(I,"sap-xapp-state-data");k=g(I,h);k=u._injectStickyParameters({args:k,appLifeCycle:A,technicalParameters:T,type:t});k=e(k);k=this._injectInnerAppRoute(k,E.innerAppRoute);return sap.ushell.Container.getService("ShellNavigation").hrefForExternal(k,undefined,h,j);}q.sap.log.debug("Shell not available, no Cross App Navigation");if(j){return(new q.Deferred()).resolve("").promise();}return"";};this.expandCompactHash=function(h){return sap.ushell.Container.getService("NavTargetResolution").expandCompactHash(h);};this.backToPreviousApp=function(){if(this.isInitialNavigation()){this.toExternal({target:{shellHash:"#"},writeHistory:false});return;}this.historyBack();};this.historyBack=function(f){var h=-1;if(f&&typeof f==="number"){if(f<=0){q.sap.log.warning("historyBack called with an argument <= 0 and will result in a forward navigation or refresh","expected was an argument > 0","sap.ushell.services.CrossApplicationNavigation#historyBack");}h=f*-1;}window.history.go(h);};this.isInitialNavigation=function(){var f=sap.ushell&&sap.ushell.Container&&typeof sap.ushell.Container.getService==="function"&&sap.ushell.Container.getService("ShellNavigation");if(!f){q.sap.log.debug("ShellNavigation service not available","This will be treated as the initial navigation","sap.ushell.services.CrossApplicationNavigation");return true;}var I=f.isInitialNavigation();if(typeof I==="undefined"){return true;}return I;};this.toExternal=function(f,h){var j,E,I,w=f.writeHistory;if(sap.ushell&&sap.ushell.Container&&typeof sap.ushell.Container.getService==="function"&&sap.ushell.Container.getService("ShellNavigation")){j=m({},f);this._processShellHashWithParams(j);E=this._extractInnerAppRoute(j);I=E.intent;u.addXAppStateFromParameter(I,"sap-xapp-state-data");j=g(I,h);j=u._injectStickyParameters({args:j,appLifeCycle:A,technicalParameters:T,type:t});j=e(j);delete j.writeHistory;j=this._injectInnerAppRoute(j,E.innerAppRoute);sap.ushell.Container.getService("ShellNavigation").toExternal(j,h,w);return;}q.sap.log.debug("Shell not avialable, no Cross App Navigation");return;};this.hrefForAppSpecificHash=function(f){if(sap.ushell&&sap.ushell.Container&&typeof sap.ushell.Container.getService==="function"&&sap.ushell.Container.getService("ShellNavigation")){return sap.ushell.Container.getService("ShellNavigation").hrefForAppSpecificHash(f);}q.sap.log.debug("Shell not available, no Cross App Navigation; fallback to app-specific part only");return"#"+encodeURI(f);};this.getPrimaryIntent=function(f,P){var Q={},h,r=/^#\w+-displayFactSheet(?:$|\?.)/;Q.tags=["primaryAction"];Q.semanticObject=f;if(P){Q.params=P;}return this.getLinks(Q).then(function(l){if(l.length===0){delete Q.tags;Q.action="displayFactSheet";h=function(L,j){var E;if(L.intent===j.intent){return 0;}E=r.test(L.intent)^r.test(j.intent);if(E){return r.test(L.intent)?-1:1;}return L.intent<j.intent?-1:1;};return this.getLinks(Q);}h=function(L,j){if(L.intent===j.intent){return 0;}return L.intent<j.intent?-1:1;};return l;}.bind(this)).then(function(l){return l.length===0?null:l.sort(h)[0];});};this.getSemanticObjectLinks=function(f,P,I,h,j,k){var l,n,E;l=u._injectStickyParameters({args:{params:P},appLifeCycle:A,technicalParameters:T,type:t});l=g(l,h).params;l=e({params:l}).params;n=sap.ushell.Container.getService("NavTargetResolution");var v;if(Array.isArray(f)){v=[];f.forEach(function(r){v.push([{semanticObject:r[0],params:r[1],ignoreFormFactor:!!r[2],ui5Component:r[3],appStateKey:r[4],compactIntents:!!(r[5])}]);});}else{v={semanticObject:f,params:l,ignoreFormFactor:I,ui5Component:h,appStateKey:j,compactIntents:!!k};}E=b.invokeUnfoldingArrayArguments(n.getLinks.bind(n),[v]);return E;};this.getLinks=function(v){var E;E=b.invokeUnfoldingArrayArguments(this._getLinks.bind(this),[v]);return E;};this._getLinks=function(n){var N,P,f,h=sap.ushell.Container.getService("NavTargetResolution");if(typeof n==="undefined"){n={};}N=q.extend(true,{},n);N.compactIntents=!!N.compactIntents;N.action=N.action||undefined;N.paramsOptions=u.extractGetLinksParameterOptions(N.params);N=u._injectStickyParameters({args:N,appLifeCycle:A,technicalParameters:T,type:t});P=N.params?u.extractGetLinksParameterDefinition(N.params):N.params;f=g({params:P},N.ui5Component).params;f=e({params:f}).params;if(N.appStateKey){f["sap-xapp-state"]=[N.appStateKey];delete N.appStateKey;}N.params=f;return h.getLinks(N);};this.getDistinctSemanticObjects=function(){var f=sap.ushell.Container.getService("NavTargetResolution");return f.getDistinctSemanticObjects();};this.isIntentSupported=function(I,f){var D=new q.Deferred(),h={},j=I.map(function(k){var l=g(k,f);h[l]=k;return l;});sap.ushell.Container.getService("NavTargetResolution").isIntentSupported(j).done(function(k){var l={};Object.keys(k).forEach(function(K){l[h[K]]=k[K];});D.resolve(l);}).fail(D.reject.bind(D));return D.promise();};this.isNavigationSupported=function(I,f){var h=I.map(function(j){return g(j,f);});return sap.ushell.Container.getService("NavTargetResolution").isNavigationSupported(h);};this.isUrlSupported=function(f){var D=new q.Deferred(),h,H;if(typeof f!=="string"){D.reject();return D.promise();}h=sap.ushell.Container.getService("URLParsing");if(h.isIntentUrl(f)){H=h.getHash(f);this.isIntentSupported(["#"+H]).done(function(r){if(r["#"+H]&&r["#"+H].supported){D.resolve();}else{D.reject();}}).fail(function(){D.reject();});}else{D.resolve();}return D.promise();};this.createComponentInstance=function(I,f,h){var D=new q.Deferred(),j=sap.ushell.Container;this.createComponentData(I,f).then(function(r){j.getServiceAsync("Ui5ComponentLoader").then(function(k){if(h){h.runAsOwner(function(){l(r);});}else{l(r);}function l(n){n.loadDefaultDependencies=false;k.instantiateComponent(n).then(function(v){D.resolve(v.componentHandle.getInstance());},function(E){E=E||"";q.sap.log.error("Cannot create UI5 component: "+E,E.stack,"sap.ushell.services.CrossApplicationNavigation");D.reject(E);});}});},function(E){D.reject(E);});return D.promise();};this.createComponentData=function(I,f){return new Promise(function(r,R){var h=sap.ushell.Container,j,k;if(!f){f={};}else{k=Object.keys(f).length;if(k>1||(k===1&&!f.componentData)){R("`oConfig` argument should either be an empty object or contain only the `componentData` property.");return;}}if(f.componentData){delete f.componentData.startupParameters;delete f.componentData.config;delete f.componentData["sap-xapp-state"];}h.getServiceAsync("URLParsing").then(function(l){j=l.constructShellHash(l.parseShellHash(I));if(!j){R("Navigation intent invalid!");return;}h.getServiceAsync("NavTargetResolution").then(function(N){N.resolveHashFragment("#"+j).then(function(n){function v(x){x=q.extend(true,{},x,f);if(!x.ui5ComponentName){if(x.additionalInformation){x.ui5ComponentName=x.additionalInformation.replace(/^SAPUI5\.Component=/,"");}else if(x.name){x.ui5ComponentName=x.name;}}return x;}if(n.applicationType===c.URL.type&&n.appCapabilities&&n.appCapabilities.appFrameworkId==="UI5"&&sap.ushell.Container.inAppRuntime()){sap.ui["require"](["sap/ushell/appRuntime/ui5/services/AppLifeCycleAgent"],function(x){x.getAppInfo(n.appCapabilities.technicalAppComponentId).then(function(y){y=v(y);w({ui5ComponentName:n.appCapabilities.technicalAppComponentId,applicationDependencies:y,url:y.url});});});}else if(n.applicationType!==c.URL.type&&!(/^SAPUI5\.Component=/.test(n.additionalInformation))){R("The resolved target mapping is not of type UI5 component.");}else{w(n);}function w(x){h.getServiceAsync("Ui5ComponentLoader").then(function(y){x=v(x);x.loadDefaultDependencies=false;y.createComponentData(x).then(function(z){r(z);},function(E){E=E||"";q.sap.log.error("Cannot get UI5 component data: "+E,E.stack,"sap.ushell.services.CrossApplicationNavigation");R(E);});});}});});});});};this.createEmptyAppState=function(f,h,P,j){if(!d){d=sap.ushell.Container.getService("AppState");}if(!(f instanceof sap.ui.core.UIComponent)){throw new Error("The passed oAppComponent must be a UI5 Component.");}return d.createEmptyAppState(f,h,P,j);};this.getStartupAppState=function(f){this._checkComponent(f);var h=f.getComponentData()&&f.getComponentData()["sap-xapp-state"]&&f.getComponentData()["sap-xapp-state"][0];return this.getAppState(f,h);};this._checkComponent=function(f){if(!(f instanceof sap.ui.core.UIComponent)){throw new Error("oComponent passed must be a UI5 Component");}};this.getAppState=function(f,h){var j,D=new q.Deferred();this._checkComponent(f);if(!d){d=sap.ushell.Container.getService("AppState");}if(typeof h!=="string"){if(h!==undefined){q.sap.log.error("Illegal Argument sAppStateKey ");}setTimeout(function(){j=d.createEmptyUnmodifiableAppState(f);D.resolve(j);},0);return D.promise();}return d.getAppState(h);};this.getAppStateData=function(f){return b.invokeUnfoldingArrayArguments(this._getAppStateData.bind(this),[f]);};this._getAppStateData=function(f){var D=new q.Deferred();if(!d){d=sap.ushell.Container.getService("AppState");}if(typeof f!=="string"){if(f!==undefined){q.sap.log.error("Illegal Argument sAppStateKey ");}setTimeout(function(){D.resolve(undefined);},0);}else{d.getAppState(f).done(function(h){D.resolve(h.getData());}).fail(D.resolve.bind(D,undefined));}return D.promise();};this.saveMultipleAppStates=function(f){var r=[],D=new q.Deferred();f.forEach(function(h){r.push(h.save());});q.when.apply(this,r).done(function(){D.resolve(r);}).fail(function(){D.reject("save failed");});return D.promise();};this._processShellHashWithParams=function(f){var h,H;if(f&&f.processParams===true&&f.target&&f.target.shellHash&&f.params){h=sap.ushell.Container.getService("URLParsing");H=h.parseShellHash(f.target.shellHash);f.target={semanticObject:H.semanticObject,action:H.action,contextRaw:H.contextRaw};f.appSpecificRoute=H.appSpecificRoute;f.params=Object.assign({},f.params,H.params);}};this.getSupportedAppStatePersistencyMethods=function(){if(!d){d=sap.ushell.Container.getService("AppState");}return d.getSupportedPersistencyMethods();};this.makeStatePersistent=function(k,P,f){if(!d){d=sap.ushell.Container.getService("AppState");}return d.makeStatePersistent(k,P,f);};this.resolveIntent=function(h){var D=new q.Deferred();sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(N){N.resolveHashFragment(h).then(function(r){D.resolve({url:r.url});}).fail(function(M){D.reject(M);});});return D.promise();};}C.hasNoAdapter=true;return C;},true);
sap.ui.predefine('sap/ushell/services/DarkModeSupport',["sap/base/Log","sap/base/util/UriParameters","sap/ui/Device","sap/ushell/Config","sap/ushell/EventHub"],function(L,U,D,C,E){"use strict";var P="(prefers-color-scheme: dark)";function a(){this.channel=E.createChannel({"mode":undefined});this.darkMediaQueryList=window.matchMedia(P);this.doables=[];this.themeChangedCallback=null;this.darkMediaQueryListListener=null;}a.Mode={LIGHT:"light",DARK:"dark"};a.prototype.setup=function(){if(this.initialized){return;}this.initialized=true;this.themeChangedCallback=function(){this.channel.emit("/mode",this.getCurrentThemeMode());}.bind(this);sap.ui.getCore().attachThemeChanged(this.themeChangedCallback);this.themeChangedCallback();if(this.canAutomaticallyToggleDarkMode()){this.enableDarkModeBasedOnSystem();}};a.prototype.destroy=function(){this.channel.emit("/mode",null);this.doables.forEach(function(d){d.off();});this.doables=[];if(this.initialized){sap.ui.getCore().detachThemeChanged(this.themeChangedCallback);this.themeChangedCallback=null;this.disableDarkModeBasedOnSystem();this.initialized=false;}};a.prototype.attachModeChanged=function(c){var d=this.channel.on("/mode").do(function(m){c(m);});this.doables.push(d);};a.prototype.canAutomaticallyToggleDarkMode=function(){var i=this.darkMediaQueryList.media===P;return i&&!U.fromURL(window.location.href).has("sap-theme");};a.prototype.isThemeSupportDarkMode=function(t){t=t||this._getCurrentTheme();return!!this._findSupportedThemePair(t);};a.prototype._toggleDarkModeBasedOnSystemColorScheme=function(){var c=this._getCurrentTheme();if(this.darkMediaQueryList&&this.isThemeSupportDarkMode(c)){var s=this._findSupportedThemePair(c),i=this.darkMediaQueryList.matches;var t=i?s.dark:s.light;sap.ushell.Container.getUser().applyTheme(t);}};a.prototype._applyDefaultUserTheme=function(){var u=sap.ushell.Container.getUser();if(u.constants&&u.constants.themeFormat){u.applyTheme(u.getTheme(u.constants.themeFormat.ORIGINAL_THEME));}};a.prototype.toggleModeChange=function(){var c=this._getCurrentTheme(),s=this._findSupportedThemePair(c);if(s){var t=c===s.light?s.dark:s.light;sap.ushell.Container.getUser().applyTheme(t);}};a.prototype.enableDarkModeBasedOnSystem=function(){if(!this.initialized){L.warning("Automatic dark mode detection cannot be enabled, because the DarkModeSupport sevice was not setup.");return;}if(!this.canAutomaticallyToggleDarkMode()){L.warning("Automatic dark mode detection cannot be enabled, because your browser does not support dark mode detection");return;}if(this.darkMediaQueryListListener){L.warning("Automatic dark mode detection was already enabled");return;}if(D.support.matchmedialistener){this.darkMediaQueryListListener=this._toggleDarkModeBasedOnSystemColorScheme.bind(this);this.darkMediaQueryList.addListener(this.darkMediaQueryListListener);}this._toggleDarkModeBasedOnSystemColorScheme();};a.prototype.disableDarkModeBasedOnSystem=function(){if(this.darkMediaQueryListListener){this.darkMediaQueryList.removeListener(this.darkMediaQueryListListener);this.darkMediaQueryListListener=null;}this._applyDefaultUserTheme();};a.prototype.getCurrentThemeMode=function(){var c=this._getCurrentTheme(),s=this._findSupportedThemePair(c);if(s){return c===s.light?a.Mode.LIGHT:a.Mode.DARK;}return null;};a.prototype._getCurrentTheme=function(){return sap.ui.getCore().getConfiguration().getTheme();};a.prototype._findSupportedThemePair=function(c){var s=C.last("/core/darkMode/supportedThemes");return s.filter(function(S){return S.dark===c||S.light===c;})[0];};a.hasNoAdapter=true;return a;},true);
sap.ui.predefine('sap/ushell/services/LaunchPage',["sap/base/Log","sap/ushell/services/ContentExtensionAdapterFactory","sap/ui/thirdparty/jquery","sap/ushell/resources","sap/ushell/services/_AppState/AppStatePersistencyMethod","sap/ushell/Config"],function(L,C,q,r,A,a){"use strict";function b(o){var t=this,T=[],c=C.getAdapters();this.oAdapters={default:o};c.then(function(d){q.extend(this.oAdapters,d);}.bind(this));this.getGroups=function(){if(a.last("/core/spaces/enabled")){return new q.Deferred().resolve([]).promise();}var d=new q.Deferred();c.then(function(){var G=Object.keys(t.oAdapters).map(function(s){return t._getAdapter(s).getGroups();});q.when.apply(q,G).done(function(){var e=[].concat.apply([],arguments);d.resolve(e);}).fail(function(){L.error("getGroups failed");});});return d.promise();};this.getGroupsForBookmarks=function(G){var d=q.Deferred();this.getGroups().then(function(e){this.getDefaultGroup().then(function(D){if(e.length>0){e=e.filter(function(f){if(G!==undefined&&G===true){return this.isGroupVisible(f);}return(!this.isGroupLocked(f)&&this.isGroupVisible(f));}.bind(this));e=e.map(function(f){return{title:(f===D&&r.i18n.getText("my_group"))||this.getGroupTitle(f),object:f};}.bind(this));}d.resolve(e);}.bind(this),function(E){L.error("getGroupsForBookmarks - getDefaultGroup - failed: "+E.message);});}.bind(this),function(e){L.error("getGroupsForBookmarks - getGroups - failed: "+e.message);});return d.promise();};this.getDefaultGroup=function(){var p=this._getAdapter().getDefaultGroup();p.fail(function(){L.error("getDefaultGroup failed");});return p;};this.getGroupTitle=function(G){return this._getAdapter(G.contentProvider).getGroupTitle(G);};this.getGroupId=function(G){return this._getAdapter(G.contentProvider).getGroupId(G);};this.getGroupById=function(G){var D=q.Deferred(),t=this;this.getGroups().then(function(d){d=q.grep(d,function(e){return t.getGroupId(e)===G;});D.resolve((d&&d.length>0?d[0]:undefined));});return D.promise();};this.getGroupTiles=function(G){return this._getAdapter(G.contentProvider).getGroupTiles(G);};this.getTilesByGroupId=function(G){var D=q.Deferred(),t=this;this.getGroupById(G).then(function(d){if(d){var e=t._getAdapter(d.contentProvider).getGroupTiles(d);if(e){e=e.map(function(f){return{id:t.getTileId(f),title:t.getTileTitle(f),subtitle:t.getCatalogTilePreviewSubtitle(f),url:t.getCatalogTileTargetURL(f),icon:t.getCatalogTilePreviewIcon(f),groupId:G};});}else{e=[];}D.resolve(e);}else{D.resolve([]);}});return D.promise();};this.getLinkTiles=function(G){return this._getAdapter(G.contentProvider).getLinkTiles(G);};this.addGroupAt=function(s,i){var p,d=i,o=this._getAdapter();if(o.addGroupAt){p=o.addGroupAt(s,i);p.fail(function(){L.error("addGroup "+s+" failed");});}else{var D=new q.Deferred();p=o.addGroup(s);p.done(function(n){var m=this.moveGroup(n,d),e=n;m.done(function(){D.resolve(e);});m.fail(function(){D.reject();});}.bind(this));p.fail(function(){L.error("addGroup "+s+" failed");D.reject();});return D.promise();}return p;};this.addGroup=function(s){var p=this._getAdapter().addGroup(s);p.fail(function(){L.error("addGroup "+s+" failed");});return p;};this.removeGroup=function(G,i){var p=this._getAdapter(G.contentProvider).removeGroup(G,i);p.fail(function(){L.error("Fail to removeGroup "+t.getGroupTitle(G));});return p;};this.resetGroup=function(G,i){var p=this._getAdapter(G.contentProvider).resetGroup(G,i);p.fail(function(){L.error("Fail to resetGroup "+t.getGroupTitle(G));});return p;};this.isGroupRemovable=function(G){return this._getAdapter(G.contentProvider).isGroupRemovable(G);};this.isGroupLocked=function(G){var o=this._getAdapter(G.contentProvider);if(typeof o.isGroupLocked==="function"){return o.isGroupLocked(G);}return false;};this.isGroupFeatured=function(G){var o=this._getAdapter(G.contentProvider);if(typeof o.isGroupFeatured==="function"){return o.isGroupFeatured(G);}return false;};this.moveGroup=function(G,n){var p=this._getAdapter(G.contentProvider).moveGroup(G,n);p.fail(function(){L.error("Fail to moveGroup "+t.getGroupTitle(G));});return p;};this.setGroupTitle=function(G,s){var p=this._getAdapter(G.contentProvider).setGroupTitle(G,s);p.fail(function(){L.error("Fail to set Group title: "+t.getGroupTitle(G));});return p;};this.hideGroups=function(h){var d=new q.Deferred(),o=this._getAdapter();if(typeof o.hideGroups!=="function"){d.reject("hideGroups() is not implemented in the Adapter.");}else{o.hideGroups(h).done(function(){d.resolve();}).fail(function(m){L.error("Fail to store groups visibility."+m);d.reject();});}return d.promise();};this.isGroupVisible=function(G){var o=this._getAdapter(G.contentProvider);if(typeof o.isGroupVisible==="function"){return o.isGroupVisible(G);}return true;};this.addTile=function(d,G){return this._getAdapter(G.contentProvider).addTile(d,G).fail(function(){L.error("Fail to add Tile: "+t.getCatalogTileId(d));});};this.removeTile=function(G,d,i){var p=this._getAdapter(G.contentProvider).removeTile(G,d,i),t=this;p.done(function(){t.deleteURLStatesPersistentData(t.getCatalogTileTargetURL(d));});p.fail(function(){L.error("Fail to remove Tile: "+t.getTileId(d));});return p;};this.moveTile=function(d,s,i,S,e,n){var p=this._getAdapter().moveTile(d,s,i,S,e,n);p.fail(function(){L.error("Fail to move Tile: "+t.getTileId(d));});return p;};this.isLinkPersonalizationSupported=function(d){var s=d&&d.contentProvider,o=this._getAdapter(s);if(typeof o.isLinkPersonalizationSupported==="function"){return o.isLinkPersonalizationSupported(d);}return false;};this.getTileId=function(d){var s=d&&d.contentProvider;return this._getAdapter(s).getTileId(d);};this.getTileTitle=function(d){var s=d&&d.contentProvider;return this._getAdapter(s).getTileTitle(d);};this.getTileType=function(d){var s=d&&d.contentProvider,o=this._getAdapter(s);if(o.getTileType){return o.getTileType(d);}return"tile";};this.getTileView=function(d){var s=d&&d.contentProvider,D=this._getAdapter(s).getTileView(d);if(!q.isFunction(D.promise)){D=new q.Deferred().resolve(D).promise();}return D;};this.getCardManifest=function(G){var s=G&&G.contentProvider;return this._getAdapter(s).getCardManifest(G);};this.getAppBoxPressHandler=function(d){var s=d&&d.contentProvider,o=this._getAdapter(s);if(o.getAppBoxPressHandler){return o.getAppBoxPressHandler(d);}return undefined;};this.getTileSize=function(d){var s=d&&d.contentProvider;return this._getAdapter(s).getTileSize(d);};this.getTileTarget=function(d){var s=d&&d.contentProvider;return this._getAdapter(s).getTileTarget(d);};this.getTileDebugInfo=function(d){var s=d&&d.contentProvider,o=this._getAdapter(s);if(typeof o.getTileDebugInfo==="function"){return o.getTileDebugInfo(d);}return undefined;};this.isTileIntentSupported=function(d){var s=d&&d.contentProvider,o=this._getAdapter(s);if(typeof o.isTileIntentSupported==="function"){return o.isTileIntentSupported(d);}return true;};this.refreshTile=function(d){var s=d&&d.contentProvider;this._getAdapter(s).refreshTile(d);};this.setTileVisible=function(d,n){var s=d&&d.contentProvider;return this._getAdapter(s).setTileVisible(d,n);};this.registerTileActionsProvider=function(p){if(typeof p!=="function"){throw new Error("Tile actions Provider is not a function");}T.push(p);};this.getTileActions=function(d){var e=[],f,s=d&&d.contentProvider,o=this._getAdapter(s);if(typeof o.getTileActions==="function"){f=o.getTileActions(d);if(f&&f.length&&f.length>0){e.push.apply(e,f);}}for(var i=0;i<T.length;i++){f=T[i](d);if(f&&f.length&&f.length>0){e.push.apply(e,f);}}return e;};this.getCatalogs=function(){return this._getAdapter().getCatalogs();};this.isCatalogsValid=function(){return this._getAdapter().isCatalogsValid();};this.getCatalogData=function(d){var l=this._getAdapter();if(typeof l.getCatalogData!=="function"){L.warning("getCatalogData not implemented in adapter",null,"sap.ushell.services.LaunchPage");return{id:this.getCatalogId(d)};}return l.getCatalogData(d);};this.getCatalogError=function(d){return this._getAdapter().getCatalogError(d);};this.getCatalogId=function(d){return this._getAdapter().getCatalogId(d);};this.getCatalogTitle=function(d){return this._getAdapter().getCatalogTitle(d);};this.getCatalogTiles=function(d){var p=this._getAdapter().getCatalogTiles(d);p.fail(function(){L.error("Fail to get Tiles of Catalog: "+t.getCatalogTitle(d));});return p;};this.getCatalogTileId=function(d){return this._getAdapter(d.contentProvider).getCatalogTileId(d);};this.getCatalogTileTitle=function(d){var s=d&&d.contentProvider;return this._getAdapter(s).getCatalogTileTitle(d);};this.getCatalogTileSize=function(d){var s=d&&d.contentProvider;return this._getAdapter(s).getCatalogTileSize(d);};this.getCatalogTileViewControl=function(d){var s=d&&d.contentProvider;var l=this._getAdapter(s);if(typeof l.getCatalogTileViewControl==="function"){return l.getCatalogTileViewControl(d);}var D=new q.Deferred(),R=this.getCatalogTileView(d);D.resolve(R);return D.promise();};this.getCatalogTileView=function(d){var s=d&&d.contentProvider;return this._getAdapter(s).getCatalogTileView(d);};this.getCatalogTileTargetURL=function(d){var s=d&&d.contentProvider;return this._getAdapter(s).getCatalogTileTargetURL(d);};this.getCatalogTileTags=function(d){var s=d&&d.contentProvider;var l=this._getAdapter(s);if(typeof l.getCatalogTileTags==="function"){return l.getCatalogTileTags(d);}return[];};this.getCatalogTileKeywords=function(d){var s=d&&d.contentProvider;return this._getAdapter(s).getCatalogTileKeywords(d);};this.getCatalogTilePreviewTitle=function(d){var s=d&&d.contentProvider;return this._getAdapter(s).getCatalogTilePreviewTitle(d);};this.getCatalogTilePreviewInfo=function(d){var s=d&&d.contentProvider;return this._getAdapter(s).getCatalogTilePreviewInfo(d);};this.getCatalogTilePreviewSubtitle=function(d){var s=d&&d.contentProvider;var l=this._getAdapter(s);if(l.getCatalogTilePreviewSubtitle){return l.getCatalogTilePreviewSubtitle(d);}};this.getCatalogTilePreviewIcon=function(d){var s=d&&d.contentProvider;return this._getAdapter(s).getCatalogTilePreviewIcon(d);};this.addBookmark=function(p,G){var d=new q.Deferred();if(this._hasRequiredBookmarkParameters(p)){if(G&&this.isGroupLocked(G)){var m="Tile cannot be added, target group ("+this.getGroupTitle(G)+")is locked!";L.error(m);return d.reject(m);}this.changeURLStatesToPersistent(p.url).done(function(n){var s=G&&G.contentProvider;p.url=n;this._getAdapter(s).addBookmark(p,G).done(d.resolve).fail(function(){L.error("Fail to add bookmark for URL: "+p.url+" and Title: "+p.title);d.reject();});}.bind(this)).fail(function(M){L.error(M||"Fail to change url states to persistent: "+p.url);d.reject();});}return d.promise();};this.addCustomBookmark=function(B,G){var d=new q.Deferred();if(this._hasRequiredBookmarkParameters(B)){if(G&&this.isGroupLocked(G)){var m="Tile cannot be added, target group ("+this.getGroupTitle(G)+")is locked!";L.error(m);return d.reject(m);}this.changeURLStatesToPersistent(B.url).done(function(n){var s=G&&G.contentProvider;B.url=n;this._getAdapter(s).addCustomBookmark(B,G).done(d.resolve).fail(function(){L.error("Fail to add bookmark for URL: "+B.url+" and Title: "+B.title);d.reject();});}.bind(this)).fail(function(M){L.error(M||"Fail to change url states to persistent: "+B.url);d.reject();});}return d.promise();};this._hasRequiredBookmarkParameters=function(p){if(!p.title){L.error("Add Bookmark - Missing title");throw new Error("Title missing in bookmark configuration");}if(!p.url){L.error("Add Bookmark - Missing URL");throw new Error("URL missing in bookmark configuration");}return true;};this.countBookmarks=function(u){if(!u||typeof u!=="string"){L.error("Fail to count bookmarks. No valid URL");throw new Error("Missing URL");}var p=this._getAdapter().countBookmarks(u);p.fail(function(){L.error("Fail to count bookmarks");});return p;};this.countCustomBookmarks=function(i){if(!i.url||!i.vizType){return Promise.reject("countCustomBookmarks: Some required parameters are missing.");}return this._getAdapter().countCustomBookmarks(i);};this.deleteBookmarks=function(u){var t=this;if(!u||typeof u!=="string"){throw new Error("Missing URL");}var p=this._getAdapter().deleteBookmarks(u);p.done(function(){t.deleteURLStatesPersistentData(u);});p.fail(function(){L.error("Fail to delete bookmark for: "+u);});return p;};this.deleteCustomBookmarks=function(i){if(!i.url||!i.vizType){return Promise.reject("deleteCustomBookmarks: Some required parameters are missing.");}return this._getAdapter().deleteCustomBookmarks(i);};this.updateBookmarks=function(u,p){if(!u||typeof u!=="string"){L.error("Fail to update bookmark. No valid URL");throw new Error("Missing URL");}if(!p||typeof p!=="object"){L.error("Fail to update bookmark. No valid parameters, URL is: "+u);throw new Error("Missing parameters");}var P=new q.Deferred();this.changeURLStatesToPersistent(p.url).done(function(n){p.url=n;this._getAdapter().updateBookmarks(u,p).done(P.resolve).fail(function(){L.error("Fail to update bookmark for: "+u);P.reject();});}.bind(this)).fail(function(m){L.error(m||"Fail to change url states to persistent: "+p.url);P.reject();});return P.promise();};this.updateCustomBookmarks=function(i,B){if(!i.url||!i.vizType||!B){return Promise.reject("updateCustomBookmarks: Some required parameters are missing.");}return this._getAdapter().updateCustomBookmarks(i,B);};this.onCatalogTileAdded=function(s){return this._getAdapter().onCatalogTileAdded(s);};this.changeURLStatesToPersistent=function(u){var d=sap.ushell.Container.getService("AppState"),D=new q.Deferred();if(d.getSupportedPersistencyMethods().length===0){return D.resolve(u);}if(u&&u.length>0){try{return d.setAppStateToPublic(u);}catch(e){L.error("error in converting transient state to personal persistent when bookmark is added",e,"sap.ushell.services.LaunchPage");return D.reject();}}return D.resolve(u);};this.deleteURLStatesPersistentData=function(u){var d=sap.ushell.Container.getService("AppState");if(d.getSupportedPersistencyMethods().length===0){return;}if(u&&u.length>0){try{var x=g(u,"sap-xapp-state"),i=g(u,"sap-iapp-state");if(x!==undefined||i!==undefined){this.countBookmarks(u).done(function(f){if(f===0){if(x!==undefined){d.deleteAppState(x);}if(i!==undefined){d.deleteAppState(i);}}});}}catch(e){L.error("error in deleting persistent state when bookmark is deleted",e,"sap.ushell.services.LaunchPage");}}};function g(u,p){var R=new RegExp("(?:"+p+"=)([^&/]+)"),s=R.exec(u),v=undefined;if(s&&s.length===2){v=s[1];}return v;}}b.prototype._getAdapter=function(s){return this.oAdapters[s]||this.oAdapters.default;};b.hasNoAdapter=false;return b;},true);
sap.ui.predefine('sap/ushell/services/Menu',["sap/ushell/utils","sap/ui/model/json/JSONModel","sap/base/util/deepClone","sap/base/Log"],function(U,J,d,L){"use strict";function M(){this._init.apply(this,arguments);}M.prototype._init=function(a){this.oAdapter=a;this.oModel=new J();this._aBlockedList=[];};M.prototype.isMenuEnabled=function(){return this.oAdapter.isMenuEnabled();};M.prototype.getMenuEntries=function(){if(!this._oMenuEntriesPromise){this._oMenuEntriesPromise=this.oAdapter.getMenuEntries().then(function(m){return m.map(function(o){o.uid=U.generateUniqueId([]);if(o.menuEntries){o.menuEntries.forEach(function(s){s.uid=U.generateUniqueId([]);});}return o;});});}return this._oMenuEntriesPromise;};M.prototype.getSpacesPagesHierarchy=function(){if(!this._oSpacesPagesHierarchyPromise){this._oSpacesPagesHierarchyPromise=this.getMenuEntries().then(function(m){return{spaces:m.reduce(function(s,o){var p;if(o.menuEntries&&o.menuEntries.length){p=this._getAccessiblePages(o.menuEntries);}else{p=this._getAccessiblePages([o]);}if(p.length){s.push({title:o.title,id:p[0].spaceId,pages:p.map(function(P){return{title:P.title,id:P.id};})});}return s;}.bind(this),[])};}.bind(this)).catch(function(){return{spaces:[]};});}return this._oSpacesPagesHierarchyPromise;};M.prototype.getDefaultPage=function(){return this.getSpacesPagesHierarchy().then(function(s){var S=s.spaces.find(function(o){return(!!(o.id&&o.pages&&o.pages[0]&&o.pages[0].id));});return S.pages[0];});};M.prototype._getAccessiblePages=function(m){return m.filter(function(o){return o&&o.type==="IBN"&&o.target&&o.target.semanticObject==="Launchpad"&&o.target.action==="openFLPPage";}).map(function(o){var s=o.target.parameters.find(function(P){return P.name==="spaceId";});var p=o.target.parameters.find(function(P){return P.name==="pageId";});return{title:o.title,id:p&&p.value,spaceId:s&&s.value};});};M.prototype.hasMultiplePages=function(s){return this.getSpacesPagesHierarchy().then(function(h){var S=h.spaces.find(function(a){return a.id===s;});return S&&S.pages.length>1;});};M.prototype.getMenuModel=function(){return this.getMenuEntries().then(function(e){this.oModel.setData(e);return this.oModel;}.bind(this));};M.prototype._getNodeInfo=function(n,a,b,m){var N;for(var i=0;i<a.length;i++){if(!b){m=this._getManagerIdInNodeTree(n,a[i]);}if(a[i].id===n){return{node:a[i],isRootNode:!b,managerId:m||null};}if(a[i].menuEntries&&a[i].menuEntries.length>0){N=this._getNodeInfo(n,a[i].menuEntries,true,m);if(N.node){return N;}}}return{node:null,isRootNode:false,managerId:null};};M.prototype._nodeManagementPermitted=function(n,r,m){var N=this._getNodeInfo(n,r);if(!N.node){L.error("Node with id "+n+" cannot be found and will be skipped.");return false;}if(!!N.managerId&&N.managerId!==m){L.error("Node with id "+n+" cannot be managed by '"+m+"'"+" because it is already managed by '"+N.managerId+"'.");return false;}return true;};M.prototype._getManagerIdInNodeTree=function(n,a,m){if(a.id===n){return m||a.managerId;}if(a.managerId){m=a.managerId;}if(a.menuEntries&&a.menuEntries.length>0){for(var i=0;i<a.menuEntries.length;++i){m=this._getManagerIdInNodeTree(n,a.menuEntries[i],m);}return m;}return null;};M.prototype._updateNode=function(n,a,m){var t=d(m||{});function b(c){if(c){c.uid=c.uid||U.generateUniqueId([]);(c.menuEntries||[]).forEach(b);}}b(t);return a.map(function(c){if(c.id===n){return t;}if(c.menuEntries&&c.menuEntries.length>0){c.menuEntries=this._updateNode(n,c.menuEntries,t);}return c;}.bind(this));};M.prototype._createEntryProviders=function(m,n,a){var N=a.getData();var o={};var s;for(var i=0;i<n.length;++i){s=n[i];if(!this._nodeManagementPermitted(s,N,m)){continue;}o[s]={setData:function(b,c){var u=this._updateNode(b,N,c);a.setData(u);}.bind(this,s)};}return o;};M.prototype._isManagerBlocked=function(m){return this._aBlockedList.indexOf(m)>-1;};M.prototype._setManagerBlocked=function(m){this._aBlockedList.push(m);};M.prototype.getEntryProvider=function(p,n){if(this._isManagerBlocked(p)){L.error("ManagerId '"+p+"' is already listed as an entry manager.");return Promise.reject("ManagerId "+p+" is already listed as an entry manager.");}this._setManagerBlocked(p);return this.getMenuModel().then(function(m){return this._createEntryProviders(p,n,m);}.bind(this));};M.hasNoAdapter=false;return M;});
sap.ui.predefine('sap/ushell/services/Message',["sap/base/Log","sap/m/MessageBox","sap/ushell/Config","sap/ushell/resources","sap/m/Dialog","sap/m/Text","sap/m/Link","sap/m/Button","sap/m/VBox","sap/m/FormattedText","sap/m/library","sap/ui/core/library"],function(L,M,C,r,D,T,a,B,V,F,m,c){"use strict";var b=m.ButtonType;var d=m.DialogType;var e=c.ValueState;var f=m.FlexRendertype;function g(){var s;this.init=function(S){s=S;return this;};this.show=function(t,h,p){if(!h){L.error("Message must not be empty.");return;}if(s&&typeof s==="function"){s(t,h,p||{});}else{this.buildMessage(t,h,p||{});}};this.buildMessage=function(t,h,p){var o={title:p.title,actions:p.actions,details:p.details,onClose:p.callback,emphasizedAction:p.emphasizedAction},i;switch(t){case g.Type.ERROR:this._createAndOpenErrorDialog(h,o);return;case g.Type.CONFIRM:if(!p.actions){i="confirm";}else if(p.actions.indexOf("DELETE")>-1){i="warning";o.emphasizedAction=M.Action.DELETE;}else{o.icon=M.Icon.QUESTION;i="show";}break;case g.Type.INFO:i="info";this.buildAndSendMessageToast(h,p.duration||3000);return;default:o={duration:p.duration||3000};i="show";break;}this.sendMessageBox(h,i,o);};this._copyToClipboard=function(h,i,j){var k=i.details;if(typeof i.details==="object"){k=JSON.stringify(i.details,null,"\t");}var l=["Title: "+(j||"-"),"Message: "+(h||"-"),"Details: "+(k||"-")];var E=document.activeElement,t=document.createElement("textarea"),n;try{t.contentEditable=true;t.readonly=false;t.innerText=l.join("\n");document.documentElement.appendChild(t);if(navigator.userAgent.match(/ipad|iphone/i)){var R=document.createRange();R.selectNodeContents(t);window.getSelection().removeAllRanges();window.getSelection().addRange(R);t.setSelectionRange(0,999999);}else{t.select();}var S=document.execCommand("copy");n=S?"CopyWasSuccessful":"CopyWasNotSuccessful";}catch(o){n="CopyWasNotSuccessful";}finally{this.buildAndSendMessageToast(r.i18n.getText(n));document.documentElement.removeChild(t);window.getSelection().removeAllRanges();E.focus();}};this._createAndOpenErrorDialog=function(h,i){var v=i.details;var o;if(v){o=new F({htmlText:typeof v==="object"?v.info:v});}var E=this.errorWithDetails(h,o,i.title);if(sap.ushell.Container&&C.last("/core/extension/SupportTicket")&&h!==r.i18n.getText("supportTicketCreationFailed")){E.addButton(new B({text:r.i18n.getText("contactSupportBtn"),tooltip:r.i18n.getText("contactSupportBtn_tooltip"),press:function(){sap.ui.require(["sap/ushell/ui/footerbar/ContactSupportButton"],function(j){var k=new j();if(k){k.showContactSupportDialog();k.destroy();}});E.close();}}));}if(document.queryCommandSupported("copy")){E.addButton(new B({text:r.i18n.getText("CopyToClipboardBtn"),tooltip:r.i18n.getText("CopyToClipboardBtn_tooltip"),press:this._copyToClipboard.bind(this,h,i,E.getTitle())}));}E.addButton(new B({text:r.i18n.getText("closeBtn"),type:b.Emphasized,press:E.close.bind(E)}));};this.buildAndSendMessageToast=function(h,i){sap.ui.require(["sap/m/MessageToast"],function(j){j.show(h,{duration:i});});};this.sendMessageBox=function(h,t,o){if(typeof M[t]==="function"){M[t](h,o);}else{L.error("Unknown Message type: "+t,null,"Message Service");}};this.info=function(h,i){this.show(g.Type.INFO,h,{duration:i||3000});};this.error=function(h,t){L.error(h);this.show(g.Type.ERROR,h,{title:t});};this.confirm=function(h,i,t,A){this.show(g.Type.CONFIRM,h,{title:t,callback:i,actions:A});};this.errorWithDetails=function(h,i,t,j){if(Array.isArray(i)){j=i;i=null;}if(typeof i==="string"){j=t;t=i;i=null;}var o=new T({text:h,visible:!!h});if(i){o.addStyleClass("sapUiSmallMarginBottom");}var E=new D({state:e.Error,type:d.Message,contentWidth:"30rem",title:t||r.i18n.getText("error"),content:[new V({renderType:f.Bare,items:[o,new a({text:r.i18n.getText("ViewDetails"),visible:!!i,press:function(){E.getContent()[0].addItem(i);this.destroy();}})]})],buttons:j,endButton:new B({text:r.i18n.getText("closeBtn"),type:b.Emphasized,press:function(){E.close();}}),afterClose:function(){this.destroy();}}).addStyleClass("sapContrastPlus");E.open();return E;};}g.Type={INFO:0,ERROR:1,CONFIRM:2};g.hasNoAdapter=true;return g;},true);
sap.ui.predefine('sap/ushell/services/NavTargetResolution',["sap/ushell/services/AppConfiguration","sap/ushell/utils","sap/ushell/navigationMode","sap/ui/thirdparty/URI","sap/ui/thirdparty/jquery","sap/ui/performance/Measurement","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/util/UriParameters","sap/base/Log"],function(b,u,n,U,q,M,c,O,d,L){"use strict";function N(A,C,p,s){var S=s&&s.config,I=function(){return!!(S&&S.enableClientSideTargetResolution);},r=function(h){var a=I()?this._resolveHashFragmentClientSide(h):A.resolveHashFragment(h);return a;},l,R=[{name:"DefaultAdapter",isApplicable:function(){return true;},resolveHashFragment:r.bind(this)}],o;this._isClientSideTargetResolutionEnabled=I;this._nextResolveHashFragment=function(a,h){var e,f;e=a.pop();if(e.isApplicable(h)){L.info("NavTargetResolution: custom resolver "+e.name+" resolves "+h);f=this._nextResolveHashFragment.bind(this,a);return e.resolveHashFragment(h,f);}return this._nextResolveHashFragment(a,h);};this._resolveHashFragmentClientSide=function(h){var H=this._validateHashFragment(h),f;if(!H.success){return new q.Deferred().reject(h+" is not a valid hash fragment").promise();}f=H.hashFragmentWithoutHash;return this._resolveHashFragmentClientSideAndFixApplicationType(f);};this._resolveHashFragmentClientSideAndFixApplicationType=function(f){var D=new q.Deferred();sap.ushell.Container.getService("ClientSideTargetResolution").resolveHashFragment(f).done(function(a){if(a&&a.applicationType==="SAPUI5"){a.applicationType="URL";}D.resolve(a);}).fail(function(){D.reject.apply(D,arguments);});return D.promise();};this._validateHashFragment=function(h){var H="",v={success:false};if(h&&h.charAt(0)!=="#"){throw new u.Error("Hash fragment expected in _validateHashFragment","sap.ushell.services.NavTargetResolution");}H=h.substring(1);if(H){v.success=true;}v.hashFragmentWithoutHash=H;return v;};this.expandCompactHash=function(h){var a=sap.ushell.Container.getService("URLParsing"),P,D=new q.Deferred();P=a.parseShellHash(h);if(P&&P.params&&P.params["sap-intent-param"]){sap.ushell.Container.getService("AppState").getAppState(P.params["sap-intent-param"][0]).done(function(e){var v=e.getData("sap-intent-param"),H=h;if(v){H=sap.ushell.Container.getService("URLShortening").expandParamGivenRetrievalFunction(h,"sap-intent-param",function(){return v;});}D.resolve(H);}).fail(function(){D.resolve(h);});}else{D.resolve(h);}return D.promise();};var w=["NWBC","WDA","TR"];this._adjustResolutionResultForUi5Components=function(a){var m,e;if(typeof a!=="object"){return;}delete a["sap.platform.runtime"];if(a&&a.applicationType&&a.applicationType==="SAPUI5"){a.applicationType="URL";}if(a.applicationType==="URL"){m=/^SAPUI5\.Component=(.*)/.exec(a.additionalInformation);e=m&&m[1];if(e){a.ui5ComponentName=e;}}};this._getSapSystem=function(h,a){var e;if(a&&a["sap-system"]){return a["sap-system"];}if(a&&a.url){e=(new d(a.url)).get("sap-system");if(e){return e;}}if(w.indexOf(a.applicationType)>=0&&h&&h.substring(1)){e=(new d(h.substring(1))).get("sap-system");if(e){return e;}}return undefined;};this.resolveTarget=function(a){var h,e=u.clone(a),D=new q.Deferred();M.average("sap.ushell.navigation.resolveTarget");u.storeSapSystemToLocalStorage(e);h=sap.ushell.Container.getService("URLParsing").constructShellHash(e);sap.ushell.Container.getService("NavTargetResolution").resolveHashFragment("#"+h).done(function(f){M.end("sap.ushell.navigation.resolveTarget");D.resolve({url:f.url,text:f.text,externalNavigationMode:f.externalNavigationMode});}).fail(function(m){D.reject(m);});return D.promise();};this.resolveHashFragment=function(h){var D=new q.Deferred(),a=/sap-ushell-enc-test=([^&]*)(&.*)?$/,m,e,f,t=this;M.average("sap.ushell.navigation.resolveHashFragment");this.expandCompactHash(h).done(function(H){if(H.indexOf("sap-ushell-enc-test")>=0){m=a.exec(H);if(m){e=m[1];if(e!=="A%20B%2520C"){sap.ushell.Container.getService("Message").error("This navigation is flagged as erroneous because"+" (likely the calling procedure) generated a wrong encoded hash."+" Please track down the encoding error and make sure to use the CrossApplicationNavigation service for navigation.","Navigation encoding wrong");}H=H.replace(/sap-ushell-enc-test=([^&]*)&/,"");H=H.replace(/(&|\?)sap-ushell-enc-test=([^&]*)$/,"");}}var P=t._invokeResolveHashChain(H);if(typeof A.processPostResolution==="function"){P=A.processPostResolution(H,P);}P.done(function(g){t._adjustResolutionResultForUi5Components(g);if(c(g)){if(!g.hasOwnProperty("navigationMode")){g.navigationMode=n.getNavigationMode(g,b.getCurrentApplication());}g.targetNavigationMode=n.getExternalNavigationMode(g.navigationMode);}if(c(g)&&!g.hasOwnProperty("sap-system")){f=t._getSapSystem(h,g);if(f){g["sap-system"]=f;}}M.end("sap.ushell.navigation.resolveHashFragment");D.resolve(g);}).fail(function(g){D.reject(g);});}).fail(function(g){D.reject(g);});return D.promise();};this._invokeResolveHashChain=function(h){var e=R.map(function(a){return a;});return this._nextResolveHashFragment(e,h).done(function(a){o=a;});};this.baseResolveHashFragment=r.bind(this);this._getGetLinksResolver=function(a){var g;if(this._isClientSideTargetResolutionEnabled()){g=this._getLinksClientSide.bind(this);return{resolver:g,warning:undefined,isGetSemanticObjectLinksCall:false};}if(Object.prototype.toString.apply(a.paramsOptions)==="[object Array]"&&a.paramsOptions.length>0){L.warning("Parameter options supplied to #getLinks will be ignored because FLP is not configured to use sap.ushell.services.ClientSideTargetResolution for target resolution","provided parameters options: "+JSON.stringify(a.paramsOptions,null,4),"sap.ushell.services.NavTargetResolution");}g=A&&A.getLinks&&A.getLinks.bind(A);if(g){return{resolver:g,warning:undefined,isGetSemanticObjectLinksCall:false};}g=A&&A.getSemanticObjectLinks&&A.getSemanticObjectLinks.bind(A);if(g){return{resolver:g,warning:a.hasOwnProperty("action")?"the action argument was given, however, NavTargetResolutionAdapter does not implement getLinks method. Action will be ignored.":undefined,isGetSemanticObjectLinksCall:true};}return{resolver:undefined,warning:"Cannot determine resolver for getLinks method",isGetSemanticObjectLinksCall:undefined};};this.getLinks=function(a){var t=this,e=a.semanticObject,P=a.params,i=a.ignoreFormFactor,f=a.ui5Component,g=a.appStateKey,h=a.compactIntents,j,H,k=new q.Deferred(),m,v;if(/\?/.test(e)){throw new Error("Parameter must not be part of semantic object");}j=(P===undefined)?undefined:JSON.parse(JSON.stringify(P));if(g){j=j||{};j["sap-xapp-state"]=encodeURIComponent(g);}m=sap.ushell.Container.getService("ShellNavigation");var x=t._getGetLinksResolver(a),y,z;if(x.warning){L.warning("A problem occurred while determining the resolver for getLinks",x.warning,"sap.ushell.services.NavTargetResolution");}v=x.resolver;if(v){y=function(E){k.reject(E);};z=function(B){if(h){t._shortenGetSemanticObjectLinksResults(B,f).done(function(D){k.resolve(D);});}else{k.resolve(B);}};if(x.isGetSemanticObjectLinksCall){H={target:{semanticObject:e,action:"dummyAction"},params:j};m.hrefForExternal(H,true,f,true).done(function(B){var D=B.params||j;v(e,D,i).done(z).fail(y);}).fail(function(B){k.reject(B);});}else{v(a).done(z).fail(y);}}else{k.resolve([]);}return k.promise();};this.getDistinctSemanticObjects=function(){if(this._isClientSideTargetResolutionEnabled()){var a=sap.ushell.Container.getService("ClientSideTargetResolution");return a.getDistinctSemanticObjects();}if(A&&A.getDistinctSemanticObjects){return A.getDistinctSemanticObjects.call(A);}L.error("Cannot execute getDistinctSemanticObjects method","ClientSideTargetResolution must be enabled or NavTargetResolutionAdapter must implement getDistinctSemanticObjects method","sap.ushell.services.NavTargetResolution");return new q.Deferred().reject("Cannot execute getDistinctSemanticObjects").promise();};this._getLinksClientSide=function(a){var D=new q.Deferred(),e,f=new q.Deferred(),g=sap.ushell.Container.getService("URLParsing");if((a.params||{}).hasOwnProperty("sap-intent-param")){e="#"+a.semanticObject+"-dummyAction?"+g.paramsToString(a.params);this.expandCompactHash(e).done(function(E){f.resolve(g.parseShellHash(E).params);}).fail(D.reject.bind(D));}else{f.resolve(a.params);}f.done(function(){sap.ushell.Container.getService("ClientSideTargetResolution").getLinks(a).done(D.resolve.bind(D)).fail(D.reject.bind(D));});return D.promise();};this._shortenGetSemanticObjectLinksResults=function(g,a){var t=this,e=[],i=0,P=g.length,f=sap.ushell.Container.getService("URLParsing"),h=sap.ushell.Container.getService("ShellNavigation"),D=new q.Deferred();g.forEach(function(j){var k=f.parseShellHash(j.intent),m=h.compactParams(k.params,undefined,a);e.push(m);e[i].done(function(v,x){e[v]={text:j.text,intent:"#"+k.semanticObject+"-"+k.action+"?"+f.paramsToString(x)};}.bind(t,i)).fail(function(v,x){L.warning("Cannot shorten GetSemanticObjectLinks result, using expanded form","Failure message: "+x+"; intent had title ''"+j.title+"'' and link ''"+j.intent+"'","sap.ushell.services.NavTargetResolution");e[v]={text:j.text,intent:j.intent};}.bind(t,i)).always(function(){P--;if(P===0){D.resolve(e);}});i++;});return D.promise();};this.isIntentSupported=function(i){var m={},a;if(this._isClientSideTargetResolutionEnabled()){a=sap.ushell.Container.getService("ClientSideTargetResolution");return a.isIntentSupported(i);}if(A.isIntentSupported){return A.isIntentSupported(i);}i.forEach(function(e){m[e]={supported:undefined};});return(new q.Deferred()).resolve(m).promise();};this.isNavigationSupported=function(i){var a=sap.ushell.Container.getService("URLParsing"),D=new q.Deferred(),e=[];e=i.map(function(f){if(typeof f==="string"){return f;}return"#"+a.constructShellHash(f);});this.isIntentSupported(e).done(function(f){var g=e.map(function(h){return f[h]||{supported:false};});D.resolve(g);}).fail(D.reject.bind(D));return D.promise();};this.registerCustomResolver=function(a){if(typeof a.name!=="string"){L.error("NavTargetResolution: Custom Resolver must have name {string} member");return false;}if(typeof a.isApplicable!=="function"){L.error("NavTargetResolution: Custom Resolver must have isApplicable member");return false;}if(typeof a.resolveHashFragment!=="function"){L.error("NavTargetResolution: Custom Resolver must have \"resolveHashFragment\" member");return false;}R.push(a);return true;};if(S&&Array.isArray(S.resolveLocal)){l=S.resolveLocal.map(function(a){return a.linkId;});this.registerCustomResolver({name:"localResolveNavigationResolver",cleanHash:function(h){if(h===""){return"#";}var a=sap.ushell.Container.getService("URLParsing").parseShellHash(h.substring(1));if(!a){return"#";}h="#"+a.semanticObject+"-"+a.action;return h;},_getIndex:function(a){var h=this.cleanHash(a);return l.indexOf(h.substring(1));},isApplicable:function(a){return this._getIndex(a)>=0;},resolveHashFragment:function(h){var D,i=this._getIndex(h),a,e,f,g;D=new q.Deferred();a=JSON.parse(JSON.stringify(S.resolveLocal[i].resolveTo));e=sap.ushell.Container.getService("URLParsing").parseShellHash(h);if(e&&e.params){g=sap.ushell.Container.getService("URLParsing").paramsToString(e.params);if(g){f=a.url.indexOf("?")>=0;a.url=a.url+(f?"&":"?")+g;}}D.resolve(a);return D.promise();}});}this.registerCustomResolver({name:"LocalResolver",aElement:undefined,cleanHash:function(h){if(h===""){return undefined;}var a=sap.ushell.Container.getService("URLParsing").parseShellHash(h.substring(1));if(!a){return undefined;}h="#"+a.semanticObject+"-"+a.action;return h;},isApplicable:function(h){h=this.cleanHash(h);if(!h){return false;}return h==="#Test-url"||h==="#Test-local1"||h==="#Test-local2"||h==="#Test-config"||h==="#Test-clear";},parseUrl:function(a){if(!this.aElement){this.aElement=window.document.createElement("a");}this.aElement.href=a;return this.aElement;},resolveHashFragment:function(h){var D=new q.Deferred(),a=null,e,f,g,P,i,t=this;h=this.cleanHash(h);if(!h){return false;}a={"#Test-config":{applicationType:"URL",url:"/sap/bc/ui5_ui5/ui2/ushell/test-resources/sap/ushell/demoapps/FioriSandboxConfigApp",additionalInformation:"SAPUI5.Component=sap.ushell.demoapps.FioriSandboxConfigApp"},none:{applicationType:"URL",url:"",additionalInformation:""}};function j(K){if(localStorage){return localStorage[K];}return undefined;}function k(x){if(u.calculateOrigin(t.parseUrl(x))!==u.calculateOrigin(window.location)){return undefined;}return x;}function m(K){return(new d(window.location.href)).get(K);}function v(K,V){if(localStorage){localStorage[K]=V;}}if(a[h]){e=a[h];}else if(h==="#Test-clear"){v("sap.ushell.#Test-local1",undefined);v("sap.ushell.#Test-local2",undefined);L.info("NavTargetResolution: Local storage keys for #Test have been cleared");e=a["#Test-config"];}else if(h==="#Test-local1"||h==="#Test-local2"||h==="#Test-url"){e=j("sap.ushell."+h);if(!e||e==="undefined"){f={applicationType:"URL"};}else{f=JSON.parse(e);}if((window.location.hostname==="localhost")||(S&&S.allowTestUrlComponentConfig)){P="sap-ushell-test-"+h.substring(6);g=m(P+"-additionalInformation");if(g){f.additionalInformation=g;}i=m(P+"-url");if(i){f.url=k(i);}}if(!f.url){L.info("NavTargetResolution: No configured app for "+h+" found ( local storage or url params sap-ushell-test-local1-url  sap-ushell-test-local1-additionalInfo  not supplied? ");L.info("NavTargetResolution: Defaulting to config app ...\n");D.reject("URL is not resolvable");return D.promise();}f.url=k(f.url);e=f;}if(e.url===undefined){D.reject("URL is not resolvable");return D.promise();}L.info("NavTargetResolution: As URL:  http://localhost:8080/sap/bc/ui5_ui5/ui2/ushell/shells/abap/FioriLaunchpad.html?sap-ushell-test-local1-url="+encodeURIComponent((e&&e.url)||"")+"&sap-ushell-test-local1-additionalInformation="+encodeURIComponent((e&&e.additionalInfo)||"")+"#Test-local1");L.info("NavTargetResolution: Resolving "+h+" to "+JSON.stringify(e));D.resolve(e);return D.promise();}});this.getCurrentResolution=function(){return o;};}N.hasNoAdapter=false;return N;},true);
sap.ui.predefine('sap/ushell/services/PagePersistence',[],function(){"use strict";function P(){this._init.apply(this,arguments);}P.prototype._init=function(a,s){this._oServiceConfiguration=s;this.oAdapter=a;};P.prototype.getPage=function(i){return this.oAdapter.getPage(i);};P.prototype.getPages=function(i){return this.oAdapter.getPages(i);};P.hasNoAdapter=false;return P;});
sap.ui.predefine('sap/ushell/services/Pages',["sap/base/Log","sap/ushell/utils/RestrictedJSONModel","sap/base/util/deepClone","sap/base/util/extend","sap/base/util/deepExtend","sap/ushell/resources","sap/ushell/utils","sap/ushell/Config","sap/ushell/adapters/cdm/v3/utilsCdm","sap/ushell/adapters/cdm/v3/_LaunchPage/readUtils","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations"],function(L,R,d,e,a,r,u,C,b,c,f){"use strict";var P=function(){this.COMPONENT_NAME="sap/ushell/services/Pages";this._oCdmServicePromise=sap.ushell.Container.getServiceAsync("CommonDataModel");this._oURLParsingServicePromise=sap.ushell.Container.getServiceAsync("URLParsing");this._oPagesModel=new R({pages:[]});this._bImplicitSaveEnabled=true;this._aPagesToBeSaved=[];};P.prototype._generateId=function(p){var i=[];var o=this.getModel().getProperty(this.getPagePath(p));o.sections.forEach(function(s){i.push(s.id);s.visualizations.forEach(function(v){i.push(v.id);});});return u.generateUniqueId(i);};P.prototype.getModel=function(){return this._oPagesModel;};P.prototype.enableImplicitSave=function(E){this._bImplicitSaveEnabled=E;};P.prototype.getPageIndex=function(p){var g=this._oPagesModel.getProperty("/pages");for(var i=0;i<g.length;++i){if(g[i].id===p){return i;}}return undefined;};P.prototype.getPagePath=function(p){var i=this.getPageIndex(p);if(typeof i==="undefined"){return"";}return"/pages/"+i;};P.prototype.loadPage=function(p){var s=this.getPagePath(p);if(s){return Promise.resolve(s);}return this._oCdmServicePromise.catch(function(E){L.error("Pages - loadPage: Couldn't resolve CDM Service.",E,this.COMPONENT_NAME);return Promise.reject(E);}.bind(this)).then(function(o){return Promise.all([o.getPage(p),o.getVisualizations(),o.getApplications(),o.getVizTypes()]);}).then(function(g){var o=g[0];var v=g[1];var A=g[2];var V=g[3];this._oPagesModel._setProperty("/vizTypes",V);return this._getModelForPage(o,v,A,V);}.bind(this)).then(function(m){var i=this._oPagesModel.getProperty("/pages/").length;var n="/pages/"+i;this._oPagesModel._setProperty(n,m);return n;}.bind(this)).catch(function(E){L.error("Pages - loadPage: Failed to gather site data.",E,this.COMPONENT_NAME);return Promise.reject(E);}.bind(this));};P.prototype.findVisualization=function(p,s,v,V){return this._oCdmServicePromise.catch(function(E){L.error("Pages - findVisualization: Personalization cannot be saved: CDM Service cannot be retrieved.",E,this.COMPONENT_NAME);return Promise.reject(E);}.bind(this)).then(function(o){return Promise.all([this.loadPage(p),o.getVisualizations(),o.getApplications()]).then(function(g){var h=g[0];var i=this.getModel().getProperty(h+"/sections")||[];return i.reduce(function(j,k,l){if(s&&k.id!==s){return j;}var m=k.visualizations.reduce(function(n,q,t){if(v&&q.vizId===v||V&&q.id===V){n.push(t);}return n;},[]);if(m.length){j.push({pageId:p,sectionIndex:l,vizIndexes:m});}return j;},[]);}.bind(this)).catch(function(E){L.error("Pages - findVisualization: Couldn't load page, get visualizations or applications.",E,this.COMPONENT_NAME);return Promise.reject(E);}.bind(this));}.bind(this));};P.prototype.moveVisualization=function(p,s,S,t,T){if(s===t&&S===T){return Promise.resolve({visualizationIndex:T});}this.setPersonalizationActive(true);var o=this._oPagesModel.getProperty("/pages/"+p);var g=o.id;var h=o.sections[s];var i=o.sections[t];var j=h.id;var k=i.id;var m=h.visualizations[S];var M=m.id;h.visualizations.splice(S,1);if(T===-1){T=i.visualizations.length;}i.visualizations.splice(T,0,m);if(h.default&&!h.visualizations.length){o.sections.splice(s,1);}this._oPagesModel.refresh();return this._oCdmServicePromise.then(function(l){return l.getPage(g);}).catch(function(E){L.error("Pages - moveVisualization: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",E,this.COMPONENT_NAME);return Promise.reject(E);}.bind(this)).then(function(l){var n=l.payload.sections[j];var q=n.layout.vizOrder;var v=n.viz;var w=l.payload.sections[k];var x=w.layout.vizOrder;var y=w.viz;var z=d(v[M]);q.splice(q.indexOf(M),1);x.splice(T,0,M);if(j!==k){delete v[M];y[M]=z;}if(n.default&&!Object.keys(v).length){delete l.payload.sections[j];l.payload.layout.sectionOrder.splice(s,1);}return this._conditionalSavePersonalization(g);}.bind(this)).then(function(){return{visualizationIndex:T};}).catch(function(E){this.setPersonalizationActive(false);return Promise.reject(E);}.bind(this));};P.prototype.deleteVisualization=function(p,s,S){var o=this._oPagesModel.getProperty("/pages/"+p);var g=o.sections[s];if(g.default&&g.visualizations.length<2){return this.deleteSection(p,s);}this.setPersonalizationActive(true);var h=g.visualizations;var i=h[S];h.splice(S,1);this._oPagesModel.refresh();return this._oCdmServicePromise.then(function(j){return j.getPage(o.id);}).catch(function(E){L.error("Pages - deleteVisualization: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",E,this.COMPONENT_NAME);return Promise.reject(E);}.bind(this)).then(function(j){var k=j.payload.sections[g.id].layout.vizOrder;var v=j.payload.sections[g.id].viz;delete v[i.id];k.splice(S,1);return this._conditionalSavePersonalization(j.identification.id);}.bind(this)).catch(function(E){this.setPersonalizationActive(false);return Promise.reject(E);}.bind(this));};P.prototype._getSectionIndex=function(p,s){var S=this.getModel().getProperty(p+"/sections")||[],i=0;for(;i<S.length;i+=1){if(S[i].id===s){return i;}}};P.prototype._getVisualizationData=function(p,v,V,A,o,g,U){var h=A||{vizId:v};var s={applications:o,visualizations:V,vizTypes:g};var i=c.getVizData(s,h,U);if(!i.id){i.id=this._generateId(p);}return i;};P.prototype.addVisualization=function(p,s,v){return this._oCdmServicePromise.catch(function(E){L.error("Pages - addVisualization: Personalization cannot be saved: CDM Service cannot be retrieved.",E,this.COMPONENT_NAME);return Promise.reject(E);}.bind(this)).then(function(o){return Promise.all([this.loadPage(p),o.getVisualizations(),o.getApplications(),o.getVizTypes(),this._oURLParsingServicePromise]).catch(function(E){L.error("Pages - addVisualization: Personalization cannot be saved: Failed to load page, get visualizations or get applications.",E,this.COMPONENT_NAME);return Promise.reject(E);}.bind(this)).then(function(g){var h=g[0],U=g[4],S=this._getSectionIndex(h,s),j=this.getModel().getProperty(h+"/sections")||[],V=this._getVisualizationData(p,v,g[1],null,g[2],g[3],U);var D;for(var i=0;i<j.length;i++){if(j[i].default){D=i;}}if(S!==undefined||D!==undefined){this.setPersonalizationActive(true);var k=S!==undefined?S:D||0,l=h+"/sections/"+k+"/visualizations";this.getModel().getProperty(l).push(V);this.getModel().refresh();return o.getPage(p).catch(function(E){L.error("Pages - addVisualization: Personalization cannot be saved: Failed to get page.",E,this.COMPONENT_NAME);return Promise.reject(E);}.bind(this)).then(function(n){var q=n.payload.sections[s||n.payload.layout.sectionOrder[0]];q.layout.vizOrder.push(V.id);q.viz[V.id]={id:V.id,vizId:v};return this._conditionalSavePersonalization(p);}.bind(this));}var m=parseInt(h.split("/")[2],10);return this.addSection(m,0,{title:r.i18n.getText("DefaultSection.Title"),default:true,visualizations:[V]});}.bind(this));}.bind(this)).catch(function(E){this.setPersonalizationActive(false);return Promise.reject(E);}.bind(this));};P.prototype.moveSection=function(p,s,t){if(s===t){return Promise.resolve();}this.setPersonalizationActive(true);var g=this._oPagesModel.getProperty("/pages/"+p+"/id");var S=this._oPagesModel.getProperty("/pages/"+p+"/sections");var m=this._oPagesModel.getProperty("/pages/"+p+"/sections/"+s);var M=m.id;S.splice(s,1);if(s<t){t--;}S.splice(t,0,m);this._oPagesModel.refresh();return this._oCdmServicePromise.then(function(o){return o.getPage(g);}).catch(function(E){L.error("Pages - moveSection: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",E,this.COMPONENT_NAME);return Promise.reject(E);}.bind(this)).then(function(o){var h=o.payload.layout.sectionOrder;h.splice(h.indexOf(M),1);h.splice(t,0,M);return this._conditionalSavePersonalization(g);}.bind(this)).catch(function(E){this.setPersonalizationActive(false);return Promise.reject(E);}.bind(this));};P.prototype.addSection=function(p,s,S){this.setPersonalizationActive(true);var o=S||{},g=this._oPagesModel.getProperty("/pages/"+p+"/sections"),h=this._oPagesModel.getProperty("/pages/"+p+"/id");var n={id:o.id!==undefined?o.id:this._generateId(h),title:o.title!==undefined?o.title:"",visible:o.visible!==undefined?o.visible:true,preset:o.preset!==undefined?o.preset:false,locked:o.locked!==undefined?o.locked:false,default:o.default!==undefined?o.default:false,visualizations:o.visualizations!==undefined?o.visualizations:[]};g.splice(s,0,n);this._oPagesModel.refresh();return this._oCdmServicePromise.then(function(i){return i.getPage(h);}).catch(function(E){L.error("Pages - addSection: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",E,this.COMPONENT_NAME);return Promise.reject(E);}.bind(this)).then(function(j){var k={id:n.id,title:n.title,visible:n.visible,preset:n.preset,locked:n.locked,default:n.default,layout:{vizOrder:[]},viz:{}};if(n.visualizations){var i=0,v;for(;i<n.visualizations.length;i++){v=n.visualizations[i];k.layout.vizOrder.push(v.id);if(v.isBookmark){k.viz[v.id]=c.getVizRef(v);}else{k.viz[v.id]={id:v.id,vizId:v.vizId};}}}j.payload.layout.sectionOrder.splice(s,0,n.id);j.payload.sections[n.id]=k;return this._conditionalSavePersonalization(h);}.bind(this)).catch(function(E){this.setPersonalizationActive(false);return Promise.reject(E);}.bind(this));};P.prototype.deleteSection=function(p,s){this.setPersonalizationActive(true);var g=this._oPagesModel.getProperty("/pages/"+p+"/id");var S=this._oPagesModel.getProperty("/pages/"+p+"/sections");var h=S[s].id;S.splice(s,1);this._oPagesModel.refresh();return this._oCdmServicePromise.then(function(o){return o.getPage(g);}).catch(function(E){L.error("Pages - deleteSection: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",E,this.COMPONENT_NAME);return Promise.reject(E);}.bind(this)).then(function(o){delete o.payload.sections[h];o.payload.layout.sectionOrder.splice(s,1);return this._conditionalSavePersonalization(g);}.bind(this)).catch(function(E){this.setPersonalizationActive(false);return Promise.reject(E);}.bind(this));};P.prototype.setSectionVisibility=function(p,s,v){this.setPersonalizationActive(true);var g=this._oPagesModel.getProperty("/pages/"+p+"/id");var S=this._oPagesModel.getProperty("/pages/"+p+"/sections/"+s+"/id");var o=this._oPagesModel.getProperty("/pages/"+p+"/sections/"+s);if(o.visible===v){return Promise.resolve();}o.visible=v;this._oPagesModel.refresh();return this._oCdmServicePromise.then(function(h){return h.getPage(g);}).catch(function(E){L.error("Pages - setSectionVisibility: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",E,this.COMPONENT_NAME);return Promise.reject(E);}.bind(this)).then(function(h){h.payload.sections[S].visible=v;return this._conditionalSavePersonalization(g);}.bind(this)).catch(function(E){this.setPersonalizationActive(false);return Promise.reject(E);}.bind(this));};P.prototype.renameSection=function(p,s,n){this.setPersonalizationActive(true);var o=this._oPagesModel.getProperty("/pages/"+p);var S=o.sections[s];S.title=n;this._oPagesModel.refresh();return this._oCdmServicePromise.then(function(g){return g.getPage(o.id);}).catch(function(E){L.error("Pages - renameSection: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",E,this.COMPONENT_NAME);return Promise.reject(E);}.bind(this)).then(function(g){g.payload.sections[S.id].title=n;return this._conditionalSavePersonalization(g.identification.id);}.bind(this)).catch(function(E){this.setPersonalizationActive(false);return Promise.reject(E);}.bind(this));};P.prototype.resetSection=function(p,s){this.setPersonalizationActive(true);var g=this._oPagesModel.getProperty("/pages/"+p+"/id");var S=this._oPagesModel.getProperty("/pages/"+p+"/sections/"+s+"/id");return this._oCdmServicePromise.then(function(o){return Promise.all([o.getVisualizations(),o.getApplications(),o.getPage(g),o.getOriginalPage(g),o.getVizTypes()]);}).catch(function(E){L.error("Pages - resetSection: Personalization cannot be saved: Failed to gather data from CDM Service.",E,this.COMPONENT_NAME);return Promise.reject(E);}.bind(this)).then(function(h){var v=h[0];var A=h[1];var o=h[2];var O=h[3];var V=h[4];return Promise.all([this._getModelForPage(O,v,A,V),o,O]);}.bind(this)).then(function(h){var o=h[0];var i=h[1];var O=h[2];var j=d(o.sections.find(function(m){return m.id===S;}),20);var k=j.visualizations.map(function(v){return v.id;});var l=this._oPagesModel.getProperty("/pages/"+p);l.sections.forEach(function(m){if(j.id!==m.id){m.visualizations.forEach(function(v){if(k.indexOf(v.id)!==-1){var n=this._generateId(g);var V=d(i.payload.sections[m.id].viz[v.id]);delete i.payload.sections[m.id].viz[v.id];var q=i.payload.sections[m.id].layout.vizOrder.indexOf(V.id);V.id=n;i.payload.sections[m.id].viz[n]=V;i.payload.sections[m.id].layout.vizOrder[q]=n;v.id=n;}}.bind(this));}}.bind(this));this._oPagesModel._setProperty("/pages/"+p+"/sections/"+s,j);i.payload.sections[j.id]=O.payload.sections[j.id];return this._conditionalSavePersonalization(i.identification.id);}.bind(this)).catch(function(E){this.setPersonalizationActive(false);return Promise.reject(E);}.bind(this));};P.prototype.resetPage=function(p){this.setPersonalizationActive(true);var s=this._oPagesModel.getProperty("/pages/"+p+"/id");return this._oCdmServicePromise.then(function(o){return Promise.all([o.getVisualizations(),o.getApplications(),o.getPage(s),o.getOriginalPage(s),o.getVizTypes()]);}).catch(function(E){L.error("Pages - resetPage: Personalization cannot be saved: Failed to gather data from CDM Service.",E,this.COMPONENT_NAME);return Promise.reject(E);}.bind(this)).then(function(g){var v=g[0];var A=g[1];var o=g[2];var O=g[3];var V=g[4];return Promise.all([this._getModelForPage(O,v,A,V),o,O]);}.bind(this)).then(function(g){var o=g[0];var h=g[1];var O=g[2];this._oPagesModel._setProperty("/pages/"+p,o);h.payload=d(O.payload);return this._conditionalSavePersonalization(h.identification.id);}.bind(this)).catch(function(E){this.setPersonalizationActive(false);return Promise.reject(E);}.bind(this));};P.prototype.setPersonalizationActive=function(s){if(!this._bDirtyState&&s===true){this._bDirtyState=true;this._oCopiedModelData=d(this._oPagesModel.getProperty("/"),20);}else if(this._bDirtyState&&s===false){this._oPagesModel._setData(this._oCopiedModelData);this._bDirtyState=false;}};P.prototype.savePersonalization=function(p){var g;if(!p){g=d(this._aPagesToBeSaved);}else{g=[p];}return this._oCdmServicePromise.then(function(o){return Promise.all(g.map(function(s){var i=this._aPagesToBeSaved.indexOf(s);this._aPagesToBeSaved.splice(i,1);return new Promise(function(h,j){o.save(s).then(h,j);}).catch(function(E){if(this._aPagesToBeSaved.indexOf(s)===-1){this._aPagesToBeSaved.push(s);}return Promise.reject(E);}.bind(this));}.bind(this)));}.bind(this)).then(function(){this._bDirtyState=false;}.bind(this)).catch(function(E){L.error("Pages - savePersonalization: Personalization cannot be saved: CDM Service cannot be retrieved or the save process encountered an error.",E,this.COMPONENT_NAME);return Promise.reject(E);}.bind(this));};P.prototype._conditionalSavePersonalization=function(p){if(this._bImplicitSaveEnabled){return this.savePersonalization(p);}if(this._aPagesToBeSaved.indexOf(p)===-1){this._aPagesToBeSaved.push(p);}return Promise.resolve();};P.prototype._getModelForPage=function(p,v,g,h){return Promise.all([sap.ushell.Container.getServiceAsync("ClientSideTargetResolution"),this._oURLParsingServicePromise]).catch(function(E){return Promise.reject(E);}).then(function(i){var o=i[0];var U=i[1];var j={id:p.identification.id||"",title:p.identification.title||"",description:"",sections:[]};var E=C.last("/core/catalog/enableHideGroups");return Promise.all(p.payload.layout.sectionOrder.map(function(s){var k=p.payload.sections[s];var S={id:k.id||"",title:k.default?r.i18n.getText("DefaultSection.Title"):k.title||"",visualizations:[],visible:!E||(k.visible!==undefined?k.visible:true),locked:k.locked!==undefined?k.locked:false,preset:k.preset!==undefined?k.preset:true,default:k.default!==undefined?k.default:false};j.sections.push(S);return Promise.all(k.layout.vizOrder.map(function(l){var V=k.viz[l],m=V.vizId,n=this._getVisualizationData(p.identification.id,m,v,V,g,h,U);S.visualizations.push(n);return this._isIntentSupported(n,o).then(function(I){if(!I){var q=S.visualizations.findIndex(function(t){return t.id===n.id;});S.visualizations.splice(q,1);L.warning("The visualization "+n.vizId+" is filtered out, because it does not have a supported intent.");}});}.bind(this)));}.bind(this))).then(function(){return j;});}.bind(this));};P.prototype._isIntentSupported=function(v,o){if(v.target===undefined){return Promise.resolve(false);}if(v.target.type==="URL"){if(f.isStandardVizType(v.vizType)){return Promise.resolve(!!v.target.url);}return Promise.resolve(true);}return new Promise(function(g,h){o.isIntentSupported([v.targetURL]).then(function(s){g(s[v.targetURL].supported);}).fail(function(){g(false);});});};P.prototype.addBookmarkToPage=function(p,g,s){if(!p){return Promise.reject("Pages - addBookmarkToPage: Adding bookmark tile failed: No page id is provided.");}this.setPersonalizationActive(true);return this._oCdmServicePromise.then(function(o){return Promise.all([this.loadPage(p),this._oURLParsingServicePromise,o.getVizTypes()]);}.bind(this)).catch(function(E){L.error("Pages - addBookmarkToPage: Personalization cannot be saved: Could not load page.",E,this.COMPONENT_NAME);return Promise.reject(E);}.bind(this)).then(function(h){var i=h[0];var U=h[1];var v=h[2];var V={id:this._generateId(p),vizType:g.vizType,title:g.title,subTitle:g.subtitle,icon:g.icon,info:g.info,numberUnit:g.numberUnit,target:b.toTargetFromHash(g.url,U),indicatorDataSource:{path:g.serviceUrl,refresh:g.serviceRefreshInterval},vizConfig:g.vizConfig,isBookmark:true};var o=this._getVisualizationData(p,undefined,{},V,{},v,U);var j=parseInt(/pages\/(\d+)/.exec(i)[1],10);var k=this._oPagesModel.getProperty(i);var S;if(s){S=k.sections.find(function(l){return l.id===s;});if(!S){L.error("Pages - addBookmarkToPage: Adding bookmark tile failed: specified section was not found in the page.");return Promise.reject("Pages - addBookmarkToPage: Adding bookmark tile failed: specified section was not found in the page.");}}else{S=k.sections.find(function(l){return l.default;});if(!S){return this.addSection(j,0,{title:r.i18n.getText("DefaultSection.Title"),default:true,visualizations:[o]});}}S.visualizations.push(o);this._oPagesModel.refresh();return this._oCdmServicePromise.then(function(l){return l.getPage(p);}).catch(function(E){L.error("Pages - addBookmarkToPage: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",E,this.COMPONENT_NAME);return Promise.reject(E);}.bind(this)).then(function(l){var m=l.payload.sections[S.id];m.layout.vizOrder.push(o.id);m.viz[o.id]=c.getVizRef(o);return this._conditionalSavePersonalization(p);}.bind(this));}.bind(this)).catch(function(E){this.setPersonalizationActive(false);return Promise.reject(E);}.bind(this));};P.prototype._visitPages=function(v){return this._oCdmServicePromise.then(function(o){return o.getAllPages();}).then(function(p){p=p||[];p.forEach(function(o){v(o);});});};P.prototype._visitSections=function(v){return this._visitPages(function(p){var s=p.payload&&p.payload.sections||{};Object.keys(s).forEach(function(k){v(s[k],p);});});};P.prototype._visitVizReferences=function(v){return this._visitSections(function(s,p){var V=s.viz||{};Object.keys(V).forEach(function(k){v(V[k],s,p);});});};P.prototype._findBookmarks=function(i){var v=[];return this._oURLParsingServicePromise.then(function(U){var t=b.toTargetFromHash(i.url,U);t=c.harmonizeTarget(t);return this._visitVizReferences(function(V,s,p){if(V.isBookmark&&i.vizType===V.vizType&&b.isSameTarget(t,V.target)){v.push({vizRefId:V.id,sectionId:s.id,pageId:p.identification.id});}}).then(function(){return v;});}.bind(this));};P.prototype.countBookmarks=function(i){return this._findBookmarks(i).then(function(F){return F.length;});};P.prototype.deleteBookmarks=function(i,p,s){var D=0;return this._findBookmarks(i).then(function(v){return v.reduce(function(o,I){if(p&&I.pageId!==p){return o;}if(s&&I.sectionId!==s){return o;}return o.then(function(){return this.findVisualization(I.pageId,I.sectionId,null,I.vizRefId);}.bind(this)).then(function(l){var g=l[0];var h=this.getPageIndex(g.pageId);return this.deleteVisualization(h,g.sectionIndex,g.vizIndexes[0]);}.bind(this)).then(function(){D=D+1;}).catch(function(){});}.bind(this),Promise.resolve());}.bind(this)).then(function(){return D;});};P.prototype.updateBookmarks=function(i,p){if(!i||!i.url||typeof i.url!=="string"){L.error("Fail to update bookmark. No valid URL");return Promise.reject("Invalid URL provided");}if(!p||typeof p!=="object"){L.error("Fail to update bookmark. No valid parameters, URL is: "+i.url);return Promise.reject("Missing parameters");}var U=0;return Promise.all([this._oURLParsingServicePromise,this._findBookmarks(i)]).then(function(g){var o=g[0];var v=g[1];return v.reduce(function(h,I){return h.then(function(){return this.findVisualization(I.pageId,I.sectionId,null,I.vizRefId);}.bind(this)).then(function(l){var j=l[0];var k=this.getPageIndex(j.pageId);var V={subtitle:p.subtitle,icon:p.icon,info:p.info,numberUnit:p.numberUnit,indicatorDataSource:{path:p.serviceUrl,refresh:p.serviceRefreshInterval},vizConfig:p.vizConfig};if(p.title){V.title=p.title;}if(p.url){V.target=c.harmonizeTarget(b.toTargetFromHash(p.url,o));}return this.updateVisualization(k,j.sectionIndex,j.vizIndexes[0],V);}.bind(this)).then(function(){U=U+1;}).catch(function(){});}.bind(this),Promise.resolve());}.bind(this)).then(function(){return U;});};P.prototype.updateVisualization=function(p,s,S,v){var o=this._oPagesModel.getProperty("/pages/"+p);var g=o.sections[s];var h=g.visualizations;var U=h[S];var i={};this.setPersonalizationActive(true);return this._oCdmServicePromise.then(function(j){return Promise.all([j.getVisualizations(),j.getApplications(),j.getVizTypes(),this._oURLParsingServicePromise]);}.bind(this)).then(function(j){var V=j[0];var A=j[1];var k=j[2];var l=j[3];if(this._isPropertyChanged(U.title,v.title)){i.title=v.title;}if(v.target&&!b.isSameTarget(U.target,v.target)){i.target=v.target;}if(this._isPropertyChanged(U.subtitle,v.subtitle)){i.subtitle=v.subtitle;}if(this._isPropertyChanged(U.icon,v.icon)){i.icon=v.icon;}if(this._isPropertyChanged(U.info,v.info)){i.info=v.info;}if(this._isPropertyChanged(U.numberUnit,v.numberUnit)){i.numberUnit=v.numberUnit;}if(this._isPropertyChanged(U.displayFormatHint,v.displayFormatHint)){i.displayFormatHint=v.displayFormatHint;}if(v.indicatorDataSource&&(this._isPropertyChanged(U.indicatorDataSource.path,v.indicatorDataSource.path)||this._isPropertyChanged(U.indicatorDataSource.refresh,v.indicatorDataSource.refresh))){i.indicatorDataSource=d(U.indicatorDataSource);e(i.indicatorDataSource,v.indicatorDataSource);}if(v.vizConfig){U.vizConfig=a({},U.vizConfig,v.vizConfig);i.vizConfig=U.vizConfig;}e(U,i);var m=c.getVizRef(U);U=this._getVisualizationData(o.id,m.vizId,V,m,A,k,l);h[S]=U;this._oPagesModel.refresh();return this._updateVisualizationCDMData(o.id,g.id,U.id,i);}.bind(this));};P.prototype._updateVisualizationCDMData=function(p,s,v,U){return this._oCdmServicePromise.then(function(o){return o.getPage(p);}).catch(function(E){L.error("Pages - updateVisualization: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",E,this.COMPONENT_NAME);return Promise.reject(E);}.bind(this)).then(function(o){var V=o.payload.sections[s].viz[v];var g=c.getVizRef(U);g.vizConfig=U.vizConfig;e(V,g);return this._conditionalSavePersonalization(o.identification.id);}.bind(this)).catch(function(E){this.setPersonalizationActive(false);return Promise.reject(E);}.bind(this));};P.prototype._isPropertyChanged=function(o,n){if((n||n==="")&&o!==n){return true;}return false;};P.hasNoAdapter=true;return P;},true);
sap.ui.predefine('sap/ushell/services/Personalization',["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants","sap/ushell/services/_Personalization/ContextContainer","sap/ushell/services/_Personalization/WindowAdapter","sap/ushell/services/_Personalization/TransientPersonalizer","sap/ushell/services/_Personalization/PersonalizationContainer","sap/ushell/services/_Personalization/Personalizer","sap/ushell/services/_Personalization/VariantSetAdapter","sap/ushell/services/_Personalization/Variant","sap/ushell/services/_Personalization/VariantSet","sap/ushell/services/_Personalization/WindowAdapterContainer","sap/ui/base/ManagedObject","sap/ui/thirdparty/jquery","sap/base/Log"],function(u,p,a,C,W,T,P,b,V,c,d,e,M,q,L){"use strict";function f(A,o,s,g){this._oConfig=(g&&g.config)||{};this._seed=(g&&g.config&&typeof g.config.seed==="string"&&g.config.seed)||"12345678901AFERANDOMBETTER";while(this._seed.length<40){this._seed=this._seed+this._seed;}this._oAppVariantAdapterWithBackendAdapter=this._configureAppVariantStorage(this._oConfig.appVariantStorage);this._oAdapterWithBackendAdapter={lazy:false,instance:new W(this,A)};this._oAdapterWindowOnly={lazy:false,instance:new W(this,undefined)};this._oContainerMap=new u.Map();this._oPendingOperationsMap=new u.Map();}f.prototype.SAVE_DEFERRED_DROPPED="Deferred save dropped (OK) - Data superseeded by subsequent save";f.prototype.constants=a;f.prototype._configureAppVariantStorage=function(A){var t=this,D="sap.ushell.adapters.AppVariantPersonalizationAdapter";if(!A){A={adapter:{module:D}};}if(Object.keys(A).length===0||A.enabled===false){return;}var s=(A.adapter&&A.adapter.module)||D,g=s.split(".").join("/");var h=function(){t._oAppVariantAdapterLoadPromise=t._oAppVariantAdapterLoadPromise||(function(){var o=new q.Deferred();try{sap.ui.require([g],R);}catch(r){o.reject(r);}function R(i){try{var j=new i();var w=new W(t,j);o.resolve(w);}catch(E){o.reject(E);}}return o.promise();})();return t._oAppVariantAdapterLoadPromise;};return{lazy:true,create:h};};f.prototype.getGeneratedKey=function(){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",g=s.length,r="",t=this;var R=function(i){return(t._seed.charCodeAt(i)+Math.floor(Math.random()*g))%g;};if(window&&window.crypto&&window.crypto.getRandomValues){var h=new window.Uint32Array(40);window.crypto.getRandomValues(h);R=function(i){return(h[i]+t._seed.charCodeAt(i))%s.length;};}var j=function(i){return s[R(i)];};while(r.length<40){r+=j(r.length);}return r;};f.prototype.getPersonalizer=function(o,s,g){g=g||this._getApplicationComponent();return new b(this,this._oAdapterWithBackendAdapter.instance,o,s,g);};f.prototype._getApplicationComponent=function(){var o;var O=M._sOwnerId;if(O){o=sap.ui.getCore().getComponent(O);if(o instanceof sap.ui.core.UIComponent){return o;}}return undefined;};f.prototype.getTransientPersonalizer=function(){return new T();};f.prototype.getContainer=function(s,S,o){o=o||this._getApplicationComponent();return this._createContainer(s,S,false,o);};f.prototype.createEmptyContainer=function(s,S,o){o=o||this._getApplicationComponent();return this._createContainer(s,S,true,o);};f.prototype._createContainer=function(s,S,g,o){var t=this,l,h,i,j,A,k,U,D=new q.Deferred();if(typeof s!=="string"){throw new u.Error("sContainerKey is not a string: sap.ushell.services.Personalization"," ");}l=p.isLaunchpadReload();U=!!(p.isAppVariant(o)&&(!S||!S.shared)&&this._oAppVariantAdapterWithBackendAdapter);A=p.adjustScope(S,l);k=p.addContainerPrefix(s);if(U){var m=o.getManifestObject();A.component=o;A.appVarId=m.getEntry("/sap.ui5/appVariantId");A.appVersion=m.getEntry("/sap.app/applicationVersion/version");k+="#"+m.getEntry("/sap.ui5/appVariantId");}i=U?this._oAppVariantAdapterWithBackendAdapter:this._oAdapterWithBackendAdapter;h=t._oAdapterWindowOnly;j=p.pickAdapter(S,l,h,i);p.loadAdapter(j).then(function(n){var r,v=new C(t,n,k,A,o);var w=(n&&n.supportsGetWithoutSubsequentLoad===true);if(g&&w){r=new q.Deferred();r.resolve(v);}else{r=v.load();}r.fail(function(){D.reject();}).done(function(){if(g||v._isExpired()){v.clear();}D.resolve(v);});},function(E){D.reject(E);});return D.promise();};f.prototype.delContainer=function(s,S){var D={},o,g="",t=this;S=t._adjustScope(S,false);g=p.addContainerPrefix(s);D=new q.Deferred();o=t._pendingContainerOperations_cancelAddNext(s,null);o.always(function(){t.getContainer(s,S).fail(function(){t._pendingContainerOperations_cancelAddNext(s,D);D.reject();}).done(function(){var A;t._pendingContainerOperations_cancelAddNext(s,D);A=S.validity===0?t._oAdapterWindowOnly:t._oAdapterWithBackendAdapter;p.loadAdapter(A).then(function(l){l.delAdapterContainer(g,S).fail(function(){D.reject();}).done(function(){D.resolve();});},function(){D.reject();});});});return D.promise();};f.prototype._pendingContainerOperations_flushAddNext=function(s,D){var o,S;o=this._oPendingOperationsMap.get(s);if(!o){o=new q.Deferred();o.resolve();}if(D!==null){this._oPendingOperationsMap.put(s,D);}if(!o||o.state()!=="pending"){return o;}clearTimeout(o._sapTimeoutId);o._sapTimeoutId=undefined;if(typeof o._sapFnSave==="function"){S=o._sapFnSave;o._sapFnSave=undefined;S();}return o;};f.prototype._pendingContainerOperations_cancelAddNext=function(s,D){var o;o=this._oPendingOperationsMap.get(s);if(!o){o=new q.Deferred();o.resolve();}if(D!==null){this._oPendingOperationsMap.put(s,D);}if(!o||o.state()!=="pending"){return o;}if(o._sapTimeoutId){clearTimeout(o._sapTimeoutId);o._sapTimeoutId=undefined;o.resolve(f.prototype.SAVE_DEFERRED_DROPPED);}return o;};f.prototype.getPersonalizationContainer=function(s){var g="",o={},D={};if(typeof s!=="string"){throw new u.Error("sContainerKey is not a string: sap.ushell.services.Personalization"," ");}g=p.addContainerPrefix(s);if(this._oContainerMap.containsKey(g)){return this._oContainerMap.get(g).promise();}D=new q.Deferred();o=new P(this._oAdapterWithBackendAdapter.instance,g);o.done(function(h){D.resolve(h);}).fail(function(h){D.reject(h);});this._oContainerMap.put(g,D);return D.promise();};f.prototype.delPersonalizationContainer=function(s){var D={},g="",t=this;g=p.addContainerPrefix(s);D=new q.Deferred();this.getPersonalizationContainer(s).fail(function(){D.reject();}).done(function(){t._oAdapterWithBackendAdapter.instance.delAdapterContainer(g).fail(function(){D.reject();}).done(function(){t._oContainerMap.remove(g);D.resolve();});});return D.promise();};f.prototype._getBackendAdapter=function(){return this._oAdapterWithBackendAdapter.instance._oBackendAdapter;};f.prototype.resetEntirePersonalization=function(){var A=this._getBackendAdapter();return this.isResetEntirePersonalizationSupported().then(function(i){if(i){return A.resetEntirePersonalization();}return Promise.reject();});};f.prototype.isResetEntirePersonalizationSupported=function(){var A=this._getBackendAdapter();if(typeof A.resetEntirePersonalization!=="function"){return Promise.resolve(false);}if(typeof A.isResetEntirePersonalizationSupported==="function"){return A.isResetEntirePersonalizationSupported().then(function(i){return i;}).catch(function(E){L.error("isResetEntirePersonalizationSupported failed with error: "+E.toString());return Promise.reject(E);});}return Promise.resolve(true);};f.prototype._adjustScope=p.adjustScope;f.hasNoAdapter=false;f.ContextContainer=C;f.Variant=c;f.VariantSet=d;f.VariantSetAdapter=V;f.WindowAdapter=W;f.WindowAdapterContainer=e;return f;},true);
sap.ui.predefine('sap/ushell/services/PluginManager',["sap/ushell/services/_PluginManager/Extensions","sap/base/Log","sap/ushell/EventHub","sap/ui/thirdparty/jquery","sap/base/util/UriParameters","sap/ushell/utils","sap/ushell/components/applicationIntegration/application/PostMessageAPIInterface"],function(g,L,E,q,U,u,P){"use strict";var S="sap.ushell.services.PluginManager",a="sap-ushell-plugin-type",b="RendererExtensions",c="sap.ushell.components.shell.defaults",s=[b,"UserDefaults","UserImage","ContentProvider","AppWarmup"];function d(C,p,o){var t=this,f=[],h=false,l;this._oPluginCollection={};this._oCategoryLoadingProgress={};this._mInitializedComponentPromise={};this._sPluginAgentsNames="";this._oConfig=(o&&o.config)||{};if(this._oConfig.isBlueBox===undefined){this._oConfig.isBlueBox=false;}s.forEach(function(e){t._oPluginCollection[e]={};t._oCategoryLoadingProgress[e]=new q.Deferred();});this._handlePluginCreation=function(e,i,j,k){var t=this,m=(t._oPluginCollection[e])[i];u.setPerformanceMark("FLP -- PluginManager.loadPlugin["+e+"]["+i+"]");try{if(m.hasOwnProperty("component")){if(t._mInitializedComponentPromise.hasOwnProperty(m.component)){t._mInitializedComponentPromise[m.component].then(function(){t._instantiateComponent(m,j,k);},function(){t._instantiateComponent(m,j,k);});}else{t._mInitializedComponentPromise[m.component]=t._instantiateComponent(m,j,k);}}else{L.error("Invalid plugin configuration. The plugin "+i+" must contain a <component> key",S);}}catch(n){L.error("Error while loading bootstrap plugin: "+m.component||"",S);if(j){j.reject(n);}}};this._getFileNameForXhrAuth=function(){return"Component-preload.js";};this._handleXhrAuthentication=function(A,e){var x;if(A&&["true",true,"X"].indexOf(A["sap-ushell-xhr-authentication"])>-1){if(!e){L.error(["Illegal state: configuration parameter 'sap-ushell-xhr-authentication-timeout' set, but no component URL specified.","XHR authentication request will not be sent. Please check the target mapping definitions for plug-ins","and the application index."].join(" "),undefined,S);return q.when();}if(A.hasOwnProperty("sap-ushell-xhr-authentication-timeout")){x=parseInt(A["sap-ushell-xhr-authentication-timeout"],10);if(isNaN(x)){L.error(["Invalid value for configuration parameter 'sap-ushell-xhr-authentication-timeout' for plug-in component with URL '",e,"': '",A["sap-ushell-xhr-authentication-timeout"],"' is not a number. Timeout will be ignored."].join(""),undefined,S);}else{sap.ushell.Container.setXhrLogonTimeout(e,x);}}return q.ajax(e+"/"+this._getFileNameForXhrAuth());}return q.when();};this._instantiateComponent=function(e,i,j){var D=new q.Deferred(),k=JSON.parse(JSON.stringify(e)),A={ui5ComponentName:k.component,url:k.url,getExtensions:g.bind(null,e.component)};function m(r){return function(v){r=r||"Cannot create UI5 plugin component: (componentId/appdescrId :"+A.ui5ComponentName+")\n"+v+" properties "+JSON.stringify(A)+"\n This indicates a plugin misconfiguration, see e.g. Note 2316443.";v=v||"";L.error(r,v.stack,S);if(i){i.reject.apply(this,arguments);}D.reject.apply(this,arguments);};}function n(){sap.ushell.Container.getService("Ui5ComponentLoader").createComponent(A).done(function(r){if(e.config&&e.config["sap-component-agents"]){f.push({componentName:e.component,url:e.url,agents:e.config["sap-component-agents"],pluginComp:r});}if(i){i.resolve(r);}D.resolve.apply(this,arguments);}).fail(m());}k.name=k.component;delete k.component;A.applicationDependencies=k;if(k.config){A.applicationConfiguration=k.config;delete k.config;}A.loadDefaultDependencies=false;if(j!==undefined){A.oPostMessageInterface=j;}this._handleXhrAuthentication(A.applicationConfiguration,k.url).done(n).fail(m("XHR logon for FLP plugin failed"));return D.promise();};this.getSupportedPluginCategories=function(){return JSON.parse(JSON.stringify(s));};this.getRegisteredPlugins=function(){return JSON.parse(JSON.stringify(this._oPluginCollection));};this.registerPlugins=function(i){var t=this,j,k,m,n=[],r,v;if(!i){return;}if(this._oConfig.isBlueBox===true){r=new U(window.location.href).get("sap-plugins");if(r&&r.length>0){r=","+r+",";}else{r=undefined;}}else{E.emit("pluginConfiguration",i);}Object.keys(i).sort().forEach(function(w){j=i[w]||{};k=j.config||{};m=k[a]||"";if(j.enabled===false){return;}if(!t._isFormFactorSupported(j)){L.info("Plugin '"+w+"' filtered from result: form factor not supported");return;}if(t._oConfig.isBlueBox===true){if(j.config&&j.config["sap-plugin-agent"]===true){v=(j.config["sap-plugin-agent-id"]||w);if(!t.isPluginAgentSupported(v)){if(r){if(r.indexOf(","+v+",")<0){return;}}else{return;}}}}if(j.enabled===undefined){j.enabled=true;}if(j.hasOwnProperty("module")){L.error("Plugin "+w+" cannot get registered, because the module mechanism for plugins is not valid anymore. Plugins need to be defined as SAPUI5 components.",S);q.sap.require(j.module);return;}if(k&&k.hasOwnProperty(a)){if(s&&Array.prototype.indexOf.call(s,m)!==-1){if(n.indexOf(m)===-1){n.push(m);}t._oPluginCollection[m][w]=JSON.parse(JSON.stringify(j));}else{L.warning("Plugin "+w+" will not be inserted into the plugin collection of the PluginManager, because of unsupported category "+m,S);}}else{t._oPluginCollection[b][w]=JSON.parse(JSON.stringify(j));if(n.indexOf(b)===-1){n.push(b);}}});try{if(t._oConfig.isBlueBox!==true){t._buildNamesOfPluginsWithAgents();}}catch(e){L.error("failed to build plugin agents names list",(e.message||e.toString()),"sap.ushell.services.PluginManager");}n.forEach(function(w){if(t._oCategoryLoadingProgress.hasOwnProperty(w)&&t._oCategoryLoadingProgress[w].state()==="resolved"){t.loadPlugins(w);}});};this._isFormFactorSupported=function(e){var D=e.deviceTypes,i=u.getFormFactor();if(D&&D[i]===false){return false;}return true;};this.getPluginLoadingPromise=function(e){if(this._oCategoryLoadingProgress.hasOwnProperty(e)){return this._oCategoryLoadingProgress[e].promise();}};this.registerAgentLifeCycleManager=function(i){l=i;if(h){l(f);}};this.loadPlugins=function(e){var t=this,i,j,k,m;u.setPerformanceMark("FLP -- PluginManager.startLoadPlugins["+e+"]");if(e===b){m=P.getInterface();}if(s&&Array.prototype.indexOf.call(s,e)!==-1){if(t._oCategoryLoadingProgress[e].pluginLoadingTriggered===undefined){t._oCategoryLoadingProgress[e].pluginLoadingTriggered=true;}if(Object.keys(t._oPluginCollection[e]).length>0){i=[];k=Object.keys(t._oPluginCollection[e]);if(new U(window.location.href).get("sap-ushell-xx-pluginmode")==="discard"&&(e==="RendererExtensions"||e==="AppWarmup")){k=k.filter(function(I){return(t._oPluginCollection[e][I].component===c);});}k.forEach(function(n){var r=t._oPluginCollection[e][n];if(!r.loaded){r.loaded=true;j=new q.Deferred();i.push(j.promise());t._handlePluginCreation(e,n,j,m);}});if(i.length>0){q.when.apply(undefined,i).done(function(){u.setPerformanceMark("FLP -- PluginManager.endLoadPlugins["+e+"]");if(l){l(f);}h=true;t._oCategoryLoadingProgress[e].resolve();}).fail(t._oCategoryLoadingProgress[e].reject.bind());}}else{t._oCategoryLoadingProgress[e].resolve();}}else{L.error("Plugins with category "+e+" cannot be loaded by the PluginManager",S);t._oCategoryLoadingProgress[e].reject("Plugins with category "+e+" cannot be loaded by the PluginManager");}return t._oCategoryLoadingProgress[e].promise();};this._buildNamesOfPluginsWithAgents=function(){var t=this,n="",e;Object.keys(t._oPluginCollection).forEach(function(i){Object.keys(t._oPluginCollection[i]).forEach(function(j){e=t._oPluginCollection[i][j];if(e&&e.enabled&&e.enabled===true){if(e.config&&e.config["sap-plugin-agent"]===true){n+=(e.config["sap-plugin-agent-id"]||j)+",";}}});});if(n.endsWith(",")){n=n.slice(0,-1);}this._sPluginAgentsNames=n;};this._getNamesOfPluginsWithAgents=function(){return this._sPluginAgentsNames;};}d.hasNoAdapter=true;return d;},true);
sap.ui.predefine('sap/ushell/services/ReferenceResolver',["sap/ushell/User","sap/ui/model/odata/ODataUtils","sap/ui/thirdparty/jquery","sap/base/util/isEmptyObject","sap/base/Log"],function(U,O,q,i,L){"use strict";function a(){this.getValue=function(r){var d=new q.Deferred();var v;if(r==="User.env.sap-ui-legacy-date-format"){v=sap.ui.getCore().getConfiguration().getFormatSettings().getLegacyDateFormat();}if(r==="User.env.sap-ui-legacy-number-format"){v=sap.ui.getCore().getConfiguration().getFormatSettings().getLegacyNumberFormat();}if(r==="User.env.sap-ui-legacy-time-format"){v=sap.ui.getCore().getConfiguration().getFormatSettings().getLegacyTimeFormat();}if(r==="User.env.sap-language"){v=sap.ushell.Container.getUser().getLanguage();}if(r==="User.env.sap-languagebcp47"){v=sap.ushell.Container.getUser().getLanguageBcp47();}if(r==="User.env.sap-accessibility"){v=(sap.ushell.Container.getUser().getAccessibilityMode())?"X":undefined;}if(r==="User.env.sap-statistics"){v=(sap.ui.getCore().getConfiguration().getStatistics())?"true":undefined;}if(r==="User.env.sap-theme"){v=sap.ushell.Container.getUser().getTheme(U.prototype.constants.themeFormat.THEME_NAME_PLUS_URL);}if(r==="User.env.sap-theme-name"){v=sap.ushell.Container.getUser().getTheme();}if(r==="User.env.sap-theme-NWBC"){v=sap.ushell.Container.getUser().getTheme(U.prototype.constants.themeFormat.NWBC);}d.resolve({"value":v});return d.promise();};}function R(c,p,C){this._getUserEnvReferenceResolver=function(){if(!this.oUserEnvReferenceResolver){this.oUserEnvReferenceResolver=new a();}return this.oUserEnvReferenceResolver;};this.resolveReferences=function(r,s){var t=this,d=new q.Deferred(),u,b=[],A=true,D={},o={},e,S;if(!s){S=sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(h){return h.getSystemContext();});}else{S=Promise.resolve(s);}var g=r.map(function(h){var j;if(h.indexOf("User.env.")===0){j=h;o[j]=1;}if(h.indexOf("UserDefault.")===0){j=t._extractAnyUserDefaultReferenceName(h);D[j]=1;}if(typeof j!=="string"){A=false;L.error("'"+h+"' is not a legal reference name",null,"sap.ushell.services.ReferenceResolver");}return{full:h,name:j};});if(!A){return d.reject("One or more references could not be resolved").promise();}S.then(function(h){Object.keys(D).forEach(function(n){u=u||sap.ushell.Container.getService("UserDefaultParameters");b.push(u.getValue(n,h));});Object.keys(o).forEach(function(n){e=e||t._getUserEnvReferenceResolver();b.push(e.getValue(n));});q.when.apply(q,b).done(function(){var k={};var I=0,j=arguments;Object.keys(D).forEach(function(n){D[n]=j[I];I=I+1;});Object.keys(o).forEach(function(n){o[n]=j[I];I=I+1;});g.forEach(function(l){var m;if(l.full.indexOf("UserDefault.extended.")===0){m=t.mergeSimpleAndExtended(D[l.name]);if(!i(m)){k[l.full]=m;}else{k[l.full]=undefined;}}else if(l.full.indexOf("UserDefault.")===0){k[l.full]=D[l.name].value;}else if(l.full.indexOf("User.env.")===0){k[l.full]=o[l.name].value;}});d.resolve(k);});});return d.promise();};this._extractAnyUserDefaultReferenceName=function(r){var P=this.extractExtendedUserDefaultReferenceName(r);if(typeof P==="string"){return P;}return this.extractUserDefaultReferenceName(r);};this.extractExtendedUserDefaultReferenceName=function(r){if(typeof r!=="string"||r.indexOf("UserDefault.extended.")!==0){return undefined;}return r.replace(/^UserDefault[.]extended[.]/,"");};this.extractUserDefaultReferenceName=function(r){if(typeof r!=="string"||r.indexOf("UserDefault.")!==0||r.indexOf("UserDefault.extended.")===0){return undefined;}return r.replace(/^UserDefault[.]/,"");};this.mergeSimpleAndExtended=function(v){var m=q.extend(true,{},v.extendedValue);if(typeof v.value==="string"){if(!Array.isArray(m.Ranges)){m.Ranges=[];}m.Ranges.push({"Sign":"I","Option":"EQ","Low":v.value,"High":null});}return m;};function f(u){var r=/{([^}%]*%%[^%]+%%)}?/g,b=/([^%]*)%%/,d=/%%([^%]+)%%/,o,e,g,F=[];o=r.exec(u);while(o){e=b.exec(o[1]);g=d.exec(o[1]);F.push({edmType:e[1],name:g[1]});o=r.exec(u);}return F;}this.resolveUserDefaultParameters=function(u,s){var d=new q.Deferred(),r,S,I=[],o;o=/[^(?]*/.exec(u);r=(o===null)?[]:f(o[0]);r.forEach(function(g){I.push(g.name);});o=/[(?][^]*/.exec(u);r=(o===null)?[]:f(o[0]);var b=[],e={};r.forEach(function(g){b.push(g.name);e[g.name]=g.edmType;});S=b.filter(function(g){if(/^UserDefault\.(?!extended\.).+/.test(g)){return true;}I.push(g);return false;});if(S.length>0){this.resolveReferences(S,s).done(function(g){var h=u,D=[];Object.keys(g).forEach(function(j){var k,l=false;while(k!=h){k=h;if(g[j]!==undefined){var F=O.formatValue(g[j],e[j]);h=h.replace("{"+e[j]+"%%"+j+"%%}",window.encodeURIComponent(F));}else{l=true;h=h.replace("{"+e[j]+"%%"+j+"%%}","");}}if(l){D.push(j);}});d.resolve({url:h,defaultsWithoutValue:D,ignoredReferences:I});});}else{d.resolve({url:u,defaultsWithoutValue:[],ignoredReferences:I});}return d.promise();};}R.hasNoAdapter=true;return R;},true);
sap.ui.predefine('sap/ushell/services/ShellNavigation',["sap/ushell/services/ShellNavigationHashChanger","sap/m/MessageBox","sap/ui/core/routing/HashChanger"],function(S,M,H){"use strict";var A=M.Action;var I=M.Icon;function a(c,p,s){function r(){sap.ui.require(["sap/m/MessageBox"],function(M){M.show("Due to a configuration change on the server,\nclient and server are out of sync.\n We strongly recommend to reload the page soon.\nReload page now?",{icon:I.ERROR,title:"Client out of sync with server.",actions:[A.YES,A.NO],onClose:function(b){if(b===A.YES){window.setTimeout(function(){window.location.reload();},0);}}});});}var o=s&&s.config;this.hashChanger=new S(o);this._navigationFilterForForwardingToRegisteredRouters=function(h){var m=this._aRouters.some(function(R){return R.match(h);});if(m){var b=sap.ushell.Container.getService("AppLifeCycle"),C=b.getCurrentApplication(),i=C&&C.componentInstance&&!C.homePage,d;if(i){d=C.componentInstance.getRouter();if(d){d.stop();}}return this.NavigationFilterStatus.Keep;}return this.NavigationFilterStatus.Continue;};this.getNavigationContext=function(){var n=this.hashChanger.getCurrentNavigationState();var i=!this.hashChanger.isInnerAppNavigation(n.oldHash,n.newHash);return{status:n.status,isCrossAppNavigation:i,innerAppRoute:this.hashChanger.getHash()};};this.isInitialNavigation=function(){return this._bIsInitialNavigation;};this.setIsInitialNavigation=function(i){this._bIsInitialNavigation=i;};this.hrefForExternal=function(b,v,C,d){return this.hashChanger.hrefForExternal(b,v,C,d);};this.hrefForAppSpecificHash=function(b){return this.hashChanger.hrefForAppSpecificHash(b);};this.compactParams=function(P,R,C,t){return this.hashChanger.compactParams(P,R,C,t);};this.toExternal=function(b,C,w){this.hashChanger.toExternal(b,C,w);};this.toAppHash=function(b,w){this.hashChanger.toAppHash(b,w);};this.init=function(f){this._bIsInitialNavigation=true;hasher.prependHash="";H.replaceHashChanger(this.hashChanger);var b=sap.ui.getCore().getEventBus();b.subscribe("sap.ui.core.UnrecoverableClientStateCorruption","RequestReload",r);this.hashChanger.initShellNavigation(f);this._enableHistoryEntryReplacedDetection();return this;};this._enableHistoryEntryReplacedDetection=function(){this._lastHashChangeMode=null;this._fnOriginalSetHash=hasher.setHash;this._fnOriginalReplaceHash=hasher.replaceHash;hasher.setHash=function(){this._hashChangedByApp=true;this._lastHashChangeMode="setHash";return this._fnOriginalSetHash.apply(hasher,arguments);}.bind(this);hasher.replaceHash=function(){this._hashChangedByApp=true;this._lastHashChangeMode="replaceHash";return this._fnOriginalReplaceHash.apply(hasher,arguments);}.bind(this);};this.wasHistoryEntryReplaced=function(){return this._lastHashChangeMode==="replaceHash";};this.resetHistoryEntryReplaced=function(){this._lastHashChangeMode=null;};this.replaceHashWithoutNavigation=function(n){hasher.changed.active=false;this._fnOriginalSetHash(n);hasher.changed.active=true;};this.NavigationFilterStatus=this.hashChanger.NavigationFilterStatus;this.registerNavigationFilter=function(f){this.hashChanger.registerNavigationFilter(f);};this._aRouters=[];this.registerExtraRouter=function(R){this._aRouters.push(R);};this.unregisterNavigationFilter=function(f){this.hashChanger.unregisterNavigationFilter(f);};this.registerNavigationFilter(function(){if(!this._hashChangedByApp){this.resetHistoryEntryReplaced();}this._hashChangedByApp=undefined;return this.NavigationFilterStatus.Continue;}.bind(this));this.registerNavigationFilter(this._navigationFilterForForwardingToRegisteredRouters.bind(this));}a.hasNoAdapter=true;return a;},true);
sap.ui.predefine('sap/ushell/services/ShellNavigationHashChanger',["sap/ushell/library","sap/ui/core/routing/HashChanger","sap/ui/thirdparty/hasher","sap/ushell/TechnicalParameters","sap/base/util/UriParameters","sap/base/util/isEmptyObject","sap/ui/thirdparty/jquery","sap/base/Log","sap/base/util/deepEqual"],function(l,H,h,T,U,a,q,L,d){"use strict";var N=l.NavigationState;var O={HASH_SET:{name:"hashSet",historyEntry:true},HASH_REPLACED:{name:"hashReplaced",historyEntry:false},SHELL_HASH_CHANGED:{name:"shellHashChanged",historyEntry:true,usedByUi5HistoryDetection:true,ui5EventParameterNames:{oldHash:"oldAppSpecificRouteNoSeparator",newHash:"newAppSpecificRouteNoSeparator"},updateHashOnly:true},SHELL_HASH_PARAMETER_CHANGED:{name:"shellHashParameterChanged",historyEntry:null},HASH_CHANGED:{name:"hashChanged",historyEntry:false,usedByUi5HistoryDetection:true,ui5EventParameterNames:{newHash:"newHash",fullHash:"fullHash"}}};var S=H.extend("sap.ushell.services.ShellNavigatonHashChanger",{constructor:function(c){var u;this.oServiceConfig=c;this._oNavigationState={};if(new U(window.location.href).get("sap-ushell-reload")){if(new U(window.location.href).get("sap-ushell-reload")==="X"||new U(window.location.href).get("sap-ushell-reload")==="true"){u=true;}else{u=false;}}if(u!==undefined){if(typeof this.oServiceConfig!=="object"){this.oServiceConfig={};}this.oServiceConfig.reload=u;}H.apply(this);this._initializedByShellNav=false;this.oURLShortening=sap.ushell.Container.getService("URLShortening");this.oURLParsing=sap.ushell.Container.getService("URLParsing");this.privfnShellCallback=null;this.privappHashPrefix="&/";this.privhashPrefix="#";this.aNavigationFilters=[];this.NavigationFilterStatus={Continue:"Continue",Custom:"Custom",Abandon:"Abandon",Keep:"Keep"};this.getRelevantEventsInfo=function(){return this._getAllEvents().filter(function(e){return e.usedByUi5HistoryDetection;}).map(function(e){var E={name:e.name,paramMapping:e.ui5EventParameterNames};if(e.updateHashOnly!==undefined){E.updateHashOnly=e.updateHashOnly;}return E;});};}});S.prototype.privgetCurrentShellHash=function(){var r=this.privsplitHash(h.getHash());return{hash:"#"+((r&&r.shellPart)?r.shellPart:"")};};S.prototype.privconstructHash=function(A){var o=this.privgetCurrentShellHash();o.hash+=A;return o;};S.prototype.privconstructShellHash=function(s){return this.oURLParsing.constructShellHash(s);};S.prototype.privsplitHash=function(s){var o,c,A;if(s===undefined||s===null||s===""){return{shellPart:null,appSpecificRoute:null,intent:null,params:null};}o=this.oURLParsing.parseShellHash(s);if(o===undefined||o===null){return null;}c=(o.params&&!a(o.params))?o.params:null;A=o.appSpecificRoute;o.appSpecificRoute=undefined;return{shellPart:this.privstripLeadingHash(this.privconstructShellHash(o))||null,appSpecificRoute:A||null,intent:(o.semanticObject&&o.action&&(o.semanticObject+"-"+o.action+(o.contextRaw||"")))||null,params:c};};S.prototype.privsetHash=function(f,A,w){h.prependHash="";f=this.privstripLeadingHash(f);A=A||"";if(w===undefined){w=true;}if(w){this.fireEvent(O.HASH_SET.name,{sHash:A});h.setHash(f);}else{this.fireEvent(O.HASH_REPLACED.name,{sHash:A});h.replaceHash(f);}};S.prototype.privstripLeadingHash=function(s){if(s[0]==="#"){return s.substring(1);}return s;};S.prototype.registerNavigationFilter=function(f){if(typeof f!=="function"){throw new Error("fnFilter must be a function");}this.aNavigationFilters.push(f);};S.prototype.unregisterNavigationFilter=function(f){if(typeof f!=="function"){throw new Error("fnFilter must be a function");}this.aNavigationFilters=this.aNavigationFilters.filter(function(r){return r!==f;});};function b(c,t){this.oAppState=undefined;this.oPromise=(new q.Deferred()).resolve();this.getNextKey=function(){this.oAppState=sap.ushell.Container.getService("AppState").createEmptyAppState(c,t);return this.oAppState.getKey();};this.store=function(v){var n;this.oAppState.setData(v);n=this.oAppState.save();this.oPromise=q.when(this.oPromise,n);};this.getPromise=function(){return this.oPromise;};}S.prototype.compactParams=function(p,r,c,t){var s,C,R,P,D=new q.Deferred(),e=this.oURLParsing.constructShellHash({target:{semanticObject:"SO",action:"action"},params:p},s);if(p===undefined||Object.keys(p).length===0){return D.resolve(p).promise();}s=new b(c,t);R=this.oURLShortening.compactHash(e,r,s);C=this.oURLParsing.parseParameters(R.hash.match(/\?.*/)[0]);P=s.getPromise();P.done(function(){D.resolve(C);}).fail(function(m){D.reject(m);});return D;};S.prototype.hrefForExternal=function(A,v,c,e){var r=this.hrefForExternalNoEnc(A,v,c,e);function f(R,v){if(v===true){R.hash=encodeURI(R.hash);}else{R=encodeURI(R);}return R;}if(!e){return f(r,v);}var D=new q.Deferred();r.done(function(R){D.resolve(f(R,v));}).fail(D.reject.bind(D));return D;};S.prototype.hrefForExternalNoEnc=function(A,v,c,e){var t,p,D,s=new b(c),r;t=this.privhrefForExternalNoEnc(A,s);if(v===true){r={hash:t.hash,params:t.params,skippedParams:t.skippedParams};}else{r=t.hash;}if(!e){return r;}p=s.getPromise();D=new q.Deferred();p.done(function(){D.resolve(r);}).fail(function(m){D.reject(m);});return D;};S.prototype.privhrefForExternalNoEnc=function(A,s){var r;if(A===undefined){return this.privgetCurrentShellHash();}if(A&&A.target&&(typeof A.target.semanticObject==="string"||typeof A.target.shellHash==="string")){r="#"+this.privconstructShellHash(A);return this.oURLShortening.compactHash(r,undefined,s);}return this.privgetCurrentShellHash();};S.prototype.privgetAppHash=function(A){var s,o;if(A&&A.target&&(typeof A.target.shellHash==="string")){o=this.oURLParsing.parseShellHash(A.target.shellHash);s=o&&o.appSpecificRoute;s=s&&s.substring(2);}return s;};S.prototype.hrefForAppSpecificHash=function(A){return encodeURI(this.privconstructHash(this.privappHashPrefix+A).hash);};S.prototype.toExternal=function(A,c,w){var s,o=new b(c),e;s=this.privhrefForExternalNoEnc(A,o).hash;e=this.privgetAppHash(A);this.privsetHash(s,e,w);};S.prototype.toAppHash=function(A,w){var s=this.privconstructHash(this.privappHashPrefix+A).hash;this.privsetHash(s,A,w);};S.prototype.initShellNavigation=function(s){if(this._initializedByShellNav){L.info("initShellNavigation already called on this ShellNavigationHashChanger instance.");return false;}this.privfnShellCallback=s;h.changed.add(this.treatHashChanged,this);if(!h.isActive()){h.initialized.addOnce(this.treatHashChanged,this);h.init();}else{this.treatHashChanged(h.getHash());}this._initializedByShellNav=true;return true;};S.prototype.init=function(){if(this._initialized){L.info("init already called on this ShellNavigationHashChanger instance.");return false;}var n=this.privsplitHash(h.getHash()),A=((n&&n.appSpecificRoute)||"  ").substring(2),D=A?"&/":"",s=(n&&n.shellPart)||"";this.fireEvent(O.HASH_CHANGED.name,{newHash:A,fullHash:s+D+A});this._initialized=true;return true;};S.prototype._removeInnerAppSeparator=function(i){return(i||"").replace("&/","");};S.prototype._setNavigationStatus=function(n){this._oNavigationState.status=n;};S.prototype._trackNavigation=function(o,n){this._oNavigationState.oldHash=o;this._oNavigationState.newHash=n;};S.prototype.getCurrentNavigationState=function(){return this._oNavigationState;};S.prototype.treatHashChanged=function(n,o){this._trackNavigation(o,n);this._setNavigationStatus(N.InProgress);if(this.inAbandonFlow){this._setNavigationStatus(N.Finished);return;}var A,s,c,f,g,j,E,i,F,k,m,p;n=this.oURLShortening.expandHash(n);o=this.oURLShortening.expandHash(o);c=this.privsplitHash(n);f=this.privsplitHash(o);if(!c){E=new Error("Illegal new hash - cannot be parsed: '"+n+"'");this.fireEvent(O.SHELL_HASH_CHANGED.name,{newShellHash:n,newAppSpecificRoute:null,fullHash:n,oldShellHash:(f?f.shellPart:o),error:E});this.privfnShellCallback(n,null,(f?f.shellPart:o),(f?f.appSpecificRoute:null),E);this._setNavigationStatus(N.Finished);return;}if(!f){f={shellPart:o,appSpecificRoute:null};}for(i=0;i<this.aNavigationFilters.length;i++){try{F=this.aNavigationFilters[i].call(undefined,n,o);k=F;if(typeof F!=="string"){k=F.status;m=F.hash;}if(k===this.NavigationFilterStatus.Custom){if(m&&m.length>0){this.inAbandonFlow=true;h.replaceHash(m);this.inAbandonFlow=false;}this._setNavigationStatus(N.Finished);return;}if(k===this.NavigationFilterStatus.Abandon){this.inAbandonFlow=true;h.replaceHash(o);this.inAbandonFlow=false;this._setNavigationStatus(N.Finished);return;}if(k===this.NavigationFilterStatus.Keep){p=true;}}catch(e){L.error("Error while calling Navigation filter! ignoring filter...",e.message,"sap.ushell.services.ShellNavigation");}}if(p){this.fireEvent(O.HASH_CHANGED.name,{newHash:n,oldHash:o,fullHash:n});this._setNavigationStatus(N.Finished);return;}var r=this.isInnerAppNavigation(n,o);if(r){A=this._removeInnerAppSeparator(c.appSpecificRoute);s=this._removeInnerAppSeparator(f.appSpecificRoute);L.info("Inner App Hash changed from '"+s+"' to '"+A+"'",null,"sap.ushell.services.ShellNavigation");this.fireEvent(O.HASH_CHANGED.name,{newHash:A,oldHash:s,fullHash:n});this._setNavigationStatus(N.Finished);return;}var t=this._haveSameIntent(n,o);if(t&&this.hasListeners(O.SHELL_HASH_PARAMETER_CHANGED.name)){g=this.oURLParsing.paramsToString(c.params);j=this.oURLParsing.paramsToString(f.params);L.info("Shell hash parameters changed from '"+j+"' to '"+g+"'",null,"sap.ushell.services.ShellNavigation");this.fireEvent(O.SHELL_HASH_PARAMETER_CHANGED.name,{oNewParameters:c.params,oOldParameters:f.params});this._setNavigationStatus(N.Finished);return;}if(o!==undefined&&this.oServiceConfig&&this.oServiceConfig.reload){window.location.hash="#"+encodeURI(n);window.location.reload();}L.info("Outer shell hash changed from '"+o+"' to '"+n+"'",null,"sap.ushell.services.ShellNavigation");this.fireEvent(O.SHELL_HASH_CHANGED.name,{newShellHash:c.shellPart,newAppSpecificRoute:c.appSpecificRoute,fullHash:n,oldShellHash:f.shellPart,oldAppSpecificRoute:f.appSpecificRoute,error:"",oldAppSpecificRouteNoSeparator:this._removeInnerAppSeparator(f.appSpecificRoute),newAppSpecificRouteNoSeparator:this._removeInnerAppSeparator(c.appSpecificRoute)});this.privfnShellCallback(c.shellPart,c.appSpecificRoute,f.shellPart,f.appSpecificRoute);this._setNavigationStatus(N.Finished);};S.prototype._parametersChanged=function(n,o){return!d(n,o);};S.prototype.setHash=function(s){this.toAppHash(s,true);};S.prototype.replaceHash=function(s){this.toAppHash(s,false);};S.prototype.getHash=function(){return this.getAppHash();};S.prototype.getAppHash=function(){var n=this.privsplitHash(h.getHash()),A=((n&&n.appSpecificRoute)||"  ").substring(2);return A;};S.prototype.destroy=function(){h.changed.remove(this.treatHashChanged,this);H.prototype.destroy.apply(this,arguments);};S.prototype._getAllEvents=function(){return Object.keys(O).map(function(e){return O[e];});};S.prototype.getReplaceHashEvents=function(){return this._getAllEvents().filter(function(e){return e.historyEntry===false;}).map(function(e){return e.name;});};S.prototype.getSetHashEvents=function(){return this._getAllEvents().filter(function(e){return e.historyEntry===true;}).map(function(e){return e.name;});};S.prototype.isInnerAppNavigation=function(n,o){var c=this.privsplitHash(n)||{};var e=this.privsplitHash(o)||{};var f=this._haveSameIntent(n,o);c.params=this._removeNonIntentParameters(c.params);e.params=this._removeNonIntentParameters(e.params);var g=!this._parametersChanged(c.params,e.params);return f&&g;};S.prototype._haveSameIntent=function(n,o){var c=this.privsplitHash(n)||{};var e=this.privsplitHash(o)||{};var s=c.intent;var f=e.intent;return s===f&&o!==undefined;};S.prototype._removeNonIntentParameters=function(o){var t=T.getParameters({isIntentParameter:false}),c;if(o){for(var i=0;i<t.length;i++){c=t[i];if(o[c.name]){delete o[c.name];}}}return o||{};};return S;},true);
sap.ui.predefine('sap/ushell/services/SupportTicket',["sap/ushell/Config"],function(C){"use strict";function S(a,c,p,s){this.createTicket=function(o){return a.createTicket(o);};this.isEnabled=function(){return C.last("/core/extension/SupportTicket");};}S.hasNoAdapter=false;return S;},true);
sap.ui.predefine('sap/ushell/services/URLParsing',["sap/ui/thirdparty/URI","sap/ushell/utils","sap/base/util/UriParameters"],function(U,u,b){"use strict";function c(){var r=/^(([A-Za-z0-9_/]+)-([A-Za-z0-9_/-]+)(~([A-Z0-9a-z=+/]+))?)?([?]([^&]|(&[^/]))*&?)?$/;this.getShellHash=function(s){var a=/[^#]*#(([^&]|&[^/])*)(&\/.*)?/,m=a.exec(s);if(m){return m[1];}return undefined;};this.getHash=function(s){var a=/#(.*)/,m=a.exec(s);if(m){return m[1];}return undefined;};this.isIntentUrl=function(s){var a=/^#/,t,l,T,L,h,p;if(typeof s!=="string"){return false;}if(!a.test(s)){t=(new U(s)).normalize();T=t.protocol()+"://"+t.host()+t.pathname();l=(new U(window.location.href)).normalize();L=l.protocol()+"://"+l.host()+l.pathname();if(T!==L){return false;}}h=this.getHash(s);if(!h){return false;}p=this.parseShellHash(h);if(p&&p.semanticObject&&p.action){return true;}return false;};this.parseParameters=function(p){var o=b.fromQuery(p);var k=o.keys();var K=k.next();var P={};while(K["done"]===false){P[K.value]=o.getAll(K.value);K=k.next();}return P;};this.paramsToString=function(p){return u.urlParametersToString(p);};this.privparamsToString=function(p,D,a){return u.urlParametersToString(p,D,a);};this.parseShellHash=function(h){var a=r,s,S,A,C,p,m,e;if(!h){return undefined;}s=this.splitHash(h);m=a.exec(s.shellPart);if(m){S=m[2];A=m[3];C=m[5];p=m[6];e=this.parseParameters(p);return{semanticObject:S,action:A,contextRaw:C,params:e,appSpecificRoute:s.appSpecificRoute};}if(s.appSpecificRoute){return{semanticObject:undefined,action:undefined,contextRaw:undefined,params:{},appSpecificRoute:s.appSpecificRoute};}return undefined;};this.privstripLeadingHash=function(h){if(h[0]==="#"){return h.substring(1);}return h;};this.splitHash=function(h){var a=/^(?:#|)([\S\s]*?)(&\/[\S\s]*)?$/,m,s,A;if(h===undefined||h===null||h===""){return{};}m=a.exec(h);s=m[1];if(s!==""&&!r.test(s)){return{};}A=m[2];if(s||A){return{shellPart:s,appSpecificRoute:A};}return{};};function d(s,a){if(a){return s+a;}return s;}this.constructShellHash=function(s){var e,p,f,i=null,k,l=[],g="?",a=null;if(!s){return"";}if(!s.target){s.target={};s.target.semanticObject=s.semanticObject;s.target.action=s.action;s.target.contextRaw=s.contextRaw;}if(s.target.shellHash||s.target.shellHash===""){f=this.privstripLeadingHash(s.target.shellHash);return d(f,s.appSpecificRoute);}if(s.target.semanticObject&&s.target.action){e=s.target.semanticObject+"-"+s.target.action.replace(/[?].*/,"");}else{return d("",s.appSpecificRoute);}if(s.target.contextRaw){e+="~"+s.target.contextRaw;}g="?";a=null;l=[];for(a in s.params){if(s.params.hasOwnProperty(a)){l.push(a);}}p=(s.params&&JSON.parse(JSON.stringify(s.params)))||{};if(s.appStateKey){l.push("sap-xapp-state");p["sap-xapp-state"]=s.appStateKey;}l.sort();for(k=0;k<l.length;k=k+1){a=l[k];if(Array.isArray(p[a])){if(p[a].length>1){jQuery.sap.log.error("Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!");}for(i=0;i<p[a].length;i=i+1){e+=g+encodeURIComponent(a)+"="+encodeURIComponent(p[a][i]);g="&";}}else{e+=g+encodeURIComponent(a)+"="+encodeURIComponent(p[a]);g="&";}}return d(e,s.appSpecificRoute);};this.addSystemToServiceUrl=function(s,C){var R,o,S=C;if(!s||s.indexOf("/")!==0||s.indexOf("//")===0){throw new u.Error("Invalid URL: "+s,"sap.ushell.services.URLParsing");}if(C instanceof sap.ui.core.Component){o=(typeof C.getComponentData==="function")&&C.getComponentData();S=o&&o.startupParameters&&o.startupParameters["sap-system"]&&o.startupParameters["sap-system"][0];}R=sap.ushell.Container.getService("NavTargetResolution").getCurrentResolution();if(!S&&!C&&R&&R.url){S=new b(R.url).get("sap-system");}if(/^[^?]*(;mo([/;?]|$))/.test(s)){}else if(/^[^?]*(;o=([/;?]|$))/.test(s)){s=s.replace(/;o=([/;?]|$)/,(S?";o="+S:"")+"$1");}else if(!/^[^?]*;o=/.test(s)&&S){s=s.replace(/(\/[^?]*?)(\/$|$|(\/?\?.*))/,"$1;o="+S+"$2");}sap.ushell.Container.addRemoteSystemForServiceUrl(s);return s;};}c.hasNoAdapter=true;return c;},true);
sap.ui.predefine('sap/ushell/services/URLShortening',function(){"use strict";function U(){var t=this;this.ABBREV_PARAM_NAME="sap-intent-param";this.URL_LENGTH_LIMIT=1023;this.URL_PARAMS_LENGTH_LIMIT=512;this._replaceSapXAppStateRawWithKeyIfRequired=function(v,s){var V,k;if(typeof v!=="string"||/^[A-Z0-9]{40,41}$/.test(v)){return v;}try{V=JSON.parse(v);}catch(e){jQuery.sap.log.error("This cannot happen: sap-xapp-state parameter value is neither key nor JSON parseable");return v;}k=s&&s.getNextKey();this._storeValue(k,V,s);return k;};this.compactHash=function(u,r,s){var S,k,R,p,o,a,b=[this.ABBREV_PARAM_NAME,"sap-system","sap-xapp-state"];if(r){r.forEach(function(A){b.push(A);});}o=sap.ushell.Container.getService("URLParsing");S=o.parseShellHash(u);if(!S){jQuery.sap.log.error("the URL "+u+" is not compliant. It may break the product and cause unwanted navigation behavior.");return{hash:u};}p="";if(u.charAt(0)==="#"){p="#";}var v=S&&S.params&&S.params["sap-xapp-state"]&&S.params["sap-xapp-state"][0];if(v){S.params["sap-xapp-state"]=[this._replaceSapXAppStateRawWithKeyIfRequired(v,s)];u=p+o.constructShellHash({target:{semanticObject:S.semanticObject,action:S.action,contextRaw:S.contextRaw},params:S.params,appSpecificRoute:S.appSpecificRoute});}if(typeof u!=="string"||u.length<t.URL_LENGTH_LIMIT){return{hash:u};}if(S&&((S.params&&S.params[t.ABBREV_PARAM_NAME]))){return{hash:u};}k=s&&s.getNextKey();R=this._splitParameters(S.params,b,k);if(!R.key){return{hash:u};}a=o.paramsToString(R.tailParams);this._storeValue(R.key,a,s);return{hash:p+o.constructShellHash({target:{semanticObject:S.semanticObject,action:S.action,contextRaw:S.contextRaw},params:R.headParams,appSpecificRoute:S.appSpecificRoute}),params:R.headParams,skippedParams:R.tailParams};};this.checkHashLength=function(u){var s,r,p,o;if(typeof u!=="string"||u.length<t.URL_LENGTH_LIMIT){return{hash:u};}o=sap.ushell.Container.getService("URLParsing");s=o.parseShellHash(u);p="";if(u.charAt(0)==="#"){p="#";}r=this._splitParameters(s.params,[],"DummyKey");if(r.key){jQuery.sap.log.error("Application startup parameter length exceeds "+t.URL_PARAMS_LENGTH_LIMIT+" characters, truncation occured!");delete r.headParams[this.ABBREV_PARAM_NAME];return{hash:p+o.constructShellHash({target:{semanticObject:s.semanticObject,action:s.action,contextRaw:s.contextRaw},params:r.headParams,appSpecificRoute:s.appSpecificRoute}),params:r.headParams,skippedParams:r.tailParams};}jQuery.sap.log.error("URL exceeds dangerous limits, arbitrary shortening or worse may occur!");return{hash:u};};this._findIndex=function(a,T){var r=a.indexOf(T);if(r>=0){return r;}r=-1;a.every(function(A,i){if(A.length>0&&A[A.length-1]==="*"&&A.substring(0,A.length-1)===T.substring(0,A.length-1)){r=i;return false;}return true;});return r;};this._cmpByList=function(a,A,b){var i,c;a=a||[];if(A===b){return 0;}i=this._findIndex(a,A);c=this._findIndex(a,b);if(i>=0&&c>=0){if((i-c)!==0){return i-c;}if(A<b){return-1;}if(A>b){return+1;}return 0;}if(i>=0){return-1;}if(c>=0){return+1;}if(A<b){return-1;}return+1;};this._sortByPriority=function(l,r){return l.sort(this._cmpByList.bind(this,r));};this._splitParameters=function(p,r,K){var a,i,k,h={},b={},c=false,o,d,e=0,f,l=[];if(!K||typeof K!=="string"){throw new Error("sap.ushell.services.URLShortening._splitParameters: key must be supplied!");}for(a in p){if(Object.prototype.hasOwnProperty.call(p,a)){l.push(a);}}l.sort();l=this._sortByPriority(l,r);for(k=0;k<l.length;k=k+1){a=l[k];o=p[a];if(o.length>1){jQuery.sap.log.error("Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!");}for(i=0;i<o.length;i=i+1){d=p[a][i];f=a.length+d.length;if(f+e>this.URL_PARAMS_LENGTH_LIMIT){if(b[a]){b[a].push(d);}else{b[a]=[d];}c=true;}else if(h[a]){h[a].push(d);}else{h[a]=[d];}e=e+f+1;}}if(c){h[this.ABBREV_PARAM_NAME]=[K];}return{key:K,tailParams:b,headParams:h};};this.expandHash=function(u){var r=function(k){return t._retrieveValue(k);};return this.expandParamGivenRetrievalFunction(u,this.ABBREV_PARAM_NAME,r);};this.expandParamGivenRetrievalFunction=function(u,p,r){var s,v,k,a,b;if(typeof u!=="string"){return u;}s=sap.ushell.Container.getService("URLParsing").parseShellHash(u);k=s&&s.params&&s.params[p]&&s.params[p][0];if(!k){return u;}a="";if(u.charAt(0)==="#"){a="#";}v=r(k);if(!v){return u;}b=this._blendParameters(s.params,p,v);return a+sap.ushell.Container.getService("URLParsing").constructShellHash({target:{semanticObject:s.semanticObject,action:s.action,contextRaw:s.contextRaw},params:b,appSpecificRoute:s.appSpecificRoute});};this._retrieveValue=function(){return undefined;};this._storeValue=function(k,v,s){if(s&&typeof s.store==="function"){s.store(v);}};this._blendParameters=function(p,P,v){var n=sap.ushell.Container.getService("URLParsing").parseParameters("?"+v),a;delete p[P];for(a in n){if(Object.prototype.hasOwnProperty.call(n,a)){if(p[a]){p[a]=p[a].concat(n[a]);}else{p[a]=n[a];}}}return p;};}U.hasNoAdapter=true;return U;},true);
sap.ui.predefine('sap/ushell/services/Ui5ComponentHandle',function(){"use strict";var U=function(c){this._oComponent=c;};U.onBeforeApplicationInstanceCreated=function(){sap.ui.require(["sap/ushell/Fiori20AdapterTest"],function(){});};U.prototype.getInstance=function(){return this._oComponent;};U.prototype.getMetadata=function(){return this._oComponent.getMetadata();};return U;});
sap.ui.predefine('sap/ushell/services/Ui5ComponentLoader',["sap/ushell/utils","sap/ushell/services/Ui5ComponentHandle","sap/ushell/services/_Ui5ComponentLoader/utils","sap/ushell/EventHub","sap/ui/thirdparty/jquery"],function(u,U,o,e,q){"use strict";function a(c,p,C){this._oConfig=(C&&C.config)||{};this.createComponent=function(A,P,w){var d=new q.Deferred(),t=this;this.createComponentData(A,P,w).then(function(D){t.instantiateComponent(D).then(d.resolve,d.reject);},function(){d.resolve(A);});return d.promise();};this.createComponentData=function(A,P,w){var t=this;return new Promise(function(r,R){var d={},b=A||{},l=o.shouldLoadCoreExt(b),f=o.shouldUseAmendedLoading(t._oConfig),L=o.shouldLoadDefaultDependencies(b,t._oConfig,f),n=u.getParameterValueBoolean("sap-ushell-nocb"),g=b.applicationDependencies||{};o.logAnyApplicationDependenciesMessages(g.name,g.messages);if(!b.ui5ComponentName){R();return;}delete b.loadCoreExt;delete b.loadDefaultDependencies;var h=o.createComponentData(b.componentData||{},b.url,b.applicationConfiguration,b.reservedParameters);if(b.getExtensions){h.getExtensions=b.getExtensions;delete b.getExtensions;}if(b.oPostMessageInterface){h.oPostMessageInterface=b.oPostMessageInterface;delete b.oPostMessageInterface;}var s=o.constructAppComponentId(P||{}),i=l&&f,j=o.prepareBundle(t._oConfig.coreResourcesComplement),k=o.createComponentProperties(i,L,n,w,b.applicationDependencies||{},b.ui5ComponentName,b.url,s,j);d.componentData=h;d.componentProperties=k;d.appPropertiesSafe=b;d.loadCoreExt=l;r(d);});};this.instantiateComponent=function(d){var b=d.componentProperties,f=d.componentData,A=d.appPropertiesSafe,l=d.loadCoreExt;U.onBeforeApplicationInstanceCreated.call(null,b);var D=new q.Deferred();o.createUi5Component(b,f).then(function(g){var h=new U(g);A.componentHandle=h;var i=l;if(i){A.coreResourcesFullyLoaded=i;e.emit("CoreResourcesComplementLoaded",{status:"success"});}D.resolve(A);},function(E){var s=JSON.stringify(b,null,4);o.logInstantiateComponentError(b.name,E+"",E.status,E.stack,s);D.reject(E);});return D.promise();};this.loadCoreResourcesComplement=function(){if(this.loadCoreResourcesComplementPromise){return this.loadCoreResourcesComplementPromise.promise();}var b=o.prepareBundle(this._oConfig.coreResourcesComplement),d=new q.Deferred();o.loadBundle(b).done(function(){e.emit("CoreResourcesComplementLoaded",{status:"success"});this.loadCoreResourcesComplementPromise=d;d.resolve();}.bind(this)).fail(function(){e.emit("CoreResourcesComplementLoaded",{status:"failed"});d.reject();});return d.promise();};e.once("loadCoreResourcesComplement").do(function(){this.loadCoreResourcesComplement();}.bind(this));}a.hasNoAdapter=true;return a;},true);
sap.ui.predefine('sap/ushell/services/UserDefaultParameterPersistence',["sap/ui/thirdparty/jquery","sap/base/util/ObjectPath","sap/base/Log"],function(q,O,L){"use strict";var v=["value","extendedValue","noEdit","alwaysAskPlugin","_shellData","pluginData"];function U(a){this._oAdapter=a;this._oData={};}U.prototype._cleanseValue=function(V){var r=q.extend(true,{},V);for(var a in r){if(r.hasOwnProperty(a)&&v.indexOf(a)<0){delete r[a];}}return r;};U.prototype._getSystemContextPromise=function(s){if(!s){L.warning("UserDefaultParameterPersistence: The systemContext was not provided, using defaultSystemContext as fallback");return sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(c){return c.getSystemContext();});}return Promise.resolve(s);};U.prototype.loadParameterValue=function(p,s){var d=new q.Deferred();this._getSystemContextPromise(s).then(function(s){var V=O.get([s.id,p],this._oData);if(V!==undefined){d.resolve(V);}else{this._oAdapter.loadParameterValue(p,s).done(function(o){var c=this._cleanseValue(o);d.resolve(c);}.bind(this)).fail(d.reject.bind(this));}}.bind(this));return d.promise();};U.prototype.saveParameterValue=function(p,V,s){var d=new q.Deferred();var c;this._getSystemContextPromise(s).then(function(s){if(!V){return this.deleteParameter(p,s).done(d.resolve).fail(d.reject);}c=this._cleanseValue(V);if(V&&V.noStore===true){return d.resolve();}O.set([s.id,p],c,this._oData);return this._oAdapter.saveParameterValue(p,c,s).done(d.resolve).fail(d.reject);}.bind(this));return d.promise();};U.prototype.deleteParameter=function(p,s){var d=new q.Deferred();this._getSystemContextPromise(s).then(function(s){if(this._oData[s.id]){delete this._oData[s.id][p];}return this._oAdapter.deleteParameter(p,s).done(d.resolve).fail(d.reject);}.bind(this));return d.promise();};U.prototype.getStoredParameterNames=function(s){var d=new q.Deferred();this._getSystemContextPromise(s).then(function(s){this._oAdapter.getStoredParameterNames(s).done(function(r){r.sort();d.resolve(r);}).fail(d.reject.bind(d));}.bind(this));return d.promise();};U.hasNoAdapter=false;return U;},true);
sap.ui.predefine('sap/ushell/services/UserDefaultParameters',["sap/ui/base/EventProvider","sap/base/Log","sap/ushell/utils","sap/ui/thirdparty/jquery","sap/base/util/deepEqual","sap/base/util/isEmptyObject"],function(E,L,u,q,d,a){"use strict";var e="valueStored";var s=["value","noEdit","noStore","extendedValue","alwaysAskPlugin"];function U(A,c,p,C){this._aPlugins=[];this._oUserDefaultParametersNames={};this._oWasParameterPersisted={};var t=this;var S=new E();function g(P){var v=(typeof P.getComponentData==="function"&&P.getComponentData()&&P.getComponentData().config&&P.getComponentData().config["sap-priority"])||0;if(typeof v!=="number"||isNaN(v)){return 0;}return v;}this._insertPluginOrdered=function(P,o){var b=g(o),i,f;for(i=0;(i<P.length)&&o;++i){f=g(P[i]);if(o&&(b>f)){P.splice(i,0,o);o=undefined;}}if(o){P.push(o);}return P;};this.registerPlugin=function(P){this._aPlugins=this._insertPluginOrdered(this._aPlugins,P);};this._getUserDefaultValueFromPlugin=function(P,b,o,v){var r;if(typeof P.getUserDefault==="function"){r=new Promise(function(f,h){P.getUserDefault(b,v,o).done(function(n){var R=n||v;f(R);}).fail(function(){L.error("invocation of getUserDefault(\""+b+"\") for plugin "+t._getComponentNameOfPlugin(P)+" rejected.",null,"sap.ushell.services.UserDefaultParameters");f(v);});});}else{r=Promise.resolve(v);}return r;};this._iterateOverPluginsToGetDefaultValue=function(P,o,b){var f=sap.ushell.Container.getService("PluginManager");return new Promise(function(r,h){f.loadPlugins("UserDefaults").done(function(){var i=this._aPlugins.reduce(function(j,k){var l=j.then(this._getUserDefaultValueFromPlugin.bind(null,k,P,b));return l;}.bind(this),Promise.resolve(o));i.then(r);}.bind(this)).fail(function(){L.error("Cannot get value for "+P+". One or more plugins could not be loaded.");h("Initialization of plugins failed");});}.bind(this));};this._getStoreDate=function(){return new Date().toString();};this._storeValue=function(P,v,f,o){if(f&&v.extendedValue){return sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(b){return new Promise(function(r){b.getUserDefaultParameterNames(o).done(function(h){var i=this._extractKeyArrays(h);var R=i.extended.indexOf(P)<0;this._saveParameterValue(P,v,f,R,o).then(r);}.bind(this)).fail(function(){this._saveParameterValue(P,v,f,false,o).then(r);}.bind(this));}.bind(this));}.bind(this));}return this._saveParameterValue(P,v,f,false,o);};this._saveParameterValue=function(P,v,f,r,o){if(r){v.extendedValue=undefined;}if(f&&this._valueIsEmpty(v)){v=undefined;this._oWasParameterPersisted[P]=false;}else{v._shellData=q.extend(true,{storeDate:this._getStoreDate()},v._shellData);}return sap.ushell.Container.getServiceAsync("UserDefaultParameterPersistence").then(function(b){return new Promise(function(h){b.saveParameterValue(P,v,o).always(function(){var i={parameterName:P,parameterValue:u.clone(v||{}),systemContext:o};S.fireEvent(e,i);h(P);});});});};this._getPersistedValue=function(P,o){return new Promise(function(r,b){sap.ushell.Container.getServiceAsync("UserDefaultParameterPersistence").then(function(f){f.loadParameterValue(P,o).done(r).fail(b);});});};this._valueIsEmpty=function(v){return!v||(!v.value&&!v.extendedValue);};this._haveSameMembersValue=function(o,O,m){return m.every(function(r){return o[r]===O[r]||d(o[r],O[r]);});};this._getUserDefaultParameterNames=function(b){if(!this._oUserDefaultParametersNames[b.id]){this._oUserDefaultParametersNames[b.id]=new q.Deferred();sap.ushell.Container.getService("ClientSideTargetResolution").getUserDefaultParameterNames(b).done(function(P){var o=this._extractKeyArrays(P);var f=o.extended;var h=o.allParameters;var m=this._arrayToObject(h);this._oUserDefaultParametersNames[b.id].resolve({aAllParameterNames:h,aExtendedParameterNames:f,oMetadataObject:m});}.bind(this));}return this._oUserDefaultParametersNames[b.id].promise();};this._isRelevantParameter=function(P,o){return new Promise(function(r,b){this._getUserDefaultParameterNames(o).done(function(R){if(R.aAllParameterNames&&R.aAllParameterNames.indexOf(P)!==-1){r();}else{b();}});}.bind(this));};this.hasRelevantMaintainableParameters=function(b){var h=false;var G=[];return new Promise(function(r){this._getUserDefaultParameterNames(b).done(function(P){if(!a(P)&&P.aAllParameterNames){P.aAllParameterNames.forEach(function(f){var o=this.getValue(f,b);G.push(o);o.done(function(v){if(v&&!v.hasOwnProperty("noEdit")){h=true;}});}.bind(this));q.when.apply(undefined,G).done(function(){r(h);}).fail(function(){r();});}else{r();}}.bind(this));}.bind(this));};this.getValue=function(P,o){var D=new q.Deferred();this._isRelevantParameter(P,o).then(function(){return this._getPersistedValue(P,o).then(function(b){this._oWasParameterPersisted[P]=true;return b||{};}.bind(this)).catch(function(){return{value:undefined};});}.bind(this)).then(function(b){var v=u.clone(b);var f=(!b._shellData&&this._valueIsEmpty(b))||b.noStore||b.alwaysAskPlugin;if(!f){D.resolve(b);return;}this._iterateOverPluginsToGetDefaultValue(P,b,o).then(function(n){if(!this._oWasParameterPersisted[P]||!this._haveSameMembersValue(v,n,s)){this._oWasParameterPersisted[P]=true;this._storeValue(P,n,false,o).then(function(){D.resolve(n);});}else{D.resolve(n);}}.bind(this)).catch(D.reject);}.bind(this)).catch(function(b){D.resolve({value:undefined});});return D.promise();};this._addParameterValuesToParameters=function(P,b,o){var D=new q.Deferred();var f=[];b.forEach(function(h){var G=this.getValue(h,o);f.push(G);G.done(function(v){P[h].valueObject=v;});}.bind(this));q.when.apply(q,f).done(D.resolve.bind(D,P)).fail(D.reject.bind(D,P));return D.promise();};this._arrayToObject=function(P){var r={};P.forEach(function(b){r[b]={};});return r;};this._getComponentNameOfPlugin=function(P){try{return P.getMetadata().getComponentName()||"";}catch(b){return"'name of plugin could not be determined'";}};this._getEditorDataAndValue=function(D,b,f,m,o){var t=this;var h=[];var r=[];this._aPlugins.forEach(function(P){if(typeof P.getEditorMetadata==="function"){var i=new q.Deferred();h.push(i);try{var j=h.length-1;P.getEditorMetadata(m,o).done(function(R){r[j]=R;}).always(i.resolve).fail(function(){L.error("EditorMetadata for plugin "+t._getComponentNameOfPlugin(P)+"cannot be invoked.",null,"sap.ushell.services.UserDefaultParameters");i.resolve();});}catch(k){L.error("Error invoking getEditorMetaData on plugin: "+k+k.stack,null,"sap.ushell.services.UserDefaultParameters");i.resolve();}}});q.when.apply(q,h).done(function(){var P=[];var i=r.reverse().reduce(function(j,n){b.forEach(function(k){if(n[k]&&n[k].editorMetadata){j[k].editorMetadata=n[k].editorMetadata;}});return j;},m);b.forEach(function(j){if(!(i[j]&&i[j].editorMetadata)){P.push(j);}});t._addParameterValuesToParameters(i,b,o).done(function(j){var k=q.extend(true,{},j),K;f.forEach(function(l){if(k[l]){k[l].editorMetadata=k[l].editorMetadata||{};k[l].editorMetadata.extendedUsage=true;}});K=Object.keys(k).splice(0);K.forEach(function(l){var n;if(k[l].valueObject&&k[l].valueObject.noEdit===true){delete k[l];n=P.indexOf(l);if(n>=0){P.splice(n,1);}}});if(P.length>0){L.error("The following parameter names have no editor metadata and thus likely no configured plugin:\n\""+P.join("\",\n\"")+"\".");}D.resolve(k);}).fail(D.reject.bind(D));});};this.editorGetParameters=function(o){var D=new q.Deferred();this._getUserDefaultParameterNames(o).done(function(P){if(P.oMetadataObject.length===0){D.resolve({});}else{sap.ushell.Container.getService("PluginManager").loadPlugins("UserDefaults").done(function(){this._getEditorDataAndValue(D,P.aAllParameterNames,P.aExtendedParameterNames,P.oMetadataObject,o);}.bind(this)).fail(function(){L.error("One or more plugins could not be loaded");D.reject("Initialization of plugins failed");});}}.bind(this));return D.promise();};this._extractKeyArrays=function(P){var r={simple:P&&P.simple&&Object.keys(P.simple).sort()||[],extended:P&&P.extended&&Object.keys(P.extended).sort()||[]};var o=r.extended.filter(function(b){return r.simple.indexOf(b)<0;});r.allParameters=r.simple.concat(o).sort();return r;};this.editorSetValue=function(P,v,o){var D=new q.Deferred();this._storeValue(P,v,true,o).then(D.resolve);return D.promise();};this.attachValueStored=function(f){S.attachEvent(e,f);};this.detachValueStored=function(f){S.detachEvent(e,f);};}U.hasNoAdapter=true;return U;},true);
sap.ui.predefine('sap/ushell/services/UserInfo',["sap/base/Log"],function(L){"use strict";function U(a,c){this.getId=function(){return sap.ushell.Container.getUser().getId();};this.getFirstName=function(){return sap.ushell.Container.getUser().getFirstName();};this.getLastName=function(){return sap.ushell.Container.getUser().getLastName();};this.getFullName=function(){return sap.ushell.Container.getUser().getFullName();};this.getEmail=function(){return sap.ushell.Container.getUser().getEmail();};this.getUser=function(){return sap.ushell.Container.getUser();};this.getThemeList=function(){var p=a.getThemeList();p.fail(function(){L.error("getThemeList failed");});return p;};this.updateUserPreferences=function(){var p=a.updateUserPreferences(sap.ushell.Container.getUser());p.fail(function(){L.error("updateAttributes: ");});return p;};this.getLanguageList=function(){var p=a.getLanguageList();p.fail(function(){L.error("getLanguageList failed");});return p;};this.getUserSettingList=function(){var p=a.getUserProfilePropertyValueLists();p.fail(function(){L.error("getUserProfilePropertyValueLists failed");});return p;};this.getUserSettingListEditSupported=function(){if(typeof a.getUserProfilePropertyValueLists!=="undefined"){return true;}return false;};}U.hasNoAdapter=false;return U;},true);
sap.ui.predefine('sap/ushell/services/UserRecents',["sap/ushell/services/AppType","sap/ushell/EventHub","sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/Device","sap/ushell/utils"],function(c,E,q,L,D,u){"use strict";function R(m,f,C,l,s){var r=[],a=function(I,t){return r.some(function(o){var F;if(f(o.oItem,I)){o.oItem=I;o.iTimestamp=t;o.iCount=o.iCount+1;F=true;}else{F=false;}return F;});},i=function(I,t){var n={oItem:I,iTimestamp:t,iCount:1};if(r.length===m){r.sort(C);r.pop();}r.push(n);};this.clearAllActivities=function(){var o=new q.Deferred();s([]).done(function(b){o.resolve(b);}).fail(function(){o.reject();});return o.promise();};this.newItem=function(I){var o=new q.Deferred(),t=+new Date(),A;l().done(function(b){r=b||[];A=a(I,t);if(!A){i(I,t);}s(r).done(function(g){o.resolve(g);}).fail(function(){o.reject();});});return o.promise();};this.getRecentItems=function(){var o=new q.Deferred();l().done(function(b){b=b||[];b.sort(C);r=b.slice(0,m);o.resolve(q.map(r,function(g){return g.oItem;}));});return o.promise();};}function d(m,f,C,l,s){var M=30,r,g=function(I,t){return r.recentUsageArray.some(function(o){var F;if(f(o.oItem,I)){if((I.appType===o.oItem.appType)||(I.appType!==c.APP)){q.extend(o.oItem,I);o.iTimestamp=t;o.oItem.timestamp=t;o.mobile=undefined;o.tablet=undefined;o.desktop=undefined;if((I.appType===o.oItem.appType)||(I.appType!==c.APP&&o.oItem.appType!==c.APP)){o.aUsageArray[o.aUsageArray.length-1]+=1;o.iCount+=1;}r.recentUsageArray.sort(C);}F=true;}else{F=false;}return F;});},i=function(I,t,a){I.timestamp=t;if(a){I.icon=a;}var n={oItem:I,iTimestamp:t,aUsageArray:[1],iCount:1,mobile:undefined,tablet:undefined,desktop:undefined};if(r.recentUsageArray.length===m){r.recentUsageArray.pop();}r.recentUsageArray.unshift(n);};this.newItem=function(I){var o=new q.Deferred(),t=+new Date(),a=this.getActivityIcon(I.appType,I.icon),A,b=this,h=this.getDayFromDateObj(new Date());l().done(function(j){r=b.getRecentActivitiesFromLoadedData(j);if(h!=r.recentDay){b.addNewDay();r.recentDay=h;}A=g(I,t);if(!A){i(I,t,a);}s(r).done(function(k){E.emit("newUserRecentsItem",r);o.resolve(k);}).fail(function(){o.reject();});});return o.promise();};this.getActivityIcon=function(a,I){switch(a){case c.SEARCH:return I||"sap-icon://search";case c.COPILOT:return I||"sap-icon://co";case c.URL:return I||"sap-icon://internet-browser";default:return I||"sap-icon://product";}};this.clearAllActivities=function(){var o=new q.Deferred();s([]).done(function(a){E.emit("userRecentsCleared",Date.now());o.resolve(a);}).fail(function(){o.reject();});return o.promise();};this.getRecentItemsHelper=function(a){var t=this,o=new q.Deferred(),b,A,h,I=false,j=[],k=[],n=this.getDayFromDateObj(new Date()),p=function(v){var w=[],x=0,y;for(y=0;y<v.recentUsageArray.length&&(!a||x<a);y++){A=v.recentUsageArray[y];if(A[h]){w.push(A);x++;}}o.resolve(w);};if(D.system.desktop){h="desktop";}else if(D.system.tablet){h="tablet";}else{h="mobile";}l().done(function(v){r=t.getRecentActivitiesFromLoadedData(v);var w=false,x;if(n!=r.recentDay){t.addNewDay();r.recentDay=n;w=true;}for(b=0;b<r.recentUsageArray.length&&!I;b++){A=r.recentUsageArray[b];if(A[h]===undefined){if(!(A.oItem.url[0]==="#")){k.push(A.oItem.url);}else if(A.oItem.url.indexOf("?")>-1){x=A.oItem.url.substring(A.oItem.url.indexOf("?"));if(x.indexOf("&/")>-1){x=x.substring(0,x.indexOf("&/"));}j.push(A.oItem.appId+x);}else{j.push(A.oItem.appId);}}else{I=true;}}if(k.length>0){var y;for(b=0;b<r.recentUsageArray.length;b++){if(!(r.recentUsageArray[b].oItem.url[0]==="#")){y=r.recentUsageArray[b];y[h]=true;}}if(j.length<=0){s(r).done(function(z){o.resolve(p(r));}).fail(function(){o.reject();});}}if(j.length>0){sap.ushell.Container.getService("CrossApplicationNavigation").isIntentSupported(j).done(function(z){I=false;for(b=0;b<r.recentUsageArray.length&&!I;b++){A=r.recentUsageArray[b];if(A[h]===undefined){x="";if(A.oItem.url.indexOf("?")>-1){x=A.oItem.url.substring(A.oItem.url.indexOf("?"));if(x.indexOf("&/")>-1){x=x.substring(0,x.indexOf("&/"));}}var B=z[A.oItem.appId+x];A[h]=!!(B&&B.supported);}else if(A.oItem.url[0]==="#"){I=true;}}s(r).done(function(){o.resolve(p(r));}).fail(function(){o.reject();});}).fail(function(z){o.reject(z);});}else if((j.length<=0)&&(k.length<=0)){if(w){s(r).done(function(){o.resolve(p(r));}).fail(function(){o.reject();});}else{o.resolve(p(r));}}}).fail(function(){o.reject();});return o.promise();};this.getRecentItems=function(){var o=new q.Deferred();this.getRecentItemsHelper(30).done(function(a){o.resolve(q.map(a,function(b){return b.oItem;}));}).fail(function(){o.reject();});return o.promise();};this.getFrequentItems=function(){var o=new q.Deferred();this.getRecentItemsHelper().done(function(h){var j,w=0,F=[],A,p=h[0]?new Date(h[0].iTimestamp):undefined,k;for(j=0;j<h.length&&w<30;j++){A=h[j];if(A.iCount>1){F.push(A);}k=new Date(A.iTimestamp);if(p.toDateString()!=k.toDateString()){w++;p=k;}}F.sort(function(a,b){return b.iCount-a.iCount;});F=F.slice(0,30);o.resolve(q.map(F,function(a){return a.oItem;}));}).fail(function(){o.reject();});return o.promise();};this.addNewDay=function(){var a,b;for(a=0;a<r.recentUsageArray.length;a++){if(r.recentUsageArray[a].aUsageArray){b=r.recentUsageArray[a].aUsageArray;}else{b=[];r.recentUsageArray[a].aUsageArray=b;r.recentUsageArray[a].iCount=0;}b[b.length]=0;if(b.length>M){r.recentUsageArray[a].iCount-=b[0];b.shift();}}};this.getDayFromDateObj=function(a){return(a.getUTCFullYear()+"/"+(a.getUTCMonth()+1)+"/"+a.getUTCDate());};this.getRecentActivitiesFromLoadedData=function(a){var b;if(Array.isArray(a)){b={recentDay:null,recentUsageArray:a};}else{b=a||{recentDay:null,recentUsageArray:[]};}b.recentUsageArray=(b.recentUsageArray||[]).filter(function(A){var I=A&&A.oItem&&A.oItem.url;if(!I){L.error("FLP Recent Activity",A,"is not valid. The activity is removed from the list.");}return I;});return b;};}function e(l,s){var a,t=this,m=30;this.init=function(){var t=this,p,b=this.getDayFromDateObj(this.getCurrentDate()),f=false;if(t._oInitDeferred===undefined){t._oInitDeferred=q.Deferred();}if(!f||b!==a.recentDay){f=true;p=l();p.done(function(g){a=g||{recentDay:null,recentAppsUsageMap:{}};t.calculateInitialUsage(b);t._oInitDeferred.resolve(a);});p.fail(function(){L.error("UShell-lib ; RecentAppsUsage ; Load data in Init failed");t._oInitDeferred.reject();});}return this._oInitDeferred.promise();};this.calculateInitialUsage=function(b){var t=this;if(b!=a.recentDay){this.addNewDay();a.recentDay=b;setTimeout(function(){t.cleanUnusedHashes();},3000);this.saveAppsUsage(a);}};this.addAppUsage=function(h){if(!u.validHash(h)){return q.Deferred().reject("Non valid hash").promise();}var p=this.init();p.done(function(){var A=a.recentAppsUsageMap[h]||[];if(A.length==0){A[0]=1;}else{A[A.length-1]+=1;}a.recentAppsUsageMap[h]=A;t.saveAppsUsage(a);});p.fail(function(){L.error("Ushell-lib ; addAppUsage ; Initialization falied!");});return p;};this.getAppsUsage=function(){var r,t=this,o=q.Deferred(),p=t.init();p.done(function(){r=t.summarizeUsage();o.resolve(r);});p.fail(function(){o.reject("Not initialized yet");});return o.promise();};this.summarizeUsage=function(){var b={},h,f,g,i=true;for(h in a.recentAppsUsageMap){b[h]=this.getHashUsageSum(h);if(i){f=g=b[h];i=false;}else if(b[h]<g){g=b[h];}else if(b[h]>f){f=b[h];}}return{usageMap:b,maxUsage:f,minUsage:g};};this.addNewDay=function(){var h,A;for(h in a.recentAppsUsageMap){A=a.recentAppsUsageMap[h];A[A.length]=0;if(A.length>m){A=A.shift();}}};this.cleanUnusedHashes=function(){var b,h;for(h in a.recentAppsUsageMap){b=t.getHashUsageSum(h);if(b==0){delete(a.recentAppsUsageMap[h]);}}};this.getHashUsageSum=function(h){var b=0,f,g=a.recentAppsUsageMap[h],i=g.length;for(f=0;f<i;f++){b+=g[f];}return b;};this.saveAppsUsage=function(o){var p=s(o);p.fail(function(){L.error("Ushell-lib ; saveAppsUsage ; Save action failed");});p.done(function(){});return p;};this.getCurrentDate=function(){return new Date();};this.getDayFromDateObj=function(b){return(b.getUTCFullYear()+"/"+(b.getUTCMonth()+1)+"/"+b.getUTCDate());};}function U(){var r,o,a,A,b,p,f,s,g,h,i,l,S,j="RecentApps",k="RecentActivity",m="AppsUsage",n="RecentSearches",t="RecentDataSources",P="sap.ushell.services.UserRecents";this.addActivity=function(w){return a.newItem(w);};this.clearRecentActivities=function(){var w=new q.Deferred();a.clearAllActivities().done(function(){w.resolve();});return w.promise();};this.getRecentActivity=function(){return a.getRecentItems();};this.getFrequentActivity=function(){return a.getFrequentItems();};this.noticeDataSource=function(w){if((w&&w.objectName&&w.objectName.value&&w.objectName.value.toLowerCase()==="$$all$$")||(w.objectName&&w.objectName.toLowerCase&&w.objectName.toLowerCase()==="$$all$$")){return;}b.newItem(w);return b.getRecentItems();};this.getRecentDataSources=function(){return b.getRecentItems();};this.noticeSearch=function(w){r.newItem(w);return r.getRecentItems();};this.getRecentSearches=function(){return r.getRecentItems();};this.noticeApp=function(w){o.newItem(w);return o.getRecentItems();};this.getRecentApps=function(){return o.getRecentItems();};this.initAppsUsage=function(){A.init(new Date());};this.addAppUsage=function(w){var x=u.getBasicHash(w);A.addAppUsage(x);};this.getAppsUsage=function(){return A.getAppsUsage();};p=sap.ushell.Container.getService("Personalization");try{f=p.getPersonalizer({container:P,item:j});g=p.getPersonalizer({container:P,item:k});s=p.getPersonalizer({container:P,item:n});h=p.getPersonalizer({container:P,item:t});i=p.getPersonalizer({container:P,item:m});}catch(v){L.error("Personalization service does not work:");L.error(v.name+": "+v.message);}l=function(w){var x,y;try{x=w.getPersData();}catch(v){L.error("Personalization service does not work:");L.error(v.name+": "+v.message);y=new q.Deferred();y.reject(v);x=y.promise();}return x;};S=function(w,x){var y;try{y=w.setPersData(x);}catch(v){L.error("Personalization service does not work:");L.error(v.name+": "+v.message);}return y;};r=new R(10,function(x,y){var w=false;if(x.oDataSource&&y.oDataSource){if(x.oDataSource.objectName&&y.oDataSource.objectName){w=((x.sTerm===y.sTerm)&&(x.oDataSource.objectName.value===y.oDataSource.objectName.value));}if(!x.oDataSource.objectName&&!y.oDataSource.objectName){w=(x.sTerm===y.sTerm);}}if(!x.oDataSource&&!y.oDataSource){w=(x.sTerm===y.sTerm);}return w;},function(x,y){return y.iTimestamp-x.iTimestamp;},l.bind(this,s),S.bind(this,s));b=new R(6,function(x,y){if(x.objectName&&y.objectName){return x.objectName.value===y.objectName.value;}return false;},function(x,y){return y.iTimestamp-x.iTimestamp;},l.bind(this,h),S.bind(this,h));o=new R(6,function(x,y){return x.semanticObject===y.semanticObject&&x.action===y.action;},function(x,y){return y.iTimestamp-x.iTimestamp;},l.bind(this,f),S.bind(this,f));a=new d(500,function(x,y){if(x.appType===y.appType){if(x.appType!==c.APP){return x.url===y.url;}return x.appId===y.appId;}else if(x.appType===c.APP||y.appType===c.APP){return(x.appId===y.appId)&&(x.url===y.url);}return false;},function(x,y){return y.iTimestamp-x.iTimestamp;},l.bind(this,g),S.bind(this,g));A=new e(l.bind(this,i),S.bind(this,i));}U.hasNoAdapter=true;return U;},true);
sap.ui.predefine('sap/ushell/services/VisualizationDataProvider',["sap/ushell/resources","sap/base/util/ObjectPath"],function(r,O){"use strict";function V(){this.S_COMPONENT_NAME="sap.ushell.services.VisualizationDataProvider";this._init.apply(this,arguments);}V.prototype._init=function(l){this.oLaunchPageAdapter=l;this.oCatalogTilePromise=null;};V.prototype._getCatalogTileIndex=function(){if(this._oCatalogTileIndexPromise){return this._oCatalogTileIndexPromise;}var l=this.oLaunchPageAdapter;return l._getCatalogTileIndex();};V.prototype._getCatalogTiles=function(){if(this.oCatalogTilePromise){return this.oCatalogTilePromise;}var l=this.oLaunchPageAdapter;this.oCatalogTilePromise=new Promise(function(a,b){l.getCatalogs().then(function(c){var d=[];var C=[];var f=[];var o={};for(var i=0;i<c.length;i++){if(typeof c[i].ui2catalog==='undefined'||c[i].ui2catalog.getType()!=='REMOTE'){d.push(l.getCatalogTiles(c[i]).then(function(e){C.push(e);}));}}jQuery.when.apply(null,d).done(function(){f=[].concat.apply([],C);for(var y=0;y<f.length;y++){o[l.getCatalogTileId(f[y])]=f[y];}a(o);}).fail(b);}).fail(b);});return this.oCatalogTilePromise;};V.prototype.getVisualizationData=function(){var l=this.oLaunchPageAdapter,c;return Promise.all([this._getCatalogTiles(),this._getCatalogTileIndex()]).then(function(R){var C=R[0];var a=R[1];return Object.keys(C).reduce(function(v,i){c=C[i];var I=l.isTileIntentSupported(c);if(!I){return v;}v[i]={title:l.getCatalogTilePreviewTitle(c),subTitle:l.getCatalogTilePreviewSubtitle(c),icon:l.getCatalogTilePreviewIcon(c),info:l.getCatalogTilePreviewInfo(c),size:l.getCatalogTileSize(c),indicatorDataSource:l.getCatalogTilePreviewIndicatorDataSource(c),url:l.getCatalogTileTargetURL(c),numberUnit:l.getCatalogTileNumberUnit(c),isCustomTile:l.isCustomTile&&l.isCustomTile(c)};if(a[i]){v[i]._instantiationData={platform:"ABAP",chip:a[i],catalogTile:{baseChipId:c.getChip().getBaseChipId().replace(/\//g,"_"),contracts:{},configuration:{row:c.getConfigurationParameter("row"),col:c.getConfigurationParameter("col")}}};var t=c.getContract("types");if(t){O.set("catalogTile.contracts.types.availableTypes",t.getAvailableTypes(),v[i]._instantiationData);O.set("catalogTile.contracts.types.defaultType",t.getDefaultType(),v[i]._instantiationData);}}return v;},{});}).catch(function(e){var E={component:this.S_COMPONENT_NAME,description:r.i18n.getText("VisualizationDataProvider.CannotLoadData"),detail:e};return Promise.reject(E);}.bind(this));};V.hasNoAdapter=false;return V;});
sap.ui.predefine('sap/ushell/services/VisualizationInstantiation',["sap/ushell/services/_VisualizationInstantiation/VizInstance","sap/ushell/services/_VisualizationInstantiation/VizInstanceAbap","sap/ushell/services/_VisualizationInstantiation/VizInstanceCdm","sap/ushell/services/_VisualizationInstantiation/VizInstanceLaunchPage","sap/ushell/services/_VisualizationInstantiation/VizInstanceLink","sap/m/library","sap/ushell/library","sap/base/util/ObjectPath","sap/ushell/EventHub","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations"],function(V,a,b,c,d,M,u,O,E,r){"use strict";var L=M.LoadState;var D=u.DisplayFormat;function e(){}e.prototype.instantiateVisualization=function(v,f){var o;var p=O.get("_instantiationData.platform",v);var s=O.get(["sap.flp","vizOptions","displayFormats","supported"],f);var m=s||[D.Standard,D.Compact];var g={title:v.title,subtitle:v.subtitle,info:v.info,icon:v.icon,keywords:v.keywords,instantiationData:v._instantiationData,indicatorDataSource:v.indicatorDataSource,dataSource:v.dataSource,contentProviderId:v.contentProviderId,vizConfig:v.vizConfig,supportedDisplayFormats:m,displayFormat:this._getDisplayFormat(v.displayFormatHint,m),tileSize:O.get(["sap.flp","tileSize"],f),numberUnit:v.numberUnit,dataHelpId:v.vizId};if(g.indicatorDataSource){g.indicatorDataSource.ui5object=true;}if((p==="ABAP"||p==="CDM")&&g.displayFormat===D.Compact){this._cleanInstantiationDataForLink(g);p="LINK";}switch(p){case"ABAP":o=new a(g);break;case"CDM":o=new b(g);break;case"LINK":o=new d(g);break;case"LAUNCHPAGE":o=new c(g);break;default:return new V({state:L.Failed});}o.setTargetURL(v.targetURL);if(r.isStandardVizType(v.vizType)){try{o.load().then(function(){E.emit("VizInstanceLoaded",v.id);});}catch(h){o.setState(L.Failed);E.emit("VizInstanceLoaded",v.id);}}else{o.setState(L.Loading);E.once("CoreResourcesComplementLoaded").do(function(){try{o.load().then(function(){o.setState(L.Loaded);});}catch(h){o.setState(L.Failed);}});}return o;};e.prototype._cleanInstantiationDataForLink=function(v){delete v.info;delete v.icon;delete v.keywords;delete v.instantiationData;delete v.dataSource;delete v.contentProviderId;delete v.vizConfig;delete v.numberUnit;delete v.indicatorDataSource;delete v.tileSize;};e.prototype._getDisplayFormat=function(s,S){return S.indexOf(s)>-1?s:D.Standard;};e.hasNoAdapter=true;return e;});
sap.ui.predefine('sap/ushell/services/_AppState/AppState',["sap/base/Log","sap/ui/thirdparty/jquery"],function(L,q){"use strict";function A(S,k,m,D,a,b,t,p,P){this._oServiceInstance=S;this._sKey=k;this._sData=D;this._sAppName=a;this._sACHComponent=b;this._bTransient=t;this._bModifiable=m;this._sPersistencyMethod=p;this._oPersistencySettings=P;if(this._bModifiable){this.setData=function(o){try{this._sData=JSON.stringify(o);}catch(e){L.error("Data can not be serialized","sap.ushell.services.AppState.AppState");this._sData=undefined;}};this.save=s.bind(this);this.delete=d.bind(this);}}function s(){var D=new q.Deferred();this._oServiceInstance._saveAppState(this._sKey,this._sData,this._sAppName,this._sACHComponent,this._bTransient,this._sPersistencyMethod,this._oPersistencySettings).done(function(){D.resolve();}).fail(function(m){D.reject(m);});return D.promise();}function d(){var D=new q.Deferred();this._oServiceInstance._deleteAppState(this._sKey).done(function(){D.resolve();}).fail(function(m){D.reject(m);});return D.promise();}A.prototype.getData=function(){var o;if(this._sData===undefined||this._sData===""){return undefined;}try{o=JSON.parse(this._sData);}catch(e){L.error("Could not parse ["+this._sData+"]"+e);}return o;};A.prototype.getPersistencyMethod=function(){return this._sPersistencyMethod;};A.prototype.getPersistencySettings=function(){return this._oPersistencySettings;};A.prototype.getKey=function(){return this._sKey;};return A;});
sap.ui.predefine('sap/ushell/services/_AppState/AppStatePersistencyMethod',[],function(){"use strict";function A(){this.PersonalState="PersonalState";this.ACLProtectedState="ACLProtectedState";this.PublicState="PublicState";this.AuthorizationProtectedState="AuthorizationProtectedState";}return new A();});
sap.ui.predefine('sap/ushell/services/_AppState/LimitedBuffer',[],function(){"use strict";function L(c){this.index=-1;this.capacity=c;this.array=[];}L.prototype._clear=function(){this.array=[];this.index=-1;};L.prototype.addAsHead=function(k,v,p,P){this.index=(this.index+1)%this.capacity;this.array[this.index]={key:k,value:v,persistencyMethod:p,persistencySettings:P};};L.prototype.getByKey=function(k){var i,e;for(i=0;i<=this.capacity-1;i=i+1){e=(this.capacity+this.index-i)%this.capacity;if(this.array[e]&&this.array[e].key===k){return this.array[e];}}return undefined;};L.prototype.deleteByKey=function(k){var i,e,r=false;for(i=0;i<=this.capacity-1;i=i+1){e=(this.capacity+this.index-i)%this.capacity;if(this.array[e]&&this.array[e].key===k){delete this.array[e];r=true;}}return r;};return L;});
sap.ui.predefine('sap/ushell/services/_AppState/Sequentializer',["sap/ui/thirdparty/jquery"],function(q){"use strict";function S(){this.oLastPromise=new q.Deferred();this.oLastPromise.resolve();}S.prototype.addToQueue=function(f){var n=new q.Deferred();this.oLastPromise.always(function(){var r=f();r.done(function(){n.resolve.apply(n,arguments);}).fail(function(){n.reject.apply(n,arguments);});});this.oLastPromise=n;return n.promise();};return S;});
sap.ui.predefine('sap/ushell/services/_AppState/SequentializingAdapter',["sap/ushell/services/_AppState/Sequentializer"],function(S){"use strict";function a(u){this._oSequentializer=new S();this._oUnderlyingAdapter=u;}a.prototype.saveAppState=function(k,s,d,A,c,p,P){var f;f=this._oUnderlyingAdapter.saveAppState.bind(this._oUnderlyingAdapter,k,s,d,A,c,p,P);return this._oSequentializer.addToQueue(f);};a.prototype.loadAppState=function(k){return this._oUnderlyingAdapter.loadAppState(k);};a.prototype.deleteAppState=function(k){if(this._oUnderlyingAdapter&&this._oUnderlyingAdapter.deleteAppState){return this._oUnderlyingAdapter.deleteAppState(k);}};a.prototype.getSupportedPersistencyMethods=function(){if(this._oUnderlyingAdapter&&this._oUnderlyingAdapter.getSupportedPersistencyMethods){return this._oUnderlyingAdapter.getSupportedPersistencyMethods();}else{return[];}};return a;});
sap.ui.predefine('sap/ushell/services/_AppState/WindowAdapter',["sap/ushell/services/_AppState/LimitedBuffer","sap/base/Log","sap/ui/thirdparty/jquery"],function(L,a,q){"use strict";var W=50;var C=18;function b(){this._init.apply(this,arguments);}b.prototype._init=function(s,B,c){var i=c&&c.config&&c.config.initialAppStates||{};var I=c&&c.config&&c.config.initialAppStatesPromise;this._oServiceInstance=s;this._oBackendAdapter=B;if(!b.prototype.data){b.prototype.data=new L(W);}if(I){I.then(function(i){if(typeof i==="object"){Object.keys(i).forEach(function(k){b.prototype.data.addAsHead(k,i[k]);});}});}Object.keys(i).forEach(function(k){b.prototype.data.addAsHead(k,i[k]);});};b.prototype.saveAppState=function(k,s,d,A,c,t,p,P){this.sComponent=c;var D=new q.Deferred();b.prototype.data.addAsHead(k,d,p,P);if(this._oBackendAdapter&&!t){return this._oBackendAdapter.saveAppState(k,s,d,A,c,p,P);}D.resolve();return D.promise();};b.prototype._checkIfTransient=function(k){return k.startsWith("TAS");};b.prototype.loadAppState=function(k){var d=new q.Deferred(),c=b.prototype.data.getByKey(k);if(c){setTimeout(function(){d.resolve(k,c.value,c.persistencyMethod,c.persistencySettings);},0);return d.promise();}try{if(window.opener&&window.opener.sap&&window.opener.sap.ushell){var A=window.opener.sap.ui.require("sap/ushell/services/AppState").WindowAdapter.prototype.data.getByKey(k);if(A){d.resolve(k,A.value);return d.promise();}}}catch(e){if(e.code===C){a.warning("AppState.js - loadAppState: Opener is not of the same origin and cannot be used for AppState resolving.");}else{a.warning("AppState.js - loadAppState: Opener is a FLP but AppState could not get resolved from there.");}}if(this._oBackendAdapter&&!this._checkIfTransient(k)){this._oBackendAdapter.loadAppState(k).done(function(k,D,p,f){b.prototype.data.addAsHead(k,D);d.resolve(k,D,p,f);}).fail(d.reject.bind(d));return d.promise();}d.reject("AppState.js - loadAppState: Application State could not be loaded");return d.promise();};b.prototype.deleteAppState=function(k){var d=new q.Deferred();b.prototype.data.deleteByKey(k);if(this._oBackendAdapter&&this._oBackendAdapter.deleteAppState&&!this._checkIfTransient(k)){return this._oBackendAdapter.deleteAppState(k);}d.resolve();return d.promise();};b.prototype.getSupportedPersistencyMethods=function(){if(this._oBackendAdapter&&this._oBackendAdapter.getSupportedPersistencyMethods){return this._oBackendAdapter.getSupportedPersistencyMethods();}return[];};return b;});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/Formatter',[],function(){"use strict";function f(i){return"#"+i.semanticObject+"-"+i.action+"{"+a(i.signature)+"}";}function p(i){var m=i.match(/^#(.+?)-(.+?)({(.+)})?$/);if(!m){throw"Cannot parse inbound";}var r={semanticObject:m[1],action:m[2],signature:{parameters:{}}};if(!m[3]){return r;}r.signature=b(m[4]);return r;}function a(i){var I=i||{},P=I.parameters||{},t={optional:"[FORMAT]",required:"FORMAT"},F={regexp:"/VALUE/",reference:"@VALUE@",value:"VALUE",plain:"VALUE",_unknown:"?VALUE?"},A={allowed:"<+>",notallowed:"<->",ignored:"<o>",_unknown:"<?>"};var h=P&&Object.prototype.toString.apply(P)==="[object Object]"&&Object.keys(P).length>0;if(!h){return"<no params>"+(A[I.additionalParameters]||A._unknown);}var r=[];Object.keys(P).forEach(function(s){var o=P[s],c=o.required?"required":"optional",d=o.filter&&o.filter.value,e=o.defaultValue&&o.defaultValue.value,g=(o.filter&&o.filter.format)||"plain",j=(o.defaultValue&&o.defaultValue.format)||"plain";var v=[],k=F[g]||F._unknown,l=F[j]||F._unknown;if(d){v.push(t["required"].replace("FORMAT",k.replace("VALUE",d)));}if(e){v.push(t["optional"].replace("FORMAT",l.replace("VALUE",e)));}r.push(t[c].replace("FORMAT",s+":"+v.join("")));});return r.join(",")+(A[I.additionalParameters]||A._unknown);}function b(c){function d(v){var V=[{re:new RegExp(/^[/](.+)[/]$/),format:"regexp"},{re:new RegExp(/^[@](.+)[@]$/),format:"reference"},{re:new RegExp(/^[?](.+)[?]$/),format:"???"}].reduce(function(r,D){var m=v.match(D.re);if(r){return r;}if(!m){return null;}return{format:D.format,value:m[1]};},null);if(V){return V;}return{value:v};}function e(j){var n,k,l,m,o,w,M,q,t,O,R,N;N="<no params>";n="[^\\]\\[]";R="("+n+"+?):("+n+"*)(.*)";O="\\["+R+"\\]";t=N+"|"+O+"|"+R;q=new RegExp("^"+t+"$");o={success:false,name:null,value:{}};M=j.match(q);if(!M){return o;}w=M.shift();while(M.length>0){m=M.shift();l=M.shift();k=M.shift();if(m){o.name=m;if(l){o.value.filter=d(l);}if(k){o.value.defaultValue=d(k.replace(/\[(.+)\]/,"$1"));}o.value.required=(w.charAt(0)!=="[");}}o.success=true;return o;}function g(j){return[{"<+>":"allowed"},{"<->":"notallowed"},{"<o>":"ignored"}].reduce(function(R,o,I,k){if(R){return R;}var l=Object.keys(o)[0];if(j===l){return o[l];}return null;},null);}function s(P){var I=[];P.split(":").reduce(function(j,n,k,l){var v,N,V;if(k===0){return n;}if(k<l.length-1){V=n.split(",");if(V.length>1){N=V.pop();v=V.join(",");}else{return j+":"+n;}}else{v=n;}I.push([j,v].join(":"));return N;},"");return I;}var r={parameters:{}};var A=c.substr(c.length-3,3);var h=!!A.match(/<[?o+-]>/);var P=c;if(h){P=c.substr(0,c.length-3);}var S=s(P);S.forEach(function(j){var o=e(j);if(!o.success){throw new Error("Cannot parse parameters from "+c);}if(o.name){r.parameters[o.name]=o.value;}});if(h){var i=g(A);if(i){r.additionalParameters=g(A);}}else{r.additionalParameters="ignored";}return r;}return{formatInboundSignature:a,parseInboundSignature:b,parseInbound:p,formatInbound:f};});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/InboundIndex',["sap/base/util/ObjectPath","sap/base/Log"],function(O,L){"use strict";function g(){return this.index.all;}function a(S){if(S==="*"||S===undefined){return this.index.all;}return(this.index.segment[S]||[]).concat(this.index.always);}function b(T){return T.map(function(d){return this.index.tag[d]||[];},this).reduce(function(u,I){Array.prototype.push.apply(u,I.filter(function(o){return o.isAlreadyInUnion?false:(o.isAlreadyInUnion=true);}));return u;},[]).map(function(I){delete I.isAlreadyInUnion;return I;});}var i={getSegment:a,getAllInbounds:g,getSegmentByTags:b};function t(I,o){var T=O.get("signature.parameters.sap-tag.defaultValue.value",I);if(!T){return;}if(!o.tag[T]){o.tag[T]=[];}o.tag[T].push(I);}function s(I,o){var S=I.semanticObject;if(S==="*"){o.always.push(I);}else{if(!o.segment[S]){o.segment[S]=[];}o.segment[S].push(I);}}function c(I){var o={all:I,segment:{},always:[],tag:{}};I.forEach(function(d,e){if(!d){L.warning("Void inbound provided to indexer","the inbound will be skipped");return;}t(d,o);s(d,o);});i.index=o;return i;}return{createIndex:c,private:{tagInbound:t,createIndex:c,segmentInbound:s}};});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/InboundProvider',["sap/ushell/services/_ClientSideTargetResolution/VirtualInbounds","sap/ushell/services/_ClientSideTargetResolution/InboundIndex"],function(v,i){"use strict";function I(){this._init.apply(this,arguments);};I.prototype._init=function(r){this._fnRetrieveInbounds=r;this._oInboundsRetrievalPromise=null;};I.prototype.getInbounds=function(s){if(s){return this._getSomeInbounds(s);}return this._getAllInbounds();};I.prototype._getSomeInbounds=function(s){var t=this;return new Promise(function(r,R){t._fnRetrieveInbounds(s).done(function(a){r(i.createIndex(a.concat(v.getInbounds())));}).fail(function(){R.apply(null,arguments);});});};I.prototype._getAllInbounds=function(){var t=this;if(this._oInboundsRetrievalPromise){return this._oInboundsRetrievalPromise;}this._oInboundsRetrievalPromise=new Promise(function(r,R){t._fnRetrieveInbounds().done(function(a){r(i.createIndex((a||[]).concat(v.getInbounds())));}).fail(function(){R.apply(null,arguments);});});return this._oInboundsRetrievalPromise;};return I;});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/ParameterMapping',[],function(){"use strict";function m(M){var n={},o=M.intentParamsPlusAllDefaults;Object.keys(o).sort().forEach(function(p){var r=g(p,M.inbound.signature,o[p]);if(Array.isArray(M.intentParamsPlusAllDefaults[p])){if(n[r]){jQuery.sap.log.error("collision of values during parameter mapping : \""+p+"\" -> \""+r+"\"");}else{n[r]=M.intentParamsPlusAllDefaults[p];}}});M.mappedIntentParamsPlusSimpleDefaults=n;}function g(p,s,P){if(!P||!Array.isArray(P)){return p;}if(s&&s.parameters&&s.parameters[p]&&s.parameters[p].renameTo){return s.parameters[p].renameTo;}return p;}return{mapParameterNamesAndRemoveObjects:m,getRenameParameterName:g};},false);
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/PrelaunchOperations',["sap/base/Log","sap/ui/generic/app/navigation/service/SelectionVariant","sap/ushell/services/_ClientSideTargetResolution/Utils","sap/ushell/utils/clone"],function(L,S,c,C){"use strict";var a="sap.ushell.services.ClientSideTargetResolution.PrelaunchOperations";function _(A){if(!A){return Promise.resolve(null);}return new Promise(function(r,R){sap.ushell.Container.getService("AppState").getAppState(A).done(function(i){r(i);}).fail(function(E){R(E);});});}function b(P,M,s,i,D){if(P.startupParametersModified){M.mappedIntentParamsPlusSimpleDefaults=i;}if(P.defaultedParameterNamesModified){M.mappedDefaultedParamNames=D;}if(P.selectionVariantModified){var A=sap.ushell.Container.getService("AppState");var N=A.createEmptyAppState(undefined,true);N.setData({selectionVariant:s.toJSONObject()});return new Promise(function(r,R){N.save().done(function(){M.mappedIntentParamsPlusSimpleDefaults["sap-xapp-state"]=[N.getKey()];r(M);}).fail(function(t){R(t);});});}return Promise.resolve(M);}function d(O){var s=O.type;switch(s){case"merge":case"split":return s+" - source: "+O.source+" & target: "+O.target;case"delete":return s+" - target: "+O.target;default:return"";}}function e(P,s){if(s.getSelectOption(P)){return s.getSelectOption(P)[0].Low;}return undefined;}function f(P,s){if(s.getSelectOption(P)){return s.getSelectOption(P)[0].High;}return undefined;}function g(P,s){if(s[P]){return s[P][0];}return undefined;}function h(O,s,i){var r=O.source[0],t=O.source[1],u=e(r,s),v=e(t,s),w=g(r,i),x=g(t,i),y,z,T=O.target;function A(V,B){if(B===undefined||V===B){return V;}return undefined;}if(u&&v){y=A(u,w);z=A(v,x);}else if(w&&x){y=A(w,u);z=A(x,v);}if(y&&z&&!s.getSelectOption(T)&&!i.hasOwnProperty(T)){s.addSelectOption(T,"I","BT",y,z);return{selectionVariantModified:true,startupParametersModified:false,defaultedParameterNamesModified:false};}return{};}function j(O,s,i){var t=O.target,r=O.source;if(!s.getSelectOption(r)){L.error("Invalid split operation: "+r+" does not exist in selection variant");return false;}if(s.getSelectOption(t[0])){L.error("Invalid split operation: "+t[0]+" already exists in selection variant");return false;}if(s.getSelectOption(t[1])){L.error("Invalid split operation: "+t[1]+" already exists in selection variant");return false;}if(i[t[0]]){L.error("Invalid split operation: "+t[0]+" already exists in startup parameters");return false;}if(i[t[1]]){L.error("Invalid split operation: "+t[1]+" already exists in startup parameters");return false;}return true;}function k(O,s,i){var t=O.target,r=O.source,u=j(O,s,i);if(u){var v=e(r,s),w=f(r,s);s.addSelectOption(t[0],"I","EQ",v,null);i[t[0]]=[v];s.addSelectOption(t[1],"I","EQ",w||v,null);i[t[1]]=[w||v];return{selectionVariantModified:true,startupParametersModified:true,defaultedParameterNamesModified:false};}return{};}function l(O,s,r,D){var t=O.target,u={selectionVariantModified:false,startupParametersModified:false,defaultedParameterNamesModified:false};for(var i=0;i<t.length;i++){var T=t[i];if(T==="sap-xapp-state"){L.warning("Cannot execute delete: 'sap-xapp-state' is not allowed to be deleted");continue;}if(s.getParameter(T)){s.removeParameter(T);u.selectionVariantModified=true;}if(s.getSelectOption(T)){s.removeSelectOption(T);u.selectionVariantModified=true;}if(r[T]){delete r[T];u.startupParametersModified=true;}var v=D.indexOf(T);if(v>-1){D.splice(v,1);u.defaultedParameterNamesModified=true;}}return u;}function m(P){var i;if(P===""){return[];}try{i=JSON.parse(P);}catch(r){L.error("Cannot parse operation array: sap-prelaunch-operations should be in json format.");return[];}if(!Array.isArray(i)){L.error("Invalid operation array: sap-prelaunch-operations should be an array.");return[];}return i;}function n(P){if(P.length===0){return null;}var v={"split":true,"merge":true,"delete":true};var i=P.filter(function(O){return!v[O.type];});if(i.length>0){L.error("Invalid operation: the following sap-prelaunch-operations are invalid: "+i.join(", "));return null;}var s=P.some(function(O){return O.type==="split"&&O.target[0]===O.target[1];});if(s){L.error("Invalid operation: split operation contains the same target value. Use two different target values instead.");return null;}var I=P.some(function(O){if(O.type==="split"){return!O.hasOwnProperty("source")||!O.hasOwnProperty("target")||typeof O.source!=="string"||!Array.isArray(O.target)||Object.keys(O).length!==3||Object.keys(O.target).length!==2;}if(O.type==="merge"){return!O.hasOwnProperty("source")||!O.hasOwnProperty("target")||typeof O.target!=="string"||!Array.isArray(O.source)||Object.keys(O).length!==3||Object.keys(O.source).length!==2;}if(O.type==="delete"){return!O.hasOwnProperty("target")||!Array.isArray(O.target)||Object.keys(O).length!==2;}});if(I){L.error("Invalid operation: one or more operations are specified in an incorrect format.");return null;}return P;}function p(P){var i=m(P);return n(i);}function o(s,P,i,D){var r=c.isDebugEnabled()?[]:null,t={selectionVariantModified:false,startupParametersModified:false};P.forEach(function(O){var E={};switch(O.type){case"split":E=k(O,s,i);break;case"merge":E=h(O,s,i);break;case"delete":E=l(O,s,i,D);break;default:L.error("Invalid operation: "+O.type+" prelaunch operation type is not supported");}if(r){var I=Object.keys(E).length!==0?"\u2705":"\u274c";r.push(I+" "+d(O));}if(Object.keys(E).length===0){L.warning("Cannot execute "+d(O));}t.selectionVariantModified=t.selectionVariantModified||E.selectionVariantModified;t.startupParametersModified=t.startupParametersModified||E.startupParametersModified;t.defaultedParameterNamesModified=t.defaultedParameterNamesModified||E.defaultedParameterNamesModified;});if(r){L.debug(a+"\n"+r.join("\n"));}return t;}function q(M,P){if(!P){return Promise.resolve(M);}var s=M.mappedIntentParamsPlusSimpleDefaults,D=M.mappedDefaultedParamNames,i=s["sap-xapp-state"]&&s["sap-xapp-state"][0],r=p(P);if(!r||r.length===0){return Promise.resolve(M);}return _(i).then(function(A){var t=A?A.getData():{},u=C(s),v=C(D),w;if(t.selectionVariant){w=new S(JSON.stringify(t.selectionVariant));}else{w=new S();}var x=o(w,r,u,v);return b(x,M,w,u,v);});}return{executePrelaunchOperations:q,parseAndValidateOperations:p};});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/Search',["sap/ushell/utils","sap/ushell/services/_ClientSideTargetResolution/Utils","sap/ushell/services/_ClientSideTargetResolution/VirtualInbounds","sap/ushell/services/_ClientSideTargetResolution/Formatter","sap/ushell/TechnicalParameters","sap/base/Log","sap/ui/thirdparty/jquery"],function(u,U,v,f,t,L,q){"use strict";var A=[undefined,"GUI","WDA","UI5"];function a(M,I){var R=M.inbound.resolutionResult;if(!R){return"";}return["applicationType","ui5ComponentName","url","additionalInformation","text"].map(function(K){if(I){return R.hasOwnProperty(K)?K+":"+R[K]:"";}return R.hasOwnProperty(K)?R[K]:"";}).join("");}function b(M){return M.sort(function(s,y){if((s["sap-priority"]||0)-(y["sap-priority"]||0)!==0){return-((s["sap-priority"]||0)-(y["sap-priority"]||0));}if(s.priorityString<y.priorityString){return 1;}if(s.priorityString>y.priorityString){return-1;}var S=a(s);var z=a(y);if(S<z){return 1;}else if(S>z){return-1;}return 0;});}function e(I,M){var s;if(I&&I["sap-priority"]&&I["sap-priority"][0]){s=parseInt(I["sap-priority"][0],10);if(!isNaN(s)){M["sap-priority"]=s;}}return;}function m(V,F,K,M){var s;if(!F){return true;}if(!V&&V!==""){return false;}s=F.value;if(F.format==="reference"){if(/UserDefault\.extended\./.test(s)){L.error("Illegal inbound: extended user default '"+s+"' used as filter");return false;}if(K.hasOwnProperty(s)){return V===K[s];}M[s]=true;return true;}if(F.format==="value"||F.format==="plain"||F.format===undefined){return V===F.value;}else if(F.format==="regexp"){return!!V.match("^"+F.value+"$");}L.error("Illegal oFilter format");return false;}function g(M){return M.inbound&&M.inbound.resolutionResult&&M.inbound.resolutionResult["sap.ui"]&&M.inbound.resolutionResult["sap.ui"].technology;}function c(M){return M.inbound&&M.inbound.resolutionResult&&M.inbound.resolutionResult.appId;}function d(I,s,K,M,D){var y={},z={};Object.keys(I).forEach(function(P){if(P!=="sap-ushell-defaultedParameterNames"){y[P]=I[P];}});if(!s){return y;}Object.keys(s).forEach(function(P){var T=s[P],B,V=false;if(!y[P]&&T.hasOwnProperty("defaultValue")){if(T.defaultValue.format&&T.defaultValue.format==="reference"){B=T.defaultValue.value;if(K.hasOwnProperty(B)){if(typeof K[B]==="string"){y[P]=[K[B]];V=true;}else if(typeof K[B]==="object"){y[P]=K[B];V=true;}}else{y[P]=[T.defaultValue];M.push(T.defaultValue.value);}}else{y[P]=[T.defaultValue.value];V=true;}if(V){z[P]=true;}}});Object.keys(z).sort().forEach(function(P){D.push(P);});return y;}function h(M,I){M.resolutionResult={contentProviderId:I.contentProviderId};if(I&&I.resolutionResult&&I.resolutionResult.hasOwnProperty("sap.platform.runtime")){M.resolutionResult["sap.platform.runtime"]=I.resolutionResult["sap.platform.runtime"];}Object.keys(M.intentParamsPlusAllDefaults).slice(0).forEach(function(N){if(!Array.isArray(M.intentParamsPlusAllDefaults[N])){if(!M.resolutionResult.oNewAppStateMembers){M.resolutionResult.oNewAppStateMembers={};}M.resolutionResult.oNewAppStateMembers[N]=M.intentParamsPlusAllDefaults[N];}});}function i(R,M){R.forEach(function(s){M[s]=true;});}function j(M){var T=M.intentParamsPlusAllDefaults["sap-ui-tech-hint"]&&M.intentParamsPlusAllDefaults["sap-ui-tech-hint"][0];var I=M.defaultedParamNames&&(M.defaultedParamNames.indexOf("sap-ui-tech-hint")>=0);if(T&&g(M)===T){return I?1:2;}return 0;}function k(M){var s=M.intentParamsPlusAllDefaults["sap-ui-app-id-hint"]&&M.intentParamsPlusAllDefaults["sap-ui-app-id-hint"][0];if(s&&(s===c(M))){return 1;}return 0;}function l(M,y){function z(N){var s="000"+N;return s.substr(s.length-3);}return["AIDM="+k(M),"CURCP="+(y.isCurrentContentProvider?"1":"0"),M.genericSO?"g":"x","TECM="+j(M),"MTCH="+z(y.countMatchingParams),"MREQ="+z(y.countMatchingRequiredParams),"NFIL="+z(y.countMatchingFilterParams),"NDEF="+z(y.countDefaultedParams),"POT="+z(y.countPotentiallyMatchingParams),"RFRE="+z(999-y.countFreeInboundParams),"TECP="+n(M)].join(" ");}function n(M){var T=g(M);var P=A.indexOf(T);return Math.max(0,P);}function o(I,s){var y=false;if(I.signature.additionalParameters==="allowed"||I.signature.additionalParameters==="ignored"){return true;}if(I.signature.additionalParameters==="notallowed"||I.signature.additionalParameters===undefined){y=Object.keys(s).every(function(P){return!((!I.signature.parameters[P]&&P.indexOf("sap-")!==0));});}else{L.error("Unexpected value of inbound for signature.additionalParameters");}return y;}function p(I,s,K,C,D){function y(N,M,B){var E=f.formatInbound(B);N[E]=M.noMatchReason+(M.noMatchDebug?"| DEBUG: "+M.noMatchDebug:"");}var z=C?C():new q.Deferred().resolve(null).promise();return z.then(function(B){var M=s.reduce(function(R,E){var F=E.contentProviderId||"";var G=K[F]||{};if(!R.missingReferences[F]){R.missingReferences[F]={};}var H=x(I,E,G,R.missingReferences[F],B?B[F]:null);if(H.matches){R.matchResults.push(H);}else if(D){y(R.noMatchReasons,H,E);}return R;},{matchResults:[],noMatchReasons:{},missingReferences:{}});return q.when(M);});}function r(I,s,y,D,K,M){var S=Object.keys(I).every(function(P){var V=s[P],z=V&&V[0],B=I[P];if(B.required&&(z===null||z===undefined)){return false;}if(B.filter){if(!m(z,B.filter,K,M)){return false;}}return true;});return S;}function w(I,s,y,D,z){var B=I.signature.parameters,C=0,E=0,F=0,G=0,H=false,S={};function J(P){return!t.isTechnicalParameter(P);}var K=Object.keys(y).filter(J);var M=D.filter(J);Object.keys(B).filter(J).forEach(function(P){var V=s[P],O=V&&V[0],Q=B[P],R=y.hasOwnProperty(P);if(R){++C;if(Q.filter){++F;}if(Q.required){++E;}}else if(O===null||O===undefined){++G;}});if(z){S.countPotentiallyMatchingParams=K.filter(function(O){return B.hasOwnProperty(O);}).length;}else{S.countPotentiallyMatchingParams=K.length;}if(y&&y["sap-app-origin-hint"]&&(y["sap-app-origin-hint"][0]||y["sap-app-origin-hint"][0]==="")){var N=y["sap-app-origin-hint"][0];H=N===I.contentProviderId;}S.countDefaultedParams=M.length;S.countMatchingParams=C;S.countMatchingRequiredParams=E;S.countMatchingFilterParams=F;S.countFreeInboundParams=G;S.isCurrentContentProvider=H;return S;}function x(I,s,K,M,S){var y={inbound:s};function N(_,a1,b1){_.matches=false;_.noMatchReason=a1;_.noMatchDebug=b1;return _;}function z(_){_.matches=true;_.matchesVirtualInbound=v.isVirtualInbound(s);_.parsedIntent=I;return _;}var B=s.semanticObject==="*";y.genericSO=B;var C=I.semanticObject===undefined||I.semanticObject===s.semanticObject||B;if(!C){return N(y,"Semantic object \""+I.semanticObject+"\" did not match");}var D=I.action===undefined||I.action===s.action;if(!D){return N(y,"Action \""+I.action+"\" did not match");}var F=!s.deviceTypes||I.formFactor===undefined||s.deviceTypes[I.formFactor];if(!F){return N(y,"Form factor \""+I.formFactor+"\" did not match","Inbound: ["+Object.keys(s.deviceTypes).filter(function(_){return!!s.deviceTypes[_];}).join(", ")+"]");}var T=I.params&&I.params["sap-ui-tech-hint"]&&I.params["sap-ui-tech-hint"][0];if(I.treatTechHintAsFilter&&T){var E=g({inbound:s});if(E!==T){return N(y,"Tech Hint as filter \""+T+"\" did not match","Inbound: ["+E+"]");}}var R=[],G=[],H=I.params||{};var J=d(H,s.signature&&s.signature.parameters,K,R,G);var O=J["sap-system"]&&J["sap-system"][0],P=s.contentProviderId;if(O&&typeof P==="string"&&S&&!S[O]){return N(y,"Data origin \""+O+"\" is not compatible with the content provider \""+P+"\"","Inbound: ["+Object.keys(S).join(", ")+"]");}y.intentParamsPlusAllDefaults=J;y.defaultedParamNames=G;e(J,y);var Q=r(s.signature.parameters,J,H,G,K,M);if(!Q){return N(y,"Inbound parameter signature did not match",f.formatInboundSignature(s.signature));}var V=U.constructParameterDominatorMap(s.signature.parameters);var W=U.findDominatedDefaultParameters(J,G,V);var X=G.filter(function(_){return!W[_];});var Y=U.filterObjectKeys(J,function(_){return!W[_];});if(!o(s,Y)){return N(y,"Additional parameters not allowed",f.formatInboundSignature(s.signature));}var Z=s.signature.additionalParameters==="ignored";if(Z){U.filterObjectKeys(Y,function(_){if(_.indexOf("sap-")===0){return true;}if(s.signature.parameters.hasOwnProperty(_)){return true;}return false;},true);}var $=w(s,J,H,G,Z);h(y,s);y.intentParamsPlusAllDefaults=Y;y.defaultedParamNames=X;y.priorityString=l(y,$);i(R,M);return z(y);}return{match:p,matchOne:x,sortMatchingResultsDeterministic:b,matchesFilter:m,checkAdditionalParameters:o,addDefaultParameterValues:d,extractSapPriority:e,serializeMatchingResult:a};});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/StagedLogger',["sap/ushell/services/_ClientSideTargetResolution/Utils"],function(u){"use strict";var _={};function b(g){var L,o,s=g();if(!s.hasOwnProperty("logId")){throw new Error("'logId' argument was not provided in #begin method of StagedLogger.");}L=s.logId;if(_[L]){throw new Error("'cannot call #begin twice with same log id: '"+L+"'");}else{_[L]={};}o=_[L];o.title=s.title||null;o.moduleName=s.moduleName||null;var r=function(c,n){if(n===1){return c;}return r(c,n-1)+c;};o.stages=s.stages.map(function(S){return[S,r("-",S.length)];});return L;}function l(g){var L,c,s,d,p,S,n,A;A=g();if(!A.hasOwnProperty("logId")){throw new Error("'logId' argument was not provided in #log method of StagedLogger.");}L=A.logId;S=A.stage;p=A.prefix;d=A.lines;s=A.line;n=A.number;if(!d&&s&&p){s=p+" "+s;}c=_[L].stages[S-1];if(s){c.push(s);}if(d){if(p){p=(s?" ":"")+p;}var f=d.map(function(s,i){return(n?(i+1):"")+(p?p+" ":"")+s;});c.push.apply(c,f);}}function e(g){var A,L,s;A=g();if(!A.hasOwnProperty("logId")){throw new Error("'logId' argument was not provided in #log method of StagedLogger.");}s=A.logId;L=_[s];if(typeof L!=="object"){throw new Error("Logger .end was called on an already ended logger");}var c=L.stages.map(function(S){return S.join("\n");}).join("\n\n");jQuery.sap.log.debug("[REPORT #"+s+"] "+L.title,"\n"+c+"\n",L.moduleName);delete _[s];}function a(){return _;}return{begin:function(){if(!u.isDebugEnabled()){return;}b.apply(null,arguments);},log:function(){if(!u.isDebugEnabled()){return;}l.apply(null,arguments);},end:function(){if(!u.isDebugEnabled()){return;}e.apply(null,arguments);},_getLogs:a};});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/SystemContext',["sap/base/util/ObjectPath","sap/ui/thirdparty/URI"],function(O,U){"use strict";var S={};S._getProtocol=function(){return new U(window.location.toString()).protocol();};S.createSystemContextFromSystemAlias=function(s){return{id:s.id,label:s.label||s.id,getFullyQualifiedXhrUrl:function(p){var P=new U(p).protocol();if(P==="http"||P==="https"){return p;}var a=this._getProtocol();var b="";if(a==="https"){b=O.get("https.xhr.pathPrefix",s)||"";}else if(a==="http"){b=O.get("http.xhr.pathPrefix",s)||"";}if(b){return U.joinPaths(b,p).path();}return p;}.bind(this),getProperty:function(p){var a=O.get("properties",s)||{};return a[p];}};};return S;});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/Utils',["sap/ui/thirdparty/jquery","sap/base/Log"],function(q,L,v,f){"use strict";function a(I,D,p){var o={};D.forEach(function(s){var h=p[s].dominatedBy;var j=h.some(function(k){var l=!!I[k];var m=k!==s;var n=D.indexOf(k)===-1;return l&&n&&m;});if(j){o[s]=true;}});return o;}function c(p){var D={},r={};Object.keys(p).forEach(function(k){var R=p[k].renameTo||k;r[R]=r[R]||{"renameTo":R,"dominatedBy":[]};r[R].dominatedBy.push(k);r[R].dominatedBy=r[R].dominatedBy.sort();D[k]=r[R];});return D;}function b(o,F,I){var O=I?o:q.extend(true,{},o);Object.keys(O).forEach(function(k){if(F(k)===false){delete O[k];}});return O;}function d(o,F){var h;h=Object.keys(o).reduce(function(h,k){var V=o[k];if(F(k,V)){h[k]=V;}return h;},{});return h;}function w(h){if(i()){h.call(null);}}function i(){var C=L.getLevel();if(C>=L.Level.DEBUG){return true;}return false;}function e(I,p){return p.every(function(P){var o,O,s;s=P.name;O=P.options;o=I[s];return Object.keys(O).every(function(h){var j=O[h];if(h==="required"){return!!(o||{}).required===j;}return false;});});}function g(p,W){var E={};p.forEach(function(P){if(W[P]){E[P]=W[P];delete W[P];}});return E;}return{inboundSignatureMeetsParameterOptions:e,filterObjectKeys:b,filterObject:d,constructParameterDominatorMap:c,findDominatedDefaultParameters:a,whenDebugEnabled:w,isDebugEnabled:i,extractParameters:g};});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/VirtualInbounds',[],function(){"use strict";var v={};var A=[{hideIntentLink:true,semanticObject:"Action",action:"search",deviceTypes:{desktop:true,tablet:true,phone:true},signature:{parameters:{},additionalParameters:"notallowed"},resolutionResult:{applicationType:"SAPUI5",ui5ComponentName:"sap.ushell.renderers.fiori2.search.container",additionalInformation:"SAPUI5.Component=sap.ushell.renderers.fiori2.search.container",url:sap.ui.require.toUrl("sap/ushell/renderers/fiori2/search/container"),loadCoreExt:true,loadDefaultDependencies:false}},{hideIntentLink:true,semanticObject:"FLPPageTemplate",action:"manage",deviceTypes:{desktop:true,tablet:false,phone:false},signature:{parameters:{pageId:{required:false,defaultValue:{value:""}},mode:{required:false,defaultValue:{value:"view"}}},additionalParameters:"notallowed"},resolutionResult:{applicationType:"URL",ui5ComponentName:"nw.core.flp.pagecomposer.conf",additionalInformation:"SAPUI5.Component=nw.core.flp.pagecomposer.conf",url:"/sap/bc/ui5_ui5/sap/sui_paget_man",applicationDependencies:{manifest:"/sap/bc/lrep/content/apps/nw.core.flp.pagecomposer.conf/app/sap/sui_paget_man/manifest.appdescr",name:"nw.core.flp.pagecomposer.conf",self:{name:"nw.core.flp.pagecomposer.conf",url:"/sap/bc/ui5_ui5/sap/sui_paget_man"},asyncHints:{libs:[{name:"nw.core.flp.transport.cust",url:{final:false,url:"/sap/bc/ui5_ui5/sap/sui_tr_cust"}}]}},async:true,loadDefaultDependencies:false}}];v.isVirtualInbound=function(i){return A.some(function(V){return V===i;});};v.getInbounds=function(){return A;};return v;});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/XAppStateProcessing',["sap/ushell/utils","sap/ushell/services/_ClientSideTargetResolution/Utils","sap/ushell/navigationMode","sap/ushell/services/AppConfiguration","sap/ushell/Config","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath","sap/base/util/isEmptyObject","sap/base/util/isPlainObject","sap/ui/generic/app/navigation/service/SelectionVariant"],function(u,c,n,a,C,q,O,i,b,S){"use strict";function m(M,A){var D=new q.Deferred(),N,R=M.resolutionResult,t=M.inbound&&(M.inbound.signature||{}),v=h(R)||t.additionalParameters==="ignored"||k(M);if(!v){e(D,M);return D.promise();}var w=M.intentParamsPlusAllDefaults["sap-xapp-state"]&&M.intentParamsPlusAllDefaults["sap-xapp-state"][0];if(w){s(A,w).then(p).then(function(V){if(h(R)){var P=c.constructParameterDominatorMap(t.parameters);Object.keys(R.oNewAppStateMembers).forEach(function(x){var y=P[x].dominatedBy;if(g(V,y)){delete R.oNewAppStateMembers[x];}});}var I=t.additionalParameters==="ignored";if(!h(R)&&!k(M)&&!I){e(D,M);return;}N=A.createEmptyAppState(undefined,true);if(N){N.setData(V);d(N,M,D);}},function(){delete R.oNewAppStateMembers;e(D,M);return;});return D.promise();}if(h(R)){var E=A.createEmptyAppState(undefined,true);d(E,M,D);return D.promise();}e(D,M);return D.promise();}function d(N,M,D){var t=N.getData()||{},v,w={},x=M.inbound.signature,R=M.resolutionResult;if(t.selectionVariant){v=new S(JSON.stringify(t.selectionVariant));}else{v=new S();}if(h(R)){Object.keys(R.oNewAppStateMembers).forEach(function(y){v.massAddSelectOption(y,R.oNewAppStateMembers[y].Ranges);});}var I=x.additionalParameters==="ignored";v=r(v,w,x.parameters,I);if(v.getParameterNames().length!==0||v.getSelectOptionsPropertyNames().length!==0||w.deleted){t.selectionVariant=v.toJSONObject();}if(!w.changed&&!w.deleted&&!h(R)){e(D,M);return;}N.setData(t);N.save().done(function(){M.intentParamsPlusAllDefaults["sap-xapp-state"]=[N.getKey()];M.mappedIntentParamsPlusSimpleDefaults["sap-xapp-state"]=[N.getKey()];e(D,M);});}function e(D,M){var N;l(M);o(M);N=n.compute(O.get("inbound.resolutionResult.applicationType",M),(M.intentParamsPlusAllDefaults["sap-ushell-next-navmode"]||[])[0],(M.intentParamsPlusAllDefaults["sap-ushell-navmode"]||[])[0],(a.getCurrentApplication()||{}).applicationType,C.last("/core/navigation/enableInPlaceForClassicUIs"));u.shallowMergeObject(M.resolutionResult,N);delete M.resolutionResult.oNewAppStateMembers;D.resolve(M);}function h(R){return R.oNewAppStateMembers&&!i(R.oNewAppStateMembers);}function f(L,P){return Array.isArray(L)&&L.some(function(M){return(P.indexOf(M)!==-1);});}function g(A,P){if(A&&A.selectionVariant){var t=new S(JSON.stringify(A.selectionVariant)),v=(t.getSelectOptionsPropertyNames()||[]),w=(t.getParameterNames()||[]);if(f(v,P)||f(w,P)){return true;}}return false;}function r(t,R,P,I){var v=new S(),w=(t.getParameterNames()||[]),x=(t.getSelectOptionsPropertyNames()||[]),y,z;w.forEach(function(A){y=t.getParameter(A);if(I&&!P[A]){R.deleted=true;return;}if(P[A]&&P[A].renameTo){if((v.getParameter(P[A].renameTo)===undefined)&&(v.getSelectOption(P[A].renameTo)===undefined)){v.addParameter(P[A].renameTo,y);R.changed=true;}else{q.sap.log.error("renaming of appstate creates duplicates "+A+"->"+P[A].renameTo);}}else if((v.getParameter(A)===undefined)&&(v.getSelectOption(A)===undefined)){v.addParameter(A,y);}});x.forEach(function(A){z=t.getSelectOption(A);if(I&&!P[A]){R.deleted=true;return;}if(P[A]&&P[A].renameTo){if((v.getSelectOption(P[A].renameTo)===undefined)&&(v.getParameter(P[A].renameTo)===undefined)){v.massAddSelectOption(P[A].renameTo,z);R.changed=true;}else{q.sap.log.error("renaming of appstate creates duplicates "+A+"->"+P[A].renameTo);}}else if((v.getSelectOption(A)===undefined)&&(v.getParameter(A)===undefined)){v.massAddSelectOption(A,z);}});w.forEach(function(A){t.removeParameter(A);});x.forEach(function(A){t.removeSelectOption(A);});v.getParameterNames().forEach(function(A){t.addParameter(A,v.getParameter(A));});v.getSelectOptionsPropertyNames().forEach(function(A){t.massAddSelectOption(A,v.getSelectOption(A));});return t;}function j(D){if(D===undefined||b(D)){return false;}return true;}function k(M){return M.inbound&&M.inbound.signature&&M.inbound.signature.parameters&&Object.keys(M.inbound.signature.parameters).some(function(K){return!!(M.inbound.signature.parameters[K].renameTo);});}function l(M){M.defaultedParamNames=M.defaultedParamNames.filter(function(N){if(M.intentParamsPlusAllDefaults[N]&&!Array.isArray(M.intentParamsPlusAllDefaults[N])){if(!(M.resolutionResult.oNewAppStateMembers&&M.resolutionResult.oNewAppStateMembers[N])){return false;}}return true;});}function o(M){var P=(O.get("inbound.signature.parameters",M)||{}),t={};M.defaultedParamNames.forEach(function(N){var v=(P[N]&&P[N].renameTo)||N;if(t[v]){q.sap.log.error("renaming of defaultedParamNames creates duplicates"+N+"->"+v);}else{t[v]=true;}});M.mappedDefaultedParamNames=Object.keys(t).sort();}function p(A){if(j(A)){return Promise.reject();}return Promise.resolve(A);}function s(A,t){return new Promise(function(R,v){A.getAppState(t).done(function(w){R(w.getData());}).fail(function(E){v(E);});});}return{mixAppStateIntoResolutionResultAndRename:m,_hasRenameTo:k};});
sap.ui.predefine('sap/ushell/services/_CommonDataModel/PersonalizationProcessor',["sap/ui/thirdparty/jquery","sap/base/util/isEmptyObject","sap/base/Log","sap/base/util/ObjectPath"],function(q,i,L,O){"use strict";function P(){}P.prototype._getItemIndex=function(I,s){var r;for(r=0;r<I.length;r++){if(I[r].id===s){break;}}r=(r>=I.length)?-1:r;return r;};P.prototype._applyRenameGroup=function(g,n,o){var G,b=false;if(!n){return false;}if(g&&o&&o.groups&&o.groups[g]){G=o.groups[g];if(G.identification&&G.identification.title){o.groups[g].identification.title=n;b=true;}}return b;};P.prototype._applyGroupVisibility=function(g,G,o){var b=false;if(G===undefined){return false;}if(g&&o&&o.groups&&o.groups[g]){o.groups[g].identification.isVisible=G;b=true;}return b;};P.prototype.mixinPersonalization=function(o,p){var d=new q.Deferred(),t=this;if(!p||i(p)){return d.resolve(o).promise();}if(p.groups){Object.keys(p.groups).forEach(function(g){var G=p.groups[g];if(o.groups[g]){if(G.identification){if(G.identification.title){t._applyRenameGroup(g,G.identification.title,o);}if(G.identification.hasOwnProperty("isVisible")&&G.identification.isVisible===false){t._applyGroupVisibility(g,false,o);}}}});}this._applyAddGroups(o,p);if(p.removedGroups&&Array.isArray(p.removedGroups)){p.removedGroups.forEach(function(g){t._applyRemoveGroup(o,g);});}this._applyMoveGroup(o,p);this._applyItemChanges(o,p);this._applyTileSettings(o,p);return d.resolve(o).promise();};P.prototype._applyAddGroups=function(o,p){var n=[];o.site=o.site||{};o.site.payload=o.site.payload||{};o.site.payload.groupsOrder=o.site.payload.groupsOrder||[];o.groups=o.groups||{};if(Array.isArray(p.groupOrder)){o.site.payload.groupsOrder.forEach(function(g){if(p.groupOrder.indexOf(g)===-1){if((p.removedGroups&&p.removedGroups.indexOf(g)===-1)||!p.removedGroups){n.push(g);}}});}if(Array.isArray(p.groupOrder)&&p.addedGroups&&Object.keys(p.addedGroups).length>0){Object.keys(p.addedGroups).forEach(function(g){o.groups[g]=p.addedGroups[g];o.groups[g].payload.isPreset=false;});o.site.payload.groupsOrder=p.groupOrder;}n.forEach(function(N){o.site.payload.groupsOrder.push(N);});};P.prototype._checkRenameGroup=function(g,p,o,a){if(g&&p&&o){if(o[g]){if(p[g].identification.title!==o[g].identification.title){a=a||{};a.groups=a.groups||{};a.groups[g]=a.groups[g]||{};a.groups[g].identification=a.groups[g].identification||{};a.groups[g].identification.title=p[g].identification.title;}}}return a;};P.prototype._applyTileSettings=function(s,p){var g,m;if(!p.modifiedTiles){return;}g=Object.keys(s.groups).map(function(k){return this[k];},s.groups);m=Object.keys(p.modifiedTiles).map(function(k){return this[k];},p.modifiedTiles);g.some(function(G){["tiles","links"].forEach(function(t){if(G.payload[t]){G.payload[t].some(function(T){var a;m.some(function(u,I){if(u.id===T.id){if(u.title!==undefined){T.title=u.title;}if(u.subTitle!==undefined){T.subTitle=u.subTitle;}if(u.info!==undefined){T.info=u.info;}if(u.displayFormatHint!==undefined){T.displayFormatHint=u.displayFormatHint;}a=I;return true;}return false;});if(a!==undefined){m.splice(a,1);}return m.length===0;});}});return m.length===0;});};P.prototype._checkGroupVisibility=function(g,p,o,a){if(g&&p&&o){if(o[g]){if(p[g].identification.isVisible!==o[g].identification.isVisible&&typeof p[g].identification.isVisible==="boolean"){a=a||{};a.groups=a.groups||{};a.groups[g]=a.groups[g]||{};a.groups[g].identification=a.groups[g].identification||{};a.groups[g].identification.isVisible=p[g].identification.isVisible;}}}return a;};P.prototype._addGroupToPersonalizationDelta=function(p,o,g){var s=false,G,n;if(p&&p.site&&p.site.payload&&p.site.payload.groupsOrder&&p.groups&&g&&p.groups[g]&&o){G=p.site.payload.groupsOrder;n=p.groups[g];o.addedGroups=o.addedGroups||{};o.addedGroups[g]={};o.addedGroups[g].identification=q.extend({},n.identification);o.addedGroups[g].payload=q.extend({},n.payload);o.addedGroups[g].payload.tiles=[];o.addedGroups[g].payload.links=[];o.groupOrder=G;s=true;}return s;};P.prototype.extractPersonalization=function(p,o){var d=new q.Deferred(),a,b={},c,e,t=this;if(p&&p.groups&&o&&o.groups){a=p.groups;c=o.groups;e=this._getExtractHelperObject(o,p,b);Object.keys(c).forEach(function(g){t._checkRemoveGroup(p,b,g);t._extractFromOriginalSiteOneGroup(o,e,g,"tiles");t._extractFromOriginalSiteOneGroup(o,e,g,"links");});Object.keys(a).forEach(function(g){if(c[g]){t._checkRenameGroup(g,a,c,b);t._checkGroupVisibility(g,a,c,b);}else{t._addGroupToPersonalizationDelta(p,b,g);}t._extractFromPersonalizedSiteOneGroup(p,e,g,"tiles");t._extractFromPersonalizedSiteOneGroup(p,e,g,"links");});this._checkMoveGroup(p,o,b);this._cleanupRemovedGroups(o,b);if(e.oPersonalizationDelta.movedTiles&&i(e.oPersonalizationDelta.movedTiles)){delete(e.oPersonalizationDelta.movedTiles);}if(e.oPersonalizationDelta.movedLinks&&i(e.oPersonalizationDelta.movedLinks)){delete(e.oPersonalizationDelta.movedLinks);}}if(o._version){b._version=o._version;}return d.resolve(b).promise();};P.prototype._checkRemoveGroup=function(p,o,s){var S=false;if(p&&p.groups&&o&&s){if(!p.groups[s]){o.removedGroups=o.removedGroups||[];o.groupOrder=o.groupOrder||[];if(o.removedGroups.indexOf(s)===-1){o.removedGroups.push(s);}if(p.site&&p.site.payload&&p.site.payload.groupsOrder&&Array.isArray(p.site.payload.groupsOrder)){o.groupOrder=p.site.payload.groupsOrder.slice(0);}}S=true;}return S;};P.prototype._applyRemoveGroup=function(o,g){var a,G,b;if(o&&o.groups&&o.site&&o.site.payload&&o.site.payload.groupsOrder&&g){a=o.groups;G=o.site.payload.groupsOrder;b=G.indexOf(g);if(!(b===-1)){G.splice(b,1);delete(a[g]);return true;}}return false;};P.prototype._checkMoveGroup=function(p,o,a){var b,c,d=false,s=false;if(p.site&&p.site.payload&&Array.isArray(p.site.payload.groupsOrder)&&o.site&&o.site.payload&&Array.isArray(o.site.payload.groupsOrder)){b=p.site.payload.groupsOrder;c=o.site.payload.groupsOrder;if(b.length===c.length){d=(function(){var S=false,I;for(I=0;I<c.length;I++){if(c[I]!==b[I]){S=true;break;}}return S;})();if(d){a.groupOrder=b;s=true;}}}return s;};P.prototype._applyMoveGroup=function(o,p){var s=false;if(Array.isArray(p.groupOrder)){o.site=o.site||{};o.site.payload=o.site.payload||{};if(!Array.isArray(o.site.payload.groupsOrder)){o.site.payload.groupsOrder=[];}if(o.site.payload.groupsOrder.length===p.groupOrder.length){o.site.payload.groupsOrder=p.groupOrder;s=true;}}return s;};P.prototype._getHashedItemsFromSite=function(s){var r=null;if(s&&s.groups){if(Object.keys(s.groups).length>0){r={};Object.keys(s.groups).forEach(function(g){var G=s.groups[g],a;r[g]={};if(G.payload){["tiles","links"].forEach(function(t){r[g][t]={};if(Array.isArray(G.payload[t])){a=G.payload[t];a.forEach(function(I,b){var c;if(I&&I.id){c=I.id;r[g][t][c]={iIndex:b,sItemId:I};}});}});}});}}return r;};P.prototype._getExtractHelperObject=function(o,p,a){var r=null;r={};r.oHashedItemsOriginal=this._getHashedItemsFromSite(o)||{};r.oHashedItemsPersonalized=this._getHashedItemsFromSite(p);r.oPersonalizationDelta=a;return r;};P.prototype._extractFromOriginalSiteOneGroup=function(o,e,g,I){var s=false,a,m,M,p="movedTiles";I=I||"tiles";if(I!=="tiles"){p="movedLinks";}M=function(b,f){m[b]=m[b]?m[b]:{};m[b].fromGroup=f;m[b].toGroup=null;};if(e&&e.oHashedItemsPersonalized&&e.oPersonalizationDelta&&o&&o.groups&&o.groups[g]&&o.groups[g].payload&&Array.isArray(o.groups[g].payload[I])){a=o.groups[g].payload[I];e.oPersonalizationDelta[p]=e.oPersonalizationDelta[p]?e.oPersonalizationDelta[p]:{};m=e.oPersonalizationDelta[p];if(e.oHashedItemsPersonalized[g]){a.forEach(function(b){if(!e.oHashedItemsPersonalized[g][I][b.id]){M(b.id,g);}});s=true;}else{a.forEach(function(b){M(b.id,g);});s=true;}}return s;};P.prototype._extractPersonalizationDeltaForTile=function(p,e,g,I){var o=O.get(["oHashedItemsOriginal",g,I,p.id,"sItemId"],e);if(!o){return false;}var m={};if(p.title!==o.title){m.title=p.title;}if(p.subTitle!==o.subTitle){m.subTitle=p.subTitle;}if(p.info!==o.info){m.info=p.info;}if(p.displayFormatHint!==o.displayFormatHint&&!(p.displayFormatHint==="default"&&!o.displayFormatHint)){m.displayFormatHint=p.displayFormatHint;}if(i(m)){return false;}if(!e.oPersonalizationDelta.modifiedTiles){e.oPersonalizationDelta.modifiedTiles={};}var M=e.oPersonalizationDelta.modifiedTiles;m.id=p.id;M[p.id]=m;return true;};P.prototype._extractFromPersonalizedSiteOneGroup=function(p,e,g,I){var s=false,m,t,T=false,a,b=this,c="movedTiles";I=I||"tiles";if((I!=="tiles")&&(I!=="links")){return s;}if(I!=="tiles"){c="movedLinks";}if(e&&e.oPersonalizationDelta&&p&&p.groups&&p.groups[g]&&p.groups[g].payload&&Array.isArray(p.groups[g].payload[I])){a=p.groups[g].payload[I];e.oPersonalizationDelta[c]=e.oPersonalizationDelta[c]?e.oPersonalizationDelta[c]:{};m=e.oPersonalizationDelta[c];t=[];a.forEach(function(o,d){if(!o){return;}t.push(o.id);if(e.oHashedItemsOriginal[g]&&e.oHashedItemsOriginal[g][I][o.id]){if(m[o.id]){L.error("Extract personalization failed","The Tile ID "+o.id+" is not unique in the site","PersonalizationProcessor");delete(m[o.id]);}if(e.oHashedItemsOriginal[g][I][o.id].iIndex!==d){T=true;}b._extractPersonalizationDeltaForTile(o,e,g,I);}else{T=true;if(m[o.id]){if(m[o.id].fromGroup&&(m[o.id].fromGroup!==g)){if(!m[o.id].toGroup){m[o.id].toGroup=g;b._extractPersonalizationDeltaForTile(o,e,m[o.id].fromGroup,I);}}}else{m[o.id]={};m[o.id].fromGroup=null;m[o.id].toGroup=g;m[o.id].item=o;}}});if(T){e.oPersonalizationDelta.groups=e.oPersonalizationDelta.groups||{};e.oPersonalizationDelta.groups[g]=e.oPersonalizationDelta.groups[g]||{};e.oPersonalizationDelta.groups[g].payload=e.oPersonalizationDelta.groups[g].payload||{};if(I==="tiles"){e.oPersonalizationDelta.groups[g].payload.tileOrder=t;}else{e.oPersonalizationDelta.groups[g].payload.linkOrder=t;}}s=true;}return s;};P.prototype._cleanupRemovedGroups=function(o,p){var I,m;if(p.removedGroups&&p&&Array.isArray(p.removedGroups)&&(p.removedGroups.length>0)){p.removedGroups.forEach(function(g){if(o&&o.groups&&o.groups[g]&&o.groups[g].payload){[{sType:"tiles",sPersonalizationDeltaType:"movedTiles"},{sType:"links",sPersonalizationDeltaType:"movedLinks"}].forEach(function(t){if(Array.isArray(o.groups[g].payload[t.sType])){I=o.groups[g].payload[t.sType];I.forEach(function(a){if(p[t.sPersonalizationDeltaType]){m=p[t.sPersonalizationDeltaType][a.id];if(m&&m.fromGroup&&(m.fromGroup===g)&&!m.toGroup){delete(p[t.sPersonalizationDeltaType][a.id]);}}});}});}});}};P.prototype._setItemOrderOnSiteCollection=function(o,I){var s=true,S=o.length,a,b={},c,C,d,f;if(!Array.isArray(o)||!Array.isArray(o)||(o.length!==I.length)){return false;}a=o.splice(0,o.length);for(c=0;c<I.length;c++){d=I[c];C=a.shift();if(C&&d===C.id){o.push(C);}else if(b[d]){o.push(b[d]);delete(b[d]);if(C){b[C.id]=C;}}else if(C){b[C.id]=C;f=false;while(a.length>0){C=a.shift();if(d===C.id){o.push(C);f=true;break;}else{b[C.id]=C;}}if(!f){s=false;}}}if(o.length!==S){s=false;}return s;};P.prototype._setItemOrderOnSiteGroupForItemType=function(o,d,I){var s=true,t,a;if((I==="tiles")||(I==="links")){a=(I==="tiles")?"tileOrder":"linkOrder";}else{return false;}if(d.payload&&Array.isArray(d.payload[a])&&(d.payload[a].length>0)){if(o.payload&&Array.isArray(o.payload[I])&&(o.payload[I].length>0)){t=this._setItemOrderOnSiteCollection(o.payload[I],d.payload[a]);if(!t){s=false;}}else{s=false;}}return s;};P.prototype._setItemOrderOnSite=function(o,p){var s=true,t,a=this;if(o.groups&&p.groups){Object.keys(p.groups).forEach(function(g){if(p.groups[g]&&o.groups[g]){t=a._setItemOrderOnSiteGroupForItemType(o.groups[g],p.groups[g],"tiles");if(!t){s=false;}t=a._setItemOrderOnSiteGroupForItemType(o.groups[g],p.groups[g],"links");if(!t){s=false;}}});}return s;};P.prototype._applyMoveItemsWithoutOrder=function(o,p,I){var s=true,t,T,a="tileOrder",d,b,c,e=[],f=this;function g(C,G){var s=true;if(o.groups[G]&&o.groups[G].payload&&p.groups&&p.groups[G]&&p.groups[G].payload&&Array.isArray(p.groups[G].payload[a])&&(p.groups[G].payload[a].length>0)){if(!Array.isArray(o.groups[G].payload[I])){o.groups[G].payload[I]=[];}o.groups[G].payload[I].push(C);}else{s=false;}return s;}if((I==="tiles")||(I==="links")){T=(I==="tiles")?"movedTiles":"movedLinks";a=(I==="tiles")?"tileOrder":"linkOrder";}else{return false;}if(!o||!o.groups||!o.site||!o.site.payload||!Array.isArray(o.site.payload.groupsOrder)||!p){return false;}if(p[T]){Object.keys(p[T]).forEach(function(h){d=p[T][h];if(d.fromGroup){if(d.toGroup){if(d.fromGroup!==d.toGroup){if(o.groups[d.fromGroup]&&o.groups[d.fromGroup].payload&&Array.isArray(o.groups[d.fromGroup].payload[I])){e=o.groups[d.fromGroup].payload[I];b=f._getItemIndex(e,h);if(b>=0){c=e.splice(b,1);t=g(c[0],d.toGroup);if(!t){s=false;}}else{s=false;}}else{s=false;}}else{s=false;}}else if(o.groups[d.fromGroup]&&o.groups[d.fromGroup].payload&&Array.isArray(o.groups[d.fromGroup].payload[I])){e=o.groups[d.fromGroup].payload[I];b=f._getItemIndex(e,h);if(b>=0){e.splice(b,1);}else{s=false;}}else{s=false;}}else if(d.toGroup){if(d.item&&!i(d.item)){t=g(d.item,d.toGroup);if(!t){s=false;}}else{s=false;}}else{s=false;}});}return s;};P.prototype._applyItemChanges=function(o,p){var s=true,S;S=this._applyMoveItemsWithoutOrder(o,p,"tiles");if(!S){s=false;}S=this._applyMoveItemsWithoutOrder(o,p,"links");if(!S){s=false;}if(p.groups){S=this._setItemOrderOnSite(o,p);if(!S){s=false;}}return s;};return P;});
sap.ui.predefine('sap/ushell/services/_CommonDataModel/SiteConverter',["sap/base/Log"],function(L){"use strict";var S=function(){};S.prototype.convertTo=function(v,c){if(c._version==="3.0.0"||(c.identification&&c.payload)){switch(v){case"3.0.0":return this._convertPageToSite(c);case"3.1.0":return this._convertSiteToPage(c);default:L.error("The received version for the site/page conversion is not supported");return{};}}else{L.error("The site converter did not receive a correct page/site object.");return{};}};S.prototype._convertPageToSite=function(p){var c={groups:{},_version:"3.0.0",site:{identification:p.identification,payload:{groupsOrder:p.payload.layout.sectionOrder}}};var s=p.payload.sections;for(var i=0;i<Object.keys(s).length;i++){var a=Object.keys(s)[i];var o=p.payload.sections[a];c.groups[a]={identification:{id:o.id,title:o.title},payload:{tiles:this._convertVizPayloadObjectToArray(o)}};if("visible"in o){c.groups[a].identification.isVisible=o.visible;}if("preset"in o){c.groups[a].payload.isPreset=o.preset;}if("locked"in o){c.groups[a].payload.locked=o.locked;}if("default"in o){c.groups[a].payload.isDefaultGroup=o.default;}}return c;};S.prototype._convertSiteToPage=function(s){var c={identification:s.site.identification,payload:{layout:{sectionOrder:s.site.payload.groupsOrder},sections:{}}};var g=s.groups;var G;var o;var v;for(var i=0;i<Object.keys(g).length;i++){G=Object.keys(g)[i];o=s.groups[G];v=this._createVizPayloadObject(o.payload.tiles);c.payload.sections[G]={id:o.identification.id,title:o.identification.title,layout:v.layout,viz:v.viz};var a=c.payload.sections[G];if("isVisible"in o.identification){a.visible=o.identification.isVisible;}if("isPreset"in o.payload){a.preset=o.payload.isPreset;}if("locked"in o.payload){a.locked=o.payload.locked;}if("isDefaultGroup"in o.payload){a.default=o.payload.isDefaultGroup;}}return c;};S.prototype._createVizPayloadObject=function(t){var v=[];var p={};var V=t.reduce(function(r,T){v.push(T.id);r[T.id]=T;return r;},{});p.layout={vizOrder:v};p.viz=V;return p;};S.prototype._convertVizPayloadObjectToArray=function(s){return s.layout.vizOrder.reduce(function(t,v){t.push(s.viz[v]);return t;},[]);};return S;});
sap.ui.predefine('sap/ushell/services/_ContentExtensionAdapterFactory/ContentExtensionAdapterConfig',["sap/ushell/Config","sap/ushell/System","sap/ushell/services/_ContentExtensionAdapterFactory/FeaturedGroupConfig"],function(C,S,F){"use strict";var a={};var c=[{contentProviderName:"featured",adapter:"sap.ushell.adapters.cdm.v3.StaticGroupsAdapter",configSwitch:"/core/home/featuredGroup/enable",system:{alias:"",platform:"cdm"},configHandler:function(){var r=C.last("/core/shell/enableRecentActivity")&&C.last("/core/shell/model/currentState/showRecentActivity"),e=r&&C.last("/core/home/featuredGroup/frequentCard"),E=r&&C.last("/core/home/featuredGroup/recentCard");return F.getMockAdapterConfig(e,E);}}];a._getConfigAdapters=function(){c.forEach(function(o){o.system=new S(o.system);});return c;};return a;});
sap.ui.predefine('sap/ushell/services/_ContentExtensionAdapterFactory/FeaturedGroupConfig',["sap/ushell/resources"],function(r){"use strict";var f={},g=r.i18n.getText("featuredGroup.title"),R=r.i18n.getText("recentActivities"),F=r.i18n.getText("frequentActivities"),t=r.i18n.getText("top",4),o={"_version":"3.0.0","site":{"identification":{"version":"3.0","id":"c9dcc1f3-dec0-4db4-91d3-639bf38d91ce","title":"Featured Group","description":"Sample site for featured group cards"},"payload":{"groupsOrder":["FeaturedGroupCards"]}},"catalogs":{},"vizTypes":{"sap.ushell.Card":{"sap.app":{"id":"sap.ushell.Card","type":"card","applicationVersion":{"version":"1.0.0"}},"sap.ui":{"deviceTypes":{"desktop":true,"tablet":true,"phone":true}}}},"visualizations":{"FrequentCard":{"vizType":"sap.ushell.Card","businessApp":"fin.cash.bankmaster.manage.BusinessApp","target":{"appId":"fin.cash.bankmaster.manage","inboundId":"Bank-manage","parameters":{}},"vizConfig":{"sap.flp":{"columns":"4","rows":"4"},"sap.app":{"id":"FrequentCard","type":"card"},"sap.ui5":{"services":{"CardNavigationService":{"factoryName":"sap.ushell.ui5service.CardNavigation"},"CardUserFrequentsService":{"factoryName":"sap.ushell.ui5service.CardUserFrequents"}}},"sap.card":{"type":"List","header":{"title":F,"status":{"text":t},"actions":[{"type":"Navigation","service":"CardNavigationService","parameters":{"openUI":"FrequentActivities"}}]},"content":{"maxItems":4,"data":{"service":{"name":"CardUserFrequentsService"}},"item":{"title":{"value":"{Name}"},"description":{"value":"{Description}"},"highlight":"{Highlight}","icon":{"src":"{Icon}","label":"icon"},"actions":[{"type":"Navigation","service":"CardNavigationService","parameters":{"title":"{Name}","url":"{Url}","intentSemanticObject":"{Intent/SemanticObject}","intentAction":"{Intent/Action}","intentAppRoute":"{Intent/AppSpecificRoute}","intentParameters":"{Intent/Parameters}"}}]}}}}},"RecentCard":{"vizType":"sap.ushell.Card","businessApp":"fin.cash.bankmaster.manage.BusinessApp","target":{"appId":"fin.cash.bankmaster.manage","inboundId":"Bank-manage","parameters":{}},"vizConfig":{"sap.flp":{"columns":"4","rows":"4"},"sap.app":{"id":"RecentCard","type":"card"},"sap.ui5":{"services":{"CardNavigationService":{"factoryName":"sap.ushell.ui5service.CardNavigation"},"CardUserRecentsService":{"factoryName":"sap.ushell.ui5service.CardUserRecents"}}},"sap.card":{"type":"List","header":{"title":R,"status":{"text":t},"actions":[{"type":"Navigation","service":"CardNavigationService","parameters":{"openUI":"RecentActivities"}}]},"content":{"maxItems":4,"data":{"service":{"name":"CardUserRecentsService"}},"item":{"title":{"label":"{{title_label}}","value":"{Name}"},"description":{"label":"{{description_label}}","value":"{Description}"},"icon":{"src":"{Icon}","label":"icon"},"highlight":"{Highlight}","actions":[{"type":"Navigation","service":"CardNavigationService","parameters":{"title":"{Name}","url":"{Url}","intentSemanticObject":"{Intent/SemanticObject}","intentAction":"{Intent/Action}","intentAppRoute":"{Intent/AppSpecificRoute}","intentParameters":"{Intent/Parameters}"}}]}}}}}},"applications":{},"groups":{"FeaturedGroupCards":{"identification":{"id":"FeaturedGroupCards","title":g},"contentProvider":"featured","isFeatured":true,"payload":{"locked":true,"tiles":[{"id":"frequentCard","vizId":"FrequentCard","contentProvider":"featured"},{"id":"recentCard","vizId":"RecentCard","contentProvider":"featured"}],"links":[],"groups":[]}}},"systemAliases":{}};f.getMockAdapterConfig=function(e,E){var T=o.groups.FeaturedGroupCards.payload.tiles,v=o.visualizations;for(var i=0;i<T.length;i++){var a=T[i],s=!e&&a.vizId==="FrequentCard",S=!E&&a.vizId==="RecentCard";if(s||S){delete v[a.vizId];T.splice(i,1);i--;}}return o;};return f;},true);
sap.ui.predefine('sap/ushell/services/_CrossApplicationNavigation/utils',["sap/base/util/ObjectPath"],function(O){"use strict";var U={};U.extractGetLinksParameterOptions=function(g){return U.parseGetLinksParameters(g).filter(function(p){return Object.keys(p.options).length>0;}).map(function(p){return{name:p.name,options:p.options};});};U.extractGetLinksParameterDefinition=function(g){return U.parseGetLinksParameters(g).reduce(function(r,p){r[p.name]=p.value;return r;},{});};U.parseGetLinksParameters=function(g){if(Object.prototype.toString.apply(g)!=="[object Object]"){return[];}var p=JSON.parse(JSON.stringify(g));return Object.keys(p).map(function(P){var v=p[P];var o={};if(Object.prototype.toString.apply(v)==="[object Object]"){v=v.value;delete p[P].value;o=p[P];}return{name:P,value:v,options:o};});};U.safeParseToObject=function(o){try{return JSON.parse(o);}catch(e){jQuery.sap.log.error("Cannot parse the given string to object",o,"sap.ushell.services.CrossApplicationNavigation");}return null;};U.createAppStateFromData=function(d){var a=sap.ushell.Container.getService("AppState");var A=a.createEmptyAppState(null);A.setData(d);A.save();return A.getKey();};U.extractParameter=function(i,p){var I,P=null,u;if(typeof i==="string"){if(i.indexOf(p+"=")===-1){return{intent:i,data:null};}u=sap.ushell.Container.getService("URLParsing");var o=u.parseShellHash(i);if(!o){return{intent:i,data:null};}P=o.params[p];delete o.params[p];I=u.constructShellHash(o);return{intent:I,data:P};}if(Object.prototype.toString.apply(i)==="[object Object]"){var s=O.get("target.shellHash",i);if(typeof s==="string"){var r=U.extractParameter(s,p);i.target.shellHash=r.intent;return{intent:i,data:r.data};}var a=i.params;if(a&&a[p]){P=typeof a[p]==="string"?[a[p]]:a[p];delete a[p];}return{intent:i,data:P};}jQuery.sap.log.error("Invalid input parameter","expected string or object","sap.ushell.services.CrossApplicationNavigation");return{intent:i};};U.addXAppStateFromParameter=function(i,s){var I,x,a,X,A;x=U.extractParameter(i,s);I=x.intent;X=x.data&&x.data[0];if(!X){return;}a=U.safeParseToObject(X);if(!a){return;}A=U.createAppStateFromData(a);U.injectParameter(I,"sap-xapp-state",A);};U.injectParameter=function(i,p,P){if(typeof i==="string"){var u=sap.ushell.Container.getService("URLParsing");var o=u.parseShellHash(i);o.params[p]=P;return u.constructShellHash(o);}if(Object.prototype.toString.apply(i)==="[object Object]"){var s=O.get("target.shellHash",i);if(typeof s==="string"){i.target.shellHash=U.injectParameter(s,p,P);return i;}if(!i.params){i.params={};}i.params[p]=P;}return i;};U._injectParameters=function(p){var P=p.inject,i=(p.injectEmptyString||{}),t=p.type,a=p.args;function s(v,I){return(v||(v===""&&I));}if(t.isPlainObject(a)){if(a.target&&a.target.shellHash){if(typeof a.target.shellHash==="string"){a.target.shellHash=U._injectParameters({inject:P,injectEmptyString:i,type:p.type,args:a.target.shellHash});}return a;}var n=Object.keys(P).reduce(function(I,b){var v=P[b],c=(i[b]===true);if(s(v,c)&&typeof I==="string"){var r=new RegExp("[&]"+b);var h=!r.test(I);if(h){var d=I?"&":"";I+=d+b+"="+v;}}else if(s(v,c)&&!I.hasOwnProperty(b)){I[b]=v;}return I;},a.params||{});if(n&&Object.keys(n).length>0){a.params=n;}return a;}var S=a;if(S){Object.keys(P).forEach(function(b){var v=P[b];var I=(i[b]===true);var r=new RegExp("[?&]"+b);var h=!r.test(S);if(s(v,I)&&h){var c=S.indexOf("?")>-1?"&":"?";S+=c+b+"="+v;}});}return S;};U._injectStickyParameters=function(p){var a=sap.ushell.Container.getService("AppLifeCycle");if(!a||Object.keys(a).length<=0){return p.args;}var c=a.getCurrentApplication();if(!c||Object.keys(c).length<=0){return p.args;}var A=p.appLifeCycle;var t=p.technicalParameters;var s=t.getParameters({sticky:true}).reduce(function(S,n){var N=n.name;var C=c.componentInstance;var b=c.applicationType;var d;if(b==="UI5"){d={};}else{d=A.getCurrentApplication().container;}var e=t.getParameterValueSync(N,C,d,b);var f=n.stickyName||N;S[f]=e;return S;},{});var o={type:p.type,inject:s,args:p.args};return U._injectParameters(o);};return U;});
sap.ui.predefine('sap/ushell/services/_Personalization/ContextContainer',["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants.private","sap/ui/core/format/DateFormat","sap/ui/core/UIComponent","sap/ui/thirdparty/jquery"],function(u,p,c,D,U,q){"use strict";function C(){this._init.apply(this,arguments);}C.prototype._init=function(s,a,b,S,o){this._oService=s;this._sContainerKey=b;this._oAdapterContainer={};this._oScope=S||p.adjustScope(S);this._aLoadedKeys=[];this._oUnmodifiableContainer=undefined;var A;if(!(o instanceof U)&&o!==undefined){throw new Error("oComponent passed must be a UI5 Component or must be undefined");}if(o&&o.getMetadata&&o.getMetadata().getComponentName){A=o.getMetadata().getComponentName();}this.clear();if(!this._sContainerKey||typeof this._sContainerKey!=="string"){throw new u.Error("Invalid container key: sap.ushell.services.Personalization"," ");}this._oAdapterContainer=a.getAdapterContainer(this._sContainerKey,this._oScope,A);return this;};C.prototype.getValidity=function(){return this._oScope.validity;};C.prototype.clear=function(){this._oItemMap={};this._aLoadedItemKeys=[];this._clear=true;this._oItemMap=new u.Map();};C.prototype.load=function(){var d={},P,t=this;d=new q.Deferred();if(!this._sContainerKey){throw new u.Error("Invalid container key: sap.ushell.services.Personalization"," ");}this.clear();P=this._oService._pendingContainerOperations_flushAddNext(this._sContainerKey,d);P.always(function(){t._oAdapterContainer.load().fail(function(){d.reject();}).done(function(){t._copyFromAdapter();if(t._isExpired()){t.clear();}d.resolve();});});return d.promise();};C.prototype._copyFromAdapter=function(){var t=this,a;a=t._oAdapterContainer.getItemKeys().splice(0);a.forEach(function(i){t._oItemMap.put(i,JSON.stringify(t._oAdapterContainer.getItemValue(i)));});this._aLoadedItemKeys=t._oItemMap.keys().splice(0);};C.prototype._isExpired=function(){var f,t,T;if(this.getValidity()===Infinity||this.getValidity()===0){return false;}t=this._getItemValueInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_EXPIRE);f=D.getDateInstance({pattern:c.S_ABAPTIMESTAMPFORMAT});T=f.format(this._getNow(),true);return t&&T>t;};C.prototype._getNow=function(){return new Date();};C.prototype._copyToAdapterUpdatingValidity=function(){var i=[],d=[],t=this,n,f,T,s;if(this._clear){i=this._oAdapterContainer.getItemKeys().splice(0);i.forEach(function(I){t._oAdapterContainer.delItem(I);});this._clear=false;}if(this.getValidity()===Infinity||this.getValidity()===0){this._delItemInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_SCOPE);this._delItemInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_EXPIRE);this._delItemInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_STORAGE);}else{f=D.getDateInstance({pattern:c.S_ABAPTIMESTAMPFORMAT});n=this._getNow();s=f.format(n,true);T=f.format(new Date(n.getTime()+this.getValidity()*60000),true);this._setItemValueInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_SCOPE,this._oScope);this._setItemValueInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_EXPIRE,T);this._setItemValueInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_STORAGE,s);}i=this._oItemMap.keys();i.forEach(function(I){t._oAdapterContainer.setItemValue(I,p.cloneToObject(t._oItemMap.get(I)));});d=this._aLoadedItemKeys.filter(function(I){return!(i.indexOf(I)>-1);});d.forEach(function(I){t._oAdapterContainer.delItem(I);});};C.prototype.save=function(){var s,P,t=this;this._copyToAdapterUpdatingValidity();s=new q.Deferred();P=this._oService._pendingContainerOperations_cancelAddNext(this._sContainerKey,s);P.always(function(){try{t._oAdapterContainer.save().fail(function(){s.reject();}).done(function(){s.resolve();});}catch(e){s.reject();}});return s.promise();};C.prototype.saveDeferred=function(n){var s,P,t=this;this._copyToAdapterUpdatingValidity();s=new q.Deferred();P=this._oService._pendingContainerOperations_cancelAddNext(this._sContainerKey,s);function d(){P.always(function(){try{t._oAdapterContainer.save().fail(function(){s.reject();}).done(function(){s.resolve();});}catch(e){s.reject();}});}s._sapFnSave=d;s._sapTimeoutId=setTimeout(d,n);return s.promise();};C.prototype.flush=function(){var s,P;this._copyToAdapterUpdatingValidity();s=new q.Deferred();P=this._oService._pendingContainerOperations_flushAddNext(this._sContainerKey,s);P.fail(function(){s.reject();}).done(function(){s.resolve();});return s.promise();};C.prototype.getItemKeys=function(){var f=this._oItemMap.keys().filter(function(s){return s.indexOf(c.S_ITEM_PREFIX)===0;});return f.map(function(e){return e.replace(c.S_ITEM_PREFIX,"","");});};C.prototype._getInternalKeys=function(){return this._oItemMap.keys().splice(0);};C.prototype.getItemValue=function(i){return this._getItemValueInternal(c.S_ITEM_PREFIX,i);};C.prototype._getItemValueInternal=function(P,i){if(typeof i!=="string"||typeof P!=="string"){return undefined;}return p.cloneToObject(this._oItemMap.get(P+i));};C.prototype.containsItem=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.containsKey(c.S_ITEM_PREFIX+i);};C.prototype.setItemValue=function(i,I){this._setItemValueInternal(c.S_ITEM_PREFIX,i,I);};C.prototype._setItemValueInternal=function(i,I,o){if(typeof I!=="string"||typeof i!=="string"){throw new u.Error("Parameter value of sItemKey or sItemValue is not a string: sap.ushell.services.Personalization"," ");}if(I.length>40){q.sap.log.error("Personalization Service item key/variant set name (\""+I+"\") should be less than 40 characters [current :"+I.length+"]");}this._oItemMap.put(i+I,JSON.stringify(o));};C.prototype.delItem=function(i){this._delItemInternal(c.S_ITEM_PREFIX,i);};C.prototype._delItemInternal=function(P,i){if(typeof i!=="string"){return undefined;}if(typeof P!=="string"){return undefined;}this._oItemMap.remove(P+i);};C.prototype.getKey=function(){return this._sContainerKey.substring(c.S_CONTAINER_PREFIX.length);};C.prototype.getUnmodifiableContainer=function(){var t=this;if(!this._oUnmodifiableContainer){this._oUnmodifiableContainer=(function(){var o={};["clear","delItem","flush","load","save","saveDeferred","setItemValue"].forEach(function(f){o[f]=function(n){throw new u.Error("Function "+n+" can't be called on unmodifiable container","ContextContainer"," ");}.bind(undefined,f);});["containsItem","getItemKeys","getItemValue","getUnmodifiableContainer","getValidity"].forEach(function(f){if(t[f]){o[f]=t[f].bind(t);}});return o;}());}return this._oUnmodifiableContainer;};return C;});
sap.ui.predefine('sap/ushell/services/_Personalization/PersonalizationContainer',["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants.private","sap/ushell/services/_Personalization/PersonalizationContainerVariantSet","sap/ui/thirdparty/jquery"],function(u,p,c,P,q){"use strict";function a(A,C){this._sContainerKey=C;this._oAdapterContainer={};this._aLoadedVariantSetKeys=[];this._aLoadedItemKeys=[];var d={},t=this;this._init();d=new q.Deferred();if(!this._sContainerKey||typeof this._sContainerKey!=="string"){throw new u.Error("Invalid container key: sap.ushell.services.Personalization"," ");}this._oAdapterContainer=A.getAdapterContainer(this._sContainerKey);this.load().fail(function(){d.reject();}).done(function(){d.resolve(t);});return d.promise();}a.prototype._init=function(){this._oVariantSetMap={};this._oItemMap={};this._aLoadedVariantSetKeys=[];this._aLoadedItemKeys=[];this._oVariantSetMap=new u.Map();this._oItemMap=new u.Map();};a.prototype.load=function(){var d={},i=[],v=[],I=[],m=[],t=this;function b(I){var n=[],e=[];n=I.filter(function(s){return s.indexOf(c.S_ITEM_PREFIX)!==0;});if(n.length===0){return I;}e=I.filter(function(s){return s.indexOf(c.S_ITEM_PREFIX)===0;});n.forEach(function(s){var o={},f="";f=c.S_ITEM_PREFIX+s;o=p.clone(t._oAdapterContainer.getItemValue(s));t._oAdapterContainer.setItemValue(f,o);t._oAdapterContainer.delItem(s);if(e&&Array.prototype.indexOf.call(e,f)===-1){e.push(f);}});return e;}d=new q.Deferred();if(!this._sContainerKey){throw new u.Error("Invalid container key: sap.ushell.services.Personalization"," ");}this._init();this._oAdapterContainer.load().fail(function(){d.reject();}).done(function(){i=t._oAdapterContainer.getItemKeys().splice(0);v=i.filter(function(s){return s.indexOf(c.S_VARIANT_PREFIX)===0;});v.forEach(function(V){var o={};o=new P(V,t._oAdapterContainer);t._oVariantSetMap.put(V,o);});I=i.filter(function(s){return s.indexOf(c.S_VARIANT_PREFIX)!==0;});m=b(I);m.forEach(function(s){t._oItemMap.put(s,p.clone(t._oAdapterContainer.getItemValue(s)));});t._aLoadedVariantSetKeys=t._oVariantSetMap.keys().splice(0);t._aLoadedItemKeys=t._oItemMap.keys().splice(0);d.resolve();});return d.promise();};a.prototype.save=function(){var s,i;this._serializeVariantSets();this._serializeItems();s=new q.Deferred();function S(){s.resolve();}function f(){s.reject();}try{i=this._oAdapterContainer.save();i.fail(f);i.done(S);}catch(e){s.reject();}return s.promise();};a.prototype.getItemKeys=function(){return this._oItemMap.keys().map(function(e){return e.replace(c.S_ITEM_PREFIX,"","");});};a.prototype.getItemValue=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.get(c.S_ITEM_PREFIX+i);};a.prototype.containsItem=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.containsKey(c.S_ITEM_PREFIX+i);};a.prototype.setItemValue=function(i,I){if(typeof i!=="string"){throw new u.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ");}this._oItemMap.put(c.S_ITEM_PREFIX+i,I);};a.prototype.delItem=function(i){if(typeof i!=="string"){return undefined;}if(this.containsItem(i)){this._oItemMap.remove(c.S_ITEM_PREFIX+i);}};a.prototype._serializeItems=function(){var i=[],d=[],t=this;i=this._oItemMap.keys();i.forEach(function(I){t._oAdapterContainer.setItemValue(I,p.clone(t._oItemMap.get(I)));});d=this._aLoadedItemKeys.filter(function(I){return!(i.indexOf(I)>-1);});d.forEach(function(I){t._oAdapterContainer.delItem(I);});};a.prototype.getVariantSetKeys=function(){var v=[],b=[];b=this._oVariantSetMap.keys();v=b.map(function(e){return e.replace(c.S_VARIANT_PREFIX,"","");});return v;};a.prototype.containsVariantSet=function(v){return this._oVariantSetMap.containsKey(c.S_VARIANT_PREFIX+v);};a.prototype.getVariantSet=function(v){var s,V={};s=c.S_VARIANT_PREFIX+v;V=this._oVariantSetMap.get(s);return V;};a.prototype.addVariantSet=function(v){var e={},V={},s="";if(this.containsVariantSet(v)){throw new u.Error("Container already contains a variant set with key '"+v+"': sap.ushell.services.Personalization"," ");}s=c.S_VARIANT_PREFIX+v;e={currentVariant:null,variants:{}};this._oAdapterContainer.setItemValue(s,e);V=new P(s,this._oAdapterContainer);this._oVariantSetMap.put(s,V);return V;};a.prototype._serializeVariantSets=function(){var v=[],d=[],t=this;v=this._oVariantSetMap.keys();v.forEach(function(V){var o={},b={};o=t._oVariantSetMap.get(V);b=o._serialize();t._oAdapterContainer.setItemValue(V,p.clone(b));});d=this._aLoadedVariantSetKeys.filter(function(V){return!(v.indexOf(V)>-1);});d.forEach(function(V){t._oAdapterContainer.delItem(V);});};a.prototype.delVariantSet=function(v){var s="";s=c.S_VARIANT_PREFIX+v;this._oVariantSetMap.remove(s);return this._oAdapterContainer.delItem(s);};return a;});
sap.ui.predefine('sap/ushell/services/_Personalization/PersonalizationContainerVariant',["sap/ushell/utils"],function(u){"use strict";function P(v,V,o){if(typeof v!=="string"){throw new u.Error("Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization"," ");}if(typeof V!=="string"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}if(o&&typeof o!=="object"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}this._oVariantKey=v;this._oVariantName=V;this._oItemMap=new u.Map();this._oItemMap.entries=o||{};};P.prototype.getVariantKey=function(){return this._oVariantKey;};P.prototype.getVariantName=function(){return this._oVariantName;};P.prototype.getItemValue=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.get(i);};P.prototype.setItemValue=function(i,I){if(typeof i!=="string"){throw new u.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ");}return this._oItemMap.put(i,I);};P.prototype.containsItem=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.containsKey(i);};P.prototype.getItemKeys=function(){return this._oItemMap.keys();};P.prototype.delItem=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.remove(i);};P.prototype._serialize=function(){var i=[],v={},I={},t=this;v.name=this.getVariantName();i=this._oItemMap.keys();i.forEach(function(s){I[s]=t.getItemValue(s);});v.variantData=I;return v;};return P;});
sap.ui.predefine('sap/ushell/services/_Personalization/PersonalizationContainerVariantSet',["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/PersonalizationContainerVariant"],function(u,p,P){"use strict";function c(v,a){var V,s,b,o,d;this._sVariantSetKey=v;this._oAdapterContainer=a;this._oVariantNameMap=new u.Map();this._oVariantMap=new u.Map();V=p.clone(this._oAdapterContainer.getItemValue(v));if(V.hasOwnProperty("currentVariant")){this._sCurrentVariantKey=V.currentVariant;}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}if(V.hasOwnProperty("variants")){for(s in V.variants){if(V.variants.hasOwnProperty(s)){b=V.variants[s].name;o=V.variants[s].variantData;if(this._oVariantNameMap.containsKey(b)){throw new u.Error("Variant name already exists: sap.ushell.services.Personalization"," ");}else{this._oVariantNameMap.put(b,s);d=new P(s,b,o);this._oVariantMap.put(s,d);}}}}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}return this;};c.prototype.getCurrentVariantKey=function(){return this._sCurrentVariantKey;};c.prototype.setCurrentVariantKey=function(v){this._sCurrentVariantKey=v;};c.prototype.getVariantKeys=function(){return this._oVariantMap.keys();};c.prototype.getVariantNamesAndKeys=function(){return JSON.parse(JSON.stringify(this._oVariantNameMap.entries));};c.prototype.getVariant=function(v){if(typeof v!=="string"){return undefined;}return this._oVariantMap.get(v);};c.prototype.getVariantKeyByName=function(v){if(typeof v!=="string"){return undefined;}return this._oVariantNameMap.get(v);};c.prototype.containsVariant=function(v){if(typeof v!=="string"){return undefined;}return this._oVariantMap.containsKey(v);};c.prototype.addVariant=function(v){var m=0,V="",o={};m=parseInt(this._oVariantMap.keys().sort(function(a,b){return a-b;}).reverse()[0],10);V=isNaN(m)?"0":(m+1).toString();if(this._oVariantMap.containsKey(V)){throw new u.Error("Variant key '"+V+"' already exists in variant set"+this._sVariantSetKey+"': sap.ushell.services.Personalization"," ");}if(typeof v!=="string"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}if(this._oVariantNameMap.containsKey(v)){throw new u.Error("Variant name '"+v+"' already exists in variant set '"+this._sVariantSetKey+"' (Old key: '"+this._oVariantNameMap.get(v)+"' New key: '"+V+"') ': sap.ushell.services.Personalization"," ");}o=new P(V,v);this._oVariantMap.put(V,o);this._oVariantNameMap.put(v,V);return o;};c.prototype._serialize=function(){var v=[],V={},o={},t=this;V.currentVariant=this._sCurrentVariantKey;v=this.getVariantKeys();v.forEach(function(s){var a={};a=t._oVariantMap.get(s);o[s]=a._serialize();});V.variants=o;return V;};c.prototype.delVariant=function(v){var V=this._oVariantMap.get(v);if(V){this._oVariantNameMap.remove(V.getVariantName());this._oVariantMap.remove(v);}};return c;});
sap.ui.predefine('sap/ushell/services/_Personalization/Personalizer',["sap/ushell/utils","sap/ui/thirdparty/jquery","sap/base/Log"],function(u,q,L){"use strict";function P(s,a,p,S,c){this._sPersContainer="";this._sPersItem="";this._sPersVariant=null;this._oAdapter=a;this._oService=s;this._oScope=S;this._oComponent=c;if(!p||!p.container||!p.item||typeof p.container!=="string"||typeof p.item!=="string"){throw new u.Error("Invalid input for oPersId: sap.ushell.services.Personalization"," ");}this._sPersContainer=p.container;this._sPersItem=p.item;}P.prototype._getContainer=function(p){if(!this._oGetContainerPromise){this._oGetContainerPromise=this._oService.getContainer(p,this._oScope,this._oComponent);}return this._oGetContainerPromise;};P.prototype.getPersData=function(){var d={},t=this;d=new q.Deferred();this._getContainer(this._sPersContainer).fail(function(){d.reject();}).done(function(c){d.resolve(c.getItemValue(t._sPersItem));});d.fail(function(){L.error("Fail to get Personalization data for Personalizer container: "+t._sPersContainer);});return d.promise();};P.prototype.setPersData=function(v){var d={},t=this;d=new q.Deferred();this._getContainer(this._sPersContainer).fail(function(){d.reject();}).done(function(c){c.setItemValue(t._sPersItem,v);c.save().fail(function(){d.reject();}).done(function(){d.resolve();});});d.fail(function(){L.error("Fail to set Personalization data for Personalizer container: "+t._sPersContainer);});return d.promise();};P.prototype.delPersData=function(){var d={},t=this,m;d=new q.Deferred();this._getContainer(this._sPersContainer).fail(function(){d.reject();}).done(function(c){c.delItem(t._sPersItem);c.save().fail(function(){d.reject();}).done(function(){d.resolve();});});m=d.promise();m.fail(function(){L.error("Fail to delete Personalization data for Personalizer container: "+this._sPersContainer);});return m;};return P;});
sap.ui.predefine('sap/ushell/services/_Personalization/TransientPersonalizer',["sap/ui/thirdparty/jquery"],function(q){"use strict";function T(){this._oValue=undefined;}T.prototype.getPersData=function(){var d;d=new q.Deferred();d.resolve(this._oValue);return d.promise();};T.prototype.setPersData=function(v){var d;d=new q.Deferred();this._oValue=v;d.resolve();return d.promise();};T.prototype.delPersData=function(){var d;d=new q.Deferred();this._oValue=undefined;d.resolve();return d.promise();};T.prototype.setValue=function(v){this._oValue=v;};T.prototype.getValue=function(){return this._oValue;};return T;});
sap.ui.predefine('sap/ushell/services/_Personalization/Variant',["sap/ushell/utils","sap/ushell/services/_Personalization/utils"],function(u,p){"use strict";function V(v,s,a){if(typeof s!=="string"){throw new u.Error("Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization"," ");}if(typeof a!=="string"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}this._oVariantSet=v;this._sVariantKey=s;this._sVariantName=a;}V.prototype.getVariantKey=function(){return this._sVariantKey;};V.prototype.getVariantName=function(){return this._sVariantName;};V.prototype.setVariantName=function(v){var o=this._oVariantSet._getVariantSet(),a;if(typeof v!=="string"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}if(this._oVariantSet.getVariantKeyByName(v)!==undefined){throw new u.Error("Variant with name '"+v+"' already exists in variant set '"+this._oVariantSet._sVariantSetKey+"': sap.ushell.services.Personalization"," ");}if(Object.prototype.hasOwnProperty.call(o,"variants")&&Object.prototype.hasOwnProperty.call(o.variants,this._sVariantKey)){a=o.variants[this._sVariantKey];a.name=v;this._sVariantName=v;this._oVariantSet._serialize();}else{throw new u.Error("Variant does not longer exist"," ");}};V.prototype.getItemValue=function(i){if(typeof i!=="string"){return undefined;}var v=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;return Object.prototype.hasOwnProperty.call(v,i)&&p.clone(v[i]);};V.prototype.setItemValue=function(i,I){if(typeof i!=="string"){throw new u.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ");}var v,a=this._oVariantSet._getVariantSet().variants&&this._oVariantSet._getVariantSet().variants[this._sVariantKey];if(!a){throw new u.Error("Variant does not longer exist"," ");}if(!a.variantData){a.variantData={};}v=a.variantData;v[i]=p.clone(I);this._oVariantSet._serialize();};V.prototype.containsItem=function(i){if(typeof i!=="string"){return undefined;}var v=this.oAccess.variantSet._getVariantSet().variants[this._sVariantKey].variantData;return Object.prototype.hasOwnProperty.call(v,i);};V.prototype.getItemKeys=function(){var v=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData,i,I=[];for(i in v){if(Object.prototype.hasOwnProperty.call(v,i)){I.push(i);}}I.sort();return I;};V.prototype.delItem=function(i){if(typeof i!=="string"){return undefined;}var v=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;delete v[i];this._oVariantSet._serialize();};return V;});
sap.ui.predefine('sap/ushell/services/_Personalization/VariantSet',["sap/ushell/utils","sap/ushell/services/_Personalization/constants.private","sap/ushell/services/_Personalization/PersonalizationContainerVariant","sap/ushell/services/_Personalization/Variant"],function(u,c,P,V){"use strict";function d(v,C){var s,a,o=new u.Map(),b=new u.Map(),e,f;this._oContextContainer=C;this._sVariantSetKey=v;this._oVariantSetData=this._oContextContainer._getItemValueInternal(c.S_VARIANT_PREFIX,this._sVariantSetKey);if(!Object.prototype.hasOwnProperty.call(this._oVariantSetData,"currentVariant")){throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}if(Object.prototype.hasOwnProperty.call(this._oVariantSetData,"variants")){for(s in this._oVariantSetData.variants){if(Object.prototype.hasOwnProperty.call(this._oVariantSetData.variants,s)){a=this._oVariantSetData.variants[s].name;e=this._oVariantSetData.variants[s].variantData;if(o.containsKey(a)){throw new u.Error("Variant name already exists: sap.ushell.services.Personalization"," ");}else{o.put(a,s);f=new P(s,a,e);b.put(s,f);}}}}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}return this;}d.prototype._getVariantSet=function(){return this._oVariantSetData;};d.prototype._serialize=function(){this._oContextContainer._setItemValueInternal(c.S_VARIANT_PREFIX,this._sVariantSetKey,this._oVariantSetData);};d.prototype.getCurrentVariantKey=function(){return this._getVariantSet().currentVariant;};d.prototype.setCurrentVariantKey=function(v){this._getVariantSet().currentVariant=v;this._serialize();};d.prototype.getVariantKeys=function(){var v=new u.Map(),o=this._getVariantSet(this._sVariantSetKey),s;if(Object.prototype.hasOwnProperty.call(o,"variants")){for(s in o.variants){if(Object.prototype.hasOwnProperty.call(o.variants,s)){v.put(s,"dummy");}}}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}return v.keys();};d.prototype.getVariantNamesAndKeys=function(){var v=new u.Map(),o=new u.Map(),a=this._getVariantSet(this._sVariantSetKey),s,b;if(Object.prototype.hasOwnProperty.call(a,"variants")){for(s in a.variants){if(Object.prototype.hasOwnProperty.call(a.variants,s)){b=a.variants[s].name;if(v.containsKey(b)){throw new u.Error("Variant name already exists: sap.ushell.services.Personalization"," ");}else{v.put(b,s);}o.put(s,"dummy");}}}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}return v.entries;};d.prototype.getVariant=function(v){if(typeof v!=="string"){return undefined;}var o=this._getVariantSet(this._sVariantSetKey),s,a,b;if(Object.prototype.hasOwnProperty.call(o,"variants")&&Object.prototype.hasOwnProperty.call(o.variants,v)){s=o.variants[v].name;b=o.variants[v].variantData;a=new V(this,v,s,b);return a;}return undefined;};d.prototype.getVariantKeyByName=function(v){if(typeof v!=="string"){return undefined;}var o=this._getVariantSet(this._sVariantSetKey),s;if(Object.prototype.hasOwnProperty.call(o,"variants")){for(s in o.variants){if(Object.prototype.hasOwnProperty.call(o.variants,s)){if(v===o.variants[s].name){return s;}}}}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}return undefined;};d.prototype.containsVariant=function(v){var o=this._getVariantSet();if(typeof v!=="string"){return undefined;}return Object.prototype.hasOwnProperty.call(o,"variants")&&Object.prototype.hasOwnProperty.call(o.variants,v);};d.prototype.addVariant=function(v){var k=[],m=0,s="",o={};k=this.getVariantKeys();m=parseInt(k.sort(function(a,b){return a-b;}).reverse()[0],10);s=isNaN(m)?"0":(m+1).toString();if(k.indexOf(s)>=0){throw new u.Error("Variant key '"+s+"' already exists in variant set"+this._sVariantSetKey+"': sap.ushell.services.Personalization"," ");}if(typeof v!=="string"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}if(this.getVariantKeyByName(v)!==undefined){throw new u.Error("Variant name '"+v+"' already exists in variant set '"+this._sVariantSetKey+"' (Old key: '"+this.getVariantKeyByName(v)+"' New key: '"+s+"') ': sap.ushell.services.Personalization"," ");}o=new V(this,s,v);this._getVariantSet(this._sVariantSetKey).variants[s]={name:v,variantData:{}};this._serialize();return o;};d.prototype.delVariant=function(v){var o;if(typeof v!=="string"){return undefined;}o=this._getVariantSet();if(o&&o.variants){delete this._oVariantSetData.variants[v];}this._serialize();};return d;});
sap.ui.predefine('sap/ushell/services/_Personalization/VariantSetAdapter',["sap/ushell/services/_Personalization/constants.private","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/VariantSet"],function(c,u,V){"use strict";function a(C){this._oContextContainer=C;};a.prototype.save=function(){return this._oContextContainer.save();};a.prototype.getVariantSetKeys=function(){var p=this._oContextContainer._getInternalKeys(),v=[];v=p.map(function(e){return e.replace(c.S_VARIANT_PREFIX,"","");});return v;};a.prototype.containsVariantSet=function(v){return this.getVariantSetKeys().indexOf(v)>=0;};a.prototype.getVariantSet=function(v){var o=this._oContextContainer._getItemValueInternal(c.S_VARIANT_PREFIX,v);if(!o){return undefined;}return new V(v,this._oContextContainer);};a.prototype.addVariantSet=function(v){var e={},o={};if(this.containsVariantSet(v)){throw new u.Error("Container already contains a variant set with key '"+v+"': sap.ushell.services.Personalization"," ");}e={currentVariant:null,variants:{}};this._oContextContainer._setItemValueInternal(c.S_VARIANT_PREFIX,v,e);o=new V(v,this._oContextContainer);return o;};a.prototype.delVariantSet=function(v){this._oContextContainer._delItemInternal(c.S_VARIANT_PREFIX,v);};return a;});
sap.ui.predefine('sap/ushell/services/_Personalization/WindowAdapter',["sap/ui/thirdparty/jquery"],function(q){"use strict";var W=function(p,b){this._oBackendAdapter=b;if(b){this.supportsGetWithoutSubsequentLoad=b.supportsGetWithoutSubsequentLoad;}};W.prototype.data={};W.prototype.getAdapterContainer=function(c,s,a){var b=this._oBackendAdapter&&this._oBackendAdapter.getAdapterContainer(c,s,a);var d=sap.ui.requireSync("sap/ushell/services/_Personalization/WindowAdapterContainer");return new d(c,s,b);};W.prototype.delAdapterContainer=function(c,s){var d=new q.Deferred();delete W.prototype.data[c];if(this._oBackendAdapter){this._oBackendAdapter.delAdapterContainer(c,s).done(function(){d.resolve();}).fail(function(m){d.reject(m);});}else{d.resolve();}return d.promise();};return W;});
sap.ui.predefine('sap/ushell/services/_Personalization/WindowAdapterContainer',["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/WindowAdapter","sap/ui/thirdparty/jquery"],function(u,p,W,q){"use strict";function a(C,s,b){this._oBackendContainer=b;this._oItemMap=new u.Map();this._sContainerKey=C;}function c(C){var i,k=C.getItemKeys();for(i=0;i<k.length;i=i+1){C.delItem(k[i]);}}a.prototype.load=function(){var d=new q.Deferred(),i,k,t=this;if(W.prototype.data[this._sContainerKey]){this._oItemMap.entries=p.clone(W.prototype.data[this._sContainerKey]);if(this._oBackendContainer){c(this._oBackendContainer);k=this.getItemKeys();for(i=0;i<k.length;i=i+1){this._oBackendContainer.setItemValue(k[i],this._oItemMap.get(k[i]));}}d.resolve();}else if(this._oBackendContainer){this._oBackendContainer.load().done(function(){k=t._oBackendContainer.getItemKeys();for(i=0;i<k.length;i=i+1){t.setItemValue(k[i],t._oBackendContainer.getItemValue(k[i]));}W.prototype.data[t._sContainerKey]=p.clone(t._oItemMap.entries);d.resolve();}).fail(function(m){d.reject(m);});}else{W.prototype.data[this._sContainerKey]={};d.resolve();}return d.promise();};a.prototype.save=function(){var d=new q.Deferred();W.prototype.data[this._sContainerKey]=p.clone(this._oItemMap.entries);if(this._oBackendContainer){this._oBackendContainer.save().done(function(){d.resolve();}).fail(function(m){d.reject(m);});}else{d.resolve();}return d.promise();};a.prototype.getItemKeys=function(){return this._oItemMap.keys();};a.prototype.containsItem=function(i){this._oItemMap.containsKey(i);};a.prototype.getItemValue=function(i){return this._oItemMap.get(i);};a.prototype.setItemValue=function(i,I){this._oItemMap.put(i,I);if(this._oBackendContainer){this._oBackendContainer.setItemValue(i,I);}};a.prototype.delItem=function(i){this._oItemMap.remove(i);if(this._oBackendContainer){this._oBackendContainer.delItem(i);}};return a;});
sap.ui.predefine('sap/ushell/services/_Personalization/constants',[],function(){"use strict";return{keyCategory:{"FIXED_KEY":"FIXED_KEY","GENERATED_KEY":"GENERATED_KEY"},writeFrequency:{"HIGH":"HIGH","LOW":"LOW"}};});
sap.ui.predefine('sap/ushell/services/_Personalization/constants.private',[],function(){"use strict";return{S_CONTAINER_PREFIX:"sap.ushell.personalization#",S_ITEM_PREFIX:"ITEM#",S_VARIANT_PREFIX:"VARIANTSET#",S_ABAPTIMESTAMPFORMAT:"yyyyMMddHHmmss",S_ADMIN_PREFIX:"ADMIN#",S_ITEMKEY_SCOPE:"sap-ushell-container-scope",S_ITEMKEY_STORAGE:"sap-ushell-container-storageUTCTimestamp",S_ITEMKEY_EXPIRE:"sap-ushell-container-expireUTCTimestamp"};});
sap.ui.predefine('sap/ushell/services/_Personalization/utils',["sap/ushell/services/_Personalization/constants","sap/ushell/services/_Personalization/constants.private","sap/ui/thirdparty/jquery"],function(c,p,q){"use strict";function a(e,k){var m;for(m in k){if(typeof k[m]!=="function"){if(k.hasOwnProperty(m)){if(m===e){return true;}}}}return false;}function b(C){if(C.length>40){q.sap.log.error("Personalization Service container key (\""+C+"\") should be less than 40 characters [current :"+C.length+"]");}return p.S_CONTAINER_PREFIX+C;}function d(o,L,t,P){if(o&&o.validity===0&&!L){return t;}return P;}function i(){var r=window["sap-ushell-config"]&&window["sap-ushell-config"].services&&window["sap-ushell-config"].services.ShellNavigation&&window["sap-ushell-config"].services.ShellNavigation.config&&window["sap-ushell-config"].services.ShellNavigation.config.reload;return r;}function f(s,L){var A={validity:Infinity,keyCategory:c.keyCategory.GENERATED_KEY,writeFrequency:c.writeFrequency.HIGH,clientStorageAllowed:false};if(s){A.validity=s.validity;if(A.validity===null||A.validity===undefined||typeof A.validity!=="number"){A.validity=Infinity;}if(!(typeof A.validity==="number"&&((A.validity>=0&&A.validity<1000)||A.validity===Infinity))){A.liftime=Infinity;}A.keyCategory=a(s.keyCategory,c.keyCategory)?s.keyCategory:A.keyCategory;A.writeFrequency=a(s.writeFrequency,c.writeFrequency)?s.writeFrequency:A.writeFrequency;if(typeof s.clientStorageAllowed==="boolean"&&(s.clientStorageAllowed===true||s.clientStorageAllowed===false)){A.clientStorageAllowed=s.clientStorageAllowed;}}if(A.validity===0&&L){A.validity=1440;}return A;}function l(A){if(!A.lazy){return q.when(A.instance);}try{return A.create.call(null);}catch(e){return new q.Deferred().reject(e).promise();}}function g(C){if(!C){return false;}var A=C.getManifestObject();if(!A){return false;}var s=A.getEntry("/sap.ui5/appVariantId");if(!s){return false;}var e=A.getComponentName();if(s===e){return false;}return true;}function h(o){if(o===undefined){return undefined;}try{return JSON.parse(o);}catch(e){return undefined;}}function j(o){if(o===undefined){return undefined;}try{return JSON.parse(JSON.stringify(o));}catch(e){return undefined;}}return{adjustScope:f,cloneToObject:h,clone:j,addContainerPrefix:b,pickAdapter:d,isAppVariant:g,loadAdapter:l,isLaunchpadReload:i};});
sap.ui.predefine('sap/ushell/services/_PluginManager/Extensions',["sap/ushell/services/_PluginManager/HeaderExtensions","sap/ushell/services/_PluginManager/MenuExtensions"],function(H,m){"use strict";var O={Header:a,Menu:g};function g(p){return Promise.resolve(m(p));}function a(){return Promise.resolve(H);}function b(p,e){var E=O[e];if(!E){return Promise.reject("Unsupported extension: '"+e+"'");}return E(p);}return b;});
sap.ui.predefine('sap/ushell/services/_PluginManager/HeaderExtensions',['sap/ushell/EventHub'],function(E){"use strict";function s(i,c,a){E.emit("setHeaderCentralAreaElement",{id:i,currentState:c,states:a});}return{setHeaderCentralAreaElement:s};});
sap.ui.predefine('sap/ushell/services/_PluginManager/MenuExtensions',[],function(){"use strict";function c(p){return function g(n){return sap.ushell.Container.getServiceAsync("Menu").then(function(m){return m.getEntryProvider(p,n);});};}return function(p){return{getMenuEntryProvider:c(p)};};});
sap.ui.predefine('sap/ushell/services/_Ui5ComponentLoader/utils',["sap/ui/thirdparty/jquery","sap/base/util/UriParameters","sap/ui/core/util/AsyncHintsHelper","sap/base/Log"],function(q,U,a,L){"use strict";var i=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getLogonSystem().getPlatform()==="abap";var O={name:"core-ext-light",count:4,debugName:"core-ext-light",path:i?"sap/ushell_abap/bootstrap/evo/":"sap/fiori/"};function c(C,t){var D=new q.Deferred();C.componentData=t;C.async=true;sap.ui.component(C).then(function(w){D.resolve(w);},function(E){D.reject(E);});return D.promise();}function s(S){var A=(S&&S.hasOwnProperty("amendedLoading"))?S.amendedLoading:true;return A;}function b(A){var t=true;if(A.hasOwnProperty("loadCoreExt")){t=A.loadCoreExt;}return t;}function d(A,S,t){var w=true;if(A.hasOwnProperty("loadDefaultDependencies")){w=A.loadDefaultDependencies;}if(S&&S.hasOwnProperty("loadDefaultDependencies")){w=w&&S.loadDefaultDependencies;}w=w&&t;return w;}function e(P){var S=P.semanticObject||null;var A=P.action||null;if(!S||!A){return null;}return"application-"+S+"-"+A+"-component";}function u(t){return t&&t.indexOf("?")>=0;}function r(t){var w=new RegExp("[/]~[\\w-]+~[A-Z0-9]?");return t.replace(w,"");}function f(t){if(!t){return t;}var I=t.indexOf("?");if(I>=0){return t.slice(0,I);}return t;}function g(){return q.sap.isDeclared("sap.fiori.core",true)||q.sap.isDeclared("sap.fiori.core-ext-light",true);}function l(A,E,t,w,C){var x="The issue is most likely caused by application "+A,y="Failed to load UI5 component with properties: '"+C+"'.";if(w){y+=" Error likely caused by:\n"+w;}else{y+=" Error: '"+E+"'";}if(t==="parsererror"){x+=", as one or more of its resources could not be parsed";}x+=". Please create a support incident and assign it to the support component of the respective application.";L.error(x,y,A);}function h(t){var P=new U(t||window.location.href).mParams,x=P["sap-xapp-state"],R;delete P["sap-xapp-state"];R={startupParameters:P};if(x){R["sap-xapp-state"]=x;}return R;}function j(A,M){if(!Array.isArray(M)){return;}M.forEach(function(t){var S=String.prototype.toLowerCase.call(t.severity||"");S=["trace","debug","info","warning","error","fatal"].indexOf(S)!==-1?S:"error";L[S](t.text,t.details,A);});}function p(C){var B,t={name:"CoreResourcesComplement"};if(v(C)){B=C;}else{B=O;}if(window["sap-ui-debug"]===true){t.aResources=[B.path+B.debugName+".js"];}else{t.aResources=k(B.name,B.path,B.count);}return t;}function k(B,P,R){var t=arguments[3]||[],w=P;if(typeof B!=="string"||typeof w!=="string"||typeof R!=="number"){L.error("Ui5ComponentLoader: _buildBundleResourcesArray called with invalid arguments");return null;}if(w.substr(-1)!=="/"){w+="/";}if(R===1){t.push(w+B+".js");}if(t.length>=R){return t;}t.push(w+B+"-"+t.length+".js");return k(B,w,R,t);}function v(C){var t=true;if(!C){return false;}if(!C.name||typeof C.name!=="string"){L.error("Ui5ComponentLoader: Configured CoreResourcesComplement Bundle has incorrect 'name' property");t=false;}if(!C.count||typeof C.count!=="number"){L.error("Ui5ComponentLoader: Configured CoreResourcesComplement Bundle has incorrect 'count' property");t=false;}if(!C.debugName||typeof C.debugName!=="string"){L.error("Ui5ComponentLoader: Configured CoreResourcesComplement Bundle has incorrect 'debugName' property");t=false;}if(!C.path||typeof C.path!=="string"){L.error("Ui5ComponentLoader: Configured CoreResourcesComplement Bundle has incorrect 'path' property");t=false;}return t;}function m(B){if(!B||!Array.isArray(B.aResources)||!B.name){L.error("Ui5ComponentLoader: loadBundle called with invalid arguments");return null;}var P=[],D=new q.Deferred();B.aResources.forEach(function(R){P.push(q.sap._loadJSResourceAsync(R));});Promise.all(P).then(function(){D.resolve();}).catch(function(){L.error("Ui5ComponentLoader: failed to load bundle: "+B.name);D.reject();});return D.promise();}function n(A,t,N,w,x,y,C,z,B){var D=q.extend(true,{},x);if(!D.asyncHints){D.asyncHints=t?{libs:["sap.ca.scfld.md","sap.ca.ui","sap.me","sap.ui.unified"]}:{};}if(A){D.asyncHints.preloadBundles=D.asyncHints.preloadBundles||[];D.asyncHints.preloadBundles=D.asyncHints.preloadBundles.concat(B.aResources);}if(w){D.asyncHints.waitFor=w;}if(!D.name){D.name=y;}if(C){D.url=f(C);}if(z){D.id=z;}if(N&&D.asyncHints){a.modifyUrls(D.asyncHints,r);}return D;}function o(B,C,A,t){var w=q.extend(true,{startupParameters:{}},B);if(A){w.config=A;}if(t){w.technicalParameters=t;}if(u(C)){var x=h(C);w.startupParameters=x.startupParameters;if(x["sap-xapp-state"]){w["sap-xapp-state"]=x["sap-xapp-state"];}}return w;}return{constructAppComponentId:e,getParameterMap:h,isCoreExtAlreadyLoaded:g,logAnyApplicationDependenciesMessages:j,logInstantiateComponentError:l,shouldLoadCoreExt:b,shouldLoadDefaultDependencies:d,shouldUseAmendedLoading:s,urlHasParameters:u,removeParametersFromUrl:f,createUi5Component:c,prepareBundle:p,loadBundle:m,createComponentProperties:n,createComponentData:o,buildBundleResourcesArray:k};},false);
sap.ui.predefine('sap/ushell/services/_VisualizationInstantiation/VizInstance',["sap/m/ActionSheet","sap/m/FrameType","sap/m/library","sap/m/VBox","sap/ui/core/Icon","sap/ui/core/XMLComposite","sap/ui/events/PseudoEvents","sap/ushell/library","sap/ushell/resources"],function(A,F,m,V,I,X,P,u,r){"use strict";var L=m.LoadState;var T=m.TileSizeBehavior;var D=u.DisplayFormat;var a=X.extend("sap.ushell.ui.launchpad.VizInstance",{metadata:{library:"sap.ushell",properties:{title:{type:"string",defaultValue:"",bindable:true},subtitle:{type:"string",defaultValue:"",bindable:true},height:{type:"int",defaultValue:2},width:{type:"int",defaultValue:2},info:{type:"string",defaultValue:"",bindable:true},icon:{type:"sap.ui.core.URI",defaultValue:"",bindable:true},numberUnit:{type:"string",defaultValue:"",bindable:true},state:{type:"sap.m.LoadState",defaultValue:L.Loaded,bindable:true},sizeBehavior:{type:"sap.m.TileSizeBehavior",defaultValue:T.Responsive,bindable:true},editable:{type:"boolean",defaultValue:false,bindable:true},active:{type:"boolean",defaultValue:false},targetURL:{type:"string"},indicatorDataSource:{type:"object",defaultValue:undefined},dataSource:{type:"object",defaultValue:undefined},keywords:{type:"string[]",defaultValue:[]},instantiationData:{type:"object",defaultValue:{}},contentProviderId:{type:"string",defaultValue:""},vizConfig:{type:"object"},supportedDisplayFormats:{type:"string[]",defaultValue:[D.Standard]},dataHelpId:{type:"string",defaultValue:""},displayFormat:{type:"string",defaultValue:D.Standard},tileSize:{type:"string"}},defaultAggregation:"tileActions",aggregations:{tileActions:{type:"sap.m.Button",forwarding:{getter:"_getTileActionSheet",aggregation:"buttons"}}},events:{press:{parameters:{scope:{type:"sap.m.GenericTileScope"},action:{type:"string"}}}}},fragment:"sap.ushell.services._VisualizationInstantiation.VizInstance"});a.prototype.init=function(){X.prototype.init.apply(this,arguments);this._oContent=this.getAggregation("_content");};a.prototype._formatPlaceholderFrameType=function(d,t){this._setSize();switch(d){case D.Flat:return F.OneByHalf;case D.FlatWide:return F.TwoByHalf;case D.StandardWide:return F.TwoByOne;default:if(t==="1x2"){return F.TwoByOne;}return F.OneByOne;}};a.prototype.exit=function(){if(this._oEditModeOverlayContainer){this._oEditModeOverlayContainer.destroy();}if(this._oActionModeButtonIconVBox){this._oActionModeButtonIconVBox.destroy();}if(this._oActionDivCenter){this._oActionDivCenter.destroy();}if(this._oActionSheet){this._oActionSheet.destroy();}};a.prototype.getLayout=function(){return{columns:this.getWidth(),rows:this.getHeight()};};a.prototype._setContent=function(c){var g=this.getLayoutData();if(g&&g.isA("sap.f.GridContainerItemLayoutData")){g.setRows(this.getHeight());g.setColumns(this.getWidth());this.getParent().invalidate();}if(this.getDataHelpId()){c.data("help-id",this.getDataHelpId(),true);}this._oContent=c;this.invalidate();};a.prototype._updateContent=function(){var c=this._oContent;if(this.getEditable()){c=this._getEditModeOverlay(c);}if(this._oContent.getItems){this.setAggregation("_content",c.getItems()[0]);}else{this.setAggregation("_content",c);}};a.prototype._getEditModeOverlay=function(c){var t=this.getTileActions(),M=sap.ui.getCore().getLibraryResourceBundle("sap.m");if(!this._oEditModeOverlayContainer){var R=new I({id:this.getId()+"-action-remove",alt:M.getText("GENERICTILE_ACTIONS_ARIA_TEXT"),decorative:false,noTabStop:true,src:"sap-icon://decline",tooltip:r.i18n.getText("removeButtonTitle")}).addStyleClass("sapUshellTileDeleteIconInnerClass sapMPointer");this._oRemoveIconVBox=new V({items:[R]}).addStyleClass("sapUshellTileDeleteIconOuterClass sapUshellTileDeleteClickArea sapMPointer");this._oEditModeOverlayContainer=new V().addStyleClass("sapUshellVizInstance");}this._oEditModeOverlayContainer.removeAllItems();this._oEditModeOverlayContainer.addItem(this._oRemoveIconVBox);this._oEditModeOverlayContainer.addItem(c);if(t.length>0){if(!this._oActionDivCenter){this._oActionDivCenter=new V().addStyleClass("sapUshellTileActionDivCenter");this._oActionDivCenter.attachBrowserEvent("click",this._onActionMenuIconPressed,this);}if(!this._oActionModeButtonIconVBox){this._oActionModeIcon=new I({id:this.getId()+"-action-more",decorative:false,alt:M.getText("LIST_ITEM_NAVIGATION"),noTabStop:true,press:[this._onActionMenuIconPressed,this],src:"sap-icon://overflow",tooltip:r.i18n.getText("configuration.category.tile_actions")}).addStyleClass("sapUshellTileActionIconDivBottomInner sapMPointer");this._oActionModeButtonIconVBox=new V({items:[this._oActionModeIcon]}).addStyleClass("sapUshellTileActionIconDivBottom sapMPointer");}this._oEditModeOverlayContainer.addItem(this._oActionDivCenter);this._oEditModeOverlayContainer.addItem(this._oActionModeButtonIconVBox);}return this._oEditModeOverlayContainer;};a.prototype._getTileActionSheet=function(){if(!this._oActionSheet){this._oActionSheet=new A();}return this._oActionSheet;};a.prototype._onActionMenuIconPressed=function(){if(this._oActionModeIcon){this._getTileActionSheet().openBy(this._oActionModeIcon);}};a.prototype.getFocusDomRef=function(){if(this.getEditable()){return this._oActionModeIcon&&this._oActionModeIcon.getFocusDomRef();}var p=this._oContent.findAggregatedObjects(true,function(c){return c.isA("sap.m.GenericTile")||c.isA("sap.f.Card");});if(p.length){return p[0].getFocusDomRef();}return this._oContent.getFocusDomRef();};a.prototype.onclick=function(e){if(this._preventDefault(e)){this.firePress({scope:"Display",action:"Press"});}else{var t=e.target.id;if(t.indexOf("action-remove")>-1){this.firePress({scope:"Actions",action:"Remove"});}else{this._onActionMenuIconPressed();}}};a.prototype.onBeforeRendering=function(){this._updateContent();var d=this.getDomRef();if(d){d.removeEventListener("keyup",this._fnKeyupHandler);d.removeEventListener("touchend",this._fnTouchendHandler);}};a.prototype.onAfterRendering=function(){var d=this.getDomRef();this._fnKeyupHandler=this.onkeyup.bind(this);this._fnTouchendHandler=this.onclick.bind(this);d.addEventListener("keyup",this._fnKeyupHandler,true);d.addEventListener("touchend",this._fnTouchendHandler,true);};a.prototype.onkeyup=function(e){if(this.getEditable()){if((P.events.sapdelete.fnCheck(e)||P.events.sapbackspace.fnCheck(e))){this.firePress({scope:"Actions",action:"Remove"});}if(P.events.sapspace.fnCheck(e)||P.events.sapenter.fnCheck(e)){this._preventDefault(e);}}};a.prototype._preventDefault=function(e){if(this.getEditable()){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();return false;}return true;};a.prototype.load=function(){return Promise.resolve();};a.prototype._setSize=function(){var s={};switch(this.getDisplayFormat()){case D.Flat:s.width=2;s.height=1;break;case D.FlatWide:s.width=4;s.height=1;break;case D.StandardWide:s.width=4;s.height=2;break;default:s=this._parseTileSize(this.getTileSize());break;}if(s){this.setWidth(s.width);this.setHeight(s.height);}};a.prototype._parseTileSize=function(t){if(!t){return null;}var s=t.split("x");var S={height:parseInt(s[0],10),width:parseInt(s[1],10)};if(!S.width||!S.height){return null;}S.width=S.width*2;S.height=S.height*2;return S;};a.prototype.getAvailableDisplayFormats=function(){var b,s=this.getSupportedDisplayFormats(),d=this.getDisplayFormat();b=s.filter(function(f){return f!==d;});var c=b.indexOf("compact");var t=this.getTitle();var e=this.getTargetURL();if(c>-1&&(!t||!e)){b.splice(c,1);}return b;};return a;});
sap.ui.predefine('sap/ushell/services/_VisualizationInstantiation/VizInstanceAbap',["sap/ushell/services/_VisualizationInstantiation/VizInstance","sap/m/library","sap/base/Log","sap/ushell/library"],function(V,m,L,u){"use strict";var a=m.LoadState;var D=u.DisplayFormat;var b=V.extend("sap.ushell.ui.launchpad.VizInstanceAbap",{metadata:{library:"sap.ushell"},fragment:"sap.ushell.services._VisualizationInstantiation.VizInstanceAbap"});b.prototype.init=function(){V.prototype.init.apply(this,arguments);this._oChipInstancePromise=sap.ushell.Container.getServiceAsync("PageBuilding").then(function(p){var f=p.getFactory();var i=this.getInstantiationData();var r;var B;if(!i.simplifiedChipFormat){r={chipId:i.chip.id,chip:i.chip};}else{var s=i.chip||{};B=s.bags;r={chipId:s.chipId,configuration:s.configuration?JSON.stringify(s.configuration):"{}"};}var c=f.createChipInstance(r);this._addBagDataToChipInstance(c,B);return c;}.bind(this));};b.prototype._addBagDataToChipInstance=function(c,B){if(!B){return;}var o;var d;var s;var p;for(s in B){o=B[s];d=c.getBag(s);try{for(p in o.properties){d.setProperty(p,o.properties[p]);}for(p in o.texts){d.setText(p,o.texts[p]);}}catch(e){L.error("VizInstanceAbap._addBagDataToChipInstance: "+e.toString());}}};b.prototype.load=function(i){return this._oChipInstancePromise.then(function(r){this._oChipInstance=r;return new Promise(this._oChipInstance.load);}.bind(this)).then(function(){if(i){var p=this._oChipInstance.getContract("preview");if(!p){return Promise.reject(new Error("The chip instance has no preview contract"));}p.setEnabled(true);}var v=this._oChipInstance.getImplementationAsSapui5();this._setChipInstanceType();this._setContent(v);return Promise.resolve();}.bind(this)).catch(function(e){this.setState(a.Failed);return Promise.reject(e);}.bind(this));};b.prototype._setChipInstanceType=function(){var t=this._oChipInstance.getContract("types");if(t){t.setType(this._mapDisplayFormatToChip(this.getDisplayFormat()));}};b.prototype._mapDisplayFormatToChip=function(d){if(d===D.Standard){return"tile";}return d;};b.prototype._setVisible=function(v){var o=this._oChipInstance&&!this._oChipInstance.isStub()&&this._oChipInstance.getContract("visible");if(o){o.setVisible(v);}};b.prototype.refresh=function(){if(this._oChipInstance){this._oChipInstance.refresh();}};b.prototype.setActive=function(c,r){this._setVisible(c);if(r){this.refresh();}return this.setProperty("active",c,false);};return b;});
sap.ui.predefine('sap/ushell/services/_VisualizationInstantiation/VizInstanceCdm',["sap/ushell/services/_VisualizationInstantiation/VizInstance","sap/m/library","sap/ui/core/Component","sap/base/util/ObjectPath","sap/base/util/deepExtend","sap/ui/core/ComponentContainer"],function(V,m,C,O,d,a){"use strict";var L=m.LoadState;var b=V.extend("sap.ushell.ui.launchpad.VizInstanceCdm",{metadata:{library:"sap.ushell"},fragment:"sap.ushell.services._VisualizationInstantiation.VizInstanceCdm"});b.prototype.load=function(){var c=this._getComponentConfiguration();return C.create(c).then(function(o){this._oComponent=o;var e=new a({component:o});o.setParent(this);this._setContent(e);this._setComponentTileVisible(this.getActive());}.bind(this)).catch(function(e){this.setState(L.Failed);return Promise.reject(e);}.bind(this));};b.prototype._getComponentConfiguration=function(){var v=this.getInstantiationData().vizType;var o=this.getVizConfig();var c=O.get(["sap.platform.runtime","componentProperties"],v);c=d({},this._getComponentProperties(),c);var e={name:v["sap.ui5"].componentName,componentData:{properties:c},url:O.get(["sap.platform.runtime","componentProperties","url"],v),manifest:O.get(["sap.platform.runtime","componentProperties","manifest"],v),asyncHints:O.get(["sap.platform.runtime","componentProperties","asyncHints"],v)};var i=O.get(["sap.platform.runtime","includeManifest"],v);var I=O.get(["sap.platform.runtime","includeManifest"],o);if(i||I){e.manifest=d({},v,o);}if(typeof e.manifest==="object"&&c.manifest===true){c.manifest=e.manifest;}return e;};b.prototype._getComponentProperties=function(){return{title:this.getTitle(),subtitle:this.getSubtitle(),icon:this.getIcon(),info:this.getInfo(),indicatorDataSource:this.getIndicatorDataSource(),dataSource:this.getDataSource(),contentProviderId:this.getContentProviderId(),targetURL:this.getTargetURL(),displayFormat:this.getDisplayFormat(),numberUnit:this.getNumberUnit()};};b.prototype._setComponentTileVisible=function(v){if(this._oComponent&&typeof this._oComponent.tileSetVisible==="function"){this._oComponent.tileSetVisible(v);}};b.prototype.setActive=function(c,r){this._setComponentTileVisible(c);if(r){this.refresh();}return this.setProperty("active",c,false);};b.prototype.refresh=function(){if(this._oComponent&&typeof this._oComponent.tileRefresh==="function"){this._oComponent.tileRefresh();}};return b;});
sap.ui.predefine('sap/ushell/services/_VisualizationInstantiation/VizInstanceLaunchPage',["sap/ushell/services/_VisualizationInstantiation/VizInstance","sap/base/Log"],function(V,L){"use strict";var a=V.extend("sap.ushell.ui.launchpad.VizInstanceLaunchPage",{metadata:{library:"sap.ushell"},fragment:"sap.ushell.services._VisualizationInstantiation.VizInstanceLaunchPage"});a.prototype.load=function(){var t=this.getInstantiationData().launchPageTile;return sap.ushell.Container.getServiceAsync("LaunchPage").then(function(l){return new Promise(function(r,b){try{l.getCatalogTileViewControl(t).done(r).fail(b);}catch(e){l.getTileView(t).done(r).fail(b);}}).then(function(T){this.setTileSize(l.getTileSize(t));this._setContent(T);}.bind(this));}.bind(this));};return a;});
sap.ui.predefine('sap/ushell/services/_VisualizationInstantiation/VizInstanceLink',["sap/m/library","sap/ushell/library","sap/m/GenericTile","sap/ushell/services/_VisualizationInstantiation/VizInstance","sap/ui/thirdparty/hasher","sap/ushell/Config","sap/ushell/utils/WindowUtils","sap/ushell/services/AppType","sap/m/ActionSheet"],function(m,u,G,V,h,C,W,A,a){"use strict";var b=m.GenericTileMode;var c=m.GenericTileScope;var D=u.DisplayFormat;var d=G.extend("sap.ushell.ui.launchpad.VizInstanceLink",{metadata:{library:"sap.ushell",properties:{title:{type:"string",defaultValue:"",group:"Appearance",bindable:true},subtitle:{type:"string",defaultValue:"",group:"Appearance",bindable:true},editable:{type:"boolean",defaultValue:false,group:"Behavior",bindable:true},active:{type:"boolean",group:"Misc",defaultValue:false},targetURL:{type:"string",group:"Misc"},mode:{type:"sap.m.GenericTileMode",group:"Appearance",defaultValue:b.LineMode},displayFormat:{type:"string",defaultValue:D.Compact},supportedDisplayFormats:{type:"string[]",defaultValue:[D.Compact]},dataHelpId:{type:"string",defaultValue:""}},defaultAggregation:"tileActions",aggregations:{tileActions:{type:"sap.m.Button",forwarding:{getter:"_getTileActionSheet",aggregation:"buttons"}}}},renderer:G.getMetadata().getRenderer()});d.prototype.init=function(){G.prototype.init.apply(this,arguments);this.attachPress(this._handlePress,this);};d.prototype.exit=function(){if(this._oActionSheet){this._oActionSheet.destroy();}};d.prototype._getTileActionSheet=function(){if(!this._oActionSheet){this._oActionSheet=new a();}return this._oActionSheet;};d.prototype._handlePress=function(){if(this.getEditable()){this._getTileActionSheet().openBy(this);return;}var t=this.getTargetURL();if(!t){return;}if(t[0]==="#"){h.setHash(t);}else{var l=C.last("/core/shell/enableRecentActivity")&&C.last("/core/shell/enableRecentActivityLogging");if(l){var r={title:this.getTitle(),appType:A.URL,url:this.getTargetURL(),appId:this.getTargetURL()};sap.ushell.Container.getRenderer("fiori2").logRecentActivity(r);}W.openURL(t,"_blank");}};d.prototype.load=V.prototype.load;d.prototype.setDataHelpId=function(v){this.data("help-id",v,true);return this.setProperty("dataHelpId",v);};d.prototype.setTitle=function(v){this.setHeader(v);return this.setProperty("title",v);};d.prototype.setSubtitle=function(v){this.setSubheader(v);return this.setProperty("subtitle",v);};d.prototype.setTargetURL=function(v){this.setUrl(v);return this.setProperty("targetURL",v);};d.prototype.setProperty=function(p,v,s){if(p==="title"){this.setProperty("header",v,s);}if(p==="subtitle"){this.setProperty("subheader",v,s);}if(p==="targetURL"){this.setProperty("url",v,s);}if(p==="editable"){if(v){this.setProperty("scope",c.Actions,s);}else{this.setProperty("scope",c.Display,s);}}return G.prototype.setProperty.apply(this,arguments);};d.prototype.getAvailableDisplayFormats=V.prototype.getAvailableDisplayFormats;return d;});
sap.ui.predefine('sap/ushell/ui/AppContainer',["sap/ui/thirdparty/jquery","sap/ui/core/Control","sap/ui/Device","sap/base/Log","sap/ushell/renderers/fiori2/AccessKeysHandler","./AppContainerRenderer"],function(q,C,D,L,A){"use strict";var a=C.extend("sap.ushell.ui.AppContainer",{metadata:{library:"sap.ushell",properties:{visible:{type:"boolean",group:"Appearance",defaultValue:true}},aggregations:{pages:{type:"sap.ui.core.Control",multiple:true,singularName:"pages"}},events:{beforeNavigate:{parameters:{fromId:{type:"string"},from:{type:"sap.ui.core.Control"},toId:{type:"string"},to:{type:"sap.ui.core.Control"}}},afterNavigate:{parameters:{fromId:{type:"string"},from:{type:"sap.ui.core.Control"},toId:{type:"string"},to:{type:"sap.ui.core.Control"}}}}}});a.prototype.addPages=function(c){if(this.getPages().indexOf(c)>-1){return;}c.toggleStyleClass("hidden",true);this.addAggregation("pages",c,true);var r,d=this.getDomRef();if(d){r=sap.ui.getCore().createRenderManager();r.render(c,d);r.destroy();}};a.prototype.addCenterViewPort=a.prototype.addPages;a.prototype.removeCenterViewPort=function(i){this.removeAggregation("pages",i,true);};a.prototype.getCurrentCenterPage=function(){return this.getPages().reduce(function(c,p){return(p&&!p.hasStyleClass("hidden"))?p.getId():c;},null);};a.prototype.navTo=function(v,p){var t=sap.ui.getCore().byId(p),c=this.getCurrentCenterPage(),o=sap.ui.getCore().byId(c)||null,h=sap.ushell.Container.getRenderer("fiori2").byId("Shell-home-component-container"),H=h&&h.getId(),N=c&&(H===c),b=H===p;if(v!=="centerViewPort"){L.error("Navigation to "+v+" is not allowed in Fiori3");return;}if(this.getPages().indexOf(t)===-1){L.error("AppContainer: invalid navigation target");return;}if(D.system.desktop&&N){this._saveFocus();}if(c!==p){this.fireBeforeNavigate({toId:p,to:t,fromId:c,from:o});}this.getPages().forEach(function(P){if(P){P.toggleStyleClass("hidden",P.getId()!==p);}});if(D.system.desktop&&b){this._restoreFocus();}if(c!==p){this.fireAfterNavigate({toId:p,to:t,fromId:c,from:o});}};a.prototype._restoreFocus=function(){var c;if(this.sLastFocusId){A.registerAppKeysHandler(this.fnLastAppKeyHandler);c=sap.ui.getCore().byId(this.sLastFocusId);if(c){c.focus();}}};a.prototype._saveFocus=function(){var o=q(document.activeElement).control(0);this.sLastFocusId=o?o.getId():null;this.fnLastAppKeyHandler=A.getAppKeysHandler();};a.prototype.getViewPortControl=function(v,c){return this.getPages().reduce(function(o,p){return(v==="centerViewPort"&&p&&p.getId()===c)?p:o;},null);};var n=function(){};a.prototype.switchState=n;a.prototype._handleSizeChange=n;a.prototype.shiftCenterTransitionEnabled=n;a.prototype.shiftCenterTransition=n;a.prototype.addLeftViewPort=n;a.prototype.addRightViewPort=n;a.prototype.attachAfterSwitchState=n;a.prototype.detachAfterSwitchState=n;a.prototype.attachAfterSwitchStateAnimationFinished=n;a.prototype.detachAfterSwitchStateAnimationFinished=n;a.prototype.getCurrentState=function(){return"Center";};return a;});
sap.ui.predefine('sap/ushell/ui/AppContainerRenderer',[],function(){"use strict";var A={};A.render=function(r,c){if(!c.getVisible()){return;}r.write("<div");r.writeControlData(c);r.write(">");c.getPages().forEach(function(p){r.renderControl(p);});r.write("</div>");};return A;},true);
sap.ui.predefine('sap/ushell/ui/ShellHeader',["sap/ui/core/Control","sap/ui/core/theming/Parameters","sap/ui/Device","sap/ui/dom/units/Rem","sap/ushell/EventHub","sap/ushell/library","sap/ushell/ui/shell/ShellAppTitle","sap/ushell/ui/ShellHeaderRenderer","sap/ushell/utils"],function(C,T,D,R,E,u,S,a,b){"use strict";var s="sapUshellShellShowSearchOverlay";var _=0;var c;var d="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";var f=sap.ui.require.toUrl("sap/ushell")+"/themes/base/img/SAPLogo.svg";var g=C.extend("sap.ushell.ui.ShellHeader",{metadata:{properties:{logo:{type:"sap.ui.core.URI",defaultValue:""},showLogo:{type:"boolean",defaultValue:true},homeUri:{type:"sap.ui.core.URI",defaultValue:"#"},searchState:{type:"string",defaultValue:"COL"},ariaLabel:{type:"string"},centralAreaElement:{type:"string",defaultValue:null},title:{type:"string",defaultValue:""}},aggregations:{headItems:{type:"sap.ushell.ui.shell.ShellHeadItem",multiple:true},headEndItems:{type:"sap.ui.core.Control",multiple:true},search:{type:"sap.ui.core.Control",multiple:false},appTitle:{type:"sap.ushell.ui.shell.ShellAppTitle",multiple:false}},associations:{shellLayout:{type:"sap.ui.base.ManagedObject",multiple:false}},events:{searchSizeChanged:{}}}});g.prototype.getShellLayoutControl=function(){return sap.ui.getCore().byId(this.getShellLayout());};g.prototype.createUIArea=function(){var h=window.document.getElementById("shell-hdr");if(!h){window.document.body.insertAdjacentHTML("afterbegin","<div id=\"shell-hdr\" class=\"sapContrastPlus sapUshellShellHead\"></div>");this.placeAt("shell-hdr");}};g.prototype.SearchState={COL:"COL",EXP:"EXP",EXP_S:"EXP_S"};g.prototype.init=function(){D.media.attachHandler(this.refreshLayout,this,D.media.RANGESETS.SAP_STANDARD);D.resize.attachHandler(this.refreshLayout,this);this._fnFocusListener=this._handleFocus.bind(this);this.addDelegate({onBeforeFastNavigationFocus:function(e){e.preventDefault();this._accessKeyHandler.sendFocusBackToShell(e);}.bind(this)});E.once("ShellNavigationInitialized").do(function(){sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(o){this._rerenderLogoNavigationFilterBound=this._rerenderLogoNavigationFilter.bind(this);o.registerNavigationFilter(this._rerenderLogoNavigationFilterBound);this._rerenderLogoNavigationFilterBound.detach=function(){o.unregisterNavigationFilter(this._rerenderLogoNavigationFilterBound);};}.bind(this));}.bind(this));};g.prototype.exit=function(){D.media.detachHandler(this.refreshLayout,this,D.media.RANGESETS.SAP_STANDARD);D.resize.detachHandler(this.refreshLayout,this);var o=window.document.getElementById("shell-hdr");if(o){o.parentElement.removeChild(o);}if(this._rerenderLogoNavigationFilterfnRerenderLogoNavigationFilter){this._rerenderLogoNavigationFilterfnRerenderLogoNavigationFilter.detach();}};g.prototype._toggleFocusListener=function(t){var A=window.document.getElementById("sapUshellHeaderAccessibilityHelper");if(A){A[t?"addEventListener":"removeEventListener"]("focus",this._fnFocusListener);}};g.prototype.setAccessKeyHandler=function(A){this._accessKeyHandler=A;};g.prototype._handleFocus=function(e){var t=this;function h(){if(t._accessKeyHandler.bForwardNavigation){var H=t.getHeadItems();if(H.length>0){H[0].focus();}else{t.getAppTitle().focus();}}else{var k=t.getHeadEndItems();if(k.length>0){k[k.length-1].focus();}else{t.getAppTitle().focus();}}t._accessKeyHandler.fromOutside=false;}if(this._accessKeyHandler){if(this._accessKeyHandler.fromOutside||this._accessKeyHandler.bForwardNavigation){h();}else{this._accessKeyHandler._handleEventUsingExternalKeysHandler(e);var A=window.document.getElementById("sapUshellHeaderAccessibilityHelper");if(window.document.activeElement===A){var j=window.document.querySelectorAll("#canvas [tabindex='0']");var F;for(var i=j.length-1;i>=0;i--){if(j[i].offsetWidth>0&&j[i].offsetHeight>0){F=j[i];break;}}if(F){F.focus();}else{h();return;}}this._accessKeyHandler.bFocusOnShell=false;}}};g.prototype.onsapspace=function(e){if(e.target===this.getDomRef("logo")){window.location.href=e.target.href;}};g.prototype.onBeforeRendering=function(){this._toggleFocusListener(false);};g.prototype.onAfterRendering=function(){var h=this.getDomRef();if(!c&&h.parentElement.getBoundingClientRect().height>0){h.style.visibility="hidden";h.style.height="2.75rem";return;}this.refreshLayout();this._toggleFocusListener(true);};g.prototype.onThemeChanged=function(e){c=e.theme;this.invalidate();};g.prototype.getLogo=function(){return this.getProperty("logo")||(sap.ui.getCore().isThemeApplied()?T._getThemeImage()||f:d);};g.prototype.refreshLayout=function(){if(!this.getDomRef()){return;}this._setAppTitleFontSize();if(this.getSearchVisible()){var o=this.getDomRef("hdr-search");o.style.display="none";this._hideElementsForSearch();o.style.display="";o.style["max-width"]=_+"rem";this.fireSearchSizeChanged({remSize:R.fromPx(o.getBoundingClientRect().width),isFullWidth:this.isPhoneState()||this.getDomRef("hdr-end").style.display==="none"});}};g.prototype._setAppTitleFontSize=function(){var B=this.getDomRef("hdr-begin"),A=window.document.getElementById("shellAppTitle"),e="sapUshellHeadTitleWithSmallerFontSize";if(B&&A&&A.style.display!=="none"){var t=A.querySelector("h1");if(t){t.classList.remove(e);A.style.overflow="visible";var o=B.getBoundingClientRect(),i=o.x+o.width,h=A.getBoundingClientRect(),j=h.x+h.width;if(j>i){t.classList.add(e);A.style.overflow="hidden";}}}};g.prototype.removeHeadItem=function(i){if(typeof i==="number"){i=this.getHeadItems()[i];}this.removeAggregation("headItems",i);};g.prototype.addHeadItem=function(i){this.addAggregation("headItems",i);};g.prototype.isPhoneState=function(){var e=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD).name;var h=this.getDomRef().getBoundingClientRect().width>_;return(D.system.phone||e==="Phone"||!h);};g.prototype.setSearchState=function(e,m,w){if(this.SearchState[e]&&this.getSearchState()!==e){if(typeof m==="boolean"){w=m;m=undefined;}this.setProperty("searchState",e,false);var h=(e!=="COL");var i=this.getShellLayoutControl();if(i){i.toggleStyleClass(s,h&&w);}_=h?m||35:0;}};g.prototype._hideElementsForSearch=function(){var n,o=this.getDomRef("hdr-search-container"),B=this.getDomRef("hdr-begin"),h=this.getDomRef("hdr-center"),j=this.getDomRef("hdr-end");if(this.getSearchState()==="EXP"||this.isPhoneState()){n=R.toPx(_+3);}else{n=R.toPx(9+0.5);}var k=[B];Array.prototype.forEach.call(B.childNodes,function(e){k.unshift(e);});if(h){k.unshift(h);}B.style.flexBasis="";j.style.display="";k.forEach(function(e){e.style.display="";});for(var i=0;i<k.length;i++){if(n>o.getBoundingClientRect().width){k[i].style.display="none";if(h&&i===0){B.style.flexBasis="auto";}}else{return;}}if(R.toPx(_)>o.getBoundingClientRect().width){j.style.display="none";}};g.prototype.getSearchWidth=function(){return _;};g.prototype.isHomepage=function(){var h=(window.hasher&&"#"+window.hasher.getHash())||"";var r=new RegExp("[?]"+"(?:"+"(?!&[/])."+")*");var H=h.replace(r,"");return b.isRootIntent(H)||H==="#Launchpad-openFLPPage";};g.prototype._rerenderLogoNavigationFilter=function(n,o){var e=sap.ushell.Container.getService("ShellNavigation");var A=e.hashChanger.isInnerAppNavigation(n,o);if(A){this.invalidate();}return e.NavigationFilterStatus.Continue;};g.prototype.getSearchVisible=function(){return this.getSearchState()!==this.SearchState.COL;};g.prototype.getCentralControl=function(){return sap.ui.getCore().byId(this.getCentralAreaElement());};g.prototype.setNoLogo=function(){this.setLogo(d);};g.prototype._getLeanMode=function(){return(window.location.search||"").indexOf("appState=lean")>=0;};return g;},true);
sap.ui.predefine('sap/ushell/ui/ShellHeaderRenderer',["sap/ushell/resources","sap/ui/Device"],function(r,D){"use strict";var S={apiVersion:2};S.render=function(a,s){var i=s.getId();var c=s.getCentralControl();a.openStart("header",s);if(!s.getVisible()){a.style("display","none");}a.class("sapUshellShellHeader");a.class("sapUshellShellCntnt");a.attr("aria-label",r.i18n.getText("Shell_Header_AriaLabel"));a.attr("data-sap-ui-customfastnavgroup","true");a.openEnd();a.openStart("div");a.attr("id","sapUshellHeaderAccessibilityHelper");a.attr("tabindex","0");a.openEnd();a.close("div");a.openStart("div");a.attr("id",i+"-hdr-begin");a.class("sapUshellShellHeadBegin");if(c){a.class("sapUshellHeadWithCenter");}a.openEnd();this.renderHeaderItems(a,s);this.renderLogo(a,s);this.renderTitle(a,s);a.close("div");if(c){a.openStart("div",c);a.attr("id",i+"-hdr-center");a.class("sapUshellShellHeadCenter");a.openEnd();a.renderControl(c);a.close("div");}a.openStart("div");a.attr("id",i+"-hdr-search-container");a.class("sapUshellShellHeadSearchContainer");a.openEnd();this.renderSearch(a,s);a.close("div");a.openStart("div");a.attr("id",i+"-hdr-end");a.class("sapUshellShellHeadEnd");a.openEnd();this.renderHeaderEndItems(a,s);a.close("div");a.close("header");};S.renderSearch=function(a,s){var o=s.getSearch();a.openStart("div");a.attr("id",s.getId()+"-hdr-search");a.class("sapUshellShellSearch");a.style("max-width",s.getSearchWidth()+"rem");if(s.getSearchState()==="COL"){a.style("display","none");}a.openEnd();if(o){a.renderControl(o);}a.close("div");};S.renderTitle=function(a,s){var t=s.getTitle();a.renderControl(s.getAppTitle());if(t){a.openStart("div");a.attr("id",s.getId()+"-hdr-shell-title");a.class(s.getAppTitle()?"sapUshellShellHeadSubtitle":"sapUshellShellHeadTitle");a.openEnd();a.openStart("h2");a.class("sapUshellHeadTitle");a.attr("aria-level","2");a.openEnd();a.text(t);a.close("h2");a.close("div");}};S.renderHeaderItems=function(a,h){var I=h.getHeadItems();for(var i=0;i<I.length;i++){if(I[i].getId()==="homeBtn"&&h.getShowLogo()){continue;}a.renderControl(I[i]);}};S.renderHeaderEndItems=function(a,h){h.getHeadEndItems().forEach(a.renderControl);};S.renderLogo=function(a,h){if(!h.getShowLogo()){return;}var l=h._getLeanMode();var A=r.i18n.getText("homeBtn_tooltip"),t=r.i18n.getText("homeBtn_tooltip_text"),i=h.getLogo();a.openStart(l?"div":"a");a.attr("id",h.getId()+"-logo");a.class("sapUshellShellIco");if(l){a.class("sapUshellLean");}else{a.attr("href",h.getHomeUri());a.attr("title",t);a.attr("aria-label",A);}a.openEnd();a.voidStart("img");a.attr("id",h.getId()+"-icon");a.attr("alt",r.i18n.getText("SHELL_LOGO_TOOLTIP"));a.attr("src",i);a.voidEnd();a.close(l?"div":"a");};return S;},true);
sap.ui.predefine('sap/ushell/ui/footerbar/AddBookmarkButton',["sap/base/Log","sap/m/Button","sap/m/ButtonRenderer","sap/m/Dialog","sap/m/library","sap/m/MessageBox","sap/m/Text","sap/m/VBox","sap/ui/core/library","sap/ui/core/mvc/View","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/library","sap/ushell/resources"],function(L,B,a,D,m,M,T,V,c,b,d,J,C,u,r){"use strict";var e=m.ButtonType;var f=c.ValueState;var g=c.mvc.ViewType;var A=B.extend("sap.ushell.ui.footerbar.AddBookmarkButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"function",group:"Misc",defaultValue:null},afterPressHandler:{type:"any",group:"Misc",defaultValue:null},title:{type:"string",group:"Misc",defaultValue:null},subtitle:{type:"string",group:"Misc",defaultValue:null},info:{type:"string",group:"Misc",defaultValue:null},tileIcon:{type:"string",group:"Appearance",defaultValue:null},numberUnit:{type:"string",group:"Appearance",defaultValue:null},keywords:{type:"string",group:"Misc",defaultValue:null},customUrl:{type:"any",group:"Misc",defaultValue:null},serviceUrl:{type:"any",group:"Misc",defaultValue:null},serviceRefreshInterval:{type:"string",group:"Misc",defaultValue:null},showGroupSelection:{type:"boolean",group:"Misc",defaultValue:true},showPageSelection:{type:"boolean",group:"Misc",defaultValue:true},appData:{type:"object",group:"Misc",defaultValue:null}}},renderer:"sap.m.ButtonRenderer"});A.prototype.init=function(){if(B.prototype.init){B.prototype.init.apply(this,arguments);}this.setIcon("sap-icon://add-favorite");this.setText(r.i18n.getText("addToHomePageBtn"));this.setEnabled();this.bSpaceEnabled=C.last("/core/spaces/enabled");this.oModel=new J({showGroupSelection:true,showPageSelection:true,title:"",subtitle:"",numberValue:0,info:"",icon:"",numberUnit:"",keywords:""});this.attachPress(function(){var h=this.getBeforePressHandler();if(h){h();}this.showAddBookmarkDialog();}.bind(this));};A.prototype.exit=function(){if(this.oDialog){this.oDialog.destroy();}if(this.oModel){this.oModel.destroy();}if(B.prototype.exit){B.prototype.exit.apply(this,arguments);}};A.prototype.setBookmarkTileView=function(v){this.bookmarkTileView=v;};A.prototype.getBookmarkTileView=function(){return this.bookmarkTileView;};A.prototype.showAddBookmarkDialog=function(){var o=this.getAppData()||{};var v={serviceUrl:this.getServiceUrl()||o.serviceUrl,customUrl:this.getCustomUrl()||o.customUrl};this.oModel.setProperty("/serviceUrl",!!v.serviceUrl);var h;if(this.bSpaceEnabled){h=b.create({type:g.XML,viewName:"sap.ushell.ui.bookmark.SaveOnPage",viewData:v});}else{h=b.create({type:g.JS,viewName:"sap.ushell.ui.footerbar.SaveAsTile",viewData:v});}return h.then(function(i){this.setBookmarkTileView(i);i.setModel(this.oModel);return new Promise(function(j,k){sap.ui.require(["sap/ui/layout/form/SimpleForm","sap/ui/layout/form/SimpleFormLayout"],function(S,l){this.oSimpleForm=new S({id:"bookmarkFormId",layout:l.ResponsiveGridLayout,content:[i],editable:true}).addStyleClass("sapUshellAddBookmarkForm");j(this._openDialog(this.oSimpleForm));}.bind(this));}.bind(this));}.bind(this));};A.prototype._openDialog=function(o){this.oDialog=new D({id:"bookmarkDialog",title:r.i18n.getText("addToHomePageBtn"),contentWidth:"25rem",content:o,beginButton:new B("bookmarkOkBtn",{text:r.i18n.getText("okBtn"),type:e.Emphasized,press:[this._handleOKButtonPress,this]}),endButton:new B("bookmarkCancelBtn",{text:r.i18n.getText("cancelBtn"),press:[this._handleCancelButtonPress,this]}),stretch:d.system.phone,horizontalScrolling:false,afterClose:function(){var h=this.getAfterPressHandler();if(h){h();}this._restoreDialogEditableValuesToDefault();this.oDialog.destroy();delete this.oDialog;}.bind(this)}).addStyleClass("sapContrastPlus");this.oDialog.open();return this.oDialog;};A.prototype._handleOKButtonPress=function(){if(this.bSpaceEnabled){this._handleOKButtonPressSpacesMode();}else{this._handleOKButtonPressClassicMode();}};A.prototype._handleCancelButtonPress=function(){if(this.bSpaceEnabled){this._handleCancelButtonPressSpacesMode();}else{this._handleCancelButtonPressClassicMode();}};A.prototype.setTitle=function(t){this.setProperty("title",t,true);this.oModel.setProperty("/title",t);return this;};A.prototype.setSubtitle=function(s){this.setProperty("subtitle",s,true);this.oModel.setProperty("/subtitle",s);return this;};A.prototype.setInfo=function(i){this.setProperty("info",i,true);this.oModel.setProperty("/info",i);return this;};A.prototype.setTileIcon=function(i){this.setProperty("tileIcon",i,true);this.oModel.setProperty("/icon",i);return this;};A.prototype.setShowGroupSelection=function(s){this.setProperty("showGroupSelection",s,true);this.oModel.setProperty("/showGroupSelection",s);return this;};A.prototype.setNumberUnit=function(n){this.setProperty("numberUnit",n,true);this.oModel.setProperty("/numberUnit",n);return this;};A.prototype.setServiceRefreshInterval=function(s){this.setProperty("serviceRefreshInterval",s,true);this.oModel.setProperty("/serviceRefreshInterval",s);return this;};A.prototype.setKeywords=function(k){this.setProperty("keywords",k,true);this.oModel.setProperty("/keywords",k);return this;};A.prototype.setAppData=function(o){this.setProperty("appData",o,true);var h=["showGroupSelection","title","subtitle","info","icon","numberUnit","keywords","serviceRefreshInterval"];var i=["showInfo","showPreview"];Object.keys(o).forEach(function(k){if(h.indexOf(k)>-1){var p=k==="icon"?"tileIcon":k;this.setProperty(p,o[k],true);}if(h.indexOf(k)>-1||i.indexOf(k)>-1){this.oModel.setProperty("/"+k,o[k]);}}.bind(this));return this;};A.prototype._restoreDialogEditableValuesToDefault=function(){if(this.oModel){this.oModel.setProperty("/title",this.getTitle());this.oModel.setProperty("/subtitle",this.getSubtitle());this.oModel.setProperty("/info",this.getInfo());}};A.prototype._handleCancelButtonPressSpacesMode=function(){var o=this.getBookmarkTileView().getController();var h=o.getBookmarkTileData();if(h.title||h.subtitle||h.info||h.pages.length){var s=r.i18n.getText("SaveAsTileDialog.MessageBox.Action.Discard");var i=r.i18n.getText("SaveAsTileDialog.MessageBox.Message.Discard");var t=r.i18n.getText("SaveAsTileDialog.MessageBox.Title.Discard");M.show(i,{title:t,actions:[s,M.Action.CANCEL],emphasizedAction:s,onClose:function(R){if(R===s){this.oDialog.close();}}.bind(this)});}else{this.oDialog.close();}};A.prototype._handleOKButtonPressSpacesMode=function(){var o=this.getBookmarkTileView().getController();var h=o.getBookmarkTileData();var v=true;if(h.pages.length===0){var p=o.byId("pageSelect");if(p){p.setValueState(f.Error);p.setValueStateText(r.i18n.getText("bookmarkPageSelectError"));v=false;}}if(!h.title||h.title.length<1){var t=o.byId("bookmarkTitleInput");if(t){t.setValueState(f.Error);t.setValueStateText(r.i18n.getText("bookmarkTitleInputError"));v=false;}}if(!v){return;}this.oDialog.setBusy(true);var i=h.pages;delete h.pages;var j=sap.ushell.Container.getServiceAsync("Bookmark");var k=i.map(function(P){return j.then(function(l){return l.addBookmarkToPage(h,P);}).then(function(){return{pageId:P,status:"resolved"};}).catch(function(s){L.error("Failed to add one a bookmark: ",s,"sap.ushell.ui.footerbar.AddBookmarkButton");return{pageId:P,error:s,status:"failed"};});});Promise.all(k).then(function(R){sap.ushell.Container.getServiceAsync("Message").then(function(l){var s=R.filter(function(n){return n.status==="resolved";}).length;var F=R.filter(function(n){return n.status==="failed";});if(s===1){l.info(r.i18n.getText("SaveAsTileDialog.MessageToast.TileCreatedInPage"));}else if(s>1){l.info(r.i18n.getText("SaveAsTileDialog.MessageToast.TileCreatedInPages"));}if(F.length){this._showErrorDialog(F,s,h.title);}this.oDialog.setBusy(false);this.oDialog.close();}.bind(this));}.bind(this));};A.prototype._showErrorDialog=function(h,n,i){sap.ushell.Container.getServiceAsync("Message").then(function(o){var E,s;if(h.length===1){if(n===0){E=r.i18n.getText("SaveAsTileDialog.MessageBox.SinglePageError");}else{E=r.i18n.getText("SaveAsTileDialog.MessageBox.OnePageError");}s=r.i18n.getText("SaveAsTileDialog.MessageBox.PageErrorDetail",[i,h[0].pageId]);}else if(h.length>1){if(n===0){E=r.i18n.getText("SaveAsTileDialog.MessageBox.AllPagesError");}else{E=r.i18n.getText("SaveAsTileDialog.MessageBox.SomePagesError");}var p=h.map(function(F){return F.pageId;}).join("\n");s=r.i18n.getText("SaveAsTileDialog.MessageBox.PagesErrorDetail",[i,p]);}var j=new V({items:[new T({text:s}).addStyleClass("sapUiSmallMarginBottom"),new T({text:h.map(function(F){return F.error;}).join("\n")}).addStyleClass("sapUiSmallMarginBottom"),new T({text:r.i18n.getText("SaveAsTileDialog.MessageBox.PageErrorSolution")})]});o.errorWithDetails(E,j);});};A.prototype._handleCancelButtonPressClassicMode=function(){this.oDialog.close();};A.prototype._handleOKButtonPressClassicMode=function(){var o=this.getBookmarkTileView();var h=o.getController();var i=h.getBookmarkTileData();if(!i.title||i.title.length<1){var t=o.getTitleInput();if(t){t.setValueState(f.Error);t.setValueStateText(r.i18n.getText("bookmarkTitleInputError"));return Promise.reject();}}this.oDialog.setBusy(true);var s=i.group?i.group.object:"";delete i.group;return Promise.all([sap.ushell.Container.getServiceAsync("Bookmark"),sap.ushell.Container.getServiceAsync("Message")]).then(function(R){var j=R[0];var k=R[1];return new Promise(function(l,n){j.addBookmark(i,s).done(l).fail(n);}).then(function(){k.info(r.i18n.getText("tile_created_msg"));}).catch(function(l){L.error("Failed to add bookmark",l,"sap.ushell.ui.footerbar.AddBookmarkButton");k.error(r.i18n.getText("fail_to_add_tile_msg"));});}).finally(function(){this.oDialog.setBusy(false);this.oDialog.close();}.bind(this));};A.prototype.setEnabled=function(E){var s="",p=true,S;if(sap.ushell.renderers&&sap.ushell.renderers.fiori2&&sap.ushell.renderers.fiori2.RendererExtensions){S=sap.ushell.renderers.fiori2.RendererExtensions.getConfiguration();if(S.appState){s=S.appState;}if(S.enablePersonalization!==undefined){p=S.enablePersonalization;}}if(s==="headerless"||s==="standalone"||s==="embedded"||s==="merged"||!p){E=false;}if(!sap.ushell.Container){if(this.getEnabled()){L.warning("Disabling 'Save as Tile' button: unified shell container not initialized",null,"sap.ushell.ui.footerbar.AddBookmarkButton");}E=false;}B.prototype.setEnabled.call(this,E);if(!E){this.addStyleClass("sapUshellAddBookmarkButton");}};return A;});
sap.ui.predefine('sap/ushell/ui/footerbar/ContactSupportButton',["sap/base/Log","sap/m/ButtonRenderer","sap/m/library","sap/ui/Device","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ushell/ui/launchpad/ActionItem"],function(L,B,m,D,q,u,r,A,a){"use strict";var b=m.ButtonType;var C=a.extend("sap.ushell.ui.footerbar.ContactSupportButton",{metadata:{library:"sap.ushell"},renderer:"sap.m.ButtonRenderer"});C.prototype.init=function(){if(a.prototype.init){a.prototype.init.apply(this,arguments);}this.setIcon("sap-icon://email");this.setText(r.i18n.getText("contactSupportBtn"));this.attachPress(this.showContactSupportDialog);this.setEnabled();};C.prototype.showContactSupportDialog=function(){sap.ui.require(["sap/ui/layout/form/SimpleForm","sap/ui/layout/form/SimpleFormLayout","sap/m/TextArea","sap/m/Link","sap/m/Label","sap/m/Text","sap/m/Dialog","sap/m/Button","sap/ushell/UserActivityLog"],function(S,c,T,d,e,f,g,h,U){var i="",j="",k="",l=[],o,n;n=function(){this.oDialog.removeContent(this.oBottomSimpleForm.getId());this.oBottomSimpleForm.destroy();if(this.oClientContext.navigationData.applicationInformation){i=this.oClientContext.navigationData.applicationInformation.applicationType;j=this.oClientContext.navigationData.applicationInformation.url;k=this.oClientContext.navigationData.applicationInformation.additionalInformation;}l.push(new f({text:this.translationBundle.getText("loginDetails")}).addStyleClass("sapUshellContactSupportHeaderInfoText"));l.push(new e({text:this.translationBundle.getText("userFld")}));l.push(new f({text:this.oClientContext.userDetails.fullName||""}));l.push(new e({text:this.translationBundle.getText("serverFld")}));l.push(new f({text:window.location.host}));if(this.oClientContext.userDetails.eMail&&this.oClientContext.userDetails.eMail!==""){l.push(new e({text:this.translationBundle.getText("eMailFld")}));l.push(new f({text:this.oClientContext.userDetails.eMail||""}));}l.push(new e({text:this.translationBundle.getText("languageFld")}));l.push(new f({text:this.oClientContext.userDetails.Language||""}));if(this.oClientContext.shellState==="app"||this.oClientContext.shellState==="standalone"){l.push(new f({text:""}));l.push(new f({text:this.translationBundle.getText("navigationDataFld")}).addStyleClass("sapUshellContactSupportHeaderInfoText"));l.push(new e({text:this.translationBundle.getText("hashFld")}));l.push(new f({text:this.oClientContext.navigationData.navigationHash||""}));l.push(new f({text:""}));l.push(new f({text:this.translationBundle.getText("applicationInformationFld")}).addStyleClass("sapUshellContactSupportHeaderInfoText"));l.push(new e({text:this.translationBundle.getText("applicationTypeFld")}));l.push(new f({text:i}));l.push(new e({text:this.translationBundle.getText("urlFld")}));l.push(new f({text:j}));l.push(new e({text:this.translationBundle.getText("additionalInfoFld")}));l.push(new f({text:k}));}this.oBottomSimpleForm=new S("technicalInfoBox",{layout:c.ResponsiveLayout,content:l}).addStyleClass("sapUshellTechnicalInfoBox");if(D.os.ios&&D.system.phone){this.oBottomSimpleForm.addStyleClass("sapUshellContactSupportFixWidth");}o=this.oBottomSimpleForm.onAfterRendering;this.oBottomSimpleForm.onAfterRendering=function(){o.apply(this,arguments);var p=q(this.getDomRef());p.attr("tabIndex",0);setTimeout(function(){this.focus();}.bind(p),700);};this.oDialog.addContent(this.oBottomSimpleForm);}.bind(this);this._embedLoginDetailsInBottomForm=n;this.translationBundle=r.i18n;this.oClientContext=U.getMessageInfo();this.oLink=new d({text:this.translationBundle.getText("technicalDataLink")});this.oBottomSimpleForm=new S("bottomForm",{editable:false,content:[this.oLink]});this.sendButton=new h("contactSupportSendBtn",{text:this.translationBundle.getText("sendBtn"),type:b.Emphasized,enabled:false,press:function(){sap.ushell.Container.getServiceAsync("SupportTicket").then(function(s){var t=this.oTextArea.getValue();s.createTicket({text:t,clientContext:this.oClientContext}).done(function(){sap.ushell.Container.getServiceAsync("Message").then(function(M){M.info(this.translationBundle.getText("supportTicketCreationSuccess"));}.bind(this));}.bind(this)).fail(function(){sap.ushell.Container.getServiceAsync("Message").then(function(M){M.error(this.translationBundle.getText("supportTicketCreationFailed"));}.bind(this));}.bind(this));this.oDialog.close();}.bind(this));}.bind(this)});this.cancelButton=new h("contactSupportCancelBtn",{text:this.translationBundle.getText("cancelBtn"),press:function(){this.oDialog.close();}.bind(this)});this.oTextArea=new T("textArea",{rows:7,liveChange:function(){if(/\S/.test(this.oTextArea.getValue())){this.sendButton.setEnabled(true);}else{this.sendButton.setEnabled(false);this.oTextArea.setValue("");}}.bind(this)});this.oTopSimpleForm=new S("topForm",{editable:false,content:[this.oTextArea],layout:c.ResponsiveGridLayout});this.oDialog=new g({id:"ContactSupportDialog",title:this.translationBundle.getText("contactSupportBtn"),contentWidth:"29.6rem",leftButton:this.sendButton,rightButton:this.cancelButton,initialFocus:"textArea",afterOpen:function(){q("#textArea").on("focusout",function(){window.scrollTo(0,0);});},afterClose:function(){this.oDialog.destroy();if(window.document.activeElement&&window.document.activeElement.tagName==="BODY"){window.document.getElementById("meAreaHeaderButton").focus();}}.bind(this)}).addStyleClass("sapUshellContactSupportDialog").addStyleClass("sapContrastPlus");this.oTextArea.setPlaceholder(this.translationBundle.getText("txtAreaPlaceHolderHeader"));this.oLink.attachPress(n.bind(this));this.oDialog.addCustomData(new A({key:"aria-label",value:this.translationBundle.getText("ContactSupportArialLabel"),writeToDom:true}));this.oDialog.addContent(this.oTopSimpleForm);this.oDialog.addContent(this.oBottomSimpleForm);this.oDialog.open();}.bind(this));};C.prototype.setEnabled=function(e){if(!sap.ushell.Container){if(this.getEnabled()){L.warning("Disabling 'Contact Support' button: unified shell container not initialized",null,"sap.ushell.ui.footerbar.ContactSupportButton");}e=false;}a.prototype.setEnabled.call(this,e);};return C;});
sap.ui.predefine('sap/ushell/ui/launchpad/AccessibilityCustomData',["sap/ui/core/CustomData"],function(C){"use strict";var A=C.extend("sap.ushell.ui.launchpad.AccessibilityCustomData");A.prototype._checkWriteToDom=function(){var i=sap.ui.getCore().getConfiguration().getAccessibility();if(!i){return null;}var k=this.getKey();var c=C.prototype._checkWriteToDom.apply(this,arguments);if(c&&(k.indexOf("aria-")===0||k==="role"||k==="tabindex")){c.key=c.key.replace(/^data-/,"");}return c;};return A;});
sap.ui.predefine('sap/ushell/ui/launchpad/ActionItem',["sap/m/Button","sap/m/ButtonRenderer","sap/m/library"],function(B,a,m){"use strict";var b=m.ButtonType;var A=B.extend("sap.ushell.ui.launchpad.ActionItem",{metadata:{library:"sap.ushell",properties:{actionType:{type:"string",group:"Appearance",defaultValue:"standard"}},events:{press:{},afterRendering:{}}},renderer:"sap.m.ButtonRenderer"});A.prototype.setActionType=function(t){if(!this.sOrigType){this.sOrigType=this.getType();}this.setType(t==="action"?b.Unstyled:this.sOrigType||b.Standard);this.setProperty("actionType",t,true);};return A;});
sap.ui.predefine('sap/ushell/ui/launchpad/Tile',["sap/base/Log","sap/m/Text","sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/core/Icon","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/AccessibilityCustomData","./TileRenderer"],function(L,T,M,C,I,q,u,r,A){"use strict";var a=C.extend("sap.ushell.ui.launchpad.Tile",{metadata:{library:"sap.ushell",properties:{long:{type:"boolean",group:"Misc",defaultValue:false},uuid:{type:"string",group:"Misc",defaultValue:null},tileCatalogId:{type:"string",group:"Misc",defaultValue:null},isCustomTile:{type:"boolean",group:"Misc",defaultValue:false},target:{type:"string",group:"Misc",defaultValue:null},debugInfo:{type:"string",group:"Misc",defaultValue:null},rgba:{type:"string",group:"Misc",defaultValue:null},animationRendered:{type:"boolean",group:"Misc",defaultValue:false},isLocked:{type:"boolean",group:"Misc",defaultValue:false},showActionsIcon:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false},ieHtml5DnD:{type:"boolean",group:"Misc",defaultValue:false},navigationMode:{type:"string",group:"Misc",defaultValue:null},isDraggedInTabBarToSourceGroup:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{tileViews:{type:"sap.ui.core.Control",multiple:true,singularName:"tileView"},pinButton:{type:"sap.ui.core.Control",multiple:true,singularName:"pinButton"}},events:{press:{},coverDivPress:{},afterRendering:{},showActions:{},deletePress:{}}}});a.prototype.init=function(){this.addEventDelegate({onsapenter:this._launchTileViaKeyboard.bind(this),onsapspace:this._launchTileViaKeyboard.bind(this)});};a.prototype.exit=function(){if(this.actionSheetIcon){this.actionSheetIcon.destroy();}if(this.actionIcon){this.actionIcon.destroy();}if(this.failedToLoadViewText){this.failedToLoadViewText.destroy();}};a.prototype.getFailedtoLoadViewText=function(){if(!this.failedToLoadViewText){this.failedToLoadViewText=new T({text:r.i18n.getText("Tile.failedToLoadView")});}return this.failedToLoadViewText;};a.prototype.getActionSheetIcon=function(){if(!this.getTileActionModeActive()){return undefined;}if(!this.actionSheetIcon){this.actionSheetIcon=new I({src:"sap-icon://overflow",tooltip:r.i18n.getText("configuration.category.tile_actions")}).addStyleClass("sapUshellTileActionIconDivBottomInner");}return this.actionSheetIcon;};a.prototype.ontap=function(){L.info("Tile clicked:",this.getDebugInfo(),"sap.ushell.ui.launchpad.Tile");this.firePress();};a.prototype.destroy=function(s){this.destroyTileViews();C.prototype.destroy.call(this,s);};a.prototype.addTileView=function(o,s){o.setParent(null);M.prototype.addAggregation.call(this,"tileViews",o,s);};a.prototype.destroyTileViews=function(){if(this.mAggregations.tileViews){this.mAggregations.tileViews.length=0;}};a.prototype.onBeforeRendering=function(){var d=this.getDomRef();if(d){var i=d.querySelector("a.sapUshellTileInner");if(i){i.onclick=null;}}};a.prototype.onAfterRendering=function(){if(this.getIsDraggedInTabBarToSourceGroup()){var t=this.getParent();t.removeAggregation("tiles",this,false);}this._redrawRGBA();this._disableInnerLink();this.fireAfterRendering();};a.prototype._disableInnerLink=function(){var d=this.getDomRef();var i=d.querySelector("a.sapUshellTileInner");if(i){i.onclick=function(e){e.preventDefault();};}};a.prototype._launchTileViaKeyboard=function(e){if(this.getTileActionModeActive()){this.fireCoverDivPress({id:this.getId()});}else{this._announceLoadingApplication();if(e.target.tagName!=="BUTTON"){var t=this.getTileViews()[0],p=false,c,o;if(t.firePress){t.firePress({id:this.getId()});}else if(t.getComponentInstance){c=t.getComponentInstance();if(c._oController&&c._oController.oView.getContent()){o=c._oController.oView.getContent()[0];if(o&&o.firePress){o.firePress({id:this.getId()});}}}else{while(t.getContent&&!p){t=t.getContent()[0];if(t.firePress){t.firePress({id:this.getId()});p=true;}}}}}};a.prototype.onfocusin=function(){var t=this.getDomRef();if(!t.classList.contains("sapUshellPlusTile")){var j=this.$().prevUntil("h3"),c;if(j.length>0){c=j[j.length-1].previousSibling;}else{c=t.previousSibling;}var o=t.querySelector(".sapUshellTileInner");if(o&&o.children&&o.children[0]){var l=[];if(c){l.push("sapUshellCatalogAccessibilityTileText");}else{l.push("sapUshellDashboardAccessibilityTileText");}var n=this.getNavigationMode();if(n){var N=r.i18n.getText(n+"NavigationMode");if(N){var s=this.getId()+"-navigationMode";if(!document.getElementById(s)){var b=document.createElement("div");b.setAttribute("id",s);b.style.display="none";b.innerText=N;o.appendChild(b);}l.push(s);}else{L.warning("The navigation mode is of a unkown mode, it can not be read!");}}l.push(o.children[0].getAttribute("id"));var d=t.querySelector(".sapUshellTileDeleteClickArea .sapUiIcon");if(d){l.push(d.id);}if(c){l.push(c.getAttribute("id"));}if(this.getTileActionModeActive()){l.push("sapUshellDashboardAccessibilityTileEditModeText");}t.setAttribute("aria-labelledby",l.join(" "));}}};a.prototype.onclick=function(e){if(this.getTileActionModeActive()){var s=e.originalEvent.srcElement;if(q(s).closest(".sapUshellTileDeleteClickArea").length>0){this.fireDeletePress();}else{this.fireCoverDivPress({id:this.getId()});}}else{this._announceLoadingApplication();}};a.prototype._announceLoadingApplication=function(){var o=document.getElementById("sapUshellLoadingAccessibilityHelper-appInfo"),l=r.i18n.getText("screenReaderNavigationLoading");if(o){o.setAttribute("role","alert");o.innerText=l;setTimeout(function(){o.removeAttribute("role");o.innerText="";},0);}};a.prototype._initDeleteAction=function(){var t=this;if(!this.deleteIcon){this.deleteIcon=new I({src:"sap-icon://decline",tooltip:r.i18n.getText("removeButtonTitle")});this.deleteIcon.addEventDelegate({onclick:function(e){t.fireDeletePress();e.stopPropagation();}});this.deleteIcon.addStyleClass("sapUshellTileDeleteIconInnerClass");this.deleteIcon.addCustomData(new A({key:"aria-label",value:r.i18n.getText("removeButtonLabel"),writeToDom:true}));}return this.deleteIcon;};a.prototype.setShowActionsIcon=function(s){if(s){if(!this.actionIcon){this.actionIcon=new I({size:"1rem",src:"sap-icon://overflow",press:function(){this.fireShowActions();this.addStyleClass("showTileActionsIcon");var e=sap.ui.getCore().getEventBus(),b=function(n,c,t){t.removeStyleClass("showTileActionsIcon");e.unsubscribe("dashboard","actionSheetClose",b);};e.subscribe("dashboard","actionSheetClose",b);}.bind(this)}).addStyleClass("sapUshellTileActionsIconClass");}}this.setProperty("showActionsIcon",s);};a.prototype.setIsDraggedInTabBarToSourceGroup=function(d){this.setProperty("isDraggedInTabBarToSourceGroup",d);this.setVisible(!d);};a.prototype.setRgba=function(v){this.setProperty("rgba",v);this._redrawRGBA();};a.prototype._redrawRGBA=function(){var R=this.getRgba(),j=this.$();if(R&&j){var m=this.getModel();j.css("background-color",R);j.unbind("mouseenter mouseleave");var b,t=j.css("border").split("px")[0];if(t>0){b=j.css("border-color");}else{b=R;}j.hover(function(){if(m&&!m.getProperty("/tileActionModeActive")){var o=j.css("box-shadow"),s=o?o.split(") ")[1]:null;if(s){j.css("box-shadow",s+" "+b);}}},function(){j.css("box-shadow","");});}};return a;});
sap.ui.predefine('sap/ushell/ui/launchpad/TileRenderer',["sap/ushell/Config","sap/base/Log","sap/m/Text"],function(C,L,T){"use strict";var a={apiVersion:2};a.render=function(r,t){var o=null,c;try{o=t.getTileViews()[0];}catch(e){L.warning("Failed to load tile view: ",e.message);o=t.getFailedtoLoadViewText();}var b=C.last("/core/home/gridContainer")&&t.getParent().getParent()||t.getParent(),d=[];if(b&&b.getTiles){d=b.getTiles();}else if(b&&b.getAppBoxesContainer&&b.getCustomTilesContainer){d=b.getAppBoxesContainer().concat(b.getCustomTilesContainer());}var v=d.filter(function(g){return g.getVisible();}),i=v.indexOf(t)>-1?v.indexOf(t)+1:"";if(!b){return;}r.openStart("li",t);if(C.last("/core/shell/model/enableHelp")){r.attr("data-help-id",t.getTileCatalogId());}r.class("sapUshellTile");if(t.getTileActionModeActive()){r.class("sapUshellTileWrapper");}if(o&&o.getContent){c=o.getContent();c.forEach(function(I){if(I.isA("sap.suite.ui.commons.FeedTile")){r.class("sapUshellFeedTileBG");}});}if(t.getLong()){r.class("sapUshellLong");}if(!t.getVisible()){r.class("sapUshellHidden");}if(t.getIsLocked()){r.class("sapUshellLockedTile");}if(C.last("/core/home/sizeBehavior")==="Small"){r.class("sapUshellSmall");}r.attr("aria-posinset",i);r.attr("aria-setsize",v.length);var f=b.getId()+"-titleText";r.attr("aria-describedby",f);if(t.getIeHtml5DnD()){r.attr("draggable","true");}r.attr("tabindex","-1");var l=t.data("layoutPosition");if(l){var s="-webkit-transfrm:"+l.translate3D+";-ms-transfrm:"+l.translate2D+";transfrm:"+l.translate3D;r.attr("style",s);}r.openEnd();if(t.getTileActionModeActive()){this.renderTileActionMode(r,t);this.renderTileView(r,t,o);}else{r.openStart("div");r.class("sapUshellTileWrapper");r.openEnd();this.renderTileView(r,t,o);if(t.getShowActionsIcon()){r.renderControl(t.actionIcon);}r.close("div");this.renderTileActionsContainer(r,o,t.getPinButton());}r.close("li");};a.renderTileActionsContainer=function(r,t,p){p=p.length?p[0]:undefined;if(p){p.addStyleClass("sapUshellActionButton");r.openStart("div");r.class("sapUshellTilePinButtonOverlay");if(t.getHeader){r.attr("role","toolbar");r.attr("aria-label",t.getHeader());}r.openEnd();r.renderControl(p);r.close("div");}};a.renderTileView=function(r,t,o){r.openStart("div");r.class("sapUshellTileInner");if(t.getTileActionModeActive()){r.class("sapUshellTileActionBG");}r.openEnd();r.renderControl(o);r.close("div");};a.renderTileActionMode=function(r,t){r.openStart("div");r.class("sapUshellTileActionLayerDiv");r.openEnd();if(!t.getIsLocked()){r.openStart("div");r.class("sapUshellTileDeleteClickArea");r.openEnd();r.openStart("div");r.class("sapUshellTileDeleteIconOuterClass");r.openEnd();r.renderControl(t._initDeleteAction());r.close("div");r.close("div");}r.openStart("div");r.class("sapUshellTileActionDivCenter");r.openEnd();r.close("div");r.openStart("div");r.class("sapUshellTileActionIconDivBottom");r.openEnd();r.openStart("div");r.class("sapUshellTileActionIconDivBottomInnerDiv");r.openEnd();r.renderControl(t.getActionSheetIcon());r.close("div");r.close("div");r.close("div");};return a;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/TileState',["sap/ui/core/Control","sap/ui/core/Icon","sap/ushell/resources","sap/ushell/library","./TileStateRenderer"],function(C,I,r){"use strict";var T=C.extend("sap.ushell.ui.launchpad.TileState",{metadata:{library:"sap.ushell",properties:{state:{type:"string",group:"Misc",defaultValue:"Loaded"}},events:{press:{}}}});T.prototype.init=function(){this._rb=r.i18n;this._sFailedToLoad=this._rb.getText("cannotLoadTile");this._oWarningIcon=new I(this.getId()+"-warn-icon",{src:"sap-icon://notification",size:"1.37rem"}).addStyleClass("sapSuiteGTFtrFldIcnMrk");this.attachPress(this._onPress);};T.prototype.onclick=function(){this.firePress();};T.prototype._onPress=function(e){if(this.getState()!=="Failed"){return;}if(!this.FailedTileDialog){sap.ui.require(["sap/ushell/ui/launchpad/FailedTileDialog"],function(F){this.FailedTileDialog=new F();this._onPress(e);}.bind(this));}else{this.FailedTileDialog.openFor(this);}};T.prototype.exit=function(){this._oWarningIcon.destroy();};T.prototype.setState=function(s,i){this.setProperty("state",s,i);return this;};return T;});
sap.ui.predefine('sap/ushell/ui/launchpad/TileStateRenderer',['sap/ui/core/HTML'],function(H){"use strict";var T={};T.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapUshellGT");r.writeClasses();r.write(">");var s=c.getState();r.write("<div");r.addClass("sapUshellOverlay");r.writeClasses();r.writeAttribute("id",c.getId()+"-overlay");if(s==="Failed"){r.writeAttribute("title",c._sFailedToLoad);}r.write(">");switch(s){case"Loading":var b=new H({content:"<div class='sapUshellTileStateLoading'><div>"});b.setBusyIndicatorDelay(0);b.setBusy(true);r.renderControl(b);break;case"Failed":r.write("<div");r.writeAttribute("id",c.getId()+"-failed-ftr");r.addClass("sapUshellTileStateFtrFld");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-failed-icon");r.addClass("sapUshellTileStateFtrFldIcn");r.writeClasses();r.write(">");r.renderControl(c._oWarningIcon);r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-failed-text");r.addClass("sapUshellTileStateFtrFldTxt");r.writeClasses();r.write(">");r.writeEscaped(c._sFailedToLoad);r.write("</div>");r.write("</div>");break;default:}r.write("</div>");r.write("</div>");};return T;},true);
sap.ui.predefine('sap/ushell/ui/shell/ContentRenderer',["sap/ui/base/Object"],function(B){"use strict";var C=B.extend("sap.ushell.ui.shell.ContentRenderer",{constructor:function(c,s,o,a){B.apply(this);this._id=s;this._cntnt=o;this._ctrl=c;this._rm=sap.ui.getCore().createRenderManager();this._cb=a||function(){};},destroy:function(){this._rm.destroy();delete this._rm;delete this._id;delete this._cntnt;delete this._cb;delete this._ctrl;if(this._rerenderTimer){clearTimeout(this._rerenderTimer);delete this._rerenderTimer;}B.prototype.destroy.apply(this,arguments);},render:function(){if(!this._rm){return;}if(this._rerenderTimer){clearTimeout(this._rerenderTimer);}this._rerenderTimer=setTimeout(function(){var $=jQuery(document.getElementById(this._id));var d=$.length>0;if(d){if(typeof(this._cntnt)==="string"){var c=this._ctrl.getAggregation(this._cntnt,[]);for(var i=0;i<c.length;i++){this._rm.renderControl(c[i]);}}else{this._cntnt(this._rm);}this._rm.flush($[0]);}this._cb(d);}.bind(this),0);}});return C;});
sap.ui.predefine('sap/ushell/ui/shell/OverflowListItem',["sap/m/StandardListItem","sap/ui/core/CustomData","sap/ushell/library","sap/ushell/ui/shell/ShellHeadItem"],function(S,C,u,a){"use strict";var s=a.getMetadata().getProperties();var O=S.extend("sap.ushell.ui.shell.OverflowListItem",{metadata:{properties:{floatingNumber:{type:s.floatingNumber.type,group:s.floatingNumber.group,defaultValue:s.floatingNumber.defaultValue},floatingNumberMaxValue:{type:s.floatingNumberMaxValue.type,group:s.floatingNumberMaxValue.group,defaultValue:s.floatingNumberMaxValue.defaultValue},floatingNumberType:{type:s.floatingNumberType.type,group:s.floatingNumberType.group,defaultValue:s.floatingNumberType.defaultValue}}},renderer:{}});O.prototype.FloatingNumberType=a.prototype.FloatingNumberType;O.prototype.init=a.prototype.init;O.prototype.onBeforeRendering=a.prototype.onBeforeRendering;O.prototype.tooltipFormatter=a.prototype.tooltipFormatter;O.prototype.floatingNumberFormatter=a.prototype.floatingNumberFormatter;O.prototype._getImage=function(){var i=this._oImage;if(!i){i=S.prototype._getImage.call(this);}if(this.getFloatingNumber()>0){i.addStyleClass("sapUshellShellHeadItmCounter");i.addCustomData(new C({key:"counter-content",value:this.floatingNumberFormatter(),writeToDom:true}));}else{i.removeStyleClass("sapUshellShellHeadItmCounter");}this._oImage=i;return this._oImage;};return O;},true);
sap.ui.predefine('sap/ushell/ui/shell/RightFloatingContainer',["sap/ui/core/Control","sap/ui/thirdparty/jquery","sap/ushell/library"],function(C,q){"use strict";var R=C.extend("sap.ushell.ui.shell.RightFloatingContainer",{metadata:{properties:{size:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"56px"},top:{type:"string",group:"Appearance",defaultValue:"0"},right:{type:"string",group:"Appearance",defaultValue:"0"},textVisible:{type:"boolean",group:"Appearance",defaultValue:true},insertItemsWithAnimation:{type:"boolean",group:"Appearance",defaultValue:true},hideItemsAfterPresentation:{type:"boolean",group:"Appearance",defaultValue:false},enableBounceAnimations:{type:"boolean",group:"Appearance",defaultValue:false},actAsPreviewContainer:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{floatingContainerItems:{type:"sap.ui.core.Control",multiple:true}},events:{afterRendering:{}}},renderer:{render:function(r,o){var i=sap.ui.getCore().getConfiguration().getRTL();r.write("<div");r.writeControlData(o);r.addClass("sapUshellRightFloatingContainer");r.writeClasses();r.addStyle("top",o.getTop()+"rem");r.addStyle(i?"left":"right",o.getRight());r.writeStyles();r.writeAttribute("data-role","alert");r.write(">");r.write("<ul");r.addClass("sapUshellNotificationListContainer");r.writeClasses();r.writeAttribute("role","list");r.write(">");this.renderFloatingContainerItems(r,o);r.write("</ul>");r.write("</div>");},renderFloatingContainerItems:function(r,o){var I=o.getInsertItemsWithAnimation(),a=o.getActAsPreviewContainer(),b=o.getFloatingContainerItems(),i;for(i=0;i<b.length;i++){if(a&&!I){b[i].addStyleClass("sapUshellNonAnimatedNotificationListItem");}else if(b[i].hasStyleClass("sapUshellNonAnimatedNotificationListItem")){b[i].addStyleClass("sapUshellNotificationsListItem");b[i].addStyleClass("sapUshellRightFloatingContainerItemBackToViewport");b[i].addStyleClass("sapUshellRightFloatingContainerItemHidden");b[i].addStyleClass("sapUshellRightFloatingContainerItmHeightVisible");b[i].removeStyleClass("sapUshellNonAnimatedNotificationListItem");}r.renderControl(b[i]);}}}});R.prototype.init=function(){var t;q(window).bind("resize",function(){clearTimeout(t);t=setTimeout(this._handleResize.bind(this),100);}.bind(this));this.iRequiredItemsNumber=5;};R.prototype.onBeforeRendering=function(){};R.prototype._setSize=function(){};R.prototype._handleResize=function(){if(this.getDomRef()&&this.getFloatingContainerItems().length){var n=this.iRequiredItemsNumber,a=window.innerHeight,d=this.getDomRef(),b=d.getBoundingClientRect().top,c=q(".sapUiSizeCompact").length>0?56:64,j=this.$().find("li").eq(0),e,I;if(!j.length){return;}e=j[0].clientHeight;var f=q("#sapUshellDashboardFooter").outerHeight();this.iRequiredItemsNumber=Math.min(parseInt((a-b-c-f)/e,10),5);if(n!==this.iRequiredItemsNumber){I=this.getFloatingContainerItems();for(var i=0;i<I.length;i++){if(i<this.iRequiredItemsNumber||isNaN(this.iRequiredItemsNumber)){I[i].removeStyleClass("sapUshellShellHidden");}else{I[i].addStyleClass("sapUshellShellHidden");}}}}};R.prototype.onAfterRendering=function(){this.fireAfterRendering();setTimeout(function(){this._handleResize();}.bind(this),500);this.addStyleClass("sapContrastPlus");this.addStyleClass("sapContrast");this.addStyleClass("sapUshellNotificationsListItem");};R.prototype.setVisible=function(v){this.setProperty("visible",v,true);if(v){q(this.getDomRef()).css("visibility","visible");}else{q(this.getDomRef()).css("visibility","hidden");}};R.prototype.setFloatingContainerItemsVisiblity=function(v){var a=this.getFloatingContainerItems(),t=v?300:0,I=this.getInsertItemsWithAnimation(),_=function(b){if(v){a[b].removeStyleClass("sapUshellRightFloatingContainerItemBounceOut").addStyleClass("sapUshellRightFloatingContainerItemBounceIn");}else{a[b].removeStyleClass("sapUshellRightFloatingContainerItemBounceIn").addStyleClass("sapUshellRightFloatingContainerItemBounceOut");}};for(var i=0;i<a.length;i++){(function(b){return function(){if(I){setTimeout(function(){_(b);},t+b*100);}else{a[b].setVisible(v);}};})(i)();}};R.prototype._animationBouncer=function a(n){var _=function(){if(!a._animationQueue.length){a._itemTimeoutId=undefined;return;}var i=a._animationQueue.shift();i.addStyleClass("sapUshellRightFloatingContainerItmHeightVisible").addStyleClass("sapUshellRightFloatingContainerItemBounceIn");a._itemTimeoutId=setTimeout(_,100);};if(!a._animationQueue){a._animationQueue=[];}a._animationQueue.push(n);if(a._mainTimeoutId||a._itemTimeoutId){return;}a._mainTimeoutId=setTimeout(function(){a._mainTimeoutId=undefined;_();},500);};R.prototype.addFloatingContainerItem=function(n){this.addAggregation("floatingContainerItems",n);n.addStyleClass("sapContrastPlus");if(this.getInsertItemsWithAnimation()){n.addStyleClass("sapUshellNotificationsListItem");n.addStyleClass("sapUshellRightFloatingContainerItemHidden");if(this.getEnableBounceAnimations()){R.prototype._animationBouncer(n);}else{setTimeout(function(){var i=this.getFloatingContainerItems();if(i.length>5){var l=i[i.length-1];l.addStyleClass("sapUshellRightFloatingContainerHideLastItem");}n.addStyleClass("sapUshellRightFloatingContainerItemBackToViewport").addStyleClass("sapUshellRightFloatingContainerItmHeightVisible");}.bind(this),500);}}else if(this.getActAsPreviewContainer()){n.addStyleClass("sapUshellNonAnimatedNotificationListItem");}if(this.getHideItemsAfterPresentation()){setTimeout(function(){n.removeStyleClass("sapUshellRightFloatingContainerItemBackToViewport");},3200);}};return R;});
sap.ui.predefine('sap/ushell/ui/shell/ShellAppTitle',["sap/ushell/library","sap/m/Bar","sap/m/Button","sap/m/Label","sap/m/library","sap/m/Popover","sap/m/ResponsivePopover","sap/m/ToggleButton","sap/ui/core/IconPool","sap/ui/Device","sap/ushell/Config","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ushell/resources","sap/ui/performance/Measurement","sap/ushell/services/AllMyApps"],function(l,B,a,L,m,P,R,T,I,D,C,A,r,M){"use strict";var b=l.AppTitleState;var c=l.AllMyAppsState;var d=m.PlacementType;var S=a.extend("sap.ushell.ui.shell.ShellAppTitle",{metadata:{associations:{navigationMenu:{type:"sap.ushell.ui.shell.ShellNavigationMenu"},allMyApps:{type:"sap.ui.core.mvc.ViewType.JS"}},events:{textChanged:{deprecated:true}}},renderer:{apiVersion:2,render:function(o,e){var v=e._getControlVisibilityAndState(),t=e.getText(),f=e.getModel();o.openStart("div",e);o.class("sapUshellAppTitle");if(v||D.system.phone){o.class("sapUshellAppTitleClickable");o.attr("tabindex","0");}if(e.getTooltip_AsString()){o.attr("title",e.getTooltip_AsString());}if(v){o.attr("role","button");o.attr("aria-haspopup","dialog");if(f&&S._getCurrentState()===b.AllMyAppsOnly){o.attr("aria-label",r.i18n.getText("ShowAllMyApps_AriaLabel",[t]));}else{o.attr("aria-label",r.i18n.getText("ShellNavigationMenu_AriaLabel",[t]));}}o.openEnd();o.openStart("h1");o.class("sapUshellHeadTitle");o.attr("aria-level","1");o.openEnd();o.text(t||"");o.close("h1");if(v&&t){o.openStart("div");o.class("sapUshellShellHeadAction");o.openEnd();o.openStart("span");o.class("sapUshellShellHeadActionImg");o.openEnd();o.renderControl(e.oIcon);o.close("span");o.close("div");}o.close("div");}}});S.prototype.init=function(){a.prototype.init.apply(this,arguments);this.oIcon=I.createControlByURI(I.getIconURI("megamenu"));this.oIcon.addStyleClass("sapUshellAppTitleMenuIcon");if(D.system.desktop){this.addEventDelegate({onkeydown:function(e){if(e.altKey&&e.keyCode===40){this.onclick(e);}}.bind(this)});}};S._getCurrentState=function(){return C.last("/core/shellHeader/ShellAppTitleState");};S.prototype.onclick=function(e){e.preventDefault();this.firePress();if(!this._getControlVisibilityAndState()){if(D.system.phone){window.hasher.setHash(C.last("/core/shellHeader/rootIntent"));}return;}if(S._getCurrentState()===b.AllMyAppsOnly){M.start("FLP:ShellAppTitle.onClick","Click ShellAppTitle in HOME state, Launching AllMyApps","FLP");this._openCloseAllMyAppsPopover();return;}this._openCloseNavMenuPopover();};S.prototype._openCloseAllMyAppsPopover=function(){if(!this.oAllMyAppsPopover){this.oAllMyAppsPopover=this._createAllMyAppsPopover();}if(this.oAllMyAppsPopover){if(this.oAllMyAppsPopover.isOpen()){this.oAllMyAppsPopover.close();}else{this.oAllMyAppsPopover.openBy(this);}}};S.prototype._openCloseNavMenuPopover=function(){if(!this.oNavMenuPopover){this.oNavMenuPopover=this._createNavMenuPopover();}this.getModel().setProperty("/ShellAppTitleState",b.ShellNavMenu);if(this.oNavMenuPopover.isOpen()){this.oNavMenuPopover.close();}else{this.oNavMenuPopover.openBy(this);}if(this.oNavMenuPopover.getFooter()){var s=C.last("/core/shell/model/currentState/stateName");this.oNavMenuPopover.getFooter().setVisible(s==="home"||s==="app");}};S.prototype._getControlVisibilityAndState=function(){M.start("FLP:ShellAppTitle.getControlVisibilityAndState","Check AllMyApps and NavShellMenu visibility","FLP");var o=this.getModel(),s=C.last("/core/shell/model/currentState/stateName"),n=this._isNavMenuEnabled(),v=n;if(!o){return false;}if(s==="app"||s==="home"){var e=sap.ushell.Container.getService("AllMyApps").isEnabled();v=e||n;if(e&&n){o.setProperty("/ShellAppTitleState",b.ShellNavMenu);}else if(!e&&n){o.setProperty("/ShellAppTitleState",b.ShellNavMenuOnly);}else if(e&&!n){o.setProperty("/ShellAppTitleState",b.AllMyAppsOnly);}}else{o.setProperty("/ShellAppTitleState",b.ShellNavMenuOnly);}M.end("FLP:ShellAppTitle.getControlVisibilityAndState");return v;};S.prototype._createAllMyAppsPopover=function(){var o=sap.ui.getCore().byId(this.getAllMyApps());if(!o){return null;}var e=new R("sapUshellAllMyAppsPopover",{placement:d.Bottom,title:"",showArrow:true,customHeader:this._getPopoverHeader(),showHeader:{path:"/ShellAppTitleState",formatter:function(f){return f!==b.ShellNavMenu;}},content:[o]}).addStyleClass("sapContrastPlus");e.setModel(this.getModel());e.addStyleClass("sapUshellAppTitleAllMyAppsPopover");e.attachAfterOpen(function(){o.getController()._afterOpen();var h=e.getCustomHeader(),f=h.getContentLeft()[0],t=h.getContentLeft()[1];if(t.getVisible()){t.firePress();t.setPressed(true);}f.focus();});e.attachAfterClose(function(){this._bPressedSpace=false;}.bind(this));return e;};S.prototype._createNavMenuPopover=function(){var n=sap.ui.getCore().byId(this.getNavigationMenu());var N=new P("sapUshellAppTitlePopover",{placement:d.Bottom,title:"",showArrow:true,showHeader:{path:"/ShellAppTitleState",formatter:function(o){return o!==b.ShellNavMenu;}},contentWidth:"20rem",content:n}).addStyleClass("sapContrastPlus");if(sap.ushell.Container.getService("AllMyApps").isEnabled()){N.setFooter(this._getPopoverFooterContent());}N.addStyleClass("sapUshellAppTitleNavigationMenuPopover");N.setModel(this.getModel());C.emit("/core/shell/model/allMyAppsMasterLevel",c.FirstLevel);N.attachBeforeOpen(function(){n._beforeOpen();});N.attachAfterOpen(function(){n.$().on("touchmove.scrollFix",function(e){e.stopPropagation();});n._afterOpen();});N.attachAfterClose(function(){this._bPressedSpace=false;}.bind(this));return N;};S.prototype._getPopoverHeader=function(){var o=new L({text:r.i18n.getText("allMyApps_headerTitle")});this.addCustomData(o,"role","heading");this.addCustomData(o,"aria-level","2");var p=new B("sapUshellShellAppPopoverHeader",{contentLeft:[this._createPopoverBackButton(),this._createPopoverToggleButton()],contentMiddle:[o]});return p;};S.prototype.onAfterRendering=function(){var s=sap.ui.getCore().byId("shell-header");if(s){s.refreshLayout();}};S.prototype._createPopoverBackButton=function(){var o=new a("sapUshellAppTitleBackButton",{icon:I.getIconURI("nav-back"),press:[this._popoverBackButtonPressHandler,this],tooltip:r.i18n.getText("backBtn_tooltip"),visible:this.getAllMyAppsController().getBackButtonVisible()});o.addStyleClass("sapUshellCatalogNewGroupBackButton");return o;};S.prototype._popoverBackButtonPressHandler=function(){var o=this.getAllMyAppsController(),e=o.getCurrentState();if((e===c.FirstLevel)||(e===c.FirstLevelSpread)){if(S._getCurrentState()!==b.AllMyAppsOnly){this.getModel().setProperty("/ShellAppTitleState",b.ShellNavMenu);this.oAllMyAppsPopover.close();this.oNavMenuPopover.openBy(this);}}else if(e===c.SecondLevel){o.switchToInitialState();}else{o.handleSwitchToMasterAreaOnPhone();}o.updateHeaderButtonsState();};S.prototype._createPopoverToggleButton=function(){var o=this.getAllMyAppsController();var t=new T("sapUshellAllMyAppsToggleListButton",{icon:I.getIconURI("sap-icon://menu2"),press:function(e){o.switchToInitialState();this.setTooltip(e.getParameter("pressed")?r.i18n.getText("ToggleButtonHide"):r.i18n.getText("ToggleButtonShow"));},tooltip:r.i18n.getText("ToggleButtonShow"),visible:o.getToggleListButtonVisible()});D.media.attachHandler(function(){t.setVisible(o.getToggleListButtonVisible());},this,D.media.RANGESETS.SAP_STANDARD);t.addStyleClass("sapUshellAllMyAppsToggleListButton");return t;};S.prototype._getPopoverFooterContent=function(){var t=this,o;o=new a("allMyAppsButton",{text:r.i18n.getText("allMyApps_launchingButtonTitle"),press:function(){t._openCloseAllMyAppsPopover();if(t.oAllMyAppsPopover){M.start("FLP:ShellNavMenu.footerClick","Click the footer of ShellNavMenu, Launching AllMyApps","FLP");t.getModel().setProperty("/ShellAppTitleState",b.AllMyApps);t.oNavMenuPopover.close();}},visible:{path:"/ShellAppTitleState",formatter:function(e){return e===b.ShellNavMenu;}}});var p=new B("shellpopoverFooter",{contentMiddle:[o]});this.addCustomData(o,"role","button");this.addCustomData(o,"aria-label",r.i18n.getText("allMyApps_launchingButtonTitle"));return p;};S.prototype._isNavMenuEnabled=function(){var n=sap.ui.getCore().byId(this.getNavigationMenu());return n?n.getItems()&&n.getItems().length>0:false;};S.prototype.addCustomData=function(i,k,v){i.addCustomData(new A({key:k,value:v,writeToDom:true}));};S.prototype.close=function(){if(this.oNavMenuPopover&&this.oNavMenuPopover.isOpen()){this.oNavMenuPopover.close();}if(this.oAllMyAppsPopover&&this.oAllMyAppsPopover.isOpen()){this.oAllMyAppsPopover.close();}};S.prototype.setTooltip=function(t){this.setAggregation("tooltip",t);this.oIcon.setTooltip(t);};S.prototype.getAllMyAppsController=function(){var o=sap.ui.getCore().byId(this.getAllMyApps());return o.getController();};S.prototype.onsapspace=S.prototype.onclick;S.prototype.onsapenter=S.prototype.onclick;S.prototype.exit=function(){var n=sap.ui.getCore().byId(this.getNavigationMenu()),o=sap.ui.getCore().byId(this.getAllMyApps());if(n){n.destroy();}if(o){o.destroy();}if(this.oAllMyAppsPopover){this.oAllMyAppsPopover.destroy();}if(this.oNavMenuPopover){this.oNavMenuPopover.destroy();}if(this.oIcon){this.oIcon.destroy();}};return S;},true);
sap.ui.predefine('sap/ushell/ui/shell/ShellHeadItem',["sap/base/util/ObjectPath","sap/ui/core/Control","sap/ui/core/IconPool","sap/ui/core/InvisibleText","sap/ushell/library","sap/ushell/resources"],function(O,C,I,a,u,r){"use strict";var S=C.extend("sap.ushell.ui.shell.ShellHeadItem",{metadata:{properties:{startsSection:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},showSeparator:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},enabled:{type:"boolean",group:"Appearance",defaultValue:true},selected:{type:"boolean",group:"Appearance",defaultValue:false},showMarker:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},target:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},ariaLabel:{type:"string",group:"Accessibility",defaultValue:null},ariaHidden:{type:"boolean",group:"Accessibility",defaultValue:false},ariaHaspopup:{type:"string",group:"Accessibility",defaultValue:""},text:{type:"string",group:"Appearance",defaultValue:null},floatingNumber:{type:"int",group:"Appearance",defaultValue:null},floatingNumberMaxValue:{type:"int",group:"Appearance",defaultValue:999},floatingNumberType:{type:"string",group:"Appearance",defaultValue:"None"}},events:{press:{}}},renderer:{apiVersion:2,render:function(b,s){var t=s.getTarget()||"";b.openStart("a",s);b.attr("tabindex","0");if(t!==""){b.attr("href",s.getTarget());}b.accessibilityState({role:t?"link":"button",label:s.getAriaLabel()||undefined,hidden:s.getAriaHidden()||undefined,haspopup:s.getAriaHaspopup()||undefined,describedby:{value:s._oAriaDescribedbyText.getId(),append:true}});if(s.getFloatingNumber()>0){b.class("sapUshellShellHeadItmCounter");b.attr("data-counter-content",s.floatingNumberFormatter());}b.class("sapUshellShellHeadItm");if(!s.getEnabled()){b.class("sapUshellShellHeadItmDisabled");}if(!s.getVisible()){b.class("sapUshellShellHidden");}if(s.getSelected()){b.class("sapUshellShellHeadItmSel");}if(s.getTooltip_AsString()){b.attr("title",s.getTooltip_AsString());}b.openEnd();b.openStart("span");b.class("sapUshellShellHeadItmCntnt");var i=s.getIcon();var o=I.isIconURI(i)&&I.getIconInfo(i);if(o){b.style("font-family",o.fontFamily);b.openEnd();b.text(o.content);}else{b.openEnd();b.voidStart("img");b.attr("id",s.getId()+"-img-inner");b.attr("src",i);b.voidEnd();}b.close("span");b.close("a");}}});S.prototype.FloatingNumberType={None:"None",Notifications:"Notifications",OverflowButton:"OverflowButton"};S.prototype.init=function(){this._oAriaDescribedbyText=new a(this.getId()+"-describedby").toStatic();this.addDependent(this._oAriaDescribedbyText);};S.prototype.onBeforeRendering=function(){switch(this.getFloatingNumberType()){case this.FloatingNumberType.None:this._oAriaDescribedbyText.setText("");break;default:var c=this.getFloatingNumber();if(!c){this._oAriaDescribedbyText.setText("");}else{var m=this.getFloatingNumberMaxValue();this._oAriaDescribedbyText.setText((c>m)?r.i18n.getText("NotificationToggleButton.NewNotifications.MaxExceeded",m):r.i18n.getText("NotificationToggleButton.NewNotifications",c));}break;}};S.prototype.tooltipFormatter=function(f){var c=((typeof f!=="undefined")?f:this.getFloatingNumber());var m=this.getFloatingNumberMaxValue();switch(this.getFloatingNumberType()){default:case this.FloatingNumberType.None:return"";case this.FloatingNumberType.Notifications:if(!c){return r.i18n.getText("NotificationToggleButton.NoNewNotifications");}return(c>m?r.i18n.getText("NotificationToggleButton.NewNotifications.MaxExceeded",m):r.i18n.getText("NotificationToggleButton.NewNotifications",c));case this.FloatingNumberType.OverflowButton:var t=r.i18n.getText("shellHeaderOverflowBtn_tooltip");if(!c){return t;}t+=" ("+(c>m?r.i18n.getText("NotificationToggleButton.NewNotifications.MaxExceeded",m):r.i18n.getText("NotificationToggleButton.NewNotifications",c))+")";return t;}};S.prototype.floatingNumberFormatter=function(f){var c=((typeof f!=="undefined")?f:this.getFloatingNumber());var m=this.getFloatingNumberMaxValue();return(c>m?m+"+":c.toString());};S.prototype.onclick=function(e){if(this.getEnabled()){this.firePress();if(!this.getTarget()){e.preventDefault();}}};S.prototype.onsapspace=S.prototype.onclick;S.prototype.onsapenter=S.prototype.onclick;O.set("sap.ui.unified.ShellHeadItem",S);return S;},true);
sap.ui.predefine('sap/ushell/ui/shell/ShellLayout',["sap/base/Log","sap/ui/core/Control","sap/ui/Device","sap/ui/thirdparty/jquery","sap/ui/util/Storage","sap/ushell/Config","sap/ushell/library","sap/ushell/ui/shell/ToolArea","sap/ushell/ui/shell/ShellLayoutRenderer"],function(L,C,D,q,S,a){"use strict";var b=C.extend("sap.ushell.ui.shell.ShellLayout",{metadata:{properties:{headerHiding:{type:"boolean",group:"Appearance",defaultValue:false},headerVisible:{type:"boolean",group:"Appearance",defaultValue:true},toolAreaVisible:{type:"boolean",group:"Appearance",defaultValue:false},floatingContainerVisible:{type:"boolean",group:"Appearance",defaultValue:false},backgroundColorForce:{type:"boolean",group:"Appearance",defaultValue:true},showBrandLine:{type:"boolean",group:"Appearance",defaultValue:true},showAnimation:{type:"boolean",group:"Appearance",defaultValue:true},enableCanvasShapes:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{toolArea:{type:"sap.ushell.ui.shell.ToolArea",multiple:false},rightFloatingContainer:{type:"sap.ushell.ui.shell.RightFloatingContainer",multiple:false},canvasSplitContainer:{type:"sap.ushell.ui.shell.SplitContainer",multiple:false},floatingActionsContainer:{type:"sap.ushell.ui.shell.ShellFloatingActions",multiple:false},footer:{type:"sap.ui.core.Control",multiple:false}},associations:{header:{type:"sap.ushell.ui.shell.ShellHeader",multiple:false},floatingContainer:{type:"sap.ushell.ui.shell.FloatingContainer",multiple:false}}}});b._SIDEPANE_WIDTH_PHONE=13;b._SIDEPANE_WIDTH_TABLET=13;b._SIDEPANE_WIDTH_DESKTOP=15;b.prototype.getHeader=function(){return sap.ui.getCore().byId(this.getAssociation("header"));};b.prototype.init=function(){this._rtl=sap.ui.getCore().getConfiguration().getRTL();this._showHeader=true;this._useStrongBG=false;D.media.attachHandler(this._handleMediaChange,this,D.media.RANGESETS.SAP_STANDARD);this._oDoable=a.on("/core/shellHeader/headerVisible").do(this.setHeaderVisible.bind(this));this._oStorage=new S(S.Type.local,"com.sap.ushell.adapters.local.FloatingContainer");this._bThemeChangeAttached=false;};b.prototype.destroy=function(){D.media.detachHandler(this._handleMediaChange,this,D.media.RANGESETS.SAP_STANDARD);if(this._oDoable){this._oDoable.off();this._oDoable=null;}if(this._oRm){this._oRm.destroy();this._oRm=null;}C.prototype.destroy.apply(this,arguments);};b.prototype.onAfterRendering=function(){this._setSidePaneWidth();if(this.getEnableCanvasShapes()){sap.ui.require(["sap/ushell/CanvasShapesManager"],function(c){if(sap.ui.getCore().isThemeApplied()){c.drawShapes();}else if(!this._bThemeChangeAttached){this._bThemeChangeAttached=true;sap.ui.getCore().attachThemeChanged(function(){c.drawShapes();});}});}};b.prototype.renderFloatingContainerWrapper=function(){this._oFloatingContainerWrapper=document.getElementById("sapUshellFloatingContainerWrapper");if(!this._oFloatingContainerWrapper){this._oFloatingContainerWrapper=document.createElement("DIV");this._oFloatingContainerWrapper.setAttribute("id","sapUshellFloatingContainerWrapper");this._oFloatingContainerWrapper.classList.add("sapUshellShellFloatingContainerWrapper");this._oFloatingContainerWrapper.classList.add("sapUshellShellHidden");window.document.body.appendChild(this._oFloatingContainerWrapper);}if(this._oStorage&&this._oStorage.get("floatingContainerStyle")){this._oFloatingContainerWrapper.setAttribute("style",this._oStorage.get("floatingContainerStyle"));}};b.prototype.renderFloatingContainer=function(f){this.renderFloatingContainerWrapper();if(f&&!f.getDomRef()){if(!this._oFloatingContainerWrapper.classList.contains("sapUshellShellHidden")){this._oFloatingContainerWrapper.classList.add("sapUshellShellHidden");}f.placeAt("sapUshellFloatingContainerWrapper");}};b.prototype.onThemeChanged=function(){return!!this.getDomRef();};b.prototype.setToolAreaVisible=function(v){this.setProperty("toolAreaVisible",!!v,true);if(this.getToolArea()){this.getToolArea().toggleStyleClass("sapUshellShellHidden",!v);this.applySplitContainerSecondaryContentSize();return this;}if(v){sap.ui.require(["sap/ushell/EventHub"],function(E){E.emit("CreateToolArea");});return this;}L.debug("Tool area not created but visibility updated",null,"sap.ushell.ShellLayout");return this;};b.prototype.getToolAreaSize=function(){if(this.getToolAreaVisible()){if(this.getToolArea().hasItemsWithText()){return"15rem";}return"3.0625rem";}return"0";};b.prototype.setFooter=function(f){this.setAggregation("footer",f,true);this._renderFooter(f);};b.prototype.applySplitContainerSecondaryContentSize=function(){var t=this.getToolAreaSize();this.getCanvasSplitContainer().applySecondaryContentSize(t);};b.prototype.setFloatingContainer=function(c){this.setAssociation("floatingContainer",c,true);this.renderFloatingContainer(c);};b.prototype.setFloatingContainerVisible=function(v){this.setProperty("floatingContainerVisible",!!v,true);if(this.getDomRef()){var f=window.document.getElementById("sapUshellFloatingContainerWrapper");if(v&&this._oStorage&&!this._oStorage.get("floatingContainerStyle")){var e=q(".sapUshellShellHeadItm").position()?q(".sapUshellShellHeadItm").position().left:0;var l=(q(window).width()-q("#shell-floatingContainer").width()-e)*100/q(window).width();var t=q(".sapUshellShellHeader").height()*100/q(window).height();f.setAttribute("style","left:"+l+"%;top:"+t+"%;position:absolute;");this._oStorage.put("floatingContainerStyle",f.getAttribute("style"));}var s=window.document.querySelector(".sapUshellShellFloatingContainerWrapper");if(s&&v===s.classList.contains("sapUshellShellHidden")){s.classList.toggle("sapUshellShellHidden");}}return this;};b.prototype.setFloatingActionsContainer=function(c){this.setAggregation("floatingActionsContainer",c,true);};b.prototype._setStrongBackground=function(){};b.prototype._setSidePaneWidth=function(r){var s=this.getCanvasSplitContainer();if(s){if(!r){r=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD).name;}var w=b["_SIDEPANE_WIDTH_"+r.toUpperCase()]+"rem";s.setSecondaryContentSize(w);}};b.prototype._hideFooter=function(d,f){d.classList.remove("sapUshellShellFooterVisible");f.classList.add("sapUiHidden");};b.prototype._showFooter=function(d,f,c){if(c._applyContextClassFor){c._applyContextClassFor("footer");}this._oRm=this._oRm||sap.ui.getCore().createRenderManager();d.classList.add("sapUshellShellFooterVisible");f.classList.remove("sapUiHidden");this._oRm.render(c,f);};b.prototype._renderFooter=function(f){var d=this.getDomRef(),F=d.querySelector("#"+this.getId()+"-footer");F.innerHTML="";if(!f){this._hideFooter(d,F);return;}this._showFooter(d,F,f);};b.prototype._handleMediaChange=function(p){if(!this.getDomRef()){return;}this._setSidePaneWidth(p.name);};return b;},true);
sap.ui.predefine('sap/ushell/ui/shell/ShellLayoutRenderer',["sap/ushell/resources"],function(r){"use strict";var S={apiVersion:2};S.render=function(a,s){var i=s.getId();a.openStart("div",s);a.class("sapUshellShell");if(!s.getHeaderVisible()){a.class("sapUshellShellNoHead");}a.class("sapUshellShellHead"+(s._showHeader?"Visible":"Hidden"));a.openEnd();a.openStart("div");a.style("z-index","-2");a.class("sapUiShellBackgroundImage");a.class("sapUiGlobalBackgroundImageForce");a.class("sapUshellShellBG");a.class("sapContrastPlus");a.openEnd();a.close("div");if(s.getEnableCanvasShapes()){a.openStart("canvas",i+"-shapes");a.attr("height",(window.innerHeight>0)?window.innerHeight:screen.height);a.attr("width",(window.innerWidth>0)?window.innerWidth:screen.width);a.attr("role","presentation");a.style("position","absolute");a.style("z-index","-1");a.openEnd();a.close("canvas");}if(s.getToolArea()){a.openStart("aside");a.attr("aria-label",r.i18n.getText("ToolArea_AriaLabel"));a.openEnd();a.renderControl(s.getToolArea());a.close("aside");}if(s.getRightFloatingContainer()){a.openStart("aside");a.attr("aria-label",r.i18n.getText("FloatingContainer_AriaLabel"));a.openEnd();a.renderControl(s.getRightFloatingContainer());a.close("aside");}a.openStart("main",i+"-cntnt");a.attr("role","main");a.attr("aria-label",r.i18n.getText("ShellLayout.AriaLabel"));a.class("sapUshellShellCntnt");a.class("sapUshellShellCanvas");a.openEnd();a.renderControl(s.getCanvasSplitContainer());a.close("main");a.renderControl(s.getFloatingActionsContainer());a.openStart("footer",i+"-footer");a.class("sapMPageFooter");a.class("sapUiHidden");a.openEnd();a.close("footer");a.close("div");};return S;},true);
sap.ui.predefine('sap/ushell/ui/shell/SplitContainer',["sap/base/Log","sap/ui/core/Control","sap/ui/core/library","sap/ushell/library","sap/ushell/ui/shell/ContentRenderer","sap/ushell/ui/shell/SplitContainerRenderer"],function(L,C,c,u,a){"use strict";var O=c.Orientation;var S=C.extend("sap.ushell.ui.shell.SplitContainer",{metadata:{library:"sap.ushell.ui.shell",properties:{showSecondaryContent:{type:"boolean",group:"Appearance",defaultValue:false},secondaryContentSize:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"250px"},secondaryContentWidth:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"250px",deprecated:true},orientation:{type:"sap.ui.core.Orientation",group:"Appearance",defaultValue:O.Horizontal}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},secondaryContent:{type:"sap.ui.core.Control",multiple:true,singularName:"secondaryContent"},subHeader:{type:"sap.ui.core.Control",multiple:true,singularName:"subHeader"}}}});(function(){S.prototype.init=function(){this._paneRenderer=new a(this,this.getId()+"-panecntnt","secondaryContent");this._subHeadersRenderer=new a(this,this.getId()+"-canvassubHeader","subHeader");this._canvasRenderer=new a(this,this.getId()+"-canvasrootContent","content");};S.prototype.exit=function(){this._paneRenderer.destroy();delete this._paneRenderer;this._canvasRenderer.destroy();delete this._canvasRenderer;this._subHeadersRenderer.destroy();delete this._subHeadersRenderer;};S.prototype.onAfterRendering=function(){var t=this.getParent()?this.getParent().getToolAreaSize():"0";this.applySecondaryContentSize(t);};S.prototype.applySecondaryContentSize=function(t){if(this.getDomRef()){var s=this.getSecondaryContentSize(),b=this.getShowSecondaryContent(),r=sap.ui.getCore().getConfiguration().getRTL()?"right":"left",o=this.getDomRef("pane"),d,e;if(this.getOrientation()===O.Vertical){d="top";e=r;o.style.height=s;o.style.width="";}else{d=r;e="top";o.style.height="";o.style.width=s;}o.style[d]=b?t:"-"+s;o.style[e]="";this.$("pane").toggleClass("sapUshellSplitContSecondClosed",!b);s=parseFloat(s)+parseFloat(t)+"rem";this.getDomRef("canvas").style[d]=b?s:t;}};S.prototype._modifyAggregationOrProperty=function(m,d){var r=!!this.getDomRef();var b=m.apply(this,[r]);if(r&&d){d.render();}return b;};S.prototype.getSecondaryContentWidth=function(){L.warning("SplitContainer: Use of deprecated property \"SecondaryContentWidth\", please use "+"\"SecondaryContentSize\" instead.");return this.getSecondaryContentSize.apply(this,arguments);};S.prototype.setSecondaryContentWidth=function(){L.warning("SplitContainer: Use of deprecated property \"SecondaryContentWidth\", please use "+"\"SecondaryContentSize\" instead.");return this.setSecondaryContentSize.apply(this,arguments);};S.prototype.insertContent=function(o,i){return this._modifyAggregationOrProperty(function(r){return this.insertAggregation("content",o,i,r);},this._canvasRenderer);};S.prototype.addContent=function(o){return this._modifyAggregationOrProperty(function(r){return this.addAggregation("content",o,r);},this._canvasRenderer);};S.prototype.removeContent=function(i){return this._modifyAggregationOrProperty(function(r){return this.removeAggregation("content",i,r);},this._canvasRenderer);};S.prototype.removeAllContent=function(){return this._modifyAggregationOrProperty(function(r){return this.removeAllAggregation("content",r);},this._canvasRenderer);};S.prototype.destroyContent=function(){return this._modifyAggregationOrProperty(function(r){return this.destroyAggregation("content",r);},this._canvasRenderer);};S.prototype.insertSecondaryContent=function(o,i){return this._modifyAggregationOrProperty(function(r){return this.insertAggregation("secondaryContent",o,i,r);},this._paneRenderer);};S.prototype.addSecondaryContent=function(o){return this._modifyAggregationOrProperty(function(r){return this.addAggregation("secondaryContent",o,r);},this._paneRenderer);};S.prototype.removeSecondaryContent=function(i){return this._modifyAggregationOrProperty(function(r){return this.removeAggregation("secondaryContent",i,r);},this._paneRenderer);};S.prototype.removeAllSecondaryContent=function(){return this._modifyAggregationOrProperty(function(r){return this.removeAllAggregation("secondaryContent",r);},this._paneRenderer);};S.prototype.destroySecondaryContent=function(){return this._modifyAggregationOrProperty(function(r){return this.destroyAggregation("secondaryContent",r);},this._paneRenderer);};S.prototype.addSubHeader=function(o){return this._modifyAggregationOrProperty(function(r){return this.addAggregation("subHeader",o,r);},this._subHeadersRenderer);};S.prototype.removeSubHeader=function(){return this._modifyAggregationOrProperty(function(r){return this.removeAllAggregation("subHeader",r);},this._subHeadersRenderer);};S.prototype.destroySubHeader=function(){return this._modifyAggregationOrProperty(function(r){return this.destroyAggregation("subHeader",r);},this._subHeadersRenderer);};S.prototype.setSecondaryContentSize=function(s){this.setProperty("secondaryContentSize",s,true);this.onAfterRendering();};S.prototype.setShowSecondaryContent=function(s){this.setProperty("showSecondaryContent",!!s,!!this.getDomRef());this.onAfterRendering();return this;};})();return S;});
sap.ui.predefine('sap/ushell/ui/shell/SplitContainerRenderer',["sap/ui/core/library","sap/ushell/resources"],function(c,r){"use strict";var O=c.Orientation;var S={};S.render=function(a,C){var i=C.getId();var v=C.getOrientation()===O.Vertical;a.write("<div");a.writeControlData(C);a.addClass("sapUshellSpltCont");a.addClass("sapUshellSpltCont"+(v?"V":"H"));if(!C.getShowSecondaryContent()){a.addClass("sapUshellSpltContPaneHidden");}a.writeClasses();a.write(">");var s=i+"-pane";var w=C.getShowSecondaryContent()?C.getSecondaryContentSize():"0";a.write("<aside");a.writeAttribute("aria-label",r.i18n.getText("SecondaryContent_AriaLabel"));a.writeAttribute("id",s);a.writeAttribute("style","width:'"+w+"'");a.addClass("sapUshellSpltContPane");if(!C.getShowSecondaryContent()){a.addClass("sapUshellSplitContSecondClosed");}a.writeClasses();a.write(">");this.renderSecondaryContent(a,s,C.getSecondaryContent());a.write("</aside>");var b=i+"-canvas";a.write("<section id='",b,"' class='sapUshellSpltContCanvas'>");var o=C.getAggregation("subHeader");this.renderRootContent(a,b,C.getContent(),o);a.write("</section>");a.write("</div>");};S.renderRootContent=function(a,i,C,s){a.write("<div id='",i,"cntnt' class='sapUshellSpltContCntnt'");a.writeAttribute("data-sap-ui-root-content","true");a.write(">");a.write("<div id='",i,"subHeader'>");if(s&&s.length){a.renderControl(s[0]);}a.write("</div>");if(C&&C.length){a.write("<div id='",i,"rootContent' class='sapUshellSpltContainerContentWrapper'>");C.forEach(function(o,b){a.renderControl(o);});a.write("</div>");}a.write("</div>");};S.renderSecondaryContent=function(a,I,C){a.write("<div id='",I,"cntnt' class='sapUshellSpltContCntnt'");a.writeAttribute("data-sap-ui-root-content","true");a.write(">");for(var i=0;i<C.length;i++){a.renderControl(C[i]);}a.write("</div>");};return S;},true);
sap.ui.predefine('sap/ushell/ui/shell/ToolArea',["sap/ui/core/Control","sap/ushell/library"],function(C){"use strict";var T=C.extend("sap.ushell.ui.shell.ToolArea",{metadata:{aggregations:{toolAreaItems:{type:"sap.ushell.ui.shell.ToolAreaItem",multiple:true}}},renderer:{apiVersion:2,render:function(r,t){r.openStart("div",t);r.class("sapUshellToolArea");if(!t.hasItemsWithText()){r.class("sapUshellToolAreaTextHidden");}r.openEnd();r.openStart("div");r.attr("id",t.getId()+"-cntnt");r.class("sapUshellToolAreaContainer");r.openEnd();var i=t.getToolAreaItems(),a,o;for(a=0;a<i.length;a++){o=i[a];if(o.getVisible()){r.openStart("div");r.class("sapUshellToolAreaContent");if(o.getSelected()){r.class("sapUshellToolAreaItemSelected");}r.openEnd();r.renderControl(o);r.close("div");r.openStart("div");r.class("sapUshellToolAreaContentSeparator");r.openEnd();r.close("div");}}r.close("div");r.close("div");}}});T.prototype.hasItemsWithText=function(){var i=this.getToolAreaItems(),a,t;for(a=0;a<i.length;a++){t=i[a];if(t.getVisible()&&t.getText()){return true;}}return false;};return T;});
sap.ui.predefine('sap/ushell/ui/shell/ToolAreaItem',["sap/ui/thirdparty/jquery","sap/ui/core/Control","sap/ui/core/IconPool","sap/ushell/library"],function(q,C,I){"use strict";var T=C.extend("sap.ushell.ui.shell.ToolAreaItem",{metadata:{properties:{icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},selected:{type:"boolean",group:"Appearance",defaultValue:false},text:{type:"string",group:"Appearance",defaultValue:null},ariaLabel:{type:"string",group:"Appearance",defaultValue:null},visible:{type:"boolean",group:"Appearance",defaultValue:true},expandable:{type:"boolean",group:"Appearance",defaultValue:false}},events:{press:{},expand:{}}},renderer:{render:function(r,t){var i;r.write("<div");r.writeControlData(t);if(!t.getIcon()){r.addClass("sapUshellToolAreaItmTextOnly");}else{r.addClass("sapUshellToolAreaItm");}if(!t.getVisible()){r.addClass("sapUshellShellHidden");}if(t.getAriaLabel()){r.writeAccessibilityState({label:this.getAriaLabel(),role:"button"});}r.writeClasses();var a=t.getTooltip_AsString();if(a){r.writeAttributeEscaped("title",a);}r.write(">");if(t.getIcon()){i=I.createControlByURI(t.getIcon());i.setUseIconTooltip(false);i.addStyleClass("sapUshellToolAreaItemIcon");r.renderControl(i);}if(t.getText()){r.write("<span");r.addClass("sapUshellToolAreaItemText");r.writeClasses();r.write(">");r.writeEscaped(t.getText());r.write("</span>");}if(t.getExpandable()){this.renderExpandable(r);}r.write("</div>");},renderExpandable:function(r){var i=I.createControlByURI("sap-icon://icon-dropdown");i.addStyleClass("sapUshellToolAreaItemExpandable");r.renderControl(i);}}});T.prototype.onclick=function(e){if(this.$().parent().hasClass("sapUshellToolAreaItemSelected")){this.setSelected(false);}else{this.setSelected(true);}if(e.target.className.indexOf("sapUshellToolAreaItemExpandable")>0){this.fireExpand();}else{this.firePress();}};T.prototype.onsapenter=T.prototype.onclick;T.prototype.setExpandable=function(e){e=!!e;this.setProperty("expandable",e,true);this.$().toggleClass("sapUshellToolAreaItemExpandable",e);};T.prototype.setSelected=function(s){s=!!s;if(s){var j=q(".sapUshellToolAreaItemSelected");j.each(function(){q(this).removeClass("sapUshellToolAreaItemSelected");});}this.setProperty("selected",s,true);this.$().parent().toggleClass("sapUshellToolAreaItemSelected",s);};T.prototype.setVisible=function(v){var r=this.getParent()&&this.getParent().getDomRef();this.setProperty("visible",!!v,r);this.$().toggleClass("sapUshellShellHidden",!v);};T.prototype.setAriaLabel=function(a){this.setProperty("ariaLabel",a);return this;};return T;},true);
sap.ui.predefine('sap/ushell/ui5service/AppIsolationService',["sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","./_AppIsolationService/appisolationservice.class.factory"],function(S,a,b,d){"use strict";return d({serviceRegistry:S,serviceFactory:a,service:b});});
sap.ui.predefine('sap/ushell/ui5service/CardNavigation',["sap/ui/core/service/Service","sap/ushell/Config","sap/ushell/services/AppType","sap/base/Log","sap/ushell/utils/WindowUtils"],function(S,C,A,U,W){"use strict";var a=S.extend("sap.ushell.ui5service.CardNavigation",{constructor:function(){this.oCrossAppNav=sap.ushell.Container.getService("CrossApplicationNavigation");}});a.prototype.navigate=function(c){var p=c.parameters;if(p.openUI){if(p.openUI==="RecentActivities"||p.openUI==="FrequentActivities"){sap.ui.require(["sap/ushell/ui/QuickAccess"],function(Q){var t=p.openUI==="RecentActivities"?"recentActivityFilter":"frequentlyUsedFilter";Q.openQuickAccessDialog(t);});}else{U.error("Request to open unknown User Interface: '"+p.openUI+"'");}}else if(p.url&&p.url!==""){var l=C.last("/core/shell/enableRecentActivity")&&C.last("/core/shell/enableRecentActivityLogging");if(l){var r={title:p.title,url:p.url,appType:A.URL,appId:p.url};sap.ushell.Container.getRenderer("fiori2").logRecentActivity(r);}W.openURL(p.url,"_blank");}else{this.oCrossAppNav.toExternal({target:{semanticObject:p.intentSemanticObject,action:p.intentAction},params:p.intentParameters,appSpecificRoute:p.intentAppRoute});}};a.prototype.enabled=function(c){var p=c.parameters;if(p.openUI){if(["RecentActivities","FrequentActivities"].indexOf(p.openUI)>-1){return Promise.resolve(true);}return Promise.resolve(false);}var n={target:{semanticObject:p.intentSemanticObject,action:p.intentAction},params:p.intentParameters};return new Promise(function(r){this.oCrossAppNav.isNavigationSupported([n]).done(function(R){r(R[0].supported);}).fail(function(){r(false);});}.bind(this));};return a;});
sap.ui.predefine('sap/ushell/ui5service/CardUserFrequents',["sap/ushell/ui5service/_CardUserRecents/CardUserRecentsBase","sap/ushell/EventHub","sap/ushell/Config"],function(C,E,c){"use strict";var d=C.extend("sap.ushell.ui5service.CardUserFrequents");d.prototype.getData=function(){if(!c.last("/core/shell/model/enableTrackingActivity")){return Promise.resolve([]);}return new Promise(function(r,a){this.oUserRecents.getFrequentActivity().done(function(f){r(this._getActivitiesAsCardItems(f));}.bind(this)).fail(function(e){a(e);});}.bind(this));};d.prototype.attachDataChanged=function(u){E.on("newUserRecentsItem").do(function(r){var U=this._sortAsFrequentActivities(r.recentUsageArray);var a=[];for(var i=0;i<U.length;i++){a.push(U[i].oItem);}var p=this._getActivitiesAsCardItems(a);u({data:p});}.bind(this));E.on("userRecentsCleared").do(function(){u({data:[]});});};d.prototype._sortAsFrequentActivities=function(r){var A,w=0,f=[],o,p=r[0]?new Date(r[0].iTimestamp):undefined,e;for(A=0;A<r.length&&w<30;A++){o=r[A];if(o.iCount>1){f.push(o);}e=new Date(o.iTimestamp);if(p.toDateString()!==e.toDateString()){w++;p=e;}}f.sort(function(a,b){return b.iCount-a.iCount;});return f.slice(0,30);};d.prototype.detachDataChanged=function(){E.on("newUserRecentsItem").off();E.on("userRecentsCleared").off();};d.hasNoAdapter=true;return d;},true);
sap.ui.predefine('sap/ushell/ui5service/CardUserRecents',["sap/ushell/ui5service/_CardUserRecents/CardUserRecentsBase","sap/ushell/EventHub","sap/ushell/Config"],function(C,E,a){"use strict";var b=C.extend("sap.ushell.ui5service.CardUserRecents");b.prototype.getData=function(){if(!a.last("/core/shell/model/enableTrackingActivity")){return Promise.resolve([]);}return new Promise(function(r,c){this.oUserRecents.getRecentActivity().done(function(R){r(this._getActivitiesAsCardItems(R));}.bind(this)).fail(function(e){c(e);});}.bind(this));};b.prototype.attachDataChanged=function(u){E.on("newUserRecentsItem").do(function(r){var U=r.recentUsageArray;var c=[];for(var i=0;i<U.length;i++){c.push(U[i].oItem);}var p=this._getActivitiesAsCardItems(c);u({data:p});}.bind(this));E.on("userRecentsCleared").do(function(){u({data:[]});});};b.prototype.detachDataChanged=function(){E.on("newUserRecentsItem").off();E.on("userRecentsCleared").off();};b.hasNoAdapter=true;return b;});
sap.ui.predefine('sap/ushell/ui5service/ShellUIService',["sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","./_ShellUIService/shelluiservice.class.factory"],function(S,a,b,d){"use strict";return d({serviceRegistry:S,serviceFactory:a,service:b});},true);
sap.ui.predefine('sap/ushell/ui5service/_AppIsolationService/appisolationservice.class.factory',["sap/ui/base/EventProvider","sap/ushell/EventHub","sap/base/util/isPlainObject","sap/base/Log","sap/base/util/Version"],function(E,a,i,L,V){"use strict";return function(s){var S=s.serviceRegistry,b=s.serviceFactory,c=s.service;var e=new E(),A;var o;var d=c.extend("sap.ushell.ui5service.AppIsolationService",{init:function(){var t=this,p=this.getInterface();p.init=function(){t._amendPublicServiceInstance.call(t,this);};S.register("sap.ushell.ui5service.AppIsolationService",new b(p));},_setActiveComponentId:function(I){A=I;},_getActiveComponentId:function(){return A;},_getEventProvider:function(){return e;},_ensureArrayOfObjectOfStrings:function(v,m){var f=Array.isArray(v)&&v.every(function(O){return i(O)&&Object.keys(O).length>0&&Object.keys(O).every(function(k){return typeof O[k]==="string";});});if(!f){L.error("'"+m+"' was called with invalid parameters","An array of non-empty objects with string values is expected","sap.ushell.ui5service.AppIsolationService");}return f;},_ensureFunction:function(v,m){var t=typeof v;if(t!=="function"){L.error("'"+m+"' was called with invalid arguments","the parameter should be a function, got '"+t+"' instead","sap.ushell.ui5service.AppIsolationService");return false;}return true;},_ensureString:function(v,m){var t=typeof v;if(t!=="string"){L.error("'"+m+"' was called with invalid arguments","the parameter should be a string, got '"+t+"' instead","sap.ushell.ui5service.AppIsolationService");return false;}return true;},_addCallAllowedCheck:function(p,P){var t=this;p[P]=function(){var C=p.getContext();if(!C||C.scopeObject.getId()!==A){L.warning("Call to "+P+" is not allowed","This may be caused by an app component other than the active '"+A+"' that tries to call the method","sap.ushell.ui5service.AppIsolationService");return undefined;}return t[P].apply(p,arguments);};},_amendPublicServiceInstance:function(p){var C;var P={AppLifeCycle:undefined};sap.ui.getCore().getEventBus().publish("sap.ushell","getAppLifeCycle",P);o=P.AppLifeCycle;C=p.getContext();if(typeof C==="undefined"){return;}if(C.scopeType==="component"){this._setActiveComponentId(C.scopeObject.getId());return;}L.error("Invalid context for AppIsolationService interface","The context must be empty or an object like { scopeType: ..., scopeObject: ... }","sap.ushell.ui5service.AppIsolationService");},getUxdVersion:function(){if((new V(sap.ui.version).compareTo("1.37.0"))>=0){return 2;}return 1;},registerTunnels:function(t){o.registerTunnels(t);},registerEvents:function(f){o.registerEvents(f);},registerShellCommunicationHandler:function(C){o.registerShellCommunicationHandler(C);},registerIframeCommunicationHandler:function(h,f){o.registerIframeCommunicationHandler(h,f);},getCurrentAppHash:function(){return o.getCurrentApplication().hash;},getCurrentAppTargetResolution:function(){return o.getCurrentApplication().target;},createTunnel:function(C,f,m){return o.createTunnel(C,f,m);},getIframeHandelrs:function(){return o.getCurrentApplication().container.getIframeHandlers();},jsonStringifyFn:function(j){var r=JSON.stringify(j,function(k,v){return(typeof v==="function")?v.toString():v;});return r;}});return d;};});
sap.ui.predefine('sap/ushell/ui5service/_CardUserRecents/CardUserRecentsBase',["sap/ui/core/service/Service","sap/ushell/resources","sap/ushell/services/AppType"],function(S,r,A){"use strict";function _(t,s){if(s===A.SEARCH){return"\""+t+"\"";}return t;}function a(s){if(s===A.SEARCH){return r.i18n.getText("recentActivitiesSearchDescription");}return A.getDisplayName(s);}var C=S.extend("sap.ushell.ui5service._CardUserRecents.CardUserRecentsBase",{constructor:function(){S.apply(this);this.oUserRecents=sap.ushell.Container.getService("UserRecents");this.oURLParsing=sap.ushell.Container.getService("URLParsing");}});C.prototype._getActivitiesAsCardItems=function(b){var c=[],s={},o;for(var i=0;i<b.length;i++){if(b[i].url&&b[i].url!==""){s=this.oURLParsing.parseShellHash(b[i].url);o={Name:_(b[i].title,b[i].appType),Description:a(b[i].appType),Icon:b[i].icon||"sap-icon://product"};if(s){o.Intent={SemanticObject:s.semanticObject,Action:s.action,Parameters:s.params,AppSpecificRoute:s.appSpecificRoute};}else{o.Url=b[i].url;}c.push(o);}}return c;};return C;},true);
sap.ui.predefine('sap/ushell/ui5service/_ShellUIService/shelluiservice.class.factory',["sap/ui/base/EventProvider","sap/ui/thirdparty/hasher","sap/base/util/isPlainObject","sap/base/util/Version"],function(E,h,i,V){"use strict";return function(s){var S=s.serviceRegistry,a=s.serviceFactory,b=s.service;var l;var e=new E();var O={hierarchyChanged:"hierarchyChanged",relatedAppsChanged:"relatedAppsChanged",titleChanged:"titleChanged",backNavigationChanged:"backNavigationChanged"};var A;var c=b.extend("sap.ushell.ui5service.ShellUIService",{init:function(){var t=this,p=this.getInterface();p.init=function(){t._amendPublicServiceInstance.call(t,this);};S.register("sap.ushell.ui5service.ShellUIService",new a(p));},_setActiveComponentId:function(I){A=I;},_getActiveComponentId:function(){return A;},_shouldEnableAutoHierarchy:function(o){return typeof o.getManifestEntry==="function"&&o.getManifestEntry("/sap.ui5/services/ShellUIService/settings/setHierarchy")==="auto";},_shouldEnableAutoTitle:function(o){return typeof o.getManifestEntry==="function"&&o.getManifestEntry("/sap.ui5/services/ShellUIService/settings/setTitle")==="auto";},_enableAutoHierarchy:function(o){var t=this;var r=o.getRouter&&o.getRouter();if(!r){jQuery.sap.log.error("Could not enable automatic setHierarchy on the current app","Router could not be obtained on the app root component via getRouter","sap.ushell.ui5service.ShellUIService");return;}r.attachTitleChanged(function(d){var H=d.getParameter("history");t.setHierarchy(H.reverse().map(function(u){var f=t._getCurrentShellHashWithoutAppRoute();return{title:u.title,intent:f+"&/"+u.hash};}));});},_enableAutoTitle:function(o){var t=this;var r=o.getRouter&&o.getRouter();if(!r){jQuery.sap.log.error("Could not enable automatic setTitle on the current app","Router could not be obtained on the app root component via getRouter","sap.ushell.ui5service.ShellUIService");return;}var T=r.getTitleHistory()[0];if(T&&T.title){setTimeout(function(){t.setTitle(T.title);},0);}r.attachTitleChanged(function(d){var f=d.getParameter("title");t.setTitle(f);});},_getCurrentShellHashWithoutAppRoute:function(){var f="#"+h.getHash();var u=sap.ushell.Container.getService("URLParsing");var U=u.getShellHash(f);if(!U){jQuery.sap.log.error("Cannot get the current shell hash","URLParsing service returned a falsy value for "+f,"sap.ushell.ui5service.ShellUIService");return"";}return"#"+U;},_getEventProvider:function(){return e;},_getLastSetTitle:function(){return l;},_ensureArrayOfObjectOfStrings:function(v,m){var d=Array.isArray(v)&&v.every(function(o){return i(o)&&Object.keys(o).length>0&&Object.keys(o).every(function(k){return typeof o[k]==="string";});});if(!d){jQuery.sap.log.error("'"+m+"' was called with invalid parameters","An array of non-empty objects with string values is expected","sap.ushell.ui5service.ShellUIService");}return d;},_ensureFunction:function(v,m){var t=typeof v;if(t!=="function"){jQuery.sap.log.error("'"+m+"' was called with invalid arguments","the parameter should be a function, got '"+t+"' instead","sap.ushell.ui5service.ShellUIService");return false;}return true;},_ensureString:function(v,m){var t=typeof v;if(t!=="string"){jQuery.sap.log.error("'"+m+"' was called with invalid arguments","the parameter should be a string, got '"+t+"' instead","sap.ushell.ui5service.ShellUIService");return false;}return true;},_addCallAllowedCheck:function(p,P){var t=this;p[P]=function(){var C=p.getContext();if(!C||C.scopeObject.getId()!==A){jQuery.sap.log.warning("Call to "+P+" is not allowed","This may be caused by an app component other than the active '"+A+"' that tries to call the method","sap.ushell.ui5service.ShellUIService");return undefined;}if(P==="setHierarchy"&&C.scopeType==="component"&&C.scopeObject&&t._shouldEnableAutoHierarchy(C.scopeObject)){jQuery.sap.log.warning("Call to "+P+" is not allowed","The app defines that setHierarchy should be called automatically","sap.ushell.ui5service.ShellUIService");return undefined;}if(P==="setTitle"&&C.scopeType==="component"&&C.scopeObject&&t._shouldEnableAutoTitle(C.scopeObject)){jQuery.sap.log.warning("Call to "+P+" is not allowed","The app defines that setTitle should be called automatically","sap.ushell.ui5service.ShellUIService");return undefined;}return t[P].apply(p,arguments);};},_amendPublicServiceInstance:function(p){var t=this,C;C=p.getContext();if(typeof C==="undefined"){return;}["setTitle","setHierarchy","setRelatedApps","setBackNavigation"].forEach(function(m){t._addCallAllowedCheck(p,m);});var o=C.scopeObject;if(C.scopeType==="component"&&o){this._setActiveComponentId(o.getId());if(this._shouldEnableAutoHierarchy(o)){this._enableAutoHierarchy(o);}if(this._shouldEnableAutoTitle(o)){this._enableAutoTitle(o);}return;}jQuery.sap.log.error("Invalid context for ShellUIService interface","The context must be empty or an object like { scopeType: ..., scopeObject: ... }","sap.ushell.ui5service.ShellUIService");},setHierarchy:function(H){if(typeof H!=="undefined"&&!c.prototype._ensureArrayOfObjectOfStrings(H,"setHierarchy")){return;}var C=this.getContext().scopeObject;e.fireEvent(O.hierarchyChanged,{data:H,component:C});},setTitle:function(t){if(typeof t!=="undefined"&&!c.prototype._ensureString(t,"setTitle")){return;}var C=this.getContext().scopeObject;l=t;e.fireEvent(O.titleChanged,{data:t,component:C});},setBackNavigation:function(C){if(typeof C!=="undefined"&&!c.prototype._ensureFunction(C,"setBackNavigation")){return;}var o=this.getContext().scopeObject;e.fireEvent(O.backNavigationChanged,{data:C,component:o});},getTitle:function(){return this._getLastSetTitle();},setRelatedApps:function(r){if(typeof r!=="undefined"&&!c.prototype._ensureArrayOfObjectOfStrings(r,"setRelatedApps")){return;}var C=this.getContext().scopeObject;e.fireEvent(O.relatedAppsChanged,{data:r,component:C});},getUxdVersion:function(){if((new V(sap.ui.version).compareTo("1.37.0"))>=0){return 2;}return 1;},_attachHierarchyChanged:function(f){this._getEventProvider().attachEvent(O.hierarchyChanged,f);},_detachHierarchyChanged:function(f){this._getEventProvider().detachEvent(O.hierarchyChanged,f);},_attachTitleChanged:function(f){this._getEventProvider().attachEvent(O.titleChanged,f);},_attachBackNavigationChanged:function(f){this._getEventProvider().attachEvent(O.backNavigationChanged,f);},_detachBackNavigationChanged:function(f){this._getEventProvider().detachEvent(O.backNavigationChanged,f);},_detachTitleChanged:function(f){this._getEventProvider().detachEvent(O.titleChanged,f);},_attachRelatedAppsChanged:function(f){this._getEventProvider().attachEvent(O.relatedAppsChanged,f);},_detachRelatedAppsChanged:function(f){this._getEventProvider().detachEvent(O.relatedAppsChanged,f);}});return c;};});
sap.ui.predefine('sap/ushell/utils/HttpClient',["sap/ui/thirdparty/URI","sap/ushell/utils"],function(U,u){"use strict";var H=function(b,d){this._oOngoingRequests={};this._oCSRFTokens={};this._oDefaultOptions={headers:d&&d.headers||{}};if(typeof b==="string"){this._oBasePath=new U(b);}else{this._oDefaultOptions={headers:b&&b.headers||{}};}};H.prototype.get=function(r,o){return this._executeRequest("GET",r,o);};H.prototype.put=function(r,o){return this._executeRequest("PUT",r,o);};H.prototype.post=function(r,o){return this._executeRequest("POST",r,o);};H.prototype.patch=function(r,o){return this._executeRequest("PATCH",r,o);};H.prototype.delete=function(r,o){return this._executeRequest("DELETE",r,o);};H.prototype.options=function(r,o){return this._executeRequest("OPTIONS",r,o);};H.prototype.abortAll=function(){Object.keys(this._oOngoingRequests).forEach(function(k){this._oOngoingRequests[k].abort();}.bind(this));};H.prototype._executeRequest=function(r,R,d){var i=new Error("The provided resource path is not a valid URL.");try{var c;var o=new U(R);if(!o.is("url")){return Promise.reject(i);}if(this._oBasePath){c=o.absoluteTo(this._oBasePath);}else{c=o;}var x=new XMLHttpRequest();x._sapUshellHttpClientId=u.generateUniqueId(Object.keys(this._oOngoingRequests));this._oOngoingRequests[x._sapUshellHttpClientId]=x;var h=Object.assign({},this._oDefaultOptions.headers,d&&d.headers);return this._getCSRFTokenHeader(r,c).then(function(C){Object.assign(h,C);return new Promise(function(a,b){var s=c.href();x.onload=this._onLoad.bind(this,a,b,{xhr:x,method:r,url:s,data:d});x.onerror=b.bind(this,this._getFormattedResponse(x));x.onabort=b.bind(this,this._getFormattedResponse(x));x.onloadend=function(){delete this._oOngoingRequests[x._sapUshellHttpClientId];}.bind(this);x.open(r,s);Object.keys(h).forEach(function(k){x.setRequestHeader(k,h[k]);});var B=d&&d.data||"";if(typeof B!=="string"){B=JSON.stringify(B);}x.send(B);}.bind(this));}.bind(this));}catch(e){return Promise.reject(i);}};H.prototype._getCSRFTokenHeader=function(r,a){switch(r){case"HEAD":case"GET":case"OPTIONS":return Promise.resolve({"x-csrf-token":"fetch"});case"POST":case"PATCH":case"PUT":case"DELETE":var k=this._getCSRFTokenKey(a);if(this._oCSRFTokens[k]){return Promise.resolve({"x-csrf-token":this._oCSRFTokens[k]});}var R=a.href();if(this._oBasePath){R=this._oBasePath.origin()+this._oBasePath.directory();}return this._executeRequest("OPTIONS",R).then(function(o){var c=this._getCSRFTokenFromHeader(o.responseHeaders);if(!c){throw new Error("CSRF Token couldn't be fetched.");}return{"x-csrf-token":c};}.bind(this));default:return Promise.resolve({});}};H.prototype._onLoad=function(r,R,o){var f=this._getFormattedResponse(o.xhr);var c=this._getCSRFTokenFromHeader(f.responseHeaders);if(c){var k=this._getCSRFTokenKey(new U(o.url));if(c.toLowerCase()==="required"&&f.status===403){delete this._oCSRFTokens[k];return this._executeRequest(o.method,o.url,o.data).then(r).catch(R);}this._oCSRFTokens[k]=c;}if(f.status>=200&&f.status<300){return r(f);}return R(f);};H.prototype._getCSRFTokenKey=function(c){if(this._oBasePath){return this._oBasePath.origin()+this._oBasePath.directory();}return c.origin()+c.directory();};H.prototype._getCSRFTokenFromHeader=function(r){var c=r.filter(function(h){return h.name==="x-csrf-token";})[0];return c&&c.value;};H.prototype._getFormattedResponse=function(x){return{status:x.status,statusText:x.statusText,responseText:x.responseText,responseHeaders:x.getAllResponseHeaders().split(/\r\n/g).filter(function(i){return i.length>0;}).map(function(h){var p=h.split(":");return{name:p[0].trim(),value:p[1].trim()};})};};return H;},true);
sap.ui.predefine('sap/ushell/utils/RestrictedJSONModel',["sap/ui/model/json/JSONModel"],function(J){"use strict";function n(){throw new Error("sap.ushell.utils.RestrictedJSONModel : Function not supported");}return J.extend("sap.ushell.utils.RestrictedJSONModel",{constructor:function(){J.prototype.constructor.apply(this,arguments);this.setDefaultBindingMode("OneWay");this.setDefaultBindingMode=n;this.setData=n;this.setJSON=n;this.setProperty=n;this.loadData=n;},_setData:function(){J.prototype.setData.apply(this,arguments);},_setJSON:function(){this.setData=J.prototype.setData;J.prototype.setJSON.apply(this,arguments);this.setData=n;},_setProperty:function(){this.setData=J.prototype.setData;J.prototype.setProperty.apply(this,arguments);this.setData=n;}});});
sap.ui.predefine('sap/ushell/utils/WindowUtils',["sap/base/Log","sap/ui/Device","sap/ui/util/isCrossOriginURL","sap/ushell/utils","sap/base/util/UriParameters"],function(L,D,i,u,U){"use strict";var W={};W.hasInvalidProtocol=function(a){var o=document.createElement("a");o.setAttribute("href",a);if(o.protocol==="javascript:"){return true;}return false;};W.isCrossOriginUrl=function(a){return i(a);};W.openURL=function(a,w,b,s){var S=(s===undefined)?true:s,I=this.isCrossOriginUrl(a);b=b||"";if(S&&this.hasInvalidProtocol(a)){L.fatal("Tried to open a URL with an invalid protocol");throw new Error("Tried to open a URL with an invalid protocol");}if(D.browser.msie){if(b!==undefined&&b!==null){L.warning("WindowUtils.js - 'windowFeatures' is ignored for new windows in Internet Explorer.");}var n=window.open("about:blank",w);if(I){n.opener=null;}n.location.href=a;return I?true:n;}if(I){if(b.toLowerCase().indexOf("noopener")===-1){if(b!==""){b+=",";}b+="noopener";}if(b.toLowerCase().indexOf("noreferrer")===-1){b+=",noreferrer";}window.open(a,w,b);return true;}return window.open(a,w,b);};W.getLeanURL=function(t,n){var s=t||n;if((s||"").charAt(0)!=="#"){return s;}var q=window.location.search;if(!q){q="?appState=lean";}else if(q.indexOf("appState=")>=-1){q+="&appState=lean";}return window.location.origin+window.location.pathname+q+s;};W._getAdjustedQueryString=function(a){if(a&&a.length>0){var o=U.fromQuery(window.location.search);var n=Array.from(o.keys()).reduce(function(r,p){r[p]=o.getAll(p);return r;},{});a.forEach(function(p){var P=Object.keys(p)[0];if(P){n[P]=p[P];}});return u.urlParametersToString(n);}return null;};W.refreshBrowser=function(a){var n=u.getLocationHref(),N=W._getAdjustedQueryString(a);if(N){n=n.replace(location.search,"?"+N);}if(u.getLocationHref()===n){window.location.reload(true);}else{window.location=n;}};return W;});
sap.ui.predefine('sap/ushell/utils/utilsCdm',["sap/ushell/utils","sap/ushell/utils/objectOperations","sap/ushell/utils/clone","sap/ui/thirdparty/jquery","sap/base/Log","sap/base/util/ObjectPath"],function(u,o,c,q,L,O){"use strict";function g(d,A){return o.getMember(d,A);}function m(k,s,A){s=c(s);A=c(A);var i={};i.semanticObject=s.semanticObject;i.action=s.action;i.title=s.title||g(A,"sap|app.title");i.info=s.info||g(A,"sap|app.info");i.icon=s.icon||g(A,"sap|ui.icons.icon");i.subTitle=s.subTitle||g(A,"sap|app.subTitle");i.shortTitle=s.shortTitle||g(A,"sap|app.shortTitle");var T,d,e,h,D,j,I=false;var S=g(A,"sap|platform|runtime");i.resolutionResult=q.extend(true,{},S);if(S){i.resolutionResult["sap.platform.runtime"]=q.extend(true,{},S);}if(g(A,"sap|ui.technology")==="GUI"){i.resolutionResult["sap.gui"]=g(A,"sap|gui");}if(g(A,"sap|ui.technology")==="WDA"){i.resolutionResult["sap.wda"]=g(A,"sap|wda");}if(g(A,"sap|ui.technology")==="URL"){if(A["sap.url"]){i.resolutionResult["sap.platform.runtime"]=i.resolutionResult["sap.platform.runtime"]||{};i.resolutionResult.url=A["sap.url"].uri;i.resolutionResult["sap.platform.runtime"].url=A["sap.url"].uri;}else if(S&&S.uri){i.resolutionResult["sap.platform.runtime"].url=S.uri;i.resolutionResult.url=S.uri;}}if(!i.resolutionResult["sap.ui"]){i.resolutionResult["sap.ui"]={};}i.resolutionResult["sap.ui"].technology=g(A,"sap|ui.technology");i.resolutionResult.applicationType=this._formatApplicationType(i.resolutionResult,A);i.resolutionResult.systemAlias=i.resolutionResult.systemAlias||s.systemAlias;i.resolutionResult.systemAliasSemantics="apply";i.resolutionResult.text=i.title;i.deviceTypes=g(A,"sap|ui.deviceTypes")||{};i.resolutionResult.appId=g(A,"sap|app.id");["desktop","tablet","phone"].forEach(function(M){if(Object.prototype.hasOwnProperty.call(s.deviceTypes||{},M)){i.deviceTypes[M]=s.deviceTypes[M];}if(!Object.prototype.hasOwnProperty.call(i.deviceTypes,M)){i.deviceTypes[M]=true;}i.deviceTypes[M]=!!i.deviceTypes[M];});i.signature=s.signature||{};i.signature.parameters=i.signature.parameters||{};i.signature.additionalParameters=(s.signature||{}).additionalParameters||"allowed";var l=s.indicatorDataSource||g(A,"sap|app.crossNavigation.inbounds."+k+".indicatorDataSource");var n=l?"#Shell-dynamicTile":"#Shell-staticTile";if(g(A,"sap|app.type")==="tile"||g(A,"sap|flp.type")==="tile"){n=i.resolutionResult;n.url=g(A,"sap|platform|runtime.componentProperties.url");n.componentName=g(A,"sap|ui5.componentName");if(g(A,"sap|platform|runtime.includeManifest")){n.componentProperties=n.componentProperties||{};n.componentProperties.manifest=q.extend(true,{},A);delete n.componentProperties.manifest["sap.platform.runtime"];}h=g(A,"sap|app.crossNavigation.outbounds.target");I=true;}if(g(A,"sap|app.type")==="plugin"||g(A,"sap|flp.type")==="plugin"){return undefined;}if(g(A,"sap|flp.tileSize")){T=g(A,"sap|flp.tileSize");}if(g(A,"sap|app.description")){d=g(A,"sap|app.description");}if(g(A,"sap|ui.technology")==="GUI"&&g(A,"sap|gui.transaction")){e=g(A,"sap|gui.transaction");}if(g(A,"sap|ui.technology")==="WDA"&&g(A,"sap|wda.applicationId")){e=g(A,"sap|wda.applicationId");}if(g(A,"sap|app.dataSources")){D=g(A,"sap|app.dataSources");}if(g(A,"sap|app.id")){j=g(A,"sap|app.id");}i.tileResolutionResult={appId:j,title:i.title,subTitle:i.subTitle,icon:i.icon,size:T,info:i.info,tileComponentLoadInfo:n,indicatorDataSource:l,dataSources:D,description:d,runtimeInformation:S,technicalInformation:e,deviceTypes:i.deviceTypes};i.tileResolutionResult.isCustomTile=I;if(h){i.tileResolutionResult.targetOutbound=h;}return i;}function f(r,A){var s=r.applicationType;if(s){return s;}var C=g(A,"sap|platform|runtime.componentProperties.self.name")||g(A,"sap|ui5.componentName");if(g(A,"sap|flp.appType")==="UI5"||g(A,"sap|ui.technology")==="UI5"){r.applicationType="SAPUI5";r.additionalInformation="SAPUI5.Component="+C;r.url=g(A,"sap|platform|runtime.componentProperties.url");r.applicationDependencies=g(A,"sap|platform|runtime.componentProperties");return"SAPUI5";}if(g(A,"sap|ui.technology")==="GUI"){r.applicationType="TR";r["sap.gui"]=g(A,"sap|gui");r.systemAlias=g(A,"sap|app.destination.name");return"TR";}if(g(A,"sap|ui.technology")==="WDA"){r.applicationType="WDA";r["sap.wda"]=g(A,"sap|wda");r.systemAlias=g(A,"sap|app.destination.name");return"WDA";}if(g(A,"sap|ui.technology")==="URL"){r.applicationType="URL";r.systemAlias=g(A,"sap|app.destination.name");}return"URL";}function a(s){var d=this;if(!s){return[];}var i=[];try{var S=Object.keys(s.applications||{}).sort();S.forEach(function(A){try{var h=s.applications[A];var j=g(h,"sap|app.crossNavigation.inbounds");if(j){var l=Object.keys(j).sort();l.forEach(function(I){var k=j[I];var r=d.mapOne(I,k,h);if(r){i.push(r);}});}}catch(E){L.error("Error in application "+A+": "+E,E.stack);}});}catch(e){L.error(e);L.error(e.stack);return[];}return i;}function t(i){var s,p,C;s={target:{semanticObject:i.semanticObject,action:i.action},params:{}};p=O.get("signature.parameters",i)||{};Object.keys(p).forEach(function(k){if(p[k].filter&&Object.prototype.hasOwnProperty.call(p[k].filter,"value")&&(p[k].filter.format===undefined||p[k].filter.format==="plain")){s.params[k]=[p[k].filter.value];}if(p[k].launcherValue&&Object.prototype.hasOwnProperty.call(p[k].launcherValue,"value")&&(p[k].launcherValue.format===undefined||p[k].launcherValue.format==="plain")){s.params[k]=[p[k].launcherValue.value];}});C=sap.ushell.Container.getService("URLParsing").constructShellHash(s);if(!C){return undefined;}return C;}function b(d){var s,p,C;s={target:{semanticObject:d.semanticObject,action:d.action},params:{}};p=d.parameters||{};Object.keys(p).forEach(function(k){if(p.hasOwnProperty(k)&&typeof p[k].value==="object"){s.params[k]=[p[k].value.value];}});C=sap.ushell.Container.getService("URLParsing").constructShellHash(s);if(!C){return undefined;}return C;}return{formatSite:a,toHashFromInbound:t,toHashFromOutbound:b,mapOne:m,_formatApplicationType:f};},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('sap/base/i18n/ResourceBundle',['sap/base/assert','sap/base/Log','sap/base/strings/formatMessage','sap/base/util/Properties','sap/base/util/merge'],function(a,L,f,P,b){"use strict";var r=/^((?:[A-Z]{2,3}(?:-[A-Z]{3}){0,3})|[A-Z]{4}|[A-Z]{5,8})(?:-([A-Z]{4}))?(?:-([A-Z]{2}|[0-9]{3}))?((?:-[0-9A-Z]{5,8}|-[0-9][0-9A-Z]{3})*)((?:-[0-9A-WYZ](?:-[0-9A-Z]{2,8})+)*)(?:-(X(?:-[0-9A-Z]{1,8})+))?$/i;var M={"he":"iw","yi":"ji","nb":"no","sr":"sh"};var c={"iw":"he","ji":"yi","no":"nb"};var d={"en_US_saptrc":"1Q","en_US_sappsd":"2Q","en_US_saprigi":"3Q"};var D="en";var e=/(?:^|-)(saptrc|sappsd|saprigi)(?:-|$)/i;function n(i,x){var m;if(typeof i==='string'&&(m=r.exec(i.replace(/_/g,'-')))){var y=m[1].toLowerCase();if(!x){y=M[y]||y;}var S=m[2]?m[2].toLowerCase():undefined;var z=m[3]?m[3].toUpperCase():undefined;var V=m[4]?m[4].slice(1):undefined;var B=m[6];if((B&&(m=e.exec(B)))||(V&&(m=e.exec(V)))){return"en_US_"+m[1].toLowerCase();}if(y==="zh"&&!z){if(S==="hans"){z="CN";}else if(S==="hant"){z="TW";}}if(y==="sr"&&S==="latn"){if(x){y="sr_Latn";}else{y="sh";}}return y+(z?"_"+z+(V?"_"+V.replace("-","_"):""):"");}}function g(i,m){if(i===""){return i;}var N=n(i,m);if(N===undefined){throw new TypeError("Locale '"+i+"' is not a valid BCP47 language tag");}return N;}function h(F){var i;if(window.sap&&window.sap.ui&&sap.ui.getCore){i=sap.ui.getCore().getConfiguration().getLanguage();i=n(i);}return i||F;}function j(){if(window.sap&&window.sap.ui&&sap.ui.getCore){return sap.ui.getCore().getConfiguration().getSupportedLanguages();}return[];}function k(i,C){var m;if(typeof i==='string'&&(m=r.exec(i.replace(/_/g,'-')))){var x=m[1].toLowerCase();var S=m[2]?m[2].toLowerCase():undefined;if(C&&x==="sh"&&!S){x="sr_Latn";}else if(!C&&x==="sr"&&S==="latn"){x="sh";}x=c[x]||x;return x+(m[3]?"-"+m[3].toUpperCase()+(m[4]?"-"+m[4].slice(1).replace("_","-"):""):"");}}var l=/^((?:[^?#]*\/)?[^\/?#]*)(\.[^.\/?#]+)((?:\?([^#]*))?(?:#(.*))?)$/;var A=[".properties",".hdbtextbundle"];function s(U){var m=l.exec(U);if(!m||A.indexOf(m[2])<0){throw new Error("resource URL '"+U+"' has unknown type (should be one of "+A.join(",")+")");}return{url:U,prefix:m[1],ext:m[2],query:m[4],hash:(m[5]||""),suffix:m[2]+(m[3]||"")};}function R(U,i,I,m,S,F,x){this.sLocale=n(i)||h(F===undefined?D:F);this.oUrlInfo=s(U);this.bIncludeInfo=I;this.aCustomBundles=[];this.aPropertyFiles=[];this.aLocales=[];this._aFallbackLocales=w(this.sLocale,S||j(),F," of the bundle '"+this.oUrlInfo.url+"'",x);if(m){var y=function(){return this;}.bind(this);return o(this).then(y,y);}p(this);}R.prototype._enhance=function(C){if(C instanceof R){this.aCustomBundles.push(C);}else{L.error("Custom resource bundle is either undefined or not an instanceof sap/base/i18n/ResourceBundle. Therefore this custom resource bundle will be ignored!");}};R.prototype.getText=function(K,i,I){var V=this._getTextFromProperties(K,i);if(V!=null){return V;}V=this._getTextFromFallback(K,i);if(V!=null){return V;}if(I){return undefined;}else{a(false,"could not find any translatable text for key '"+K+"' in bundle '"+this.oUrlInfo.url+"'");return this._formatValue(K,K,i);}};R.prototype._formatValue=function(V,K,i){if(typeof V==="string"){if(i){V=f(V,i);}if(this.bIncludeInfo){V=new String(V);V.originInfo={source:"Resource Bundle",url:this.oUrlInfo.url,locale:this.sLocale,key:K};}}return V;};R.prototype._getTextFromFallback=function(K,m){var V,i;for(i=this.aCustomBundles.length-1;i>=0;i--){V=this.aCustomBundles[i]._getTextFromFallback(K,m);if(V!=null){return V;}}while(typeof V!=="string"&&this._aFallbackLocales.length){var x=p(this);if(x){V=x.getProperty(K);if(typeof V==="string"){return this._formatValue(V,K,m);}}}return null;};R.prototype._getTextFromProperties=function(K,m){var V=null,i;for(i=this.aCustomBundles.length-1;i>=0;i--){V=this.aCustomBundles[i]._getTextFromProperties(K,m);if(V!=null){return V;}}for(i=0;i<this.aPropertyFiles.length;i++){V=this.aPropertyFiles[i].getProperty(K);if(typeof V==="string"){return this._formatValue(V,K,m);}}return null;};R.prototype.hasText=function(K){return this.aPropertyFiles.length>0&&typeof this.aPropertyFiles[0].getProperty(K)==="string";};function o(B){if(B._aFallbackLocales.length){return t(B,true).then(function(i){return i||o(B);});}return Promise.resolve(null);}function p(B){while(B._aFallbackLocales.length){var i=t(B,false);if(i){return i;}}return null;}function t(B,i){var m=B._aFallbackLocales.shift();if(m!=null){var U=B.oUrlInfo,x,H;if(U.ext==='.hdbtextbundle'){if(d[m]){x=U.prefix+U.suffix+'?'+(U.query?U.query+"&":"")+"sap-language="+d[m]+(U.hash?"#"+U.hash:"");}else{x=U.url;}H={"Accept-Language":k(m)||""};}else{x=U.prefix+(m?"_"+m:"")+U.suffix;}var y=P.create({url:x,headers:H,async:!!i,returnNullIfMissing:true});var z=function(C){if(C){B.aPropertyFiles.push(C);B.aLocales.push(m);}return C;};return i?y.then(z):z(y);}return i?Promise.resolve(null):null;}R._getUrl=function(i,m){var U=i;if(m){m=m.replace(/\./g,"/");U=sap.ui.require.toUrl(m)+".properties";}return U;};function q(i,E,m,I,x,F,S){if(!E){return[];}var C=[];E.forEach(function(y){if(y.fallbackLocale===undefined){y.fallbackLocale=F;}if(y.supportedLocales===undefined){y.supportedLocales=S;}var U=R._getUrl(y.bundleUrl,y.bundleName);var z=new R(U,m,I,x,y.supportedLocales,y.fallbackLocale);C.push(z);if(y.terminologies){C=C.concat(u(i,y.terminologies,m,I,x));}});return C;}function u(i,T,m,I,x){if(!i){return[];}i=i.filter(function(y){return T.hasOwnProperty(y);});i.reverse();return i.map(function(y){var z=T[y];var U=R._getUrl(z.bundleUrl,z.bundleName);var S=z.supportedLocales;return new R(U,m,I,x,S,null,true);});}R.create=function(m){m=b({url:"",includeInfo:false},m);if(m.bundleUrl||m.bundleName){m.url=m.url||R._getUrl(m.bundleUrl,m.bundleName);}var i=new R(m.url,m.locale,m.includeInfo,!!m.async,m.supportedLocales,m.fallbackLocale);var C=[];if(m.terminologies){C=C.concat(u(m.activeTerminologies,m.terminologies,m.locale,m.includeInfo,!!m.async));}if(m.enhanceWith){C=C.concat(q(m.activeTerminologies,m.enhanceWith,m.locale,m.includeInfo,!!m.async,m.fallbackLocale,m.supportedLocales));}if(C.length){if(i instanceof Promise){i=i.then(function(x){return Promise.all(C).then(function(C){C.forEach(x._enhance,x);}).then(function(){return x;});});}else{C.forEach(i._enhance,i);}}return i;};function v(i,S){if(!S||S.length===0||S.indexOf(i)>=0){return i;}i=k(i,true);if(i){i=n(i,true);}if(S.indexOf(i)>=0){return i;}return undefined;}function w(i,S,F,C,m){S=S&&S.map(function(B){return g(B,true);});if(!m){var x=F!==undefined;F=x?F:D;F=g(F);if(F!==""&&!v(F,S)){var y="The fallback locale '"+F+"' is not contained in the list of supported locales ['"+S.join("', '")+"']"+C+" and will be ignored.";if(x){throw new Error(y);}L.error(y);}}var z=[],B;while(i!=null){B=v(i,S);if(B!==undefined&&z.indexOf(B)===-1){z.push(B);}if(!i){i=null;}else if(i==="zh_HK"){i="zh_TW";}else if(i.lastIndexOf('_')>=0){i=i.slice(0,i.lastIndexOf('_'));}else if(m){i=null;}else if(F){i=F;F=null;}else{i="";}}return z;}R._getFallbackLocales=function(i,S,F){return w(n(i),S,F,"");};return R;});
sap.ui.predefine('sap/base/security/URLListValidator',[],function(){"use strict";var r=/^(?:([^:\/?#]+):)?((?:\/\/((?:\[[^\]]+\]|[^\/?#:]+))(?::([0-9]+))?)?([^?#]*))(?:\?([^#]*))?(?:#(.*))?$/;var a=/^([a-z0-9-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*$/i;var b=/^([a-z0-9-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*$/i;var c=b;var d=/^([a-z0-9!$'*+:^_`{|}~-]|%[0-9a-f]{2})+(?:\.([a-z0-9!$'*+:^_`{|}~-]|%[0-9a-f]{2})+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i;var e=/^([0-9]{1,3}\.){3}[0-9]{1,3}$/;var f=/^(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$/;var g=/^\[[^\]]+\]$/;var h=/^\[(((([0-9a-f]{1,4}:){6}|(::([0-9a-f]{1,4}:){5})|(([0-9a-f]{1,4})?::([0-9a-f]{1,4}:){4})|((([0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::([0-9a-f]{1,4}:){3})|((([0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::([0-9a-f]{1,4}:){2})|((([0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:)|((([0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::))(([0-9a-f]{1,4}:[0-9a-f]{1,4})|(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])))|((([0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4})|((([0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::))\]$/i;var j=/^([a-z0-9]([a-z0-9\-]*[a-z0-9])?\.)*[a-z0-9]([a-z0-9\-]*[a-z0-9])?$/i;var u={};u._createEntry=function(p,i,k,l){return new U(p,i,k,l);};function U(p,i,k,l){Object.defineProperties(this,{protocol:{value:p&&p.toUpperCase(),enumerable:true},host:{value:i&&i.toUpperCase(),enumerable:true},port:{value:k,enumerable:true},path:{value:l,enumerable:true}});}var A=[];u.clear=function(){A=[];};u.add=function(p,i,k,l){var E=this._createEntry(p,i,k,l);A.push(E);};u._delete=function(E){A.splice(A.indexOf(E),1);};u.entries=function(){return A.slice();};u.validate=function(s){var k=r.exec(s);if(!k){return false;}var p=k[1],B=k[2],H=k[3],P=k[4],l=k[5],q=k[6],m=k[7];if(p){p=p.toUpperCase();if(A.length<=0){if(!/^(https?|ftp)/i.test(p)){return false;}}}if(H){if(e.test(H)){if(!f.test(H)){return false;}}else if(g.test(H)){if(!h.test(H)){return false;}}else if(!j.test(H)){return false;}H=H.toUpperCase();}if(l){if(p==="MAILTO"){var n=B.split(",");for(var i=0;i<n.length;i++){if(!d.test(n[i])){return false;}}}else{var C=l.split("/");for(var i=0;i<C.length;i++){if(!a.test(C[i])){return false;}}}}if(q){if(!b.test(q)){return false;}}if(m){if(!c.test(m)){return false;}}if(A.length>0){var F=false;for(var i=0;i<A.length;i++){if(!p||!A[i].protocol||p==A[i].protocol){var o=false;if(H&&A[i].host&&/^\*/.test(A[i].host)){if(!A[i]._hostRegexp){var t=A[i].host.slice(1).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");A[i]._hostRegexp=RegExp(t+"$");}var v=A[i]._hostRegexp;if(v.test(H)){o=true;}}else if(!H||!A[i].host||H==A[i].host){o=true;}if(o){if((!H&&!P)||!A[i].port||P==A[i].port){if(A[i].path&&/\*$/.test(A[i].path)){if(!A[i]._pathRegexp){var w=A[i].path.slice(0,-1).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");A[i]._pathRegexp=RegExp("^"+w);}var v=A[i]._pathRegexp;if(v.test(l)){F=true;}}else if(!A[i].path||l==A[i].path){F=true;}}}}if(F){break;}}if(!F){return false;}}return true;};return u;});
sap.ui.predefine('sap/base/security/encodeURL',["sap/base/strings/toHex"],function(t){"use strict";var r=/[\ud800-\udbff][\udc00-\udfff]|[\x00-\x2c\x2f\x3a-\x40\x5b-\x5e\x60\x7b-\uffff]/g,u={};var U=function(c){var E=u[c];if(!E){var C=c.codePointAt(0);if(C<128){E="%"+t(C,2);}else if(C<2048){E="%"+t((C>>6)|192,2)+"%"+t((C&63)|128,2);}else if(C<65536){E="%"+t((C>>12)|224,2)+"%"+t(((C>>6)&63)|128,2)+"%"+t((C&63)|128,2);}else{E="%"+t((C>>18)|240,2)+"%"+t(((C>>12)&63)|128,2)+"%"+t(((C>>6)&63)|128,2)+"%"+t((C&63)|128,2);}u[c]=E;}return E;};var e=function(s){return s.replace(r,U);};return e;});
sap.ui.predefine('sap/base/security/encodeURLParameters',["./encodeURL"],function(e){"use strict";var E=function(p){if(!p){return"";}var u=[];Object.keys(p).forEach(function(n){var v=p[n];if(v instanceof String||typeof v==="string"){v=e(v);}u.push(e(n)+"="+v);});return u.join("&");};return E;});
sap.ui.predefine('sap/base/security/sanitizeHTML',["sap/base/assert","sap/base/security/URLListValidator","sap/ui/thirdparty/caja-html-sanitizer"],function(a,U){"use strict";var s=function(h,o){a(window.html&&window.html.sanitize,"Sanitizer should have been loaded");o=o||{uriRewriter:function(u){if(U.validate(u)){return u;}}};var t=o.tagPolicy||window.html.makeTagPolicy(o.uriRewriter,o.tokenPolicy);return window.html.sanitizeWithPolicy(h,t);};return s;});
sap.ui.predefine('sap/base/strings/camelize',[],function(){"use strict";var r=/-(.)/ig;var c=function(s){return s.replace(r,function(m,C){return C.toUpperCase();});};return c;});
sap.ui.predefine('sap/base/strings/capitalize',[],function(){"use strict";var c=function(s){return s.charAt(0).toUpperCase()+s.substring(1);};return c;});
sap.ui.predefine('sap/base/strings/formatMessage',["sap/base/assert"],function(a){"use strict";var r=/('')|'([^']+(?:''[^']*)*)(?:'|$)|\{([0-9]+(?:\s*,[^{}]*)?)\}|[{}]/g;var f=function(p,v){a(typeof p==="string"||p instanceof String,"pattern must be string");if(arguments.length>2||(v!=null&&!Array.isArray(v))){v=Array.prototype.slice.call(arguments,1);}v=v||[];return p.replace(r,function($,b,c,d,o){if(b){return"'";}else if(c){return c.replace(/''/g,"'");}else if(d){return String(v[parseInt(d)]);}throw new Error("formatMessage: pattern syntax error at pos. "+o);});};return f;});
sap.ui.predefine('sap/base/strings/hash',[],function(){"use strict";var h=function(s){var i=s.length,H=0;while(i--){H=(H<<5)-H+s.charCodeAt(i);H=H&H;}return H;};return h;});
sap.ui.predefine('sap/base/util/Properties',['sap/base/util/LoaderExtensions'],function(L){"use strict";var P=function(){this.mProperties={};this.aKeys=null;};P.prototype.getProperty=function(k,d){var v=this.mProperties[k];if(typeof(v)=="string"){return v;}else if(d){return d;}return null;};P.prototype.getKeys=function(){return this.aKeys||(this.aKeys=Object.keys(this.mProperties));};P.prototype.setProperty=function(k,v){if(typeof(v)!="string"){return;}if(typeof(this.mProperties[k])!="string"&&this.aKeys){this.aKeys.push(String(k));}this.mProperties[k]=v;};P.prototype.clone=function(){var c=new P();c.mProperties=Object.assign({},this.mProperties);return c;};var f=(typeof chrome==="object"||typeof v8==="object")?function(s,c){if(c>2&&40*c>s.length){Number(s);}return s;}:function(s){return s;};var r=/(?:\r\n|\r|\n|^)[ \t\f]*/;var a=/(\\u[0-9a-fA-F]{0,4})|(\\.)|(\\$)|([ \t\f]*[ \t\f:=][ \t\f]*)/g;var b=/(\\u[0-9a-fA-F]{0,4})|(\\.)|(\\$)/g;var e={'\\f':'\f','\\n':'\n','\\r':'\r','\\t':'\t'};function p(t,o){var l=t.split(r),c,d,k,v,i,m,g,C;function h(s){if(v){v=v+s;C++;}else{v=s;C=0;}}o.mProperties={};for(i=0;i<l.length;i++){c=l[i];if(c===""||c.charAt(0)==="#"||c.charAt(0)==="!"){continue;}d=a;d.lastIndex=g=0;k=null;v="";while((m=d.exec(c))!==null){if(g<m.index){h(c.slice(g,m.index));}g=d.lastIndex;if(m[1]){if(m[1].length!==6){throw new Error("Incomplete Unicode Escape '"+m[1]+"'");}h(String.fromCharCode(parseInt(m[1].slice(2),16)));}else if(m[2]){h(e[m[2]]||m[2].slice(1));}else if(m[3]){c=l[++i];d.lastIndex=g=0;}else if(m[4]){k=v;v="";d=b;d.lastIndex=g;}}if(g<c.length){h(c.slice(g));}if(k==null){k=v;v="";}o.mProperties[k]=f(v,v?C:0);}}P.create=function(m){m=Object.assign({url:undefined,headers:{}},m);var A=!!m.async,o=new P(),R;function _(t){if(typeof t==="string"){p(t,o);return o;}return m.returnNullIfMissing?null:o;}if(typeof m.url==="string"){R=L.loadResource({url:m.url,dataType:'text',headers:m.headers,failOnError:false,async:A});}if(A){if(!R){return Promise.resolve(_(null));}return R.then(function(v){return _(v);},function(v){throw(v instanceof Error?v:new Error("Problem during loading of property file '"+m.url+"': "+v));});}return _(R);};return P;});
sap.ui.predefine('sap/base/util/array/diff',['sap/base/util/deepEqual','sap/base/strings/hash'],function(d,h){"use strict";var D=function(o,n,c){var s={},O=[],N=[],a,S,b,f,e=0,g=0,j,k,l,m,r,p=[];if(o===n||d(o,n)){return p;}if(!c||typeof c=="function"){f=c;}else{f=c.symbol;r=c.replace;}f=f||function(v){if(typeof v!=="string"){v=JSON.stringify(v)||"";}return h(v);};for(var i=0;i<n.length;i++){S=f(n[i]);b=s[S];if(!b){b=s[S]={iNewCount:0,iOldCount:0};}b.iNewCount++;N[i]={symbol:b};}for(var i=0;i<o.length;i++){S=f(o[i]);b=s[S];if(!b){b=s[S]={iNewCount:0,iOldCount:0};}b.iOldCount++;b.iOldLine=i;O[i]={symbol:b};}for(var i=0;i<N.length;i++){b=N[i].symbol;if(b.iNewCount===1&&b.iOldCount===1){N[i].line=b.iOldLine;O[b.iOldLine].line=i;}}for(var i=0;i<N.length-1;i++){a=N[i].line;if(a!==undefined&&a<O.length-1){if(O[a+1].symbol===N[i+1].symbol){O[a+1].line=i+1;N[i+1].line=a+1;}}}for(var i=N.length-1;i>0;i--){a=N[i].line;if(a!==undefined&&a>0){if(O[a-1].symbol===N[i-1].symbol){O[a-1].line=i-1;N[i-1].line=a-1;}}}while(e<o.length||g<n.length){k=O[e]&&O[e].line;j=N[g]&&N[g].line;if(r&&k===undefined&&j===undefined&&e<o.length&&g<n.length){p.push({index:g,type:"replace"});e++;g++;}else if(e<o.length&&(k===undefined||k<g)){p.push({index:g,type:"delete"});e++;}else if(g<n.length&&(j===undefined||j<e)){p.push({index:g,type:"insert"});g++;}else if(g===k){g++;e++;}else{m=k-g;l=j-e;if(m<=l){p.push({index:g,type:"insert"});g++;}else{p.push({index:g,type:"delete"});e++;}}}return p;};return D;});
sap.ui.predefine('sap/base/util/deepExtend',["./_merge"],function(_){"use strict";var d=function(){var a=[true,true];a.push.apply(a,arguments);return _.apply(null,a);};return d;});
sap.ui.predefine('sap/base/util/includes',["sap/base/util/values"],function(v){"use strict";function e(a,b){return a===b||(a!==a&&b!==b);}var I=function(c,V,f){if(typeof f!=='number'){f=0;}if(Array.isArray(c)){if(typeof c.includes==='function'){return c.includes(V,f);}f=f<0?f+c.length:f;f=f<0?0:f;for(var i=f;i<c.length;i++){if(e(c[i],V)){return true;}}return false;}else if(typeof c==='string'){f=f<0?c.length+f:f;if(typeof c.includes==='function'){return c.includes(V,f);}return c.indexOf(V,f)!==-1;}else{return I(v(c),V,f);}};return I;});
sap.ui.predefine('sap/base/util/restricted/_curry',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.curry;});
sap.ui.predefine('sap/base/util/restricted/_isEqual',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.isEqual;});
sap.ui.predefine('sap/base/util/restricted/_omit',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.omit;});
sap.ui.predefine('sap/base/util/restricted/_pick',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.pick;});
sap.ui.predefine('sap/base/util/restricted/_zipObject',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.zipObject;});
sap.ui.predefine('sap/base/util/values',function(){"use strict";var v=function a(o){if(typeof o==="undefined"||o===null||o!==o){return[];}if(typeof Object.values==='function'){return Object.values(o);}if(typeof o==='string'){return o.split('');}if(typeof o!=='object'){return[];}return Object.keys(o).map(function(V){return o[V];});};return v;});
sap.ui.predefine('sap/m/ActionSheet',['./Dialog','./Popover','./library','sap/ui/core/Control','sap/ui/core/delegate/ItemNavigation','sap/ui/core/InvisibleText','sap/ui/Device','./ActionSheetRenderer','./Button',"sap/ui/thirdparty/jquery"],function(D,P,l,C,I,a,b,A,B,q){"use strict";var c=l.ButtonType;var d=l.DialogType;var e=l.PlacementType;var f=C.extend("sap.m.ActionSheet",{metadata:{library:"sap.m",properties:{placement:{type:"sap.m.PlacementType",group:"Appearance",defaultValue:e.Bottom},showCancelButton:{type:"boolean",group:"Appearance",defaultValue:true},cancelButtonText:{type:"string",group:"Appearance",defaultValue:null},title:{type:"string",group:"Appearance",defaultValue:null}},aggregations:{buttons:{type:"sap.m.Button",multiple:true,singularName:"button"},_cancelButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_invisibleAriaTexts:{type:"sap.ui.core.InvisibleText",multiple:true,visibility:"hidden"}},defaultAggregation:"buttons",events:{cancelButtonTap:{deprecated:true},beforeOpen:{},afterOpen:{},beforeClose:{parameters:{origin:{type:"sap.m.Button"}}},afterClose:{parameters:{origin:{type:"sap.m.Button"}}},cancelButtonPress:{}},designtime:"sap/m/designtime/ActionSheet.designtime"}});f.prototype.init=function(){this._fnOrientationChange=this._orientationChange.bind(this);this._actionSelected=null;};f.prototype.exit=function(){b.resize.detachHandler(this._fnOrientationChange);if(this._parent){this._parent.destroy();this._parent=null;}if(this._oCancelButton){this._oCancelButton.destroy();this._oCancelButton=null;}this._clearItemNavigation();};f.prototype._clearItemNavigation=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation;}};f.prototype._setItemNavigation=function(){var g=this._getAllButtons(),h=[],o=this.getDomRef();if(o){this._oItemNavigation.setRootDomRef(o);for(var i=0;i<g.length;i++){if(g[i].getEnabled()&&g[i].getVisible()){h.push(g[i].getFocusDomRef());}}if(this._oCancelButton){h.push(this._oCancelButton.getFocusDomRef());}this._oItemNavigation.setItemDomRefs(h);this._oItemNavigation.setSelectedIndex(0);this._oItemNavigation.setPageSize(5);this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"]});}};f.prototype.onmousedown=function(E){if(E.srcControl.isA("sap.m.Button")&&this.getButtons().indexOf(E.srcControl)!==-1){this._actionSelected=E.srcControl;}};f.prototype.onBeforeRendering=function(){var t,p;this._clearItemNavigation();t=this.getTitle();if(this._parent&&!this.isPropertyInitial("title")&&this._parent.getTitle()!==t){if(b.system.phone){this._parent.setTitle(t);this._parent.setShowHeader(!!t);}if(t){this._parent.addStyleClass("sapMActionSheetDialogWithTitle");}else{this._parent.removeStyleClass("sapMActionSheetDialogWithTitle");}}p=this.getPlacement();if(this._parent&&!b.system.phone&&!this.isPropertyInitial("placement")&&this._parent.setPlacement()!==p){this._parent.setPlacement(p);}};f.prototype.onAfterRendering=function(){this._oItemNavigation=new I();this._oItemNavigation.setCycling(false);this.addDelegate(this._oItemNavigation);this._setItemNavigation();};f.prototype.sapfocusleave=function(){this.close();};f.prototype.openBy=function(o){var t=this;if(!this._parent){var O=this.getParent();if(O){this.setParent(null);}if(!b.system.phone){this._parent=new P({placement:this.getPlacement(),showHeader:false,content:[this],beforeOpen:function(){t.fireBeforeOpen();},afterOpen:function(){t.focus();t.fireAfterOpen();},beforeClose:function(){t.fireBeforeClose();},afterClose:function(){if(t.getShowCancelButton()){t.fireCancelButtonTap();t.fireCancelButtonPress();}t._onAfterClose(t._actionSelected);t._actionSelected=null;},ariaLabelledBy:this.getPopupHiddenLabelId()||undefined}).addStyleClass("sapMActionSheetPopover");this._parent._setAriaRoleApplication(true);if(b.browser.internet_explorer){this._parent._fnAdjustPositionAndArrow=q.proxy(function(){P.prototype._adjustPositionAndArrow.apply(this);var $=this.$(),g=$.children(".sapMPopoverCont")[0].getBoundingClientRect().width;q.each($.find(".sapMActionSheet > .sapMBtn"),function(i,h){var j=q(h),k;j.css("width","");k=h.getBoundingClientRect().width;if(k<=g){j.css("width","100%");}});},this._parent);}}else{this._parent=new D({title:this.getTitle(),type:d.Standard,content:[this],beforeOpen:function(){t.fireBeforeOpen();},afterOpen:function(){t.focus();t.fireAfterOpen();},beforeClose:function(E){t.fireBeforeClose({origin:E.getParameter("origin")});},afterClose:function(E){t._actionSelected=E.getParameter("origin");t._onAfterClose(t._actionSelected);t._actionSelected=null;b.resize.detachHandler(t._fnOrientationChange);}}).addStyleClass("sapMActionSheetDialog");if(this.getTitle()){this._parent.addStyleClass("sapMActionSheetDialogWithTitle");}else{this._parent.addAriaLabelledBy(this.getPopupHiddenLabelId()||undefined);}if(!b.system.phone){this._parent.setBeginButton(this._getCancelButton());}if(b.system.phone){this._parent.oPopup.setModal(true);this._parent._setDimensions=function(){D.prototype._setDimensions.apply(this);this.$("cont").css("max-height","");};this._parent._adjustScrollingPane=function(){var h=this.$().height();this.$("cont").css("max-height",h);if(this._oScroller){this._oScroller.refresh();}};}}if(O){O.addDependent(this._parent);}}if(!b.system.phone){this._parent.openBy(o);}else{this._parent.open();b.resize.attachHandler(this._fnOrientationChange);}};f.prototype.close=function(){if(this._parent){this._parent.close();}};f.prototype.isOpen=function(){return!!this._parent&&this._parent.isOpen();};f.prototype._createCancelButton=function(){if(!this._oCancelButton){var s=(this.getCancelButtonText())?this.getCancelButtonText():sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACTIONSHEET_CANCELBUTTON_TEXT"),t=this;this._oCancelButton=new B(this.getId()+'-cancelBtn',{text:s,type:c.Reject,press:function(){if(b.system.phone&&t._parent){t._parent._oCloseTrigger=this;}t.close();t.fireCancelButtonTap();t.fireCancelButtonPress();}}).addStyleClass("sapMActionSheetButton sapMActionSheetCancelButton sapMBtnTransparent sapMBtnInverted");if(b.system.phone){this.setAggregation("_cancelButton",this._oCancelButton,true);}}return this;};f.prototype._getCancelButton=function(){if(b.system.phone&&this.getShowCancelButton()){this._createCancelButton();return this._oCancelButton;}return null;};f.prototype.setCancelButtonText=function(t){this.setProperty("cancelButtonText",t,true);if(this._oCancelButton){this._oCancelButton.setText(t);}return this;};f.prototype._preProcessActionButton=function(o){var t=o.getType();if(t!==c.Accept&&t!==c.Reject){o.setType(c.Transparent);}o.addStyleClass("sapMBtnInverted");if(!o.getIcon()){o.addStyleClass("sapMActionSheetButtonNoIcon");}o.addStyleClass("sapMActionSheetButton");this._parent&&this._parent.invalidate();return this;};f.prototype._buttonSelected=function(){if(b.system.phone&&this._parent){this._parent._oCloseTrigger=this;}this.close();};f.prototype._orientationChange=function(){this._parent._adjustScrollingPane();};f.prototype._addAriaHiddenTexts=function(o){var s=o.getId(),i;if(sap.ui.getCore().getConfiguration().getAccessibility()){i=new a(s+"-actionSheetHiddenText");this.addAggregation("_invisibleAriaTexts",i,false);o.addAriaLabelledBy(i.getId());}};f.prototype._removeAriaHiddenTexts=function(o){o.getAriaLabelledBy().forEach(function(i){var g=sap.ui.getCore().byId(i);if(g instanceof a&&i.indexOf("actionSheetHiddenText")>-1){this.removeAggregation("_invisibleAriaTexts",g,false);o.removeAriaLabelledBy(g);g.destroy();}},this);};f.prototype.addButton=function(o){this.addAggregation("buttons",o,false);this._addAriaHiddenTexts(o);this._preProcessActionButton(o);o.attachPress(this._buttonSelected,this);return this;};f.prototype.insertButton=function(o,i){this.insertAggregation("buttons",o,i,false);this._addAriaHiddenTexts(o);this._preProcessActionButton(o);o.attachPress(this._buttonSelected,this);return this;};f.prototype.removeButton=function(o){var r=this.removeAggregation("buttons",o,false);if(r){r.detachPress(this._buttonSelected,this);this._removeAriaHiddenTexts(r);}return r;};f.prototype.removeAllButtons=function(){var r=this.removeAllAggregation("buttons",false),t=this;q.each(r,function(i,o){o.detachPress(t._buttonSelected,t);t._removeAriaHiddenTexts(o);});return r;};f.prototype.clone=function(){var g=this.getButtons();for(var i=0;i<g.length;i++){g[i].detachPress(this._buttonSelected,this);}var o=C.prototype.clone.apply(this,arguments);for(var j=0;j<g.length;j++){g[j].attachPress(this._buttonSelected,this);}return o;};f.prototype._getAllButtons=function(){return this.getButtons();};f.prototype.getPopupHiddenLabelId=function(){return a.getStaticId("sap.m","ACTIONSHEET_AVAILABLE_ACTIONS");};f.prototype._applyContextualSettings=function(){C.prototype._applyContextualSettings.call(this);};f.prototype._onAfterClose=function(o){this.fireAfterClose({origin:o});};return f;});
sap.ui.predefine('sap/m/ActionSheetRenderer',["sap/ui/Device"],function(D){"use strict";var A={apiVersion:2};A.render=function(r,c){var a=c._getAllButtons(),I=c.getAggregation("_invisibleAriaTexts"),R=sap.ui.getCore().getLibraryResourceBundle('sap.m'),b=a.length,d=sap.ui.getCore().getConfiguration().getAccessibility(),v=a.filter(function(B){return B.getVisible();}).length,C,i,m,B,V=1,g=function(o){return I.filter(function(e){return e.getId().indexOf(o.getId())>-1;})[0];};for(i=0;i<b;i++){B=a[i];if(B.getIcon()&&B.getVisible()){m=true;}}r.openStart("div",c);r.class("sapMActionSheet");if(m){r.class("sapMActionSheetMixedButtons");}var t=c.getTooltip_AsString();if(t){r.attr("title",t);}d&&r.attr("role","presentation");r.openEnd();for(i=0;i<b;i++){B=a[i];r.renderControl(a[i]);if(d&&B.getVisible()){C=g(B);if(C){C.setText(R.getText('ACTIONSHEET_BUTTON_INDEX',[V,v]));r.renderControl(C);}V++;}}if(D.system.phone&&c.getShowCancelButton()){r.renderControl(c._getCancelButton());}r.close("div");};return A;},true);
sap.ui.predefine('sap/m/App',['./NavContainer','./library','./AppRenderer','sap/ui/base/DataType',"sap/ui/util/Mobile","sap/base/Log","sap/ui/thirdparty/jquery"],function(N,l,A,D,M,L,q){"use strict";var a=N.extend("sap.m.App",{metadata:{library:"sap.m",properties:{homeIcon:{type:"any",group:"Misc",defaultValue:null},backgroundColor:{type:"string",group:"Appearance",defaultValue:null},backgroundImage:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},backgroundRepeat:{type:"boolean",group:"Appearance",defaultValue:false},backgroundOpacity:{type:"float",group:"Appearance",defaultValue:1},mobileWebAppCapable:{type:"boolean",group:"Appearance",defaultValue:true}},events:{orientationChange:{deprecated:true,parameters:{landscape:{type:"boolean"}}}}}});a.prototype.init=function(){N.prototype.init.apply(this,arguments);this.addStyleClass("sapMApp");M.init({viewport:!this._debugZoomAndScroll,statusBar:"default",hideBrowser:true,preventScroll:!this._debugZoomAndScroll,rootId:this.getId()});q(window).on("resize",q.proxy(this._handleOrientationChange,this));};a.prototype.onBeforeRendering=function(){if(N.prototype.onBeforeRendering){N.prototype.onBeforeRendering.apply(this,arguments);}M.init({homeIcon:this.getHomeIcon(),mobileWebAppCapable:this.getMobileWebAppCapable()});};a.prototype.onAfterRendering=function(){if(N.prototype.onAfterRendering){N.prototype.onAfterRendering.apply(this,arguments);}var r=this.getDomRef().parentNode;while(r&&r!==document.documentElement){var $=q(r);if($.attr("data-sap-ui-root-content")){break;}if(!r.style.height){r.style.height="100%";}r=r.parentNode;}};a.prototype.exit=function(){q(window).off("resize",this._handleOrientationChange);if(this._sInitTimer){clearTimeout(this._sInitTimer);}};a.prototype._handleOrientationChange=function(){var $=q(window);var i=$.width()>$.height();if(this._oldIsLandscape!==i){this.fireOrientationChange({landscape:i});this._oldIsLandscape=i;}};a.prototype.setBackgroundOpacity=function(o){if(o>1||o<0){L.warning("Invalid value "+o+" for App.setBackgroundOpacity() ignored. Valid values are: floats between 0 and 1.");return this;}this.$("BG").css("opacity",o);return this.setProperty("backgroundOpacity",o,true);};return a;});
sap.ui.predefine('sap/m/AppRenderer',['./NavContainerRenderer','sap/ui/core/Renderer','sap/m/library'],function(N,R,l){"use strict";var B=l.BackgroundHelper;var A=R.extend(N);A.apiVersion=2;A.renderAttributes=function(r,c){B.addBackgroundColorStyles(r,c.getBackgroundColor(),c.getBackgroundImage());};A.renderBeforeContent=function(r,c){B.renderBackgroundImageTag(r,c,"sapMAppBG",c.getBackgroundImage(),c.getBackgroundRepeat(),c.getBackgroundOpacity());};return A;},true);
sap.ui.predefine('sap/m/AssociativeOverflowToolbar',['sap/base/Log','./OverflowToolbar','./OverflowToolbarRenderer','sap/ui/Device'],function(L,O,a,D){"use strict";var A=O.extend("sap.m.AssociativeOverflowToolbar",{metadata:{associations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}}},renderer:a});A.prototype.getContent=function(){var b=this.getAssociation("content")||[];var c=[];b.forEach(function(d){var C=sap.ui.getCore().byId(d);if(C){c.push(C);}});return c;};A.prototype.insertContent=function(c,I){var s=c.getId(),b=this.getAssociation("content").filter(function(d){return d!==s;});var i;if(I<0){i=0;}else if(I>b.length){i=b.length;}else{i=I;}if(i!==I){L.warning("AssociativeOverflowToolbar.insertContent: index '"+I+"' out of range [0,"+b.length+"], forced to "+i);}b.splice(i,0,s);this.removeAllAssociation("content");b.forEach(function(d){this.addAssociation("content",d);},this);return this;};A.prototype.exit=function(){O.prototype.exit.apply(this,arguments);return this._callToolbarMethod('destroyContent',[true]);};A.prototype.indexOfContent=function(c){var b=this.getAssociation("content")||[];return b.indexOf(c.getId());};A.prototype._handleResize=function(){if(D.system.phone){this._resetAndInvalidateToolbar();}else{this._bControlsInfoCached=false;O.prototype._handleResize.apply(this,arguments);}};A.prototype._callToolbarMethod=function(f,b){switch(f){case'addContent':return this.addAssociation("content",b[0]);case'getContent':return this.getContent();case'insertContent':return this.insertContent(b[0],b[1]);case'removeContent':return sap.ui.getCore().byId(this.removeAssociation("content",b[0],b[1],b[2]))||null;case'destroyContent':this.removeAllAssociation("content",b[0]);return this;case'removeAllContent':return this.removeAllAssociation("content",b[0]).map(function(c){return sap.ui.getCore().byId(c);});default:return O.prototype._callToolbarMethod.call(this,f,b);}};return A;});
sap.ui.predefine('sap/m/Avatar',["sap/ui/core/Control","sap/ui/core/IconPool","./AvatarRenderer","sap/ui/events/KeyCodes","sap/base/Log","sap/ui/core/Icon","./library"],function(C,I,A,K,L,a,l){"use strict";var b=l.AvatarType;var c=l.AvatarImageFitType;var d=l.AvatarColor;var e=l.AvatarSize;var f=l.AvatarShape;var g=Object.keys(d).filter(function(s){return s.indexOf("Accent")!==-1;});var h=C.extend("sap.m.Avatar",{metadata:{library:"sap.m",properties:{src:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},initials:{type:"string",group:"Data",defaultValue:null},displayShape:{type:"sap.m.AvatarShape",group:"Appearance",defaultValue:f.Circle},displaySize:{type:"sap.m.AvatarSize",group:"Appearance",defaultValue:e.S},customDisplaySize:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"3rem"},customFontSize:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"1.125rem"},imageFitType:{type:"sap.m.AvatarImageFitType",group:"Appearance",defaultValue:c.Cover},fallbackIcon:{type:"string",group:"Data",defaultValue:null},backgroundColor:{type:"sap.m.AvatarColor",group:"Appearance",defaultValue:d.Accent6},showBorder:{type:"boolean",group:"Appearance",defaultValue:false},badgeIcon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},badgeTooltip:{type:"string",group:"Data",defaultValue:null}},aggregations:{detailBox:{type:'sap.m.LightBox',multiple:false,bindable:"bindable"},_badge:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},_icon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{press:{}},dnd:{draggable:true,droppable:false},designtime:"sap/m/designtime/Avatar.designtime"}});h.DEFAULT_CIRCLE_PLACEHOLDER="sap-icon://person-placeholder";h.DEFAULT_SQUARE_PLACEHOLDER="sap-icon://product";h.AVATAR_BADGE_TOOLTIP={"sap-icon://zoom-in":sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("AVATAR_TOOLTIP_ZOOMIN"),"sap-icon://camera":sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("AVATAR_TOOLTIP_CAMERA"),"sap-icon://edit":sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("AVATAR_TOOLTIP_EDIT")};h.prototype.init=function(){this._sActualType=null;this._bIsDefaultIcon=true;this._sImageFallbackType=null;this._sPickedRandomColor=null;this._badgeRef=null;};h.prototype.exit=function(){if(this._fnLightBoxOpen){this._fnLightBoxOpen=null;}if(this._badgeRef){this._badgeRef.destroy();}this._sPickedRandomColor=null;};h.prototype.setDetailBox=function(o){var i=this.getDetailBox();if(o){if(o===i){return this;}if(i){this.detachPress(this._fnLightBoxOpen,i);}this._fnLightBoxOpen=o.open;this.attachPress(this._fnLightBoxOpen,o);}else if(this._fnLightBoxOpen){this.detachPress(this._fnLightBoxOpen,i);this._fnLightBoxOpen=null;}return this.setAggregation("detailBox",o);};h.prototype.clone=function(){var o=C.prototype.clone.apply(this,arguments),i=o.getDetailBox();if(i){o.detachPress(this._fnLightBoxOpen,this.getDetailBox());o._fnLightBoxOpen=i.open;o.attachPress(o._fnLightBoxOpen,i);}return o;};h.prototype.attachPress=function(){Array.prototype.unshift.apply(arguments,["press"]);C.prototype.attachEvent.apply(this,arguments);if(this.hasListeners("press")){this.$().attr("tabindex","0");this.$().attr("role","button");}return this;};h.prototype.detachPress=function(){Array.prototype.unshift.apply(arguments,["press"]);C.prototype.detachEvent.apply(this,arguments);if(!this.hasListeners("press")){this.$().removeAttr("tabindex");this.$().attr("role","img");}return this;};h.prototype.ontap=function(){this.firePress({});};h.prototype.onkeydown=function(E){if(E.which===K.SHIFT||E.which===K.ESCAPE){this._bShouldInterupt=this._bSpacePressed;}if(E.which===K.SPACE){this._bSpacePressed=true;E.preventDefault();}if(E.which===K.ENTER){this.firePress({});}};h.prototype.onkeyup=function(E){if(E.which===K.SPACE){if(!this._bShouldInterupt){this.firePress({});}this._bShouldInterupt=false;this._bSpacePressed=false;E.stopPropagation();}};h.prototype._areInitialsValid=function(i){var v=/^[a-zA-Z]{1,2}$/;if(!v.test(i)){L.warning("Initials should consist of only 1 or 2 latin letters",this);this._sActualType=b.Icon;this._bIsDefaultIcon=true;return false;}return true;};h.prototype._validateSrc=function(s){if(I.isIconURI(s)){this._sActualType=b.Icon;this._bIsDefaultIcon=I.getIconInfo(s)?false:true;}else{this._bIsDefaultIcon=true;this._sActualType=b.Image;this.preloadedImage=new window.Image();this.preloadedImage.src=s;this.preloadedImage.onload=this._onImageLoad.bind(this);this.preloadedImage.onerror=this._onImageError.bind(this);}return this;};h.prototype._getDisplayIcon=function(s){return I.isIconURI(s)&&I.getIconInfo(s)?I.createControlByURI({src:s}):null;};h.prototype._getActualDisplayType=function(){var s=this.getSrc(),i=this.getInitials();if(s){this._validateSrc(s);}else if(i&&this._areInitialsValid(i)){this._sActualType=b.Initials;}else{L.warning("No src and initials were provided",this);this._sActualType=b.Icon;this._bIsDefaultIcon=true;}return this._sActualType;};h.prototype._getImageFallbackType=function(){var i=this.getInitials();this._sImageFallbackType=i&&this._areInitialsValid(i)?b.Initials:b.Icon;return this._sImageFallbackType;};h.prototype._getDefaultIconPath=function(D){var s=null,F=this.getFallbackIcon();if(F&&I.isIconURI(F)){s=F;}else if(D===f.Circle){s=h.DEFAULT_CIRCLE_PLACEHOLDER;}else if(D===f.Square){s=h.DEFAULT_SQUARE_PLACEHOLDER;}return s;};h.prototype._getIcon=function(){var s=this.getSrc(),i=this.getAggregation("_icon"),D=this.getDisplayShape();if(this._bIsDefaultIcon){s=this._getDefaultIconPath(D);}if(!i){i=I.createControlByURI({alt:"Image placeholder",src:s});this.setAggregation("_icon",i);}else if(i.getSrc()!==s){i.setSrc(s);}return i;};h.prototype._getDefaultTooltip=function(){return sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("AVATAR_TOOLTIP");};h.prototype._getBadgeIconSource=function(){var B;if(this.getDetailBox()){B="sap-icon://zoom-in";}else if(this.getBadgeIcon()!==""){if(this._getDisplayIcon(this.getBadgeIcon())){B=this.getBadgeIcon();}else{L.warning("No valid Icon URI source for badge affordance was provided");}}return B;};h.prototype._getBadgeTooltip=function(){var B=this._getDefaultTooltip(),s=this.getBadgeIcon();if(this.getBadgeTooltip()){B=this.getBadgeTooltip();}else if(s&&h.AVATAR_BADGE_TOOLTIP[this.getBadgeIcon()]){B=h.AVATAR_BADGE_TOOLTIP[s];}return B;};h.prototype._getBadge=function(){var B=this._getBadgeIconSource(),s=this._getBadgeTooltip();if(!B){return;}if(!this._badgeRef){this.setAggregation("_badge",new a({src:B,tooltip:s}));}this._badgeRef=this.getAggregation("_badge");return this._badgeRef;};h.prototype._onImageLoad=function(){delete this.preloadedImage;};h.prototype._onImageError=function(){var F=this._getImageFallbackType();this.$().removeClass("sapFAvatarImage").addClass("sapFAvatar"+F);delete this.preloadedImage;};h.prototype._getActualBackgroundColor=function(){var B=this.getBackgroundColor();if(B===d.Random){if(this._sPickedRandomColor){return this._sPickedRandomColor;}B=this._sPickedRandomColor=d[g[g.length*Math.random()<<0]];}else{this._sPickedRandomColor=null;}return B;};return h;});
sap.ui.predefine('sap/m/AvatarColor',[],function(){"use strict";var A={Accent1:"Accent1",Accent2:"Accent2",Accent3:"Accent3",Accent4:"Accent4",Accent5:"Accent5",Accent6:"Accent6",Accent7:"Accent7",Accent8:"Accent8",Accent9:"Accent9",Accent10:"Accent10",Random:"Random",Transparent:"Transparent",TileIcon:"TileIcon",Placeholder:"Placeholder"};return A;});
sap.ui.predefine('sap/m/AvatarImageFitType',[],function(){"use strict";var A={Cover:"Cover",Contain:"Contain"};return A;});
sap.ui.predefine('sap/m/AvatarRenderer',["sap/m/library","sap/base/security/encodeCSS"],function(l,e){"use strict";var A=l.AvatarSize;var a=l.AvatarType;var b={apiVersion:2};b.render=function(r,o){var i=o.getInitials(),s=o._getActualDisplayType(),I=o._getImageFallbackType(),d=o.getDisplaySize(),D=o.getDisplayShape(),c=o.getImageFitType(),C=o.getCustomDisplaySize(),f=o.getCustomFontSize(),S=o.getSrc(),g="sapFAvatar",t=o.getTooltip_AsString(),L=o.getAriaLabelledBy(),h=o.getAriaDescribedBy(),B=o.hasListeners("press")?o._getBadge():null,j=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("AVATAR_ROLE_DESCRIPTION");r.openStart("span",o);r.class(g);r.class("sapFAvatarColor"+o._getActualBackgroundColor());r.class(g+d);r.class(g+s);r.class(g+D);if(o.hasListeners("press")){r.class("sapMPointer");r.class(g+"Focusable");r.attr("role","button");r.attr("tabindex",0);}else{r.attr("role","img");}r.attr("aria-roledescription",j);if(o.getShowBorder()){r.class("sapFAvatarBorder");}if(d===A.Custom){r.style("width",C);r.style("height",C);r.style("font-size",f);}if(t){r.attr("title",t);r.attr("aria-label",t);}else if(i){r.attr("aria-label",i);}if(L&&L.length>0){r.attr("aria-labelledby",L.join(" "));}if(h&&h.length>0){r.attr("aria-describedby",h.join(" "));}r.openEnd();if(s===a.Icon||I===a.Icon){r.renderControl(o._getIcon().addStyleClass(g+"TypeIcon"));}else if(s===a.Initials||I===a.Initials){r.openStart("span");r.class(g+"InitialsHolder");r.openEnd();r.text(i);r.close("span");}if(s===a.Image){r.openStart("span");r.class(g+"ImageHolder");r.class(g+s+c);r.style("background-image","url('"+e(S)+"')");r.openEnd();r.close("span");}if(B){r.openStart("div");r.class(g+"BadgeIconActiveArea");if(C){r.style("font-size",C);}r.openEnd();r.openStart("span");r.class(g+"BadgeIcon");r.openEnd();r.renderControl(B);r.close("span");r.close("div");}r.close("span");};return b;},true);
sap.ui.predefine('sap/m/AvatarShape',[],function(){"use strict";var A={Circle:"Circle",Square:"Square"};return A;});
sap.ui.predefine('sap/m/AvatarSize',[],function(){"use strict";var A={XS:"XS",S:"S",M:"M",L:"L",XL:"XL",Custom:"Custom"};return A;});
sap.ui.predefine('sap/m/AvatarType',[],function(){"use strict";var A={Icon:"Icon",Image:"Image",Initials:"Initials"};return A;});
sap.ui.predefine('sap/m/BadgeCustomData',['sap/ui/core/CustomData','sap/base/Log','sap/m/library'],function(C,L,l){"use strict";var B=l.BadgeAnimationType;var a=C.extend("sap.m.BadgeCustomData",{metadata:{properties:{visible:{type:"boolean",group:"Appearance",defaultValue:true},animation:{type:"sap.m.BadgeAnimationType",group:"Appearance",defaultValue:B.Full}}}});a.prototype.init=function(){var p=this.getParent();if(p&&!p.isA("sap.m.IBadge")){L.warning("BadgeCustomData must be attached only to controls, which implement sap.m.IBadge");}};a.prototype.setValue=function(v){if(this.getValue()===v){return this;}if(v===null||v===undefined){v="";}var p=this.getParent();v=v.toString();C.prototype.setValue.call(this,v);if(p){p.updateBadgeValue(v);}return this;};a.prototype.setVisible=function(v){if(this.getVisible()===v){return this;}this.setProperty("visible",v,true);var p=this.getParent();if(p){p.updateBadgeVisibility(v);}return this;};a.prototype.setAnimation=function(A){if(this.getAnimation()===A){return this;}this.setProperty("animation",A,true);var p=this.getParent();if(p){p.updateBadgeAnimation(A);}return this;};a.prototype.setKey=function(){return this;};return a;});
sap.ui.predefine('sap/m/BadgeEnabler',['sap/m/BadgeCustomData','sap/base/Log','sap/m/library'],function(B,L,l){"use strict";var I="sapMBadge";var a={topLeft:"sapMBadgeTopLeft",topRight:"sapMBadgeTopRight",inline:"sapMBadgeInline"};var b=l.BadgeState;var c=l.BadgeStyle;var d=["","undefined","null",false];var e=function(){this.initBadgeEnablement=function(C,o){var D=o?o:this;this._oBadgeConfig=C||{};D.addEventDelegate({onAfterRendering:f},this);};function _(C,o){if(C.suffix){return o.$(C.suffix);}if(C.selector){return o.$().find(C.selector).first();}}function f(){this._isBadgeAttached=false;if(!this.getBadgeCustomData()||!this.getBadgeCustomData().getVisible()){return false;}j.call(this);if(!Object.keys(this._oBadgeConfig).length){return this;}return this;}function g(){var o=h.call(this);o.removeClass("sapMBadgeAnimationUpdate");o.removeClass("sapMBadgeAnimationAdd");o.width();o.addClass("sapMBadgeAnimationRemove");o.removeAttr("aria-label");this._isBadgeAttached=false;m.call(this,"",b["Disappear"]);return this;}function h(){return this.$(I);}function i(){return this.getId()+"-"+I;}function j(){var o,s=i.call(this),p=h.call(this),q=typeof this.badgeValueFormatter==="function"&&this.badgeValueFormatter,v=n(q?q.call(this,this.getBadgeCustomData().getValue()):this.getBadgeCustomData().getValue())||"",S=this._oBadgeConfig.style?this._oBadgeConfig.style:c.Default,A=this.getBadgeCustomData().getAnimation();this._oBadgeContainer=this._oBadgeConfig&&this._oBadgeConfig.selector?_(this._oBadgeConfig.selector,this):this.$();if(p.length){p.remove();}o=jQuery('<div></div>').addClass(I+"Indicator");o.addClass(I+S);o.attr("id",s);o.attr("data-badge",v);o.attr("aria-label",k.call(this));o.appendTo(this._oBadgeContainer);o.addClass("sapMBadgeAnimationAdd");this._isBadgeAttached=true;this._oBadgeContainer.addClass(I);if(this._oBadgeConfig.position){this._oBadgeContainer.addClass(a[this._oBadgeConfig.position]);}if(this._oBadgeConfig.accentColor){this._oBadgeContainer.addClass(I+this._oBadgeConfig.accentColor);}this._oBadgeContainer.addClass(this.getBadgeAnimationClass(this.getBadgeCustomData().getAnimation()));this._badgeAnimaionType=A;m.call(this,v,b["Appear"]);}this.updateBadgeValue=function(v){var o=typeof this.badgeValueFormatter==="function"&&this.badgeValueFormatter,p;v=n((o?o.call(this,v):v))||"";if(!this.getBadgeCustomData().getVisible()){return false;}p=h.call(this);p.removeClass("sapMBadgeAnimationUpdate");p.attr("data-badge",v);p.attr("aria-label",k.call(this));p.width();p.addClass("sapMBadgeAnimationUpdate");m.call(this,v,b["Updated"]);};function k(){var A=this.getAriaLabelBadgeText;return A&&typeof A==="function"&&A.call(this);}function m(v,s){if(this.onBadgeUpdate&&typeof this.onBadgeUpdate==="function"){var o=i.call(this);return this.onBadgeUpdate(v,s,o);}}function n(v){return d.indexOf(v)===-1&&v;}this.addCustomData=function(C){if(C.isA("sap.m.BadgeCustomData")){this.removeAggregation("customData",this._oBadgeCustomData,true);this._oBadgeCustomData=C;this.addAggregation("customData",C,true);return this.updateBadgeVisibility(C.getVisible());}return this.addAggregation("customData",C);};this.insertCustomData=function(C){if(C.isA("sap.m.BadgeCustomData")){this.removeAggregation("customData",this._oBadgeCustomData,true);this._oBadgeCustomData=C;this.addAggregation("customData",C,true);return this.updateBadgeVisibility(C.getVisible());}return this.insertAggregation("customData",C);};this.getBadgeCustomData=function(){var o=this.getCustomData().filter(function(p){return p instanceof B;});return o.length?o[0]:undefined;};this.getBadgeAnimationClass=function(A){return I+"AnimationType"+A;};this.removeBadgeCustomData=function(){var o;o=this._oBadgeCustomData;this._oBadgeCustomData=null;return this.removeAggregation("customData",o,true);};this.setBadgeAccentColor=function(v){if(!this._oBadgeContainer){return false;}this._oBadgeContainer.removeClass(I+this._oBadgeConfig.accentColor);this._oBadgeContainer.addClass(I+v);this._oBadgeConfig.accentColor=v;};this.setBadgePosition=function(v){if(!this._oBadgeContainer){return false;}this._oBadgeContainer.removeClass(I+this._oBadgeConfig.position);this._oBadgeContainer.addClass(a[v]);this._oBadgeConfig.position=v;};this.updateBadgeVisibility=function(v){return v?j.call(this):g.call(this);};this._renderBadge=function(){f.call(this);};this.updateBadgeAnimation=function(A){if(this._oBadgeContainer){this._badgeAnimaionType&&this._oBadgeContainer.removeClass(this.getBadgeAnimationClass(this._badgeAnimaionType));this._oBadgeContainer.addClass(this.getBadgeAnimationClass(A));}this._badgeAnimaionType=A;};};return e;});
sap.ui.predefine('sap/m/Bar',['./BarInPageEnabler','./library','sap/ui/core/Control','sap/ui/core/ResizeHandler','sap/ui/Device','./BarRenderer',"sap/ui/thirdparty/jquery"],function(B,l,C,R,D,a,q){"use strict";var b=l.BarDesign;var T=l.TitleAlignment;var c=C.extend("sap.m.Bar",{metadata:{interfaces:["sap.m.IBar"],library:"sap.m",properties:{enableFlexBox:{type:"boolean",group:"Misc",defaultValue:false,deprecated:true},translucent:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},design:{type:"sap.m.BarDesign",group:"Appearance",defaultValue:b.Auto},titleAlignment:{type:"sap.m.TitleAlignment",group:"Misc",defaultValue:T.None}},aggregations:{contentLeft:{type:"sap.ui.core.Control",multiple:true,singularName:"contentLeft"},contentMiddle:{type:"sap.ui.core.Control",multiple:true,singularName:"contentMiddle"},contentRight:{type:"sap.ui.core.Control",multiple:true,singularName:"contentRight"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designtime:"sap/m/designtime/Bar.designtime",dnd:{draggable:false,droppable:true}}});c.prototype.onBeforeRendering=function(){var s=this.getTitleAlignment(),A;this._removeAllListeners();for(A in T){if(A!==s){this.removeStyleClass("sapMBarTitleAlign"+A);}else{this.addStyleClass("sapMBarTitleAlign"+A);}}};c.prototype.onAfterRendering=function(){this._handleResize();};c.prototype.init=function(){this.data("sap-ui-fastnavgroup","true",true);this._sPrevTitleAlignmentClass="";};c.prototype.exit=function(){this._removeAllListeners();if(this._oflexBox){this._oflexBox.destroy();this._oflexBox=null;}this._$MidBarPlaceHolder=null;this._$RightBar=null;this._$LeftBar=null;};c._aResizeHandlers=["_sResizeListenerId","_sResizeListenerIdMid","_sResizeListenerIdRight","_sResizeListenerIdLeft"];c.prototype._removeAllListeners=function(){var t=this;c._aResizeHandlers.forEach(function(i){t._removeListenerFailsave(i);});};c.prototype._removeListenerFailsave=function(L){if(this[L]){R.deregister(this[L]);this[L]=null;}};c.prototype._handleResize=function(){this._removeAllListeners();var e=!!this.getContentLeft().length,f=!!this.getContentMiddle().length,g=!!this.getContentRight().length;if(!this.getVisible()){return;}if(!e&&!f&&!g){return;}this._$LeftBar=this.$("BarLeft");this._$RightBar=this.$("BarRight");this._$MidBarPlaceHolder=this.$("BarPH");this._updatePosition(e,f,g);this._sResizeListenerId=R.register(this.getDomRef(),q.proxy(this._handleResize,this));if(this.getEnableFlexBox()){return;}if(e){this._sResizeListenerIdLeft=R.register(this._$LeftBar[0],q.proxy(this._handleResize,this));}if(f){this._sResizeListenerIdMid=R.register(this._$MidBarPlaceHolder[0],q.proxy(this._handleResize,this));}if(g){this._sResizeListenerIdRight=R.register(this._$RightBar[0],q.proxy(this._handleResize,this));}};c.prototype._updatePosition=function(e,f,g){if(!e&&!g&&f){return;}if(e&&!f&&!g){return;}if(!e&&!f&&g){return;}var i=this.$().outerWidth(true);this._$RightBar.css({width:""});this._$LeftBar.css({width:""});if(D.browser.msie){this._$MidBarPlaceHolder.css({position:"",width:""});}else{this._$MidBarPlaceHolder.css({position:"",width:"",visibility:"hidden"});}var r=this._$RightBar.outerWidth(true);if(r>i){if(e){this._$LeftBar.css({width:"0px"});}if(f){this._$MidBarPlaceHolder.css({width:"0px"});}this._$RightBar.css({width:i+"px"});return;}var L=this._getBarContainerWidth(this._$LeftBar);if(i<(L+r)){L=i-r;this._$LeftBar.css({width:L+"px"});this._$MidBarPlaceHolder.css({width:"0px"});return;}this._$MidBarPlaceHolder.css(this._getMidBarCss(r,i,L));};c.prototype._getMidBarCss=function(r,i,L){var m=this._$MidBarPlaceHolder.outerWidth(true),e=sap.ui.getCore().getConfiguration().getRTL(),s=e?"right":"left",M={visibility:""};if(this.getEnableFlexBox()){m=i-L-r-parseInt(this._$MidBarPlaceHolder.css('margin-left'))-parseInt(this._$MidBarPlaceHolder.css('margin-right'));M.position="absolute";M.width=m+"px";M[s]=L;return M;}var S=i-L-r,f=(i/2)-(m/2),g=L>f,h=(i/2)+(m/2),j=(i-r)<h,t=this.getTitleAlignment();if((t!==T.None&&t!==T.Center)||(S>0&&(g||j))){M.position="absolute";M.width=S+"px";M.left=e?r:L;}return M;};c.prototype._getBarContainerWidth=function($){var i,e=0,f=$.children(),g=0;if(D.browser.webkit||D.browser.firefox||D.browser.edge){for(i=0;i<f.length;i++){g+=q(f[i]).outerWidth(true);}e=$.outerWidth(true);}else{var o;for(i=0;i<f.length;i++){o=window.getComputedStyle(f[i]);if(o.width=="auto"){g+=q(f[i]).width()+1;}else{g+=parseFloat(o.width);}g+=parseFloat(o.marginLeft);g+=parseFloat(o.marginRight);g+=parseFloat(o.paddingLeft);g+=parseFloat(o.paddingRight);}var h=window.getComputedStyle($[0]);e+=parseFloat(h.width);e+=parseFloat(h.marginLeft);e+=parseFloat(h.marginRight);e+=parseFloat(h.paddingLeft);e+=parseFloat(h.paddingRight);}if(e<g){e=g;}return e;};var d=B.extend("sap.m.BarInAnyContentEnabler",{});d.mContexts={dialogFooter:{contextClass:"sapMFooter-CTX",tag:"Footer"}};d.prototype.getContext=function(){var p=B.prototype.getContext.call();for(var k in d.mContexts){p[k]=d.mContexts[k];}return p;};c.prototype.getContext=d.prototype.getContext;c.prototype.isContextSensitive=d.prototype.isContextSensitive;c.prototype.setHTMLTag=d.prototype.setHTMLTag;c.prototype.getHTMLTag=d.prototype.getHTMLTag;c.prototype.applyTagAndContextClassFor=d.prototype.applyTagAndContextClassFor;c.prototype._applyContextClassFor=d.prototype._applyContextClassFor;c.prototype._applyTag=d.prototype._applyTag;c.prototype._getContextOptions=d.prototype._getContextOptions;c.prototype._setRootAccessibilityRole=d.prototype._setRootAccessibilityRole;c.prototype._getRootAccessibilityRole=d.prototype._getRootAccessibilityRole;c.prototype._setRootAriaLevel=d.prototype._setRootAriaLevel;c.prototype._getRootAriaLevel=d.prototype._getRootAriaLevel;return c;});
sap.ui.predefine('sap/m/BarInPageEnabler',['sap/ui/base/Object','sap/m/library',"sap/base/Log"],function(O,l,L){"use strict";var I=l.IBarHTMLTag;var c={footer:{contextClass:"sapMFooter-CTX sapContrast sapContrastPlus",tag:"Footer",internalAriaLabel:"BAR_ARIA_DESCRIPTION_FOOTER"},header:{contextClass:"sapMHeader-CTX",tag:"Header",internalAriaLabel:"BAR_ARIA_DESCRIPTION_HEADER"},subheader:{contextClass:"sapMSubHeader-CTX",tag:"Header",internalAriaLabel:"BAR_ARIA_DESCRIPTION_SUBHEADER"}};var a="sapMIBar";var B=O.extend("sap.m.BarInPageEnabler",{isContextSensitive:function(){return this.getDesign&&this.getDesign()==="Auto";},setHTMLTag:function(n){if(n===this.sTag){return this;}this.sTag=n;return this;},getHTMLTag:function(){if(!this.hasOwnProperty("sTag")){this.sTag=I.Div;}return this.sTag;},getContext:function(){return c;},_getRootAccessibilityRole:function(){var r=this._sRootAccessibilityRole||"toolbar";return r;},_setRootAccessibilityRole:function(r){this._sRootAccessibilityRole=r;return this;},_getRootAriaLevel:function(){var A=this.sAriaLevel;return A;},_setRootAriaLevel:function(s){this.sAriaLevel=s;return this;},applyTagAndContextClassFor:function(C){this._applyTag(C);return this._applyContextClassFor(C);},_applyContextClassFor:function(C){var o=this._getContextOptions(C);if(!o){return this;}if(!this.isContextSensitive){L.error("The bar control you are using does not implement all the members of the IBar interface",this);return this;}if(!this.getRenderer().shouldAddIBarContext()){this.addStyleClass(a+"-CTX");}if(this.isContextSensitive()){this.addStyleClass(o.contextClass);}return this;},_applyTag:function(C){var o=this._getContextOptions(C);if(!o){return this;}if(!this.setHTMLTag){L.error("The bar control you are using does not implement all the members of the IBar interface",this);return this;}this.setHTMLTag(o.tag);return this;},_getContextOptions:function(C){var o;if(this.getContext){o=this.getContext();}else{o=c;}var b=o[C];if(!b){L.error("The context "+C+" is not known",this);return null;}return b;},render:function(r,C){var t=C.getHTMLTag().toLowerCase();r.openStart(t,C);r.class(a);if(this.shouldAddIBarContext(C)){r.class(a+"-CTX");}B.renderTooltip(r,C);this.decorateRootElement(r,C);r.openEnd();this.renderBarContent(r,C);r.close(t);}});B.renderTooltip=function(r,C){var t=C.getTooltip_AsString();if(t){r.attr("title",t);}};B.addChildClassTo=function(C){C.addStyleClass("sapMBarChild");};return B;});
sap.ui.predefine('sap/m/BarRenderer',['./BarInPageEnabler','sap/ui/Device',"sap/base/Log",'sap/m/HBox'],function(B,D,L,H){"use strict";var a={apiVersion:2};a.render=B.prototype.render;a.decorateRootElement=function(r,c){r.class("sapMBar");r.class(this.getContext(c));r.accessibilityState(c,{"role":c._getRootAccessibilityRole(),"level":c._getRootAriaLevel()});if(c.getTranslucent()&&D.support.touch){r.class("sapMBarTranslucent");}r.class("sapMBar-CTX");};a.shouldAddIBarContext=function(){return true;};a.renderBarContent=function(r,c){r.openStart("div",c.getId()+"-BarLeft");r.class("sapMBarLeft");r.class("sapMBarContainer");w("left",r,c);r.openEnd();this.renderAllControls(c.getContentLeft(),r,c);r.close("div");r.openStart("div",c.getId()+"-BarMiddle");r.class("sapMBarMiddle");r.openEnd();if(c.getEnableFlexBox()){c._oflexBox=c._oflexBox||new H(c.getId()+"-BarPH",{alignItems:"Center"}).addStyleClass("sapMBarPH").setParent(c,null,true);var C=!!c.getContentLeft().length,b=!!c.getContentMiddle().length,d=!!c.getContentRight().length;if(b&&!C&&!d){c._oflexBox.addStyleClass("sapMBarFlexBoxWidth100");}c.getContentMiddle().forEach(function(m){c._oflexBox.addItem(m);});r.renderControl(c._oflexBox);}else{r.openStart("div",c.getId()+"-BarPH");r.class("sapMBarPH");r.class("sapMBarContainer");w("middle",r,c);r.openEnd();this.renderAllControls(c.getContentMiddle(),r,c);r.close("div");}r.close("div");r.openStart("div",c.getId()+"-BarRight");r.class("sapMBarRight");r.class("sapMBarContainer");if(sap.ui.getCore().getConfiguration().getRTL()){r.class("sapMRTL");}w("right",r,c);r.openEnd();this.renderAllControls(c.getContentRight(),r,c);r.close("div");};a.renderAllControls=function(c,r,b){c.forEach(function(C){B.addChildClassTo(C,b);r.renderControl(C);});};a._mContexts={Header:"sapMHeader-CTX",SubHeader:"sapMSubHeader-CTX",Footer:"sapMFooter-CTX",Default:"sapMContent-CTX"};a.getContext=function(c){var d=c.getDesign(),C=a._mContexts;return C[d]||C.Default;};function w(A,r,c){var C=!!c.getContentLeft().length,b=!!c.getContentMiddle().length,d=!!c.getContentRight().length;switch(A.toLowerCase()){case"left":if(C&&!b&&!d){r.style("width","100%");}break;case"middle":if(b&&!C&&!d){r.style("width","100%");}break;case"right":if(d&&!C&&!b){r.style("width","100%");}break;default:L.error("Cannot determine which of the three content aggregations is alone");}}return a;},true);
sap.ui.predefine('sap/m/BusyIndicator',['./library','sap/ui/core/Control','sap/ui/core/library','sap/m/Image','sap/m/Label',"./BusyIndicatorRenderer"],function(l,C,c,I,L,B){"use strict";var T=c.TextDirection;var a=C.extend("sap.m.BusyIndicator",{metadata:{library:"sap.m",properties:{text:{type:"string",group:"Data",defaultValue:""},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:T.Inherit},customIcon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:""},customIconRotationSpeed:{type:"int",group:"Appearance",defaultValue:1000},customIconDensityAware:{type:"boolean",defaultValue:true},customIconWidth:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"44px"},customIconHeight:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"44px"},size:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"1rem"},design:{type:"string",group:"Appearance",defaultValue:"auto"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}}}});a.prototype.init=function(){this.setBusyIndicatorDelay(0);};a.prototype.onBeforeRendering=function(){if(this.getCustomIcon()){this.setBusy(false);}else{this.setBusy(true,"busy-area");}if(this._busyLabel){this._busyLabel.setTextDirection(this.getTextDirection());}if(this._iconImage){this._iconImage.setDensityAware(this.getCustomIconDensityAware());this._iconImage.setSrc(this.getCustomIcon());this._iconImage.setWidth(this.getCustomIconWidth());this._iconImage.setHeight(this.getCustomIconHeight());}else if(!this._iconImage&&this.getCustomIcon()){this._createCustomIcon(this.getCustomIcon()).addStyleClass("sapMBsyIndIcon");}if(this._busyLabel){this._busyLabel.setText(this.getText());this._busyLabel.setTextDirection(this.getTextDirection());}else if(!this._busyLabel&&this.getText()){this._createLabel(this.getText());}};a.prototype.onAfterRendering=function(){this._setRotationSpeed();};a.prototype.exit=function(){if(this._iconImage){this._iconImage.destroy();this._iconImage=null;}if(this._busyLabel){this._busyLabel.destroy();this._busyLabel=null;}};a.prototype._createCustomIcon=function(i){this._iconImage=new I(this.getId()+"-icon",{src:i,width:this.getCustomIconWidth(),height:this.getCustomIconHeight(),densityAware:this.getCustomIconDensityAware()});return this._iconImage;};a.prototype._createLabel=function(t){this._busyLabel=new L(this.getId()+"-label",{labelFor:this.getId(),text:t,textAlign:"Center",textDirection:this.getTextDirection()});return this._busyLabel;};a.prototype._setRotationSpeed=function(){if(!this._iconImage){return;}var i=this.getCustomIconRotationSpeed();if(i===this.getMetadata().getProperty("customIconRotationSpeed").getDefaultValue()){return;}i=Math.max(0,i);var $=this._iconImage.$();var r=i+"ms";$.css("animation-duration",r);$.css("display","none");setTimeout(function(){$.css("display","inline");},0);};return a;});
sap.ui.predefine('sap/m/BusyIndicatorRenderer',[],function(){"use strict";var B={apiVersion:2};B.render=function(r,b){var t=b.getTooltip_AsString();r.openStart("div",b).class("sapMBusyIndicator");r.style("font-size",b.getSize());r.accessibilityState(b);if(t){r.attr("title",t);}r.openEnd();if(b.getCustomIcon()){r.renderControl(b._iconImage);}else{r.openStart("div",b.getId()+"-busy-area");r.class("sapMBusyIndicatorBusyArea").openEnd().close("div");}if(b._busyLabel){r.renderControl(b._busyLabel);}r.close("div");};return B;},true);
sap.ui.predefine('sap/m/Button',["./library","sap/ui/core/Control","sap/ui/core/ShortcutHintsMixin","sap/ui/core/EnabledPropagator","sap/ui/core/IconPool","sap/ui/Device","sap/ui/core/ContextMenuSupport","sap/ui/core/library","./ButtonRenderer","sap/ui/events/KeyCodes","sap/ui/core/LabelEnablement","sap/m/BadgeEnabler","sap/ui/core/InvisibleText"],function(l,C,S,E,I,D,a,c,B,K,L,b,d){"use strict";var T=c.TextDirection;var e=l.ButtonType;var f=l.ButtonAccessibilityType;var g=l.BadgeState;var A=c.aria.HasPopup;var h=1,i=9999;var j=C.extend("sap.m.Button",{metadata:{interfaces:["sap.ui.core.IFormContent"],library:"sap.m",properties:{text:{type:"string",group:"Misc",defaultValue:""},type:{type:"sap.m.ButtonType",group:"Appearance",defaultValue:e.Default},width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},iconFirst:{type:"boolean",group:"Appearance",defaultValue:true},activeIcon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},iconDensityAware:{type:"boolean",group:"Misc",defaultValue:true},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:T.Inherit},ariaHasPopup:{type:"sap.ui.core.aria.HasPopup",group:"Accessibility",defaultValue:A.None}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{tap:{deprecated:true},press:{}},designtime:"sap/m/designtime/Button.designtime",dnd:{draggable:true,droppable:false}}});E.call(j.prototype);a.apply(j.prototype);b.call(j.prototype);j.prototype.init=function(){this._onmouseenter=this._onmouseenter.bind(this);this._buttonPressed=false;S.addConfig(this,{event:"press",position:"0 0",addAccessibilityLabel:true},this);this.initBadgeEnablement({position:"topRight",selector:{suffix:"inner"}});this._oBadgeData={value:"",state:""};this._badgeMinValue=h;this._badgeMaxValue=i;};j.prototype.badgeValueFormatter=function(v){var V=parseInt(v),o=this.getBadgeCustomData(),k=o.getVisible();if(isNaN(V)){return false;}if(V<this._badgeMinValue){k&&o.setVisible(false);}else{!k&&o.setVisible(true);if(V>this._badgeMaxValue&&v.indexOf("+")===-1){v=this._badgeMaxValue<1000?this._badgeMaxValue+"+":"999+";}}return v;};j.prototype.setBadgeMinValue=function(m){var v=this.getBadgeCustomData().getValue();if(m&&!isNaN(m)&&m>=h&&m!=this._badgeMinValue){this._badgeMinValue=m;this.badgeValueFormatter(v);this.invalidate();}return this;};j.prototype.setBadgeMaxValue=function(m){if(m&&!isNaN(m)&&m<=i&&m!=this._badgeMaxValue){this._badgeMaxValue=m;this.invalidate();}return this;};j.prototype.onBadgeUpdate=function(v,s){if(this._oBadgeData.value!==v||this._oBadgeData.state!==s){if(s===g.Disappear){v="";}this._updateBadgeInvisibleText(v);this._oBadgeData={value:v,state:s};}};j.prototype._updateBadgeInvisibleText=function(v){var r=sap.ui.getCore().getLibraryResourceBundle("sap.m"),s,p;v=v.toString().trim();p=v.indexOf("+");if(p!==-1){s=r.getText("BUTTON_BADGE_MORE_THAN_ITEMS",v.substr(0,p));}else{switch(v){case"":s="";break;case"1":s=r.getText("BUTTON_BADGE_ONE_ITEM",v);break;default:s=r.getText("BUTTON_BADGE_MANY_ITEMS",v);}}this._getBadgeInvisibleText().setText(s);};j.prototype._getBadgeInvisibleText=function(){return this._oBadgeInvisibleText||(this._oBadgeInvisibleText=new d(this.getId()+"-badge").toStatic());};j.prototype.exit=function(){if(this._image){this._image.destroy();}if(this._iconBtn){this._iconBtn.destroy();}if(this._oBadgeInvisibleText){this._oBadgeInvisibleText.destroy();this._oBadgeData=null;}this.$().off("mouseenter",this._onmouseenter);};j.prototype.setType=function(s){this.setProperty("type",s,false);switch(s){case e.Critical:this._sTypeIconURI="sap-icon://message-warning";break;case e.Negative:this._sTypeIconURI="sap-icon://message-error";break;case e.Success:this._sTypeIconURI="sap-icon://message-success";break;case e.Neutral:this._sTypeIconURI="sap-icon://message-information";break;case e.Back:case e.Up:this._sTypeIconURI="sap-icon://nav-back";break;default:this._sTypeIconURI=null;}return this;};j.prototype.onBeforeRendering=function(){this._bRenderActive=this._bActive;this.$().off("mouseenter",this._onmouseenter);};j.prototype.onAfterRendering=function(){if(this._bRenderActive){this._activeButton();this._bRenderActive=this._bActive;}this.$().on("mouseenter",this._onmouseenter);};j.prototype.ontouchstart=function(o){o.setMarked();if(this._bRenderActive){delete this._bRenderActive;}if(o.targetTouches.length===1){this._buttonPressed=true;this._activeButton();}if(this.getEnabled()&&this.getVisible()){if((D.browser.safari||D.browser.firefox)&&(o.originalEvent&&o.originalEvent.type==="mousedown")){this._setButtonFocus();}if(!D.browser.msie){this._sTouchStartTargetId=o.target.id.replace(this.getId(),'');}}else{if(!D.browser.msie){this._sTouchStartTargetId='';}}};j.prototype.ontouchend=function(o){var s;this._buttonPressed=o.originalEvent&&o.originalEvent.buttons&1;this._inactiveButton();if(this._bRenderActive){delete this._bRenderActive;this.ontap(o,true);}if(!D.browser.msie){s=o.target.id.replace(this.getId(),'');if(this._buttonPressed===0&&((this._sTouchStartTargetId==="-BDI-content"&&(s==='-content'||s==='-inner'||s==='-img'))||(this._sTouchStartTargetId==="-content"&&(s==='-inner'||s==='-img'))||(this._sTouchStartTargetId==='-img'&&s!=='-img'))){this.ontap(o,true);}}this._sTouchStartTargetId='';};j.prototype.ontouchcancel=function(){this._buttonPressed=false;this._sTouchStartTargetId='';this._inactiveButton();};j.prototype.ontap=function(o,F){o.setMarked();delete this._bRenderActive;if(this.bFromTouchEnd){return;}if(this.getEnabled()&&this.getVisible()){if((o.originalEvent&&o.originalEvent.type==="touchend")){this.focus();}this.fireTap({});this.firePress({});}this.bFromTouchEnd=F;if(this.bFromTouchEnd){setTimeout(function(){delete this.bFromTouchEnd;}.bind(this),0);}};j.prototype.onkeydown=function(o){if(o.which===K.SPACE||o.which===K.ENTER||o.which===K.ESCAPE||o.which===K.SHIFT){if(o.which===K.SPACE||o.which===K.ENTER){o.setMarked();this._activeButton();}if(o.which===K.ENTER){this.firePress({});}if(o.which===K.SPACE){this._bPressedSpace=true;}if(this._bPressedSpace){if(o.which===K.SHIFT||o.which===K.ESCAPE){this._bPressedEscapeOrShift=true;this._inactiveButton();}}}else{if(this._bPressedSpace){o.preventDefault();}}};j.prototype.onkeyup=function(o){if(o.which===K.ENTER){o.setMarked();this._inactiveButton();}if(o.which===K.SPACE){if(!this._bPressedEscapeOrShift){o.setMarked();this._inactiveButton();this.firePress({});}else{this._bPressedEscapeOrShift=false;}this._bPressedSpace=false;}if(o.which===K.ESCAPE){this._bPressedSpace=false;}};j.prototype._onmouseenter=function(o){if(this._buttonPressed&&o.originalEvent&&o.originalEvent.buttons&1){this._activeButton();}};j.prototype.onfocusout=function(){this._buttonPressed=false;this._sTouchStartTargetId='';this._inactiveButton();};j.prototype._activeButton=function(){if(!this._isUnstyled()){this.$("inner").addClass("sapMBtnActive");}this._bActive=this.getEnabled();if(this._bActive){if(this._getAppliedIcon()&&this.getActiveIcon()&&this._image){this._image.setSrc(this.getActiveIcon());}}};j.prototype._inactiveButton=function(){if(!this._isUnstyled()){this.$("inner").removeClass("sapMBtnActive");}this._bActive=false;if(this.getEnabled()){if(this._getAppliedIcon()&&this.getActiveIcon()&&this._image){this._image.setSrc(this._getAppliedIcon());}}};j.prototype._isHoverable=function(){return this.getEnabled()&&D.system.desktop;};j.prototype._getImage=function(s,k,m,n){var o=I.isIconURI(k),p;if(this._image instanceof sap.m.Image&&o||this._image instanceof sap.ui.core.Icon&&!o){this._image.destroy();this._image=undefined;}p=this.getIconFirst();if(this._image){this._image.setSrc(k);if(this._image instanceof sap.m.Image){this._image.setActiveSrc(m);this._image.setDensityAware(n);}}else{this._image=I.createControlByURI({id:s,src:k,activeSrc:m,densityAware:n,useIconTooltip:false},sap.m.Image).addStyleClass("sapMBtnCustomIcon").setParent(this,null,true);}this._image.addStyleClass("sapMBtnIcon");this._image.toggleStyleClass("sapMBtnIconLeft",p);this._image.toggleStyleClass("sapMBtnIconRight",!p);return this._image;};j.prototype._getInternalIconBtn=function(s,k){var o=this._iconBtn;if(o){o.setSrc(k);}else{o=I.createControlByURI({id:s,src:k,useIconTooltip:false},sap.m.Image).setParent(this,null,true);}o.addStyleClass("sapMBtnIcon");o.addStyleClass("sapMBtnIconLeft");this._iconBtn=o;return this._iconBtn;};j.prototype._isUnstyled=function(){var u=false;if(this.getType()===e.Unstyled){u=true;}return u;};j.prototype.getPopupAnchorDomRef=function(){return this.getDomRef("inner");};j.prototype._getText=function(){return this.getText();};j.prototype._getTooltip=function(){var t,o;t=this.getTooltip_AsString();if(!t&&!this._getText()){o=I.getIconInfo(this._getAppliedIcon());if(o){t=o.text?o.text:o.name;}}return t;};j.prototype._getAppliedIcon=function(){return this.getIcon()||this._sTypeIconURI;};j.prototype.getAccessibilityInfo=function(){var s=this._getText()||this.getTooltip_AsString();if(!s&&this._getAppliedIcon()){var o=I.getIconInfo(this._getAppliedIcon());if(o){s=o.text||o.name;}}return{role:"button",type:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_BUTTON"),description:s,focusable:this.getEnabled(),enabled:this.getEnabled()};};j.prototype._setButtonFocus=function(){setTimeout(function(){this.focus();}.bind(this),0);};j.prototype._determineSelfReferencePresence=function(){var k=this.getAriaLabelledBy(),m=k.indexOf(this.getId())!==-1,H=L.getReferencingLabels(this).length>0,p=this.getParent(),n=!!(p&&p.enhanceAccessibilityState);return!m&&this._getText()&&(k.length>0||H||n);};j.prototype._determineAccessibilityType=function(){var H=this.getAriaLabelledBy().length>0,k=this.getAriaDescribedBy().length>0,m=L.getReferencingLabels(this).length>0,n=this.getType()!==e.Default,o=H||m,p=k||n||(this._oBadgeData&&this._oBadgeData.value!==""&&this._oBadgeData.State!==g.Disappear),s;if(!o&&!p){s=f.Default;}else if(o&&!p){s=f.Labelled;}else if(!o&&p){s=f.Described;}else if(o&&p){s=f.Combined;}return s;};j.prototype._getTitleAttribute=function(s){return this.getTooltip();};return j;});
sap.ui.predefine('sap/m/ButtonRenderer',['sap/ui/Device','sap/ui/core/library','sap/ui/core/IconPool','sap/ui/core/ShortcutHintsMixin','sap/m/library','sap/ui/core/InvisibleText'],function(D,c,I,S,l,a){"use strict";var B=l.ButtonType;var b=l.ButtonAccessibilityType;var T=c.TextDirection;var d=l.BadgeState;var A=c.aria.HasPopup;var e={apiVersion:2};e.render=function(R,o){var s=o.getId();var t=o.getType();var E=o.getEnabled();var w=o.getWidth();var f=o._getTooltip();var g=o._getText();var h=o.getTextDirection();var i=D.browser.internet_explorer||D.browser.edge;var j=(h===T.Inherit)&&!i;var k=I.getIconURI("nav-back");var M;R.openStart("button",o);R.class("sapMBtnBase");if(!o._isUnstyled()){R.class("sapMBtn");if((t===B.Back||t===B.Up)&&o._getAppliedIcon()&&!g){R.class("sapMBtnBack");}}var n=e.generateAccProps(o);if(this.renderAccessibilityAttributes){this.renderAccessibilityAttributes(R,o,n);}R.accessibilityState(o,n);if(!E){R.attr("disabled","disabled");if(!o._isUnstyled()){R.class("sapMBtnDisabled");}}else{switch(t){case B.Accept:case B.Reject:case B.Emphasized:case B.Attention:R.class("sapMBtnInverted");break;default:break;}}if(f&&!S.isDOMIDRegistered(s)){R.attr("title",f);}if(w!=""||w.toLowerCase()==="auto"){R.style("width",w);if(o._getAppliedIcon()&&g){M="4rem";}else{M="2.25rem";}R.style("min-width",M);}r(o,R);R.openEnd();R.openStart("span",s+"-inner");if(!o._isUnstyled()){R.class("sapMBtnInner");}if(o._isHoverable()){R.class("sapMBtnHoverable");}if(E){R.class("sapMFocusable");if(i){R.class("sapMIE");}}if(!o._isUnstyled()){if(g){R.class("sapMBtnText");}if(t===B.Back||t===B.Up){R.class("sapMBtnBack");}if(o._getAppliedIcon()){if(o.getIconFirst()){R.class("sapMBtnIconFirst");}else{R.class("sapMBtnIconLast");}}}if(this.renderButtonAttributes){this.renderButtonAttributes(R,o);}if(!o._isUnstyled()&&t!==""){R.class("sapMBtn"+t);}r(o,R);R.openEnd();if(t===B.Back||t===B.Up){this.writeInternalIconPoolHtml(R,o,k);}if(o.getIconFirst()&&o._getAppliedIcon()){this.writeImgHtml(R,o);}if(g){R.openStart("span",s+"-content");R.class("sapMBtnContent");if(h!==T.Inherit){R.attr("dir",h.toLowerCase());}R.openEnd();if(j){R.openStart("bdi",s+"-BDI-content");R.openEnd();}R.text(g);if(j){R.close("bdi");}R.close("span");}if(!o.getIconFirst()&&o._getAppliedIcon()){this.writeImgHtml(R,o);}if(i&&E){R.openStart("span");R.class("sapMBtnFocusDiv");R.openEnd();R.close("span");}R.close("span");if(f){R.openStart("span",s+"-tooltip");R.class("sapUiInvisibleText");R.openEnd();R.text(f);R.close("span");}R.close("button");};e.writeImgHtml=function(R,o){var t=o.getType(),h=o.getIcon(),i=(t===B.Back)||(t===B.Up);if(!h&&i){return;}R.renderControl(o._getImage(o.getId()+"-img",o._getAppliedIcon(),o.getActiveIcon(),o.getIconDensityAware()));};e.writeInternalIconPoolHtml=function(R,o,u){R.renderControl(o._getInternalIconBtn((o.getId()+"-iconBtn"),u));};function r(o,R){if(o._bExcludeFromTabChain){R.attr("tabindex",-1);}}var m={Accept:"BUTTON_ARIA_TYPE_ACCEPT",Reject:"BUTTON_ARIA_TYPE_REJECT",Attention:"BUTTON_ARIA_TYPE_ATTENTION",Emphasized:"BUTTON_ARIA_TYPE_EMPHASIZED",Critical:"BUTTON_ARIA_TYPE_CRITICAL",Negative:"BUTTON_ARIA_TYPE_NEGATIVE",Success:"BUTTON_ARIA_TYPE_SUCCESS"};e.getButtonTypeAriaLabelId=function(t){return a.getStaticId("sap.m",m[t]);};e.getBadgeTextId=function(o){return o._oBadgeData&&o._oBadgeData.value!==""&&o._oBadgeData.state!==d.Disappear?o._getBadgeInvisibleText().getId():"";};e.generateAccProps=function(o){var t=o._getText(),h=o.getAriaHasPopup(),f;if(t){f=e.generateTextButtonAccProps(o);}else{f=e.generateIconOnlyButtonAccProps(o);}f["disabled"]=null;f["haspopup"]=(h===A.None)?null:h.toLowerCase();return f;};e.generateIconOnlyButtonAccProps=function(o){var t=e.getButtonTypeAriaLabelId(o.getType()),s=this.getBadgeTextId(o),f=o._getTooltip(),g=o.getId()+"-tooltip",h=o._determineAccessibilityType(),i={},j;switch(h){case b.Default:i["label"]={value:f,append:true};break;case b.Described:i["label"]={value:f,append:true};j=(t+" "+s).trim();j&&(i["describedby"]={value:j,append:true});break;case b.Labelled:i["describedby"]={value:g,append:true};break;case b.Combined:i["describedby"]={value:(g+" "+t+" "+s).trim(),append:true};break;default:break;}return i;};e.generateTextButtonAccProps=function(o){var s=o.getId(),t=e.getButtonTypeAriaLabelId(o.getType()),f=this.getBadgeTextId(o),g=o._getTooltip()?s+"-tooltip":"",i=s+"-content",h=o._determineAccessibilityType(),p=o._determineSelfReferencePresence(),j={},k;switch(h){case b.Default:g&&(j["describedby"]={value:g,append:true});break;case b.Described:k=(g+" "+t+" "+f).trim();k&&(j["describedby"]={value:k,append:true});break;case b.Labelled:p&&(j["labelledby"]={value:i,append:true});g&&(j["describedby"]={value:g,append:true});break;case b.Combined:k=(g+" "+t+" "+f).trim();k&&(j["describedby"]={value:k,append:true});p&&(j["labelledby"]={value:i,append:true});break;default:break;}return j;};return e;},true);
sap.ui.predefine('sap/m/CheckBox',['./Label','./library','sap/ui/Device','sap/ui/core/Control','sap/ui/core/IconPool','sap/ui/core/EnabledPropagator','sap/ui/core/library','./CheckBoxRenderer',"sap/ui/thirdparty/jquery","sap/ui/events/KeyCodes",'sap/ui/core/LabelEnablement','sap/ui/core/message/MessageMixin'],function(L,l,D,C,I,E,c,a,q,K,b,M){"use strict";var V=c.ValueState;var T=c.TextAlign;var d=c.TextDirection;var e=C.extend("sap.m.CheckBox",{metadata:{interfaces:["sap.ui.core.IFormContent"],library:"sap.m",properties:{selected:{type:"boolean",group:"Data",defaultValue:false},partiallySelected:{type:"boolean",group:"Data",defaultValue:false},enabled:{type:"boolean",group:"Behavior",defaultValue:true},name:{type:"string",group:"Misc",defaultValue:null},text:{type:"string",group:"Appearance",defaultValue:null},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:d.Inherit},textAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:T.Begin},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:''},useEntireWidth:{type:"boolean",group:"Appearance",defaultValue:false},activeHandling:{type:"boolean",group:"Misc",defaultValue:true},editable:{type:"boolean",group:"Behavior",defaultValue:true},valueState:{type:"sap.ui.core.ValueState",group:"Data",defaultValue:V.None},valueStateText:{type:"string",group:"Misc",defaultValue:null,visibility:"hidden"},displayOnly:{type:"boolean",group:"Behavior",defaultValue:false},wrapping:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{_label:{type:"sap.m.Label",group:"Behavior",multiple:false,visibility:"hidden"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{select:{parameters:{selected:{type:"boolean"}}}},dnd:{draggable:true,droppable:false},designtime:"sap/m/designtime/CheckBox.designtime"}});E.call(e.prototype);M.call(e.prototype);e.prototype.init=function(){this.addActiveState(this);I.insertFontFaceStyle();this._handleReferencingLabels();};e.prototype.exit=function(){this._oLabel=null;delete this._iTabIndex;};e.prototype.setText=function(t){var o=this._getLabel();this.setProperty("text",t);o.setText(t);return this;};e.prototype.setWidth=function(w){this.setProperty("width",w,true);this._setWidth();return this;};e.prototype.setUseEntireWidth=function(u){this.setProperty("useEntireWidth",u,true);this._setWidth();return this;};e.prototype.setTextDirection=function(s){var o=this._getLabel();this.setProperty("textDirection",s);o.setTextDirection(s);return this;};e.prototype.setTextAlign=function(A){var o=this._getLabel();this.setProperty("textAlign",A);o.setTextAlign(A);return this;};e.prototype.setValueStateText=function(t){return this.setProperty("valueStateText",t);};e.prototype.setWrapping=function(w){var o=this._getLabel();this.setProperty("wrapping",w);o.setWrapping(w);return this;};e.prototype.addActiveState=function(o){if(D.os.blackberry){o.addDelegate({ontouchstart:function(f){q(o.getDomRef()).addClass("sapMActive");},ontouchend:function(f){q(o.getDomRef()).removeClass("sapMActive");}});}};e.prototype.ontouchstart=function(o){o.originalEvent._sapui_handledByControl=true;};e.prototype.ontap=function(o){var s;if(this.getEnabled()&&this.getEditable()&&!this.getDisplayOnly()){this.$().trigger("focus");s=this._getSelectedState();this.setSelected(s);this.setPartiallySelected(false);this.fireSelect({selected:s});o&&o.setMarked();}};e.prototype.onkeyup=function(o){if(o&&o.which===K.SPACE&&!o.shiftKey){this.ontap(o);o.preventDefault();}};e.prototype.onsapspace=function(o){o.preventDefault();};e.prototype.onsapenter=function(o){this.ontap(o);};e.prototype.setTabIndex=function(t){this._iTabIndex=t;this.$("CbBg").attr("tabindex",t);return this;};e.prototype.getTabIndex=function(){if(this.hasOwnProperty("_iTabIndex")){return this._iTabIndex;}return(this.getEnabled()&&!this.getDisplayOnly())?0:-1;};e.prototype._getLabel=function(){if(!this._oLabel){this._oLabel=new L(this.getId()+"-label",{labelFor:this.getId()}).addStyleClass("sapMCbLabel");this.setAggregation("_label",this._oLabel,true);}return this.getAggregation("_label");};e.prototype._setWidth=function(){var o=this._getLabel(),$=this.$(),w=this.getWidth();if(this.getUseEntireWidth()){o.setWidth("");$.outerWidth(w);}else{$.outerWidth("");o.setWidth(w);}};e.prototype._getSelectedState=function(){var s=this.getSelected(),p=this.getPartiallySelected();return(s===p)||(!s&&p);};e.prototype._getAriaChecked=function(){var s=this.getSelected();if(this.getPartiallySelected()&&s){return"mixed";}return s;};e.prototype._fnLabelTapHandler=function(){this.$().trigger("focus");};e.prototype._handleReferencingLabels=function(){var f=b.getReferencingLabels(this),t=this;if(f.length>0){f.forEach(function(s){sap.ui.getCore().byId(s).addEventDelegate({ontap:function(){t._fnLabelTapHandler();}});});}};e.prototype.getAccessibilityInfo=function(){var B=sap.ui.getCore().getLibraryResourceBundle("sap.m");return{role:"checkbox",type:B.getText("ACC_CTR_TYPE_CHECKBOX"),description:(this.getText()||"")+(this.getSelected()?(" "+B.getText("ACC_CTR_STATE_CHECKED")):""),focusable:this.getEnabled()&&!this.getDisplayOnly(),enabled:this.getEnabled(),editable:this.getEditable()};};e.prototype.getFormDoNotAdjustWidth=function(){return this.getText()?false:true;};return e;});
sap.ui.predefine('sap/m/CheckBoxRenderer',['sap/ui/core/library','sap/ui/core/ValueStateSupport','sap/ui/Device'],function(c,V,D){"use strict";var a=c.ValueState;var C={apiVersion:2};C.render=function(r,o){var i=o.getId(),e=o.getEnabled(),d=o.getDisplayOnly(),E=o.getEditable(),I=e&&!d,b=e&&d,f=o.getAggregation("_label"),v=o.getValueState(),g=a.Error===v,h=a.Warning===v,j=a.Success===v,k=a.Information===v,u=o.getUseEntireWidth(),l=E&&e;r.openStart("div",o);r.class("sapMCb");if(!E){r.class("sapMCbRo");}if(b){r.class("sapMCbDisplayOnly");}if(!e){r.class("sapMCbBgDis");}if(o.getText()){r.class("sapMCbHasLabel");}if(o.getWrapping()){r.class("sapMCbWrapped");}if(l){if(g){r.class("sapMCbErr");}else if(h){r.class("sapMCbWarn");}else if(j){r.class("sapMCbSucc");}else if(k){r.class("sapMCbInfo");}}if(u){r.style("width",o.getWidth());}var t=this.getTooltipText(o);if(t&&l){r.attr("title",t);}if(I){r.attr("tabindex",o.getTabIndex());}r.accessibilityState(o,{role:"checkbox",selected:null,checked:o._getAriaChecked(),describedby:t&&l?i+"-Descr":undefined});if(b){r.attr("aria-readonly",true);}r.openEnd();r.openStart("div",o.getId()+"-CbBg");r.class("sapMCbBg");if(I&&E&&D.system.desktop){r.class("sapMCbHoverable");}if(!o.getActiveHandling()){r.class("sapMCbActiveStateOff");}r.class("sapMCbMark");if(o.getSelected()){r.class("sapMCbMarkChecked");}if(o.getPartiallySelected()){r.class("sapMCbMarkPartiallyChecked");}r.openEnd();r.voidStart("input",o.getId()+"-CB");r.attr("type","CheckBox");if(o.getSelected()){r.attr("checked","checked");}if(o.getName()){r.attr("name",o.getName());}if(!e){r.attr("disabled","disabled");}if(!E){r.attr("readonly","readonly");}r.voidEnd();r.close("div");r.renderControl(f);if(t&&sap.ui.getCore().getConfiguration().getAccessibility()&&l){r.openStart("span",i+"-Descr");r.class("sapUiHidden");r.openEnd();r.text(t);r.close("span");}r.close("div");};C.getTooltipText=function(o){var v=o.getProperty("valueStateText"),t=o.getTooltip_AsString();if(v){return(t?t+" - ":"")+v;}else{return V.enrichTooltip(o,t);}};return C;},true);
sap.ui.predefine('sap/m/ColumnListItem',["sap/ui/core/Element","sap/ui/core/library","./library","./ListItemBase","./ColumnListItemRenderer","sap/ui/thirdparty/jquery","sap/ui/dom/jquery/Selectors"],function(E,c,l,L,C,q){"use strict";var a=l.ListType;var V=c.VerticalAlign;var b=L.extend("sap.m.ColumnListItem",{metadata:{library:"sap.m",properties:{vAlign:{type:"sap.ui.core.VerticalAlign",group:"Appearance",defaultValue:V.Inherit}},defaultAggregation:"cells",aggregations:{cells:{type:"sap.ui.core.Control",multiple:true,singularName:"cell",bindable:"bindable"}}}});var T=E.extend("sap.m.TablePopin",{ontap:function(e){if(e.isMarked()||L.detectTextSelection(this.getDomRef())){return e.stopImmediatePropagation(true);}if(e.srcControl===this||!q(e.target).is(":sapFocusable")){this.getParent().focus();}},_onMouseEnter:function(){var $=q(this),d=$.prev();if(!d.length||!d.hasClass("sapMLIBHoverable")||d.hasClass("sapMPopinHovered")){return;}d.addClass("sapMPopinHovered");},_onMouseLeave:function(){var $=q(this),d=$.prev();if(!d.length||!d.hasClass("sapMLIBHoverable")||!d.hasClass("sapMPopinHovered")){return;}d.removeClass("sapMPopinHovered");}});b.prototype.TagName="tr";b.prototype._bAnnounceNotSelected=true;b.prototype.init=function(){L.prototype.init.call(this);this._bNeedsTypeColumn=false;this._aClonedHeaders=[];};b.prototype.onAfterRendering=function(){L.prototype.onAfterRendering.call(this);this._checkTypeColumn();var p=this.hasPopin();if(p){this.$Popin().on("mouseenter",p._onMouseEnter).on("mouseleave",p._onMouseLeave);}};b.prototype.exit=function(){L.prototype.exit.call(this);this._checkTypeColumn(false);this._destroyClonedHeaders();if(this._oPopin){this._oPopin.destroy(true);this._oPopin=null;}};b.prototype.setVisible=function(v){L.prototype.setVisible.call(this,v);if(!v&&this.hasPopin()){this.removePopin();}return this;};b.prototype.getTable=function(){var p=this.getParent();if(p&&p.isA("sap.m.Table")){return p;}};b.prototype.getPopin=function(){if(!this._oPopin){this._oPopin=new T({id:this.getId()+"-sub"}).addDelegate({ontouchstart:this.ontouchstart,ontouchmove:this.ontouchmove,ontap:this.ontap,ontouchend:this.ontouchend,ontouchcancel:this.ontouchcancel,onsaptabnext:this.onsaptabnext,onsaptabprevious:this.onsaptabprevious,onsapup:this.onsapup,onsapdown:this.onsapdown,oncontextmenu:this.oncontextmenu},this).setParent(this,null,true);}return this._oPopin;};b.prototype.$Popin=function(){return this.$("sub");};b.prototype.hasPopin=function(){return this._oPopin;};b.prototype.removePopin=function(){this._oPopin&&this.$Popin().remove();};b.prototype.getTabbables=function(){return this.$().add(this.$Popin()).find(":sapTabbable");};b.prototype.getAccessibilityType=function(B){return B.getText("ACC_CTR_TYPE_ROW");};b.prototype.getContentAnnouncement=function(B){var t=this.getTable();if(!t){return;}var o=[],d=this.getCells(),e=t.getColumns(true);e.forEach(function(f){var g=d[f.getInitialOrder()];if(!g||!f.getVisible()||(f.isHidden()&&!f.isPopin())){return;}var h=f.getHeader();if(h&&h.getVisible()){o.push(L.getAccessibilityText(h)+" "+L.getAccessibilityText(g,true));}else{o.push(L.getAccessibilityText(g,true));}});return o.join(" . ").trim();};b.prototype.updateSelectedDOM=function(s,t){L.prototype.updateSelectedDOM.apply(this,arguments);if(this.hasPopin()){this.$Popin().attr("aria-selected",s);}};b.prototype.onfocusin=function(e){if(e.isMarked()){return;}if(e.srcControl===this){this.$().children(".sapMListTblCellDup").find(":sapTabbable").attr("tabindex",-1);}L.prototype.onfocusin.apply(this,arguments);};b.prototype._checkTypeColumn=function(n){if(n==undefined){n=this._needsTypeColumn();}if(this._bNeedsTypeColumn!=n){this._bNeedsTypeColumn=n;this.informList("TypeColumnChange",n);}};b.prototype._needsTypeColumn=function(){var t=this.getType();return this.getVisible()&&(t==a.Detail||t==a.Navigation||t==a.DetailAndActive);};b.prototype._addClonedHeader=function(h){return this._aClonedHeaders.push(h);};b.prototype._destroyClonedHeaders=function(){if(this._aClonedHeaders.length){this._aClonedHeaders.forEach(function(o){o.destroy("KeepDom");});this._aClonedHeaders=[];}};b.prototype._activeHandlingInheritor=function(){this._toggleActiveClass(true);};b.prototype._inactiveHandlingInheritor=function(){this._toggleActiveClass(false);};b.prototype._toggleActiveClass=function(s){if(this.hasPopin()){this.$Popin().toggleClass("sapMLIBActive",s);}};return b;});
sap.ui.predefine('sap/m/ColumnListItemRenderer',["sap/ui/core/Renderer","sap/ui/core/library","sap/ui/core/Core","sap/ui/Device","sap/base/Log","./library","./ListItemBaseRenderer"],function(R,c,C,D,L,l,a){"use strict";var P=l.PopinDisplay;var V=c.VerticalAlign;var b=l.PopinLayout;var d=R.extend(a);d.apiVersion=2;d.render=function(r,o){var t=o.getTable();if(!t){return;}a.render.apply(this,arguments);if(o.getVisible()&&t.hasPopin()){this.renderPopin(r,o,t);}};d.renderHighlight=function(r,o){r.openStart("td");r.class("sapMListTblHighlightCell");r.attr("role","presentation");r.attr("aria-hidden","true");r.openEnd();a.renderHighlight.apply(this,arguments);r.close("td");};d.renderNavigated=function(r,o){r.openStart("td");r.class("sapMListTblNavigatedCell");r.attr("role","presentation");r.attr("aria-hidden","true");r.openEnd();a.renderNavigated.apply(this,arguments);r.close("td");};d.renderType=function(r,o){r.openStart("td");r.class("sapMListTblNavCol");r.attr("role","presentation");r.attr("aria-hidden","true");r.openEnd();a.renderType.apply(this,arguments);r.close("td");};d.renderModeContent=function(r,o){r.openStart("td");r.class("sapMListTblSelCol");r.attr("role","presentation");r.attr("aria-hidden","true");r.openEnd();a.renderModeContent.apply(this,arguments);r.close("td");};d.renderCounter=function(r,o){};d.getAriaRole=function(o){return"";};d.renderLIAttributes=function(r,o){r.class("sapMListTblRow");var A=o.getVAlign();if(A!=V.Inherit){r.class("sapMListTblRow"+A);}var t=o.getTable();if(t&&t.getAlternateRowColors()){var p=t.indexOfItem(o);if(p%2==0){r.class("sapMListTblRowAlternate");}}};d.renderLIContentWrapper=function(r,o){var t=o.getTable();if(!t){return;}var e=t.getColumns(true),f=o.getCells();o._destroyClonedHeaders();e.forEach(function(g,i){var h,j=true,k=f[g.getInitialOrder()];if(!k||!g.getVisible()||g.isPopin()){g.setIndex(-1);return;}r.openStart("td",o.getId()+"_cell"+i);r.class("sapMListTblCell");r.attr("data-sap-ui-column",g.getId());if(g){var s=g.getStyleClass(true).split(" ");s&&s.forEach(function(v){r.class(v);});h=g.getHeader();if(h){r.attr("headers",g.getId());}if(!t.hasPopin()&&g.getMergeDuplicates()){var F=g.getMergeFunctionName(),m=F.split("#"),n=m[1],p=m[0];if(typeof k[p]!="function"){L.warning("mergeFunctionName property is defined on "+g+" but this is not function of "+k);}else if(t._bRendering||!k.bOutput){var q=g.getLastValue(),u=k[p](n);if(q===u){j=C.getConfiguration().getAccessibility();k.addStyleClass("sapMListTblCellDupCnt");r.class("sapMListTblCellDup");}else{g.setLastValue(u);}}else if(k.hasStyleClass("sapMListTblCellDupCnt")){r.class("sapMListTblCellDup");}}g.getVAlign()!="Inherit"&&r.style("vertical-align",g.getVAlign().toLowerCase());r.style("text-align",g.getCssAlign());if(g.isHidden()){r.style("display","none");r.attr("aria-hidden","true");}}r.openEnd();if(j){this.applyAriaLabelledBy(h,k);r.renderControl(k);}r.close("td");},this);};d.renderDummyCell=function(r,t){r.openStart("td");r.class("sapMListTblDummyCell");r.attr("role","presentation");r.attr("aria-hidden","true");r.openEnd();r.close("td");};d.applyAriaLabelledBy=function(h,o){if(h&&h.getText&&h.getVisible()&&o.getAriaLabelledBy&&(o.getAriaLabelledBy()||[]).indexOf(h.getId())==-1){o.addAriaLabelledBy(h);}};d.renderPopin=function(r,o,t){o.removePopin();r.openStart("tr",o.getPopin());r.class("sapMListTblSubRow");r.attr("tabindex","-1");if(o.isSelectable()){r.attr("aria-selected",o.getSelected());}r.openEnd();this.renderHighlight(r,o);r.openStart("td",o.getId()+"-subcell");r.class("sapMListTblSubRowCell");r.attr("colspan",t.shouldRenderDummyColumn()?t.getColSpan()+1:t.getColSpan());var p=t.getPopinLayout();if(D.browser.msie||(D.browser.edge&&D.browser.version<16)){p=b.Block;}r.attr("aria-labelledby",this.getAriaAnnouncement(null,"TABLE_POPIN_ROLE_DESCRIPTION"));r.openEnd();r.openStart("div");r.class("sapMListTblSubCnt");r.class("sapMListTblSubCnt"+p);r.openEnd();var e=o.getCells(),f=t.getColumns(true);f.forEach(function(g){if(!g.getVisible()||!g.isPopin()){return;}var h=e[g.getInitialOrder()],H=g.getHeader();if(!H&&!h){return;}var s=g.getStyleClass().split(" "),i=g.getPopinDisplay();r.openStart("div");r.class("sapMListTblSubCntRow");s&&s.forEach(function(j){r.class(j);});r.openEnd();if(H&&i!=P.WithoutHeader){r.openStart("div").class("sapMListTblSubCntHdr").openEnd();H=H.clone();g.addDependent(H);o._addClonedHeader(H);r.renderControl(H);r.close("div");r.openStart("div").class("sapMListTblSubCntSpr").openEnd();r.text(C.getLibraryResourceBundle("sap.m").getText("TABLE_POPIN_LABEL_COLON"));r.close("div");}if(h){r.openStart("div");r.class("sapMListTblSubCntVal");r.class("sapMListTblSubCntVal"+i);r.openEnd();this.applyAriaLabelledBy(H,h);r.renderControl(h);r.close("div");}r.close("div");},this);r.close("div");r.close("td");this.renderNavigated(r,o);r.close("tr");};d.addLegacyOutlineClass=function(r,o){if(D.browser.msie){return;}var t=o.isA("sap.m.Table")?o:o.getTable();if(t&&!t.hasPopin()&&t.shouldRenderDummyColumn()){r.class("sapMTableRowCustomFocus");}};d.renderContentLatter=function(r,o){var t=o.getTable();if(t&&t.shouldRenderDummyColumn()){if(!t.hasPopin()){a.renderContentLatter.apply(this,arguments);d.renderDummyCell(r,t);}else{d.renderDummyCell(r,t);a.renderContentLatter.apply(this,arguments);}}else{a.renderContentLatter.apply(this,arguments);}};return d;},true);
sap.ui.predefine('sap/m/ComboBox',['./ComboBoxTextField','./ComboBoxBase','./List','./library','sap/ui/Device','sap/ui/core/Item','./StandardListItem','./ComboBoxRenderer','sap/ui/base/ManagedObjectObserver',"sap/ui/dom/containsOrEquals","sap/m/inputUtils/scrollToItem","sap/m/inputUtils/inputsDefaultFilter","sap/m/inputUtils/typeAhead","sap/m/inputUtils/filterItems","sap/m/inputUtils/ListHelpers","sap/m/inputUtils/itemsVisibilityHandler","sap/m/inputUtils/selectionRange","sap/m/inputUtils/calculateSelectionStart","sap/ui/events/KeyCodes","./Toolbar","sap/base/assert","sap/base/security/encodeXML","sap/ui/core/Core","sap/base/Log","sap/ui/dom/jquery/control"],function(C,a,L,l,D,I,S,b,M,c,s,i,t,f,d,g,h,j,K,T,k,m,n,o,q){"use strict";var p=l.ListMode;var r=a.extend("sap.m.ComboBox",{metadata:{library:"sap.m",designtime:"sap/m/designtime/ComboBox.designtime",properties:{selectedKey:{type:"string",group:"Data",defaultValue:""},selectedItemId:{type:"string",group:"Misc",defaultValue:""},filterSecondaryValues:{type:"boolean",group:"Misc",defaultValue:false}},associations:{selectedItem:{type:"sap.ui.core.Item",multiple:false}},events:{change:{parameters:{value:{type:"string"},itemPressed:{type:"boolean"}}},selectionChange:{parameters:{selectedItem:{type:"sap.ui.core.Item"}}}},dnd:{draggable:false,droppable:true}}});function u(e){var v=this.getSelectedItem(),w=d.getListItem(v),x=v&&w&&w.getDomRef(),y=x&&x.offsetTop,z=x&&x.offsetHeight,P=this.getPicker(),A=P.getDomRef("cont"),B=A.clientHeight;if(v&&((y+z)>(B))){if(!e){this._getList().$().css("visibility","hidden");}else{A.scrollTop=y-z/2;this._getList().$().css("visibility","visible");}}}r.prototype._getSelectedItemText=function(v){v=v||this.getSelectedItem();if(!v){v=this.getDefaultSelectedItem();}if(v){return v.getText();}return"";};r.prototype.setSelectedIndex=function(e,_){var v;_=_||this.getItems();e=(e>_.length-1)?_.length-1:Math.max(0,e);v=_[e];if(v){this.setSelection(v);}};r.prototype.revertSelection=function(){var P,e=this.getPickerTextField();this.setSelectedItem(this._oSelectedItemBeforeOpen);this.setValue(this._sValueBeforeOpen);if(this.getSelectedItem()===null){P=this._sValueBeforeOpen;}else{P=this._oSelectedItemBeforeOpen.getText();}e&&e.setValue(P);};r.prototype._filterStartsWithItems=function(e,v){var w=e.toLowerCase();var x=this.getItems(),F=x.filter(function(y){return y[v]&&y[v]().toLowerCase().startsWith(w);});return F;};r.prototype.setSelection=function(v){var e=this._getList(),w,x;this.setAssociation("selectedItem",v);this._setPropertyProtected("selectedItemId",(v instanceof I)?v.getId():v,true);if(typeof v==="string"){v=n.byId(v);}if(e){w=d.getListItem(v);if(w){e.setSelectedItem(w,true);}else{e.removeSelections(true);}}x=v?v.getKey():"";this._setPropertyProtected("selectedKey",x);};r.prototype.isSelectionSynchronized=function(){var v=this.getSelectedItem();return this.getSelectedKey()===(v&&v.getKey());};r.prototype._forwardItemProperties=function(P){var e=P.object,v=e.data(d.CSS_CLASS+"ListItem"),w={text:"title",enabled:"visible",tooltip:"tooltip"},A,x,y;if(Object.keys(w).indexOf(P.name)>-1){x=w[P.name];y="set"+x.charAt(0).toUpperCase()+x.slice(1);v[y](P.current);}if(P.name==="additionalText"){A=this.getShowSecondaryValues()?P.current:"";v.setInfo(A);}};r.prototype.isItemSelected=function(v){return v&&(v.getId()===this.getAssociation("selectedItem"));};r.prototype.setAssociation=function(A,e,v){var w=this._getList();if(w&&(A==="selectedItem")){if(!(e instanceof I)){e=this.findItem("id",e);}w.setSelectedItem(d.getListItem(e),true);}return a.prototype.setAssociation.apply(this,arguments);};r.prototype.removeAllAssociation=function(A,e){var v=this._getList();if(v&&(A==="selectedItem")){L.prototype.removeAllAssociation.apply(v,arguments);}return a.prototype.removeAllAssociation.apply(this,arguments);};r.prototype.init=function(){this._oRb=n.getLibraryResourceBundle("sap.m");a.prototype.init.apply(this,arguments);this.bOpenValueStateMessage=true;this._sValueBeforeOpen="";this._sInputValueBeforeOpen="";this._oSelectedItemBeforeOpen=null;this.bIsFocused=false;if(D.system.phone){this.attachEvent("_change",this.onPropertyChange,this);}this.setLastFocusedListItem(null);this._oItemObserver=new M(this._forwardItemProperties.bind(this));};r.prototype.onBeforeRendering=function(){a.prototype.onBeforeRendering.apply(this,arguments);this.synchronizeSelection();if(!this.isOpen()&&document.activeElement===this.getFocusDomRef()&&this.getEnabled()){this.addStyleClass("sapMFocus");}};r.prototype.exit=function(){a.prototype.exit.apply(this,arguments);this._oRb=null;this._oSelectedItemBeforeOpen=null;this.setLastFocusedListItem(null);if(this._oItemObserver){this._oItemObserver.disconnect();this._oItemObserver=null;}};r.prototype.onBeforeRenderingPicker=function(){var O=this["onBeforeRendering"+this.getPickerType()];O&&O.call(this);};r.prototype.onBeforeRenderingDropdown=function(){var P=this.getPicker(),w=(this.$().outerWidth()/parseFloat(l.BaseFontSize))+"rem";if(P){P.setContentMinWidth(w);}};r.prototype.onBeforeRenderingList=function(){if(this.bProcessingLoadItemsEvent){var e=this._getList(),F=this.getFocusDomRef();if(e){e.setBusy(true);}if(F){F.setAttribute("aria-busy","true");}}};r.prototype.onAfterRenderingPicker=function(){var O=this["onAfterRendering"+this.getPickerType()];O&&O.call(this);u.call(this,false);};r.prototype.onAfterRenderingList=function(){var e=this.getSelectedItem(),v=d.getListItem(e);if(this.bProcessingLoadItemsEvent&&(this.getItems().length===0)){return;}var w=this._getList(),F=this.getFocusDomRef();this.highlightList(this._sInputValueBeforeOpen);if(e){w.setSelectedItem(v);this.setLastFocusedListItem(v);}if(w){w.setBusy(false);}if(F){F.removeAttribute("aria-busy");}};r.prototype._fillList=function(){var F,e,v,w=this._getList(),E=d.getEnabledItems(this.getItems());if(!w){return;}if(this.getLastFocusedListItem()){e=d.getItemByListItem(E,this.getLastFocusedListItem());}w.destroyItems();if(this._sInputValueBeforeOpen){F=this.filterItems(this._sInputValueBeforeOpen);E=F.items;}E.forEach(function(x){v=this._mapItemToListItem(x).setVisible(true);w.addItem(v);}.bind(this));if(this._sInputValueBeforeOpen){g(E,F);}e&&this.setLastFocusedListItem(d.getListItem(e));};r.prototype.filterItems=function(v){return f(this,this.getItems(),v,true,this.getFilterSecondaryValues(),this.fnFilter||i);};r.prototype._mapItemToListItem=function(e){var v=d.createListItemFromCoreItem(e,this.getShowSecondaryValues());if(e.isA("sap.ui.core.Item")){this.setSelectable(e,e.getEnabled());}if(e.isA("sap.ui.core.SeparatorItem")){v.addAriaLabelledBy(this._getGroupHeaderInvisibleText().getId());}v.addStyleClass(this.getRenderer().CSS_CLASS_COMBOBOXBASE+"NonInteractiveItem");this._oItemObserver.observe(e,{properties:["text","additionalText","enabled","tooltip"]});return v;};r.prototype.oninput=function(e){a.prototype.oninput.apply(this,arguments);this.syncPickerContent();if(e.isMarked("invalid")){return;}this.loadItems(function(){this.handleInputValidation(e);},{name:"input",busyIndicator:false});if(this.bProcessingLoadItemsEvent&&(this.getPickerType()==="Dropdown")){this.open();}if(this.getLastFocusedListItem()){this.getLastFocusedListItem().removeStyleClass("sapMLIBFocused");this.setLastFocusedListItem(null);}this.addStyleClass("sapMFocus");this._getList().removeStyleClass("sapMListFocus");if(this._getItemsShownWithFilter()){this.toggleIconPressedStyle(true);}};r.prototype.handleInputValidation=function(e){var v,w,F,x,H,y=this.getSelectedItem(),V=e.target.value,E=V==="",z=e.srcControl,A=(this.getPickerType()==="Dropdown"),B=d.getListItem(y),G=this.filterItems(V);if(E&&!this.bOpenedByKeyboardOrButton&&!this.isPickerDialog()){v=this.getItems();}else{v=d.getSelectableItems(G.items);g(this.getItems(),G);}F=v[0];x=v.some(function(J){return J.getKey()===this.getSelectedKey();},this);w=this.intersectItems(this._filterStartsWithItems(V,'getText'),v);H=!E&&F&&F.getEnabled();if(F&&this.getSelectedKey()&&!x){this.setSelection(null);}if(H&&z&&z._bDoTypeAhead){this.handleTypeAhead(z,v,V);}else if(H&&w[0]&&V===w[0].getText()){this.setSelection(w[0]);}else{this.setSelection(null);}if(y!==this.getSelectedItem()){this.fireSelectionChange({selectedItem:this.getSelectedItem()});B=d.getListItem(this.getSelectedItem());}this._sInputValueBeforeOpen=V;if(this.isOpen()){setTimeout(function(){this.highlightList(V);}.bind(this));}if(F){if(E&&!this.bOpenedByKeyboardOrButton){this.close();}else if(A){this.open();s(B,this.getPicker());}}else if(this.isOpen()){if(A&&!this.bOpenedByKeyboardOrButton){this.close();}}else{this.clearFilter();}};r.prototype.handleTypeAhead=function(e,v,V){var w,x=this.getFilterSecondaryValues(),y=t(V,e,v,function(z){w=[z.getText()];if(x){w.push(z.getAdditionalText());}return w;});this.setSelection(y[0]);this.addStyleClass("sapMFocus");this._getList().removeStyleClass("sapMListFocus");};r.prototype.onSelectionChange=function(e){var v=d.getItemByListItem(this.getItems(),e.getParameter("listItem")),P=this.getChangeEventParams(),w=(v!==this.getSelectedItem());v&&this.updateDomValue(v.getText());this.setSelection(v);this.fireSelectionChange({selectedItem:this.getSelectedItem()});if(w){P.itemPressed=true;this.onChange(null,P);}};r.prototype.onItemPress=function(e){var v=e.getParameter("listItem"),w=v.getTitle(),P=this.getChangeEventParams(),x=(v!==d.getListItem(this.getSelectedItem()));if(v.isA("sap.m.GroupHeaderListItem")){return;}this.setLastFocusedListItem(v);this.updateDomValue(w);if(!x){P.itemPressed=true;this.onChange(null,P);}this._setPropertyProtected("value",w,true);if(this.getPickerType()==="Dropdown"&&!this.isPlatformTablet()){this.selectText.bind(this,this.getValue().length,this.getValue().length);}this.close();};r.prototype.onBeforeOpen=function(){a.prototype.onBeforeOpen.apply(this,arguments);var P=this["onBeforeOpen"+this.getPickerType()],e=this.getFocusDomRef();if(this.hasLoadItemsEventListeners()&&!this.bProcessingLoadItemsEvent){this.loadItems();}if(e){e.setAttribute("aria-controls",this.getPicker().getId());e.setAttribute("aria-expanded",true);}this.addContent();P&&P.call(this);};r.prototype.onBeforeOpenDialog=function(){var P=this.getPickerTextField();this._oSelectedItemBeforeOpen=this.getSelectedItem();this._sValueBeforeOpen=this.getValue();this.getSelectedItem()&&g(this.getItems(),this.filterItems(""));P.setValue(this._sValueBeforeOpen);};r.prototype.onAfterOpen=function(){var e=this.getSelectedItem(),v=h(this.getFocusDomRef()),w=this.isPlatformTablet();this.closeValueStateMessage();u.call(this,true);if(!w&&e&&v.start===v.end&&v.start>1){setTimeout(function(){this.selectText(0,v.end);}.bind(this),0);}};r.prototype.onBeforeClose=function(){a.prototype.onBeforeClose.apply(this,arguments);var e=this.getFocusDomRef();if(e){e.removeAttribute("aria-controls");e.setAttribute("aria-expanded",false);}if(document.activeElement===e){this.updateFocusOnClose();}this.toggleIconPressedStyle(false);};r.prototype.onAfterClose=function(){this.clearFilter();this._sInputValueBeforeOpen="";if(this.isPickerDialog()){a.prototype.closeValueStateMessage.apply(this,arguments);}};r.prototype.onItemChange=function(e){var v=this.getAssociation("selectedItem"),N=e.getParameter("newValue"),P=e.getParameter("name");if(v===e.getParameter("id")){switch(P){case"text":if(!this.isBound("value")){this.setValue(N);}break;case"key":if(!this.isBound("selectedKey")){this.setSelectedKey(N);}break;}}};r.prototype.onkeydown=function(e){var v=e.srcControl;a.prototype.onkeydown.apply(v,arguments);if(!v.getEnabled()||!v.getEditable()){return;}var w=K;v._bDoTypeAhead=!D.os.android&&(e.which!==w.BACKSPACE)&&(e.which!==w.DELETE);};r.prototype.oncut=function(e){var v=e.srcControl;a.prototype.oncut.apply(v,arguments);v._bDoTypeAhead=false;};r.prototype.onsapenter=function(e){var v=e.srcControl,w=v.getSelectedItem();if(w&&this.getFilterSecondaryValues()){v.updateDomValue(w.getText());}a.prototype.onsapenter.apply(v,arguments);if(!v.getEnabled()||!v.getEditable()){return;}if(v.isOpen()&&!this.isComposingCharacter()){v.close();}};["onsapup","onsapdown","onsappageup","onsappagedown","onsaphome","onsapend"].forEach(function(N){r.prototype[N]=function(e){this.handleListNavigation(e,N);};});r.prototype.handleListNavigation=function(e,N){var v=e.srcControl;if(!v.getEnabled()||!v.getEditable()){return;}this.syncPickerContent();e.preventDefault();this.loadItems(function(){if(!this.isOpen()){this.handleInlineListNavigation(N);}else{var w=this._getSuggestionsPopover();w&&w.handleListNavigation(this,e,N);}e.setMarked();});};r.prototype.handleInlineListNavigation=function(N){var e=this.getItems(),v=d.getSelectableItems(e),w=this.getSelectedItem(),x;switch(N){case"onsapdown":x=v.indexOf(w)+1;break;case"onsapup":x=w?v.indexOf(w)-1:v.length-1;break;case"onsapend":x=v.length-1;break;case"onsaphome":x=0;break;case"onsappagedown":x=Math.min(v.length-1,v.indexOf(w)+10);break;case"onsappageup":x=Math.max(0,v.indexOf(w)-10);break;}this.handleSelectionFromList(v[x]);};r.prototype.handleSelectionFromList=function(e){if(!e){return;}var v=this.getFocusDomRef(),w=v.value.substring(0,v.selectionStart),x=this.getSelectedItem(),y=this.getLastFocusedListItem(),z,A,B,E;if(e.isA("sap.m.StandardListItem")||e.isA("sap.m.GroupHeaderListItem")){z=e;e=d.getItemByListItem(this.getItems(),e);}else{z=d.getListItem(e);}this.setSelection(e);this.setLastFocusedListItem(z);if(e.isA("sap.ui.core.SeparatorItem")){this.setSelectedItem(null);this.updateDomValue(w);this.fireSelectionChange({selectedItem:null});this._getGroupHeaderInvisibleText().setText(this._oRb.getText("LIST_ITEM_GROUP_HEADER")+" "+e.getText());return;}if(e!==x){A=e.getText();E=y&&y.isA("sap.m.GroupHeaderListItem");B=j(h(v,E),A,w,E);this.updateDomValue(A);this.fireSelectionChange({selectedItem:e});e=this.getSelectedItem();this.selectText(B,v.value.length);}};r.prototype.setLastFocusedListItem=function(e){this._oLastFocusedListItem=e;};r.prototype.getLastFocusedListItem=function(){return this._oLastFocusedListItem;};r.prototype.onsapshow=function(e){var v,w,E=this.getEditable(),x;a.prototype.onsapshow.apply(this,arguments);this.syncPickerContent();if(!this.getValue()&&E){v=d.getSelectableItems(this.getItems());w=v[0];if(w){x=d.getListItem(w);if(this.isOpen()){this._getSuggestionsPopover().updateFocus(this,x);this.setLastFocusedListItem(x);}else{this.addStyleClass("sapMFocus");}this.setSelection(w);this.updateDomValue(w.getText());this.fireSelectionChange({selectedItem:w});setTimeout(function(){this.selectText(0,w.getText().length);}.bind(this),0);}}};r.prototype.onsaphide=r.prototype.onsapshow;r.prototype.ontap=function(e){if(!this.getEnabled()){return;}this.updateFocusOnClose();};r.prototype.updateFocusOnClose=function(){var e=this.getFocusDomRef(),v=this._getSuggestionsPopover();this.setLastFocusedListItem(null);if(v){v.setValueStateActiveState(false);v.updateFocus(this);}e.removeAttribute("aria-activedescendant");};r.prototype.onfocusin=function(e){var v=this.getPickerType()==="Dropdown";if(this._bIsBeingDestroyed){return;}if(e.target===this.getOpenArea()){this.bOpenValueStateMessage=false;if(v&&!this.isPlatformTablet()){this.focus();}}else{if(v){setTimeout(function(){if(document.activeElement===this.getFocusDomRef()&&!this.bIsFocused&&!this.bFocusoutDueRendering&&!this.getSelectedText()){this.selectText(0,this.getValue().length);}this.bIsFocused=true;}.bind(this),0);}if(!this.isOpen()&&this.bOpenValueStateMessage&&this.shouldValueStateMessageBeOpened()){this.openValueStateMessage();}this.bOpenValueStateMessage=true;}if(this.getEnabled()&&(!this.isOpen()||!this.getSelectedItem()||!this._getList().hasStyleClass("sapMListFocus"))){this.addStyleClass("sapMFocus");}};r.prototype.onsapfocusleave=function(e){this.bIsFocused=false;var v,P,R,F,w=this.getSelectedItem();if(w&&this.getFilterSecondaryValues()){this.updateDomValue(w.getText());}a.prototype.onsapfocusleave.apply(this,arguments);if(this.isPickerDialog()){return;}P=this.getPicker();if(!e.relatedControlId||!P){return;}v=this.isPlatformTablet();R=n.byId(e.relatedControlId);F=R&&R.getFocusDomRef();if(c(P.getFocusDomRef(),F)&&!v&&!(this._getSuggestionsPopover().getValueStateActiveState())){this.focus();}};r.prototype.synchronizeSelection=function(){if(this.isSelectionSynchronized()){return;}var e=this.getSelectedKey(),v=this.getItemByKey(""+e);if(v&&(e!=="")){this.setAssociation("selectedItem",v,true);this._setPropertyProtected("selectedItemId",v.getId(),true);this.setValue(v.getText());this._sValue=this.getValue();}};r.prototype.configPicker=function(P){var R=this.getRenderer(),e=R.CSS_CLASS_COMBOBOXBASE;P.setHorizontalScrolling(false).addStyleClass(e+"Picker").addStyleClass(e+"Picker-CTX").attachBeforeOpen(this.onBeforeOpen,this).attachAfterOpen(this.onAfterOpen,this).attachBeforeClose(this.onBeforeClose,this).attachAfterClose(this.onAfterClose,this).addEventDelegate({onBeforeRendering:this.onBeforeRenderingPicker,onAfterRendering:this.onAfterRenderingPicker},this);};r.prototype._configureList=function(e){var R=this.getRenderer();if(!e){return;}e.setMode(p.SingleSelectMaster).addStyleClass(R.CSS_CLASS_COMBOBOXBASE+"List").addStyleClass(R.CSS_CLASS_COMBOBOX+"List");e.attachSelectionChange(this.onSelectionChange,this).attachItemPress(this.onItemPress,this);e.addEventDelegate({onBeforeRendering:this.onBeforeRenderingList,onAfterRendering:this.onAfterRenderingList},this);};r.prototype.destroyItems=function(){this.destroyAggregation("items");if(this._getList()){this._getList().destroyItems();}return this;};r.prototype.getDefaultSelectedItem=function(){return null;};r.prototype.getChangeEventParams=function(){return{itemPressed:false};};r.prototype.clearSelection=function(){this.setSelection(null);};r.prototype.selectText=function(e,v){a.prototype.selectText.apply(this,arguments);return this;};r.prototype.removeAllItems=function(){var e=a.prototype.removeAllItems.apply(this,arguments);this._fillList();return e;};r.prototype.clone=function(e){var v=a.prototype.clone.apply(this,arguments),w=this._getList();if(!this.isBound("items")&&w){v.syncPickerContent();v.setSelectedIndex(this.indexOfItem(this.getSelectedItem()));}return v;};r.prototype.open=function(){this.syncPickerContent();a.prototype.open.call(this);this._getSuggestionsPopover()&&this._getSuggestionsPopover().updateFocus(this,d.getListItem(this.getSelectedItem()));return this;};r.prototype.syncPickerContent=function(){var P,e=this.getPicker(),v=this.getInputForwardableProperties();if(!e){var w,G;e=this.createPicker(this.getPickerType());P=this.getPickerTextField();this._fillList();if(P){v.forEach(function(x){x=x.charAt(0).toUpperCase()+x.slice(1);w="set"+x;G="get"+x;if(P[w]){P[w](this[G]());}},this);}this._getSuggestionsPopover().updateValueState(this.getValueState(),this.getValueStateText(),this.getShowValueStateMessage());}this.synchronizeSelection();return e;};r.prototype.findAggregatedObjects=function(){var e=this._getList();if(e){return L.prototype.findAggregatedObjects.apply(e,arguments);}return[];};r.prototype.setSelectedItem=function(v){if(typeof v==="string"){this.setAssociation("selectedItem",v,true);v=n.byId(v);}if(!(v instanceof I)&&v!==null){return this;}if(!v){v=this.getDefaultSelectedItem();}this.setSelection(v);this.setValue(this._getSelectedItemText(v));return this;};r.prototype.setSelectedItemId=function(v){v=this.validateProperty("selectedItemId",v);if(!v){v=this.getDefaultSelectedItem();}this.setSelection(v);v=this.getSelectedItem();this.setValue(this._getSelectedItemText(v));return this;};r.prototype.setSelectedKey=function(e){e=this.validateProperty("selectedKey",e);var v=(e===""),w=this.isBound("selectedKey")&&this.isBound("value")&&this.getBindingInfo("selectedKey").skipModelUpdate;if(v){this.setSelection(null);if(!w){this.setValue("");}return this;}var x=this.getItemByKey(e);if(x){this.setSelection(x);if(!w){this.setValue(this._getSelectedItemText(x));}return this;}this._sValue=this.getValue();return this._setPropertyProtected("selectedKey",e);};r.prototype._setPropertyProtected=function(P,v,w){try{return this.setProperty(P,v,w);}catch(e){o.warning("setSelectedKey update failed due to exception. Loggable in support mode log",null,null,function(){return{exception:e};});}};r.prototype.getSelectedItem=function(){var v=this.getAssociation("selectedItem");return(v===null)?null:n.byId(v)||null;};r.prototype.removeItem=function(v){v=a.prototype.removeItem.apply(this,arguments);var e;if(this._getList()){this._getList().removeItem(v&&d.getListItem(v));}if(this.isBound("items")&&!this.bItemsUpdated){return v;}var V=this.getValue();if(this.getItems().length===0){this.clearSelection();}else if(this.isItemSelected(v)){e=this.getDefaultSelectedItem();this.setSelection(e);this.setValue(V);}return v;};r.prototype._decoratePopupInput=function(e){a.prototype._decoratePopupInput.apply(this,arguments);if(!e||!e.isA(["sap.m.InputBase"])){return;}e.addEventDelegate({onsapenter:function(){var v=e.getValue();this.updateDomValue(v);this.onChange();if(v){this.updateDomValue(v);this.onChange();this.close();}}},this);return e;};r.prototype.applyShowItemsFilters=function(){var P,e;this.syncPickerContent();P=this.getPicker();e=function(){P.detachBeforeOpen(e,this);P=null;g(this.getItems(),this.filterItems(this.getValue()||"_"));};P.attachBeforeOpen(e,this);};r.prototype.showItems=function(F){var e,v,w=Array.prototype.slice.call(arguments),x=this.fnFilter,y=function(){this.setFilterFunction(F||function(){return true;});v=this.filterItems(this.getValue()||"_");g(this.getItems(),v);this.setFilterFunction(x);e=v.items;if(e&&e.length){a.prototype.showItems.apply(this,w);}}.bind(this);this.attachLoadItems(y);this.loadItems(y);};r.prototype._getFormattedValueStateText=function(){if(this.isOpen()){return this._getSuggestionsPopover()._getValueStateHeader().getFormattedText();}else{return C.prototype.getFormattedValueStateText.call(this);}};return r;});
sap.ui.predefine('sap/m/ComboBoxBase',['./ComboBoxTextField','./SuggestionsPopover','sap/ui/core/SeparatorItem','sap/ui/core/InvisibleText','sap/ui/base/ManagedObject','sap/base/Log','./library','sap/ui/Device',"sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/m/inputUtils/highlightDOMElements","sap/m/inputUtils/ListHelpers"],function(C,S,a,I,M,L,l,D,c,K,q,h,b){"use strict";var P=l.PlacementType;var d=["value","enabled","name","placeholder","editable","textAlign","textDirection","valueState","valueStateText"];var e=C.extend("sap.m.ComboBoxBase",{metadata:{library:"sap.m","abstract":true,defaultAggregation:"items",properties:{showSecondaryValues:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{items:{type:"sap.ui.core.Item",multiple:true,singularName:"item",bindable:"bindable"},picker:{type:"sap.ui.core.PopupInterface",multiple:false,visibility:"hidden"}},events:{loadItems:{}},dnd:{draggable:false,droppable:true}}});e.prototype.oncompositionend=function(E){C.prototype.oncompositionend.apply(this,arguments);if(!D.browser.edge&&!D.browser.firefox){this.handleInputValidation(E,this.isComposingCharacter());}};e.prototype.updateItems=function(r){this.bItemsUpdated=false;this.destroyItems();this.updateAggregation("items");this.bItemsUpdated=true;if(this.hasLoadItemsEventListeners()){this.onItemsLoaded();}};e.prototype.setFilterFunction=function(f){if(f===null||f===undefined){this.fnFilter=null;return this;}if(typeof(f)!=="function"){L.warning("Passed filter is not a function and the default implementation will be used");}else{this.fnFilter=f;}return this;};e.prototype.highlightList=function(v){var f=[];f=this._getList().$().find('.sapMSLIInfo, .sapMSLITitleOnly');h(f,v);};e.prototype._decoratePopupInput=function(i){if(i){this.setTextFieldHandler(i);}return i;};e.prototype.setTextFieldHandler=function(t){var f=this,T=t._handleEvent;t._handleEvent=function(E){T.apply(this,arguments);if(/keydown|sapdown|sapup|saphome|sapend|sappagedown|sappageup|input/.test(E.type)){f._handleEvent(E);}};};e.prototype.refreshItems=function(){this.bItemsUpdated=false;this.refreshAggregation("items");};e.prototype.loadItems=function(f,o){var g=typeof f==="function";if(this.hasLoadItemsEventListeners()&&(this.getItems().length===0)){this._bOnItemsLoadedScheduled=false;if(g){o=q.extend({action:f,busyIndicator:true,busyIndicatorDelay:300},o);this.aMessageQueue.push(o);if((this.iLoadItemsEventInitialProcessingTimeoutID===-1)&&(o.busyIndicator)){this.iLoadItemsEventInitialProcessingTimeoutID=setTimeout(function i(){this.setInternalBusyIndicatorDelay(0);this.setInternalBusyIndicator(true);}.bind(this),o.busyIndicatorDelay);}}if(!this.bProcessingLoadItemsEvent){this.bProcessingLoadItemsEvent=true;this.fireLoadItems();}}else if(g){f.call(this);}};e.prototype.onItemsLoaded=function(){this.bProcessingLoadItemsEvent=false;clearTimeout(this.iLoadItemsEventInitialProcessingTimeoutID);if(this.bInitialBusyIndicatorState!==this.getBusy()){this.setInternalBusyIndicator(this.bInitialBusyIndicatorState);}if(this.iInitialBusyIndicatorDelay!==this.getBusyIndicatorDelay()){this.setInternalBusyIndicatorDelay(this.iInitialBusyIndicatorDelay);}for(var i=0,m,n,f;i<this.aMessageQueue.length;i++){m=this.aMessageQueue.shift();i--;f=(i+1)===this.aMessageQueue.length;n=f?null:this.aMessageQueue[i+1];if(typeof m.action==="function"){if((m.name==="input")&&!f&&(n.name==="input")){continue;}m.action.call(this);}}};e.prototype.hasLoadItemsEventListeners=function(){return this.hasListeners("loadItems");};e.prototype._scheduleOnItemsLoadedOnce=function(){if(!this._bOnItemsLoadedScheduled&&!this.isBound("items")&&this.hasLoadItemsEventListeners()&&this.bProcessingLoadItemsEvent){this._bOnItemsLoadedScheduled=true;setTimeout(this.onItemsLoaded.bind(this),0);}};e.prototype.getPickerInvisibleTextId=function(){return I.getStaticId("sap.m","COMBOBOX_AVAILABLE_OPTIONS");};e.prototype._getGroupHeaderInvisibleText=function(){if(!this._oGroupHeaderInvisibleText){this._oGroupHeaderInvisibleText=new I();this._oGroupHeaderInvisibleText.toStatic();}return this._oGroupHeaderInvisibleText;};e.prototype._isListInSuggestMode=function(){return this._getList().getItems().some(function(o){return!o.getVisible()&&b.getItemByListItem(this.getItems(),o).getEnabled();},this);};e.prototype.getSelectable=function(i){return i._bSelectable;};e.prototype._setItemsShownWithFilter=function(v){this._bItemsShownWithFilter=v;};e.prototype._getItemsShownWithFilter=function(){return this._bItemsShownWithFilter;};e.prototype.init=function(){C.prototype.init.apply(this,arguments);this.setPickerType(D.system.phone?"Dialog":"Dropdown");this._setItemsShownWithFilter(false);this.bItemsUpdated=false;this.bOpenedByKeyboardOrButton=false;this._bShouldClosePicker=false;this.bProcessingLoadItemsEvent=false;this.iLoadItemsEventInitialProcessingTimeoutID=-1;this.aMessageQueue=[];this.bInitialBusyIndicatorState=this.getBusy();this.iInitialBusyIndicatorDelay=this.getBusyIndicatorDelay();this._bOnItemsLoadedScheduled=false;this._bDoTypeAhead=true;this.getIcon().addEventDelegate({onmousedown:function(E){this._bShouldClosePicker=this.isOpen();}},this);this.getIcon().attachPress(this._handlePopupOpenAndItemsLoad.bind(this,true,this));this.fnFilter=null;};e.prototype.onBeforeRendering=function(){var s=this.isOpen(),v=s?this._getSuggestionsPopover()._getValueStateHeader().getText():null,V=s?this._getSuggestionsPopover()._getValueStateHeader().getValueState():null;C.prototype.onBeforeRendering.apply(this,arguments);if(s&&((this.getValueStateText()&&v!==this.getValueStateText())||(this.getValueState()!==V)||this.getFormattedValueStateText())){this._updateSuggestionsPopoverValueState();}};e.prototype._handlePopupOpenAndItemsLoad=function(o,O){var p;if(!this.getEnabled()||!this.getEditable()){return;}if(o&&this._getItemsShownWithFilter()){this._bShouldClosePicker=false;this.toggleIconPressedStyle(true);this.bOpenedByKeyboardOrButton=false;this.clearFilter();this._setItemsShownWithFilter(false);return;}if(this._bShouldClosePicker){this._bShouldClosePicker=false;this.close();return;}this.loadItems();this.bOpenedByKeyboardOrButton=o;if(this.isPlatformTablet()){this.syncPickerContent();p=this.getPicker();p.setInitialFocus(p);}if(O){p=this.getPicker();p&&p.setInitialFocus(O);}this.open();};e.prototype.exit=function(){C.prototype.exit.apply(this,arguments);if(this._getGroupHeaderInvisibleText()){this._getGroupHeaderInvisibleText().destroy();this._oGroupHeaderInvisibleText=null;}if(this._oSuggestionPopover){this._oSuggestionPopover.destroy();this._oSuggestionPopover=null;}clearTimeout(this.iLoadItemsEventInitialProcessingTimeoutID);this.aMessageQueue=null;this.fnFilter=null;};e.prototype.onsapshow=function(E){if(!this.getEnabled()||!this.getEditable()){return;}E.setMarked();if(E.keyCode===K.F4){this.onF4(E);}if(this._getItemsShownWithFilter()){this.loadItems(this._handlePopupOpenAndItemsLoad.bind(this,true));return;}if(this.isOpen()){this.close();return;}this.selectText(0,this.getValue().length);this.loadItems();this.bOpenedByKeyboardOrButton=true;this.open();};e.prototype.onF4=function(E){E.preventDefault();};e.prototype.onsapescape=function(E){if(this.getEnabled()&&this.getEditable()&&this.isOpen()){E.setMarked();E.preventDefault();this.close();}else{C.prototype.onsapescape.apply(this,arguments);}};e.prototype.onsaphide=e.prototype.onsapshow;e.prototype.onsapfocusleave=function(E){if(!E.relatedControlId){C.prototype.onsapfocusleave.apply(this,arguments);return;}var r=sap.ui.getCore().byId(E.relatedControlId);if(r===this){return;}var p=this.getPicker(),f=r&&r.getFocusDomRef();if(p&&c(p.getFocusDomRef(),f)){return;}C.prototype.onsapfocusleave.apply(this,arguments);};e.prototype.getPopupAnchorDomRef=function(){return this.getDomRef();};e.prototype.addContent=function(p){};e.prototype.getList=function(){L.warning("[Warning]:","You are attempting to use deprecated method 'getList()', please refer to SAP note 2746748.",this);return this._getList();};e.prototype._getList=function(){var o=this._oSuggestionPopover&&this._oSuggestionPopover.getItemsContainer();if(this.bIsDestroyed||!o){return null;}return o;};e.prototype.setPickerType=function(p){this._sPickerType=p;};e.prototype.getPickerType=function(){return this._sPickerType;};e.prototype._updateSuggestionsPopoverValueState=function(){var s=this._getSuggestionsPopover();if(!s){return;}var v=this.getValueState(),n=this.getValueState()!==s._getValueStateHeader().getValueState(),N=this.getFormattedValueStateText(),V=this.getValueStateText(),f=N||n;if(s.isOpen()&&!f){this.setFormattedValueStateText(s._getValueStateHeader().getFormattedText());}s.updateValueState(v,(N||V),this.getShowValueStateMessage());};e.prototype.shouldValueStateMessageBeOpened=function(){var s=C.prototype.shouldValueStateMessageBeOpened.apply(this,arguments);return(s&&!this.isOpen());};e.prototype.onPropertyChange=function(o,f){var n=o.getParameter("newValue"),p=o.getParameter("name"),m="set"+p.charAt(0).toUpperCase()+p.slice(1),g=(f&&f.srcControl)||this.getPickerTextField();if(this.getInputForwardableProperties().indexOf(p)>-1&&g&&(typeof g[m]==="function")){g[m](n);}};e.prototype.getInputForwardableProperties=function(){return d;};e.prototype.isPickerDialog=function(){return this.getPickerType()==="Dialog";};e.prototype.isPlatformTablet=function(){var n=!D.system.combi,t=D.system.tablet&&n;return t;};e.prototype.getDropdownSettings=function(){return{showArrow:false,placement:P.VerticalPreferredBottom,offsetX:0,offsetY:0,bounce:false,ariaLabelledBy:this.getPickerInvisibleTextId()||undefined};};e.prototype._configureList=function(){};e.prototype.createPicker=function(p){var o=this.getAggregation("picker");if(o){return o;}this._oSuggestionPopover=this._createSuggestionsPopover();o=this._oSuggestionPopover.getPopover();this.setAggregation("picker",o,true);this.configPicker(o);return o;};e.prototype.configPicker=function(p){};e.prototype._hasShowSelectedButton=function(){return false;};e.prototype._createSuggestionsPopover=function(){var s=new S(this);s.decorateParent(this);s.createSuggestionPopup(this,{showSelectedButton:this._hasShowSelectedButton()});this._decoratePopupInput(s.getInput());s.initContent(this.getId());this.forwardEventHandlersToSuggPopover(s);this._configureList(s.getItemsContainer());return s;};e.prototype.forwardEventHandlersToSuggPopover=function(s){s.setOkPressHandler(this._handleOkPress.bind(this));s.setCancelPressHandler(this._handleCancelPress.bind(this));s.setInputLabels(this.getLabels.bind(this));};e.prototype._handleOkPress=function(){var t=this,T=t.getPickerTextField();t.updateDomValue(T.getValue());t.onChange();t.close();};e.prototype._handleCancelPress=function(){this.close();this.revertSelection();};e.prototype.setSelectable=function(i,s){if(this.indexOfItem(i)<0){return;}i._bSelectable=s;var o=b.getListItem(i);if(o){o.setVisible(s);}};e.prototype.onBeforeOpen=function(){this._updateSuggestionsPopoverValueState();if(!this._getItemsShownWithFilter()){this.toggleIconPressedStyle(true);}};e.prototype.onBeforeClose=function(){this.bOpenedByKeyboardOrButton=false;this._setItemsShownWithFilter(false);this._updateSuggestionsPopoverValueState();};e.prototype.getPicker=function(){var p=this.getAggregation("picker");if(p&&!p.bIsDestroyed&&!this.bIsDestroyed){return p;}return null;};e.prototype._getSuggestionsPopover=function(){return this._oSuggestionPopover;};e.prototype.getValueStateLinks=function(){var H=this.getPicker()&&this.getPicker().getCustomHeader()&&typeof this.getPicker().getCustomHeader().getFormattedText==="function",f=H&&this.getPicker().getCustomHeader().getFormattedText(),v=f&&f.getControls();return v||[];};e.prototype.getPickerTextField=function(){var s=this._getSuggestionsPopover();return s?s.getInput():null;};e.prototype.getPickerTitle=function(){var p=this.getPicker(),H=p&&p.getCustomHeader();if(this.isPickerDialog()&&H){return H.getContentMiddle()[0];}return null;};e.prototype.revertSelection=function(){};e.prototype.hasContent=function(){return this.getItems().length>0;};e.prototype.syncPickerContent=function(){};e.prototype.open=function(){var p=this.getPicker();if(p){p.open();}return this;};e.prototype.getVisibleItems=function(){return b.getVisibleItems(this.getItems());};e.prototype.isItemSelected=function(){};e.prototype.getKeys=function(f){f=f||this.getItems();for(var i=0,k=[];i<f.length;i++){k[i]=f[i].getKey();}return k;};e.prototype.findItem=function(p,v){var m="get"+p.charAt(0).toUpperCase()+p.slice(1);for(var i=0,f=this.getItems();i<f.length;i++){if(f[i][m]()===v){return f[i];}}return null;};e.prototype.getItemByText=function(t){return this.findItem("text",t);};e.prototype.clearFilter=function(){this.getItems().forEach(function(i){var o=b.getListItem(i);if(o){o.setVisible(i.getEnabled()&&this.getSelectable(i));}},this);};e.prototype.onItemChange=function(o){};e.prototype.clearSelection=function(){};e.prototype.setInternalBusyIndicator=function(B){this.bInitialBusyIndicatorState=this.getBusy();return this.setBusy.apply(this,arguments);};e.prototype.setInternalBusyIndicatorDelay=function(i){this.iInitialBusyIndicatorDelay=this.getBusyIndicatorDelay();return this.setBusyIndicatorDelay.apply(this,arguments);};e.prototype.addItem=function(i){this.addAggregation("items",i);if(i){i.attachEvent("_change",this.onItemChange,this);}if(this._getList()){this._getList().addItem(this._mapItemToListItem(i));}return this;};e.prototype.insertItem=function(i,f){this.insertAggregation("items",i,f,true);if(i){i.attachEvent("_change",this.onItemChange,this);}if(this._getList()){this._getList().insertItem(this._mapItemToListItem(i),f);}this._scheduleOnItemsLoadedOnce();return this;};e.prototype.getItemAt=function(i){return this.getItems()[+i]||null;};e.prototype.getFirstItem=function(){return this.getItems()[0]||null;};e.prototype.getLastItem=function(){var i=this.getItems();return i[i.length-1]||null;};e.prototype.getEnabledItems=function(i){return b.getEnabledItems(i||this.getItems());};e.prototype.getItemByKey=function(k){return this.findItem("key",k);};e.prototype.addItemGroup=function(g,H,s){H=H||new a({text:M.escapeSettingsValue(g.text)||M.escapeSettingsValue(g.key)});this.addAggregation("items",H,s);if(this._getList()&&H.isA("sap.ui.core.SeparatorItem")){this._getList().addItem(this._mapItemToListItem(H));}return H;};e.prototype.isOpen=function(){var p=this.getPicker();return!!(p&&p.isOpen());};e.prototype.close=function(){var p=this.getPicker();if(p){p.close();}return this;};e.prototype.removeItem=function(i){i=this.removeAggregation("items",i);if(i){i.detachEvent("_change",this.onItemChange,this);}return i;};e.prototype.removeAllItems=function(){var f=this.removeAllAggregation("items");this.clearSelection();for(var i=0;i<f.length;i++){f[i].detachEvent("_change",this.onItemChange,this);}return f;};e.prototype.intersectItems=function(i,o){return i.filter(function(f){return o.map(function(O){return O.getId();}).indexOf(f.getId())!==-1;});};e.prototype.showItems=function(f){var F=this.fnFilter,g=function(){if(!this.getItems().length){return;}this.detachLoadItems(g);this.setFilterFunction(f||function(){return true;});this.applyShowItemsFilters();this._handlePopupOpenAndItemsLoad(false,this);this.setFilterFunction(F);}.bind(this);if(!this.getEnabled()||!this.getEditable()){return;}this._setItemsShownWithFilter(true);this.attachLoadItems(g);this.loadItems(g);};e.prototype.applyShowItemsFilters=function(){};return e;});
sap.ui.predefine('sap/m/ComboBoxBaseRenderer',['./ComboBoxTextFieldRenderer','sap/ui/core/Renderer','sap/ui/core/Core'],function(C,R,a){"use strict";var b=R.extend(C);b.apiVersion=2;b.CSS_CLASS_COMBOBOXBASE="sapMComboBoxBase";b.getAccessibilityState=function(c){var A=C.getAccessibilityState.call(this,c),l=c._getList();if(l){A.controls=l.getId();}return A;};b.addOuterClasses=function(r,c){C.addOuterClasses.apply(this,arguments);var d=b.CSS_CLASS_COMBOBOXBASE;r.class(d);if(!c.getEnabled()){r.class(d+"Disabled");}if(!c.getEditable()){r.class(d+"Readonly");}};b.addButtonClasses=function(r,c){C.addButtonClasses.apply(this,arguments);r.class(b.CSS_CLASS_COMBOBOXBASE+"Arrow");};return b;},true);
sap.ui.predefine('sap/m/ComboBoxRenderer',['./ComboBoxBaseRenderer','sap/ui/core/Renderer','sap/m/inputUtils/ListHelpers'],function(C,R,L){"use strict";var a=R.extend(C);a.apiVersion=2;a.CSS_CLASS_COMBOBOX="sapMComboBox";a.addOuterClasses=function(r,c){C.addOuterClasses.apply(this,arguments);r.class(a.CSS_CLASS_COMBOBOX);};a.addInnerClasses=function(r,c){C.addInnerClasses.apply(this,arguments);r.class(a.CSS_CLASS_COMBOBOX+"Inner");};a.addButtonClasses=function(r,c){C.addButtonClasses.apply(this,arguments);r.class(a.CSS_CLASS_COMBOBOX+"Arrow");};a.addPlaceholderClasses=function(r,c){C.addPlaceholderClasses.apply(this,arguments);r.class(a.CSS_CLASS_COMBOBOX+"Placeholder");};a.writeInnerAttributes=function(r,c){var s=c.getSelectedItem(),S=s&&L.getListItem(s);C.writeInnerAttributes.apply(this,arguments);if(!c.isOpen()){return;}if(c._getSuggestionsPopover().getValueStateActiveState()){r.attr("aria-activedescendant",c._getFormattedValueStateText().getId());}else if(S&&S.hasStyleClass("sapMLIBFocused")&&c.getFocusDomRef()===document.activeElement){r.attr("aria-activedescendant",S.getId());}};return a;},true);
sap.ui.predefine('sap/m/ComboBoxTextField',['./InputBase','./library','sap/ui/core/InvisibleText','sap/ui/core/library','sap/ui/Device','sap/ui/core/LabelEnablement',"./ComboBoxTextFieldRenderer"],function(I,l,a,c,D,L,C){"use strict";var b=I.extend("sap.m.ComboBoxTextField",{metadata:{library:"sap.m",properties:{maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},showButton:{type:"boolean",group:"Appearance",defaultValue:true}}}});var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");b.prototype.init=function(){I.prototype.init.apply(this,arguments);this.addEndIcon({id:this.getId()+"-arrow",src:"sap-icon://slim-arrow-down",noTabStop:true,alt:r.getText("COMBOBOX_BUTTON"),decorative:false});};b.prototype.getIcon=function(){return this.getAggregation("_endIcon")[0];};b.prototype.toggleIconPressedStyle=function(s){this.toggleStyleClass(I.ICON_PRESSED_CSS_CLASS,s);};b.prototype.onBeforeRendering=function(){I.prototype.onBeforeRendering.apply(this,arguments);var R=L.getReferencingLabels(this)||[],i=this.getIcon();i.setVisible(this.getShowButton());R.forEach(function(s){if(i.getAriaLabelledBy().indexOf(s)===-1){i.addAssociation("ariaLabelledBy",s,true);}},this);if(!this.oInvisibleText&&D.browser.msie){this.oInvisibleText=new a(this.getId()+'-describedby',{text:r.getText("ACC_CTR_TYPE_COMBO")}).toStatic();}};b.prototype.getOpenArea=function(){var d=this.getIcon().getDomRef();return d?d.parentNode:d;};b.prototype.onsapenter=function(e){I.prototype.onsapenter.apply(this,arguments);if(!this.getEnabled()||!this.getEditable()){return;}this._bCheckDomValue&&e.setMarked();var v=this.getValue(),V=v.length;this.setValue(v);this.selectText(V,V);};b.prototype.getValue=function(){var d=this.getFocusDomRef();if(d){return d.value;}return this.getProperty("value");};b.prototype.getDomRefForValueStateMessage=function(){return this.getDomRef();};b.prototype.getAccessibilityInfo=function(){var i=I.prototype.getAccessibilityInfo.apply(this,arguments);i.type=r.getText("ACC_CTR_TYPE_COMBO");return i;};b.prototype.exit=function(){I.prototype.exit.apply(this,arguments);if(this.oInvisibleText){this.oInvisibleText.destroy();this.oInvisibleText=null;}};return b;});
sap.ui.predefine('sap/m/ComboBoxTextFieldRenderer',['./InputBaseRenderer','sap/ui/core/Renderer','sap/ui/core/LabelEnablement','sap/ui/Device'],function(I,R,L,D){"use strict";var C=R.extend(I);C.apiVersion=2;C.CSS_CLASS_COMBOBOXTEXTFIELD="sapMComboBoxTextField";C.writeInnerAttributes=function(r,c){r.attr("role","combobox");r.attr("aria-haspopup","listbox");r.attr("aria-autocomplete","both");r.attr("aria-expanded","false");r.attr("autocomplete","off");r.attr("autocorrect","off");r.attr("autocapitalize","off");r.attr("type","text");};C.getAriaRole=function(){};C.getAriaDescribedBy=function(c){var a=I.getAriaDescribedBy.apply(this,arguments);if(D.browser.msie){return(a||"")+" "+c.oInvisibleText.getId();}return a;};C.addOuterStyles=function(r,c){r.style("max-width",c.getMaxWidth());};return C;},true);
sap.ui.predefine('sap/m/CustomListItem',['./ListItemBase','./library','./CustomListItemRenderer'],function(L,l,C){"use strict";var a=L.extend("sap.m.CustomListItem",{metadata:{library:"sap.m",defaultAggregation:"content",properties:{accDescription:{tpye:"string",group:"Behavior"}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content",bindable:"bindable"}},designtime:"sap/m/designtime/CustomListItem.designtime"}});a.prototype.setAccDescription=function(A){this.setProperty("accDescription",A,true);return this;};a.prototype.getContentAnnouncement=function(){var A=this.getAccDescription();if(A){return A;}return this.getContent().map(function(c){return L.getAccessibilityText(c);}).join(" ").trim();};return a;});
sap.ui.predefine('sap/m/CustomListItemRenderer',["./ListItemBaseRenderer","sap/ui/core/Renderer"],function(L,R){"use strict";var C=R.extend(L);C.apiVersion=2;C.renderLIAttributes=function(r,l){r.class("sapMCLI");};C.renderLIContent=function(r,l){l.getContent().forEach(r.renderControl,r);};return C;},true);
sap.ui.predefine('sap/m/Dialog',["./Bar","./InstanceManager","./AssociativeOverflowToolbar","./ToolbarSpacer","./Title","./library","sap/m/Image","sap/ui/core/Control","sap/ui/core/IconPool","sap/ui/core/Popup","sap/ui/core/delegate/ScrollEnablement","sap/ui/core/RenderManager","sap/ui/core/InvisibleText","sap/ui/core/ResizeHandler","sap/ui/core/util/ResponsivePaddingsEnablement","sap/ui/Device","sap/ui/core/library","sap/ui/events/KeyCodes","./TitlePropagationSupport","./DialogRenderer","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/core/Core","sap/ui/core/Configuration","sap/ui/dom/units/Rem","sap/ui/dom/jquery/control","sap/ui/dom/jquery/Focusable"],function(B,I,A,T,a,l,b,C,c,P,S,R,d,f,g,D,h,K,j,k,L,q,m,n,o){"use strict";var O=h.OpenState;var p=l.DialogType;var r=l.DialogRoleType;var V=h.ValueState;var s=l.TitleAlignment;var t=m.getConfiguration().getAnimationMode();var u=t!==n.AnimationMode.none&&t!==n.AnimationMode.minimal;var v=u?300:10;var w=17;var x=o.toPx(1);var y=C.extend("sap.m.Dialog",{metadata:{interfaces:["sap.ui.core.PopupInterface"],library:"sap.m",properties:{icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},title:{type:"string",group:"Appearance",defaultValue:null},showHeader:{type:"boolean",group:"Appearance",defaultValue:true},type:{type:"sap.m.DialogType",group:"Appearance",defaultValue:p.Standard},state:{type:"sap.ui.core.ValueState",group:"Appearance",defaultValue:V.None},stretchOnPhone:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},stretch:{type:"boolean",group:"Appearance",defaultValue:false},contentWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},contentHeight:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},horizontalScrolling:{type:"boolean",group:"Behavior",defaultValue:true},verticalScrolling:{type:"boolean",group:"Behavior",defaultValue:true},resizable:{type:"boolean",group:"Behavior",defaultValue:false},draggable:{type:"boolean",group:"Behavior",defaultValue:false},escapeHandler:{type:"function",group:"Behavior",defaultValue:null},role:{type:"sap.m.DialogRoleType",group:"Data",defaultValue:r.Dialog,visibility:"hidden"},closeOnNavigation:{type:"boolean",group:"Behavior",defaultValue:true},titleAlignment:{type:"sap.m.TitleAlignment",group:"Misc",defaultValue:s.Auto}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},subHeader:{type:"sap.m.IBar",multiple:false},customHeader:{type:"sap.m.IBar",multiple:false},beginButton:{type:"sap.m.Button",multiple:false},endButton:{type:"sap.m.Button",multiple:false},buttons:{type:"sap.m.Button",multiple:true,singularName:"button"},_header:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_icon:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_toolbar:{type:"sap.m.OverflowToolbar",multiple:false,visibility:"hidden"},_valueState:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"}},associations:{leftButton:{type:"sap.m.Button",multiple:false,deprecated:true},rightButton:{type:"sap.m.Button",multiple:false,deprecated:true},initialFocus:{type:"sap.ui.core.Control",multiple:false},ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{beforeOpen:{},afterOpen:{},beforeClose:{parameters:{origin:{type:"sap.m.Button"}}},afterClose:{parameters:{origin:{type:"sap.m.Button"}}}},designtime:"sap/m/designtime/Dialog.designtime"}});g.call(y.prototype,{header:{suffix:"header"},subHeader:{selector:".sapMDialogSubHeader .sapMIBar"},content:{selector:".sapMDialogScrollCont"},footer:{suffix:"footer"}});j.call(y.prototype,"content",function(){return this._headerTitle?this._headerTitle.getId():false;});y._bPaddingByDefault=(m.getConfiguration().getCompatibilityVersion("sapMDialogWithPadding").compareTo("1.16")<0);y._mIcons={};y._mIcons[V.Success]=c.getIconURI("message-success");y._mIcons[V.Warning]=c.getIconURI("message-warning");y._mIcons[V.Error]=c.getIconURI("message-error");y._mIcons[V.Information]=c.getIconURI("hint");y.prototype.init=function(){var e=this;this._oManuallySetSize=null;this._oManuallySetPosition=null;this._bRTL=m.getConfiguration().getRTL();this._scrollContentList=["sap.m.NavContainer","sap.m.Page","sap.m.ScrollContainer","sap.m.SplitContainer","sap.m.MultiInput","sap.m.SimpleFixFlex"];this.oPopup=new P();this.oPopup.setShadow(true);this.oPopup.setNavigationMode("SCOPE");this.oPopup.setModal(true);this.oPopup.setAnimations(q.proxy(this._openAnimation,this),q.proxy(this._closeAnimation,this));this.oPopup._applyPosition=function(i,F){e._setDimensions();e._adjustScrollingPane();if(e._oManuallySetPosition){i.at={left:e._oManuallySetPosition.x,top:e._oManuallySetPosition.y};}else{i.at=e._calcCenter();}e._deregisterContentResizeHandler();P.prototype._applyPosition.call(this,i);e._registerContentResizeHandler();};if(y._bPaddingByDefault){this.addStyleClass("sapUiPopupWithPadding");}this._initTitlePropagationSupport();this._initResponsivePaddingsEnablement();};y.prototype.onBeforeRendering=function(){var H=this.getCustomHeader()||this._header;if(!y._bPaddingByDefault&&this.hasStyleClass("sapUiPopupWithPadding")){L.warning("Usage of CSS class 'sapUiPopupWithPadding' is deprecated. Use 'sapUiContentPadding' instead",null,"sap.m.Dialog");}if(this._hasSingleScrollableContent()){this.setVerticalScrolling(false);this.setHorizontalScrolling(false);L.info("VerticalScrolling and horizontalScrolling in sap.m.Dialog with ID "+this.getId()+" has been disabled because there's scrollable content inside");}else if(!this._oScroller){this._oScroller=new S(this,this.getId()+"-scroll",{horizontal:this.getHorizontalScrolling(),vertical:this.getVerticalScrolling()});}if(this._oScroller){this._oScroller.setVertical(this.getVerticalScrolling());this._oScroller.setHorizontal(this.getHorizontalScrolling());}this._createToolbarButtons();if(m.getConfiguration().getAccessibility()&&this.getState()!=V.None){var e=new d({text:this.getValueStateString(this.getState())});this.setAggregation("_valueState",e);this.addAriaLabelledBy(e.getId());}if(H&&H.setTitleAlignment){H.setProperty("titleAlignment",this.getTitleAlignment(),true);}};y.prototype.onAfterRendering=function(){this._$scrollPane=this.$("scroll");this._$content=this.$("cont");this._$dialog=this.$();if(this.isOpen()){this._setInitialFocus();}};y.prototype.exit=function(){I.removeDialogInstance(this);this._deregisterContentResizeHandler();this._deregisterResizeHandler();if(this.oPopup){this.oPopup.detachOpened(this._handleOpened,this);this.oPopup.detachClosed(this._handleClosed,this);this.oPopup.destroy();this.oPopup=null;}if(this._oScroller){this._oScroller.destroy();this._oScroller=null;}if(this._header){this._header.destroy();this._header=null;}if(this._headerTitle){this._headerTitle.destroy();this._headerTitle=null;}if(this._iconImage){this._iconImage.destroy();this._iconImage=null;}if(this._toolbarSpacer){this._toolbarSpacer.destroy();this._toolbarSpacer=null;}};y.prototype.open=function(){var e=this.oPopup;e.setInitialFocusId(this.getId());var i=e.getOpenState();switch(i){case O.OPEN:case O.OPENING:return this;case O.CLOSING:this._bOpenAfterClose=true;break;default:}this._oCloseTrigger=null;this.fireBeforeOpen();e.attachOpened(this._handleOpened,this);this._iLastWidthAndHeightWithScroll=null;e.setContent(this);e.open();this._registerResizeHandler();I.addDialogInstance(this);return this;};y.prototype.close=function(){this._bOpenAfterClose=false;this.$().removeClass('sapDialogDisableTransition');this._deregisterResizeHandler();var e=this.oPopup;var i=this.oPopup.getOpenState();if(!(i===O.CLOSED||i===O.CLOSING)){l.closeKeyboard();this.fireBeforeClose({origin:this._oCloseTrigger});e.attachClosed(this._handleClosed,this);this._bDisableRepositioning=false;this._oManuallySetPosition=null;this._oManuallySetSize=null;e.close();this._deregisterContentResizeHandler();}return this;};y.prototype.isOpen=function(){return!!this.oPopup&&this.oPopup.isOpen();};y.prototype.setIcon=function(i){this._bHasCustomIcon=true;return this.setProperty("icon",i);};y.prototype.setState=function(e){var i;this.setProperty("state",e);if(this._bHasCustomIcon){return this;}if(e===V.None){i="";}else{i=y._mIcons[e];}this.setProperty("icon",i);return this;};y.prototype._handleOpened=function(){this.oPopup.detachOpened(this._handleOpened,this);this._setInitialFocus();this.fireAfterOpen();};y.prototype._handleClosed=function(){if(!this.oPopup){return;}this.oPopup.detachClosed(this._handleClosed,this);if(this.getDomRef()){R.preserveContent(this.getDomRef());this.$().remove();}I.removeDialogInstance(this);this.fireAfterClose({origin:this._oCloseTrigger});if(this._bOpenAfterClose){this._bOpenAfterClose=false;this.open();}};y.prototype.onfocusin=function(e){var i=e.target;if(i.id===this.getId()+"-firstfe"){var E=this.$("footer").lastFocusableDomRef()||this.$("cont").lastFocusableDomRef()||(this.getSubHeader()&&this.getSubHeader().$().firstFocusableDomRef())||(this._getAnyHeader()&&this._getAnyHeader().$().lastFocusableDomRef());if(E){E.focus();}}else if(i.id===this.getId()+"-lastfe"){var F=this._getFocusableHeader()||(this._getAnyHeader()&&this._getAnyHeader().$().firstFocusableDomRef())||(this.getSubHeader()&&this.getSubHeader().$().firstFocusableDomRef())||this.$("cont").firstFocusableDomRef()||this.$("footer").firstFocusableDomRef();if(F){F.focus();}}};y.prototype._getPromiseWrapper=function(){var e=this;return{reject:function(){e.currentPromise.reject();},resolve:function(){e.currentPromise.resolve();}};};y.prototype.onsapescape=function(e){var E=this.getEscapeHandler(),i={},F=this;if(this._isSpaceOrEnterPressed){return;}if(e.originalEvent&&e.originalEvent._sapui_handledByControl){return;}this._oCloseTrigger=null;if(typeof E==='function'){new Promise(function(G,H){i.resolve=G;i.reject=H;F.currentPromise=i;E(F._getPromiseWrapper());}).then(function(G){F.close();}).catch(function(){L.info("Disallow dialog closing");});}else{this.close();}e.stopPropagation();};y.prototype.onkeyup=function(e){if(this._isSpaceOrEnter(e)){this._isSpaceOrEnterPressed=false;}};y.prototype.onkeydown=function(e){if(this._isSpaceOrEnter(e)){this._isSpaceOrEnterPressed=true;}this._handleKeyboardDragResize(e);};y.prototype._handleKeyboardDragResize=function(e){if(e.target!==this._getFocusableHeader()||[K.ARROW_LEFT,K.ARROW_RIGHT,K.ARROW_UP,K.ARROW_DOWN].indexOf(e.keyCode)===-1){return;}if((!this.getResizable()&&e.shiftKey)||(!this.getDraggable()&&!e.shiftKey)){return;}var $=this._$dialog,i=$.offset(),W=window.innerWidth,E=window.innerHeight,F=$.width(),G=$.height(),H=$.outerHeight(true),J=e.shiftKey,M,N;this._bDisableRepositioning=true;$.addClass('sapDialogDisableTransition');if(J){this._oManuallySetSize=true;this.$('cont').height('').width('');}switch(e.keyCode){case K.ARROW_LEFT:if(J){F-=x;}else{i.left-=x;}break;case K.ARROW_RIGHT:if(J){F+=x;}else{i.left+=x;}break;case K.ARROW_UP:if(J){G-=x;}else{i.top-=x;}break;case K.ARROW_DOWN:if(J){G+=x;}else{i.top+=x;}break;}if(J){N=E-i.top-H+G;if(e.keyCode===K.ARROW_DOWN){N-=x;}M={width:Math.min(F,W-i.left),height:Math.min(G,N)};}else{M={left:Math.min(Math.max(0,i.left),W-F),top:Math.min(Math.max(0,i.top),E-H)};}$.css(M);};y.prototype._isSpaceOrEnter=function(e){var i=e.which||e.keyCode;return i==K.SPACE||i==K.ENTER;};y.prototype._openAnimation=function($,i,e){$.addClass("sapMDialogOpen");$.css("display","block");setTimeout(e,v);};y.prototype._closeAnimation=function($,i,e){$.removeClass("sapMDialogOpen");setTimeout(e,v);};y.prototype._setDimensions=function(){var $=this.$(),e=this.getStretch(),i=this.getStretchOnPhone()&&D.system.phone,M=this.getType()===p.Message,E={};if(!e){if(!this._oManuallySetSize){E.width=this.getContentWidth()||undefined;E.height=this.getContentHeight()||undefined;}else{E.width=this._oManuallySetSize.width;E.height=this._oManuallySetSize.height;}}if(E.width=='auto'){E.width=undefined;}if(E.height=='auto'){E.height=undefined;}if((e&&!M)||(i)){this.$().addClass('sapMDialogStretched');}$.css(E);if(!e&&!this._oManuallySetSize&&!this._bDisableRepositioning){this._centerDialog();}if(window.navigator.userAgent.toLowerCase().indexOf("chrome")!==-1&&this.getStretch()){$.find('> footer').css({bottom:'0.001px'});}};y.prototype._adjustScrollingPane=function(){if(this._oScroller){this._oScroller.refresh();}};y.prototype._reposition=function(){};y.prototype._repositionAfterOpen=function(){};y.prototype._reapplyPosition=function(){this._adjustScrollingPane();};y.prototype._onResize=function(){var $=this.$(),e=this.$('cont'),i,E=this.getContentHeight(),F=this.getContentWidth(),G,H=Math.floor(window.innerWidth*0.9),J=2,M=D.browser,N=0;if(this._oManuallySetSize){e.css({width:'auto'});return;}if(!E||E=='auto'){i=e.scrollTop();e.css({height:'auto'});$.children().each(function(){N+=q(this).outerHeight(true);});if(this.getStretch()||N>$.innerHeight()){G=parseFloat($.height())+J;e.height(Math.round(G));}e.scrollTop(i);}if(D.system.desktop&&!M.chrome){var Q=e.width()+"x"+e.height(),U=$.css("min-width")!==$.css("width");if(Q!==this._iLastWidthAndHeightWithScroll&&U){if(this._hasVerticalScrollbar()&&(!F||F=='auto')&&!this.getStretch()&&e.width()<H){$.addClass("sapMDialogVerticalScrollIncluded");e.css({"padding-right":w});this._iLastWidthAndHeightWithScroll=Q;}else{$.removeClass("sapMDialogVerticalScrollIncluded");e.css({"padding-right":""});this._iLastWidthAndHeightWithScroll=null;}}}if(!this.getStretch()&&!this._oManuallySetSize&&!this._bDisableRepositioning){this._centerDialog();}};y.prototype._hasVerticalScrollbar=function(){var $=this.$('cont');if(D.browser.msie){return $[0].clientWidth<$.outerWidth();}return $[0].clientHeight<$[0].scrollHeight;};y.prototype._centerDialog=function(){this.$().css(this._calcCenter());};y.prototype._calcCenter=function(){var e=window.innerWidth,i=window.innerHeight,$=this.$(),E=$.outerWidth(),F=$.outerHeight();return{left:Math.round((e-E)/2),top:Math.round((i-F)/2)};};y.prototype._createHeader=function(){if(!this._header){this._header=new B(this.getId()+"-header",{titleAlignment:this.getTitleAlignment()});this._header._setRootAccessibilityRole("heading");this._header._setRootAriaLevel("2");this.setAggregation("_header",this._header);}};y.prototype._applyTitleToHeader=function(){var e=this.getProperty("title");if(this._headerTitle){this._headerTitle.setText(e);}else{this._headerTitle=new a(this.getId()+"-title",{text:e,level:"H2"}).addStyleClass("sapMDialogTitle");this._header.addContentMiddle(this._headerTitle);}};y.prototype._hasSingleScrollableContent=function(){var e=this.getContent();while(e.length===1&&e[0]instanceof C&&e[0].isA("sap.ui.core.mvc.View")){e=e[0].getContent();}if(e.length===1&&e[0]instanceof C&&e[0].isA(this._scrollContentList)){return true;}return false;};y.prototype._getFocusDomRef=function(){var i=this.getInitialFocus();if(i){return document.getElementById(i);}return this._getFocusableHeader()||this._getFirstFocusableContentSubHeader()||this._getFirstFocusableContentElement()||this._getFirstVisibleButtonDomRef()||this.getDomRef();};y.prototype._getFirstVisibleButtonDomRef=function(){var e=this.getBeginButton(),E=this.getEndButton(),F=this.getButtons(),G;if(e&&e.getVisible()){G=e.getDomRef();}else if(E&&E.getVisible()){G=E.getDomRef();}else if(F&&F.length>0){for(var i=0;i<F.length;i++){if(F[i].getVisible()){G=F[i].getDomRef();break;}}}return G;};y.prototype._getFocusableHeader=function(){if(!this._isDraggableOrResizable()){return null;}return this.$().find('header.sapMDialogTitle')[0];};y.prototype._getFirstFocusableContentSubHeader=function(){var $=this.$().find('.sapMDialogSubHeader');return $.firstFocusableDomRef();};y.prototype._getFirstFocusableContentElement=function(){var $=this.$("cont");return $.firstFocusableDomRef();};y.prototype._setInitialFocus=function(){var F=this._getFocusDomRef(),e;if(F&&F.id){e=m.byId(F.id);}if(e){if(e.getVisible&&!e.getVisible()){this.focus();return;}F=e.getFocusDomRef();}if(!F){this.setInitialFocus("");F=this._getFocusDomRef();}if(!this.getInitialFocus()){this.setAssociation('initialFocus',F?F.id:this.getId(),true);}if(D.system.desktop||(F&&!/input|textarea|select/i.test(F.tagName))){if(F){F.focus();}}else{this.focus();}};y.prototype.getScrollDelegate=function(){return this._oScroller;};y.prototype._composeAggreNameInHeader=function(e){var H;if(e==="Begin"){H="contentLeft";}else if(e==="End"){H="contentRight";}else{H="content"+e;}return H;};y.prototype._isToolbarEmpty=function(){var e=this._oToolbar.getContent().filter(function(i){return i.getMetadata().getName()!=='sap.m.ToolbarSpacer';});return e.length===0;};y.prototype._setButton=function(e,i,E){return this;};y.prototype._getButton=function(e){var i=e.toLowerCase()+"Button",E="_o"+this._firstLetterUpperCase(e)+"Button";if(D.system.phone){return this.getAggregation(i,null,true);}else{return this[E];}};y.prototype._getButtonFromHeader=function(e){if(this._header){var H=this._composeAggreNameInHeader(this._firstLetterUpperCase(e)),i=this._header.getAggregation(H);return i&&i[0];}else{return null;}};y.prototype._firstLetterUpperCase=function(e){return e.charAt(0).toUpperCase()+e.slice(1);};y.prototype._getAnyHeader=function(){var e=this.getCustomHeader();if(e){e._setRootAriaLevel("2");return e._setRootAccessibilityRole("heading");}else{var i=this.getShowHeader();if(!i){return null;}this._createHeader();this._applyTitleToHeader();this._applyIconToHeader();return this._header;}};y.prototype._deregisterResizeHandler=function(){if(this._resizeListenerId){f.deregister(this._resizeListenerId);this._resizeListenerId=null;}D.resize.detachHandler(this._onResize,this);};y.prototype._registerResizeHandler=function(){var _=this.$("scroll");this._resizeListenerId=f.register(_.get(0),q.proxy(this._onResize,this));D.resize.attachHandler(this._onResize,this);this._onResize();};y.prototype._deregisterContentResizeHandler=function(){if(this._sContentResizeListenerId){f.deregister(this._sContentResizeListenerId);this._sContentResizeListenerId=null;}};y.prototype._registerContentResizeHandler=function(){if(!this._sContentResizeListenerId){this._sContentResizeListenerId=f.register(this.getDomRef("scrollCont"),q.proxy(this._onResize,this));}this._onResize();};y.prototype._attachHandler=function(e){var i=this;if(!this._oButtonDelegate){this._oButtonDelegate={ontap:function(){i._oCloseTrigger=this;},onkeyup:function(){i._oCloseTrigger=this;},onkeydown:function(){i._oCloseTrigger=this;}};}if(e){e.addDelegate(this._oButtonDelegate,true,e);}};y.prototype._createToolbarButtons=function(){var e=this._getToolbar();var i=this.getButtons();var E=this.getBeginButton();var F=this.getEndButton(),G=this,H=[E,F];H.forEach(function(J){if(J&&G._oButtonDelegate){J.removeDelegate(G._oButtonDelegate);}});e.removeAllContent();if(!("_toolbarSpacer"in this)){this._toolbarSpacer=new T();}e.addContent(this._toolbarSpacer);H.forEach(function(J){G._attachHandler(J);});if(i&&i.length){i.forEach(function(J){e.addContent(J);});}else{if(E){e.addContent(E);}if(F){e.addContent(F);}}};y.prototype._getToolbar=function(){if(!this._oToolbar){this._oToolbar=new A(this.getId()+"-footer").addStyleClass("sapMTBNoBorders");this._oToolbar.addDelegate({onAfterRendering:function(){if(this.getType()===p.Message){this.$("footer").removeClass("sapContrast sapContrastPlus");}}},false,this);this.setAggregation("_toolbar",this._oToolbar);}return this._oToolbar;};y.prototype.getValueStateString=function(e){var i=m.getLibraryResourceBundle("sap.m");switch(e){case(V.Success):return i.getText("LIST_ITEM_STATE_SUCCESS");case(V.Warning):return i.getText("LIST_ITEM_STATE_WARNING");case(V.Error):return i.getText("LIST_ITEM_STATE_ERROR");case(V.Information):return i.getText("LIST_ITEM_STATE_INFORMATION");default:return"";}};y.prototype._isDraggableOrResizable=function(){return!this.getStretch()&&(this.getDraggable()||this.getResizable());};y.prototype.setSubHeader=function(e){this.setAggregation("subHeader",e);if(e){e.setVisible=function(i){e.setProperty("visible",i);this.invalidate();}.bind(this);}return this;};y.prototype.setLeftButton=function(e){if(typeof e==="string"){e=m.byId(e);}this.setBeginButton(e);return this.setAssociation("leftButton",e);};y.prototype.setRightButton=function(e){if(typeof e==="string"){e=m.byId(e);}this.setEndButton(e);return this.setAssociation("rightButton",e);};y.prototype.getLeftButton=function(){var e=this.getBeginButton();return e?e.getId():null;};y.prototype.getRightButton=function(){var e=this.getEndButton();return e?e.getId():null;};y.prototype.setBeginButton=function(e){if(e&&e.isA("sap.m.Button")){e.addStyleClass("sapMDialogBeginButton");}return this.setAggregation("beginButton",e);};y.prototype.setEndButton=function(e){if(e&&e.isA("sap.m.Button")){e.addStyleClass("sapMDialogEndButton");}return this.setAggregation("endButton",e);};y.prototype.getAggregation=function(e,i,E){var F=C.prototype.getAggregation.apply(this,Array.prototype.slice.call(arguments,0,2));if(e==='buttons'&&F&&F.length===0){this.getBeginButton()&&F.push(this.getBeginButton());this.getEndButton()&&F.push(this.getEndButton());}return F;};y.prototype.getAriaLabelledBy=function(){var H=this._getAnyHeader(),e=this.getAssociation("ariaLabelledBy",[]).slice();var i=this.getSubHeader();if(i){e.unshift(i.getId());}if(H){var E=H.findAggregatedObjects(true,function(F){return F.isA("sap.m.Title");});if(E.length){e=E.map(function(F){return F.getId();}).concat(e);}else{e.unshift(H.getId());}}return e;};y.prototype._applyIconToHeader=function(){var i=this.getIcon();if(!i){if(this._iconImage){this._iconImage.destroy();this._iconImage=null;}return;}if(!this._iconImage){this._iconImage=c.createControlByURI({id:this.getId()+"-icon",src:i,useIconTooltip:false},b).addStyleClass("sapMDialogIcon");this._header.insertAggregation("contentMiddle",this._iconImage,0);}this._iconImage.setSrc(i);};y.prototype.setInitialFocus=function(i){return this.setAssociation("initialFocus",i,true);};y.prototype.forceInvalidate=C.prototype.invalidate;y.prototype.invalidate=function(e){if(this.isOpen()){this.forceInvalidate(e);}};function z(e){var $=q(e);var i=$.control(0);if($.parents('.sapMDialogSection').length){return false;}if(!i||i.getMetadata().getInterfaces().indexOf("sap.m.IBar")>-1){return true;}return $.hasClass('sapMDialogTitle');}if(D.system.desktop){y.prototype.ondblclick=function(e){if(z(e.target)){var $=this.$('cont');this._bDisableRepositioning=false;this._oManuallySetPosition=null;this._oManuallySetSize=null;this.oPopup&&this.oPopup._applyPosition(this.oPopup._oLastPosition,true);$.css({height:'100%'});}};y.prototype.onmousedown=function(e){if(e.which===3){return;}if(!this._isDraggableOrResizable()){return;}var i;var E=this;var $=q(document);var F=q(e.target);var G=F.hasClass('sapMDialogResizeHandler')&&this.getResizable();var M=function(a1){i=i?clearTimeout(i):setTimeout(function(){a1();},0);};var H=window.innerWidth;var J=window.innerHeight;var N={x:e.pageX,y:e.pageY,width:E._$dialog.width(),height:E._$dialog.height(),outerHeight:E._$dialog.outerHeight(),offset:{x:e.offsetX?e.offsetX:e.originalEvent.layerX,y:e.offsetY?e.offsetY:e.originalEvent.layerY},position:{x:E._$dialog.offset().left,y:E._$dialog.offset().top}};var Q;function U(){var a1=E.$(),b1=E.$('cont'),c1,d1;$.off("mouseup",U);$.off("mousemove",Q);if(G){E._$dialog.removeClass('sapMDialogResizing');c1=parseInt(a1.height());d1=parseInt(a1.css("border-top-width"))+parseInt(a1.css("border-bottom-width"));b1.height(c1+d1);}}if((z(e.target)&&this.getDraggable())||G){E._bDisableRepositioning=true;E._$dialog.addClass('sapDialogDisableTransition');E._oManuallySetPosition={x:N.position.x,y:N.position.y};E._$dialog.css({left:Math.min(Math.max(0,E._oManuallySetPosition.x),H-N.width),top:Math.min(Math.max(0,E._oManuallySetPosition.y),J-N.height),width:N.width});}if(z(e.target)&&this.getDraggable()){Q=function(a1){a1.preventDefault();if(a1.buttons===0){U();return;}M(function(){E._bDisableRepositioning=true;E._oManuallySetPosition={x:Math.max(0,Math.min(a1.pageX-e.pageX+N.position.x,H-N.width)),y:Math.max(0,Math.min(a1.pageY-e.pageY+N.position.y,J-N.outerHeight))};E._$dialog.css({left:E._oManuallySetPosition.x,top:E._oManuallySetPosition.y});});};$.on("mousemove",Q);}else if(G){E._$dialog.addClass('sapMDialogResizing');var W={};var X=parseInt(E._$dialog.css('min-width'));var Y=N.x+N.width-X;var Z=F.width()-e.offsetX;var _=F.height()-e.offsetY;Q=function(a1){M(function(){E._bDisableRepositioning=true;E.$('cont').height('').width('');if(a1.pageY+_>J){a1.pageY=J-_;}if(a1.pageX+Z>H){a1.pageX=H-Z;}E._oManuallySetSize={width:N.width+a1.pageX-N.x,height:N.height+a1.pageY-N.y};if(E._bRTL){W.left=Math.min(Math.max(a1.pageX,0),Y);E._oManuallySetSize.width=N.width+N.x-Math.max(a1.pageX,0);}W.width=E._oManuallySetSize.width;W.height=E._oManuallySetSize.height;E._$dialog.css(W);});};$.on("mousemove",Q);}else{return;}$.on("mouseup",U);e.stopPropagation();};}y.prototype._applyContextualSettings=function(){C.prototype._applyContextualSettings.call(this);};return y;});
sap.ui.predefine('sap/m/DialogRenderer',["sap/m/library","sap/ui/Device","sap/ui/core/library"],function(l,D,c){"use strict";var a=l.DialogType;var b=l.DialogRoleType;var V=c.ValueState;var d={apiVersion:2};d._mStateClasses={};d._mStateClasses[V.None]="";d._mStateClasses[V.Success]="sapMDialogSuccess";d._mStateClasses[V.Warning]="sapMDialogWarning";d._mStateClasses[V.Error]="sapMDialogError";d._mStateClasses[V.Information]="sapMDialogInformation";d.render=function(r,o){var i=o.getId(),h=o._getAnyHeader(),s=o.getSubHeader(),B=o.getBeginButton(),e=o.getEndButton(),S=o.getState(),f=o.getStretch(),g=o.getStretchOnPhone()&&D.system.phone,v=o.getAggregation("_valueState");r.openStart("div",o).style("width",o.getContentWidth()).style("height",o.getContentHeight()).class("sapMDialog").class("sapMDialog-CTX").class("sapMPopup-CTX");if(o.isOpen()){r.class("sapMDialogOpen");}if(window.devicePixelRatio>1){r.class("sapMDialogHighPixelDensity");}if(o._bDisableRepositioning){r.class("sapMDialogTouched");}if(f||g){r.class("sapMDialogStretched");}r.class(d._mStateClasses[S]);var n=!o._oToolbar&&!B&&!e;var E=o._oToolbar&&o._isToolbarEmpty()&&!B&&!e;if(n||E){r.class("sapMDialog-NoFooter");}if(!h){r.class("sapMDialog-NoHeader");}var R=o.getProperty("role");if(S===V.Error||S===V.Warning){R=b.AlertDialog;}r.accessibilityState(o,{role:R,modal:true});if(o._forceDisableScrolling){r.class("sapMDialogWithScrollCont");}if(s&&s.getVisible()){r.class("sapMDialogWithSubHeader");if(s.getDesign()==l.ToolbarDesign.Info){r.class("sapMDialogSubHeaderInfoBar");}}if(o.getType()===a.Message){r.class("sapMMessageDialog");}if(!o.getVerticalScrolling()){r.class("sapMDialogVerScrollDisabled");}if(!o.getHorizontalScrolling()){r.class("sapMDialogHorScrollDisabled");}if(D.system.phone){r.class("sapMDialogPhone");}if(o.getDraggable()&&!f){r.class("sapMDialogDraggable");}if(l._bSizeCompact){r.class("sapUiSizeCompact");}var t=o.getTooltip_AsString();if(t){r.attr("title",t);}r.attr("tabindex","-1");r.openEnd();if(D.system.desktop){if(o.getResizable()&&!f){r.icon("sap-icon://resize-corner",["sapMDialogResizeHandler"],{"title":""});}r.openStart("span",i+"-firstfe").class("sapMDialogFirstFE").attr("tabindex","0").openEnd().close("span");}if(h){h._applyContextClassFor("header");r.openStart("header").class("sapMDialogTitle");if(o._isDraggableOrResizable()){r.attr("tabindex",0);}r.openEnd().renderControl(h).close("header");}if(s){s._applyContextClassFor("subheader");r.openStart("header").class("sapMDialogSubHeader").openEnd().renderControl(s).close("header");}if(v){r.renderControl(v);}r.openStart("section",i+"-cont").class("sapMDialogSection").openEnd();r.openStart("div",i+"-scroll").class("sapMDialogScroll").openEnd();r.openStart("div",i+"-scrollCont").class("sapMDialogScrollCont");if(o.getStretch()||o.getContentHeight()){r.class("sapMDialogStretchContent");}r.openEnd();o.getContent().forEach(r.renderControl,r);r.close("div").close("div").close("section");if(!(n||E)){o._oToolbar._applyContextClassFor("footer");r.openStart("footer").class("sapMDialogFooter").openEnd().renderControl(o._oToolbar).close("footer");}if(D.system.desktop){r.openStart("span",i+"-lastfe").class("sapMDialogLastFE").attr("tabindex","0").openEnd().close("span");}r.close("div");};return d;},true);
sap.ui.predefine('sap/m/Fiori20Adapter',['sap/ui/base/Object','sap/ui/base/EventProvider','sap/ui/base/ManagedObjectObserver','sap/ui/Device',"sap/base/Log","sap/ui/thirdparty/jquery"],function(B,E,M,D,L,q){"use strict";var e=new E(),i,c,C;var H=B.extend("HeaderAdapter",{constructor:function(o,A){if(!o||!A){L.error("Cannot initialize: Invalid arguments.");return;}this._oHeader=o;this._oStyledPage=null;this._oTitleInfo=null;this._oSubTitleInfo=null;this._oBackButtonInfo=null;this._oAdaptOptions=A;}});H.prototype.adapt=function(){var s=this._oAdaptOptions.bStylePage,k=this._oAdaptOptions.bCollapseHeader;if(s){this._toggleStyle("sapF2Adapted",true,true);}this._adaptTitle();this._adaptBackButton();if(k){this._collapseHeader();}return this.getAdaptedContent();};H.prototype.getAdaptedContent=function(){return{oTitleInfo:this._oTitleInfo,oSubTitleInfo:this._oSubTitleInfo,oBackButtonInfo:this._oBackButtonInfo,oStyledPage:this._oStyledPage};};H.prototype._adaptTitle=function(){if(!H._isAdaptableHeader(this._oHeader)||this._oAdaptOptions.bMoveTitle!==true){return false;}this._oTitleInfo=this._detectTitle();this._oSubTitleInfo=this._detectSubTitle();var s=!!this._oTitleInfo||!!this._oSubTitleInfo;if(this._oTitleInfo){this._oTitleInfo.oControl.toggleStyleClass("sapF2AdaptedTitle",true);}return s;};H.prototype._adaptBackButton=function(){if(!H._isAdaptableHeader(this._oHeader)||this._oAdaptOptions.bHideBackButton!==true){return false;}var k,l=false;this._oBackButtonInfo=this._detectBackButton();if(this._oBackButtonInfo){k=this._oBackButtonInfo.oControl.getVisible();this._oBackButtonInfo.oControl.toggleStyleClass("sapF2AdaptedNavigation",k);l=true;}return l;};H.prototype._toggleStyle=function(s,A,S){var p=this._oHeader.getParent();if(!p){return;}this._oStyledPage=p;if(A===true){p.addStyleClass(s,S);}else if(A===false){p.removeStyleClass(s,S);}else if(A===undefined){p.hasStyleClass(s)?p.removeStyleClass(s,S):p.addStyleClass(s,S);}};H._isAdaptableHeader=function(o){if(!o||!f(o,"sap/m/Bar")){return false;}var p=o.getParent();return p&&(f(p,"sap/m/Page")||f(p,"sap/m/MessagePage")||f(p,"sap/uxap/ObjectPageHeader"));};H.prototype._detectTitle=function(){var t;if(H._isAdaptableHeader(this._oHeader)){var m=this._oHeader.getContentMiddle();if(m.length===1&&a(m[0])){var T=m[0];t={id:T.getId(),text:T.getText(),oControl:T,sChangeEventId:"_change",sPropertyName:"text"};}}return t;};H.prototype._detectSubTitle=function(p){if(f(p,"sap/uxap/ObjectPageHeader")){var o=p.getHeaderTitle();if(o){return{id:o.getId(),text:o.getObjectTitle(),oControl:o,sChangeEventId:"_titleChange",sPropertyName:"objectTitle"};}}};H.prototype._detectBackButton=function(){var k,o;if(H._isAdaptableHeader(this._oHeader)){k=this._oHeader.getContentLeft();if(k.length>0&&f(k[0],"sap/m/Button")&&(k[0].getType()==="Back"||k[0].getType()==="Up"||k[0].getIcon()==="sap-icon://nav-back")){o=k[0];return{id:o.getId(),oControl:o,sChangeEventId:"_change",sPropertyName:"visible"};}}};H.prototype._collapseHeader=function(){var t=this._oTitleInfo,k=this._oBackButtonInfo,l,m,n,o,p,r,A;if(H._isAdaptableHeader(this._oHeader)){l=this._oHeader.getContentLeft();m=this._oHeader.getContentMiddle();n=this._oHeader.getContentRight();o=(l.length===1)&&(h(l[0])||k);p=(m.length===1)&&(h(m[0])||t);r=(n.length===1)&&h(n[0]);A=(l.length===0||o)&&(m.length===0||p)&&((n.length===0)||r);this._toggleStyle("sapF2CollapsedHeader",A,true);}};var F=B.extend("sap.m.Fiori20Adapter",{});F.attachViewChange=function(l,o){e.attachEvent("adaptedViewChange",l,o);};F.detachViewChange=function(l,o){e.detachEvent("adaptedViewChange",l,o);};F.traverse=function(o,A){i={aViewTitles:{},aViewSubTitles:{},aViewBackButtons:{}};c={};C=null;this._doBFS([{oNode:o,oAdaptOptions:A}]);if(this._getCurrentlyAdaptedTopViewId()){this._fireViewChange(this._getCurrentlyAdaptedTopViewId(),A);}};F._doBFS=function(Q){var n=Q.shift();if(!n){return;}var N=n.oNode,A=n.oAdaptOptions,s=A.iSearchDepth;A=this._applyRules(A,N);if(!this._isAdaptationRequired(N,A)||(s<=0)){return;}var I=this._isTopNavigableView(N);if(I){this._setAsCurrentlyAdaptedTopViewId(N.getId());}var o=this._processNode(N,A);var k=this._getNodeChildren(N),l=q.extend({},A,{iSearchDepth:this._updateSearchDepth(s,N)});if(o){var t=!!o.oTitleInfo,m=!!o.oBackButton,p=!!o.oStyledPage;l=q.extend(l,{bMoveTitle:A.bMoveTitle&&!t,bHideBackButton:A.bHideBackButton&&!m,bStylePage:A.bStylePage&&!p});}k.forEach(function(r){if(r){Q.push({oNode:r,oAdaptOptions:l});}});this._doBFS(Q);};F._processNode=function(o,A){this._attachDefferedAdaptationListeners(o,A);if(H._isAdaptableHeader(o)){return this._adaptHeader(o,A);}if(o.getParent()&&f(o.getParent(),"sap/m/NavContainer")){return this._getCachedViewInfoToMerge(o.getId());}};F._attachDefferedAdaptationListeners=function(o,A){this._attachAdaptableContentChange(o,A);this._attachNavigablePageChange(o,A);if(f(o,"sap/m/Page")||f(o,"sap/ui/core/mvc/XMLView")){this._observeAddAggregation(o,"content",A);}if(f(o,"sap/m/NavContainer")){this._observeRemoveAggregation(o,"pages",A);}if((A.bLateAdaptation===true)&&f(o,"sap/m/Bar")){this._observeAddAggregation(o,"contentLeft",A,o);this._observeAddAggregation(o,"contentMiddle",A,o);this._observeAddAggregation(o,"contentRight",A,o);}if(f(o,"sap/ui/core/ComponentContainer")){var k=o.getComponentInstance();if(!k&&o.getName()&&!o.getDomRef()){var t=this;var l={onBeforeRendering:function(){o.removeEventDelegate(l);t._doBFS([{oNode:o.getComponentInstance(),oAdaptOptions:A}]);if(t._getCurrentlyAdaptedTopViewId()){t._fireViewChange(t._getCurrentlyAdaptedTopViewId(),A);}}};o.addEventDelegate(l,this);}}};F._checkHasListener=function(o,s){var k=c[o.getId()];return k&&k[s];};F._setHasListener=function(o,s,l){var k=c[o.getId()];if(!k){k={};c[o.getId()]=k;}k[s]=l;};F._attachAdaptableContentChange=function(o,A){if(typeof o._getAdaptableContent!=="function"){return;}if(this._checkHasListener(o,"_adaptableContentChange")){return;}var O=this._getCurrentlyAdaptedTopViewId();var k=function(l){var m=l.getParameter("adaptableContent");this._setAsCurrentlyAdaptedTopViewId(O);this._doBFS([{oNode:m,oAdaptOptions:A}]);if(this._getCurrentlyAdaptedTopViewId()){this._fireViewChange(this._getCurrentlyAdaptedTopViewId(),A);}}.bind(this);o.attachEvent("_adaptableContentChange",k);this._setHasListener(o,"_adaptableContentChange",k);};F._attachNavigablePageChange=function(o,A){if(!f(o,"sap/m/NavContainer")){return;}if(this._checkHasListener(o,"navigate")){return;}var O=function(k){var n=k.getParameter("to");A=this._applyRules(A,n);this._doBFS([{oNode:n,oAdaptOptions:A}]);if(this._getCurrentlyAdaptedTopViewId()){this._fireViewChange(this._getCurrentlyAdaptedTopViewId(),A);}}.bind(this);o.attachNavigate(O);this._setHasListener(o,"navigate",O);};F._observeAddAggregation=function(o,A,k,l){if(this._checkHasListener(o,A)){return;}var O=this._getCurrentlyAdaptedTopViewId(),m=function(p){var s=p.mutation,r=p.object;if((s==="add")||(s==="insert")){this._setAsCurrentlyAdaptedTopViewId(O);this._doBFS([{oNode:l?l:r,oAdaptOptions:k}]);if(this._getCurrentlyAdaptedTopViewId()){this._fireViewChange(this._getCurrentlyAdaptedTopViewId(),k);}}}.bind(this),n=new M(m);n.observe(o,{aggregations:[A]});this._setHasListener(o,A,n);};F._observeRemoveAggregation=function(o,A,k){if(this._checkHasListener(o,A)){return;}var O=new M(this._onRemoveAggregation.bind(this));O.observe(o,{aggregations:[A]});this._setHasListener(o,A,O);};F._removeFromMergeInfo=function(m,o){Object.keys(m).forEach(function(k){var l=m[k];if((l.oControl===o)||j(l.oControl,o)){this._detachAllListeners(l.oControl);delete m[k];}},this);};F._detachAllListeners=function(o){var k=c[o.getId()];if(!k){return;}Object.keys(k).forEach(function(s){var l=k[s];if(l instanceof M){l.disconnect();}else{o.detachEvent(s,l);}delete k[s];});};F._onRemoveAggregation=function(o){var m=o.mutation,r;if(m==="remove"){r=o.child;this._detachAllListeners(r);this._removeFromMergeInfo(i.aViewTitles,r);this._removeFromMergeInfo(i.aViewSubTitles,r);this._removeFromMergeInfo(i.aViewBackButtons,r);}};F._getNodeChildren=function(o){if(typeof o._getAdaptableContent==="function"){var k=[o._getAdaptableContent()];if(f(o,"sap/m/Page")){k=k.concat(o.getContent());}return k;}if(f(o,"sap/m/SplitContainer")){return[].concat(o.getAggregation("_navMaster"),o.getAggregation("_navDetail"));}if(f(o,"sap/uxap/ObjectPageLayout")){return[o.getHeaderTitle()];}if(f(o,"sap/ui/core/ComponentContainer")){return[o.getComponentInstance()];}if(f(o,"sap/ui/core/UIComponent")){return[o.getAggregation("rootControl")];}return o.findAggregatedObjects(false,g);};F._updateSearchDepth=function(s,o){if(f(o,"sap/ui/core/mvc/View")||f(o,"sap/ui/core/Component")||f(o,"sap/ui/core/ComponentContainer")){return s;}return s-1;};F._getTotalCachedInfoToMerge=function(v){var V=sap.ui.getCore().byId(v),o=this._getCachedViewInfoToMerge(v),k,l,s,S,m,p,n;if(!D.system.phone&&this._isTopSplitContainerSubView(V)){p=V.getParent();m=p&&p.getParent();if(m){k=m._oMasterNav&&(m._oMasterNav.getId()===p.getId());l=m._oDetailNav&&(m._oDetailNav.getId()===p.getId());}}if(k){s=m.getCurrentDetailPage();S=s&&s.getId();n=this._getCachedViewInfoToMerge(S);o=this._mergeSplitViewInfos(o,n);}if(l){s=m.getCurrentMasterPage();S=s&&s.getId();n=this._getCachedViewInfoToMerge(S);o=this._mergeSplitViewInfos(n,o);}o.sViewId=(k||l)?m.getId():v;return o;};F._isTopSplitContainerSubView=function(o){var p=o&&o.getParent();return this._isTopmostNavContainer(p)&&f(p.getParent(),"sap/m/SplitContainer");};F._mergeSplitViewInfos=function(m,o){q.each(m,function(k,v){m[k]=v||o[k];});return m;};F._getCachedViewInfoToMerge=function(v){var o=(i.aViewBackButtons[v])?i.aViewBackButtons[v].oControl:undefined;return{oTitleInfo:i.aViewTitles[v],oSubTitleInfo:i.aViewSubTitles[v],oBackButton:o};};F._applyRules=function(A,o){var p=o.getParent();if(f(p,"sap/m/SplitContainer")){var I=D.system.phone,m=A.bMoveTitle,k=A.bHideBackButton;if(m){m=I;}if(k&&!D.system.phone){k='initialPage';}return q.extend({},A,{bMoveTitle:m,bHideBackButton:k});}if(f(p,"sap/m/NavContainer")){if(A.bHideBackButton==='initialPage'){var l=p._getActualInitialPage()&&(p._getActualInitialPage().getId()===o.getId());return q.extend({},A,{bHideBackButton:l});}}if((A.bMoveTitle===false)||(A.bHideBackButton===false)){return q.extend({},A,{bCollapseHeader:false});}return A;};F._getCurrentlyAdaptedTopViewId=function(){return C;};F._setAsCurrentlyAdaptedTopViewId=function(v){C=v;};F._isTopNavigableView=function(n){var p=n.getParent();return p&&this._isTopmostNavContainer(p);};F._isTopmostNavContainer=function(o){var k,n=o;while(n){if(f(n,"sap/m/NavContainer")){k=n;}n=n.getParent();}return k&&(k.getId()===o.getId());};F._adaptHeader=function(o,A){if(!o||!A){return;}var k=new H(o,A),l=k.adapt();var t=this._getCurrentlyAdaptedTopViewId();if(l.oTitleInfo){i.aViewTitles[t]=l.oTitleInfo;this._registerTextChangeListener(i.aViewTitles,t,A);}if(l.oSubTitleInfo){i.aViewSubTitles[t]=l.oSubTitleInfo;this._registerTextChangeListener(i.aViewSubTitles,t,A);}if(l.oBackButtonInfo){if(l.oBackButtonInfo.oControl.getVisible()){i.aViewBackButtons[t]=l.oBackButtonInfo;}this._registerVisibilityChangeListener(l.oBackButtonInfo,i.aViewBackButtons,t,A);}return l;};F._registerTextChangeListener=function(t,v,A){var T=t[v];if(T&&T.oControl&&T.sChangeEventId){if(this._checkHasListener(T.oControl,T.sChangeEventId)){return;}var k=function(o){var T=t[v];if(o.getParameter("name")!==T.sPropertyName){return;}T.text=o.getParameter("newValue");this._fireViewChange(v,A);}.bind(this);T.oControl.attachEvent(T.sChangeEventId,k);this._setHasListener(T.oControl,T.sChangeEventId,k);}};F._registerVisibilityChangeListener=function(o,k,v,A){var V;if(o&&o.oControl&&o.sChangeEventId){if(this._checkHasListener(o.oControl,o.sChangeEventId)){return;}var l=function(m){if(m.getParameter("name")!==o.sPropertyName){return;}V=m.getParameter("newValue");if(!V){q.each(k,function(I,n){if(n.oControl.getId()===o.oControl.getId()){delete k[I];}});}var p=o.oControl.getParent();if(H._isAdaptableHeader(p)){F._adaptHeader(p,A);this._fireViewChange(v,A);}}.bind(this);o.oControl.attachEvent(o.sChangeEventId,l);this._setHasListener(o.oControl,o.sChangeEventId,l);}};F._fireViewChange=function(v,A){var t=this._getTotalCachedInfoToMerge(v);t.oAdaptOptions=A;e.fireEvent("adaptedViewChange",t);};F._isAdaptationRequired=function(n,A){if(!n||this._isNonAdaptableControl(n)){return false;}for(var o in A){if(A.hasOwnProperty(o)&&((A[o]===true)||(A[o]==="initialPage"))){return true;}}return false;};F._isNonAdaptableControl=function(o){return b(o);};function a(o){return d(o,["sap/m/Label","sap/m/Text","sap/m/Title"]);}function b(o){return d(o,["sap/m/List","sap/m/Table","sap/ui/table/Table","sap/ui/table/TreeTable"]);}function d(o,t){if(!o||!t){return;}return t.some(function(T){return f(o,T);});}function f(o,t){var T=sap.ui.require(t);return T&&(o instanceof T);}function g(o){return o&&(o.sParentAggregationName!=="dependents");}function h(o){return o&&(typeof o.getVisible==="function")&&(o.getVisible()===false);}function j(o,r){var p=o&&o.getParent();while(p){if(p===r){return true;}p=p.getParent();}return false;}return F;});
sap.ui.predefine('sap/m/FlexBox',['./FlexBoxStylingHelper','./FlexItemData','./library','sap/ui/core/Control','sap/ui/core/InvisibleRenderer','./FlexBoxRenderer','sap/ui/thirdparty/jquery'],function(F,a,l,C,I,b,q){"use strict";var B=l.BackgroundDesign;var c=l.FlexAlignContent;var d=l.FlexWrap;var e=l.FlexAlignItems;var f=l.FlexJustifyContent;var g=l.FlexRendertype;var h=l.FlexDirection;var j=C.extend("sap.m.FlexBox",{metadata:{library:"sap.m",properties:{height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:''},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:''},displayInline:{type:"boolean",group:"Appearance",defaultValue:false},direction:{type:"sap.m.FlexDirection",group:"Appearance",defaultValue:h.Row},fitContainer:{type:"boolean",group:"Appearance",defaultValue:false},renderType:{type:"sap.m.FlexRendertype",group:"Misc",defaultValue:g.Div},justifyContent:{type:"sap.m.FlexJustifyContent",group:"Appearance",defaultValue:f.Start},alignItems:{type:"sap.m.FlexAlignItems",group:"Appearance",defaultValue:e.Stretch},wrap:{type:"sap.m.FlexWrap",group:"Appearance",defaultValue:d.NoWrap},alignContent:{type:"sap.m.FlexAlignContent",group:"Appearance",defaultValue:c.Stretch},backgroundDesign:{type:"sap.m.BackgroundDesign",group:"Appearance",defaultValue:B.Transparent}},defaultAggregation:"items",aggregations:{items:{type:"sap.ui.core.Control",multiple:true,singularName:"item"}},designtime:"sap/m/designtime/FlexBox.designtime",dnd:{draggable:false,droppable:true}}});j.prototype.init=function(){this._oItemDelegate={onAfterRendering:this._onAfterItemRendering};};j.prototype.addItem=function(i){this.addAggregation("items",i);this._onItemInserted(i);return this;};j.prototype.insertItem=function(i,k){this.insertAggregation("items",i,k);this._onItemInserted(i);return this;};j.prototype.removeItem=function(i){var o=this.removeAggregation("items",i);this._onItemRemoved(o);return o;};j.prototype.removeAllItems=function(){var k=this.getItems();for(var i=0;i<k.length;i++){this._onItemRemoved(k[i]);}return this.removeAllAggregation("items");};j.prototype._onItemInserted=function(i){if(i&&!(i instanceof j)){i.attachEvent("_change",this._onItemChange,this);if(this.getRenderType()===g.Bare){i.addEventDelegate(this._oItemDelegate,i);}}};j.prototype._onItemRemoved=function(i){if(i&&!(i instanceof j)){i.detachEvent("_change",this._onItemChange,this);if(this.getRenderType()===g.Bare){i.removeEventDelegate(this._oItemDelegate,i);}}};j.prototype._onItemChange=function(o){if(o.getParameter("name")!=="visible"||(this.getRenderType()!==g.List&&this.getRenderType()!==g.Div)){return;}var i=sap.ui.getCore().byId(o.getParameter("id")),$=null;if(i.getLayoutData()){$=q(document.getElementById(i.getLayoutData().getId()));}else{$=q(document.getElementById(I.createInvisiblePlaceholderId(i))).parent();}if(o.getParameter("newValue")){$.removeClass("sapUiHiddenPlaceholder").removeAttr("aria-hidden");}else{$.addClass("sapUiHiddenPlaceholder").attr("aria-hidden","true");}};j.prototype._onAfterItemRendering=function(){var L=this.getLayoutData();if(L instanceof a){F.setFlexItemStyles(null,L);}};j.prototype.setRenderType=function(v){var o=this.getRenderType(),i=this.getItems();if(v===o){return this;}this.setProperty("renderType",v);if(o==="Bare"){i.forEach(this._onItemRemoved,this);}if(v==="Bare"){i.forEach(this._onItemInserted,this);}return this;};j.prototype.getAccessibilityInfo=function(){return{children:this.getItems()};};return j;});
sap.ui.predefine('sap/m/FlexBoxCssPropertyMap',[],function(){"use strict";var F={'specie10':{'order':{'<number>':{'flex-order':'<number>'}},'flex-grow':{'<number>':{'flex-positive':'<number>','flex-preferred-size':'auto'}},'flex-shrink':{'<number>':{'flex-negative':'<number>'}},'flex-basis':{'<number>':{'flex-preferred-size':'<number>'}}}};return F;},true);
sap.ui.predefine('sap/m/FlexBoxRenderer',['./FlexBoxStylingHelper','sap/m/library',"sap/base/Log","sap/m/FlexItemData"],function(F,l,L,a){"use strict";var b=l.FlexDirection;var c=l.FlexRendertype;var d={apiVersion:2};d.render=function(r,f){r.openStart(f.getRenderType()===c.List?"ul":"div",f);var p=f.getParent();if(p&&p.isA("sap.m.FlexBox")){if(!f.hasStyleClass("sapMFlexItem")){r.class("sapMFlexItem");}var o=f.getLayoutData();if(o instanceof a){F.setFlexItemStyles(r,o);}}else if(f.getFitContainer()){r.class("sapMFlexBoxFit");}r.class("sapMFlexBox");if(f.getDisplayInline()){r.class("sapMFlexBoxInline");}if(f.getDirection()===b.Column||f.getDirection()===b.ColumnReverse){r.class("sapMVBox");}else{r.class("sapMHBox");}if(f.getDirection()===b.RowReverse||f.getDirection()===b.ColumnReverse){r.class("sapMFlexBoxReverse");}r.class("sapMFlexBoxJustify"+f.getJustifyContent());r.class("sapMFlexBoxAlignItems"+f.getAlignItems());r.class("sapMFlexBoxWrap"+f.getWrap());r.class("sapMFlexBoxAlignContent"+f.getAlignContent());var B="sapMFlexBoxBG"+f.getBackgroundDesign();if(!f.hasStyleClass(B)){r.class(B);}r.style("height",f.getHeight());r.style("width",f.getWidth());var t=f.getTooltip_AsString();if(t){r.attr("title",t);}r.openEnd();d.renderItems(f,r);if(f.getRenderType()===c.List){r.close("ul");}else{r.close("div");}};d.renderItems=function(f,r){var C=f.getItems(),w='';for(var i=0;i<C.length;i++){if(C[i].isA('sap.m.FlexBox')||f.getRenderType()===c.Bare){w="";}else if(f.getRenderType()===c.List){w="li";}else{w="div";}d.renderItem(C[i],w,r);}};d.renderItem=function(i,w,r){var o=i.getLayoutData();if(w&&!o){i.setAggregation("layoutData",new a(),true);o=i.getLayoutData();}if(!(o instanceof a)){if(o){L.warning(o+" set on "+i+" is not of type sap.m.FlexItemData");}if(w){r.openStart(w);}}else{if(w){r.openStart(w,o.getId());}if(o.getStyleClass()){d.addItemClass(o.getStyleClass(),i,w,r);}d.addItemClass("sapMFlexItemAlign"+o.getAlignSelf(),i,w,r);d.addItemClass("sapMFlexBoxBG"+o.getBackgroundDesign(),i,w,r);if(w){F.setFlexItemStyles(r,o);}}d.addItemClass("sapMFlexItem",i,w,r);if(w){if(i.isA("sap.m.ScrollContainer")){r.class("sapMFlexBoxScroll");}if(!i.getVisible()){r.class("sapUiHiddenPlaceholder");}r.openEnd();}r.renderControl(i);if(w){r.close(w);}};d.addItemClass=function(C,i,w,r){if(w){r.class(C);}else{i.addStyleClass(C);}};return d;},true);
sap.ui.predefine('sap/m/FlexBoxStylingHelper',['./FlexBoxCssPropertyMap','sap/ui/Device'],function(F,D){"use strict";var a={};a.setFlexItemStyles=function(r,l){r=r||null;var o=''+l.getOrder(),g=''+l.getGrowFactor(),s=''+l.getShrinkFactor(),b=l.getBaseSize().toLowerCase(),m=l.getMinHeight(),M=l.getMaxHeight(),c=l.getMinWidth(),d=l.getMaxWidth();if(typeof o!=='undefined'){a.setStyle(r,l,"order",o);}if(typeof g!=='undefined'){a.setStyle(r,l,"flex-grow",g);}if(typeof s!=='undefined'){a.setStyle(r,l,"flex-shrink",s);}if(typeof b!=='undefined'){a.setStyle(r,l,"flex-basis",b);}if(typeof m!=='undefined'){a.setStyle(r,l,"min-height",m);}if(typeof M!=='undefined'){a.setStyle(r,l,"max-height",M);}if(typeof c!=='undefined'){a.setStyle(r,l,"min-width",c);}if(typeof d!=='undefined'){a.setStyle(r,l,"max-width",d);}};a.setStyle=function(r,l,p,v){if(typeof(v)==="string"){v=v.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();}else if(typeof(v)==="number"){v=v.toString();}a.writeStyle(r,l,p,v);};a.writeStyle=function(r,l,p,v){if(D.browser.internet_explorer&&(p==="flex-basis"||p==="flex-preferred-size")){if(l.getParent()){if(l.getParent().getParent().getDirection().indexOf("Row")>-1){p="width";}else{p="height";}}}if(r){if(v==="0"||v){r.style(p,v);}}else{if(l.$().length){if(v!=="0"&&!v){l.$().css(p,null);}else{l.$().css(p,v);}}else{if(l.getParent()){if(v!=="0"&&!v){l.getParent().$().css(p,null);}else{l.getParent().$().css(p,v);}}}}};return a;},true);
sap.ui.predefine('sap/m/FlexItemData',['./FlexBoxStylingHelper','./library','sap/ui/core/LayoutData'],function(F,l,L){"use strict";var B=l.BackgroundDesign;var a=l.FlexAlignSelf;var b=L.extend("sap.m.FlexItemData",{metadata:{library:"sap.m",properties:{alignSelf:{type:"sap.m.FlexAlignSelf",group:"Misc",defaultValue:a.Auto},order:{type:"int",group:"Misc",defaultValue:0},growFactor:{type:"float",group:"Misc",defaultValue:0},shrinkFactor:{type:"float",group:"Misc",defaultValue:1},baseSize:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"auto"},minHeight:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'auto'},maxHeight:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:''},minWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'auto'},maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:''},styleClass:{type:"string",group:"Misc",defaultValue:''},backgroundDesign:{type:"sap.m.BackgroundDesign",group:"Appearance",defaultValue:B.Transparent}}}});b.prototype.setAlignSelf=function(v){var o=this.getAlignSelf();this.setProperty("alignSelf",v,true);this.$().removeClass("sapMFlexItemAlign"+o).addClass("sapMFlexItemAlign"+this.getAlignSelf());return this;};b.prototype.setOrder=function(v){this.setProperty("order",v,true);F.setStyle(null,this,"order",this.getOrder());return this;};b.prototype.setGrowFactor=function(v){this.setProperty("growFactor",v,true);F.setStyle(null,this,"flex-grow",this.getGrowFactor());return this;};b.prototype.setShrinkFactor=function(v){this.setProperty("shrinkFactor",v,true);F.setStyle(null,this,"flex-shrink",this.getShrinkFactor());return this;};b.prototype.setBaseSize=function(v){this.setProperty("baseSize",v,true);F.setStyle(null,this,"flex-basis",this.getBaseSize());return this;};b.prototype.setMinHeight=function(v){this.setProperty("minHeight",v,true);this.$().css("min-height",this.getMinHeight());return this;};b.prototype.setMaxHeight=function(v){this.setProperty("maxHeight",v,true);this.$().css("max-height",this.getMaxHeight());return this;};b.prototype.setMinWidth=function(v){this.setProperty("minWidth",v,true);this.$().css("min-width",this.getMinWidth());return this;};b.prototype.setMaxWidth=function(v){this.setProperty("maxWidth",v,true);this.$().css("max-width",this.getMaxWidth());return this;};b.prototype.setBackgroundDesign=function(v){var o=this.getBackgroundDesign();this.setProperty("backgroundDesign",v,true);this.$().removeClass("sapMFlexBoxBG"+o).addClass("sapMFlexBoxBG"+this.getBackgroundDesign());return this;};b.prototype.setStyleClass=function(v){var o=this.getStyleClass();this.setProperty("styleClass",v,true);this.$().removeClass(o).addClass(this.getStyleClass());return this;};b.prototype.getDomRef=function(s){var p,i=L.prototype.getDomRef.call(this,s);if(i){return i;}p=this.getParent();if(!p){return null;}return p.getDomRef(s);};return b;});
sap.ui.predefine('sap/m/FormattedText',['./library','sap/ui/core/library','sap/ui/core/Control','./FormattedTextAnchorGenerator','./FormattedTextRenderer',"sap/base/Log","sap/base/security/URLListValidator","sap/base/security/sanitizeHTML"],function(l,c,C,F,a,L,U,s){"use strict";var b=l.LinkConversion,T=c.TextDirection,d=c.TextAlign;var e=C.extend("sap.m.FormattedText",{metadata:{library:"sap.m",properties:{htmlText:{type:"string",group:"Misc",defaultValue:""},width:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:null},convertLinksToAnchorTags:{type:"sap.m.LinkConversion",group:"Behavior",defaultValue:b.None},convertedLinksDefaultTarget:{type:"string",group:"Behavior",defaultValue:"_blank"},height:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:null},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:T.Inherit},textAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:d.Begin}},aggregations:{controls:{type:"sap.m.Link",multiple:true,singularName:"control"}}}});var _={ATTRIBS:{'style':1,'class':1,'a::href':1,'a::target':1,'dir':1},ELEMENTS:{'a':{cssClass:'sapMLnk'},'abbr':1,'bdi':1,'blockquote':1,'br':1,'cite':1,'code':1,'em':1,'h1':{cssClass:'sapMTitle sapMTitleStyleH1'},'h2':{cssClass:'sapMTitle sapMTitleStyleH2'},'h3':{cssClass:'sapMTitle sapMTitleStyleH3'},'h4':{cssClass:'sapMTitle sapMTitleStyleH4'},'h5':{cssClass:'sapMTitle sapMTitleStyleH5'},'h6':{cssClass:'sapMTitle sapMTitleStyleH6'},'p':1,'pre':1,'strong':1,'span':1,'u':1,'dl':1,'dt':1,'dd':1,'ol':1,'ul':1,'li':1}},f={ATTRIBS:{'a::href':1,'a::target':1},ELEMENTS:{'a':{cssClass:'sapMLnk'},'br':1,'em':1,'strong':1,'u':1}};e.prototype._renderingRules=_;e.prototype.init=function(){};function S(t,h){var w;var j,v,k=t==="a";var m=this._renderingRules.ELEMENTS[t].cssClass||"";for(var i=0;i<h.length;i+=2){j=h[i];v=h[i+1];if(!this._renderingRules.ATTRIBS[j]&&!this._renderingRules.ATTRIBS[t+"::"+j]){w='FormattedText: <'+t+'> with attribute ['+j+'="'+v+'"] is not allowed';L.warning(w,this);h[i+1]=null;continue;}if(j=="href"){if(!U.validate(v)){L.warning("FormattedText: incorrect href attribute:"+v,this);h[i+1]="#";k=false;}}if(j=="target"){k=false;}if(m&&j.toLowerCase()=="class"){h[i+1]=m+" "+v;m="";}}if(k){h.push("target");h.push("_blank");}if(m){h.push("class");h.push(m);}return h;}function p(t,h){if(this._renderingRules.ELEMENTS[t]){return S.call(this,t,h);}else{var w='<'+t+'> is not allowed';L.warning(w,this);}}function g(t){return s(t,{tagPolicy:p.bind(this),uriRewriter:function(u){if(U.validate(u)){return u;}}});}function o(E){var n=window.open();n.opener=null;n.location=E.currentTarget.href;E.preventDefault();}e.prototype.onAfterRendering=function(){this.$().find('a[target="_blank"]').on("click",o);};e.prototype.onBeforeRendering=function(){this.$().find('a[target="_blank"]').off("click",o);};e.prototype._getDisplayHtml=function(){var t=this.getHtmlText(),A=this.getConvertLinksToAnchorTags();if(A===l.LinkConversion.None){return t;}t=F.generateAnchors(t,A,this.getConvertedLinksDefaultTarget());return g.call(this,t);};e.prototype.setHtmlText=function(t){return this.setProperty("htmlText",g.call(this,t));};e.prototype._setUseLimitedRenderingRules=function(h){this._renderingRules=h?f:_;};return e;});
sap.ui.predefine('sap/m/FormattedTextAnchorGenerator',["sap/ui/base/Object","sap/m/library","sap/base/security/URLListValidator"],function(B,l,U){"use strict";var L=l.LinkConversion;var A=B.extend("sap.m.FormattedTextAnchorGenerator",{getInterface:function(){return this;}});var c=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;()$]*[-A-Z0-9+&@#\/%=~_|])/gim;var W=/(www\.[^\s><]+(\b|$))/gim;var d="//";var D=/<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+(?!\/\s\*)>/gim;var E=/<a[^>]*>([^<]+)<\/a>/gim;var e=[D,E];A.generateAnchors=function(t,s,T){if(s===L.ProtocolOnly){t=A._createAnchors(t,c,T);}if(s===L.All){t=A._createAnchors(t,c,T);t=A._createAnchors(t,W,T,d);}return t;};A._createPositionObject=function(i,a){return{iStartPos:i,iEndPos:i+a};};A._isNested=function(f,s){return f.iStartPos<s.iStartPos&&f.iEndPos>s.iEndPos;};A._isAllowed=function(a,C){return a.some(function(o){return A._isNested(o,C);});};A._shouldBeProcessed=function(u,C,a){return U.validate(u)&&!A._isAllowed(a,C);};A._scanForEntitiesToSkip=function(r,t){var a=[],C;while((C=r.exec(t))!==null){a.push(A._createPositionObject(C.index,C[0].length));}return a;};A._getEntitiesToSkipWhileSearchingForLinks=function(t){return e.map(function(s){return A._scanForEntitiesToSkip(s,t);}).reduce(function(a,b){return a.concat(b);});};A._createAnchors=function(t,r,T,p){var a=A._getEntitiesToSkipWhileSearchingForLinks(t),C;p=p||'';C=function(P){var o=A._createPositionObject(arguments[3],P.length);if(!A._shouldBeProcessed(P,o,a)){return P;}return"<a href=\""+p+P+"\" target=\""+T+"\">"+P+"</a>";};return t.replace(r,C);};return A;});
sap.ui.predefine('sap/m/FormattedTextRenderer',["sap/base/Log","sap/ui/core/library"],function(L,c){"use strict";var F={apiVersion:2};var T=c.TextDirection;var a=c.TextAlign;F.render=function(r,C){var w=C.getWidth(),h=C.getHeight(),t=C.getTextDirection(),s=C.getTextAlign(),b=C.getAggregation("controls"),d=C._getDisplayHtml(),R=[],n='',S=0;r.openStart("div",C);r.class("sapMFT");if(w){r.class("sapMFTOverflowWidth");}if(h){r.class("sapMFTOverflowHeight");}if(t!==T.Inherit){r.attr("dir",t.toLowerCase());}if(s&&s!=a.Initial){r.style("text-align",s.toLowerCase());}if(C.getTooltip_AsString()){r.attr("title",C.getTooltip_AsString());}r.style("width",w||null);r.style("height",h||null);r.openEnd();while(d!==''&&d!==n){n=d.replace(/(?:\%\%(\d+))/,_);}if(d!==''){try{r.unsafeHtml(d);}catch(e){r.text(d);}}r.close("div");function _(m,i,p){var M=m.length;try{r.unsafeHtml(d.substr(0,p));}catch(e){r.text(d.substr(0,p));}S+=p;if(b&&b[i]!==undefined){if(R[i]===undefined){r.renderControl(b[i]);R[i]=S;}else{L.error("Control with index '"+i+"' ("+m+", htmlText@"+S+") is already rendered (htmlText@"+R[i]+")!",'sap.m.FormattedText:',C.getId());}}else{r.text(m);L.error("Missing control for placeholder '"+m+"' (htmlText@"+S+")!",'sap.m.FormattedText:',C.getId());}d=d.substr(p+M);S+=M;}};return F;},true);
sap.ui.predefine('sap/m/GenericTile',['./library','sap/ui/core/Control','sap/m/Text','sap/ui/core/HTML','sap/ui/core/Icon','sap/ui/core/IconPool','sap/m/Button','sap/m/GenericTileRenderer','sap/m/GenericTileLineModeRenderer','sap/ui/Device','sap/ui/core/ResizeHandler',"sap/base/strings/camelize","sap/base/util/deepEqual","sap/ui/events/PseudoEvents","sap/ui/thirdparty/jquery"],function(l,C,T,H,I,a,B,G,L,D,R,c,d,P,q){"use strict";var b=l.GenericTileScope,e=l.LoadState,F=l.FrameType,S=l.Size,f=l.GenericTileMode,g=l.TileSizeBehavior,W=l.WrappingType;var h="GenericTileDeviceSet";var j={};var m=C.extend("sap.m.GenericTile",{metadata:{library:"sap.m",properties:{mode:{type:"sap.m.GenericTileMode",group:"Appearance",defaultValue:f.ContentMode},header:{type:"string",group:"Appearance",defaultValue:null},subheader:{type:"string",group:"Appearance",defaultValue:null},failedText:{type:"string",group:"Appearance",defaultValue:null},size:{type:"sap.m.Size",group:"Misc",defaultValue:S.Auto},frameType:{type:"sap.m.FrameType",group:"Misc",defaultValue:F.OneByOne},backgroundImage:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},headerImage:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},state:{type:"sap.m.LoadState",group:"Misc",defaultValue:e.Loaded},imageDescription:{type:"string",group:"Accessibility",defaultValue:null},scope:{type:"sap.m.GenericTileScope",group:"Misc",defaultValue:b.Display},sizeBehavior:{type:"sap.m.TileSizeBehavior",defaultValue:g.Responsive},ariaLabel:{type:"string",group:"Accessibility",defaultValue:null},ariaRole:{type:"string",group:"Accessibility",defaultValue:null},ariaRoleDescription:{type:"string",group:"Accessibility",defaultValue:null},url:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},wrappingType:{type:"sap.m.WrappingType",group:"Appearance",defaultValue:W.Normal},width:{type:"sap.ui.core.CSSSize",group:"Appearance"},additionalTooltip:{type:"string",group:"Accessibility",defaultValue:null}},defaultAggregation:"tileContent",aggregations:{tileContent:{type:"sap.m.TileContent",multiple:true,bindable:"bindable"},icon:{type:"sap.ui.core.Control",multiple:false},_titleText:{type:"sap.m.Text",multiple:false,visibility:"hidden"},_failedMessageText:{type:"sap.m.Text",multiple:false,visibility:"hidden"}},events:{press:{parameters:{scope:{type:"sap.m.GenericTileScope"},action:{type:"string"},domRef:{type:"any"}}}}},renderer:function(r,o){if(o.getMode()===l.GenericTileMode.LineMode){L.render(r,o);}else{G.render(r,o);}}});m._Action={Press:"Press",Remove:"Remove"};m.LINEMODE_SIBLING_PROPERTIES=["state","subheader","header","scope"];m.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");if(!D.media.hasRangeSet(h)){D.media.initRangeSet(h,[450],"px",["small","large"]);}this._oTitle=new T(this.getId()+"-title");this._oTitle.addStyleClass("sapMGTTitle");this._oTitle.cacheLineHeight=false;this.setAggregation("_titleText",this._oTitle,true);this._oSubTitle=new T(this.getId()+"-subTitle");this._oSubTitle.cacheLineHeight=false;this.addDependent(this._oSubTitle);this._sFailedToLoad=this._oRb.getText("INFOTILE_CANNOT_LOAD_TILE");this._sLoading=this._oRb.getText("INFOTILE_LOADING");this._oFailedText=new T(this.getId()+"-failed-txt",{maxLines:2});this._oFailedText.cacheLineHeight=false;this._oFailedText.addStyleClass("sapMGTFailed");this.setAggregation("_failedMessageText",this._oFailedText,true);this._oWarningIcon=new I(this.getId()+"-warn-icon",{src:"sap-icon://notification",size:"1.375rem"});this._oWarningIcon.addStyleClass("sapMGTFtrFldIcnMrk");this._oBusy=new H(this.getId()+"-overlay");this._oBusy.setBusyIndicatorDelay(0);this._bTilePress=true;this._bThemeApplied=true;if(!sap.ui.getCore().isInitialized()){this._bThemeApplied=false;sap.ui.getCore().attachInit(this._handleCoreInitialized.bind(this));}else{this._handleCoreInitialized();}};m.prototype.setWrappingType=function(w){this.setProperty("wrappingType",w,true);this._oTitle.setWrappingType(w);this._oFailedText.setWrappingType(w);this._oSubTitle.setWrappingType(w);return this;};m.prototype.setSubheader=function(s){this.setProperty("subheader",s);this._oSubTitle.setText(s);return this;};m.prototype._handleCoreInitialized=function(){this._bThemeApplied=sap.ui.getCore().isThemeApplied();if(!this._bThemeApplied){sap.ui.getCore().attachThemeChanged(this._handleThemeApplied,this);}};m.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this._oTitle.clampHeight();sap.ui.getCore().detachThemeChanged(this._handleThemeApplied,this);};m.prototype._initScopeContent=function(t){if(!this.getState||this.getState()!==l.LoadState.Disabled){this._oMoreIcon=this._oMoreIcon||a.createControlByURI({id:this.getId()+"-action-more",size:"1rem",useIconTooltip:false,src:"sap-icon://overflow"}).addStyleClass("sapMPointer").addStyleClass(t+"MoreIcon");this._oRemoveButton=this._oRemoveButton||new B({id:this.getId()+"-action-remove",icon:"sap-icon://decline",tooltip:this._oRb.getText("GENERICTILE_REMOVEBUTTON_TEXT")}).addStyleClass("sapUiSizeCompact").addStyleClass(t+"RemoveButton");this._oRemoveButton._bExcludeFromTabChain=true;switch(this.getScope()){case l.GenericTileScope.Actions:this._oMoreIcon.setVisible(true);this._oRemoveButton.setVisible(true);break;case l.GenericTileScope.ActionMore:this._oMoreIcon.setVisible(true);this._oRemoveButton.setVisible(false);break;case l.GenericTileScope.ActionRemove:this._oRemoveButton.setVisible(true);this._oMoreIcon.setVisible(false);break;default:}}};m.prototype._isSmall=function(){return this.getSizeBehavior()===g.Small||window.matchMedia("(max-width: 374px)").matches;};m.prototype.exit=function(){if(this._sParentResizeListenerId){R.deregister(this._sResizeListenerId);this._sParentResizeListenerId=null;}D.media.detachHandler(this._handleMediaChange,this,h);if(this._$RootNode){this._$RootNode.off(this._getAnimationEvents());this._$RootNode=null;}this._clearAnimationUpdateQueue();this._oWarningIcon.destroy();if(this._oImage){this._oImage.destroy();}this._oBusy.destroy();if(this._oMoreIcon){this._oMoreIcon.destroy();}if(this._oRemoveButton){this._oRemoveButton.destroy();}};m.prototype.onBeforeRendering=function(){var s=!!this.getSubheader();if(this.getMode()===l.GenericTileMode.HeaderMode){this._applyHeaderMode(s);}else{this._applyContentMode(s);}var t=this.getTileContent().length;for(var i=0;i<t;i++){this.getTileContent()[i].setProperty("disabled",this.getState()===l.LoadState.Disabled,true);}this._initScopeContent("sapMGT");this._generateFailedText();this.$().off("mouseenter");this.$().off("mouseleave");if(this._sParentResizeListenerId){R.deregister(this._sResizeListenerId);this._sParentResizeListenerId=null;}D.media.detachHandler(this._handleMediaChange,this,h);if(this._$RootNode){this._$RootNode.off(this._getAnimationEvents());}if(this.getFrameType()===l.FrameType.Auto){this.setProperty("frameType",l.FrameType.OneByOne,true);}};m.prototype.onAfterRendering=function(){this._setupResizeClassHandler();this.$().on("mouseenter",this._updateAriaAndTitle.bind(this));this.$().on("mouseleave",this._removeTooltipFromControl.bind(this));var M=this.getMode();var s=this._isScreenLarge();if(M===l.GenericTileMode.LineMode){var p=this.$().parent();if(s){this._updateHoverStyle(true);if(this.getParent()instanceof C){this._sParentResizeListenerId=R.register(this.getParent(),this._handleResize.bind(this));}else{this._sParentResizeListenerId=R.register(p,this._handleResize.bind(this));}}}if(M===l.GenericTileMode.LineMode&&this._bUpdateLineTileSiblings){this._updateLineTileSiblings();this._bUpdateLineTileSiblings=false;}if(M===l.GenericTileMode.LineMode){D.media.attachHandler(this._handleMediaChange,this,h);}this.onDragComplete();};m.prototype.onDragComplete=function(){if(this.hasStyleClass("sapMGTPressActive")){this.removeStyleClass("sapMGTPressActive");if(this.$("hover-overlay").length>0){this.$("hover-overlay").removeClass("sapMGTPressActive");}if(this.getMode()===l.GenericTileMode.LineMode){this.removeStyleClass("sapMGTLineModePress");}}};m.prototype._handleResize=function(){if(this.getMode()===l.GenericTileMode.LineMode&&this._isScreenLarge()&&this.getParent()){this._queueAnimationEnd();}};m.prototype._setupResizeClassHandler=function(){var i=function(){if(this.getSizeBehavior()===g.Small||window.matchMedia("(max-width: 374px)").matches){this.$().addClass("sapMTileSmallPhone");}else{this.$().removeClass("sapMTileSmallPhone");}}.bind(this);q(window).on("resize",i);i();};m.prototype._isCompact=function(){return q("body").hasClass("sapUiSizeCompact")||this.$().is(".sapUiSizeCompact")||this.$().closest(".sapUiSizeCompact").length>0;};m.prototype._calculateStyleData=function(){this.$("lineBreak").remove();if(!this._isScreenLarge()||!this.getDomRef()||this.$().is(":hidden")){return null;}var $=this.$(),E=this.$("endMarker"),s=this.$("startMarker");if(E.length===0||s.length===0){return null;}var k=this._getLineCount(),n,o,p=Math.ceil(L._getCSSPixelValue(this,"margin-top")),r,A=this.$().parent().innerWidth(),t=Math.ceil(L._getCSSPixelValue(this,"min-height")),u=L._getCSSPixelValue(this,"line-height"),v=this.$().is(":not(:first-child)")&&k>1,w=q("<span><br></span>"),i=0,x=sap.ui.getCore().getConfiguration().getRTL(),y=E.position();if(v){w.attr("id",this.getId()+"-lineBreak");$.prepend(w);k=this._getLineCount();y=E.position();}var z={rtl:x,lineBreak:v,startOffset:s.offset(),endOffset:E.offset(),availableWidth:A,lines:[]};var J;if(D.browser.msie||D.browser.edge){J=w.find("br").position();}else{J=w.position();}var K=J;if(!(D.browser.mozilla||D.browser.msie||D.browser.edge)&&J.left<y.left){K=y;}z.positionLeft=v?J.left:$.position().left;z.positionRight=v?$.width()-K.left:z.availableWidth-$.position().left;if(!v&&k>1){z.positionRight=s.parent().innerWidth()-(s.position().left+s.width());}for(i;i<k;i++){if(v&&i===0){continue;}if(k===1){n=x?z.availableWidth-z.positionLeft:z.positionLeft;r=$.width();}else if(i===k-1){n=0;r=x?$.width()-y.left:y.left;}else if(v&&i===1){n=0;r=A;}else{n=0;r=A;}o=i*u+p;z.lines.push({offset:{x:n,y:o},width:r,height:t});}return z;};m.prototype._getStyleData=function(){var s=this._calculateStyleData();if(!d(this._oStyleData,s)){delete this._oStyleData;this._oStyleData=s;return true;}return false;};m.prototype._getAnimationEvents=function(){return"transitionend.sapMGT$id animationend.sapMGT$id".replace(/\$id/g,c(this.getId()));};m.prototype._updateHoverStyle=function(i){if(!this._getStyleData()&&!i){return;}this._clearAnimationUpdateQueue();this._cHoverStyleUpdates=-1;this._oAnimationEndCallIds={};if(this._oStyleData&&this._oStyleData.lineBreak&&this.getUIArea()){this._$RootNode=q(this.getUIArea().getRootNode());this._$RootNode.on(this._getAnimationEvents(),this._queueAnimationEnd.bind(this));}this._queueAnimationEnd();};m.prototype._queueAnimationEnd=function(E){if(E){var t=q(E.target);if(t.is(".sapMGT, .sapMGT *")){return false;}}if(typeof this._cHoverStyleUpdates!=="number"){this._cHoverStyleUpdates=-1;}if(!this._oAnimationEndCallIds){this._oAnimationEndCallIds={};}this._cHoverStyleUpdates++;this._oAnimationEndCallIds[this._cHoverStyleUpdates]=setTimeout(this._handleAnimationEnd.bind(this,this._cHoverStyleUpdates),10);};m.prototype._handleAnimationEnd=function(i){delete this._oAnimationEndCallIds[i];if(this._cHoverStyleUpdates===i){this._getStyleData();L._updateHoverStyle.call(this);}};m.prototype._clearAnimationUpdateQueue=function(){for(var k in this._oAnimationEndCallIds){clearTimeout(this._oAnimationEndCallIds[k]);delete this._oAnimationEndCallIds[k];}};m.prototype._getLineCount=function(){var o=this.getDomRef().getBoundingClientRect(),i=L._getCSSPixelValue(this,"line-height");return Math.round(o.height/i);};m.prototype.getBoundingRects=function(){var p=this.$().offset();return[{offset:{x:p.left,y:p.top},width:this.$().outerWidth(),height:this.$().height()}];};m.prototype._updateLineTileSiblings=function(){var p=this.getParent();if(this.getMode()===l.GenericTileMode.LineMode&&this._isScreenLarge()&&p){var i=p.indexOfAggregation(this.sParentAggregationName,this);var s=p.getAggregation(this.sParentAggregationName).splice(i+1);for(i=0;i<s.length;i++){var o=s[i];if(o instanceof l.GenericTile&&o.getMode()===l.GenericTileMode.LineMode){o._updateHoverStyle();}}}};m.prototype.ontouchstart=function(){this.addStyleClass("sapMGTPressActive");if(this.$("hover-overlay").length>0){this.$("hover-overlay").addClass("sapMGTPressActive");}if(this.getMode()===l.GenericTileMode.LineMode){this.addStyleClass("sapMGTLineModePress");}};m.prototype.ontouchcancel=function(){this.removeStyleClass("sapMGTPressActive");if(this.$("hover-overlay").length>0){this.$("hover-overlay").removeClass("sapMGTPressActive");}};m.prototype.ontouchend=function(){this.removeStyleClass("sapMGTPressActive");if(this.$("hover-overlay").length>0){this.$("hover-overlay").removeClass("sapMGTPressActive");}if(this.getMode()===l.GenericTileMode.LineMode){this.removeStyleClass("sapMGTLineModePress");}};m.prototype.ontap=function(i){var p;if(this._bTilePress&&this.getState()!==l.LoadState.Disabled){this.$().trigger("focus");p=this._getEventParams(i);if(!(this.isInActionRemoveScope()&&p.action===m._Action.Press)){this.firePress(p);}i.preventDefault();}};m.prototype.onkeydown=function(i){var k=j[i.keyCode];if(!k){j[i.keyCode]=true;if(j[32]||j[13]){i.preventDefault();}}if(P.events.sapselect.fnCheck(i)&&this.getState()!==l.LoadState.Disabled){this.addStyleClass("sapMGTPressActive");if(this.$("hover-overlay").length>0){this.$("hover-overlay").addClass("sapMGTPressActive");}i.preventDefault();}};m.prototype._updateAriaLabel=function(){var A=this._getAriaText(),t=this.$(),i=false;if(t.attr("aria-label")!==A){t.attr("aria-label",A);i=true;}return i;};m.prototype.onkeyup=function(i){var k=j[i.keyCode];if(k){delete j[i.keyCode];}var p,n=false,s=this.getScope(),A=s===l.GenericTileScope.Actions||s===l.GenericTileScope.ActionRemove;if(A&&(P.events.sapdelete.fnCheck(i)||P.events.sapbackspace.fnCheck(i))){p={scope:s,action:m._Action.Remove,domRef:this._oRemoveButton.getPopupAnchorDomRef()};n=true;}if(P.events.sapselect.fnCheck(i)&&this.getState()!==l.LoadState.Disabled){this.removeStyleClass("sapMGTPressActive");if(this.$("hover-overlay").length>0){this.$("hover-overlay").removeClass("sapMGTPressActive");}p=this._getEventParams(i);n=true;}if(n){this.firePress(p);i.preventDefault();}this._updateAriaLabel();};m.prototype.setProperty=function(p){C.prototype.setProperty.apply(this,arguments);if(this.getMode()===l.GenericTileMode.LineMode&&m.LINEMODE_SIBLING_PROPERTIES.indexOf(p)!==-1){this._bUpdateLineTileSiblings=true;}return this;};m.prototype.getHeader=function(){return this._oTitle.getText();};m.prototype.setHeader=function(t){this.setProperty("header",t);this._oTitle.setText(t);return this;};m.prototype.setHeaderImage=function(u){var v=!d(this.getHeaderImage(),u);if(v){if(this._oImage){this._oImage.destroy();this._oImage=undefined;}if(u){this._oImage=a.createControlByURI({id:this.getId()+"-icon-image",src:u},l.Image);this._oImage.addStyleClass("sapMGTHdrIconImage");}}return this.setProperty("headerImage",u);};m.prototype._applyHeaderMode=function(s){var i=this.getFrameType();if(i===F.OneByHalf||i===F.TwoByHalf){this._oTitle.setProperty("maxLines",2,true);}else{if(s){this._oTitle.setProperty("maxLines",4,true);}else{this._oTitle.setProperty("maxLines",5,true);}}this._changeTileContentContentVisibility(false);};m.prototype._applyContentMode=function(s){var k=this.getFrameType();var t=this.getTileContent();var n=false;if(k===F.TwoByHalf||k===F.OneByHalf){if(t.length){for(var i=0;i<t.length;i++){var o=t[i].getAggregation('content');if(o!==null){if((k===F.OneByHalf&&o.getMetadata()._sClassName==="sap.m.ImageContent")){n=true;this._oTitle.setProperty("maxLines",2,true);break;}else{this._oTitle.setProperty("maxLines",1,true);break;}}this._oTitle.setProperty("maxLines",2,true);}}else{this._oTitle.setProperty("maxLines",2,true);}}else if(s){this._oTitle.setProperty("maxLines",2,true);}else{this._oTitle.setProperty("maxLines",3,true);}this._changeTileContentContentVisibility(true,k,n);};m.prototype._changeTileContentContentVisibility=function(v,k,n){var t;t=this.getTileContent();for(var i=0;i<t.length;i++){if(k==F.OneByHalf&&n){t[i].setRenderContent(false);}else{t[i].setRenderContent(v);}}};m.prototype._getHeaderAriaAndTooltipText=function(){var t="";var i=true;if(this.getHeader()){t+=this.getHeader();i=false;}if(this.getSubheader()){t+=(i?"":"\n")+this.getSubheader();i=false;}if(this.getImageDescription()){t+=(i?"":"\n")+this.getImageDescription();}return t;};m.prototype._getContentAriaAndTooltipText=function(){var t="";var k=true;var n=this.getTileContent();var A=this.getAdditionalTooltip();if(!this._isInActionScope()&&this.getMode()===l.GenericTileMode.ContentMode){for(var i=0;i<n.length;i++){if(typeof n[i]._getAriaAndTooltipText==="function"){t+=(k?"":"\n")+n[i]._getAriaAndTooltipText();}else if(n[i].getTooltip_AsString()){t+=(k?"":"\n")+n[i].getTooltip_AsString();}k=false;}}if(A){t+=(k?"":"\n")+A;}return t;};m.prototype._getAriaAndTooltipText=function(){var A=(this.getTooltip_AsString()&&!this._isTooltipSuppressed())?this.getTooltip_AsString():(this._getHeaderAriaAndTooltipText()+"\n"+this._getContentAriaAndTooltipText());switch(this.getState()){case l.LoadState.Disabled:return"";case l.LoadState.Loading:return A+"\n"+this._sLoading;case l.LoadState.Failed:return A+"\n"+this._oFailedText.getText();default:if(A.trim().length===0){return"";}else{return A;}}};m.prototype._getAriaText=function(){var A=this.getTooltip_Text();var s=this.getAriaLabel();if(!A||this._isTooltipSuppressed()){A=this._getAriaAndTooltipText();}if(this._isInActionScope()){A=this._oRb.getText("GENERICTILE_ACTIONS_ARIA_TEXT")+" "+A;}if(s){A=s+" "+A;}return A;};m.prototype._getTooltipText=function(){var t=this.getTooltip_Text();if(this._isTooltipSuppressed()===true){t=null;}return t;};m.prototype._checkFooter=function(t,i){var s=i.getState();var A=this._isInActionScope()||this._bShowActionsView===true;var k=this.getFrameType();var n=t.getAggregation('content');if(s===l.LoadState.Failed||A&&s!==l.LoadState.Disabled){t.setRenderFooter(false);}else if(k===F.TwoByHalf&&(n!==null||this.getSubheader())){t.setRenderFooter(false);}else if(k===F.OneByHalf&&((n!==null&&n.getMetadata()._sClassName!=="sap.m.ImageContent")||this.getSubheader())){t.setRenderFooter(false);}else{t.setRenderFooter(true);}};m.prototype._isInActionScope=function(){return this.getScope()===l.GenericTileScope.Actions||this.getScope()===l.GenericTileScope.ActionMore||this.getScope()===l.GenericTileScope.ActionRemove;};m.prototype.isInActionRemoveScope=function(){return this.getScope()===l.GenericTileScope.ActionRemove;};m.prototype._generateFailedText=function(){var s=this.getFailedText();var i=s?s:this._sFailedToLoad;this._oFailedText.setProperty("text",i,true);this._oFailedText.setAggregation("tooltip",i,true);};m.prototype._isTooltipSuppressed=function(){var t=this.getTooltip_Text();if(t&&t.length>0&&t.trim().length===0){return true;}else{return false;}};m.prototype._isHeaderTextTruncated=function(){var o,M,$,w;if(this.getMode()===l.GenericTileMode.LineMode){$=this.$("hdr-text");if($.length>0){w=Math.ceil($[0].getBoundingClientRect().width);return($[0]&&w<$[0].scrollWidth);}else{return false;}}else{o=this.getAggregation("_titleText").getDomRef("inner");M=this.getAggregation("_titleText").getClampHeight(o);return(M<o.scrollHeight);}};m.prototype._isSubheaderTextTruncated=function(){var s;if(this.getMode()===l.GenericTileMode.LineMode){s=this.$("subHdr-text");}else{s=this.$("subTitle");}if(s.length>0){var w=Math.ceil(s[0].getBoundingClientRect().width);return(s[0]&&w<s[0].scrollWidth);}else{return false;}};m.prototype._setTooltipFromControl=function(){var t=this._getAriaAndTooltipText();if(t&&!this._getTooltipText()&&!this._isTooltipSuppressed()){this.$().attr("title",t.trim());this._bTooltipFromControl=true;}};m.prototype._updateAriaAndTitle=function(){var A=this._getAriaAndTooltipText();var s=this._getAriaText();var t=this.$();if(t.attr("title")!==A){t.attr("aria-label",s);}if(this._isInActionScope()){t.find('*:not(.sapMGTRemoveButton)').removeAttr("aria-label").removeAttr("title").off("mouseenter");}else{t.find('*').removeAttr("aria-label").removeAttr("title").off("mouseenter");}this._setTooltipFromControl();};m.prototype._removeTooltipFromControl=function(){if(this._bTooltipFromControl){this.$().removeAttr("title");this._bTooltipFromControl=false;}};m.prototype._isScreenLarge=function(){return this._getCurrentMediaContainerRange(h).name==="large";};m.prototype._getEventParams=function(E){var p,A=m._Action.Press,s=this.getScope(),o=this.getDomRef();if((s===l.GenericTileScope.Actions||l.GenericTileScope.ActionRemove)&&E.target.id.indexOf("-action-remove")>-1){A=m._Action.Remove;o=this._oRemoveButton.getPopupAnchorDomRef();}else if(s===l.GenericTileScope.Actions||s===l.GenericTileScope.ActionMore){o=this._oMoreIcon.getDomRef();}p={scope:s,action:A,domRef:o};return p;};m.prototype._handleMediaChange=function(){this._bUpdateLineTileSiblings=true;this.invalidate();};m.prototype.setPressEnabled=function(v){this._bTilePress=v;};m.prototype.showActionsView=function(v){if(this._bShowActionsView!==v){this._bShowActionsView=v;this.invalidate();}};return m;});
sap.ui.predefine('sap/m/GenericTileLineModeRenderer',["sap/m/library","sap/base/security/encodeCSS","sap/ui/thirdparty/jquery"],function(l,e,q){"use strict";var G=l.GenericTileScope;var L=l.LoadState;var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");var a={apiVersion:2};a.render=function(R,c){var t=c._getTooltipText(),i=c._isScreenLarge(),A=c._getAriaText(),s=c.getScope(),S,I=false,h=c.hasListeners("press"),b=c.getState(),d=c.getAriaRoleDescription(),f=c.getAriaRole();var g=c.getUrl()&&!c._isInActionScope()&&b!==L.Disabled;this._bRTL=sap.ui.getCore().getConfiguration().getRTL();if(s===G.Actions){if(b!==L.Disabled){S=e("sapMGTScopeActions");}}else if(s===G.ActionMore||s===G.ActionRemove){I=true;if(b!==L.Disabled){S=e("sapMGTScopeSingleAction");}}else{S=e("sapMGTScopeDisplay");}if(g){R.openStart("a",c);R.attr("href",c.getUrl());R.attr("rel","noopener noreferrer");R.attr("draggable","false");}else{R.openStart("span",c);}R.attr("aria-label",A);if(d){R.attr("aria-roledescription",d);}else{R.attr("aria-roledescription",r.getText("GENERIC_TILE_ROLE_DESCRIPTION"));}if(f){R.attr("role",f);}else if(!g){R.attr("role",h?"button":"presentation");}else{R.attr("role","link");}R.class("sapMGT");R.class(S);R.class("sapMGTLineMode");this._writeDirection(R);if(t){R.attr("title",t);}if(b!==L.Disabled){if(!c.isInActionRemoveScope()){R.class("sapMPointer");R.style("pointer-events","auto");}R.attr("tabindex","0");}else{R.class("sapMGTDisabled");}if(b===L.Failed){R.class("sapMGTFailed");}R.openEnd();if(c.getState()!==L.Disabled){this._renderFocusDiv(R,c);}if(i){R.openStart("div",c.getId()+"-startMarker");R.class("sapMGTStartMarker");R.openEnd();R.close("div");this._renderFailedIcon(R,c);this._renderHeader(R,c);if(c.getSubheader()){this._renderSubheader(R,c);}R.openStart("div",c.getId()+"-endMarker");R.class("sapMGTEndMarker");R.openEnd();if(c._isInActionScope()){this._renderActionsScope(R,c,I);}R.close("div");R.openStart("div",c.getId()+"-styleHelper");R.class("sapMGTStyleHelper");R.openEnd();R.close("div");}else{R.openStart("div",c.getId()+"-touchArea");R.class("sapMGTTouchArea");R.openEnd();this._renderFailedIcon(R,c);R.openStart("span",c.getId()+"-lineModeHelpContainer");R.class("sapMGTLineModeHelpContainer");R.openEnd();this._renderHeader(R,c);if(c.getSubheader()){this._renderSubheader(R,c);}R.close("span");if(c._isInActionScope()){this._renderActionsScope(R,c,I);}R.close("div");}if(g){R.close("a");}else{R.close("span");}};a._writeDirection=function(R){if(this._bRTL){R.attr("dir","rtl");}};a._renderFailedIcon=function(R,c){if(c.getState()===L.Failed){if(c._isCompact()){c._oWarningIcon.setSize("1.25rem");}else{c._oWarningIcon.setSize("1.375rem");}R.renderControl(c._oWarningIcon.addStyleClass("sapMGTLineModeFailedIcon"));}};a._renderHeader=function(R,c){R.openStart("span",c.getId()+"-hdr-text");this._writeDirection(R);R.class("sapMGTHdrTxt");R.openEnd();R.text(c._oTitle.getText());R.close("span");};a._renderSubheader=function(R,c){R.openStart("span",c.getId()+"-subHdr-text");this._writeDirection(R);R.class("sapMGTSubHdrTxt");R.openEnd();R.text(c._oSubTitle.getText());R.close("span");};a._renderActionsScope=function(R,c,i){if(c.getState()!==L.Disabled){R.openStart("span",c.getId()+"-actions");R.class("sapMGTActionsContainer");if(i){R.class("sapMGTScopeSingleActionContainer");}R.openEnd();R.renderControl(c._oMoreIcon);R.renderControl(c._oRemoveButton);R.close("span");}};a._updateHoverStyle=function(){var s=this.$("styleHelper"),o,i=0,h="";s.empty();if(!this._oStyleData||this.$().is(":hidden")){return;}if(this._oStyleData.rtl){s.css("right",-this._oStyleData.positionRight);}else{s.css("left",-this._oStyleData.positionLeft);}for(i;i<this._oStyleData.lines.length;i++){o=this._oStyleData.lines[i];var R=q("<div class='sapMGTLineStyleHelper'><div class='sapMGTLineStyleHelperInner'></div></div>");if(this._oStyleData.rtl){R.css("right",o.offset.x+"px");}else{R.css("left",o.offset.x+"px");}R.css({top:o.offset.y+"px",width:o.width+"px"});h+=R.get(0).outerHTML.trim();}s.html(h);};a._renderFocusDiv=function(R,c){R.openStart("div",c.getId()+"-focus");R.class("sapMGTFocusDiv");R.openEnd();R.close("div");};a._getCSSPixelValue=function(o,p){var O=o instanceof q?o:o.$(),m=(O.css(p)||"").match(/([^a-zA-Z\%]*)(.*)/),v=parseFloat(m[1]),u=m[2];return(u==="px")?v:v*16;};return a;},true);
sap.ui.predefine('sap/m/GenericTileRenderer',["sap/m/library","sap/base/security/encodeCSS"],function(l,e){"use strict";var G=l.GenericTileMode;var L=l.LoadState;var f=l.FrameType;var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");var a={apiVersion:2};a.render=function(R,c){var t=c._getTooltipText();var A=c._getAriaText();var h=c.getHeaderImage();var H=c.hasListeners("press");var s=c.getState();var S=e("sapMGTState"+s);var b;var d=c.getFrameType();var g=c.getAriaRoleDescription();var j=c.getAriaRole();var k=c.getUrl()&&!c._isInActionScope()&&s!==L.Disabled;if(c._isInActionScope()){b=e("sapMGTScopeActions");}else{b=e("sapMGTScopeDisplay");}if(k){R.openStart("a",c);R.attr("href",c.getUrl());R.attr("rel","noopener noreferrer");R.attr("draggable","false");}else{R.openStart("div",c);}if(t){R.attr("title",t);}R.class("sapMGT");R.class(S);R.class(b);if(!c._isInActionScope()&&c._bShowActionsView){R.class("sapMGTScopeActions");}R.class(d);if(j){R.attr("role",j);}else if(!k){R.attr("role",H?"button":"presentation");}else{R.attr("role","link");}R.attr("aria-label",A);if(g){R.attr("aria-roledescription",g);}else{R.attr("aria-roledescription",r.getText("GENERIC_TILE_ROLE_DESCRIPTION"));}if(s!==L.Disabled){if(!c.isInActionRemoveScope()){R.class("sapMPointer");}R.attr("tabindex","0");}if(c.getWidth()){R.style("width",c.getWidth());}if(c.getBackgroundImage()){R.style("background-image","url('"+e(c.getBackgroundImage())+"')");R.class("sapMGTBackgroundImage");}if(c.getMode()===G.HeaderMode){R.class("sapMGTHeaderMode");}R.openEnd();R.openStart("div");R.class("sapMGTHdrContent");R.class(d);if(t){R.attr("title",t);}R.openEnd();if(h){R.renderControl(c._oImage);}this._renderHeader(R,c);var T=c.getTileContent();var m=T.length;var n=d===f.OneByHalf||d===f.TwoByHalf;var o=false;for(var i=0;i<m;i++){if(T[i].getAggregation("content")!==null){if(d===f.OneByHalf&&T[i].getAggregation("content").getMetadata()._sClassName==="sap.m.ImageContent"){o=false;}else{o=true;break;}}}if(!(n&&o)){if(c.getSubheader()){this._renderSubheader(R,c);}}R.close("div");R.openStart("div",c.getId()+"-content");R.class("sapMGTContent");R.openEnd();for(var i=0;i<m;i++){c._checkFooter(T[i],c);R.renderControl(T[i]);}R.close("div");if(s!==L.Loaded){this._renderStateOverlay(R,c,t);}if(s!==L.Disabled){this._renderHoverOverlay(R,c);this._renderFocusDiv(R,c);}if(c._isInActionScope()){this._renderActionsScope(R,c);}if(k){R.close("a");}else{R.close("div");}};a._renderFocusDiv=function(R,c){R.openStart("div",c.getId()+"-focus");R.class("sapMGTFocusDiv");R.openEnd();R.close("div");};a._renderStateOverlay=function(R,c,t){var s=c.getState();R.openStart("div",c.getId()+"-overlay");R.class("sapMGTOverlay");if(t){R.attr("title",t);}R.openEnd();switch(s){case L.Loading:c._oBusy.setBusy(s==L.Loading);R.renderControl(c._oBusy);break;case L.Failed:R.openStart("div",c.getId()+"-failed-ftr");R.class("sapMGenericTileFtrFld");R.openEnd();R.openStart("div",c.getId()+"-failed-icon");R.class("sapMGenericTileFtrFldIcn");R.openEnd();R.renderControl(c._oWarningIcon);R.close("div");if(!c._isInActionScope()&&!c._bShowActionsView){R.openStart("div",c.getId()+"-failed-text");R.class("sapMGenericTileFtrFldTxt");R.openEnd();R.renderControl(c.getAggregation("_failedMessageText"));R.close("div");}R.close("div");break;default:}R.close("div");};a._renderActionsScope=function(R,c){if(c.getState()!==L.Disabled){R.renderControl(c._oRemoveButton);R.renderControl(c._oMoreIcon);}};a._renderHoverOverlay=function(R,c){R.openStart("div",c.getId()+"-hover-overlay");if(c.getBackgroundImage()){R.class("sapMGTWithImageHoverOverlay");}else{R.class("sapMGTWithoutImageHoverOverlay");}R.openEnd();R.close("div");};a._renderHeader=function(R,c){R.openStart("div",c.getId()+"-hdr-text");R.class("sapMGTHdrTxt");R.openEnd();R.renderControl(c._oTitle);R.close("div");};a._renderSubheader=function(R,c){R.openStart("div",c.getId()+"-subHdr-text");R.class("sapMGTSubHdrTxt");R.openEnd();R.renderControl(c._oSubTitle);R.close("div");};return a;},true);
sap.ui.predefine('sap/m/GroupHeaderListItem',["sap/ui/core/library","./library","./ListItemBase","./GroupHeaderListItemRenderer"],function(c,l,L,G){"use strict";var a=l.ListMode;var T=c.TextDirection;var b=L.extend("sap.m.GroupHeaderListItem",{metadata:{library:"sap.m",properties:{title:{type:"string",group:"Data",defaultValue:null},count:{type:"string",group:"Data",defaultValue:null},upperCase:{type:"boolean",group:"Appearance",defaultValue:false},titleTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:T.Inherit}}}});b.prototype.getMode=function(){return a.None;};b.prototype.shouldClearLastValue=function(){return true;};b.prototype.getTable=function(){var p=this.getParent();if(p&&p.isA("sap.m.Table")){return p;}};b.prototype.onBeforeRendering=function(){var t=this.getTable();if(t){t.getColumns().forEach(function(C){C.clearLastValue();});this.TagName="tr";}};b.prototype.getAccessibilityType=function(B){var t=this.getTable()?"ROW":"OPTION";return B.getText("LIST_ITEM_GROUP_HEADER")+" "+B.getText("ACC_CTR_TYPE_"+t);};b.prototype.getContentAnnouncement=function(){return this.getTitle();};b.prototype.getGroupAnnouncement=function(){};return b;});
sap.ui.predefine('sap/m/GroupHeaderListItemRenderer',["sap/ui/core/library","sap/ui/core/Renderer","./ListItemBaseRenderer","./ColumnListItemRenderer"],function(c,R,L,C){"use strict";var T=c.TextDirection;var G=R.extend(L);G.apiVersion=2;G.renderType=function(r,l){var b=l.getTable()?C:L;b.renderType.apply(this,arguments);};G.renderNavigated=function(r,l){var b=l.getTable()?C:L;b.renderNavigated.apply(this,arguments);};G.renderContentLatter=C.renderContentLatter;G.renderCounter=function(r,l){};G.renderLIAttributes=function(r,l){r.class("sapMGHLI");if(l.getUpperCase()){r.class("sapMGHLIUpperCase");}};G.renderLIContentWrapper=function(r,l){var t=l.getTable();if(t){r.openStart("td");r.class("sapMGHLICell");r.attr("colspan",t.getColSpan());r.openEnd();}L.renderLIContentWrapper.apply(this,arguments);if(t){r.close("td");}};G.renderLIContent=function(r,l){var t=l.getTitleTextDirection();r.openStart("span");r.class("sapMGHLITitle");if(t!=T.Inherit){r.attr("dir",t.toLowerCase());}r.openEnd();r.text(l.getTitle());r.close("span");var i=l.getCount()||l.getCounter();if(i){r.openStart("span");r.class("sapMGHLICounter");r.openEnd();r.text(" ("+i+")");r.close("span");}};G.addLegacyOutlineClass=function(r,l){var b=l.getTable()?C:L;b.addLegacyOutlineClass.apply(this,arguments);};G.getAriaRole=function(l){if(l.getTable()){return"row";}return L.getAriaRole.apply(this,arguments);};return G;},true);
sap.ui.predefine('sap/m/GrowingEnablement',['sap/ui/base/Object','sap/ui/core/format/NumberFormat','sap/m/library','sap/ui/model/ChangeReason','sap/ui/base/ManagedObjectMetadata','sap/ui/core/HTML','sap/m/CustomListItem',"sap/base/security/encodeXML"],function(B,N,l,C,M,H,a,e){"use strict";var L=l.ListType;var b=l.ListGrowingDirection;var G=B.extend("sap.m.GrowingEnablement",{constructor:function(c){B.apply(this);this._oControl=c;this._oControl.bUseExtendedChangeDetection=true;this._oControl.addDelegate(this);var r=this._oControl.getItems(true).length;this._iRenderedDataItems=r;this._iLimit=r;this._bLoading=false;this._sGroupingPath="";this._bDataRequested=false;this._oContainerDomRef=null;this._iLastItemsCount=0;this._iTriggerTimer=0;this._aChunk=[];this._oRM=null;},destroy:function(){if(this._oTrigger){this._oTrigger.destroy();this._oTrigger=null;}if(this._oScrollDelegate){this._oScrollDelegate.setGrowingList(null);this._oScrollDelegate=null;}if(this._oRM){this._oRM.destroy();this._oRM=null;}this._oControl.$("triggerList").remove();this._oControl.bUseExtendedChangeDetection=false;this._oControl.removeDelegate(this);this._oContainerDomRef=null;this._oControl=null;},render:function(r){r.openStart("div",this._oControl.getId()+"-triggerList");r.class("sapMListUl").class("sapMGrowingList");r.style("display","none");r.openEnd();r.renderControl(this._getTrigger());r.close("div");},onAfterRendering:function(){var c=this._oControl;if(c.getGrowingScrollToLoad()){var s=l.getScrollDelegate(c);if(s){this._oScrollDelegate=s;s.setGrowingList(this.onScrollToLoad.bind(this),c.getGrowingDirection(),this._updateTrigger.bind(this,false));}}else if(this._oScrollDelegate){this._oScrollDelegate.setGrowingList(null);this._oScrollDelegate=null;}if(!this._bLoading){this._updateTriggerDelayed(false);}},setTriggerText:function(t){this._oControl.$("triggerText").text(t);},reset:function(){this._iLimit=0;var o=this._oControl.getBindingInfo("items");this._oControl.oExtendedChangeDetectionConfig=(!o||!o.template)?null:{replace:true};},shouldReset:function(c){var m=C;return c==m.Sort||c==m.Filter||c==m.Context;},getInfo:function(){return{total:this._oControl.getMaxItemsCount(),actual:this._iRenderedDataItems};},onScrollToLoad:function(){var t=this._oControl.getDomRef("triggerList");if(this._bLoading||!t||t.style.display!="none"){return;}if(this._oControl.getGrowingDirection()==b.Upwards){var s=this._oScrollDelegate;this._oScrollPosition={left:s.getScrollLeft(),top:s.getScrollHeight()};}this.requestNewPage();},requestNewPage:function(){if(!this._oControl||this._bLoading){return;}var o=this._oControl.getBinding("items");if(o&&!o.isLengthFinal()||this._iLimit<this._oControl.getMaxItemsCount()){if(this._oControl.getMetadata().hasProperty("enableBusyIndicator")){this._bParentEnableBusyIndicator=this._oControl.getEnableBusyIndicator();this._oControl.setEnableBusyIndicator(false);}this._iLimit+=this._oControl.getGrowingThreshold();this._updateTriggerDelayed(true);this.updateItems("Growing");}},_onBeforePageLoaded:function(c){this._bLoading=true;this._oControl.onBeforePageLoaded(this.getInfo(),c);},_onAfterPageLoaded:function(c){this._bLoading=false;this._updateTriggerDelayed(false);this._oControl.onAfterPageLoaded(this.getInfo(),c);if(this._oControl.setEnableBusyIndicator){this._oControl.setEnableBusyIndicator(this._bParentEnableBusyIndicator);}},_getTrigger:function(){var t=this._oControl.getId()+"-trigger",T=this._oControl.getGrowingTriggerText();T=T||sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("LOAD_MORE_DATA");this._oControl.addNavSection(t);if(this._oTrigger){this.setTriggerText(T);return this._oTrigger;}this._oTrigger=new a({id:t,busyIndicatorDelay:0,type:L.Active,content:new H({content:'<div class="sapMGrowingListTrigger">'+'<div class="sapMSLIDiv sapMGrowingListTriggerText">'+'<span class="sapMSLITitle" id="'+t+'Text">'+e(T)+'</span>'+'</div>'+'<div class="sapMGrowingListDescription sapMSLIDescription" id="'+t+'Info"></div>'+'</div>'})}).setParent(this._oControl,null,true).attachPress(this.requestNewPage,this).addDelegate({onsapenter:function(E){this.requestNewPage();E.preventDefault();},onsapspace:function(E){this.requestNewPage();E.preventDefault();},onAfterRendering:function(E){var $=this._oTrigger.$();$.removeAttr("aria-selected");$.attr({"tabindex":0,"role":"button","aria-labelledby":t+"Text"+" "+t+"Info"});}},this);this._oTrigger.getList=function(){};this._oTrigger.TagName="div";return this._oTrigger;},_getListItemInfo:function(){return("[ "+this._iRenderedDataItems+" / "+N.getFloatInstance().format(this._oControl.getMaxItemsCount())+" ]");},_getGroupingPath:function(o){var s=o.aSorters||[];var S=s[0]||{};return(S.fnGroup)?S.sPath||"":"";},_getDomIndex:function(i){if(typeof i!="number"){return i;}if(this._oControl.hasPopin&&this._oControl.hasPopin()){return(i*2);}return i;},_getHasScrollbars:function(){if(!this._oScrollDelegate){return false;}if(this._getDomIndex(this._iRenderedDataItems)>(window.innerHeight/32)){return true;}return this._oScrollDelegate.getMaxScrollTop()>this._oControl.getDomRef("triggerList").clientHeight;},destroyListItems:function(s){this._oControl.destroyItems(s);this._iRenderedDataItems=0;this._aChunk=[];},addListItem:function(c,o,s){var d=this._oControl,f=o.binding,i=this.createListItem(c,o);if(f.isGrouped()){var I=d.getItems(true),g=I[I.length-1],m=o.model,h=f.getGroup(i.getBindingContext(m));if(g&&g.isGroupHeader()){d.removeAggregation("items",g,true);this._fnAppendGroupItem=this.appendGroupItem.bind(this,h,g,s);g=I[I.length-1];}if(!g||h.key!==f.getGroup(g.getBindingContext(m)).key){var j=(o.groupHeaderFactory)?o.groupHeaderFactory(h):null;if(d.getGrowingDirection()==b.Upwards){this.applyPendingGroupItem();this._fnAppendGroupItem=this.appendGroupItem.bind(this,h,j,s);}else{this.appendGroupItem(h,j,s);}}}d.addAggregation("items",i,s);if(s){this._aChunk.push(i);}},applyPendingGroupItem:function(){if(this._fnAppendGroupItem){this._fnAppendGroupItem();this._fnAppendGroupItem=undefined;}},appendGroupItem:function(g,o,s){o=this._oControl.addItemGroup(g,o,s);if(s){this._aChunk.push(o);}},createListItem:function(c,o){this._iRenderedDataItems++;return G.createItem(c,o);},updateItemsBindingContext:function(d,m){if(!d.length){return;}var I=this._oControl.getItems(true);for(var i=0,c=0,o;i<I.length;i++){o=I[i];if(!o.isGroupHeader()){o.setBindingContext(d[c++],m);}}},applyChunk:function(I,d){this.applyPendingGroupItem();var c=this._aChunk.length;if(!c){return;}if(this._oControl.isA("sap.m.Table")){var h=this._oControl.getColumns().some(function(o){return o.getVisible();});if(!h){return;}}if(this._oControl.getGrowingDirection()==b.Upwards){this._aChunk.reverse();if(I===true){I=0;}else if(typeof I=="number"){I=this._iRenderedDataItems-c-I;}}d=d||this._oContainerDomRef;this._oRM=this._oRM||sap.ui.getCore().createRenderManager();for(var i=0;i<c;i++){this._oRM.renderControl(this._aChunk[i]);}this._oRM.flush(d,false,this._getDomIndex(I));this._aChunk=[];},addListItems:function(c,o,s){for(var i=0;i<c.length;i++){this.addListItem(c[i],o,s);}},rebuildListItems:function(c,o,s){this.destroyListItems(s);this.addListItems(c,o,s);if(s){var h=this._oContainerDomRef.contains(document.activeElement);this.applyChunk(false);h&&this._oControl.focus();}else{this.applyPendingGroupItem();}},insertListItem:function(c,o,i){var I=this.createListItem(c,o);this._oControl.insertAggregation("items",I,i,true);this._aChunk.push(I);},deleteListItem:function(i){this._oControl.getItems(true)[i].destroy(true);this._iRenderedDataItems--;},refreshItems:function(c){if(!this._bDataRequested){this._bDataRequested=true;this._onBeforePageLoaded(c);}if(!this._iLimit||this.shouldReset(c)||!this._oControl.getItems(true).length){this._iLimit=this._oControl.getGrowingThreshold();}this._oControl.getBinding("items").getContexts(0,this._iLimit);},updateItems:function(c){var o=this._oControl,d=o.getBinding("items"),f=o.getBindingInfo("items"),I=o.getItems(true);if(!this._iLimit||this.shouldReset(c)||!I.length){this._iLimit=o.getGrowingThreshold();}if(this._bDataRequested){this._bDataRequested=false;}else{this._onBeforePageLoaded(c);}var g=d.getContexts(0,this._iLimit)||[];if(g.dataRequested){this._bDataRequested=true;if(g.diff&&!g.diff.length){return;}}this._oContainerDomRef=o.getItemsContainerDomRef();var D=g.diff,F=false,v;if(!g.length){this.destroyListItems();}else if(!this._oContainerDomRef){this.rebuildListItems(g,f);}else if(!D||!I.length&&D.length){if(o.shouldRenderItems()){this.rebuildListItems(g,f,o.shouldGrowingSuppressInvalidation());}}else if(d.isGrouped()||o.checkGrowingFromScratch()){if(this._sGroupingPath!=this._getGroupingPath(d)){F=true;}else{for(var i=0;i<D.length;i++){var h=D[i],j=g[h.index];if(h.type=="delete"||h.type=="replace"){F=true;break;}else if(h.index!=this._iRenderedDataItems){F=true;break;}else{this.addListItem(j,f,true);v=true;}}}}else{if(this._sGroupingPath){o.removeGroupHeaders(true);}v=-1;var k=-1;for(var i=0;i<D.length;i++){var h=D[i],m=h.index,j=g[m];if(h.type=="delete"){if(v!=-1){this.applyChunk(v);k=-1;v=-1;}this.deleteListItem(m);}else if(h.type=="insert"){if(v==-1){v=m;}else if(k>-1&&m!=k+1){this.applyChunk(v);v=m;}this.insertListItem(j,f,m);k=m;}}}if(F){this.rebuildListItems(g,f,true);}else if(this._oContainerDomRef&&D){this.updateItemsBindingContext(g,f.model);this.applyChunk(v);}this._oContainerDomRef=null;this._sGroupingPath=this._getGroupingPath(d);if(!this._bDataRequested){this._onAfterPageLoaded(c);}},_updateTriggerDelayed:function(c){if(this._oControl.getGrowingScrollToLoad()){this._iTriggerTimer&&window.cancelAnimationFrame(this._iTriggerTimer);this._iTriggerTimer=window.requestAnimationFrame(this._updateTrigger.bind(this,c));}else{this._updateTrigger(c);}},_updateTrigger:function(c){var t=this._oTrigger,o=this._oControl,v=o&&o.getVisibleItems().length>0;if(!t||!o||!v||!o.shouldRenderItems()||!o.getDomRef()){return;}var d=o.getBinding("items");if(!d){return;}t.setBusy(c);t.$().toggleClass("sapMGrowingListBusyIndicatorVisible",c);if(c){t.setActive(false);o.$("triggerList").css("display","");}else{var i=o.getItems(true),I=i.length,f=d.getLength()||0,g=d.isLengthFinal(),h=o.getGrowingScrollToLoad(),T=t.getDomRef();if(T&&T.contains(document.activeElement)){(i[this._iLastItemsCount]||o).focus();}if(!I||!this._iLimit||!f||(g&&this._iLimit>=f)||(h&&this._getHasScrollbars())){o.$("triggerList").css("display","none");o.$("listUl").removeClass("sapMListHasGrowing");}else{if(g){o.$("triggerInfo").css("display","block").text(this._getListItemInfo());}o.$("triggerList").css("display","");o.$("listUl").addClass("sapMListHasGrowing");t.$().removeClass("sapMGrowingListBusyIndicatorVisible");if(o.isA("sap.m.Table")&&!o.hasPopin()&&o.shouldRenderDummyColumn()){window.requestAnimationFrame(function(){if(o.bIsDestroyed){return;}var j=Array.from(o.getDomRef("tblHeader").childNodes).slice(0,-1).map(function(D){var w=D.getAttribute("data-sap-width");if(!w||!w.includes("%")){return D.getBoundingClientRect().width+"px";}else{return w;}}).join(" + ");T.style.width="calc("+j+" + 1px)";T.classList.add("sapMGrowingListDummyColumn");});}}this._iLastItemsCount=this._oControl.getItems(true).length;if(h&&this._oScrollPosition===undefined&&o.getGrowingDirection()==b.Upwards){this._oScrollPosition={left:0,top:0};}if(I>0&&this._oScrollPosition){var s=this._oScrollDelegate,S=this._oScrollPosition;s.scrollTo(S.left,s.getScrollHeight()-S.top);this._oScrollPosition=null;}}}});G.createItem=function(c,o,i){var I=o.factory(M.uid(i?i:"clone"),c);return I.setBindingContext(c,o.model);};return G;});
sap.ui.predefine('sap/m/HBox',['./FlexBox','./library','./HBoxRenderer'],function(F,l,H){"use strict";var a=F.extend("sap.m.HBox",{metadata:{library:"sap.m",designtime:"sap/m/designtime/HBox.designtime"}});return a;});
sap.ui.predefine('sap/m/HBoxRenderer',['./FlexBoxRenderer'],function(F){"use strict";var H={apiVersion:2};H.render=function(r,c){F.render.apply(this,[r,c]);};return H;},true);
sap.ui.predefine('sap/m/HyphenationSupport',["sap/ui/core/Core","./library","sap/ui/core/hyphenation/Hyphenation","sap/base/Log"],function(C,l,H,L){"use strict";var W=l.WrappingType;function i(o){if(!o.isA("sap.m.IHyphenation")){L.error("[UI5 Hyphenation] The given control does not implement interface sap.m.IHyphenation and can not use HyphenationSupport mixin.");return false;}return true;}function a(o,k){var t=o.getTextsToBeHyphenated();if(typeof t!=="object"){L.error("[UI5 Hyphenation] The result of getTextsToBeHyphenated method is not a map object.",o.getId());return false;}if(Object.keys(t).indexOf(k)<0){L.error("[UI5 Hyphenation] The key "+k+" is not found in the result of getTextsToBeHyphenated method.",o.getId());return false;}return true;}function s(D,n){n=n||"";var f=D.childNodes;if(f.length===1&&f[0].nodeType===window.Node.TEXT_NODE){f[0].nodeValue=n;}else{D.textContent=n;}}function d(t,T){var D=[];Object.keys(t).forEach(function(k){if(!(k in T&&t[k]===T[k])){D.push(k);}});return D;}function b(){var f=C.getConfiguration().getHyphenation(),o=H.getInstance();if(f==="native"||f==="disable"){return false;}if(f==="thirdparty"){return true;}return o.isLanguageSupported()&&!o.canUseNativeHyphenation()&&o.canUseThirdPartyHyphenation();}function c(o){var f=C.getConfiguration().getHyphenation();if(f==='disable'){return false;}if(o.getWrapping&&!o.getWrapping()&&o.getWrappingType()===W.Hyphenated){L.warning("[UI5 Hyphenation] The property wrappingType=Hyphenated will not take effect unless wrapping=true.",o.getId());}return(!o.getWrapping||o.getWrapping())&&o.getWrappingType()===W.Hyphenated;}function h(o){if(!c(o)||!b()){o._mHyphenatedTexts={};o._mUnhyphenatedTexts={};return;}var t=o.getTextsToBeHyphenated(),f=d(t,o._mUnhyphenatedTexts);if(f.length>0){o._mUnhyphenatedTexts=t;f.forEach(function(k){delete o._mHyphenatedTexts[k];});var g=H.getInstance();if(!g.isLanguageInitialized()){g.initialize().then(function(){var D=o.isActive()?o.getDomRefsForHyphenatedTexts():null,n=false;f.forEach(function(k){o._mHyphenatedTexts[k]=g.hyphenate(t[k]);if(D&&k in D){s(D[k],o._mHyphenatedTexts[k]);}else{n=true;}});if(n){o.invalidate();}});}else{f.forEach(function(k){o._mHyphenatedTexts[k]=g.hyphenate(t[k]);});}}}var e={};e.mixInto=function(o){if(!i(o)){return;}var I=o.init;o.init=function(f){var r=I.apply(this,arguments);this._mHyphenatedTexts={};this._mUnhyphenatedTexts={};return r;};var O=o.onBeforeRendering;o.onBeforeRendering=function(){var r=O.apply(this,arguments);h(this);return r;};};e.writeHyphenationClass=function(r,o){if(!i(o)){return;}if(c(o)&&!b()){r.class("sapUiHyphenation");}};e.getTextForRender=function(o,k){if(!i(o)){return null;}if(!a(o,k)){return null;}var t=o.getTextsToBeHyphenated();if(c(o)&&b()){if(t[k]!==o._mUnhyphenatedTexts[k]){h(o);}if(k in o._mHyphenatedTexts){return o._mHyphenatedTexts[k];}}return t[k];};return e;});
sap.ui.predefine('sap/m/Image',['./library','sap/ui/core/Control','sap/ui/base/DataType','./ImageRenderer',"sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/base/security/encodeCSS","sap/ui/core/library"],function(l,C,D,I,K,q,e,c){"use strict";var a=l.ImageMode;var A=c.aria.HasPopup;var b=C.extend("sap.m.Image",{metadata:{interfaces:["sap.ui.core.IFormContent"],library:"sap.m",designtime:"sap/m/designtime/Image.designtime",properties:{src:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},width:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:null},height:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:null},decorative:{type:"boolean",group:"Accessibility",defaultValue:true},alt:{type:"string",group:"Accessibility",defaultValue:null},useMap:{type:"string",group:"Misc",defaultValue:null},densityAware:{type:"boolean",group:"Misc",defaultValue:false},activeSrc:{type:"sap.ui.core.URI",group:"Data",defaultValue:""},mode:{type:"sap.m.ImageMode",group:"Misc",defaultValue:"Image"},backgroundSize:{type:"string",group:"Appearance",defaultValue:"cover"},backgroundPosition:{type:"string",group:"Appearance",defaultValue:"initial"},backgroundRepeat:{type:"string",group:"Appearance",defaultValue:"no-repeat"},lazyLoading:{type:"boolean",defaultValue:false},ariaHasPopup:{type:"sap.ui.core.aria.HasPopup",group:"Accessibility",defaultValue:A.None}},aggregations:{detailBox:{type:'sap.m.LightBox',multiple:false,bindable:"bindable"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},ariaDetails:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDetails"}},events:{tap:{},press:{},load:{},error:{}},dnd:{draggable:true,droppable:false}}});b._currentDevicePixelRatio=(function(){var r=(window.devicePixelRatio===undefined?1:window.devicePixelRatio);if(r<=1){r=1;}else{r*=2;r=Math.round(r);r/=2;}if(r>2){r=2;}return r;}());b.prototype.onload=function(E){var w,h;if(!this._defaultEventTriggered){this._defaultEventTriggered=true;}this._bVersion2Tried=false;var d=this.$(),o=d[0];if(this.getMode()===a.Background){d.css("background-image","url(\""+e(this._oImage.src)+"\")");}if(!this._isWidthOrHeightSet()){if(this._iLoadImageDensity>1){w=Math.round(o.getBoundingClientRect().width);h=Math.round(o.getBoundingClientRect().height);if((w===o.naturalWidth)&&(h===o.naturalHeight)){d.width(w/this._iLoadImageDensity);}}}d.removeClass("sapMNoImg");this.fireLoad();};b.prototype.onerror=function(E){if(!this._defaultEventTriggered){this._defaultEventTriggered=true;}var $=this.$(),m=this.getMode(),s=(m===a.Image)?this._getDomImg().attr("src"):this._oImage.src,d=b._currentDevicePixelRatio,f=this._isActiveState?this.getActiveSrc():this.getSrc();$.addClass("sapMNoImg");if(!s||this._iLoadImageDensity===1){if(this.getAlt()&&!this.getDecorative()){$.removeClass("sapMNoImg");}this.fireError();return;}if(d===2||d<1){this._iLoadImageDensity=1;this._updateDomSrc(this._generateSrcByDensity(f,1));}else if(d===1.5){if(this._bVersion2Tried){setTimeout(q.proxy(function(){this._iLoadImageDensity=1;this._updateDomSrc(this._generateSrcByDensity(f,1));},this),0);}else{setTimeout(q.proxy(function(){this._iLoadImageDensity=2;this._updateDomSrc(this._generateSrcByDensity(f,2));this._bVersion2Tried=true;},this),0);}}};b.prototype.setDetailBox=function(L){var o=this.getDetailBox();if(L){if(L===o){return this;}if(o){this.detachPress(this._fnLightBoxOpen,o);}this._fnLightBoxOpen=L.open;this.attachPress(this._fnLightBoxOpen,L);}else if(this._fnLightBoxOpen){this.detachPress(this._fnLightBoxOpen,o);this._fnLightBoxOpen=null;}return this.setAggregation("detailBox",L);};b.prototype.clone=function(){var o=C.prototype.clone.apply(this,arguments),d=o.getDetailBox();if(d){o.detachPress(this._fnLightBoxOpen,this.getDetailBox());o._fnLightBoxOpen=d.open;o.attachPress(o._fnLightBoxOpen,d);}return o;};b.prototype.onBeforeRendering=function(){this._defaultEventTriggered=false;if(this.getMode()==a.Image){var d=this.getDetailBox()?this.$().find(".sapMImg"):this.$();d.off("load").off("error");}};b.prototype.onAfterRendering=function(){var d=this.getDetailBox()?this.$().find(".sapMImg"):this.$(),m=this.getMode(),o;if(m===a.Image){d.on("load",q.proxy(this.onload,this));d.on("error",q.proxy(this.onerror,this));o=d[0];}if(m===a.Background){o=this._oImage;}if(o&&o.complete&&!this._defaultEventTriggered){if(o.naturalWidth>0){this.onload({});}else{this.onerror({});}}};b.prototype.exit=function(){if(this._oImage){q(this._oImage).off("load",this.onload).off("error",this.onerror);this._oImage=null;}else{this.$().off("load",this.onload).off("error",this.onerror);}if(this._fnLightBoxOpen){this._fnLightBoxOpen=null;}};b.prototype.ontouchstart=function(E){if(E.srcControl.mEventRegistry["press"]||E.srcControl.mEventRegistry["tap"]){E.setMarked();}if(E.targetTouches.length===1&&this.getActiveSrc()){this._updateDomSrc(this._getDensityAwareActiveSrc());this._isActiveState=true;}};b.prototype.ontouchend=function(E){if(E.targetTouches.length===0&&this.getActiveSrc()){this._isActiveState=false;this._updateDomSrc(this._getDensityAwareSrc());this.$().removeClass("sapMNoImg");}};b.prototype.attachPress=function(){Array.prototype.unshift.apply(arguments,["press"]);C.prototype.attachEvent.apply(this,arguments);if(this.hasListeners("press")){this.$().attr("tabindex","0");this.$().attr("role","button");}return this;};b.prototype.detachPress=function(){Array.prototype.unshift.apply(arguments,["press"]);C.prototype.detachEvent.apply(this,arguments);if(!this.hasListeners("press")){this.$().removeAttr("tabindex");if(this.getDecorative()){this.$().attr("role","presentation");}else{this.$().removeAttr("role");}}return this;};b.prototype.ontap=function(E){this.fireTap({});this.firePress({});};b.prototype.onkeyup=function(E){if(E.which===K.SPACE||E.which===K.ENTER){this.firePress({});E.stopPropagation();}};b.prototype.onsapspace=function(E){E.preventDefault();};b.prototype._updateDomSrc=function(s){var d=this.$(),m=this.getMode();if(d.length){if(m===a.Image){this._getDomImg().attr("src",s);}else{d.addClass("sapMNoImg");q(this._oImage).attr("src",s);}}};b.prototype._getDomImg=function(){var d=this.$();return this.getDetailBox()?d.children("img"):d;};b.prototype._preLoadImage=function(s){if(this.getMode()!==a.Background){return;}var $=q(this._oImage);if(!this._oImage){this._oImage=new window.Image();$=q(this._oImage);$.on("load",q.proxy(this.onload,this)).on("error",q.proxy(this.onerror,this));}this._oImage.src=s;};b.prototype._isWidthOrHeightSet=function(){return(this.getWidth()&&this.getWidth()!=='')||(this.getHeight()&&this.getHeight()!=='');};b.prototype._getDensityAwareSrc=function(){var s=this.getSrc(),f=this.getDensityAware(),d=f?b._currentDevicePixelRatio:1;this._iLoadImageDensity=d;return this._generateSrcByDensity(s,d);};b.prototype._getDensityAwareActiveSrc=function(){var s=this.getActiveSrc(),f=this.getDensityAware(),d=f?b._currentDevicePixelRatio:1;this._iLoadImageDensity=d;return this._generateSrcByDensity(s,d);};b.prototype._generateSrcByDensity=function(s,d){if(!s){return"";}if(this._isDataUri(s)){this._iLoadImageDensity=1;return s;}if(d===1){return s;}var L=s.lastIndexOf("."),f=s.lastIndexOf("/"),N=s.substring(0,L),E=s.substring(L);if(L===-1||(f>L)){return s+"@"+d;}N=N+"@"+d;return N+E;};b.prototype._isDataUri=function(s){return s?s.indexOf("data:")===0:false;};b.prototype._isValidBackgroundSizeValue=function(v){v=n(v);return i(v.split(" "),["auto","cover","contain","initial"])||D.getType("sap.ui.core.CSSSizeShortHand").isValid(v);};b.prototype._isValidBackgroundPositionValue=function(v){v=n(v);return i(v.split(" "),["left","right","top","center","bottom","initial"])||D.getType("sap.ui.core.CSSSizeShortHand").isValid(v);};b.prototype.getAccessibilityInfo=function(){var h=this.hasListeners("press");if(this.getDecorative()&&!this.getUseMap()&&!h){return null;}return{role:h?"button":"img",type:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText(h?"ACC_CTR_TYPE_BUTTON":"ACC_CTR_TYPE_IMAGE"),description:this.getAlt()||this.getTooltip_AsString()||"",focusable:h};};b.prototype.getFocusDomRef=function(){return this.getDomRef("inner")||this.getDomRef();};b.prototype.getFormDoNotAdjustWidth=function(){return true;};function i(t,r){function d(T){return r.indexOf(T)<0;}return t&&r&&!t.some(d);}function n(v){var w=/\s+/g;return v==null?"":String(v).trim().replace(w," ");}return b;});
sap.ui.predefine('sap/m/ImageContent',['./library','sap/ui/core/Control','sap/m/Image','sap/ui/core/IconPool','sap/ui/Device','./ImageContentRenderer',"sap/ui/events/KeyCodes"],function(l,C,I,a,D,b,K){"use strict";var c=C.extend("sap.m.ImageContent",{metadata:{library:"sap.m",properties:{src:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},description:{type:"string",group:"Accessibility",defaultValue:null}},defaultAggregation:"_content",aggregations:{_content:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},events:{press:{}}}});c.prototype.onBeforeRendering=function(){var i,u,d;i=this.getAggregation("_content");u=this.getSrc();d=this.getDescription();if(!i||u!==i.getSrc()||d!==i.getAlt()){if(i){i.destroy();i=null;}i=a.createControlByURI({id:this.getId()+"-icon-image",src:u,alt:d,decorative:true},I);this.setAggregation("_content",i,true);this._setPointerOnImage();}if(d){this.setTooltip(d.trim());}};c.prototype._setPointerOnImage=function(){var i=this.getAggregation("_content");if(i&&this.hasListeners("press")){i.addStyleClass("sapMPointer");}else if(i&&i.hasStyleClass("sapMPointer")){i.removeStyleClass("sapMPointer");}};c.prototype.ontap=function(e){if(D.browser.msie){this.$().trigger("focus");}this.firePress();};c.prototype.onkeydown=function(e){if(e.which===K.ENTER||e.which===K.SPACE){this.firePress();e.preventDefault();}};c.prototype.attachEvent=function(e,d,f,g){C.prototype.attachEvent.call(this,e,d,f,g);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapMPointer");this._setPointerOnImage();}return this;};c.prototype.detachEvent=function(e,f,d){C.prototype.detachEvent.call(this,e,f,d);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapMPointer");this._setPointerOnImage();}return this;};c.prototype.getAltText=function(){var o=this.getAggregation("_content");if(o&&o.getAlt()!==""){return o.getAlt();}else if(o&&o.getAccessibilityInfo()){return o.getAccessibilityInfo().description;}else{return"";}};return c;});
sap.ui.predefine('sap/m/ImageContentRenderer',[],function(){"use strict";var I={apiVersion:2};I.render=function(r,c){r.openStart("div",c);r.class("sapMImageContent");var t=c.getTooltip_AsString();if(t){r.attr("title",t);}if(c.hasListeners("press")){r.class("sapMPointer");r.attr("tabindex","0");}r.openEnd();var C=c.getAggregation("_content");if(C){C.addStyleClass("sapMImageContentImageIcon");r.renderControl(C);}r.close("div");};return I;},true);
sap.ui.predefine('sap/m/ImageRenderer',['sap/m/library',"sap/base/security/encodeCSS","sap/ui/core/library"],function(l,e,c){"use strict";var I=l.ImageMode;var A=c.aria.HasPopup;var a={apiVersion:2};a.render=function(r,i){var m=i.getMode(),b=i.getAlt(),t=i.getTooltip_AsString(),h=i.hasListeners("press"),L=i.getDetailBox(),u=i.getUseMap(),d=i.getAriaLabelledBy(),D=i.getAriaDescribedBy(),f=i.getAriaDetails(),g=m===I.Image,j=i.getLazyLoading(),s=i.getAriaHasPopup();if(L){r.openStart("span",i);r.class("sapMLightBoxImage");r.openEnd();r.openStart("span").class("sapMLightBoxMagnifyingGlass").openEnd().close("span");}if(g){r.voidStart("img",!L?i:i.getId()+"-inner");if(j){r.attr("loading","lazy");}}else{r.openStart("span",!L?i:i.getId()+"-inner");}if(!i.getDecorative()){if(d&&d.length>0){r.attr("aria-labelledby",d.join(" "));}if(D&&D.length>0){r.attr("aria-describedby",D.join(" "));}if(f&&f.length>0){r.attr("aria-details",f.join(" "));}}if(g){r.attr("src",i._getDensityAwareSrc());}else{i._preLoadImage(i._getDensityAwareSrc());if(i._isValidBackgroundSizeValue(i.getBackgroundSize())){r.style("background-size",i.getBackgroundSize());}if(i._isValidBackgroundPositionValue(i.getBackgroundPosition())){r.style("background-position",i.getBackgroundPosition());}r.style("background-repeat",e(i.getBackgroundRepeat()));}r.class("sapMImg");if(i.hasListeners("press")||i.hasListeners("tap")){r.class("sapMPointer");}if(u||!i.getDecorative()||h){r.class("sapMImgFocusable");}if(u){if(!(u.startsWith("#"))){u="#"+u;}r.attr("usemap",u);}if(i.getDecorative()&&!u&&!h){r.attr("role","presentation");r.attr("aria-hidden","true");r.attr("alt","");}else if(b||t){r.attr("alt",b||t);}if(b||t){r.attr("aria-label",b||t);}if(t){r.attr("title",t);}if(s!==A.None){r.attr("aria-haspopup",s.toLowerCase());}if(h){r.attr("role","button");r.attr("tabindex",0);}r.style("width",i.getWidth());r.style("height",i.getHeight());g?r.voidEnd():r.openEnd().close("span");if(L){r.close("span");}};return a;},true);
sap.ui.predefine('sap/m/Input',['./InputBase','./Popover','sap/ui/core/Item','./ColumnListItem','./GroupHeaderListItem','./StandardListItem','sap/ui/core/SeparatorItem','./List','./Table','./library','sap/ui/core/IconPool','sap/ui/Device','./SuggestionsPopover','./Toolbar','./ToolbarSpacer','./Button',"sap/ui/core/ResizeHandler","sap/ui/dom/containsOrEquals","sap/base/assert","sap/base/util/deepEqual","sap/m/inputUtils/wordStartsWithValue","sap/m/inputUtils/inputsDefaultFilter","sap/m/inputUtils/highlightDOMElements","sap/m/inputUtils/typeAhead","sap/ui/events/KeyCodes","sap/m/inputUtils/filterItems","sap/m/inputUtils/ListHelpers","sap/m/inputUtils/calculateSelectionStart","sap/m/inputUtils/selectionRange","./InputRenderer","sap/ui/base/ManagedObject","sap/ui/base/ManagedObjectObserver","sap/ui/thirdparty/jquery","sap/ui/dom/jquery/selectText"],function(I,P,a,C,G,S,b,L,T,l,c,D,d,e,f,B,R,g,h,j,w,k,m,t,K,n,o,p,s,q,M,r,Q){"use strict";var u=l.ListType;var v=l.InputTextFormatMode;var x=l.InputType;var y=l.ListMode;var z=l.ListSeparators;var A=I.extend("sap.m.Input",{metadata:{library:"sap.m",properties:{type:{type:"sap.m.InputType",group:"Data",defaultValue:x.Text},maxLength:{type:"int",group:"Behavior",defaultValue:0},dateFormat:{type:"string",group:"Misc",defaultValue:'YYYY-MM-dd',deprecated:true},showValueHelp:{type:"boolean",group:"Behavior",defaultValue:false},valueHelpIconSrc:{type:"sap.ui.core.URI",group:"Behavior",defaultValue:"sap-icon://value-help"},showSuggestion:{type:"boolean",group:"Behavior",defaultValue:false},valueHelpOnly:{type:"boolean",group:"Behavior",defaultValue:false},filterSuggests:{type:"boolean",group:"Behavior",defaultValue:true},maxSuggestionWidth:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:null},startSuggestion:{type:"int",group:"Behavior",defaultValue:1},showTableSuggestionValueHelp:{type:"boolean",group:"Behavior",defaultValue:true},description:{type:"string",group:"Misc",defaultValue:null},fieldWidth:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:'50%'},valueLiveUpdate:{type:"boolean",group:"Behavior",defaultValue:false},selectedKey:{type:"string",group:"Data",defaultValue:""},textFormatMode:{type:"sap.m.InputTextFormatMode",group:"Misc",defaultValue:v.Value},textFormatter:{type:"any",group:"Misc",defaultValue:""},suggestionRowValidator:{type:"any",group:"Misc",defaultValue:""},enableSuggestionsHighlighting:{type:"boolean",group:"Behavior",defaultValue:true},autocomplete:{type:"boolean",group:"Behavior",defaultValue:true}},defaultAggregation:"suggestionItems",aggregations:{suggestionItems:{type:"sap.ui.core.Item",multiple:true,singularName:"suggestionItem"},suggestionColumns:{type:"sap.m.Column",multiple:true,singularName:"suggestionColumn",bindable:"bindable",forwarding:{getter:"_getSuggestionsTable",aggregation:"columns"}},suggestionRows:{type:"sap.m.ColumnListItem",altTypes:["sap.m.GroupHeaderListItem"],multiple:true,singularName:"suggestionRow",bindable:"bindable",forwarding:{getter:"_getSuggestionsTable",aggregation:"items"}},_suggestionPopup:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_valueHelpIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}},associations:{selectedItem:{type:"sap.ui.core.Item",multiple:false},selectedRow:{type:"sap.m.ColumnListItem",multiple:false}},events:{liveChange:{parameters:{value:{type:"string"},escPressed:{type:"boolean"},previousValue:{type:"string"}}},valueHelpRequest:{parameters:{fromSuggestions:{type:"boolean"}}},suggest:{parameters:{suggestValue:{type:"string"},suggestionColumns:{type:"sap.m.ListBase"}}},suggestionItemSelected:{parameters:{selectedItem:{type:"sap.ui.core.Item"},selectedRow:{type:"sap.m.ColumnListItem"}}},submit:{parameters:{value:{type:"string"}}}},designtime:"sap/m/designtime/Input.designtime"}});c.insertFontFaceStyle();A._DEFAULTFILTER_TABULAR=function(V,E){var F=E.getCells(),i=0;for(;i<F.length;i++){if(F[i].getText){if(w(F[i].getText(),V)){return true;}}}return false;};A._DEFAULTRESULT_TABULAR=function(E){if(!E||E.isA("sap.m.GroupHeaderListItem")){return"";}var F=E.getCells(),i=0;for(;i<F.length;i++){if(F[i].getText){return F[i].getText();}}return"";};A.prototype.init=function(){I.prototype.init.call(this);this._iSetCount=0;this._sProposedItemText=null;this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");};A.prototype.exit=function(){I.prototype.exit.call(this);this._deregisterEvents();this.cancelPendingSuggest();if(this._iRefreshListTimeout){clearTimeout(this._iRefreshListTimeout);this._iRefreshListTimeout=null;}if(this._oSuggestionsTable){this._oSuggestionsTable.destroy();this._oSuggestionsTable=null;}if(this._isSuggestionsPopoverInitiated()){this._oSuggestionPopup=null;this._oSuggPopover.destroy();this._oSuggPopover=null;}this.$().off("click");};A.prototype.onBeforeRendering=function(){var i=this.getSelectedKey(),E=this.getShowValueHelp()&&this.getEnabled()&&this.getEditable(),F=this.getAggregation("_endIcon")||[],H=F[0],J=this._isSuggestionsPopoverInitiated()&&this._getSuggestionsPopover(),N=J&&this._isSuggestionsPopoverOpen(),O=J&&J.getInput(),V=N?J._getValueStateHeader().getText():null,U=N?J._getValueStateHeader().getValueState():"";I.prototype.onBeforeRendering.call(this);this._deregisterEvents();if(i){this.setSelectedKey(i);}if(this.getShowSuggestion()){if(this.getShowTableSuggestionValueHelp()){this._addShowMoreButton();}else{this._removeShowMoreButton();}if(O){O.setType(this.getType());}}if(E){H=this._getValueHelpIcon();H.setProperty("visible",true,true);}else if(H){H.setProperty("visible",false,true);}if(!this.getWidth()){this.setProperty("width","100%",true);}this._resetTypeAhead();if(N&&((this.getValueStateText()&&V!==this.getValueStateText())||(this.getValueState()!==U)||(this.getFormattedValueStateText()))){this._updateSuggestionsPopoverValueState();}};A.prototype._getDisplayText=function(i){var E=this.getTextFormatter();if(E){return E(i);}var F=i.getText(),H=i.getKey(),J=this.getTextFormatMode();switch(J){case v.Key:return H;case v.ValueKey:return F+' ('+H+')';case v.KeyValue:return'('+H+') '+F;default:return F;}};A.prototype._onValueUpdated=function(i){if(this._bSelectingItem||i===this._sSelectedValue){return;}var E=this.getSelectedKey(),H,F=this._isSuggestionsPopoverInitiated()&&this._getSuggestionsPopover().getItemsContainer();if(E===''){return;}if(this._hasTabularSuggestions()){H=this._getSuggestionsTable()&&!!this._getSuggestionsTable().getSelectedItem();}else{H=F&&!!F.getSelectedItem();}if(H){return;}this.setProperty("selectedKey",'',true);this.setAssociation("selectedRow",null,true);this.setAssociation("selectedItem",null,true);this.fireSuggestionItemSelected({selectedItem:null,selectedRow:null});};A.prototype.setSelectionItem=function(i,E){this._bSelectingItem=true;if(!i){this.setAssociation("selectedItem",null,true);this.setValue('');return;}var F=this._iSetCount,N;this.setAssociation("selectedItem",i,true);this.setProperty("selectedKey",i.getKey(),true);if(E){this.fireSuggestionItemSelected({selectedItem:i});}if(F!==this._iSetCount){N=this.getValue();}else{N=this._getDisplayText(i);}this._sSelectedValue=N;this.updateInputField(N);if(this.bIsDestroyed){return;}if(!(this.isMobileDevice()&&this instanceof sap.m.MultiInput)){this._closeSuggestionPopup();}this._bSelectingItem=false;this._resetTypeAhead();};A.prototype.addSuggestionRowGroup=function(i,H,E){H=H||new G({title:M.escapeSettingsValue(i.text)||M.escapeSettingsValue(i.key)});this.addAggregation("suggestionRows",H,E);return H;};A.prototype.addSuggestionItemGroup=function(i,H,E){H=H||new b({text:M.escapeSettingsValue(i.text)||M.escapeSettingsValue(i.key)});this.addAggregation("suggestionItems",H,E);return H;};A.prototype.setSelectedItem=function(i){if(typeof i==="string"){i=sap.ui.getCore().byId(i);}if(i!==null&&!(i instanceof a)){return this;}this.setSelectionItem(i);return this;};A.prototype.setSelectedKey=function(i){i=this.validateProperty("selectedKey",i);this.setProperty("selectedKey",i,true);if(this._hasTabularSuggestions()){return this;}if(!i){this.setSelectionItem();return this;}var E=this.getSuggestionItemByKey(i);this.setSelectionItem(E);return this;};A.prototype.getSuggestionItemByKey=function(E){var F=this.getSuggestionItems()||[],H,i;for(i=0;i<F.length;i++){H=F[i];if(H.getKey()===E){return H;}}};A.prototype._getFormattedValueStateText=function(){var i=this._isSuggestionsPopoverOpen(),V=i?this._getSuggestionsPopover()._getValueStateHeader().getFormattedText():null;if(i&&V){return V;}else{return I.prototype.getFormattedValueStateText.call(this);}};A.prototype.setSelectionRow=function(i,E){if(!i){this.setAssociation("selectedRow",null,true);return;}this._bSelectingItem=true;var F,H=this.getSuggestionRowValidator();if(H){F=H(i);if(!(F instanceof a)){F=null;}}var J=this._iSetCount,N="",O;this.setAssociation("selectedRow",i,true);if(F){N=F.getKey();}this.setProperty("selectedKey",N,true);if(E){this.fireSuggestionItemSelected({selectedRow:i});}if(J!==this._iSetCount){O=this.getValue();}else{if(F){O=this._getDisplayText(F);}else{O=this._getRowResultFunction()(i);}}this._sSelectedValue=O;this.updateInputField(O);if(this.bIsDestroyed){return;}if(!(this.isMobileDevice()&&this instanceof sap.m.MultiInput&&this._isMultiLineMode)){this.setSelectionUpdatedFromList(false);this._closeSuggestionPopup();}this._bSelectingItem=false;};A.prototype.setSelectedRow=function(i){if(typeof i==="string"){i=sap.ui.getCore().byId(i);}if(i!==null&&!(i instanceof C)){return this;}this.setSelectionRow(i);return this;};A.prototype._getValueHelpIcon=function(){var i=this,E=this.getAggregation("_endIcon")||[],F=this.getValueHelpIconSrc(),V=E[0];if(!V){V=this.addEndIcon({id:this.getId()+"-vhi",src:F,useIconTooltip:false,alt:this._oRb.getText("INPUT_VALUEHELP_BUTTON"),decorative:false,noTabStop:true,press:function(H){if(!i.getValueHelpOnly()){var J=this.getParent(),$;if(D.support.touch){$=J.$('inner');$.attr('readonly','readonly');J.focus();$.removeAttr('readonly');}else{J.focus();}i.bValueHelpRequested=true;i._fireValueHelpRequest(false);}}});}else if(V.getSrc()!==F){V.setSrc(F);}return V;};A.prototype._fireValueHelpRequest=function(F){var i="";if(this.getShowSuggestion()&&this._isSuggestionsPopoverInitiated()&&!this.isMobileDevice()){i=this._sTypedInValue||"";}else{i=this.getDOMValue();}this.fireValueHelpRequest({fromSuggestions:F,_userInputValue:i});};A.prototype._fireValueHelpRequestForValueHelpOnly=function(){if(this.getEnabled()&&this.getEditable()&&this.getShowValueHelp()&&this.getValueHelpOnly()){if(D.system.phone){this.focus();}this._fireValueHelpRequest(false);}};A.prototype.ontap=function(E){I.prototype.ontap.call(this,E);if(this.isValueHelpOnlyOpener(E.target)){this._fireValueHelpRequestForValueHelpOnly();}if(this.isMobileDevice()&&this.getEditable()&&this.getEnabled()&&this.getShowSuggestion()&&this._isSuggestionsPopoverInitiated()&&E.target.id!=this.getId()+"-vhi"){this._openSuggestionsPopover();}};A.prototype.setFilterFunction=function(F){if(F===null||F===undefined){this._fnFilter=k;return this;}h(typeof(F)==="function","Input.setFilterFunction: first argument fnFilter must be a function on "+this);this._fnFilter=F;return this;};A.prototype._getFilterFunction=function(F){if(typeof this._fnFilter==="function"&&!F){return this._fnFilter;}return!this._hasTabularSuggestions()?k:A._DEFAULTFILTER_TABULAR;};A.prototype.setRowResultFunction=function(F){var i;if(F===null||F===undefined){this._fnRowResultFilter=A._DEFAULTRESULT_TABULAR;return this;}h(typeof(F)==="function","Input.setRowResultFunction: first argument fnFilter must be a function on "+this);this._fnRowResultFilter=F;i=this.getSelectedRow();if(i){this.setSelectedRow(i);}return this;};A.prototype._getRowResultFunction=function(F){if(typeof this._fnRowResultFilter==="function"&&!F){return this._fnRowResultFilter;}return A._DEFAULTRESULT_TABULAR;};A.prototype.closeSuggestions=function(){this._closeSuggestionPopup();};A.prototype._doSelect=function(i,E){if(D.support.touch){return;}var F=this._$input[0];if(F){var $=this._$input;F.focus();$.selectText(i?i:0,E?E:$.val().length);}return this;};A.prototype._isIncrementalType=function(){var i=this.getType();if(i==="Number"||i==="Date"||i==="Datetime"||i==="Month"||i==="Time"||i==="Week"){return true;}return false;};A.prototype.onsapescape=function(E){if(this._isSuggestionsPopoverOpen()){E.originalEvent._sapui_handledByControl=true;this.setSelectionUpdatedFromList(false);this._closeSuggestionPopup();if(this.getBeforeSuggestValue()!==this.getValue()){this.setValue(this.getBeforeSuggestValue());}return;}if(this.getValueLiveUpdate()){this.setProperty("value",this.getLastValue(),true);}if(I.prototype.onsapescape){I.prototype.onsapescape.apply(this,arguments);}};A.prototype.onsapenter=function(E){var V;this.cancelPendingSuggest();if(this._isSuggestionsPopoverOpen()&&!this.isComposingCharacter()){this.setSelectionUpdatedFromList(true);this._closeSuggestionPopup();V=this.getDOMValue()?this.getDOMValue().length:null;this.selectText(V,V);}else{I.prototype.onsapenter.apply(this,arguments);}if(this.getEnabled()&&this.getEditable()&&!(this.getValueHelpOnly()&&this.getShowValueHelp())){this.fireSubmit({value:this.getValue()});}};A.prototype.onsapfocusleave=function(E){var i=this._isSuggestionsPopoverInitiated()&&this._getSuggestionsPopover(),F=i&&i.getPopover(),H=F&&F.isA("sap.m.Popover"),J=E.relatedControlId&&sap.ui.getCore().byId(E.relatedControlId),N=J&&J.getFocusDomRef(),O=F&&N&&g(F.getDomRef(),N);if(H){if(O&&!i.getValueStateActiveState()){this._bPopupHasFocus=true;if(D.system.desktop&&j(F.getFocusDomRef(),N)||J.isA("sap.m.GroupHeaderListItem")){this.focus();}}else{if(this.getDOMValue()===this._sSelectedSuggViaKeyboard){this._sSelectedSuggViaKeyboard=null;}}}if(!O){I.prototype.onsapfocusleave.apply(this,arguments);}this.bValueHelpRequested=false;};A.prototype.onsaptabnext=function(){if(!this.isMobileDevice()&&this._sProposedItemText){var i=this.getSuggestionItems().filter(function(E){return E.getText()===this._sProposedItemText;}.bind(this))[0];if(i){this.setSelectionItem(i,true);this.selectText(0,0);}}};A.prototype.onmousedown=function(E){if(this._isSuggestionsPopoverOpen()){E.stopPropagation();}};["onsapup","onsapdown","onsappageup","onsappagedown","onsaphome","onsapend"].forEach(function(N){A.prototype[N]=function(E){if((N==="onsapup"||N==="onsapdown")&&this.isComposingCharacter()){return;}if(this.getShowSuggestion()){this._getSuggestionsPopover().handleListNavigation(this,E);if(this._isIncrementalType()){E.setMarked();}this.setSelectionUpdatedFromList(true);}};});A.prototype.setSelectionUpdatedFromList=function(U){this._bSelectionUpdatedFromList=U;};A.prototype.getSelectionUpdatedFromList=function(){return this._bSelectionUpdatedFromList;};A.prototype.updateSelectionFromList=function(i){if(this._hasTabularSuggestions()&&(this.getSelectedRow()!==i)){this.setSelectionRow(i,true);}else{var N=o.getItemByListItem(this.getSuggestionItems(),i);N&&(this.getSelectedItem()!==N.getId())&&this.setSelectionItem(N,true);}this.setSelectionUpdatedFromList(false);};A.prototype._deregisterEvents=function(){this._deregisterPopupResize();if(this.isMobileDevice()&&this._isSuggestionsPopoverInitiated()&&this._getSuggestionsPopover().getPopover()){this.$().off("click");}};A.prototype.updateSuggestionItems=function(){this._bSuspendInvalidate=true;this.updateAggregation("suggestionItems");this._synchronizeSuggestions();this._bSuspendInvalidate=false;return this;};A.prototype.invalidate=function(){if(!this._bSuspendInvalidate){I.prototype.invalidate.apply(this,arguments);}};A.prototype.cancelPendingSuggest=function(){if(this._iSuggestDelay){clearTimeout(this._iSuggestDelay);this._iSuggestDelay=null;}};A.prototype._triggerSuggest=function(V){var i=this._getSuggestionsPopover().getItemsContainer();this.cancelPendingSuggest();this._bShouldRefreshListItems=true;if(!V){V="";}if(V.length>=this.getStartSuggestion()){this._iSuggestDelay=setTimeout(function(){if(this._sPrevSuggValue!==V){this._bBindingUpdated=false;this.fireSuggest({suggestValue:V});if(!this._bBindingUpdated){this._refreshItemsDelayed();}this._sPrevSuggValue=V;}}.bind(this),300);}else if(this.isMobileDevice()){if(i instanceof T){i.addStyleClass("sapMInputSuggestionTableHidden");}else if(i&&i.destroyItems){i.destroyItems();}}else if(this._isSuggestionsPopoverOpen()){setTimeout(function(){var N=this.getDOMValue()||'';if(N<this.getStartSuggestion()){this._closeSuggestionPopup();}}.bind(this),0);}};(function(){A.prototype.setShowSuggestion=function(V){var i;this.setProperty("showSuggestion",V,true);if(V){i=this._getSuggestionsPopover();this._oSuggPopover=i;if(!i.getPopover()){this._createSuggestionsPopoverPopup();this._synchronizeSuggestions();this._createSuggestionPopupContent();}}else{if(this._isSuggestionsPopoverInitiated()){i=this._getSuggestionsPopover();i._destroySuggestionPopup();}}return this;};A.prototype._shouldTriggerSuggest=function(){return!this._bPopupHasFocus&&!this.getStartSuggestion()&&!this.getValue()&&this.getShowSuggestion();};A.prototype.setShowTableSuggestionValueHelp=function(V){this.setProperty("showTableSuggestionValueHelp",V,true);if(!(this._isSuggestionsPopoverInitiated()&&this._getSuggestionsPopover().getPopover())){return this;}if(V){this._addShowMoreButton();}else{this._removeShowMoreButton();}return this;};A.prototype.onchange=function(E){if(this.getShowValueHelp()||this.getShowSuggestion()){return;}this.onChange(E);};A.prototype.oninput=function(E){I.prototype.oninput.call(this,E);if(E.isMarked("invalid")){return;}var V=this.getDOMValue(),i,F,H;if(this.getValueLiveUpdate()){this.setProperty("value",V,true);this._onValueUpdated(V);}this.fireLiveChange({value:V,newValue:V});this.addStyleClass("sapMFocus");if(this.getShowSuggestion()&&!this.isMobileDevice()){i=this._getSuggestionsPopover();F=i.getItemsContainer();this._triggerSuggest(V);if(F&&!i.getValueStateActiveState()){H=F&&F.getSelectedItem();F.removeStyleClass("sapMListFocus");H&&H.removeStyleClass("sapMLIBFocused");}else if(i.getValueStateActiveState()&&document.activeElement.tagName!=="A"){i._getValueStateHeader().removeStyleClass("sapMPseudoFocus");}}this._handleTypeAhead(this);};A.prototype.onkeydown=function(E){this._bDoTypeAhead=!D.os.android&&this.getAutocomplete()&&(E.which!==K.BACKSPACE)&&(E.which!==K.DELETE);};A.prototype.getValue=function(){return this.getDomRef("inner")&&this._$input?this.getDOMValue():this.getProperty("value");};A.prototype._refreshItemsDelayed=function(){clearTimeout(this._iRefreshListTimeout);this._iRefreshListTimeout=setTimeout(function(){if(this._isSuggestionsPopoverInitiated()){this._refreshListItems();}}.bind(this),0);};A.prototype._clearSuggestionPopupItems=function(){var i=this._getSuggestionsPopover().getItemsContainer();if(!i){return;}if(i instanceof T){i.removeSelections(true);}else{i.destroyItems();}};A.prototype._hideSuggestionPopup=function(){var i=this._getSuggestionsPopover(),E=i.getPopover(),F=i.getItemsContainer();function _(V){var H=this.getFocusInfo();this.setDOMValue(V);if(D.browser.internet_explorer){this.applyFocusInfo(H);}}if(!this.isMobileDevice()){if(this._isSuggestionsPopoverOpen()){this._sCloseTimer=setTimeout(function(){this.cancelPendingSuggest();if(this._sTypedInValue){_.call(this,this._sTypedInValue);}E.close();}.bind(this),0);}}else if(this._hasTabularSuggestions()&&F){F.addStyleClass("sapMInputSuggestionTableHidden");}this.$("SuggDescr").text("");this.$("inner").removeAttr("aria-activedescendant");};A.prototype._openSuggestionPopup=function(O){if(!this.isMobileDevice()){if(this._sCloseTimer){clearTimeout(this._sCloseTimer);this._sCloseTimer=null;}if(!this._isSuggestionsPopoverOpen()&&!this._sOpenTimer&&O!==false){this._sOpenTimer=setTimeout(function(){this._sOpenTimer=null;this._isSuggestionsPopoverInitiated()&&this._openSuggestionsPopover();}.bind(this),0);}}};A.prototype.getSuggestionsCount=function(F){var H=F.items,i=F.groups,E=H.length+i.length,J=E;if(!this._hasTabularSuggestions()){J-=i.length;}return J;};A.prototype._applySuggestionAcc=function(N){var i="",E=this._oRb;if(N===1){i=E.getText("INPUT_SUGGESTIONS_ONE_HIT");}else if(N>1){i=E.getText("INPUT_SUGGESTIONS_MORE_HITS",N);}else{i=E.getText("INPUT_SUGGESTIONS_NO_HIT");}this.$("SuggDescr").text(i);};A.prototype._refreshListItems=function(){var i=this.getShowSuggestion(),E=this._bDoTypeAhead?this._sTypedInValue:(this.getDOMValue()||""),F,H;if(!i||!this._bShouldRefreshListItems||!this.getDomRef()||(!this.isMobileDevice()&&!this.$().hasClass("sapMInputFocused"))){return null;}this._clearSuggestionPopupItems();if(E.length<this.getStartSuggestion()){this._hideSuggestionPopup();return false;}F=this._getFilteredSuggestionItems(E);H=this.getSuggestionsCount(F);if(H>0){this._openSuggestionPopup(this.getValue().length>=this.getStartSuggestion());}else{this._hideSuggestionPopup();}this._applySuggestionAcc(H);};A.prototype.addSuggestionItem=function(i){this.addAggregation("suggestionItems",i,true);if(!this._isSuggestionsPopoverInitiated()){this._getSuggestionsPopover();}this._synchronizeSuggestions();this._createSuggestionPopupContent();return this;};A.prototype.insertSuggestionItem=function(i,E){this.insertAggregation("suggestionItems",E,i,true);if(!this._isSuggestionsPopoverInitiated()){this._getSuggestionsPopover();}this._synchronizeSuggestions();this._createSuggestionPopupContent();return this;};A.prototype.removeSuggestionItem=function(i){var E=this.removeAggregation("suggestionItems",i,true);this._synchronizeSuggestions();return E;};A.prototype.removeAllSuggestionItems=function(){var i=this.removeAllAggregation("suggestionItems",true);this._synchronizeSuggestions();return i;};A.prototype.destroySuggestionItems=function(){this.destroyAggregation("suggestionItems",true);this._synchronizeSuggestions();return this;};A.prototype.bindAggregation=function(){if(arguments[0]==="suggestionRows"||arguments[0]==="suggestionColumns"||arguments[0]==="suggestionItems"){this._createSuggestionPopupContent(arguments[0]==="suggestionRows"||arguments[0]==="suggestionColumns");this._bBindingUpdated=true;}return I.prototype.bindAggregation.apply(this,arguments);};A.prototype._closeSuggestionPopup=function(){if(this._isSuggestionsPopoverInitiated()){this._bShouldRefreshListItems=false;this.cancelPendingSuggest();this._isSuggestionsPopoverOpen()&&this._getSuggestionsPopover().getPopover().close();if(!this.isMobileDevice()&&this.$().hasClass("sapMInputFocused")){this.openValueStateMessage();}this.$("SuggDescr").text("");this.$("inner").removeAttr("aria-activedescendant");this._sPrevSuggValue=null;}};A.prototype._synchronizeSuggestions=function(){var i=this._isSuggestionsPopoverInitiated()&&this._getSuggestionsPopover(),E=i&&i.getInput(),F=E&&E.getFocusDomRef();if(document.activeElement===this.getFocusDomRef()||document.activeElement===F){this._bShouldRefreshListItems=true;this._refreshItemsDelayed();}if(!this.getDomRef()||this._isSuggestionsPopoverOpen()){return;}this._synchronizeSelection();};A.prototype._synchronizeSelection=function(){var i=this.getSelectedKey();if(!i){return;}if(this.getValue()&&!this.getSelectedItem()&&!this.getSelectedRow()){return;}this.setSelectedKey(i);};})();A.prototype.onfocusin=function(E){I.prototype.onfocusin.apply(this,arguments);this.addStyleClass("sapMInputFocused");if(!this.isMobileDevice()&&this._isSuggestionsPopoverOpen()){this.closeValueStateMessage();}if(this._shouldTriggerSuggest()){this._triggerSuggest(this.getValue());}this._bPopupHasFocus=undefined;this._sPrevSuggValue=null;};A.prototype.oncompositionend=function(E){I.prototype.oncompositionend.apply(this,arguments);if(!D.browser.edge&&!D.browser.firefox){this._handleTypeAhead(this);}};A.prototype._handleTypeAhead=function(i){var V=this.getValue();this._sTypedInValue=V;i._sProposedItemText=null;if(!this._bDoTypeAhead||V===""||V.length<this.getStartSuggestion()||document.activeElement!==this.getFocusDomRef()){return;}var H=i._hasTabularSuggestions(),E=H?i.getSuggestionRows():i.getSuggestionItems(),F=function(N){if(!N){return"";}return H?i._getRowResultFunction()(N):N.getText();};var J=t(V,this,E,function(N){return this._formatTypedAheadValue(F(N));}.bind(this));i._sProposedItemText=F(J[0]);};A.prototype._resetTypeAhead=function(i){i=i||this;i._sProposedItemText=null;this._sTypedInValue='';};A.prototype.onsapright=function(){var V=this.getValue();if(!this.getAutocomplete()){return;}if(this._sTypedInValue!==V){this._sTypedInValue=V;this.fireLiveChange({value:V,newValue:V});}};A.prototype._formatTypedAheadValue=function(N){if(N.toLowerCase().indexOf(this._sTypedInValue.toLowerCase())===0){return this._sTypedInValue.concat(N.substring(this._sTypedInValue.length,N.length));}else{return N;}};A.prototype.onsapshow=function(E){if(!this.getEnabled()||!this.getEditable()||!this.getShowValueHelp()){return;}this.bValueHelpRequested=true;this._fireValueHelpRequest(false);E.preventDefault();E.stopPropagation();};A.prototype.onsaphide=A.prototype.onsapshow;A.prototype.onsapselect=function(E){this._fireValueHelpRequestForValueHelpOnly();};A.prototype.onfocusout=function(E){I.prototype.onfocusout.apply(this,arguments);this.removeStyleClass("sapMInputFocused");this.$("SuggDescr").text("");};A.prototype._hasTabularSuggestions=function(){return!!(this.getAggregation("suggestionColumns")&&this.getAggregation("suggestionColumns").length);};A.prototype._getSuggestionsTable=function(){if(this._bIsBeingDestroyed){return null;}if(!this._oSuggestionsTable){this._oSuggestionsTable=this._createSuggestionsTable();}return this._oSuggestionsTable;};A.prototype._createSuggestionsTable=function(){var i;var E=new T(this.getId()+"-popup-table",{mode:y.SingleSelectMaster,showNoData:false,showSeparators:z.None,width:"100%",enableBusyIndicator:false,rememberSelections:false,itemPress:function(F){if(D.system.desktop){this.focus();}var H=F.getParameter("listItem");this.setSelectionRow(H,true);}.bind(this),sticky:[l.Sticky.ColumnHeaders]});E.addEventDelegate({onAfterRendering:function(){var F;if(!this.getEnableSuggestionsHighlighting()){return;}F=E.$().find('tbody .sapMLabel');m(F,this._sTypedInValue);}},this);if(this.isMobileDevice()){E.addStyleClass("sapMInputSuggestionTableHidden");}E.updateItems=function(){T.prototype.updateItems.apply(this,arguments);this._refreshItemsDelayed();return this;};i=new r(function(F){var H=F.mutation;var J=F.child;var N=F.name==="items";switch(H){case"insert":if(N){J.setType(u.Active);this._createSuggestionPopupContent(true);this._synchronizeSuggestions();}break;case"remove":if(N){this._synchronizeSuggestions();}break;default:break;}}.bind(this));i.observe(E,{aggregations:["items","columns"]});return E;};A.prototype.clone=function(){var i=I.prototype.clone.apply(this,arguments);i.setRowResultFunction(this._fnRowResultFilter);i.setValue(this.getValue());return i;};A.prototype.setValue=function(V){this._iSetCount++;I.prototype.setValue.call(this,V);this._onValueUpdated(V);return this;};A.prototype.setDOMValue=function(i){this._$input.val(i);};A.prototype.getDOMValue=function(){return this._$input.val();};A.prototype._getInputValue=function(){var V=I.prototype._getInputValue.apply(this,arguments);if(this.getMaxLength()>0){V=V.substring(0,this.getMaxLength());}return V;};A.prototype.setMaxLength=function(i){i=this.validateProperty("maxLength",i);this.setProperty("maxLength",i);this.updateDomValue(this.getProperty("value"));return this;};A.prototype.updateInputField=function(N){if(this._isSuggestionsPopoverOpen()&&this.isMobileDevice()){this._getSuggestionsPopover().getInput().setValue(N)._doSelect();}else{N=this._getInputValue(N);this.setDOMValue(N);this.onChange(null,null,N);}};A.prototype.getAccessibilityInfo=function(){var i=I.prototype.getAccessibilityInfo.apply(this,arguments);i.description=((i.description||"")+" "+this.getDescription()).trim();return i;};A.prototype.preventChangeOnFocusLeave=function(E){return this.bFocusoutDueRendering||this.bValueHelpRequested;};A.prototype._getShowMoreButton=function(){return this._getSuggestionsPopover().getShowMoreButton();};A.prototype._getShowMoreButtonPress=function(){var i;if(this.getShowTableSuggestionValueHelp()){if(this._sTypedInValue){i=this._sTypedInValue;this.updateDomValue(i);this._resetTypeAhead();this._sTypedInValue=i;}this._fireValueHelpRequest(true);this._closeSuggestionPopup();}};A.prototype._addShowMoreButton=function(){var i=this._isSuggestionsPopoverInitiated()&&this._getSuggestionsPopover();var E=i&&i.getPopover();if(!E||!this._hasTabularSuggestions()||this._getShowMoreButton()){return;}var F=new B({text:this._oRb.getText("INPUT_SUGGESTIONS_SHOW_ALL"),press:this._getShowMoreButtonPress.bind(this)});if(E.isA("sap.m.Dialog")){i.setShowMoreButton(F);}else{i.setShowMoreButton(new e({content:[new f(),F]}));}};A.prototype._removeShowMoreButton=function(){var i=this._isSuggestionsPopoverInitiated()&&this._getSuggestionsPopover();var E=i&&i.getPopover();if(E&&this._hasTabularSuggestions()&&this._getShowMoreButton()){i.removeShowMoreButton();}};A.prototype._hasShowSelectedButton=function(){return false;};A.prototype._createSuggestionPopupContent=function(i){var E=this._getSuggestionsPopover();if(this._bIsBeingDestroyed||!E||E.getItemsContainer()){return;}this._getSuggestionsPopover().initContent(this.getId(),i?this._getSuggestionsTable():null);if(!this._hasTabularSuggestions()&&!i){this._decorateSuggestionsPopoverList(this._getSuggestionsPopover().getItemsContainer());}else{this._decorateSuggestionsPopoverTable();}};A.prototype._decorateSuggestionsPopoverList=function(i){if(!i||!i.isA("sap.m.List")){return;}i.addEventDelegate({onAfterRendering:function(){var E,F;if(!this.getEnableSuggestionsHighlighting()){return;}E=i.$().find('.sapMSLIInfo, .sapMSLITitleOnly');F=this._bDoTypeAhead?this._sTypedInValue:this.getValue();F=(F||"").toLowerCase();m(E,F);}},this);i.attachItemPress(function(E){if(D.system.desktop){this.focus();}var F=E.getParameter("listItem");if(!F.isA("sap.m.GroupHeaderListItem")){this.setSelectionItem(o.getItemByListItem(this.getSuggestionItems(),F),true);}},this);};A.prototype._decorateSuggestionsPopoverTable=function(){if(this.getShowTableSuggestionValueHelp()){this._addShowMoreButton();}};A.prototype._decoratePopupInput=function(i){if(!i){return;}i.setValueLiveUpdate(true);i.setValueState(this.getValueState());i.setShowValueHelp(this.getShowValueHelp());i.attachValueHelpRequest(function(){this.fireValueHelpRequest({fromSuggestions:true});this._getSuggestionsPopover().iPopupListSelectedIndex=-1;this._closeSuggestionPopup();}.bind(this));i.attachLiveChange(function(E){var V=E.getParameter("newValue");this.setDOMValue(this._getInputValue(this._getSuggestionsPopover().getInput().getValue()));this._triggerSuggest(V);this.fireLiveChange({value:V,newValue:V});}.bind(this));i._handleTypeAhead=function(){A.prototype._handleTypeAhead.call(i,this);}.bind(this);i._resetTypeAhead=function(){A.prototype._resetTypeAhead.call(i,this);}.bind(this);i.addEventDelegate({onsapenter:function(){this.setValue(this._sProposedItemText);}},this);return i;};A.prototype.forwardEventHandlersToSuggPopover=function(i){i.setOkPressHandler(this._closeSuggestionPopup.bind(this));i.setCancelPressHandler(this._closeSuggestionPopup.bind(this));};A.prototype._getSuggestionsPopover=function(){if(!this._isSuggestionsPopoverInitiated()){var i=this._oSuggPopover=new d(this);i.decorateParent(this);i.setInputLabels(this.getLabels.bind(this));this._createSuggestionsPopoverPopup();this.forwardEventHandlersToSuggPopover(i);i.attachEvent(d.M_EVENTS.SELECTION_CHANGE,function(E){var F=E.getParameter("newItem"),N=this.calculateNewValue(F),H=F&&F.isA("sap.m.GroupHeaderListItem"),J=this.getFocusDomRef(),O=J&&J.value.substring(0,J.selectionStart),U=E.getParameter("previousItem"),V=U&&U.isA("sap.m.GroupHeaderListItem"),W=p(s(J,V),N,O,V);this.setDOMValue(H?O:N);this._sSelectedSuggViaKeyboard=N;if(!H){this._doSelect(W);}},this);if(this.getShowTableSuggestionValueHelp()){this._addShowMoreButton();}}return this._oSuggPopover;};A.prototype.calculateNewValue=function(i){if(!i||(i&&i.isA("sap.m.GroupHeaderListItem"))){return"";}if(i.isA("sap.m.ColumnListItem")){return this._getInputValue(this._getRowResultFunction()(i));}if(i.isA("sap.m.StandardListItem")){return this._getInputValue(i.getTitle());}};A.prototype._createSuggestionsPopoverPopup=function(){if(!this._isSuggestionsPopoverInitiated()){return;}var i=this._getSuggestionsPopover();var E;i.createSuggestionPopup(this,{showSelectedButton:this._hasShowSelectedButton()});this._decoratePopupInput(i.getInput());E=i.getPopover();E.attachBeforeOpen(function(){this._updateSuggestionsPopoverValueState();},this);E.attachBeforeClose(function(){this._updateSuggestionsPopoverValueState();},this);if(this.isMobileDevice()){E.attachBeforeClose(function(){this.setDOMValue(this._getInputValue(i.getInput().getValue()));this.onChange();},this).attachAfterClose(function(){var F=i.getItemsContainer();if(!F){return;}if(T&&!(F instanceof T)){F.destroyItems();}else{F.removeSelections(true);}}).attachAfterOpen(function(){this._triggerSuggest(this.getValue());this._refreshListItems();},this).attachBeforeOpen(function(){var F=i.getInput();F.setPlaceholder(this.getPlaceholder());F.setMaxLength(this.getMaxLength());F.setValue(this.getValue());},this);}else{E.attachAfterClose(function(){var F=this._getSuggestionsPopover().getItemsContainer(),H=F&&F.getSelectedItem();if(this.getSelectionUpdatedFromList()){this.updateSelectionFromList(H);}if(!F){return;}if(F instanceof T){H&&H.removeStyleClass("sapMLIBFocused");F.removeSelections(true);}else{F.destroyItems();}this._deregisterPopupResize();},this).attachBeforeOpen(function(){i._sPopoverContentWidth=this.getMaxSuggestionWidth();this.setBeforeSuggestValue(this._sTypedInValue||this.getValue());i.resizePopup(this);this._registerPopupResize();},this);}this.setAggregation("_suggestionPopup",E);this._oSuggestionPopup=E;};A.prototype.setBeforeSuggestValue=function(V){this._sBeforeSuggest=V;};A.prototype.getBeforeSuggestValue=function(){return this._sBeforeSuggest;};A.prototype._registerPopupResize=function(){var i;if(this._isSuggestionsPopoverInitiated()){i=this._getSuggestionsPopover();this._sPopupResizeHandler=R.register(this,i.resizePopup.bind(i,this));}};A.prototype._deregisterPopupResize=function(){if(this._sPopupResizeHandler){this._sPopupResizeHandler=R.deregister(this._sPopupResizeHandler);}};A.prototype.showItems=function(F){var i,E,H=this._getFilterFunction();if(!this.getEnabled()||!this.getEditable()){return;}this.setFilterFunction(F||function(){return true;});this._clearSuggestionPopupItems();i=this._getFilteredSuggestionItems(this.getDOMValue());E=this.getSuggestionsCount(i);if(E>0){this._openSuggestionPopup();}else{this._hideSuggestionPopup();}this._applySuggestionAcc(E);this.setFilterFunction(H);};A.prototype.shouldValueStateMessageBeOpened=function(){var i=I.prototype.shouldValueStateMessageBeOpened.apply(this,arguments);if(!i||this._isSuggestionsPopoverOpen()){return false;}return true;};A.prototype._isSuggestionsPopoverOpen=function(){return this._isSuggestionsPopoverInitiated()&&this._getSuggestionsPopover().isOpen();};A.prototype._isSuggestionsPopoverInitiated=function(){return!!this._oSuggPopover;};A.prototype.isMobileDevice=function(){return D.system.phone;};A.prototype._openSuggestionsPopover=function(){this.closeValueStateMessage();this._updateSuggestionsPopoverValueState();this._getSuggestionsPopover().getPopover().open();};A.prototype._updateSuggestionsPopoverValueState=function(){var i=this._getSuggestionsPopover(),V=this.getValueState(),N=this.getValueState()!==i._getValueStateHeader().getValueState(),E=this.getFormattedValueStateText(),F=this.getValueStateText();if(!i){return;}if(this._isSuggestionsPopoverOpen()&&!E&&!N){this.setFormattedValueStateText(i._getValueStateHeader().getFormattedText());}i.updateValueState(V,(E||F),this.getShowValueStateMessage());if(this.isMobileDevice()){i.getInput().setValueState(V);}};A.prototype.setShowValueHelp=function(i){var E=this._isSuggestionsPopoverInitiated()&&this._getSuggestionsPopover().getInput();this.setProperty("showValueHelp",i);if(E){E.setShowValueHelp(i);}return this;};A.prototype.isValueHelpOnlyOpener=function(i){return true;};A.prototype._getFilteredSuggestionItems=function(V){var F,i=this._getSuggestionsPopover().getItemsContainer();if(this._hasTabularSuggestions()){if(this.isMobileDevice()&&i){i.removeStyleClass("sapMInputSuggestionTableHidden");}F=this.filterTabularItems(this.getSuggestionRows(),V);}else{F=n(this,this.getSuggestionItems(),V,this.getFilterSuggests(),true,this._getFilterFunction());this._mapItems(F);}return F;};A.prototype.filterTabularItems=function(i,V){var E,F=this.getFilterSuggests(),H=[],J=[],N=false,O=this._getFilterFunction();i.forEach(function(U){if(U.isA("sap.m.GroupHeaderListItem")){J.push({header:U,visible:false});}else{E=!F||O(V,U);U.setVisible(E);E&&H.push(U);if(!N&&E&&this._sProposedItemText===this._getRowResultFunction()(U)){U.setSelected(true);N=true;}if(J.length&&E){J[J.length-1].visible=true;}}},this);J.forEach(function(U){U.header.setVisible(U.visible);});this._getSuggestionsTable().invalidate();return{items:H,groups:J};};A.prototype._mapItems=function(F){var i=this.getSuggestionItems(),E=F.items,H=F.groups,J=H.map(function(W){return W.header;}),N=false,O=this._getSuggestionsPopover().getItemsContainer(),U,V;i.filter(function(W){return(E.indexOf(W)>-1)||(J.indexOf(W)>-1);}).map(function(W){U=o.createListItemFromCoreItem(W,true);O.addItem(U);if(!N&&this._sProposedItemText===W.getText()){U.setSelected(true);N=true;}return W;},this).filter(function(W){return J.indexOf(W)>-1;}).forEach(function(W){V=J.indexOf(W);if(V>-1){U=o.getListItem(W);U&&U.setVisible(H[V].visible);}});};return A;});
sap.ui.predefine('sap/m/InputBase',['./library','sap/ui/core/Control','sap/ui/core/EnabledPropagator','sap/ui/core/IconPool','./delegate/ValueStateMessage','sap/ui/core/message/MessageMixin','sap/ui/core/library','sap/ui/Device','./InputBaseRenderer','sap/base/Log',"sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/ui/dom/jquery/cursorPos","sap/ui/dom/jquery/getSelectedText","sap/ui/dom/jquery/selectText"],function(l,C,E,I,V,M,c,D,a,b,K,q){"use strict";var T=c.TextDirection;var d=c.TextAlign;var f=c.ValueState;var g=C.extend("sap.m.InputBase",{metadata:{interfaces:["sap.ui.core.IFormContent"],library:"sap.m",properties:{value:{type:"string",group:"Data",defaultValue:null,bindable:"bindable"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true},valueState:{type:"sap.ui.core.ValueState",group:"Appearance",defaultValue:f.None},name:{type:"string",group:"Misc",defaultValue:null},placeholder:{type:"string",group:"Misc",defaultValue:null},editable:{type:"boolean",group:"Behavior",defaultValue:true},valueStateText:{type:"string",group:"Misc",defaultValue:null},showValueStateMessage:{type:"boolean",group:"Misc",defaultValue:true},textAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:d.Initial},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:T.Inherit},required:{type:"boolean",group:"Misc",defaultValue:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{change:{parameters:{value:{type:"string"}}}},aggregations:{formattedValueStateText:{type:"sap.m.FormattedText",multiple:false,defaultValue:null},_invisibleFormattedValueStateText:{type:"sap.m.FormattedText",multiple:false,visibility:"hidden",defaultValue:null},_endIcon:{type:"sap.ui.core.Icon",multiple:true,visibility:"hidden"},_beginIcon:{type:"sap.ui.core.Icon",multiple:true,visibility:"hidden"}},designtime:"sap/m/designtime/InputBase.designtime"}});E.call(g.prototype);I.insertFontFaceStyle();M.call(g.prototype);g.ICON_PRESSED_CSS_CLASS="sapMInputBaseIconPressed";g.ICON_CSS_CLASS="sapMInputBaseIcon";g.prototype.bShowLabelAsPlaceholder=!D.support.input.placeholder;g.prototype.handleInput=function(e){if(this._bIgnoreNextInput||this._bIgnoreNextInputNonASCII){this._bIgnoreNextInput=false;this._bIgnoreNextInputNonASCII=false;e.setMarked("invalid");return;}this._bIgnoreNextInput=false;this._bIgnoreNextInputNonASCII=false;if(!this.getEditable()){e.setMarked("invalid");return;}if(document.activeElement!==e.target&&D.browser.msie&&this.getValue()===this.getLastValue()){e.setMarked("invalid");return;}this._bCheckDomValue=true;};g.prototype._getPlaceholder=function(){return this.getPlaceholder()||"";};g.prototype._getInputValue=function(v){return(v===undefined)?(this.$("inner").val()||""):v.toString();};g.prototype._getInputElementTagName=function(){if(!this._sInputTagElementName){this._sInputTagElementName=this._$input&&this._$input.get(0)&&this._$input.get(0).tagName;}return this._sInputTagElementName;};g.prototype.init=function(){this.setLastValue("");this.bRenderingPhase=false;this._oValueStateMessage=new V(this);this._bIsComposingCharacter=false;this.fnCloseValueStateOnClick=function(){this.closeValueStateMessage();};};g.prototype.oncompositionstart=function(){this._bIsComposingCharacter=true;};g.prototype.oncompositionend=function(e){this._bIsComposingCharacter=false;if(!D.browser.edge&&!D.browser.firefox){this.handleInput(e);}};g.prototype.isComposingCharacter=function(){return this._bIsComposingCharacter;};g.prototype.onBeforeRendering=function(){var F=this.getFormattedValueStateText();var o=F&&F.getHtmlText();var e=this.getAggregation("_invisibleFormattedValueStateText");var h=e&&e.getHtmlText();if(D.browser.msie&&D.browser.version>9&&!/^[\x00-\x7F]*$/.test(this.getValue())){this._bIgnoreNextInputNonASCII=true;this._oDomRefBeforeRendering=this.getDomRef();}if(this._bCheckDomValue&&!this.bRenderingPhase){this._sDomValue=this._getInputValue();}if(F&&o!==h){e&&e.destroy();this.setAggregation("_invisibleFormattedValueStateText",F.clone());}this.bRenderingPhase=true;};g.prototype.onAfterRendering=function(){var v=this.getValueState();var i=this.getFocusDomRef()===document.activeElement;var e=v===f.None;if(this._bCheckDomValue&&this._sDomValue!==this._getInputValue()){this.$("inner").val(this._sDomValue);}this.$("message").text(this.getValueStateText());this._bIgnoreNextInputNonASCII=this._bIgnoreNextInputNonASCII&&this._oDomRefBeforeRendering!==this.getDomRef();this._bCheckDomValue=false;this.bRenderingPhase=false;if(i){this[e?"closeValueStateMessage":"openValueStateMessage"]();}if(this.getAggregation("_invisibleFormattedValueStateText")){this.getAggregation("_invisibleFormattedValueStateText").getControls().forEach(function(o){o.getDomRef()&&o.getDomRef().setAttribute("tabindex",-1);});}};g.prototype.exit=function(){if(this._oValueStateMessage){this._oValueStateMessage.destroy();}this._oValueStateMessage=null;this._oDomRefBeforeRendering=null;};g.prototype.ontouchstart=function(e){e.setMarked();};g.prototype.onfocusin=function(e){this._bIgnoreNextInput=!this.bShowLabelAsPlaceholder&&D.browser.msie&&D.browser.version>9&&!!this.getPlaceholder()&&!this._getInputValue()&&this._getInputElementTagName()==="INPUT";this.addStyleClass("sapMFocus");this.openValueStateMessage();};g.prototype.onfocusout=function(e){this.removeStyleClass("sapMFocus");if(!this._bClickOnValueStateLink(e)){this.closeValueStateMessage();}};g.prototype.onsapfocusleave=function(e){if(!this.preventChangeOnFocusLeave(e)){this.onChange(e);}};g.prototype.preventChangeOnFocusLeave=function(e){return this.bFocusoutDueRendering;};g.prototype.getChangeEventParams=function(){return{};};g.prototype.ontap=function(e){return;};g.prototype.onChange=function(e,p,n){p=p||this.getChangeEventParams();if(!this.getEditable()||!this.getEnabled()){return;}var v=this._getInputValue(n);if(v!==this.getLastValue()){this.setValue(v);v=this.getValue();this.setLastValue(v);this.fireChangeEvent(v,p);return true;}else{this._bCheckDomValue=false;}};g.prototype.fireChangeEvent=function(v,p){var o=q.extend({value:v,newValue:v},p);this.fireChange(o);};g.prototype.onValueRevertedByEscape=function(v,p){this.fireEvent("liveChange",{value:v,escPressed:true,previousValue:p,newValue:v});};g.prototype.onsapenter=function(e){if((D.browser.safari||D.browser.msie)&&this.isComposingCharacter()){e.setMarked("invalid");return;}this.onChange(e);};g.prototype.onsapescape=function(e){var v=this._getInputValue();if(v!==this.getLastValue()){e.setMarked();e.preventDefault();this.updateDomValue(this.getLastValue());this.onValueRevertedByEscape(this.getLastValue(),v);}};g.prototype.oninput=function(e){this.handleInput(e);};g.prototype.onkeydown=function(e){if(this.getDomRef("inner")&&this.getDomRef("inner").getAttribute("readonly")&&e.keyCode==K.BACKSPACE){e.preventDefault();}};g.prototype.oncut=function(e){};g.prototype.selectText=function(s,S){this.$("inner").selectText(s,S);return this;};g.prototype.getSelectedText=function(){return this.$("inner").getSelectedText();};g.prototype.setProperty=function(p,v,s){if(p=="value"){this._bCheckDomValue=false;}return C.prototype.setProperty.apply(this,arguments);};g.prototype.getFocusInfo=function(){var F=C.prototype.getFocusInfo.call(this),o=this.getFocusDomRef();q.extend(F,{cursorPos:0,selectionStart:0,selectionEnd:0});if(o){F.cursorPos=q(o).cursorPos();try{F.selectionStart=o.selectionStart;F.selectionEnd=o.selectionEnd;}catch(e){}}return F;};g.prototype.applyFocusInfo=function(F){C.prototype.applyFocusInfo.call(this,F);this.$("inner").cursorPos(F.cursorPos);this.selectText(F.selectionStart,F.selectionEnd);return this;};g.prototype.updateDomValue=function(v){var i=this.getFocusDomRef();if(!this.isActive()){return this;}v=this._getInputValue(v);this._bCheckDomValue=true;if(this._bPreferUserInteraction){this.handleInputValueConcurrency(v);}else{i.value=v;}return this;};g.prototype._aValueStateLinks=function(){if(this.getFormattedValueStateText()&&this.getFormattedValueStateText().getHtmlText()&&this.getFormattedValueStateText().getControls().length){return this.getFormattedValueStateText().getControls();}else{return[];}};g.prototype._bClickOnValueStateLink=function(e){var v=this._aValueStateLinks();return v.some(function(L){return e.relatedTarget===L.getDomRef();});};g.prototype._attachValueStateLinkPress=function(){this._aValueStateLinks().forEach(function(L){L.attachPress(this.fnCloseValueStateOnClick,this);},this);};g.prototype._detachValueStateLinkPress=function(){this._aValueStateLinks().forEach(function(L){L.detachPress(this.fnCloseValueStateOnClick,this);},this);};g.prototype.handleInputValueConcurrency=function(v){var i=this.getFocusDomRef(),s=i&&this._getInputValue(),e=this.getProperty("value"),h=document.activeElement===i,B=this.isBound("value")&&this.getBindingInfo("value").skipModelUpdate;if(h&&B&&s&&(e!==s)){return this;}i.value=v;if(h&&B&&!s){i.select();}};g.prototype._setPreferUserInteraction=function(p){this._bPreferUserInteraction=p;};g.prototype.closeValueStateMessage=function(){setTimeout(function(){if(this._oValueStateMessage){this._detachValueStateLinkPress();this._oValueStateMessage.close();}}.bind(this),0);};g.prototype.getDomRefForValueStateMessage=function(){return this.getDomRef("content");};g.prototype.getPopupAnchorDomRef=function(){return this.getDomRef();};g.prototype.iOpenMessagePopupDuration=0;g.prototype.getValueStateMessageId=function(){return this.getId()+"-message";};g.prototype.getLabels=function(){var L=this.getAriaLabelledBy().map(function(s){return sap.ui.getCore().byId(s);});var o=sap.ui.require("sap/ui/core/LabelEnablement");if(o){L=L.concat(o.getReferencingLabels(this).map(function(s){return sap.ui.getCore().byId(s);}));}return L;};g.prototype.openValueStateMessage=function(){if(this._oValueStateMessage&&this.shouldValueStateMessageBeOpened()){setTimeout(function(){if(!this.bIsDestroyed){this._detachValueStateLinkPress();this._attachValueStateLinkPress();this._oValueStateMessage.open();}}.bind(this),0);}};g.prototype.shouldValueStateMessageBeOpened=function(){return(this.getValueState()!==f.None)&&this.getEditable()&&this.getEnabled()&&this.getShowValueStateMessage();};g.prototype._calculateIconsSpace=function(){var e=this.getAggregation("_endIcon")||[],B=this.getAggregation("_beginIcon")||[],i=e.concat(B),h;return i.reduce(function(A,o){h=o&&o.getDomRef()?o.getDomRef().offsetWidth:0;return A+h;},0);};g.prototype.setValue=function(v){v=this.validateProperty("value",v);v=this._getInputValue(v);this.updateDomValue(v);if(v!==this.getProperty("value")){this.setLastValue(v);}this.setProperty("value",v,true);return this;};g.prototype.getFocusDomRef=function(){return this.getDomRef("inner");};g.prototype.getIdForLabel=function(){return this.getId()+"-inner";};g.prototype.getAccessibilityInfo=function(){var r=this.getRequired()?'Required':'',R=this.getRenderer();return{role:R.getAriaRole(this),type:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_INPUT"),description:[this.getValue()||"",R.getLabelledByAnnouncement(this),R.getDescribedByAnnouncement(this),r].join(" ").trim(),focusable:this.getEnabled(),enabled:this.getEnabled(),editable:this.getEnabled()&&this.getEditable()};};g.prototype._addIcon=function(i,o){if(["begin","end"].indexOf(i)===-1){b.error('icon position is not "begin", neither "end", please check again the passed setting');return null;}var e=I.createControlByURI(o).addStyleClass(g.ICON_CSS_CLASS);this.addAggregation("_"+i+"Icon",e);return e;};g.prototype.addBeginIcon=function(i){return this._addIcon("begin",i);};g.prototype.addEndIcon=function(i){return this._addIcon("end",i);};Object.defineProperty(g.prototype,"_$input",{get:function(){return this.$("inner");}});g.prototype.setLastValue=function(v){this._lastValue=v;return this;};g.prototype.getLastValue=function(){return this._lastValue;};return g;});
sap.ui.predefine('sap/m/InputBaseRenderer',['sap/ui/core/Renderer','sap/ui/core/Core','sap/ui/core/library','sap/ui/core/ValueStateSupport','sap/ui/core/LabelEnablement','sap/ui/Device'],function(R,C,c,V,L,D){"use strict";var T=c.TextDirection;var a=c.ValueState;var I={apiVersion:2};I.render=function(r,o){var v=o.getValueState(),t=o.getTextDirection(),s=R.getTextAlign(o.getTextAlign(),t),A=sap.ui.getCore().getConfiguration().getAccessibility(),b=o.getAggregation("_beginIcon")||[],e=o.getAggregation("_endIcon")||[],d,f;r.openStart("div",o);this.addOuterStyles(r,o);this.addControlWidth(r,o);r.class("sapMInputBase");this.addPaddingClass(r,o);this.addCursorClass(r,o);this.addOuterClasses(r,o);if(!o.getEnabled()){r.class("sapMInputBaseDisabled");}if(!o.getEditable()){r.class("sapMInputBaseReadonly");}if(v!==a.None&&o.getEditable()&&o.getEnabled()){r.class("sapMInputBaseState");}if(b.length){d=b.filter(function(i){return i.getVisible();});d.length&&r.class("sapMInputBaseHasBeginIcons");}if(e.length){f=e.filter(function(i){return i.getVisible();});f.length&&r.class("sapMInputBaseHasEndIcons");}this.writeOuterAttributes(r,o);var g=o.getTooltip_AsString();if(g){r.attr("title",g);}r.openEnd();r.openStart("div",o.getId()+"-content");r.class("sapMInputBaseContentWrapper");if(!o.getEnabled()){r.class("sapMInputBaseDisabledWrapper");}else if(!o.getEditable()){r.class("sapMInputBaseReadonlyWrapper");}if(v!==a.None&&o.getEditable()&&o.getEnabled()){this.addValueStateClasses(r,o);}this.addWrapperStyles(r,o);r.openEnd();if(b.length){this.writeIcons(r,b);}this.prependInnerContent(r,o);this.openInputTag(r,o);if(o.getName()){r.attr("name",o.getName());}if(!o.bShowLabelAsPlaceholder&&o._getPlaceholder()){r.attr("placeholder",o._getPlaceholder());}if(o.getMaxLength&&o.getMaxLength()>0){r.attr("maxlength",o.getMaxLength());}if(!o.getEnabled()){r.attr("disabled","disabled");}else if(!o.getEditable()){r.attr("readonly","readonly");}if(t!=T.Inherit){r.attr("dir",t.toLowerCase());}this.writeInnerValue(r,o);if(A){this.writeAccessibilityState(r,o);}if(D.browser.mozilla){if(g){r.attr("x-moz-errormessage",g);}else{r.attr("x-moz-errormessage"," ");}}this.writeInnerAttributes(r,o);r.class("sapMInputBaseInner");this.addInnerClasses(r,o);r.style("text-align",s);this.addInnerStyles(r,o);this.endInputTag(r,o);this.writeInnerContent(r,o);this.closeInputTag(r,o);if(e.length){this.writeIcons(r,e);}r.close("div");this.writeDecorations(r,o);if(A){this.renderAriaLabelledBy(r,o);this.renderAriaDescribedBy(r,o);this.renderValueStateAccDom(r,o);}r.close("div");};I.getAriaRole=function(o){return"textbox";};I.getAriaLabelledBy=function(o){if(this.getLabelledByAnnouncement(o)){return o.getId()+"-labelledby";}};I.getLabelledByAnnouncement=function(o){return"";};I.renderAriaLabelledBy=function(r,o){var A=this.getLabelledByAnnouncement(o);if(A){r.openStart("span",o.getId()+"-labelledby").attr("aria-hidden","true").class("sapUiInvisibleText").openEnd().text(A.trim()).close("span");}};I.getAriaDescribedBy=function(o){if(this.getDescribedByAnnouncement(o)){return o.getId()+"-describedby";}};I.getDescribedByAnnouncement=function(o){return"";};I.renderAriaDescribedBy=function(r,o){var A=this.getDescribedByAnnouncement(o);if(A){r.openStart("span",o.getId()+"-describedby").attr("aria-hidden","true").class("sapUiInvisibleText").openEnd().text(A.trim()).close("span");}};I.renderValueStateAccDom=function(r,o){var v=o.getValueState();if(v===a.None||!o.getEditable()||!o.getEnabled()){return;}var s=document.activeElement!==o.getFocusDomRef()||v===a.Error;var A=o.getValueStateMessageId()+"-sr";var f=o.getAggregation("_invisibleFormattedValueStateText");var b=C.getLibraryResourceBundle("sap.m").getText("INPUTBASE_VALUE_STATE_"+v.toUpperCase());r.openStart("div",A).class("sapUiPseudoInvisibleText");if(s){r.attr("aria-live","assertive");}r.attr("aria-atomic","true").openEnd().text(b).text(" ");if(f){r.renderControl(f);}else{r.text(o.getValueStateText()||V.getAdditionalText(o));}r.close("div");};I.getAccessibilityState=function(o){var A=this.getAriaLabelledBy(o),s=this.getAriaDescribedBy(o),r=this.getAriaRole(o),v=o.getValueStateMessageId()+"-sr",m={};if(r){m.role=r;}if(o.getValueState()===a.Error&&o.getEditable()&&o.getEnabled()){m.invalid=true;m.errormessage=v;}else if(o.getValueState()!==a.None&&o.getEditable()&&o.getEnabled()){s=s?v+" "+s:v;}if(A){m.labelledby={value:A.trim(),append:true};}if(s){m.describedby={value:s.trim(),append:true};}m.disabled=null;m.readonly=null;return m;};I.writeAccessibilityState=function(r,o){r.accessibilityState(o,this.getAccessibilityState(o));};I.openInputTag=function(r,o){r.voidStart("input",o.getId()+"-"+this.getInnerSuffix());};I.endInputTag=function(r,o){r.voidEnd();};I.writeInnerValue=function(r,o){r.attr("value",o.getValue());};I.addCursorClass=function(r,o){};I.addPaddingClass=function(r,o){r.class("sapMInputBaseHeightMargin");};I.addOuterStyles=function(r,o){};I.addControlWidth=function(r,o){if(!o.getProperty('width')){r.class("sapMInputBaseNoWidth");}r.style("width",o.getWidth());};I.addOuterClasses=function(r,o){};I.writeOuterAttributes=function(r,o){};I.addInnerStyles=function(r,o){};I.addWrapperStyles=function(r,o){r.style("width","100%");};I.addInnerClasses=function(r,o){};I.writeInnerAttributes=function(r,o){};I.prependInnerContent=function(r,o){};I.writeInnerContent=function(r,o){};I.writeIcons=function(r,i){r.openStart("div").attr("tabindex","-1").class("sapMInputBaseIconContainer").openEnd();i.forEach(r.renderControl,r);r.close("div");};I.writeDecorations=function(r,o){};I.closeInputTag=function(r,o){};I.addPlaceholderStyles=function(r,o){};I.addPlaceholderClasses=function(r,o){};I.addValueStateClasses=function(r,o){r.class("sapMInputBaseContentWrapperState");r.class("sapMInputBaseContentWrapper"+o.getValueState());};I.getInnerSuffix=function(){return"inner";};return I;},true);
sap.ui.predefine('sap/m/InputListItem',["sap/ui/core/library","./library","./ListItemBase","./InputListItemRenderer"],function(c,l,L,I){"use strict";var T=c.TextDirection;var a=L.extend("sap.m.InputListItem",{metadata:{library:"sap.m",properties:{label:{type:"string",group:"Misc",defaultValue:null},labelTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:T.Inherit}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content",bindable:"bindable"}},designtime:"sap/m/designtime/InputListItem.designtime"}});a.prototype.getContentAnnouncement=function(){var A=this.getLabel()+" . ";this.getContent().forEach(function(C){A+=L.getAccessibilityText(C)+" ";});return A.trim();};return a;});
sap.ui.predefine('sap/m/InputListItemRenderer',["sap/ui/core/library","sap/ui/core/Renderer","./ListItemBaseRenderer"],function(c,R,L){"use strict";var T=c.TextDirection;var I=R.extend(L);I.apiVersion=2;I.renderLIAttributes=function(r,l){r.class("sapMILI");};I.renderLIContent=function(r,l){var s=l.getLabel();var i=l.getId()+"-label";if(s){r.openStart("span",i);r.class("sapMILILabel");var a=l.getLabelTextDirection();if(a!==T.Inherit){r.attr("dir",a.toLowerCase());}r.openEnd();r.text(s);r.close("span");}r.openStart("div").class("sapMILIDiv").class("sapMILI-CTX").openEnd();l.getContent().forEach(function(C){if(C.addAriaLabelledBy&&C.getAriaLabelledBy().indexOf(i)===-1){C.addAriaLabelledBy(i);}r.renderControl(C);});r.close("div");};return I;},true);
sap.ui.predefine('sap/m/InputRenderer',['sap/ui/core/InvisibleText','sap/ui/core/Renderer','./InputBaseRenderer','sap/m/library'],function(I,R,a,l){"use strict";var b=l.InputType;var c=R.extend(a);c.apiVersion=2;c.addOuterClasses=function(r,C){r.class("sapMInput");if(C.getDescription()){r.class("sapMInputWithDescription");}};c.writeInnerAttributes=function(r,C){var s=C.getShowSuggestion();r.attr("type",C.getType().toLowerCase());if(C.getType()==b.Number){r.attr("step","any");}if(C.getType()==b.Number&&sap.ui.getCore().getConfiguration().getRTL()){r.attr("dir","ltr").style("text-align","right");}if(s){r.attr("aria-haspopup","listbox");}if(s||C.getShowValueStateMessage()){r.attr("autocomplete","off");}if((!C.getEnabled()&&C.getType()=="Password")||(C.getShowSuggestion()&&C.isMobileDevice())||(C.getValueHelpOnly()&&C.getEnabled()&&C.getEditable()&&C.getShowValueHelp())){r.attr("readonly","readonly");}};c.addInnerClasses=function(r,C){};c.writeDescription=function(r,C){r.openStart("div").class("sapMInputDescriptionWrapper").style("width","calc(100% - "+C.getFieldWidth()+")").openEnd();r.openStart("span",C.getId()+"-descr").class("sapMInputDescriptionText").openEnd().text(C.getDescription()).close("span");r.close("div");};c.writeDecorations=function(r,C){if(C.getDescription()){this.writeDescription(r,C);}if(sap.ui.getCore().getConfiguration().getAccessibility()){if(C.getShowSuggestion()&&C.getEnabled()&&C.getEditable()){r.openStart("span",C.getId()+"-SuggDescr").class("sapUiPseudoInvisibleText").attr("role","status").attr("aria-live","polite").openEnd().close("span");}}};c.addWrapperStyles=function(r,C){r.style("width",C.getDescription()?C.getFieldWidth():"100%");};c.getAriaLabelledBy=function(C){var d=a.getAriaLabelledBy.call(this,C)||"";if(C.getDescription()){d=d+" "+C.getId()+"-descr";}return d;};c.getAriaDescribedBy=function(C){var A=a.getAriaDescribedBy.apply(this,arguments);function d(s){A=A?A+" "+s:s;}if(C.getShowValueHelp()&&C.getEnabled()&&C.getEditable()){d(I.getStaticId("sap.m","INPUT_VALUEHELP"));if(C.getValueHelpOnly()){d(I.getStaticId("sap.m","INPUT_DISABLED"));}}return A;};c.getAriaRole=function(C){return"";};c.getAccessibilityState=function(C){var A=a.getAccessibilityState.apply(this,arguments);return A;};return c;},true);
sap.ui.predefine('sap/m/InstanceManager',["sap/base/assert","sap/base/Log","sap/ui/thirdparty/jquery"],function(a,L,q){"use strict";var I={};var r={},e=[];var p="_POPOVER_",d="_DIALOG_",l="_LIGHTBOX_";I.addInstance=function(c,i){a(c,"In sap.m.InstanceManager.addInstance method, the parameter sCategoryId can't be null or empty string");a(i instanceof Object,"In sap.m.InstanceManager.addInstance method, the parameter oInstance should be an object");if(!r[c]){r[c]=[];}if(r[c].indexOf(i)===-1){r[c].push(i);}return this;};I.removeInstance=function(c,o){var C=r[c],i;a(c,"In sap.m.InstanceManager.removeInstance method, the parameter sCategoryId can't be null or empty string");a(o instanceof Object,"In sap.m.InstanceManager.removeInstance method, the parameter oInstance should be an object");if(!C){return null;}i=C.indexOf(o);return(i===-1)?null:C.splice(i,1);};I.getInstancesByCategoryId=function(c){a(c,"In sap.m.InstanceManager.getInstancesByCategoryId method, the parameter sCategoryId can't be null or empty string");return r[c]||e;};I.isInstanceManaged=function(c,i){a(c,"In sap.m.InstanceManager.isInstanceManaged method, the parameter sCategoryId can't be null or empty string");a(i instanceof Object,"In sap.m.InstanceManager.isInstanceManaged method, the parameter oInstance should be an object");var C=r[c];if(!C||!i){return false;}return C.indexOf(i)!==-1;};I.isCategoryEmpty=function(c){a(c,"In sap.m.InstanceManager.isCategoryEmpty method, the parameter sCategoryId can't be null or empty string");var C=r[c];return!C||C.length===0;};I.addPopoverInstance=function(P){if(typeof P.close==="function"){I.addInstance(p,P);}else{L.warning("In method addPopoverInstance: the parameter doesn't have a close method and can't be managed.");}return this;};I.addDialogInstance=function(D){if(typeof D.close==="function"){I.addInstance(d,D);}else{L.warning("In method addDialogInstance: the parameter doesn't have a close method and can't be managed.");}return this;};I.addLightBoxInstance=function(o){if(typeof o.close==="function"){I.addInstance(l,o);}else{L.warning("In method addLightBoxInstance: the parameter doesn't have a close method and can't be managed.");}return this;};I.removePopoverInstance=function(P){return I.removeInstance(p,P);};I.removeDialogInstance=function(D){return I.removeInstance(d,D);};I.removeLightBoxInstance=function(o){return I.removeInstance(l,o);};I.hasOpenPopover=function(){return!I.isCategoryEmpty(p);};I.hasOpenDialog=function(){return!I.isCategoryEmpty(d);};I.hasOpenLightBox=function(){return!I.isCategoryEmpty(l);};I.isDialogOpen=function(D){return I.isInstanceManaged(d,D);};I.isPopoverOpen=function(P){return I.isInstanceManaged(p,P);};I.isLightBoxOpen=function(o){return I.isInstanceManaged(l,o);};I.getOpenPopovers=function(){return I.getInstancesByCategoryId(p);};I.getOpenDialogs=function(){return I.getInstancesByCategoryId(d);};I.getOpenLightBoxes=function(){return I.getInstancesByCategoryId(l);};I.closeAllPopovers=function(){var b=I.getOpenPopovers(),i;for(i=0;i<b.length;i++){b[i].close();}return this;};I.closeAllDialogs=function(c){var D,b=[],f=I.getOpenDialogs(),g,i;for(i=0;i<f.length;i++){g=f[i];if(!g.getCloseOnNavigation()){continue;}if(c){D=new q.Deferred().done();b.push(D);g.attachEvent("afterClose",(function(h){return function(){h.resolve();};}(D)));}g.close();}if(c){q.when.apply(this,b).then(c);}return this;};I.closeAllLightBoxes=function(){var i=I.getOpenLightBoxes(),b=i.length,c;for(c=0;c<b;c+=1){i[c].close();}return this;};return I;},true);
sap.ui.predefine('sap/m/Label',['./library','sap/ui/core/Control','sap/ui/core/LabelEnablement','sap/m/HyphenationSupport','sap/ui/core/library','./LabelRenderer'],function(l,C,L,H,c,a){"use strict";var T=c.TextDirection;var b=c.TextAlign;var d=l.LabelDesign;var V=c.VerticalAlign;var W=l.WrappingType;var e=C.extend("sap.m.Label",{metadata:{interfaces:["sap.ui.core.Label","sap.ui.core.IShrinkable","sap.m.IOverflowToolbarContent","sap.m.IHyphenation"],library:"sap.m",properties:{design:{type:"sap.m.LabelDesign",group:"Appearance",defaultValue:d.Standard},text:{type:"string",group:"Misc",defaultValue:null},textAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:b.Begin},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:T.Inherit},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:''},required:{type:"boolean",group:"Misc",defaultValue:false},displayOnly:{type:"boolean",group:"Appearance",defaultValue:false},wrapping:{type:"boolean",group:"Appearance",defaultValue:false},wrappingType:{type:"sap.m.WrappingType",group:"Appearance",defaultValue:W.Normal},vAlign:{type:"sap.ui.core.VerticalAlign",group:"Appearance",defaultValue:V.Inherit}},associations:{labelFor:{type:"sap.ui.core.Control",multiple:false}},designtime:"sap/m/designtime/Label.designtime"}});e.prototype.getAccessibilityInfo=function(){return{description:this.getText()};};e.prototype.getOverflowToolbarConfig=function(){var o={canOverflow:true,propsUnrelatedToSize:["design","required","displayOnly"]};function g(f){var h=f&&f.getLayoutData();if(i(h,"sap/m/OverflowToolbarLayoutData")){return h.getGroup();}}o.onBeforeEnterOverflow=function(f){var I=false,t,s,h,j,k;t=f.getParent();if(!i(t,"sap/m/OverflowToolbar")){return;}s=f.getLabelFor();h=s&&sap.ui.getCore().byId(s);if(!h||(t.indexOfContent(h)<0)){return;}j=g(f);k=g(h);I=j&&(j===k);f.toggleStyleClass("sapMLabelMediumMarginTop",I,true);};o.onAfterExitOverflow=function(f){f.toggleStyleClass("sapMLabelMediumMarginTop",false,true);};return o;};e.prototype.getTextsToBeHyphenated=function(){return{"main":this.getText()};};e.prototype.getDomRefsForHyphenatedTexts=function(){return{"main":this.$("bdi")[0]};};L.enrich(e.prototype);H.mixInto(e.prototype);function i(o,m){if(o&&m){var f=sap.ui.require(m);return(typeof f==='function')&&(o instanceof f);}}return e;});
sap.ui.predefine('sap/m/LabelRenderer',['sap/ui/core/Core','sap/ui/core/Renderer','sap/m/library','sap/ui/core/library','sap/m/HyphenationSupport',"sap/ui/core/LabelEnablement"],function(C,R,l,c,H,L){"use strict";var T=c.TextDirection;var V=c.VerticalAlign;var a=l.LabelDesign;var b={apiVersion:2};b.render=function(d,o){var r=b,t=o.getTextDirection(),s=o.getTextAlign(),w=o.getWidth(),e=o.getText(),f=o.getTooltip_AsString(),g=o.getLabelForRendering(),h=g?"label":"span",D=o.isDisplayOnly(),v=o.getVAlign();d.openStart(h,o);d.class("sapMLabel");d.class("sapUiSelectable");if(o.isWrapping()){d.class("sapMLabelWrapped");}if(o.getDesign()==a.Bold){d.style("font-weight","bold");}if(o.isRequired()){d.class("sapMLabelRequired");}if(g){L.writeLabelForAttribute(d,o);}else if(o.getParent()instanceof sap.m.Toolbar){d.class("sapMLabelTBHeader");}d.accessibilityState({label:o.getText()});if(t!==T.Inherit){d.attr("dir",t.toLowerCase());}if(w){d.style("width",w);}else{d.class("sapMLabelMaxWidth");}if(s){s=r.getTextAlign(s,t);if(s){d.style("text-align",s);}}if(e==""){d.class("sapMLabelNoText");}if(D){d.class("sapMLabelDisplayOnly");}if(v!=V.Inherit){d.style("vertical-align",v.toLowerCase());}H.writeHyphenationClass(d,o);if(f){d.attr("title",f);}d.openEnd();d.openStart("span",o.getId()+"-text");d.class("sapMLabelTextWrapper");d.openEnd();d.openStart("bdi",o.getId()+"-bdi");if(t!==T.Inherit){d.attr("dir",t.toLowerCase());}d.openEnd();if(e){e=H.getTextForRender(o,"main");d.text(e);}d.close("bdi");d.close("span");d.openStart("span");d.class("sapMLabelColonAndRequired");d.attr("data-colon",C.getLibraryResourceBundle("sap.m").getText("LABEL_COLON"));d.openEnd();d.close("span");d.close(h);};b.getTextAlign=R.getTextAlign;return b;},true);
sap.ui.predefine('sap/m/Link',["./library","sap/ui/core/Control","sap/ui/core/InvisibleText","sap/ui/core/EnabledPropagator","sap/ui/core/LabelEnablement","sap/ui/core/library","sap/ui/Device","./LinkRenderer","sap/ui/events/KeyCodes","sap/base/Log","sap/base/security/URLListValidator"],function(l,C,I,E,L,c,D,a,K,b,U){"use strict";var T=c.TextDirection;var d=c.TextAlign;var A=c.aria.HasPopup;var e=C.extend("sap.m.Link",{metadata:{interfaces:["sap.ui.core.IShrinkable","sap.ui.core.IFormContent","sap.ui.core.ITitleContent"],library:"sap.m",designtime:"sap/m/designtime/Link.designtime",properties:{text:{type:"string",group:"Data",defaultValue:''},enabled:{type:"boolean",group:"Behavior",defaultValue:true},target:{type:"string",group:"Behavior",defaultValue:null},rel:{type:"string",group:"Behavior",defaultValue:null},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},href:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},validateUrl:{type:"boolean",group:"Data",defaultValue:false},wrapping:{type:"boolean",group:"Appearance",defaultValue:false},textAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:d.Initial},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:T.Inherit},subtle:{type:"boolean",group:"Behavior",defaultValue:false},emphasized:{type:"boolean",group:"Behavior",defaultValue:false},ariaHasPopup:{type:"sap.ui.core.aria.HasPopup",group:"Accessibility",defaultValue:A.None}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{press:{allowPreventDefault:true,parameters:{ctrlKey:{type:"boolean"},metaKey:{type:"boolean"}}}},dnd:{draggable:true,droppable:false}}});E.call(e.prototype);e.prototype.onBeforeRendering=function(){};e.prototype.onkeydown=function(o){if(o.which===K.SPACE||o.which===K.SHIFT||o.which===K.ESCAPE){if(o.which===K.SPACE){if(this.getEnabled()||this.getHref()){o.setMarked();o.preventDefault();this._bPressedSpace=true;}}if(this._bPressedSpace&&(o.which===K.ESCAPE||o.which===K.SHIFT)){this._bPressedEscapeOrShift=true;}}else{if(this._bPressedSpace){o.preventDefault();}}};e.prototype.onkeyup=function(o){if(o.which===K.SPACE){if(!this._bPressedEscapeOrShift){this._handlePress(o);if(this.getHref()&&!o.isDefaultPrevented()){o.preventDefault();o.setMarked();var f=document.createEvent('MouseEvents');f.initEvent('click',false,true);this.getDomRef().dispatchEvent(f);}}else{this._bPressedEscapeOrShift=false;}this._bPressedSpace=false;}};e.prototype._handlePress=function(o){if(this.getEnabled()){o.setMarked();if(!this.firePress({ctrlKey:!!o.ctrlKey,metaKey:!!o.metaKey})||!this.getHref()){o.preventDefault();}}else{o.preventDefault();}};e.prototype.onsapenter=e.prototype._handlePress;if(D.support.touch){e.prototype.ontap=e.prototype._handlePress;}else{e.prototype.onclick=e.prototype._handlePress;}e.prototype.ontouchstart=function(o){if(this.getEnabled()){o.setMarked();}};e.prototype.setSubtle=function(s){this.setProperty("subtle",s);if(s&&!e.prototype._sAriaLinkSubtleId){e.prototype._sAriaLinkSubtleId=I.getStaticId("sap.m","LINK_SUBTLE");}return this;};e.prototype.setEmphasized=function(f){this.setProperty("emphasized",f);if(f&&!e.prototype._sAriaLinkEmphasizedId){e.prototype._sAriaLinkEmphasizedId=I.getStaticId("sap.m","LINK_EMPHASIZED");}return this;};e.prototype._isHrefValid=function(u){return this.getValidateUrl()?U.validate(u):true;};e.prototype.getAccessibilityInfo=function(){return{role:"link",type:this.getText()?sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_LINK"):undefined,description:this.getText()||this.getHref()||"",focusable:this.getEnabled(),enabled:this.getEnabled()};};e.prototype.getFormDoNotAdjustWidth=function(){return true;};e.prototype._getTabindex=function(){return(this.getText()&&this.getEnabled())?"0":"-1";};e.prototype._determineSelfReferencePresence=function(){var f=this.getAriaLabelledBy(),g=f.indexOf(this.getId())!==-1,h=L.getReferencingLabels(this).length>0,p=this.getParent(),i=!!(p&&p.enhanceAccessibilityState);return!g&&(f.length>0||h||i);};return e;});
sap.ui.predefine('sap/m/LinkRenderer',["sap/ui/core/Renderer","sap/ui/core/library","sap/ui/util/defaultLinkTypes"],function(R,c,d){"use strict";var T=c.TextDirection;var A=c.aria.HasPopup;var L={apiVersion:2};L.render=function(r,C){var t=C.getTextDirection(),s=R.getTextAlign(C.getTextAlign(),t),S=C._determineSelfReferencePresence(),h=C.getAriaHasPopup(),H=C.getHref(),a=d(C.getRel(),C.getTarget()),o={labelledby:S?{value:C.getId(),append:true}:undefined,haspopup:(h===A.None)?null:h.toLowerCase()},i=H&&C._isHrefValid(H),e=C.getEnabled(),b="";r.openStart("a",C);r.class("sapMLnk");if(C.getSubtle()){r.class("sapMLnkSubtle");b+=C._sAriaLinkSubtleId;}if(C.getEmphasized()){r.class("sapMLnkEmphasized");b+=" "+C._sAriaLinkEmphasizedId;}o.describedby=b?{value:b.trim(),append:true}:undefined;if(!e){r.class("sapMLnkDsbl");r.attr("aria-disabled","true");}r.attr("tabindex",C._getTabindex());if(C.getWrapping()){r.class("sapMLnkWrapping");}if(C.getTooltip_AsString()){r.attr("title",C.getTooltip_AsString());}if(i&&e){r.attr("href",H);}else if(C.getText()){r.attr("href","");}if(C.getTarget()){r.attr("target",C.getTarget());}if(a){r.attr("rel",a);}if(C.getWidth()){r.style("width",C.getWidth());}else{r.class("sapMLnkMaxWidth");}if(s){r.style("text-align",s);}if(t!==T.Inherit){r.attr("dir",t.toLowerCase());}C.getDragDropConfig().forEach(function(D){if(!D.getEnabled()){r.attr("draggable",false);}});r.accessibilityState(C,o);r.openEnd();if(this.writeText){this.writeText(r,C);}else{this.renderText(r,C);}r.close("a");};L.renderText=function(r,C){r.text(C.getText());};return L;},true);
sap.ui.predefine('sap/m/List',["./library","./ListBase","./ListRenderer"],function(l,L,a){"use strict";var B=l.BackgroundDesign;var b=L.extend("sap.m.List",{metadata:{library:"sap.m",properties:{backgroundDesign:{type:"sap.m.BackgroundDesign",group:"Appearance",defaultValue:B.Solid}}}});return b;});
sap.ui.require.preload({
/*
 * Copyright (c) Microsoft.  All rights reserved.
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal  in the Software without restriction, including without limitation the rights  to use, copy,
 * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR  IMPLIED, INCLUDING BUT NOT LIMITED TO THE
 * WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
 * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

 * datajs.js
 */
	"sap/ui/thirdparty/datajs.js":function(){(function(w,u){var d=w.datajs||{};var o=w.OData||{};if(typeof define==='function'&&define.amd){define('datajs',d);define('OData',o);define('sap/ui/thirdparty/datajs',o);}else{w.datajs=d;w.OData=o;}var c=function(p){if(w.ActiveXObject){return new w.ActiveXObject(p);}return null;};var f=function(a){return a!==null&&a!==u;};var g=function(a,b){var i,e;for(i=0,e=a.length;i<e;i++){if(a[i]===b){return true;}}return false;};var h=function(a,b){return(a!==u)?a:b;};var j=function(a){if(arguments.length===1){w.setTimeout(a,0);return;}var b=Array.prototype.slice.call(arguments,1);w.setTimeout(function(){a.apply(this,b);},0);};var k=function(a,b){for(var e in b){a[e]=b[e];}return a;};var l=function(a,b){if(a){var i,e;for(i=0,e=a.length;i<e;i++){if(b(a[i])){return a[i];}}}return null;};var m=function(a){return Object.prototype.toString.call(a)==="[object Array]";};var n=function(a){return Object.prototype.toString.call(a)==="[object Date]";};var q=function(a){return typeof a==="object";};var r=function(a){return parseInt(a,10);};var s=function(a,b,e){if(a.hasOwnProperty(b)){a[e]=a[b];delete a[b];}};var t=function(e){throw e;};var v=function(a){if(a.trim){return a.trim();}return a.replace(/^\s+|\s+$/g,'');};var z=function(a,b){return(a!==u)?a:b;};var A=/^([^:\/?#]+:)?(\/\/[^\/?#]*)?([^?#:]+)?(\?[^#]*)?(#.*)?/;var B=["scheme","authority","path","query","fragment"];var C=function(a){var b={isAbsolute:false};if(a){var e=A.exec(a);if(e){var i,p;for(i=0,p=B.length;i<p;i++){if(e[i+1]){b[B[i]]=e[i+1];}}}if(b.scheme){b.isAbsolute=true;}}return b;};var D=function(a){return"".concat(a.scheme||"",a.authority||"",a.path||"",a.query||"",a.fragment||"");};var E=/^\/{0,2}(?:([^@]*)@)?([^:]+)(?::{1}(\d+))?/;var F=/%[0-9A-F]{2}/ig;var G=function(a){var b=C(a);var e=b.scheme;var i=b.authority;if(e){b.scheme=e.toLowerCase();if(i){var p=E.exec(i);if(p){b.authority="//"+(p[1]?p[1]+"@":"")+(p[2].toLowerCase())+(p[3]?":"+p[3]:"");}}}a=D(b);return a.replace(F,function(x){return x.toLowerCase();});};var H=function(a,b){if(!b){return a;}var e=C(a);if(e.isAbsolute){return a;}var i=C(b);var p={};var x;if(e.authority){p.authority=e.authority;x=e.path;p.query=e.query;}else{if(!e.path){x=i.path;p.query=e.query||i.query;}else{if(e.path.charAt(0)==='/'){x=e.path;}else{x=I(e.path,i.path);}p.query=e.query;}p.authority=i.authority;}p.path=J(x);p.scheme=i.scheme;p.fragment=e.fragment;return D(p);};var I=function(a,b){var p="/";var e;if(b){e=b.lastIndexOf("/");p=b.substring(0,e);if(p.charAt(p.length-1)!=="/"){p=p+"/";}}return p+a;};var J=function(p){var a="";var b="";var e;while(p){if(p.indexOf("..")===0||p.indexOf(".")===0){p=p.replace(/^\.\.?\/?/g,"");}else if(p.indexOf("/..")===0){p=p.replace(/^\/\..\/?/g,"/");e=a.lastIndexOf("/");if(e===-1){a="";}else{a=a.substring(0,e);}}else if(p.indexOf("/.")===0){p=p.replace(/^\/\.\/?/g,"/");}else{b=p;e=p.indexOf("/",1);if(e!==-1){b=p.substring(0,e);}a=a+b;p=p.replace(b,"");}}return a;};var K="http://";var L=K+"www.w3.org/";var M=L+"1999/xhtml";var N=L+"2000/xmlns/";var O=L+"XML/1998/namespace";var P=K+"www.mozilla.org/newlayout/xml/parsererror.xml";var Q=function(a){var b=/(^\s)|(\s$)/;return b.test(a);};var R=function(a){var b=/^\s*$/;return a===null||b.test(a);};var S=function(a){while(a!==null&&a.nodeType===1){var b=c1(a,"space",O);if(b==="preserve"){return true;}else if(b==="default"){break;}else{a=a.parentNode;}}return false;};var T=function(a){var b=a.nodeName;return b=="xmlns"||b.indexOf("xmlns:")==0;};var U=function(a,b,e){try{a.setProperty(b,e);}catch(_){}};var V=function(){var a=c("Msxml2.DOMDocument.3.0");if(a){U(a,"ProhibitDTD",true);U(a,"MaxElementDepth",256);U(a,"AllowDocumentFunction",false);U(a,"AllowXsltScript",false);}return a;};var W=function(){try{var a=c("Msxml2.DOMDocument.6.0");if(a){a.async=true;}return a;}catch(_){return V();}};var X=function(a){var b=W();if(!b){return null;}b.loadXML(a);var p=b.parseError;if(p.errorCode!==0){Y(p.reason,p.srcText,a);}return b;};var Y=function(e,a,b){if(typeof e==="string"){e={message:e};};throw k(e,{srcText:a||"",errorXmlText:b||""});};var Z=function(a){var b=w.DOMParser&&new w.DOMParser();var i;if(!b){i=X(a);if(!i){Y("XML DOM parser not supported");}return i;}try{i=b.parseFromString(a,"text/xml");}catch(e){Y(e,"",a);}var p=i.documentElement;var x=p.namespaceURI;var y=m1(p);if(y==="parsererror"&&x===P){var _=i1(p,P,"sourcetext");var k9=_?o1(_):"";Y(l1(p)||"",k9,a);}if(y==="h3"&&x===M||j1(p,M,"h3")){var l9="";var m9=[];var n9=p.firstChild;while(n9){if(n9.nodeType===1){l9+=l1(n9)||"";}m9.push(n9.nextSibling);n9=n9.firstChild||m9.shift();}l9+=l1(p)||"";Y(l9,"",a);}return i;};var $=function(p,a){return p?p+":"+a:a;};var a1=function(a,b){if(Q(b.data)){var e=d1(a,O,"space");if(!e){e=v1(a.ownerDocument,O,$("xml","space"));t1(a,e);}e.value="preserve";}a.appendChild(b);return a;};var b1=function(e,a){var b=e.attributes;var i,p;for(i=0,p=b.length;i<p;i++){a(b.item(i));}};var c1=function(a,b,e){var i=d1(a,b,e);return i?o1(i):null;};var d1=function(a,b,e){var i=a.attributes;if(i.getNamedItemNS){return i.getNamedItemNS(e||null,b);}return i.getQualifiedItem(b,e)||null;};var e1=function(a,b){var e=d1(a,"base",O);return(e?H(e.value,b):b)||null;};var f1=function(a,b){p1(a,false,function(e){if(e.nodeType===1){b(e);}return true;});};var g1=function(a,b,p){var e=p.split("/");var i,x;for(i=0,x=e.length;i<x;i++){a=a&&i1(a,b,e[i]);}return a||null;};var h1=function(a,b,p){var e=p.lastIndexOf("/");var i=p.substring(e+1);var x=p.substring(0,e);var y=x?g1(a,b,x):a;if(y){if(i.charAt(0)==="@"){return d1(y,i.substring(1),b);}return i1(y,b,i);}return null;};var i1=function(a,b,e){return k1(a,b,e,false);};var j1=function(a,b,e){if(a.getElementsByTagNameNS){var i=a.getElementsByTagNameNS(b,e);return i.length>0?i[0]:null;}return k1(a,b,e,true);};var k1=function(a,b,e,i){var p=null;p1(a,i,function(x){if(x.nodeType===1){var y=!b||n1(x)===b;var _=!e||m1(x)===e;if(y&&_){p=x;}}return p===null;});return p;};var l1=function(x){var a=null;var b=(x.nodeType===9&&x.documentElement)?x.documentElement:x;var e=b.ownerDocument.preserveWhiteSpace===false;var i;p1(b,false,function(p){if(p.nodeType===3||p.nodeType===4){var y=o1(p);var _=e||!R(y);if(!_){if(i===u){i=S(b);}_=i;}if(_){if(!a){a=y;}else{a+=y;}}}return true;});return a;};var m1=function(a){return a.localName||a.baseName;};var n1=function(a){return a.namespaceURI||null;};var o1=function(a){if(a.nodeType===1){return l1(a);}return a.nodeValue;};var p1=function(a,b,e){var i=[];var p=a.firstChild;var x=true;while(p&&x){x=e(p);if(x){if(b&&p.firstChild){i.push(p.firstChild);}p=p.nextSibling||i.shift();}}};var q1=function(a,b,e){var i=a.nextSibling;while(i){if(i.nodeType===1){var p=!b||n1(i)===b;var x=!e||m1(i)===e;if(p&&x){return i;}}i=i.nextSibling;}return null;};var r1=function(){var i=w.document.implementation;return(i&&i.createDocument)?i.createDocument(null,null,null):W();};var s1=function(p,a){if(!m(a)){return t1(p,a);}var i,b;for(i=0,b=a.length;i<b;i++){a[i]&&t1(p,a[i]);}return p;};var t1=function(p,a){if(a){if(typeof a==="string"){return a1(p,z1(p.ownerDocument,a));}if(a.nodeType===2){p.setAttributeNodeNS?p.setAttributeNodeNS(a):p.setAttributeNode(a);}else{p.appendChild(a);}}return p;};var u1=function(a,b){var e=document.createElement('dummy');e.setAttributeNS(a,b,'');var i=e.attributes[0];e.removeAttributeNode(i);return i;};var v1=function(a,b,e,i){var p=a.createAttributeNS&&a.createAttributeNS(b,e)||"createNode"in a&&a.createNode(2,e,b||u)||u1(b,e);p.value=i||"";return p;};var w1=function(a,b,e,i){var p=a.createElementNS&&a.createElementNS(b,e)||a.createNode(1,e,b||u);return s1(p,i||[]);};var x1=function(a,b,p){return v1(a,N,$("xmlns",p),b);};var y1=function(a,b){var e="<c>"+b+"</c>";var i=Z(e);var p=i.documentElement;var x=("importNode"in a)?a.importNode(p,true):p;var y=a.createDocumentFragment();var _=x.firstChild;while(_){y.appendChild(_);_=_.nextSibling;}return y;};var z1=function(a,b){return a.createTextNode(b);};var A1=function(a,b,e,p,x){var y="";var _=x.split("/");var k9=i1;var l9=w1;var m9=b;var i,n9;for(i=0,n9=_.length;i<n9;i++){y=_[i];if(y.charAt(0)==="@"){y=y.substring(1);k9=d1;l9=v1;}var o9=k9(m9,e,y);if(!o9){o9=l9(a,e,$(p,y));t1(m9,o9);}m9=o9;}return m9;};var B1=function(a){var x5=w.XMLSerializer;if(x5){var b=new x5();return b.serializeToString(a);}if(a.xml){return a.xml;}throw{message:"XML serialization unsupported"};};var C1=function(a){var b=a.childNodes;var i,e=b.length;if(e===0){return"";}var p=a.ownerDocument;var x=p.createDocumentFragment();var y=p.createElement("c");x.appendChild(y);for(i=0;i<e;i++){y.appendChild(b[i]);}var _=B1(x);_=_.substr(3,_.length-7);for(i=0;i<e;i++){a.appendChild(y.childNodes[i]);}return _;};var D1=function(a){var x=a.xml;if(x!==u){return x;}if(w.XMLSerializer){var b=new w.XMLSerializer();return b.serializeToString(a);}throw{message:"XML serialization unsupported"};};var E1=function(a,b,e){return function(){a[b].apply(a,arguments);return e;};};var F1=function(){this._arguments=u;this._done=u;this._fail=u;this._resolved=false;this._rejected=false;};F1.prototype={then:function(a,e){if(a){if(!this._done){this._done=[a];}else{this._done.push(a);}}if(e){if(!this._fail){this._fail=[e];}else{this._fail.push(e);}}if(this._resolved){this.resolve.apply(this,this._arguments);}else if(this._rejected){this.reject.apply(this,this._arguments);}return this;},resolve:function(){if(this._done){var i,a;for(i=0,a=this._done.length;i<a;i++){this._done[i].apply(null,arguments);}this._done=u;this._resolved=false;this._arguments=u;}else{this._resolved=true;this._arguments=arguments;}},reject:function(){if(this._fail){var i,a;for(i=0,a=this._fail.length;i<a;i++){this._fail[i].apply(null,arguments);}this._fail=u;this._rejected=false;this._arguments=u;}else{this._rejected=true;this._arguments=arguments;}},promise:function(){var a={};a.then=E1(this,"then",a);return a;}};var G1=function(){if(w.jQuery&&w.jQuery.Deferred){return new w.jQuery.Deferred();}else{return new F1();}};var H1=function(a,b){var e=((a&&a.__metadata)||{}).type;return e||(b?b.type:null);};var I1="Edm.";var J1=I1+"Binary";var K1=I1+"Boolean";var L1=I1+"Byte";var M1=I1+"DateTime";var N1=I1+"DateTimeOffset";var O1=I1+"Decimal";var P1=I1+"Double";var Q1=I1+"Guid";var R1=I1+"Int16";var S1=I1+"Int32";var T1=I1+"Int64";var U1=I1+"SByte";var V1=I1+"Single";var W1=I1+"String";var X1=I1+"Time";var Y1=I1+"Geography";var Z1=Y1+"Point";var $1=Y1+"LineString";var _1=Y1+"Polygon";var a2=Y1+"Collection";var b2=Y1+"MultiPolygon";var c2=Y1+"MultiLineString";var d2=Y1+"MultiPoint";var e2=I1+"Geometry";var f2=e2+"Point";var g2=e2+"LineString";var h2=e2+"Polygon";var i2=e2+"Collection";var j2=e2+"MultiPolygon";var k2=e2+"MultiLineString";var l2=e2+"MultiPoint";var m2="Point";var n2="LineString";var o2="Polygon";var p2="MultiPoint";var q2="MultiLineString";var r2="MultiPolygon";var s2="GeometryCollection";var t2=[W1,S1,T1,K1,P1,V1,M1,N1,X1,O1,Q1,L1,R1,U1,J1];var u2=[e2,f2,g2,h2,i2,j2,k2,l2];var v2=[Y1,Z1,$1,_1,a2,b2,c2,d2];var w2=function(a,b){if(!a){return null;}if(m(a)){var i,e,p;for(i=0,e=a.length;i<e;i++){p=w2(a[i],b);if(p){return p;}}return null;}else{if(a.dataServices){return w2(a.dataServices.schema,b);}return b(a);}};var x2=function(a,b){if(a===0){a="";}else{a="."+B2(a.toString(),3);}if(b>0){if(a===""){a=".000";}a+=B2(b.toString(),4);}return a;};var y2=function(a){return"\/Date("+a.getTime()+")\/";};var z2=function(a){if(typeof a==="string"){return a;}var b=K2(a);var e=C2(a.__offset);if(b&&e!=="Z"){a=new Date(a.valueOf());var i=o3(e);var p=a.getUTCHours()+(i.d*i.h);var x=a.getMinutes()+(i.d*i.m);a.setUTCHours(p,x);}else if(!b){e="";}var y=a.getUTCFullYear();var _=a.getUTCMonth()+1;var k9="";if(y<=0){y=-(y-1);k9="-";}var ms=x2(a.getUTCMilliseconds(),a.__ns);return k9+B2(y,4)+"-"+B2(_,2)+"-"+B2(a.getUTCDate(),2)+"T"+B2(a.getUTCHours(),2)+":"+B2(a.getUTCMinutes(),2)+":"+B2(a.getUTCSeconds(),2)+ms+e;};var A2=function(a){var b=a.ms;var e="";if(b<0){e="-";b=-b;}var i=Math.floor(b/86400000);b-=86400000*i;var p=Math.floor(b/3600000);b-=3600000*p;var x=Math.floor(b/60000);b-=60000*x;var y=Math.floor(b/1000);b-=y*1000;return e+"P"+B2(i,2)+"DT"+B2(p,2)+"H"+B2(x,2)+"M"+B2(y,2)+x2(b,a.ns)+"S";};var B2=function(a,b,e){var i=a.toString(10);while(i.length<b){if(e){i+="0";}else{i="0"+i;}}return i;};var C2=function(a){return(!a||a==="Z"||a==="+00:00"||a==="-00:00")?"Z":a;};var D2=function(a){if(typeof a==="string"){var e=a.indexOf(")",10);if(a.indexOf("Collection(")===0&&e>0){return a.substring(11,e);}}return null;};var E2=function(a,b,e,P3,i,p){return i.request(a,function(x){try{if(x.headers){f3(x.headers);}if(x.data===u&&x.statusCode!==204){P3.read(x,p);}}catch(y){if(y.request===u){y.request=a;}if(y.response===u){y.response=x;}e(y);return;}try{b(x.data,x);}catch(y){y.bIsSuccessHandlerError=true;throw y;}},e);};var F2=function(a){return J2(a)&&m(a.__batchRequests);};var G2=/Collection\((.*)\)/;var H2=function(a,b){var e=a&&a.results||a;return!!e&&(I2(b))||(!b&&m(e)&&!J2(e[0]));};var I2=function(a){return G2.test(a);};var J2=function(a){return!!a&&q(a)&&!m(a)&&!n(a);};var K2=function(a){return(a.__edmType==="Edm.DateTimeOffset"||(!a.__edmType&&a.__offset));};var L2=function(a){if(!a&&!J2(a)){return false;}var b=a.__metadata||{};var e=a.__deferred||{};return!b.type&&!!e.uri;};var M2=function(a){return J2(a)&&a.__metadata&&"uri"in a.__metadata;};var N2=function(a,b){var e=a&&a.results||a;return m(e)&&((!I2(b))&&(J2(e[0])));};var O2=function(a){return g(v2,a);};var P2=function(a){return g(u2,a);};var Q2=function(a){if(!a&&!J2(a)){return false;}var b=a.__metadata;var e=a.__mediaresource;return!b&&!!e&&!!e.media_src;};var R2=function(a){return n(a)||typeof a==="string"||typeof a==="number"||typeof a==="boolean";};var S2=function(a){return g(t2,a);};var T2=function(a,p){if(L2(a)){return"deferred";}if(M2(a)){return"entry";}if(N2(a)){return"feed";}if(p&&p.relationship){if(a===null||a===u||!N2(a)){return"entry";}return"feed";}return null;};var U2=function(p,a){return l(p,function(b){return b.name===a;});};var V2=function(a,b,e){return(a)?w2(b,function(y6){return c3(a,y6,e);}):null;};var W2=function(e,a){return l(e,function(b){return b.name===a;});};var X2=function(a,b){return V2(a,b,"complexType");};var Y2=function(a,b){return V2(a,b,"entityType");};var Z2=function(a){return w2(a,function(y6){return l(y6.entityContainer,function(b){return g3(b.isDefaultEntityContainer);});});};var $2=function(a,b){return V2(a,b,"entityContainer");};var _2=function(a,b){return l(a,function(e){return e.name===b;});};var a3=function(a,b){var e=null;if(a){var p=a.relationship;var x=w2(b,function(y6){var _=b3(y6["namespace"],p);var k9=y6.association;if(_&&k9){var i,l9;for(i=0,l9=k9.length;i<l9;i++){if(k9[i].name===_){return k9[i];}}}});if(x){var y=x.end[0];if(y.role!==a.toRole){y=x.end[1];}e=y.type;}}return e;};var b3=function(a,b){if(b.indexOf(a)===0&&b.charAt(a.length)==="."){return b.substr(a.length+1);}return null;};var c3=function(a,y6,b){if(a&&y6){var e=b3(y6["namespace"],a);if(e){return l(y6[b],function(i){return i.name===e;});}}return null;};var d3=function(a,b){if(a===b){return a;}var e=a.split(".");var p=b.split(".");var x=(e.length>=p.length)?e.length:p.length;for(var i=0;i<x;i++){var y=e[i]&&r(e[i]);var _=p[i]&&r(p[i]);if(y>_){return a;}if(y<_){return b;}}};var e3={"accept":"Accept","content-type":"Content-Type","dataserviceversion":"DataServiceVersion","maxdataserviceversion":"MaxDataServiceVersion","last-modified":"Last-Modified"};var f3=function(a){for(var b in a){var e=b.toLowerCase();var i=e3[e];if(i&&b!==i){var p=a[b];delete a[b];a[i]=p;}}};var g3=function(p){if(typeof p==="boolean"){return p;}return typeof p==="string"&&p.toLowerCase()==="true";};var h3=/^(-?\d{4,})-(\d{2})-(\d{2})T(\d{2}):(\d{2})(?::(\d{2}))?(?:\.(\d+))?(.*)$/;var i3=function(a,b,e){var p=h3.exec(a);var i=(p)?C2(p[8]):null;if(!p||(!b&&i!=="Z")){if(e){return null;}throw{message:"Invalid date/time value"};}var y=r(p[1]);if(y<=0){y++;}var x=p[7];var _=0;if(!x){x=0;}else{if(x.length>7){if(e){return null;}throw{message:"Cannot parse date/time value to given precision."};}_=B2(x.substring(3),4,true);x=B2(x.substring(0,3),3,true);x=r(x);_=r(_);}var k9=r(p[4]);var l9=r(p[5]);var m9=r(p[6])||0;if(i!=="Z"){var n9=o3(i);var o9=-(n9.d);k9+=n9.h*o9;l9+=n9.m*o9;}var p9=new Date();p9.setUTCFullYear(y,r(p[2])-1,r(p[3]));p9.setUTCHours(k9,l9,m9,x);if(isNaN(p9.valueOf())){if(e){return null;}throw{message:"Invalid date/time value"};}if(b){p9.__edmType="Edm.DateTimeOffset";p9.__offset=i;}if(_){p9.__ns=_;}return p9;};var j3=function(p,a){return i3(p,false,a);};var k3=function(p,a){return i3(p,true,a);};var l3=/^([+-])?P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)(?:\.(\d+))?S)?)?/;var m3=function(a){l3.test(a);};var n3=function(a){var p=l3.exec(a);if(p===null){throw{message:"Invalid duration value."};}var y=p[2]||"0";var b=p[3]||"0";var e=r(p[4]||0);var i=r(p[5]||0);var x=r(p[6]||0);var _=parseFloat(p[7]||0);if(y!=="0"||b!=="0"){throw{message:"Unsupported duration value."};}var ms=p[8];var ns=0;if(!ms){ms=0;}else{if(ms.length>7){throw{message:"Cannot parse duration value to given precision."};}ns=B2(ms.substring(3),4,true);ms=B2(ms.substring(0,3),3,true);ms=r(ms);ns=r(ns);}ms+=_*1000+x*60000+i*3600000+e*86400000;if(p[1]==="-"){ms=-ms;}var k9={ms:ms,__edmType:"Edm.Time"};if(ns){k9.ns=ns;}return k9;};var o3=function(a){var b=a.substring(0,1);b=(b==="+")?1:-1;var e=r(a.substring(1));var i=r(a.substring(a.indexOf(":")+1));return{d:b,h:e,m:i};};var p3=function(a,P3,b){if(!a.method){a.method="GET";}if(!a.headers){a.headers={};}else{f3(a.headers);}if(a.headers.Accept===u){a.headers.Accept=P3.accept;}if(f(a.data)&&a.body===u){P3.write(a,b);}if(!f(a.headers.MaxDataServiceVersion)){a.headers.MaxDataServiceVersion=P3.maxDataServiceVersion||"1.0";}if(a.async===u){a.async=true;}};var q3=function(i,a,b){if(i&&typeof i==="object"){for(var e in i){var p=i[e];var x=q3(p,e,b);x=b(e,x,a);if(x!==p){if(p===u){delete i[e];}else{i[e]=x;}}}}return i;};var r3=function(i,a){return a("",q3(i,"",a));};var s3=0;var t3=function(a){if(a.method&&a.method!=="GET"){return false;}return true;};var u3=function(a){var i=w.document.createElement("IFRAME");i.style.display="none";var b=a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/\</g,"&lt;");var e="<html><head><script type=\"text/javascript\" src=\""+b+"\"><\/script><\/head><body><\/body><\/html>";var p=w.document.getElementsByTagName("BODY")[0];p.appendChild(i);B3(i,e);return i;};var v3=function(){if(w.XMLHttpRequest){return new w.XMLHttpRequest();}var a;if(w.ActiveXObject){try{return new w.ActiveXObject("Msxml2.XMLHTTP.6.0");}catch(_){try{return new w.ActiveXObject("Msxml2.XMLHTTP.3.0");}catch(e){a=e;}}}else{a={message:"XMLHttpRequest not supported"};}throw a;};var w3=function(a){return a.indexOf("http://")===0||a.indexOf("https://")===0||a.indexOf("file://")===0;};var x3=function(a){if(!w3(a)){return true;}var b=w.location;var e=b.protocol+"//"+b.host+"/";return(a.indexOf(e)===0);};var y3=function(a,b){try{delete w[a];}catch(e){w[a]=u;if(b===s3-1){s3-=1;}}};var z3=function(i){if(i){B3(i,"");i.parentNode.removeChild(i);}return null;};var A3=function(x,a){var b=x.getAllResponseHeaders();if(!b){var D3=x.getResponseHeader("Content-Type");var e=x.getResponseHeader("Content-Length");if(D3){a["Content-Type"]=D3;}if(e){a["Content-Length"]=e;}}else{b=b.split(/\r?\n/);var i,p;for(i=0,p=b.length;i<p;i++){if(b[i]){var y=b[i].match(/([^:]*):\s*((?:\s*\S+)+)?\s*/);a[y[1]]=y[2];}}}};var B3=function(i,a){var b=(i.contentWindow)?i.contentWindow.document:i.contentDocument.document;b.open();b.write(a);b.close();};o.defaultHttpClient={callbackParameterName:"$callback",formatQueryString:"$format=json",enableJsonpCallback:false,request:function(a,b,e){var i={};var x=null;var p=false;var y;i.abort=function(){y=z3(y);if(p){return;}p=true;if(x){x.abort();x=null;}e({message:"Request aborted"});};var _=function(){y=z3(y);if(!p){p=true;x=null;e({message:"Request timed out"});}};var k9;var l9=a.requestUri;var m9=h(a.enableJsonpCallback,this.enableJsonpCallback);var n9=h(a.callbackParameterName,this.callbackParameterName);var o9=h(a.formatQueryString,this.formatQueryString);if(!m9||x3(l9)){x=v3();var p9=function(){if(p||x===null||x.readyState!==4){return;}var x9=x.statusText;var y9=x.status;if(y9===1223){y9=204;x9="No Content";}var z9=[];A3(x,z9);var A9=null;if(d._sap&&x.responseXML){A9=x.responseXML;}var B9={requestUri:l9,statusCode:y9,statusText:x9,headers:z9,body:x.responseText};p=true;x=null;if(y9>=200&&y9<=299){b(B9);}else{f3(B9.headers);e({message:"HTTP request failed",request:a,response:B9});}if(d._sap&&B9.requestUri.indexOf("$metadata")>-1){var C9={supportXML:A9,response:B9};d._sap._supportInfo({context:A9,env:{caller:'datajs',settings:C9,type:"metadata"}});}};if(a.user&&a.password){x.open(a.method||"GET",l9,a.async,a.user,a.password);}else{x.open(a.method||"GET",l9,a.async);}if(a.withCredentials){x.withCredentials=true;}if(a.headers){for(k9 in a.headers){x.setRequestHeader(k9,a.headers[k9]);}}if(a.timeoutMS){x.timeout=a.timeoutMS;x.ontimeout=_;}if(a.async||(!a.async&&a.async!==false)){x.onreadystatechange=p9;}x.send(typeof a.body!=='undefined'?a.body:null);if(!a.async){p9();}}else{if(!t3(a)){throw{message:"Request is not local and cannot be done through JSONP."};}var q9=s3;s3+=1;var r9=q9.toString();var s9=false;var t9;k9="handleJSONP_"+r9;w[k9]=function(x9){y=z3(y);if(!p){s9=true;w.clearTimeout(t9);y3(k9,q9);if(w.ActiveXObject&&!w.DOMParser){x9=w.JSON.parse(w.JSON.stringify(x9));}j(b,{body:x9,statusCode:200,headers:{"Content-Type":"application/json"}});}};var u9=(a.timeoutMS)?a.timeoutMS:120000;t9=w.setTimeout(_,u9);var v9=n9+"=parent."+k9;if(this.formatQueryString){v9+="&"+o9;}var w9=l9.indexOf("?");if(w9===-1){l9=l9+"?"+v9;}else if(w9===l9.length-1){l9=l9+v9;}else{l9=l9+"&"+v9;}y=u3(l9);}return i;}};var C3="3.0";var D3=function(a){if(!a){return null;}var b=a.split(";");var p={};var i,e;for(i=1,e=b.length;i<e;i++){var x=b[i].split("=");p[v(x[0])]=x[1];}return{mediaType:v(b[0]),properties:p};};var E3=function(D3){if(!D3){return u;}var a=D3.mediaType;var p;for(p in D3.properties){a+=";"+p+"="+D3.properties[p];}return a;};var F3=function(D3,a,b,P3){var e={};k(e,b);k(e,{contentType:D3,dataServiceVersion:a,handler:P3});return e;};var G3=function(a,b,e){if(!a){return;}var i=a.headers;if(!i[b]){i[b]=e;}};var H3=function(a,b){if(a){var e=a.headers;var i=e["DataServiceVersion"];e["DataServiceVersion"]=i?d3(i,b):b;}};var I3=function(a,b){var e=a.headers;return(e&&e[b])||u;};var J3=function(a){return D3(I3(a,"Content-Type"));};var K3=/^\s?(\d+\.\d+);?.*$/;var L3=function(a){var b=I3(a,"DataServiceVersion");if(b){var e=K3.exec(b);if(e&&e.length){return e[1];}}};var M3=function(P3,a){return P3.accept.indexOf(a.mediaType)>=0;};var N3=function(P3,p,a,b){if(!a||!a.headers){return false;}var e=J3(a);var i=L3(a)||"";var x=a.body;if(!f(x)||!x){return false;}if(M3(P3,e)){var y=F3(e,i,b,P3);y.response=a;a.data=p(P3,x,y);return a.data!==u;}return false;};var O3=function(P3,a,b,e){if(!b||!b.headers){return false;}var i=J3(b);var p=L3(b);if(!i||M3(P3,i)){var x=F3(i,p,e,P3);x.request=b;b.body=a(P3,b.data,x);if(b.body!==u){H3(b,x.dataServiceVersion||"1.0");G3(b,"Content-Type",E3(x.contentType));G3(b,"MaxDataServiceVersion",P3.maxDataServiceVersion);return true;}}return false;};var P3=function(p,a,b,e){return{accept:b,maxDataServiceVersion:e,read:function(i,x){return N3(this,p,i,x);},write:function(i,x){return O3(this,a,i,x);}};};var Q3=function(P3,b){return b;};var R3=function(P3,a){if(f(a)){return a.toString();}else{return u;}};o.textHandler=P3(Q3,R3,"text/plain",C3);var S3=K+"www.opengis.net";var T3=S3+"/gml";var U3=S3+"/def/crs/EPSG/0/";var V3="gml";var W3=function(a,b,e){var i={type:a};i[b]=e;return i;};var X3=function(a){if(m(a)&&a.length>=2){var b=a[0];a[0]=a[1];a[1]=b;}return a;};var Y3=function(a,b,e,i,p,x){var y=Z3(a,e,i,p,x);return W3(b,"coordinates",y);};var Z3=function(a,b,e,i,p){var x=[];f1(a,function(y){if(n1(y)!==T3){return;}var _=m1(y);if(_===b){var k9=i1(y,T3);if(k9){var l9=i(k9,p);if(l9){x.push(l9);}}return;}if(_===e){f1(y,function(k9){if(n1(k9)!==T3){return;}var l9=i(k9,p);if(l9){x.push(l9);}});}});return x;};var $3=function(a,i){var b=Z3(a,"geometryMember","geometryMembers",m4,i);return W3(s2,"geometries",b);};var _3=function(a,i){return W3(n2,"coordinates",f4(a,i));};var a4=function(a,i){return Y3(a,q2,"curveMember","curveMembers",f4,i);};var b4=function(a,i){return Y3(a,p2,"pointMember","pointMembers",g4,i);};var c4=function(a,i){return Y3(a,r2,"surfaceMember","surfaceMembers",i4,i);};var d4=function(a,i){return W3(m2,"coordinates",g4(a,i));};var e4=function(a,i){return W3(o2,"coordinates",i4(a,i));};var f4=function(a,i){var b=[];f1(a,function(e){var p=n1(e);if(p!==T3){return;}var x=m1(e);if(x==="posList"){b=k4(e,i);return;}if(x==="pointProperty"){b.push(h4(e,i));return;}if(x==="pos"){b.push(l4(e,i));return;}});return b;};var g4=function(a,i){var p=i1(a,T3,"pos");return p?l4(p,i):[];};var h4=function(a,i){var p=i1(a,T3,"Point");return p?g4(p,i):[];};var i4=function(a,i){var b=[];var e=false;f1(a,function(p){if(n1(p)!==T3){return;}var x=m1(p);if(x==="exterior"){e=true;b.unshift(j4(p,i));return;}if(x==="interior"){b.push(j4(p,i));return;}});if(!e&&b.length>0){b.unshift([[]]);}return b;};var j4=function(a,i){var b=[];f1(a,function(e){if(n1(e)!==T3||m1(e)!=="LinearRing"){return;}b=f4(e,i);});return b;};var k4=function(a,b){var e=l4(a,false);var p=e.length;if(p%2!==0){throw{message:"GML posList element has an uneven number of numeric values"};}var x=[];for(var i=0;i<p;i+=2){var y=e.slice(i,i+2);x.push(b?X3(y):y);}return x;};var l4=function(a,i){var b=[];var e=" \t\r\n";var p=l1(a);if(p){var x=p.length;var y=0;var _=0;while(_<=x){if(e.indexOf(p.charAt(_))!==-1){var k9=p.substring(y,_);if(k9){b.push(parseFloat(k9));}y=_+1;}_++;}}return i?X3(b):b;};var m4=function(a,i){var b=m1(a);var e;switch(b){case"Point":e=d4;break;case"Polygon":e=e4;break;case"LineString":e=_3;break;case"MultiPoint":e=b4;break;case"MultiCurve":e=a4;break;case"MultiSurface":e=c4;break;case"MultiGeometry":e=$3;break;default:throw{message:"Unsupported element: "+b,element:a};}var p=e(a,i);var x=c1(a,"srsName",T3)||c1(a,"srsName");if(x){if(x.indexOf(U3)!==0){throw{message:"Unsupported srs name: "+x,element:a};}var y=x.substring(U3.length);if(y){p.crs={type:"name",properties:{name:"EPSG:"+y}};}}return p;};var n4=function(a,b,e,i){var p;switch(e){case m2:p=v4;break;case n2:p=w4;break;case o2:p=x4;break;case p2:p=z4;break;case q2:p=A4;break;case r2:p=B4;break;case s2:p=D4;break;default:return null;}var x=p(a,b,i);var y=b.crs;if(y){if(y.type==="name"){var _=y.properties;var k9=_&&_.name;if(k9&&k9.indexOf("ESPG:")===0&&k9.length>5){var l9=k9.substring(5);var m9=v1(a,null,"srsName",V3+l9);t1(x,m9);}}}return x;};var o4=function(a,b,e){return w1(a,T3,$(V3,b),e);};var p4=function(a,b,i){var p=m(b)?b:[];p=i?X3(p):p;return o4(a,"pos",p.join(" "));};var q4=function(a,b,e,p){var x=o4(a,b);if(m(e)){var i,y;for(i=0,y=e.length;i<y;i++){t1(x,p4(a,e[i],p));}if(y===0){t1(x,o4(a,"posList"));}}return x;};var r4=function(a,b,i){return o4(a,"Point",p4(a,b,i));};var s4=function(a,b,i){return q4(a,"LineString",b,i);};var t4=function(a,b,e,i){var p=o4(a,b);if(m(e)&&e.length>0){var x=q4(a,"LinearRing",e,i);t1(p,x);}return p;};var u4=function(a,b,e){var p=b&&b.length;var x=o4(a,"Polygon");if(m(b)&&p>0){t1(x,t4(a,"exterior",b[0],e));var i;for(i=1;i<p;i++){t1(x,t4(a,"interior",b[i],e));}}return x;};var v4=function(a,b,i){return r4(a,b.coordinates,i);};var w4=function(a,b,i){return s4(a,b.coordinates,i);};var x4=function(a,b,i){return u4(a,b.coordinates,i);};var y4=function(a,b,e,p,x,y){var _=p&&p.length;var k9=o4(a,b);if(m(p)&&_>0){var l9=o4(a,e);var i;for(i=0;i<_;i++){t1(l9,x(a,p[i],y));}t1(k9,l9);}return k9;};var z4=function(a,b,i){return y4(a,"MultiPoint","pointMembers",b.coordinates,r4,i);};var A4=function(a,b,i){return y4(a,"MultiCurve","curveMembers",b.coordinates,s4,i);};var B4=function(a,b,i){return y4(a,"MultiSurface","surfaceMembers",b.coordinates,u4,i);};var C4=function(a,b,i){return n4(a,b,b.type,i);};var D4=function(a,b,i){return y4(a,"MultiGeometry","geometryMembers",b.geometries,C4,i);};var E4="application/xml";var F4=K+"schemas.microsoft.com/ado/";var G4=F4+"2007/08/dataservices";var H4=F4+"2007/06/edmx";var I4=F4+"2006/04/edm";var J4=F4+"2007/05/edm";var K4=F4+"2008/01/edm";var L4=F4+"2008/09/edm";var M4=F4+"2009/08/edm";var N4=F4+"2009/11/edm";var O4=K+"docs.oasis-open.org/odata/ns/edm";var P4=G4;var Q4=G4+"/metadata";var R4=G4+"/related/";var S4=G4+"/scheme";var T4="d";var U4="m";var V4=function(a,b){var e={name:m1(a),value:a.value};e[b?"namespaceURI":"namespace"]=n1(a);return e;};var W4=function(a,b){var e=[];var p=[];var i,x;var y=a.attributes;for(i=0,x=y.length;i<x;i++){var _=y[i];if(n1(_)!==N){e.push(V4(_,b));}}var k9=a.firstChild;while(k9!=null){if(k9.nodeType===1){p.push(W4(k9,b));}k9=k9.nextSibling;};var l9={name:m1(a),value:l1(a),attributes:e,children:p};l9[b?"namespaceURI":"namespace"]=n1(a);return l9;};var X4=function(a){return n1(a)===P4&&m1(a)==="element";};var Y4=function(a,e){return{type:a,extensions:e};};var Z4=function(a){if(i1(a,T3)){return e2;}var b=i1(a,P4);if(!b){return W1;}if(X4(b)){var e=q1(b,P4);if(e&&X4(e)){return"Collection()";}}return null;};var $4=function(a){var b=null;var i=false;var e=[];b1(a,function(p){var x=n1(p);var y=m1(p);var _=o1(p);if(x===Q4){if(y==="null"){i=(_.toLowerCase()==="true");return;}if(y==="type"){b=_;return;}}if(x!==O&&x!==N){e.push(V4(p,true));return;}});return{type:(!b&&i?W1:b),isNull:i,extensions:e};};var _4=function(a){if(n1(a)!==P4){return null;};var p=m1(a);var b=$4(a);var e=b.isNull;var i=b.type;var x=Y4(i,b.extensions);var y=e?null:a5(a,i,x);return{name:p,value:y,metadata:x};};var a5=function(a,p,b){if(!p){p=Z4(a);b.type=p;}var i=O2(p);if(i||P2(p)){return b5(a,p,i);}if(S2(p)){return c5(a,p);}if(I2(p)){return e5(a,p,b);}return d5(a,p,b);};var b5=function(a,p,i){var b=i1(a,T3);var e=m4(b,i);e.__metadata={type:p};return e;};var c5=function(a,p){var b=o1(a)||"";switch(p){case K1:return g3(b);case J1:case O1:case Q1:case T1:case W1:return b;case L1:case R1:case S1:case U1:return r(b);case P1:case V1:return parseFloat(b);case X1:return n3(b);case M1:return j3(b);case N1:return k3(b);};return b;};var d5=function(a,p,b){var e={__metadata:{type:p}};f1(a,function(i){var x=_4(i);var y=x.name;b.properties=b.properties||{};b.properties[y]=x.metadata;e[y]=x.value;});return e;};var e5=function(a,p,b){var i=[];var e=b.elements=[];var x=D2(p);f1(a,function(y){if(X4(y)){var _=$4(y);var k9=_.extensions;var l9=_.type||x;var m9=Y4(l9,k9);var n9=a5(y,l9,m9);i.push(n9);e.push(m9);}});return{__metadata:{type:p==="Collection()"?null:p},results:i};};var f5=function(x,b){if(n1(x)===P4){b=e1(x,b);var a=m1(x);if(a==="links"){return g5(x,b);}if(a==="uri"){return h5(x,b);}}return u;};var g5=function(a,b){var e=[];f1(a,function(i){if(m1(i)==="uri"&&n1(i)===P4){e.push(h5(i,b));}});return{results:e};};var h5=function(a,b){var e=l1(a)||"";return{uri:H(e,b)};};var i5=function(a,e){if(e===e2||e===Y1){return a&&a.type;}if(e===f2||e===Z1){return m2;}if(e===g2||e===$1){return n2;}if(e===h2||e===_1){return o2;}if(e===i2||e===a2){return s2;}if(e===j2||e===b2){return r2;}if(e===k2||e===c2){return q2;}if(e===l2||e===d2){return p2;}return null;};var j5=function(a,b,e){return w1(a,Q4,$(U4,b),e);};var k5=function(a,b,e){return v1(a,Q4,$(U4,b),e);};var l5=function(a,b,e){return w1(a,P4,$(T4,b),e);};var m5=function(a,b){if(b===M1||b===N1||n(a)){return z2(a);}if(b===X1){return A2(a);}return a.toString();};var n5=function(a,b){return{element:a,dsv:b};};var o5=function(a,b,e,i){var p=e?k5(a,"type",e):null;var x=l5(a,b,p);return s1(x,i);};var p5=function(a,b,e,i){var p=m5(e,i);var x=o5(a,b,i,p);return n5(x,"1.0");};var q5=function(a,b,e,i){var p=k5(a,"null","true");var x=o5(a,b,e,p);var y=X2(e,i)?"2.0":"1.0";return n5(x,y);};var r5=function(a,b,e,p,x,y,_){var k9=D2(p);var l9=m(e)?e:e.results;var m9=p?{type:k9}:{};m9.properties=x.properties;var n9=o5(a,b,k9?p:null);var i,o9;for(i=0,o9=l9.length;i<o9;i++){var p9=l9[i];var q9=u5(a,"element",p9,m9,y,_);t1(n9,q9.element);}return n5(n9,"3.0");};var s5=function(a,b,e,i,p,x,y){var _=o5(a,b,i);var k9=p.properties||{};var l9=X2(i,y)||{};var m9="1.0";for(var n9 in e){if(n9!=="__metadata"){var o9=e[n9];var p9=U2(l9.property,n9);var q9=k9[n9]||{};var r9=u5(a,n9,o9,q9,p9,y);m9=d3(m9,r9.dsv);t1(_,r9.element);}};return n5(_,m9);};var t5=function(a,b,e,i,p){var x=i5(e,i);var y=n4(a,e,x,p);var _=o5(a,b,i,y);return n5(_,"3.0");};var u5=function(a,b,e,i,p,x){var y=H1(e,i,p);if(!y){y=H1(e,p);}if(R2(e)){return p5(a,b,e,y);}var _=O2(y);if(_||P2(y)){return t5(a,b,e,y,_);}if(H2(e,y)){return r5(a,b,e,y,i,p,x);}if(Q2(e)){return null;}var k9=T2(e,p);if(k9!==null){return null;}if(e===null){return q5(a,b,y);}return s5(a,b,e,y,i,p,x);};var v5=function(a){if(a&&q(a)){var b=r1();return t1(b,l5(b,"uri",a.uri));}};var w5=function(P3,a){if(a){var b=Z(a);var e=i1(b);if(e){return f5(e);}}};var x5=function(P3,a,b){var e=b.contentType=b.contentType||D3(E4);if(e&&e.mediaType===E4){return B1(v5(a));}return u;};o.xmlHandler=P3(w5,x5,E4,C3);var y5="a";var z5=L+"2005/Atom";var A5=L+"2007/app";var B5=G4+"/edit-media/";var C5=G4+"/mediaresource/";var D5=G4+"/relatedlinks/";var E5=["application/atom+xml","application/atomsvc+xml","application/xml"];var F5=E5[0];var G5=[z5,A5,O,N];var H5={SyndicationAuthorEmail:"author/email",SyndicationAuthorName:"author/name",SyndicationAuthorUri:"author/uri",SyndicationContributorEmail:"contributor/email",SyndicationContributorName:"contributor/name",SyndicationContributorUri:"contributor/uri",SyndicationPublished:"published",SyndicationRights:"rights",SyndicationSummary:"summary",SyndicationTitle:"title",SyndicationUpdated:"updated"};var I5=function(p){return H5[p]||p;};var J5=function(a){return!(g(G5,a));};var K5=function(a,e,b,p,i){i=i||"";var x=a["FC_TargetPath"+i];if(!x){return null;}var y=a["FC_SourcePath"+i];var _=I5(x);var k9=p?p+(y?"/"+y:""):y;var l9=k9&&Y5(b,e,k9);var m9=a["FC_NsUri"+i]||null;var n9=a["FC_NsPrefix"+i]||null;var o9=a["FC_KeepInContent"+i]||"";if(x!==_){m9=z5;n9=y5;}return{contentKind:a["FC_ContentKind"+i],keepInContent:o9.toLowerCase()==="true",nsPrefix:n9,nsURI:m9,propertyPath:k9,propertyType:l9,entryPath:_};};var L5=function(e,a,b){var p=[];while(e){var x=e.FC_SourcePath;var y=K5(e,e,a);if(y){b(y);}var _=e.property||[];var i,k9;for(i=0,k9=_.length;i<k9;i++){var l9=_[i];var m9=0;var n9="";while(y=K5(l9,e,a,l9.name,n9)){b(y);m9++;n9="_"+m9;};}e=Y2(e.baseType,a);}return p;};var M5=function(a){var e=[];b1(a,function(b){var i=n1(b);if(J5(i)){e.push(V4(b,true));}});return e;};var N5=function(a){return W4(a,true);};var O5=function(a,b,e){var i=n1(a);var p=m1(a);if(i===A5&&p==="service"){return j6(a,b);}if(i===z5){if(p==="feed"){return S5(a,b,e);}if(p==="entry"){return Z5(a,b,e);}}};var P5=function(a,b){var e=[];var i={extensions:e};b1(a,function(p){var x=m1(p);var y=n1(p);var _=o1(p);if(y===null){if(x==="title"||x==="metadata"){i[x]=_;return;}if(x==="target"){i.target=H(_,e1(a,b));return;}}if(J5(y)){e.push(V4(p,true));}});return i;};var Q5=function(a,b,p){var e=p.actions=p.actions||[];e.push(P5(a,b));};var R5=function(a,b,p){var e=p.functions=p.functions||[];e.push(P5(a,b));};var S5=function(a,b,e){var i=M5(a);var p={feed_extensions:i};var x=[];var y={__metadata:p,results:x};b=e1(a,b);f1(a,function(_){var k9=n1(_);var l9=m1(_);if(k9===Q4){if(l9==="count"){y.__count=parseInt(l1(_));return;}if(l9==="action"){Q5(_,b,p);return;}if(l9==="function"){R5(_,b,p);return;}}if(J5(k9)){i.push(W4(_));return;};if(l9==="entry"){x.push(Z5(_,b,e));return;}if(l9==="link"){T5(_,y,b);return;}if(l9==="id"){p.uri=H(l1(_),b);p.uri_extensions=M5(_);return;}if(l9==="title"){p.title=l1(_)||"";p.title_extensions=M5(_);return;}});return y;};var T5=function(a,b,e){var i=U5(a,e);var p=i.href;var x=i.rel;var y=i.extensions;var _=b.__metadata;if(x==="next"){b.__next=p;_.next_extensions=y;return;}if(x==="self"){_.self=p;_.self_extensions=y;return;}};var U5=function(a,b){b=e1(a,b);var e=[];var i={extensions:e,baseURI:b};b1(a,function(p){var x=n1(p);var y=m1(p);var _=p.value;if(y==="href"){i.href=H(_,b);return;}if(y==="type"||y==="rel"){i[y]=_;return;}if(J5(x)){e.push(V4(p,true));}});if(!i.href){throw{error:"href attribute missing on link element",element:a};}return i;};var V5=function(p,a){if(p.indexOf('/')===-1){return a[p];}else{var b=p.split('/');var i,e;for(i=0,e=b.length;i<e;i++){if(a===null){return u;}a=a[b[i]];if(a===u){return a;}}return a;}};var W5=function(p,a,b,e){var x;if(p.indexOf('/')===-1){a[p]=b;x=p;}else{var y=p.split('/');var i,_;for(i=0,_=(y.length-1);i<_;i++){var k9=a[y[i]];if(k9===u){k9={};a[y[i]]=k9;}else if(k9===null){return;}a=k9;}x=y[i];a[x]=b;}if(e){var l9=a.__metadata=a.__metadata||{};var m9=l9.properties=l9.properties||{};var n9=m9[x]=m9[x]||{};n9.type=e;}};var X5=function(a,b,e){var p=a.propertyPath;if(a.keepInContent||V5(p,e)===null){return;}var x=h1(b,a.nsURI,a.entryPath);if(!x){return;}var i=a.propertyType;var y;if(a.contentKind==="xhtml"){y=C1(x);}else{y=c5(x,i||"Edm.String");}W5(p,e,y,i);};var Y5=function(a,b,p){var e=p.split("/");var i,x;while(b){var y=b;for(i=0,x=e.length;i<x;i++){var _=y.property;if(!_){break;}var k9=U2(_,e[i]);if(!k9){break;}var l9=k9.type;if(!l9||S2(l9)){return l9||null;}y=X2(l9,a);if(!y){return null;}}b=Y2(b.baseType,a);}return null;};var Z5=function(a,b,e){var i={};var p={__metadata:i};var x=c1(a,"etag",Q4);if(x){i.etag=x;}b=e1(a,b);f1(a,function(_){var k9=n1(_);var l9=m1(_);if(k9===z5){if(l9==="id"){$5(_,i,b);return;}if(l9==="category"){_5(_,i);return;}if(l9==="content"){a6(_,p,i,b);return;}if(l9==="link"){b6(_,p,i,b,e);return;}return;}if(k9===Q4){if(l9==="properties"){i6(_,p,i);return;}if(l9==="action"){Q5(_,b,i);return;}if(l9==="function"){R5(_,b,i);return;}}});var y=Y2(i.type,e);L5(y,e,function(_){X5(_,a,p);});return p;};var $5=function(a,e,b){e.uri=H(l1(a),e1(a,b));e.uri_extensions=M5(a);};var _5=function(a,e){if(c1(a,"scheme")===S4){if(e.type){throw{message:"Invalid AtomPub document: multiple category elements defining the entry type were encounterd withing an entry",element:a};}var b=[];b1(a,function(i){var p=n1(i);var x=m1(i);if(!p){if(x!=="scheme"&&x!=="term"){b.push(V4(i,true));}return;}if(J5(p)){b.push(V4(i,true));}});e.type=c1(a,"term");e.type_extensions=b;}};var a6=function(a,e,b,i){var p=c1(a,"src");var x=c1(a,"type");if(p){if(!x){throw{message:"Invalid AtomPub document: content element must specify the type attribute if the src attribute is also specified",element:a};}b.media_src=H(p,e1(a,i));b.content_type=x;}f1(a,function(y){if(p){throw{message:"Invalid AtomPub document: content element must not have child elements if the src attribute is specified",element:a};}if(n1(y)===Q4&&m1(y)==="properties"){i6(y,e,b);}});};var b6=function(a,e,b,i,p){var x=U5(a,i);var y=x.rel;var _=x.href;var k9=x.extensions;if(y==="self"){b.self=_;b.self_link_extensions=k9;return;}if(y==="edit"){b.edit=_;b.edit_link_extensions=k9;return;}if(y==="edit-media"){b.edit_media=x.href;b.edit_media_extensions=k9;h6(x,b);return;}if(y.indexOf(B5)===0){e6(x,e,b);return;}if(y.indexOf(C5)===0){f6(x,e,b);return;}if(y.indexOf(R4)===0){d6(a,x,e,b,p);return;}if(y.indexOf(D5)===0){c6(x,b);return;}};var c6=function(a,e){var p=a.rel.substring(D5.length);e.properties=e.properties||{};var b=e.properties[p]=e.properties[p]||{};b.associationuri=a.href;b.associationuri_extensions=a.extensions;};var d6=function(a,b,e,i,p){var x;var y=i1(a,Q4,"inline");if(y){var _=i1(y);var k9=e1(y,b.baseURI);x=_?O5(_,k9,p):null;}else{x={__deferred:{uri:b.href}};}var l9=b.rel.substring(R4.length);e[l9]=x;i.properties=i.properties||{};var m9=i.properties[l9]=i.properties[l9]||{};m9.extensions=b.extensions;};var e6=function(a,e,b){var p=a.rel.substring(B5.length);var i=g6(p,e,b);var x=i.value;var y=i.metadata;var _=a.href;x.edit_media=_;x.content_type=a.type;y.edit_media_extensions=a.extensions;x.media_src=x.media_src||_;y.media_src_extensions=y.media_src_extensions||[];h6(a,x);};var f6=function(a,e,b){var p=a.rel.substring(C5.length);var i=g6(p,e,b);var x=i.value;var y=i.metadata;x.media_src=a.href;y.media_src_extensions=a.extensions;x.content_type=a.type;};var g6=function(a,e,b){b.properties=b.properties||{};var i=b.properties[a];var p=e[a]&&e[a].__mediaresource;if(!p){p={};e[a]={__mediaresource:p};b.properties[a]=i={};}return{value:p,metadata:i};};var h6=function(a,b){var e=a.extensions;var i,p;for(i=0,p=e.length;i<p;i++){if(e[i].namespaceURI===Q4&&e[i].name==="etag"){b.media_etag=e[i].value;e.splice(i,1);return;}}};var i6=function(a,p,b){f1(a,function(e){var i=_4(e);if(i){var x=i.name;var y=b.properties=b.properties||{};y[x]=i.metadata;p[x]=i.value;}});};var j6=function(a,b){var e=[];var i=[];b=e1(a,b);f1(a,function(p){if(n1(p)===A5&&m1(p)==="workspace"){e.push(k6(p,b));return;}i.push(W4(p));});if(e.length===0){throw{message:"Invalid AtomPub service document: No workspace element found.",element:a};}return{workspaces:e,extensions:i};};var k6=function(a,b){var e=[];var i=[];var p=u;b=e1(a,b);f1(a,function(x){var y=n1(x);var _=m1(x);if(y===z5){if(_==="title"){if(p!==u){throw{message:"Invalid AtomPub service document: workspace has more than one child title element",element:x};}p=l1(x);return;}}if(y===A5){if(_==="collection"){e.push(l6(x,b));}return;}i.push(N5(x));});return{title:p||"",collections:e,extensions:i};};var l6=function(a,b){var e=c1(a,"href");if(!e){throw{message:"Invalid AtomPub service document: collection has no href attribute",element:a};}b=e1(a,b);e=H(e,e1(a,b));var i=[];var p=u;f1(a,function(x){var y=n1(x);var _=m1(x);if(y===z5){if(_==="title"){if(p!==u){throw{message:"Invalid AtomPub service document: collection has more than one child title element",element:x};}p=l1(x);}return;}if(y!==A5){i.push(N5(a));}});if(!p){throw{message:"Invalid AtomPub service document: collection has no title element",element:a};}return{title:p,href:e,extensions:i};};var m6=function(a,b,e){return w1(a,z5,$(y5,b),e);};var n6=function(a,b,e){return v1(a,null,b,e);};var o6=function(p){if(p.childNodes.length>0){return false;}var a=true;var b=p.attributes;var i,e;for(i=0,e=b.length;i<e&&a;i++){var x=b[i];a=a&&T(x)||(n1(x)==Q4&&m1(x)==="type");}return a;};var p6=function(a,b,e,i,p){var x=null;var y=null;var _=null;var k9="";if(e!=="deferred"){x=n6(a,"type","application/atom+xml;type="+e);y=j5(a,"inline");if(i){k9=i.__metadata&&i.__metadata.uri||"";_=t6(a,i,p)||s6(a,i,p);t1(y,_.element);}}else{k9=i.__deferred.uri;};var l9=m6(a,"link",[n6(a,"href",k9),n6(a,"rel",H(b,R4)),x,y]);return n5(l9,_?_.dsv:"1.0");};var q6=function(a,b,e,i,p,x){if(Q2(e)){return null;}var y=u5(a,b,e,i,p,x);if(!y){var _=T2(e,p);y=p6(a,b,_,e,x);}return y;};var r6=function(a,e,b,i){var p=g1(b,P4,i.propertyPath);var x=p&&d1(p,"null",Q4);var y;var _="1.0";if(x&&x.value==="true"){return _;}if(p){y=l1(p)||"";if(!i.keepInContent){_="2.0";var k9=p.parentNode;var l9=k9;k9.removeChild(p);while(l9!==b&&o6(l9)){k9=l9.parentNode;k9.removeChild(l9);l9=k9;}}}var m9=A1(a,e,i.nsURI,i.nsPrefix,i.entryPath);if(m9.nodeType===2){m9.value=y;return _;}var n9=i.contentKind;s1(m9,[n9&&v1(a,null,"type",n9),n9==="xhtml"?y1(a,y):y]);return _;};var s6=function(a,b,e){var p=b.__metadata||{};var i=p.properties||{};var x=p.etag;var y=p.uri;var _=p.type;var k9=Y2(_,e);var l9=j5(a,"properties");var m9=m6(a,"entry",[m6(a,"author",m6(a,"name")),x&&k5(a,"etag",x),y&&m6(a,"id",y),_&&m6(a,"category",[n6(a,"term",_),n6(a,"scheme",S4)]),m6(a,"content",[n6(a,"type","application/xml"),l9])]);var n9="1.0";for(var o9 in b){if(o9!=="__metadata"){var p9=i[o9]||{};var q9=k9&&(U2(k9.property,o9)||U2(k9.navigationProperty,o9));var r9=q6(a,o9,b[o9],p9,q9,e);if(r9){var s9=r9.element;var t9=(n1(s9)===z5)?m9:l9;t1(t9,s9);n9=d3(n9,r9.dsv);}}};L5(k9,e,function(u9){var v9=r6(a,m9,l9,u9);n9=d3(n9,v9);});return n5(m9,n9);};var t6=function(a,b,e){var p=m(b)?b:b.results;if(!p){return null;}var x="1.0";var y=m6(a,"feed");var i,_;for(i=0,_=p.length;i<_;i++){var k9=s6(a,p[i],e);t1(y,k9.element);x=d3(x,k9.dsv);}return n5(y,x);};var u6=function(a,b){if(a){var e=N2(a)&&t6||q(a)&&s6;if(e){var i=r1();var p=e(i,a,b);if(p){var x=p.element;s1(x,[x1(i,Q4,U4),x1(i,P4,T4)]);return n5(t1(i,x),p.dsv);}}}return null;};var v6=function(P3,a,b){if(a){var e=Z(a);var i=i1(e);if(i){return O5(i,null,b.metadata);}}};var w6=function(P3,a,b){var e=b.contentType=b.contentType||D3(F5);if(e&&e.mediaType===F5){var i=u6(a,b.metadata);if(i){b.dataServiceVersion=d3(b.dataServiceVersion||"1.0",i.dsv);return B1(i.element);}}};o.atomHandler=P3(v6,w6,E5.join(","),C3);var x6=function(a,e,b,i){return{attributes:a,elements:e,text:b||false,ns:i};};var y6={elements:{Annotations:x6(["Target","Qualifier"],["Annotation*","TypeAnnotation*","ValueAnnotation*"]),Annotation:x6(["Term"],["Record","Collection"]),Association:x6(["Name"],["End*","ReferentialConstraint","TypeAnnotation*","ValueAnnotation*"]),AssociationSet:x6(["Name","Association"],["End*","TypeAnnotation*","ValueAnnotation*"]),Binary:x6(null,null,true),Bool:x6(null,null,true),Collection:x6(null,["String*","Int*","Float*","Decimal*","Bool*","DateTime*","DateTimeOffset*","Guid*","Binary*","Time*","Collection*","Record*"]),CollectionType:x6(["ElementType","Nullable","DefaultValue","MaxLength","FixedLength","Precision","Scale","Unicode","Collation","SRID"]["CollectionType","ReferenceType","RowType","TypeRef"]),ComplexType:x6(["Name","BaseType","Abstract"],["Property*","TypeAnnotation*","ValueAnnotation*"]),DateTime:x6(null,null,true),DateTimeOffset:x6(null,null,true),Decimal:x6(null,null,true),DefiningExpression:x6(null,null,true),Dependent:x6(["Role"],["PropertyRef*"]),Documentation:x6(null,null,true),End:x6(["Type","Role","Multiplicity","EntitySet"],["OnDelete"]),EntityContainer:x6(["Name","Extends"],["EntitySet*","AssociationSet*","FunctionImport*","TypeAnnotation*","ValueAnnotation*"]),EntitySet:x6(["Name","EntityType"],["TypeAnnotation*","ValueAnnotation*"]),EntityType:x6(["Name","BaseType","Abstract","OpenType"],["Key","Property*","NavigationProperty*","TypeAnnotation*","ValueAnnotation*"]),EnumType:x6(["Name","UnderlyingType","IsFlags"],["Member*"]),Float:x6(null,null,true),Function:x6(["Name","ReturnType"],["Parameter*","DefiningExpression","ReturnType","TypeAnnotation*","ValueAnnotation*"]),FunctionImport:x6(["Name","ReturnType","EntitySet","IsSideEffecting","IsComposable","IsBindable","EntitySetPath"],["Parameter*","ReturnType","TypeAnnotation*","ValueAnnotation*"]),Guid:x6(null,null,true),Int:x6(null,null,true),Key:x6(null,["PropertyRef*"]),LabeledElement:x6(["Name"],["Path","String","Int","Float","Decimal","Bool","DateTime","DateTimeOffset","Guid","Binary","Time","Collection","Record","LabeledElement","Null"]),Member:x6(["Name","Value"]),NavigationProperty:x6(["Name","Relationship","ToRole","FromRole","ContainsTarget"],["TypeAnnotation*","ValueAnnotation*"]),Null:x6(null,null),OnDelete:x6(["Action"]),Path:x6(null,null,true),Parameter:x6(["Name","Type","Mode","Nullable","DefaultValue","MaxLength","FixedLength","Precision","Scale","Unicode","Collation","ConcurrencyMode","SRID"],["CollectionType","ReferenceType","RowType","TypeRef","TypeAnnotation*","ValueAnnotation*"]),Principal:x6(["Role"],["PropertyRef*"]),Property:x6(["Name","Type","Nullable","DefaultValue","MaxLength","FixedLength","Precision","Scale","Unicode","Collation","ConcurrencyMode","CollectionKind","SRID"],["CollectionType","ReferenceType","RowType","TypeAnnotation*","ValueAnnotation*"]),PropertyRef:x6(["Name"]),PropertyValue:x6(["PropertyPath","Property","Path","String","Int","Float","Decimal","Bool","DateTime","DateTimeOffset","Guid","Binary","Time"],["Path","String","Int","Float","Decimal","Bool","DateTime","DateTimeOffset","Guid","Binary","Time","Collection","Record","LabeledElement","Null"]),Record:x6(["Type"],["PropertyValue*"]),ReferenceType:x6(["Type"]),ReferentialConstraint:x6(null,["Principal","Dependent"]),ReturnType:x6(["ReturnType","Type","EntitySet"],["CollectionType","ReferenceType","RowType"]),RowType:x6(["Property*"]),String:x6(null,null,true),Schema:x6(["Namespace","Alias"],["Using*","EntityContainer*","EntityType*","Association*","ComplexType*","Function*","ValueTerm*","Annotations*"]),Time:x6(null,null,true),TypeAnnotation:x6(["Term","Qualifier"],["PropertyValue*"]),TypeRef:x6(["Type","Nullable","DefaultValue","MaxLength","FixedLength","Precision","Scale","Unicode","Collation","SRID"]),Using:x6(["Namespace","Alias"]),ValueAnnotation:x6(["Term","Qualifier","Path","String","Int","Float","Decimal","Bool","DateTime","DateTimeOffset","Guid","Binary","Time"],["Path","String","Int","Float","Decimal","Bool","DateTime","DateTimeOffset","Guid","Binary","Time","Collection","Record","LabeledElement","Null"]),ValueTerm:x6(["Name","Type"],["TypeAnnotation*","ValueAnnotation*"]),Edmx:x6(["Version"],["DataServices","Reference*","AnnotationsReference*"],false,H4),DataServices:x6(null,["Schema*"],false,H4)}};var z6=["m:FC_ContentKind","m:FC_KeepInContent","m:FC_NsPrefix","m:FC_NsUri","m:FC_SourcePath","m:FC_TargetPath"];y6.elements.Property.attributes=y6.elements.Property.attributes.concat(z6);y6.elements.EntityType.attributes=y6.elements.EntityType.attributes.concat(z6);y6.elements.Edmx={attributes:["Version"],elements:["DataServices"],ns:H4};y6.elements.DataServices={elements:["Schema*"],ns:H4};y6.elements.EntityContainer.attributes.push("m:IsDefaultEntityContainer");y6.elements.Property.attributes.push("m:MimeType");y6.elements.FunctionImport.attributes.push("m:HttpMethod");y6.elements.FunctionImport.attributes.push("m:IsAlwaysBindable");y6.elements.EntityType.attributes.push("m:HasStream");y6.elements.DataServices.attributes=["m:DataServiceVersion","m:MaxDataServiceVersion"];var A6=function(a){if(!a){return a;}if(a.length>1){var b=a.substr(0,2);if(b===b.toUpperCase()){return a;}return a.charAt(0).toLowerCase()+a.substr(1);}return a.charAt(0).toLowerCase();};var B6=function(p,a){if(a==="Documentation"){return{isArray:true,propertyName:"documentation"};}var e=p.elements;if(!e){return null;}var i,b;for(i=0,b=e.length;i<b;i++){var x=e[i];var y=false;if(x.charAt(x.length-1)==="*"){y=true;x=x.substr(0,x.length-1);}if(a===x){var _=A6(x);return{isArray:y,propertyName:_};}}return null;};var C6=/^(m:FC_.*)_[0-9]+$/;var D6=function(a){return a===I4||a===J4||a===K4||a===L4||a===M4||a===N4||a===O4};var E6=function(e){var a=m1(e);var b=n1(e);var i=y6.elements[a];if(!i){return null;}if(i.ns){if(b!==i.ns){return null;}}else if(!D6(b)){return null;}var p={};var x=[];var y=i.attributes||[];b1(e,function(_){var a=m1(_);var b=n1(_);var k9=_.value;if(b===N){return;}var l9=null;var m9=false;if(D6(b)||b===null){l9="";}else if(b===Q4){l9="m:";}if(l9!==null){l9+=a;var n9=C6.exec(l9);if(n9){l9=n9[1];}if(g(y,l9)){m9=true;p[A6(a)]=k9;}}if(!m9){x.push(V4(_));}});f1(e,function(_){var a=m1(_);var k9=B6(i,a);if(k9){if(k9.isArray){var l9=p[k9.propertyName];if(!l9){l9=[];p[k9.propertyName]=l9;}l9.push(E6(_));}else{p[k9.propertyName]=E6(_);}}else{x.push(W4(_));}});if(i.text){p.text=l1(e);}if(x.length){p.extensions=x;}return p;};var F6=function(P3,a){var b=Z(a);var e=i1(b);return E6(e)||u;};o.metadataHandler=P3(F6,null,E4,C3);var G6="o";var H6="f";var I6="p";var J6="c";var K6="s";var L6="l";var M6="odata";var N6=M6+".";var O6="@"+N6+"bind";var P6=N6+"metadata";var Q6=N6+"navigationLinkUrl";var R6=N6+"type";var S6={readLink:"self",editLink:"edit",nextLink:"__next",mediaReadLink:"media_src",mediaEditLink:"edit_media",mediaContentType:"content_type",mediaETag:"media_etag",count:"__count",media_src:"mediaReadLink",edit_media:"mediaEditLink",content_type:"mediaContentType",media_etag:"mediaETag",url:"uri"};var T6=function(a){if(a.indexOf(".")>0){var b=a.indexOf("@");var e=b>-1?a.substring(0,b):null;var i=a.substring(b+1);return{target:e,name:i,isOData:i.indexOf(N6)===0};}return null;};var U6=function(a,b,e,i,p){return(J2(b)&&b[R6])||(e&&e[a+"@"+R6])||(i&&i.type)||(a3(i,p))||null;};var V6=function(a,b){if(b){return U2(b.property,a)||U2(b.navigationProperty,a);}return null;};var W6=function(a){return J2(a)&&a.hasOwnProperty(N6+"id");};var X6=function(a,b,e){if(!!b[a+"@"+Q6]||(e&&e.relationship)){return true;}var i=m(b[a])?b[a][0]:b[a];return W6(i);};var Y6=function(a){return S2(a)||O2(a)||P2(a);};var Z6=function(a,b,e,i,p){for(var x in a){if(x.indexOf(".")>0&&x.charAt(0)!=="#"){var y=T6(x);if(y){var _=y.name;var k9=y.target;var l9=null;var m9=null;if(k9){l9=V6(k9,i);m9=U6(k9,a[k9],a,l9,p);}if(y.isOData){$6(_,k9,m9,a[x],a,b,e);}else{b[x]=a[x];}}}}return b;};5;var $6=function(a,b,e,i,p,x,y){var _=a.substring(N6.length);switch(_){case"navigationLinkUrl":c7(_,b,e,i,p,x,y);return;case"nextLink":case"count":a7(_,b,i,x,y);return;case"mediaReadLink":case"mediaEditLink":case"mediaContentType":case"mediaETag":b7(_,b,e,i,x,y);return;default:_6(_,b,i,x,y);return;}};var _6=function(a,b,e,i,p){var x=i.__metadata=i.__metadata||{};var y=S6[a]||a;if(a==="editLink"){x.uri=H(e,p);x[y]=x.uri;return;}if(a==="readLink"||a==="associationLinkUrl"){e=H(e,p);}if(b){var _=x.properties=x.properties||{};var k9=_[b]=_[b]||{};if(a==="type"){k9[y]=k9[y]||e;return;}k9[y]=e;return;}x[y]=e;};var a7=function(a,b,e,i,p){var x=S6[a];var y=b?i[b]:i;y[x]=(a==="nextLink")?H(e,p):e;};var b7=function(a,b,e,i,p,x){var y=p.__metadata=p.__metadata||{};var _=S6[a];if(a==="mediaReadLink"||a==="mediaEditLink"){i=H(i,x);}if(b){var k9=y.properties=y.properties||{};var l9=k9[b]=k9[b]||{};l9.type=l9.type||e;p.__metadata=y;p[b]=p[b]||{__mediaresource:{}};p[b].__mediaresource[_]=i;return;}y[_]=i;};var c7=function(a,b,e,i,p,x,y){var _=x.__metadata=x.__metadata||{};var k9=_.properties=_.properties||{};var l9=k9[b]=k9[b]||{};var m9=H(i,y);if(p.hasOwnProperty(b)){l9.navigationLinkUrl=m9;return;}x[b]={__deferred:{uri:m9}};l9.type=l9.type||e;};var d7=function(a,b,e,i,p,x,y){if(typeof a==="string"){return e7(a,b,y);}if(!Y6(b)){if(m(a)){return f7(a,b,e,i,x,y);}if(J2(a)){return g7(a,b,e,i,x,y);}}return a;};var e7=function(a,p,b){switch(p){case X1:return n3(a);case M1:return j3(a,false);case N1:return k3(a,false);}if(b){return j3(a,true)||k3(a,true)||a;}return a;};var f7=function(a,p,b,e,x,y){var _=D2(p);var k9=[];var l9=[];var i,m9;for(i=0,m9=a.length;i<m9;i++){var n9=U6(null,a[i])||_;var o9={type:n9};var p9=d7(a[i],n9,o9,e,null,x,y);if(!Y6(n9)&&!R2(a[i])){k9.push(o9);}l9.push(p9);}if(k9.length>0){b.elements=k9;}return{__metadata:{type:p},results:l9};};var g7=function(a,p,b,e,i,x){var y=i7(a,p,e,i,x);var _=y.__metadata;var k9=_.properties;if(k9){b.properties=k9;delete _.properties;}return y;};var h7=function(a,p,b,e,i){if(m(a)){return k7(a,p,b,e,i);}if(J2(a)){return i7(a,p,b,e,i);}return null;};var i7=function(a,b,e,i,p){var x=a[R6]||b;var y=Y2(x,i)||X2(x,i);var _={type:x};var k9={__metadata:_};var l9={};for(var m9 in a){if(m9.indexOf("#")===0){j7(m9.substring(1),a[m9],k9,e,i);}else{if(m9.indexOf(".")===-1){if(!_.properties){_.properties=l9;}var n9=a[m9];var o9=V6(m9,y);var p9=X6(m9,a,o9);var q9=U6(m9,n9,a,o9,i);var r9=l9[m9]=l9[m9]||{type:q9};k9[m9]=p9?h7(n9,q9,e,i,p):d7(n9,q9,r9,e,o9,i,p);}}}return Z6(a,k9,e,y,i);};var j7=function(a,b,e,p,x){if(!a||!m(b)&&!J2(b)){return;}var y=false;var _=a.lastIndexOf(".");var k9=a.substring(_+1);var l9=(_>-1)?a.substring(0,_):"";var m9=(k9===a||l9.indexOf(".")===-1)?Z2(x):$2(l9,x);if(m9){var n9=_2(m9.functionImport,k9);if(n9&&!!n9.isSideEffecting){y=!g3(n9.isSideEffecting);}};var o9=e.__metadata;var p9=y?"functions":"actions";var q9=H(a,p);var r9=(m(b))?b:[b];var i,s9;for(i=0,s9=r9.length;i<s9;i++){var t9=r9[i];if(t9){var u9=o9[p9]=o9[p9]||[];var v9={metadata:q9,title:t9.title,target:H(t9.target,p)};u9.push(v9);}}};var k7=function(a,b,e,p,x){var y=m(a)?a:a.value;var _=[];var i,k9;for(i=0,k9=y.length;i<k9;i++){_.push(i7(y[i],b,e,p,x));}var l9={results:_};if(J2(a)){for(var m9 in a){if(m9.indexOf("#")===0){l9.__metadata=l9.__metadata||{};j7(m9.substring(1),a[m9],l9,e,p);}}l9=Z6(a,l9,e);}return l9;};var l7=function(a,b,e,i){var p={type:b};var x=d7(a.value,b,p,e,null,null,i);return Z6(a,{__metadata:p,value:x},e);};var m7=function(a,b,e,i,p){var x={};var y=f7(a.value,b,x,e,i,p);k(y.__metadata,x);return Z6(a,y,e);};var n7=function(a,b){var e=a.value;if(!m(e)){return o7(a,b);}var p=[];var i,x;for(i=0,x=e.length;i<x;i++){p.push(o7(e[i],b));}var y={results:p};return Z6(a,y,b);};var o7=function(a,b){var e={uri:H(a.url,b)};e=Z6(a,e,b);var i=e.__metadata||{};var p=i.properties||{};p7(p.url);s(p,"url","uri");return e;};var p7=function(p){if(p){delete p.type;}};var q7=function(a,b){var e=a.value;var p=[];var x=Z6(a,{collections:p},b);var y=x.__metadata||{};var _=y.properties||{};p7(_.value);s(_,"value","collections");var i,k9;for(i=0,k9=e.length;i<k9;i++){var l9=e[i];var m9={title:l9.name,href:H(l9.url,b)};m9=Z6(l9,m9,b);y=m9.__metadata||{};_=y.properties||{};p7(_.name);p7(_.url);s(_,"name","title");s(_,"url","href");p.push(m9);}return{workspaces:[x]};};var r7=function(a,b){return{kind:a,type:b||null};};var s7=function(a,b,i){var e=a[P6];if(!e||typeof e!=="string"){return null;}var p=e.lastIndexOf("#");if(p===-1){return r7(K6);}var x=e.indexOf("@Element",p);var y=x-1;if(y<0){y=e.indexOf("?",p);if(y===-1){y=e.length;}}var _=e.substring(p+1,y);if(_.indexOf("/$links/")>0){return r7(L6);}var k9=_.split("/");if(k9.length>=0){var l9=k9[0];var m9=k9[1];if(Y6(l9)){return r7(I6,l9);}if(I2(l9)){return r7(J6,l9);}var n9=m9;if(!m9){var o9=l9.lastIndexOf(".");var p9=l9.substring(o9+1);var q9=(p9===l9)?Z2(b):$2(l9.substring(0,o9),b);if(q9){var r9=W2(q9.entitySet,p9);n9=!!r9?r9.entityType:null}}if(x>0){return r7(G6,n9);}if(n9){return r7(H6,n9);}if(m(a.value)&&!X2(l9,b)){var s9=a.value[0];if(!R2(s9)){if(W6(s9)||!i){return r7(H6,null);}}}return r7(G6,l9);}return null;};var t7=function(a,b,e,i){if(!J2(a)){return a;}var p=a[P6];var x=s7(a,b,i);var y=null;if(x){delete a[P6];y=x.type;switch(x.kind){case H6:return k7(a,y,p,b,e);case J6:return m7(a,y,p,b,e);case I6:return l7(a,y,p,e);case K6:return q7(a,p);case L6:return n7(a,p);}}return i7(a,y,p,b,e);};var u7=["type","etag","media_src","edit_media","content_type","media_etag"];var v7=function(a,b){var e=/\/\$links\//;var i={};var p=a.__metadata;var x=b&&e.test(b.request.requestUri);x7(a,(p&&p.properties),i,x);return i;};var w7=function(a,b){if(a){var i,e;for(i=0,e=u7.length;i<e;i++){var p=u7[i];var x=N6+(S6[p]||p);F7(x,null,a[p],b);}}};var x7=function(a,p,b,i){for(var e in a){var x=a[e];if(e==="__metadata"){w7(x,b);}else if(e.indexOf(".")===-1){if(i&&e==="uri"){z7(x,b);}else{y7(e,x,p,b,i);}}else{b[e]=x;}}};var y7=function(a,b,p,e){var i=p&&p[a]||{properties:u,type:u};var x=H1(b,i);if(R2(b)||!b){F7(R6,a,x,e);e[a]=b;return;}if(N2(b,x)||M2(b)){C7(a,b,e);return;}if(!x&&L2(b)){A7(a,b,e);return;}if(H2(b,x)){if(D2(x)){F7(R6,a,x,e);}B7(a,b,e);return;}e[a]={};F7(R6,null,x,e[a]);x7(b,i.properties,e[a]);};var z7=function(a,b){b.url=a;};var A7=function(a,b,e){F7(Q6,a,b.__deferred.uri,e);};var B7=function(a,b,e){e[a]=[];var i=m(b)?b:b.results;x7(i,null,e[a]);};var C7=function(a,b,e){if(N2(b)){e[a]=[];var p=m(b)?b:b.results;var i,x;for(i=0,x=p.length;i<x;i++){D7(a,p[i],true,e);}return;}D7(a,b,false,e);};var D7=function(a,b,i,e){var p=b.__metadata&&b.__metadata.uri;if(p){E7(a,p,i,e);return;}var x=v7(b);if(i){e[a].push(x);return;}e[a]=x;};var E7=function(a,b,i,e){var p=a+O6;if(i){e[p]=e[p]||[];e[p].push(b);return;}e[p]=b;};var F7=function(a,b,e,i){if(e!==u){b?i[b+"@"+a]=e:i[a]=e;}};var G7="application/json";var H7=D3(G7);var I7=function(a){var b=[];for(name in a){var i,e;for(i=0,e=a[name].length;i<e;i++){b.push(k({metadata:name},a[name][i]));}}return b;};var J7=function(a,b,e,p){if(a&&typeof a==="object"){var x;var y=a.__metadata;if(y){if(y.actions){y.actions=I7(y.actions);}if(y.functions){y.functions=I7(y.functions);}x=y&&y.type;}var _=Y2(x,b)||X2(x,b);if(_){var k9=_.property;if(k9){var i,l9;for(i=0,l9=k9.length;i<l9;i++){var m9=k9[i];var n9=m9.name;var o9=a[n9];if(m9.type==="Edm.DateTime"||m9.type==="Edm.DateTimeOffset"){if(o9){o9=e(o9);if(!o9){throw{message:"Invalid date/time value"};}a[n9]=o9;}}else if(m9.type==="Edm.Time"){if(o9){a[n9]=n3(o9);}}}}}else if(p){for(var p9 in a){o9=a[p9];if(typeof o9==="string"){a[p9]=e(o9)||o9;}}}}return a;};var K7=function(D3){if(D3){var o=D3.properties.odata;return o==="nometadata"||o==="minimalmetadata"||o==="fullmetadata";}return false;};var L7=function(a,b){var e={collections:[]};var i,p;for(i=0,p=a.EntitySets.length;i<p;i++){var x=a.EntitySets[i];var y={title:x,href:H(x,b)};e.collections.push(y);}return{workspaces:[e]};};var M7=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/;var N7=function(a){var b;if(a<0){b="-";a=-a;}else{b="+";}var e=Math.floor(a/60);a=a-(60*e);return b+B2(e,2)+":"+B2(a,2);};var O7=function(a){var b=a&&M7.exec(a);if(b){var e=new Date(r(b[1]));if(b[2]){var i=r(b[3]);if(b[2]==="-"){i=-i;}var p=e.getUTCMinutes();e.setUTCMinutes(p-i);e.__edmType="Edm.DateTimeOffset";e.__offset=N7(i);}if(!isNaN(e.valueOf())){return e;}}};var P7=function(P3,a,b){var e=h(b.recognizeDates,P3.recognizeDates);var i=h(b.inferJsonLightFeedAsObject,P3.inferJsonLightFeedAsObject);var p=b.metadata;var x=b.dataServiceVersion;var y=O7;var _=(typeof a==="string")?w.JSON.parse(a):a;if((d3("3.0",x)===x)){if(K7(b.contentType)){return t7(_,p,e,i);}y=j3;}_=r3(_.d,function(k9,l9){return J7(l9,p,y,e);});_=U7(_,b.dataServiceVersion);return T7(_,b.response.requestUri);};var Q7=function(a){var b=u;var e=Date.prototype.toJSON;try{Date.prototype.toJSON=function(){return y2(this);};b=w.JSON.stringify(a,S7);b=b.replace(/\/Date\(([0-9.+-]+)\)\//g,"\\/Date($1)\\/");}finally{Date.prototype.toJSON=e;}return b;};var R7=function(P3,a,b){var e=b.dataServiceVersion||"1.0";var i=h(b.useJsonLight,P3.useJsonLight);var p=b.contentType=b.contentType||H7;if(p&&p.mediaType===H7.mediaType){var x=a;if(i||K7(p)){b.dataServiceVersion=d3(e,"3.0");x=v7(a,b);return Q7(x);}if(d3("3.0",e)===e){p.properties.odata="verbose";b.contentType=p;}return Q7(x);}return u;};var S7=function(_,a){if(a&&a.__edmType==="Edm.Time"){return A2(a);}else{return a;}};var T7=function(a,b){var i=J2(a)&&!a.__metadata&&m(a.EntitySets);return i?L7(a,b):a;};var U7=function(a,b){if(b&&b.lastIndexOf(";")===b.length-1){b=b.substr(0,b.length-1);}if(!b||b==="1.0"){if(m(a)){a={results:a};}}return a;};var V7=P3(P7,R7,G7,C3);V7.recognizeDates=false;V7.useJsonLight=false;V7.inferJsonLightFeedAsObject=false;o.jsonHandler=V7;var W7="multipart/mixed";var X7=/^HTTP\/1\.\d (\d{3}) (.*)$/i;var Y7=/^([^()<>@,;:\\"\/[\]?={} \t]+)\s?:\s?(.*)/;var Z7=function(){return Math.floor((1+Math.random())*0x10000).toString(16).substr(1);};var $7=function(p){return p+Z7()+"-"+Z7()+"-"+Z7();};var _7=function(a){return a.handler.partHandler;};var a8=function(a){var b=a.boundaries;return b[b.length-1];};var b8=function(P3,a,b){var e=b.contentType.properties["boundary"];return{__batchResponses:d8(a,{boundaries:[e],handlerContext:b})};};var c8=function(P3,a,b){var e=b.contentType=b.contentType||D3(W7);if(e.mediaType===W7){return i8(a,b);}};var d8=function(a,b){var i="--"+a8(b);h8(a,b,i);g8(a,b);var p=[];var x;while(x!=="--"&&b.position<a.length){var y=e8(a,b);var _=D3(y["Content-Type"]);if(_&&_.mediaType===W7){b.boundaries.push(_.properties["boundary"]);try{var k9=d8(a,b);}catch(e){e.response=f8(a,b,i);k9=[e];}p.push({__changeResponses:k9});b.boundaries.pop();h8(a,b,"--"+a8(b));}else{if(!_||_.mediaType!=="application/http"){throw{message:"invalid MIME part type "};}g8(a,b);var l9=f8(a,b,i);try{if(l9.statusCode>=200&&l9.statusCode<=299){_7(b.handlerContext).read(l9,b.handlerContext);}else{l9={message:"HTTP request failed",response:l9};}}catch(e){l9=e;}p.push(l9);}x=a.substr(b.position,2);g8(a,b);}return p;};var e8=function(a,b){var e={};var p;var i;var x;do{x=b.position;i=g8(a,b);p=Y7.exec(i);if(p!==null){e[p[1]]=p[2];}else{b.position=x;}}while(i&&p);f3(e);return e;};var f8=function(a,b,e){var p=b.position;var i=X7.exec(g8(a,b));var x;var y;var _;if(i){x=i[1];y=i[2];_=e8(a,b);g8(a,b);}else{b.position=p;}return{statusCode:x,statusText:y,headers:_,body:h8(a,b,"\r\n"+e)};};var g8=function(a,b){return h8(a,b,"\r\n");};var h8=function(a,b,e){var i=b.position||0;var p=a.length;if(e){p=a.indexOf(e,i);if(p===-1){return null;}b.position=p+e.length;}else{b.position=p;}return a.substring(i,p);};var i8=function(a,b){if(!F2(a)){throw{message:"Data is not a batch object."};}var e=$7("batch_");var p=a.__batchRequests;var x="";var i,y;for(i=0,y=p.length;i<y;i++){x+=j8(e,false)+k8(p[i],b);}x+=j8(e,true);var _=b.contentType.properties;_.boundary=e;return x;};var j8=function(b,a){var e="\r\n--"+b;if(a){e+="--";}return e+"\r\n";};var k8=function(p,a,b){var e=p.__changeRequests;var x;if(m(e)){if(b){throw{message:"Not Supported: change set nested in other change set"};}var y=$7("changeset_");x="Content-Type: "+W7+"; boundary="+y+"\r\n";var i,_;for(i=0,_=e.length;i<_;i++){x+=j8(y,false)+k8(e[i],a,true);}x+=j8(y,true);}else{x="Content-Type: application/http\r\nContent-Transfer-Encoding: binary\r\n\r\n";var k9=k({},a);k9.handler=P3;k9.request=p;k9.contentType=null;p3(p,_7(a),k9);x+=l8(p);}return x;};var l8=function(a){var b=(a.method?a.method:"GET")+" "+a.requestUri+" HTTP/1.1\r\n";for(var e in a.headers){if(a.headers[e]){b=b+e+": "+a.headers[e]+"\r\n";}}if(a.body){function p(i){if(i<=0x7F)return 1;if(i<=0x7FF)return 2;if(i<=0xFFFF)return 3;if(i<=0x1FFFFF)return 4;if(i<=0x3FFFFFF)return 5;if(i<=0x7FFFFFFF)return 6;throw new Error("Illegal argument: "+i);};function x(y){var _=0;for(var i=0;i<y.length;i++){var ch=y.charCodeAt(i);_+=p(ch);}return _;};b+="Content-Length: "+x(a.body)+"\r\n";}b+="\r\n";if(a.body){b+=a.body;}return b;};o.batchHandler=P3(b8,c8,W7,C3);var m8=[o.jsonHandler,o.atomHandler,o.xmlHandler,o.textHandler];var n8=function(a,b,e){var i,p;for(i=0,p=m8.length;i<p&&!m8[i][a](b,e);i++){}if(i===p){throw{message:"no handler for data"};}};o.defaultSuccess=function(a){w.alert(w.JSON.stringify(a));};o.defaultError=t;o.defaultHandler={read:function(a,b){if(a&&a.body&&a.headers["Content-Type"]){n8("read",a,b);}},write:function(a,b){n8("write",a,b);},maxDataServiceVersion:C3,accept:"application/atomsvc+xml;q=0.8, application/json;odata=fullmetadata;q=0.7, application/json;q=0.5, */*;q=0.1"};o.defaultMetadata=[];o.read=function(a,b,e,P3,i,p){var x;if(a instanceof String||typeof a==="string"){x={requestUri:a};}else{x=a;}return o.request(x,b,e,P3,i,p);};o.request=function(a,b,e,P3,i,p){b=b||o.defaultSuccess;e=e||o.defaultError;P3=P3||o.defaultHandler;i=i||o.defaultHttpClient;p=p||o.defaultMetadata;a.recognizeDates=h(a.recognizeDates,o.jsonHandler.recognizeDates);a.callbackParameterName=h(a.callbackParameterName,o.defaultHttpClient.callbackParameterName);a.formatQueryString=h(a.formatQueryString,o.defaultHttpClient.formatQueryString);a.enableJsonpCallback=h(a.enableJsonpCallback,o.defaultHttpClient.enableJsonpCallback);a.useJsonLight=h(a.useJsonLight,o.jsonHandler.enableJsonpCallback);a.inferJsonLightFeedAsObject=h(a.inferJsonLightFeedAsObject,o.jsonHandler.inferJsonLightFeedAsObject);var x={metadata:p,recognizeDates:a.recognizeDates,callbackParameterName:a.callbackParameterName,formatQueryString:a.formatQueryString,enableJsonpCallback:a.enableJsonpCallback,useJsonLight:a.useJsonLight,inferJsonLightFeedAsObject:a.inferJsonLightFeedAsObject};try{p3(a,P3,x);return E2(a,b,e,P3,i,x);}catch(y){if(y.bIsSuccessHandlerError){throw y;}else{e(y);}}};o.batchHandler.partHandler=o.defaultHandler;var o8=null;var p8=function(){var a={v:this.valueOf(),t:"[object Date]"};for(var b in this){a[b]=this[b];}return a;};var q8=function(_,a){if(a&&a.t==="[object Date]"){var b=new Date(a.v);for(var e in a){if(e!=="t"&&e!=="v"){b[e]=a[e];}}a=b;}return a;};var r8=function(a,b){return a.name+"#!#"+b;};var s8=function(a,b){return b.replace(a.name+"#!#","");};var t8=function(a){this.name=a;};t8.create=function(a){if(t8.isSupported()){o8=o8||w.localStorage;return new t8(a);}throw{message:"Web Storage not supported by the browser"};};t8.isSupported=function(){return!!w.localStorage;};t8.prototype.add=function(a,b,e,i){i=i||this.defaultError;var p=this;this.contains(a,function(x){if(!x){p.addOrUpdate(a,b,e,i);}else{j(i,{message:"key already exists",key:a});}},i);};t8.prototype.addOrUpdate=function(a,b,i,p){p=p||this.defaultError;if(a instanceof Array){p({message:"Array of keys not supported"});}else{var x=r8(this,a);var y=Date.prototype.toJSON;try{var _=b;if(_!==u){Date.prototype.toJSON=p8;_=w.JSON.stringify(b);}o8.setItem(x,_);j(i,a,b);}catch(e){if(e.code===22||e.number===0x8007000E){j(p,{name:"QUOTA_EXCEEDED_ERR",error:e});}else{j(p,e);}}finally{Date.prototype.toJSON=y;}}};t8.prototype.clear=function(a,b){b=b||this.defaultError;try{var i=0,p=o8.length;while(p>0&&i<p){var x=o8.key(i);var y=s8(this,x);if(x!==y){o8.removeItem(x);p=o8.length;}else{i++;}};j(a);}catch(e){j(b,e);}};t8.prototype.close=function(){};t8.prototype.contains=function(a,b,i){i=i||this.defaultError;try{var p=r8(this,a);var x=o8.getItem(p);j(b,x!==null);}catch(e){j(i,e);}};t8.prototype.defaultError=t;t8.prototype.getAllKeys=function(a,b){b=b||this.defaultError;var p=[];var i,x;try{for(i=0,x=o8.length;i<x;i++){var y=o8.key(i);var _=s8(this,y);if(y!==_){p.push(_);}}j(a,p);}catch(e){j(b,e);}};t8.prototype.mechanism="dom";t8.prototype.read=function(a,b,i){i=i||this.defaultError;if(a instanceof Array){i({message:"Array of keys not supported"});}else{try{var p=r8(this,a);var x=o8.getItem(p);if(x!==null&&x!=="undefined"){x=w.JSON.parse(x,q8);}else{x=u;}j(b,a,x);}catch(e){j(i,e);}}};t8.prototype.remove=function(a,b,i){i=i||this.defaultError;if(a instanceof Array){i({message:"Batches not supported"});}else{try{var p=r8(this,a);o8.removeItem(p);j(b);}catch(e){j(i,e);}}};t8.prototype.update=function(a,b,e,i){i=i||this.defaultError;var p=this;this.contains(a,function(x){if(x){p.addOrUpdate(a,b,e,i);}else{j(i,{message:"key not found",key:a});}},i);};var u8=w.mozIndexedDB||w.webkitIndexedDB||w.msIndexedDB||w.indexedDB;var v8=w.IDBKeyRange||w.webkitIDBKeyRange;var w8=w.IDBTransaction||w.webkitIDBTransaction||{};var x8=w8.READ_ONLY||"readonly";var y8=w8.READ_WRITE||"readwrite";var z8=function(a,b){return function(e){var i=a||b;if(!i){return;}if(Object.prototype.toString.call(e)==="[object IDBDatabaseException]"){if(e.code===11){i({name:"QuotaExceededError",error:e});return;}i(e);return;}var p;try{var x=e.target.error||e;p=x.name;}catch(y){p=(e.type==="blocked")?"IndexedDBBlocked":"UnknownError";}i({name:p,error:e});};};var A8=function(a,b,e){var i=a.name;var p="_datajs_"+i;var x=u8.open(p);x.onblocked=e;x.onerror=e;x.onupgradeneeded=function(){var y=x.result;if(!y.objectStoreNames.contains(i)){y.createObjectStore(i);}};x.onsuccess=function(y){var _=x.result;if(!_.objectStoreNames.contains(i)){if("setVersion"in _){var k9=_.setVersion("1.0");k9.onsuccess=function(){var l9=k9.transaction;l9.oncomplete=function(){b(_);};_.createObjectStore(i,null,false);};k9.onerror=e;k9.onblocked=e;return;}y.target.error={name:"DBSchemaMismatch"};e(y);return;}_.onversionchange=function(y){y.target.close();};b(_);};};var B8=function(a,b,e,i){var p=a.name;var x=a.db;var y=z8(i,a.defaultError);if(x){e(x.transaction(p,b));return;}A8(a,function(_){a.db=_;e(_.transaction(p,b));},y);};var C8=function(a){this.name=a;};C8.create=function(a){if(C8.isSupported()){return new C8(a);}throw{message:"IndexedDB is not supported on this browser"};};C8.isSupported=function(){return!!u8;};C8.prototype.add=function(a,b,e,p){var x=this.name;var y=this.defaultError;var _=[];var k9=[];if(a instanceof Array){_=a;k9=b;}else{_=[a];k9=[b];}B8(this,y8,function(l9){l9.onabort=z8(p,y,a,"add");l9.oncomplete=function(){if(a instanceof Array){e(_,k9);}else{e(a,b);}};for(var i=0;i<_.length&&i<k9.length;i++){l9.objectStore(x).add({v:k9[i]},_[i]);}},p);};C8.prototype.addOrUpdate=function(a,b,e,p){var x=this.name;var y=this.defaultError;var _=[];var k9=[];if(a instanceof Array){_=a;k9=b;}else{_=[a];k9=[b];}B8(this,y8,function(l9){l9.onabort=z8(p,y);l9.oncomplete=function(){if(a instanceof Array){e(_,k9);}else{e(a,b);}};for(var i=0;i<_.length&&i<k9.length;i++){var m9={v:k9[i]};l9.objectStore(x).put(m9,_[i]);}},p);};C8.prototype.clear=function(a,e){var b=this.name;var i=this.defaultError;B8(this,y8,function(p){p.onerror=z8(e,i);p.oncomplete=function(){a();};p.objectStore(b).clear();},e);};C8.prototype.close=function(){if(this.db){this.db.close();this.db=null;}};C8.prototype.contains=function(a,b,e){var i=this.name;var p=this.defaultError;B8(this,x8,function(x){var y=x.objectStore(i);var _=y["get"](a);x.oncomplete=function(){b(!!_.result);};x.onerror=z8(e,p);},e);};C8.prototype.defaultError=t;C8.prototype.getAllKeys=function(a,e){var b=this.name;var i=this.defaultError;B8(this,y8,function(p){var x=[];p.oncomplete=function(){a(x);};var y=p.objectStore(b).openCursor();y.onerror=z8(e,i);y.onsuccess=function(_){var k9=_.target.result;if(k9){x.push(k9.key);k9["continue"].call(k9);}};},e);};C8.prototype.mechanism="indexeddb";C8.prototype.read=function(a,b,e){var p=this.name;var x=this.defaultError;var y=(a instanceof Array)?a:[a];B8(this,x8,function(_){var k9=[];_.onerror=z8(e,x,a,"read");_.oncomplete=function(){if(a instanceof Array){b(y,k9);}else{b(y[0],k9[0]);}};for(var i=0;i<y.length;i++){var l9=_.objectStore(p);var m9=l9["get"].call(l9,y[i]);m9.onsuccess=function(n9){var o9=n9.target.result;k9.push(o9?o9.v:u);};}},e);};C8.prototype.remove=function(a,b,e){var p=this.name;var x=this.defaultError;var y=(a instanceof Array)?a:[a];B8(this,y8,function(_){_.onerror=z8(e,x);_.oncomplete=function(){b();};for(var i=0;i<y.length;i++){var k9=_.objectStore(p);k9["delete"].call(k9,y[i]);}},e);};C8.prototype.update=function(a,b,e,p){var x=this.name;var y=this.defaultError;var _=[];var k9=[];if(a instanceof Array){_=a;k9=b;}else{_=[a];k9=[b];}B8(this,y8,function(l9){l9.onabort=z8(p,y);l9.oncomplete=function(){if(a instanceof Array){e(_,k9);}else{e(a,b);}};for(var i=0;i<_.length&&i<k9.length;i++){var m9=l9.objectStore(x).openCursor(v8.only(_[i]));var n9={v:k9[i]};m9.pair={key:_[i],value:n9};m9.onsuccess=function(o9){var p9=o9.target.result;if(p9){p9.update(o9.target.pair.value);}else{l9.abort();}};}},p);};var D8=function(a){var b=[];var i=[];var e={};this.name=a;var p=function(y){return y||this.defaultError;};var x=function(y,_){var k9;if(y instanceof Array){k9="Array of keys not supported";}if(y===u||y===null){k9="Invalid key";}if(k9){j(_,{message:k9});return false;}return true;};this.add=function(y,_,k9,l9){l9=p(l9);if(x(y,l9)){if(!e.hasOwnProperty(y)){this.addOrUpdate(y,_,k9,l9);}else{l9({message:"key already exists",key:y});}}};this.addOrUpdate=function(y,_,k9,l9){l9=p(l9);if(x(y,l9)){var m9=e[y];if(m9===u){if(b.length>0){m9=b.splice(0,1);}else{m9=i.length;}}i[m9]=_;e[y]=m9;j(k9,y,_);}};this.clear=function(y){i=[];e={};b=[];j(y);};this.contains=function(y,_){var k9=e.hasOwnProperty(y);j(_,k9);};this.getAllKeys=function(y){var _=[];for(var a in e){_.push(a);}j(y,_);};this.read=function(y,_,k9){k9=p(k9);if(x(y,k9)){var l9=e[y];j(_,y,i[l9]);}};this.remove=function(y,_,k9){k9=p(k9);if(x(y,k9)){var l9=e[y];if(l9!==u){if(l9===i.length-1){i.pop();}else{i[l9]=u;b.push(l9);}delete e[y];if(i.length===0){b=[];}}j(_);}};this.update=function(y,_,k9,l9){l9=p(l9);if(x(y,l9)){if(e.hasOwnProperty(y)){this.addOrUpdate(y,_,k9,l9);}else{l9({message:"key not found",key:y});}}};};D8.create=function(a){return new D8(a);};D8.isSupported=function(){return true;};D8.prototype.close=function(){};D8.prototype.defaultError=t;D8.prototype.mechanism="memory";var E8={indexeddb:C8,dom:t8,memory:D8};d.defaultStoreMechanism="best";d.createStore=function(a,b){if(!b){b=d.defaultStoreMechanism;}if(b==="best"){b=(t8.isSupported())?"dom":"memory";}var e=E8[b];if(e){return e.create(a);}throw{message:"Failed to create store",name:a,mechanism:b};};var F8=function(a,b){var e=(a.indexOf("?")>=0)?"&":"?";return a+e+b;};var G8=function(a,b){var i=a.indexOf("?");var e="";if(i>=0){e=a.substr(i);a=a.substr(0,i);}if(a[a.length-1]!=="/"){a+="/";}return a+b+e;};var H8=function(a,b){return{method:"GET",requestUri:a,user:b.user,password:b.password,withCredentials:b.withCredentials,enableJsonpCallback:b.enableJsonpCallback,callbackParameterName:b.callbackParameterName,formatQueryString:b.formatQueryString};};var I8=function(a,b){var e=-1;var i=a.indexOf("?");if(i!==-1){var p=a.indexOf("?"+b+"=",i);if(p===-1){p=a.indexOf("&"+b+"=",i);}if(p!==-1){e=p+b.length+2;}}return e;};var J8=function(a,b,e,i){var p=K8(a,b,[],e,i);return p;};var K8=function(a,b,e,i,p){var x=H8(a,b);var y=o.request(x,function(_){var k9=_.__next;var l9=_.results;e=e.concat(l9);if(k9){y=K8(k9,b,e,i,p);}else{i(e);}},p,u,b.httpClient,b.metadata);return{abort:function(){y.abort();}};};var L8=function(a){var b=this;var e=a.source;b.identifier=G(encodeURI(decodeURI(e)));b.options=a;b.count=function(i,p){var a=b.options;return o.request(H8(G8(e,"$count"),a),function(x){var y=r(x.toString());if(isNaN(y)){p({message:"Count is NaN",count:y});}else{i(y);}},p,u,a.httpClient,a.metadata);};b.read=function(i,p,x,y){var _="$skip="+i+"&$top="+p;return J8(F8(e,_),b.options,x,y);};return b;};var M8=function(a,p){var i=N8(a,p);if(i){var b=i.i-p.i;var e=b+(a.c-a.d.length);a.d=a.d.concat(p.d.slice(b,e));}};var N8=function(x,y){var a=x.i+x.c;var b=y.i+y.c;var e=(x.i>y.i)?x.i:y.i;var i=(a<b)?a:b;var p;if(i>=e){p={i:e,c:i-e};}return p;};var O8=function(a,b){if(a===u||typeof a!=="number"){throw{message:"'"+b+"' must be a number."};}if(isNaN(a)||a<0||!isFinite(a)){throw{message:"'"+b+"' must be greater than or equal to zero."};}};var P8=function(a,b){if(a!==u){if(typeof a!=="number"){throw{message:"'"+b+"' must be a number."};}if(isNaN(a)||a<=0||!isFinite(a)){throw{message:"'"+b+"' must be greater than zero."};}}};var Q8=function(a,b){if(a!==u&&(typeof a!=="number"||isNaN(a)||!isFinite(a))){throw{message:"'"+b+"' must be a number."};}};var R8=function(a,b){var i,e;for(i=0,e=a.length;i<e;i++){if(a[i]===b){a.splice(i,1);return true;}}return false;};var S8=function(a){var b=0;var e=typeof a;if(e==="object"&&a){for(var i in a){b+=i.length*2+S8(a[i]);}}else if(e==="string"){b=a.length*2;}else{b=8;}return b;};var T8=function(a,b,p){a=Math.floor(a/p)*p;b=Math.ceil((b+1)/p)*p;return{i:a,c:b-a};};var U8="destroy";var V8="idle";var W8="init";var X8="read";var Y8="prefetch";var Z8="write";var $8="cancel";var _8="end";var a9="error";var b9="start";var c9="wait";var d9="clear";var e9="done";var f9="local";var g9="save";var h9="source";var i9=function(a,p,i,b,e,x,y){var _;var k9;var l9=this;l9.p=p;l9.i=b;l9.c=e;l9.d=x;l9.s=b9;l9.canceled=false;l9.pending=y;l9.oncomplete=null;l9.cancel=function(){if(!i){return;}var o9=l9.s;if(o9!==a9&&o9!==_8&&o9!==$8){l9.canceled=true;n9($8,_);}};l9.complete=function(){n9(_8,_);};l9.error=function(o9){if(!l9.canceled){n9(a9,o9);}};l9.run=function(o9){k9=o9;l9.transition(l9.s,_);};l9.wait=function(x){n9(c9,x);};var m9=function(o9,k9,x){switch(o9){case b9:if(k9!==W8){a(l9,o9,k9,x);}break;case c9:a(l9,o9,k9,x);break;case $8:a(l9,o9,k9,x);l9.fireCanceled();n9(_8);break;case a9:a(l9,o9,k9,x);l9.canceled=true;l9.fireRejected(x);n9(_8);break;case _8:if(l9.oncomplete){l9.oncomplete(l9);}if(!l9.canceled){l9.fireResolved();}a(l9,o9,k9,x);break;default:a(l9,o9,k9,x);break;}};var n9=function(o9,x){l9.s=o9;_=x;m9(o9,k9,x);};l9.transition=n9;return l9;};i9.prototype.fireResolved=function(){var p=this.p;if(p){this.p=null;p.resolve(this.d);}};i9.prototype.fireRejected=function(a){var p=this.p;if(p){this.p=null;p.reject(a);}};i9.prototype.fireCanceled=function(){this.fireRejected({canceled:true,message:"Operation canceled"});};var j9=function(a){var b=W8;var e={counts:0,netReads:0,prefetches:0,cacheReads:0};var p=[];var x=[];var y=[];var k9=0;var l9=false;var m9=z(a.cacheSize,1048576);var n9=0;var o9=0;var p9=0;var q9=m9===0;var r9=z(a.pageSize,50);var s9=z(a.prefetchSize,r9);var t9="1.0";var u9;var v9=0;var w9=a.source;if(typeof w9==="string"){w9=new L8(a);}w9.options=a;var x9=d.createStore(a.name,a.mechanism);var y9=this;y9.onidle=a.idle;y9.stats=e;y9.count=function(){if(u9){throw u9;}var i=G1();var _=false;if(l9){j(function(){i.resolve(n9);});return i.promise();}var S9=w9.count(function(T9){S9=null;e.counts++;i.resolve(T9);},function(T9){S9=null;i.reject(k(T9,{canceled:_}));});return k(i.promise(),{cancel:function(){if(S9){_=true;S9.abort();S9=null;}}});};y9.clear=function(){if(u9){throw u9;}if(p.length===0){var i=G1();var _=new i9(O9,i,false);H9(_,p);return i.promise();}return p[0].p;};y9.filterForward=function(i,_,S9){return E9(i,_,S9,false);};y9.filterBack=function(i,_,S9){return E9(i,_,S9,true);};y9.readRange=function(i,_){O8(i,"index");O8(_,"count");if(u9){throw u9;}var S9=G1();var op=new i9(Q9,S9,true,i,_,[],0);H9(op,x);return k(S9.promise(),{cancel:function(){op.cancel();}});};y9.ToObservable=y9.toObservable=function(){if(!w.Rx||!w.Rx.Observable){throw{message:"Rx library not available - include rx.js"};}if(u9){throw u9;}return w.Rx.Observable.CreateWithDisposable(function(_){var S9=false;var T9=0;var U9=function(i){if(!S9){_.OnError(i);}};var V9=function(W9){if(!S9){var i,X9;for(i=0,X9=W9.length;i<X9;i++){_.OnNext(W9[i]);}if(W9.length<r9){_.OnCompleted();}else{T9+=r9;y9.readRange(T9,r9).then(V9,U9);}}};y9.readRange(T9,r9).then(V9,U9);return{Dispose:function(){S9=true;}};});};var z9=function(_){return function(S9){u9={message:_,error:S9};var i,T9;for(i=0,T9=x.length;i<T9;i++){x[i].fireRejected(u9);}for(i=0,T9=p.length;i<T9;i++){p[i].fireRejected(u9);}x=p=null;};};var A9=function(_){if(_!==b){b=_;var S9=p.concat(x,y);var i,T9;for(i=0,T9=S9.length;i<T9;i++){S9[i].run(b);}}};var B9=function(){var i=new F1();x9.clear(function(){k9=0;l9=false;n9=0;o9=0;p9=0;q9=m9===0;e={counts:0,netReads:0,prefetches:0,cacheReads:0};y9.stats=e;x9.close();i.resolve();},function(_){i.reject(_);});return i;};var C9=function(i){var _=R8(p,i);if(!_){_=R8(x,i);if(!_){R8(y,i);}}v9--;A9(V8);};var D9=function(i){var _=new F1();var S9=false;var T9=w9.read(i,r9,function(U9){var V9={i:i,c:U9.length,d:U9};_.resolve(V9);},function(U9){_.reject(U9);});return k(_,{cancel:function(){if(T9){T9.abort();S9=true;T9=null;}}});};var E9=function(_,S9,T9,U9){_=r(_);S9=r(S9);if(isNaN(_)){throw{message:"'index' must be a valid number.",index:_};}if(isNaN(S9)){throw{message:"'count' must be a valid number.",count:S9};}if(u9){throw u9;}_=Math.max(_,0);var V9=G1();var W9=[];var X9=false;var Y9=null;var Z9=function(ba,ca){if(!X9){if(S9>=0&&W9.length>=S9){V9.resolve(W9);}else{Y9=y9.readRange(ba,ca).then(function(da){for(var i=0,ea=da.length;i<ea&&(S9<0||W9.length<S9);i++){var fa=U9?ea-i-1:i;var ga=da[fa];if(T9(ga)){var ha={index:ba+fa,item:ga};U9?W9.unshift(ha):W9.push(ha);}}if((!U9&&da.length<ca)||(U9&&ba<=0)){V9.resolve(W9);}else{var ia=U9?Math.max(ba-r9,0):ba+ca;Z9(ia,r9);}},function(i){V9.reject(i);});}}};var $9=T8(_,_,r9);var _9=U9?$9.i:_;var aa=U9?_-$9.i+1:$9.i+$9.c-_;Z9(_9,aa);return k(V9.promise(),{cancel:function(){if(Y9){Y9.cancel();}X9=true;}});};var F9=function(){if(y9.onidle&&v9===0){y9.onidle();}};var G9=function(i){if(l9||s9===0||q9){return;}if(y.length===0||(y[0]&&y[0].c!==-1)){var _=new i9(P9,null,true,i,s9,null,s9);H9(_,y);}};var H9=function(i,_){i.oncomplete=C9;_.push(i);v9++;i.run(b);};var I9=function(i){var S9=false;var T9=k(new F1(),{cancel:function(){S9=true;}});var U9=L9(T9,"Read page from store failure");x9.contains(i,function(V9){if(S9){return;}if(V9){x9.read(i,function(_,W9){if(!S9){T9.resolve(W9!==u,W9);}},U9);return;}T9.resolve(false);},U9);return T9;};var J9=function(i,_){var S9=false;var T9=k(new F1(),{cancel:function(){S9=true;}});var U9=L9(T9,"Save page to store failure");var V9=function(){T9.resolve(true);};if(_.c>0){var W9=S8(_);q9=m9>=0&&m9<k9+W9;if(!q9){x9.addOrUpdate(i,_,function(){M9(_,W9);K9(V9,U9);},U9);}else{V9();}}else{M9(_,0);K9(V9,U9);}return T9;};var K9=function(i,_){var S9={actualCacheSize:k9,allDataLocal:l9,cacheSize:m9,collectionCount:n9,highestSavedPage:o9,highestSavedPageSize:p9,pageSize:r9,sourceId:w9.identifier,version:t9};x9.addOrUpdate("__settings",S9,i,_);};var L9=function(i){return function(){i.resolve(false);};};var M9=function(i,_){var S9=i.c;var T9=i.i;if(S9===0){if(o9===T9-r9){n9=o9+p9;}}else{o9=Math.max(o9,T9);if(o9===T9){p9=S9;}k9+=_;if(S9<r9&&!n9){n9=T9+S9;}}if(!l9&&n9===o9+p9){l9=true;}};var N9=function(i,_,S9,T9){var U9=i.canceled&&_!==_8;if(U9){if(_===$8){if(T9&&T9.cancel){T9.cancel();}}}return U9;};var O9=function(i,_,S9){var T9=i.transition;if(S9!==U8){A9(U8);return true;}switch(_){case b9:T9(d9);break;case _8:F9();break;case d9:B9().then(function(){i.complete();});i.wait();break;default:return false;}return true;};var P9=function(i,_,S9,T9){if(!N9(i,_,S9,T9)){var U9=i.transition;if(S9!==Y8){if(S9===U8){if(_!==$8){i.cancel();}}else if(S9===V8){A9(Y8);}return true;}switch(_){case b9:if(y[0]===i){U9(f9,i.i);}break;case e9:var V9=i.pending;if(V9>0){V9-=Math.min(V9,T9.c);}if(l9||V9===0||T9.c<r9||q9){i.complete();}else{i.pending=V9;U9(f9,T9.i+r9);}break;default:return R9(i,_,S9,T9,true);}}return true;};var Q9=function(i,_,S9,T9){if(!N9(i,_,S9,T9)){var U9=i.transition;if(S9!==X8&&_!==b9){if(S9===U8){if(_!==b9){i.cancel();}}else if(S9!==Z8){A9(X8);}return true;}switch(_){case b9:if(S9===V8||S9===Y8){A9(X8);if(i.c>0){var V9=T8(i.i,i.c,r9);U9(f9,V9.i);}else{U9(e9,i);}}break;case e9:M8(i,T9);var W9=i.d.length;if(i.c===W9||T9.c<r9){e.cacheReads++;G9(T9.i+T9.c);i.complete();}else{U9(f9,T9.i+r9);}break;default:return R9(i,_,S9,T9,false);}}return true;};var R9=function(i,_,S9,T9,U9){var V9=i.error;var W9=i.transition;var X9=i.wait;var Y9;switch(_){case _8:F9();break;case f9:Y9=I9(T9).then(function(Z9,$9){if(!i.canceled){if(Z9){W9(e9,$9);}else{W9(h9,T9);}}});break;case h9:Y9=D9(T9).then(function(Z9){if(!i.canceled){if(U9){e.prefetches++;}else{e.netReads++;}W9(g9,Z9);}},V9);break;case g9:if(S9!==Z8){A9(Z8);Y9=J9(T9.i,T9).then(function(Z9){if(!i.canceled){if(!Z9&&U9){i.pending=0;}W9(e9,T9);}A9(V8);});}break;default:return false;}if(Y9){if(i.canceled){Y9.cancel();}else if(i.s===_){X9(Y9);}}return true;};x9.read("__settings",function(_,i){if(f(i)){var S9=i.version;if(!S9||S9.indexOf("1.")!==0){z9("Unsupported cache store version "+S9)();return;}if(r9!==i.pageSize||w9.identifier!==i.sourceId){B9().then(function(){A9(V8);},z9("Unable to clear store during initialization"));}else{k9=i.actualCacheSize;l9=i.allDataLocal;m9=i.cacheSize;n9=i.collectionCount;o9=i.highestSavedPage;p9=i.highestSavedPageSize;t9=S9;A9(V8);}}else{K9(function(){A9(V8);},z9("Unable to write settings during initialization."));}},z9("Unable to read settings from store."));return y9;};d.createDataCache=function(a){P8(a.pageSize,"pageSize");Q8(a.cacheSize,"cacheSize");Q8(a.prefetchSize,"prefetchSize");if(!f(a.name)){throw{message:"Undefined or null name",options:a};}if(!f(a.source)){throw{message:"Undefined source",options:a};}return new j9(a);};})(window);
}
});
//# sourceMappingURL=core-min-1.js.map