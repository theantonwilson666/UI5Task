sap.ui.define(["sap/rules/ui/ast/autoComplete/dataStructure/BaseStack","sap/rules/ui/ast/constants/Constants","sap/rules/ui/ast/autoComplete/node/TermNode","sap/rules/ui/ast/autoComplete/dataStructure/Stack","sap/rules/ui/ast/provider/OperatorProvider"],function(B,C,T,S,O){"use strict";var a=function(){B.apply(this,arguments);this._name="";this._sLeftOperandBusinessDataType=null;var n=new sap.rules.ui.ast.autoComplete.dataStructure.Stack(this.getTermPrefixId());n.setContextComparision(true);n.setPrevious(this);this._top=n;this._size+=1;};a.prototype=new B();a.prototype.constructor=B;a.prototype.push=function(t){var b=t.getTokenType();if(b===C.AND||b===C.OR||b===C.COMPARISION_OPERATOR){return this._calculateTopNode(b);}if("push"in this._top){return this._top.push(t);}switch(b){case C.WS:return{bTokenPushed:true};default:if("push"in this._top){return this._top.push(t);}else{return{bTokenPushed:false}}}};a.prototype.getName=function(){return this._name;};a.prototype.setName=function(n){this._name=n;this._metadata=O.getInstance().getOperatorByName(n);return this;};a.prototype.getOperatorMetadata=function(){return this._metadata;};a.prototype.setLeftOperandBusinessDataType=function(l){this._sLeftOperandBusinessDataType=l;if(this._top&&"setComparisionLeftOperandType"in this._top){this._top.setComparisionLeftOperandType(l);}};a.prototype.getProbableBusinessDataReturnTypeList=function(){return this.getOperatorMetadata().getReturnValueBussinessDataTypeCollection()[this._sLeftOperandBusinessDataType]?Object.keys(this.getOperatorMetadata().getReturnValueBussinessDataTypeCollection()[this._sLeftOperandBusinessDataType]):[];};a.prototype.getProbableDataObjectReturnTypeList=function(){return this.getOperatorMetadata().getReturnValueDataObjectTypeCollection()["E"]?Object.keys(this.getOperatorMetadata().getReturnValueDataObjectTypeCollection()["E"]):[];};a.prototype._calculateTopNode=function(n){this._top=this._getNodeRecursively(this.getTop());if(this._metadata===undefined){this._metadata=O.getInstance().getOperatorByName(n)}return{bTokenPushed:true,bComparisionOperatorClosed:true,oMetadata:this._metadata};};return a;},true);
