/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/gantt/simple/BaseLine","sap/gantt/simple/BaseTriangle","sap/gantt/simple/BaseDeltaRectangle","sap/gantt/misc/Format","sap/ui/core/theming/Parameters","sap/ui/core/Core"],function(B,a,b,F,P,C){"use strict";var D={apiVersion:2};D.renderDeltaLineHeader=function(r,d,g,h,m){var A=g.getAxisTime();var i=C.getConfiguration().getRTL();var x=A.timeToView(F.abapTimestampToDate(i?d.getEndTimeStamp():d.getTimeStamp()));var X=A.timeToView(F.abapTimestampToDate(i?d.getTimeStamp():d.getEndTimeStamp()));if(g.getEnableDeltaLine()===false||isNaN(x)||isNaN(X)){return;}else{var M=10;var c=4;var e=6;d._setEnableChartDeltaAreaHighlight(g.getEnableChartDeltaAreaHighlight());var f;var j;var k;var l;var n;var H=d.getStrokeDasharray();var o=d._getStrokeWidth();var p=Math.abs(X-x);p=p<=0?1:p;if(p<e){k=(X+x)/2;f=k-e;j=k+e;l=1;n=P.get("sapUiChartDataPointBorderColor");d._setVisibleMarker(true);}else{f=x;j=X;l=0;d._setVisibleMarker(false);n=null;}if(d._getIsSelected()===true){l=1;n=P.get("sapUiChartDataPointBorderColor");H="solid";o=o+1;}var q;var t=h-m;q=t+2+(d._getLevel()-1)*6;var s=d._getHeaderDeltaArea();if(!s){s=new b({x:x,y:q,height:c,width:Math.abs(X-x),fill:d.getStroke(),hoverable:true,press:function(E){d.press(E);d.firePress(E);},mouseEnter:function(E){d.mouseEnter(E);d.fireMouseEnter(E);},mouseLeave:function(E){d.mouseLeave(E);d.fireMouseLeave(E);}}).addStyleClass("sapGanntChartMarkerCursorPointer");d._setHeaderDeltaArea(s);}else{s.setProperty("x",x,true);s.setProperty("width",Math.abs(X-x),true);s.setProperty("y",q,true);}s.renderElement(r,s);var u=d._getHeaderStartLine();if(!u){u=new B({x1:x,y1:q,x2:x,y2:q+m,stroke:d.getStroke(),strokeWidth:o,strokeDasharray:H,strokeOpacity:d.getStrokeOpacity(),tooltip:d.getDescription()});d._setHeaderStartLine(u);}else{u.setProperty("x1",x,true);u.setProperty("x2",x,true);u.setProperty("y1",q,true);u.setProperty("y2",q+m,true);u.setProperty("strokeDasharray",H,true);u.setProperty("strokeWidth",o,true);}u.renderElement(r,u);var v=d._getHeaderEndLine();if(!v){v=new B({x1:X,y1:q,x2:X,y2:q+m,stroke:d.getStroke(),strokeWidth:o,strokeDasharray:H,strokeOpacity:d.getStrokeOpacity(),tooltip:d.getDescription()});d._setHeaderEndLine(v);}else{v.setProperty("x1",X,true);v.setProperty("x2",X,true);v.setProperty("y1",q,true);v.setProperty("y2",q+m,true);v.setProperty("strokeDasharray",H,true);v.setProperty("strokeWidth",o,true);}v.renderElement(r,v);var w=d._getForwardMarker();if(!w){w=new a({x:f,y:0,height:M,width:e,stroke:n,rowYCenter:q-3,fill:d.getStroke(),fillOpacity:l,orientation:"right",hoverable:true,press:function(E){d.press(E);d.firePress(E);},mouseEnter:function(E){d.mouseEnter(E);d.fireMouseEnter(E);},mouseLeave:function(E){d.mouseLeave(E);d.fireMouseLeave(E);}}).addStyleClass("sapGanntChartMarkerCursorPointer");d._setForwardMarker(w);}else{w.setProperty("x",f,true);w.setProperty("fillOpacity",l,true);w.setProperty("rowYCenter",q-3,true);w.setProperty("stroke",n,true);}w.renderElement(r,w);var y=d._getBackwardMarker();if(!y){y=new a({x:j,y:0,height:M,width:e,stroke:n,rowYCenter:q-3,fill:d.getStroke(),fillOpacity:l,orientation:"left",hoverable:true,press:function(E){d.press(E);d.firePress(E);},mouseEnter:function(E){d.mouseEnter(E);d.fireMouseEnter(E);},mouseLeave:function(E){d.mouseLeave(E);d.fireMouseLeave(E);}}).addStyleClass("sapGanntChartMarkerCursorPointer");d._setBackwardMarker(y);}else{y.setProperty("x",j,true);y.setProperty("fillOpacity",l,true);y.setProperty("rowYCenter",q-3,true);y.setProperty("stroke",n,true);}y.renderElement(r,y);}};D.renderDeltaLines=function(r,d,g){var A=g.getAxisTime();var i=C.getConfiguration().getRTL();var x=A.timeToView(F.abapTimestampToDate(i?d.getEndTimeStamp():d.getTimeStamp()));var X=A.timeToView(F.abapTimestampToDate(i?d.getTimeStamp():d.getEndTimeStamp()));var s=d.getStrokeDasharray();var S=d._getStrokeWidth();if(d._getIsSelected()===true){s="solid";S=S+1;}var o=d._getStartLine();if(!o){o=new B({x1:x,y1:0,x2:x,y2:"100%",stroke:d.getStroke(),strokeWidth:S,strokeDasharray:s,strokeOpacity:d.getStrokeOpacity(),tooltip:d.getDescription()});d._setStartLine(o);}else{o.setProperty("x1",x,true);o.setProperty("x2",x,true);o.setProperty("strokeDasharray",s,true);o.setProperty("strokeWidth",S,true);}o.renderElement(r,o);var e=d._getEndLine();if(!e){e=new B({x1:X,y1:0,x2:X,y2:"100%",stroke:d.getStroke(),strokeWidth:S,strokeDasharray:s,strokeOpacity:d.getStrokeOpacity(),tooltip:d.getDescription()});d._setEndLine(e);}else{e.setProperty("x1",X,true);e.setProperty("x2",X,true);e.setProperty("strokeDasharray",s,true);e.setProperty("strokeWidth",S,true);}e.renderElement(r,e);};D.renderChartAreaOfDeltaLines=function(r,d,g){var A=g.getAxisTime();var i=C.getConfiguration().getRTL();var x=A.timeToView(F.abapTimestampToDate(i?d.getEndTimeStamp():d.getTimeStamp()));var X=A.timeToView(F.abapTimestampToDate(i?d.getTimeStamp():d.getEndTimeStamp()));var o=0.0;if(d._getIsSelected()===true){o=1.0;}var c=d._getChartDeltaArea();if(g.getDeltaAreaHighlightColor()===""){g.setDeltaAreaHighlightColor("@sapUiListSelectionBackgroundColor");}if(!c){c=new b({x:x+1,y:0,height:"100%",width:Math.abs(X-x)-2,fill:g.getDeltaAreaHighlightColor(),opacity:o});d._setChartDeltaArea(c);}else{c.setProperty("x",x+1,true);c.setProperty("width",Math.abs(X-x)-2,true);c.setProperty("opacity",o,true);}c.renderElement(r,c);};return D;},true);
