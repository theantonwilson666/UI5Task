/*!
 * SAPUI5

(c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(['./library','sap/suite/ui/microchart/MicroChartRenderUtils','sap/ui/core/theming/Parameters','sap/m/library',"./ColumnMicroChartRenderer"],function(l,M,P,m){"use strict";var V=m.ValueColor;var a=m.ValueCSSColor;var D="sapUiChartNeutral",b="sapUiChartCategoryAxisLabelFontColor";var C={apiVersion:2};C.render=function(r,c){if(!c._bThemeApplied){return;}var d=c.getAllowColumnLabels();var A=c.getColumns().some(function(o){return o.getLabel();});if(c._hasData()){r.openStart("div",c);this._writeMainProperties(r,c);if(d){r.class("sapSuiteClMCColumnLabels");}if(!A){r.class("sapSuiteClMCNoBottomColumnLabels");}r.openEnd();var L=c.getLeftTopLabel()&&c.getLeftTopLabel().getLabel()!==""&&c.getShowTopLabels();var R=c.getRightTopLabel()&&c.getRightTopLabel().getLabel()!==""&&c.getShowTopLabels();var e=c.getLeftBottomLabel()&&c.getLeftBottomLabel().getLabel()!==""&&c.getShowBottomLabels();var f=c.getRightBottomLabel()&&c.getRightBottomLabel().getLabel()!==""&&c.getShowBottomLabels();r.openStart("div");r.class("sapSuiteClMCVerticalAlignmentContainer");r.openEnd();if(L||R){r.openStart("div",c.getId()+"-top-lbls");r.class("sapSuiteClMCLabels");r.class("sapSuiteClMCPositionTop");r.openEnd();var w=L^R;if(L){this._writeEdgeLabel(r,c,c.getLeftTopLabel(),"-left-top-lbl","sapSuiteClMCPositionLeft",w);}if(R){this._writeEdgeLabel(r,c,c.getRightTopLabel(),"-right-top-lbl","sapSuiteClMCPositionRight",w);}r.close("div");}var g=c.getColumns();var h=g.length;var t,B;var o,v,i;if(d){for(i=0;i<h;i++){o=g[i];v=o.getValue();if(v&&v>=0){t=true;}else if(v&&v<0){B=true;}if(t&&B){break;}}}if(d&&t){r.openStart("div");r.class("sapSuiteClMCColumnLabelDivider");r.openEnd();r.close("div");}r.openStart("div",c.getId()+"-bars");r.class("sapSuiteClMCBars");r.openEnd();for(i=0;i<h;i++){o=g[i];v=o.getValue();r.openStart("div",o);r.class("sapSuiteClMCBar");if(o.hasListeners("press")){r.attr("tabindex","0");r.attr("role","presentation");var s=c._getBarAltText(o);r.attr("title",s);r.attr("aria-label",s);r.class("sapSuiteUiMicroChartPointer");}r.openEnd();if(d&&jQuery.isNumeric(v)&&v>=0){this._writeColumnValueLabel(r,o,"sapSuiteClMCLabelColumnTop");}r.openStart("div");r.class("sapSuiteClMCInnerBar");this._setHexColor(r,o.getColor(),D,"background-color");r.openEnd();r.close("div");if(d&&jQuery.isNumeric(v)&&v<0){this._writeColumnValueLabel(r,o,"sapSuiteClMCLabelColumnBottom");}r.close("div");}r.close("div");if(d&&B){r.openStart("div");r.class("sapSuiteClMCColumnLabelDivider");r.openEnd();r.close("div");}if(e||f){r.openStart("div",c.getId()+"-btm-lbls");r.class("sapSuiteClMCLabels");r.class("sapSuiteClMCPositionBtm");r.openEnd();var W=e^f;if(e){this._writeEdgeLabel(r,c,c.getLeftBottomLabel(),"-left-btm-lbl","sapSuiteClMCPositionLeft",W);}if(f){this._writeEdgeLabel(r,c,c.getRightBottomLabel(),"-right-btm-lbl","sapSuiteClMCPositionRight",W);}r.close("div");}if(d&&A){r.openStart("div");r.class("sapSuiteClMCLabels");r.class("sapSuiteClMCBottomColumnLabels");r.openEnd();g.forEach(function(o){this._writeColumnLabel(r,o);},this);r.close("div");}r.openStart("div",c.getId()+"-hidden");r.attr("aria-hidden","true");r.attr("tabindex","-1");r.openEnd();r.close("div");r.close("div");r.close("div");}else{this._renderNoData(r,c);}};C._writeMainProperties=function(r,c){var i=c.hasListeners("press");this._renderActiveProperties(r,c);var A=c.getTooltip_AsString(i);r.attr("role","figure");if(c.getAriaLabelledBy().length){r.accessibilityState(c);}else{r.attr("aria-label",A);}r.class("sapSuiteClMC");r.class("sapSuiteClMCSize"+c.getSize());r.style("width",c.getWidth());r.style("height",c.getHeight());};C._getHexColor=function(c,d){c=a.isValid(c)?c:d;return P.get(c)||c;};C._setHexColor=function(r,c,d,s){V[c]?r.class("sapSuiteClMCSemanticColor"+c):r.style(s,this._getHexColor(c,d));};C._writeEdgeLabel=function(r,c,L,i,s,w){r.openStart("div",c.getId()+i);r.class("sapSuiteClMCLabel");r.class("sapSuiteClMCEdgeLabel");r.class(s);this._setHexColor(r,L.getColor(),b,"color");if(w){r.class("sapSuiteClMCWideBtmLbl");}r.openEnd();r.text(L.getLabel());r.close("div");};C._writeColumnValueLabel=function(r,c,s){var v=c.getDisplayValue()?c.getDisplayValue():c.getValue();r.openStart("div");r.class("sapSuiteClMCLabel");r.class("sapSuiteClMCLabelColumn");r.class(s);this._setHexColor(r,c.getColor(),D,"background-color");r.openEnd();r.text(v);r.close("div");};C._writeColumnLabel=function(r,c){var L=c.getLabel();r.openStart("div");r.class("sapSuiteClMCLabel");r.class("sapSuiteClMCLabelColumn");r.class("sapSuiteClMCBottomColumnLabel");r.openEnd();r.text(L);r.close("div");};M.extendMicroChartRenderer(C);return C;},true);
