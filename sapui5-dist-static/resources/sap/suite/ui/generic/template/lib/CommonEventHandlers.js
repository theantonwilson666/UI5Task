sap.ui.define(["sap/ui/base/Object","sap/ui/base/Event","sap/m/MessageBox","sap/m/Table","sap/ui/model/Sorter","sap/suite/ui/generic/template/genericUtilities/controlHelper","sap/suite/ui/generic/template/genericUtilities/testableHelper","sap/ui/model/json/JSONModel","sap/ui/core/library","sap/suite/ui/generic/template/js/AnnotationHelper","sap/ui/generic/app/navigation/service/SelectionVariant","sap/ui/core/mvc/Controller","sap/suite/ui/generic/template/genericUtilities/FeLogger","sap/suite/ui/generic/template/lib/MessageUtils","sap/base/util/extend","sap/base/util/isEmptyObject","sap/ui/generic/app/library","sap/suite/ui/generic/template/js/placeholderHelper","sap/suite/ui/generic/template/genericUtilities/polyFill"],function(B,E,M,T,S,c,t,J,a,A,b,C,F,d,e,f,g,p){"use strict";var l=new F("lib.CommonEventHandlers").getLogger();var V=a.mvc.ViewType;function h(v){if(!v){return v;}if(Array.isArray(v)){return h(v[0]);}var r={};return m(v,r);}function m(v,r){var O=typeof v.getObject==="function"?v.getObject():v;for(var k in O){if(!k.startsWith("_")){r[k]=O[k];}}return r;}function n(j){var r=[];for(var i=0;i<j.length;i++){var R={};r[i]=m(j[i],R);}return r;}function o(q,r,s,u){function v(i){var j=u.getOwnerControl(i.getSource());return c.isMTable(j)?j.getParent():j;}function w(i){var j={};for(var k in i){var E1=i[k];if(typeof E1==="string"){j[k]=E1;}else if(typeof E1==="object"){if(E1.value){j[k]=w(E1).value;}else{j[k]=E1;}}}return j;}function H(i){if(i instanceof sap.ui.generic.app.navigation.service.NavError){if(i.getErrorCode()==="NavigationHandler.isIntentSupported.notSupported"){sap.m.MessageBox.show(u.getText("ST_NAV_ERROR_NOT_AUTHORIZED_DESC"),{title:u.getText("ST_GENERIC_ERROR_TITLE")});}else{sap.m.MessageBox.show(i.getErrorCode(),{title:u.getText("ST_GENERIC_ERROR_TITLE")});}}}var x=Object.create(null);function y(j,k){var E1=-1;var F1=u.getOwnerControl(j);if(F1.getTable){F1=F1.getTable();}var G1=c.isAnalyticalTable(F1);var H1;if(!G1){var I1=u.getTableBindingInfo(F1);var J1=I1&&I1.binding;var K1=null;if(J1){if(c.isTreeTable(F1)){var L1=(J1.getLength()>0)?J1.getLength():0;if(L1>0){K1=[];for(var M1=0;M1<L1;M1++){K1.push(J1.getContextByIndex(M1));}}}else if(c.isUiTable(F1)){K1=J1.getContexts();}else if(F1 instanceof T){K1=J1.getCurrentContexts();}}var N1=null;var O1=null;if(j&&j.getBindingContext&&j.getBindingContext().getPath){O1=j.getBindingContext()?j.getBindingContext().getPath():null;}if(J1&&J1.getContexts&&O1){for(var i=0;i<K1.length;i++){N1=K1[i];if(N1&&N1.getPath()===O1){E1=i;break;}}}if(E1!==-1&&K1.length>0){var P1;if(F1 instanceof T){P1=F1.getGrowingThreshold();}else if(c.isUiTable(F1)){P1=F1.getThreshold();}var Q1=j.getParent();var R1=Q1.getId();var S1=function(N1){var T1=x[R1];if(!T1){var U1=j.isSelected&&j.isSelected();T1=j.clone();T1.setParent(Q1);if(U1){j.setSelected(true);}x[R1]=T1;}T1.setBindingContext(N1);g1(T1,k,N1,true);};H1=K1&&{listBinding:J1,growingThreshold:P1,selectedRelativeIndex:E1,objectPageNavigationContexts:K1,paginate:S1};}}r.setPaginatorInfo(H1,true);}function z(i){var j=i.getSource(),k=j.getParent();u.setEnabledToolbarButtons(k);}function D(i,j){var k=i.getSource().getUrl();i.preventDefault();u.processDataLossConfirmationIfNonDraft(function(){sap.m.URLHelper.redirect(k,false);},Function.prototype,j);}var G;function I(j){G=j;return u.getDialogFragmentAsync("sap.suite.ui.generic.template.ListReport.view.fragments.DeleteConfirmation",{onCancel:function(i){var k=i.getSource().getParent();k.close();},onDelete:function(k){var E1=k.getSource().getParent();var F1=E1.getModel("delete");var G1=F1.getProperty("/items");var H1=[];var I1=[];var J1=[];var K1=[];for(var i=0;i<G1.length;i++){if(!G1[i].draftStatus.locked&&G1[i].deletable){if(!G1[i].draftStatus.draft){if(G1[i].draftStatus.draftActive){J1.push(G1[i].context.sPath);}else if(G1.length===F1.getProperty("/unsavedChangesItemsCount")||!G1[i].draftStatus.unsavedChanges||F1.getProperty("/unsavedChangesCheckboxSelected")){H1.push(G1[i].context.sPath);}}else{I1.push(G1[i].context.sPath);K1.push(G1[i].context.sPath);}}}I1=I1.concat(H1).concat(J1);var L1={smartTable:G,pathes:I1,onlyOneDraftPlusActive:I1.length===2&&K1.length===1&&J1.length===1,suppressRefreshAllComponents:!(K()||L()),withWarningDialog:true};var M1=s.oCRUDManager.deleteEntities(L1);M1.then(function(N1){var O1=0;var P1=[];var Q1=N1.some(function(W1){return W1.isWarning;});for(var i=0;i<N1.length;i++){P1.push("/"+N1[i].sPath.split('/')[1]);if(J1.indexOf(P1[i])!==-1){O1=O1+1;}}var R1=I1.length-J1.length;var S1=N1.length-O1;var T1=R1-S1;if(S1>0){var U1="";if(T1>0){U1+=u.getText("ST_GENERIC_NOT_DELETED_RECORDS",[S1,R1]);}else{U1=(S1>1)?u.getText("ST_GENERIC_DELETE_ERROR_PLURAL"):u.getText("ST_GENERIC_DELETE_ERROR");}if(Q1){U1+="\n";if(S1===1){U1+=u.getText("ST_GENERIC_DELETE_WITH_WARNING_SUGGESTION_SINGULAR");}else{U1+=u.getText("ST_GENERIC_DELETE_WITH_WARNING_SUGGESTION_PLURAL");}}M.error(U1);}else{var V1="";V1=(T1>1)?u.getText("ST_GENERIC_DELETE_SUCCESS_PLURAL"):u.getText("ST_GENERIC_OBJECT_DELETED");d.showSuccessMessageIfRequired(V1,s);}},Function.prototype);E1.close();}},"delete");}function K(){return r.getFclProxy()&&r.getFclProxy().isNextObjectLoadedAfterDelete();}function L(){return!!(r&&r.getSettings()&&r.getSettings().quickVariantSelectionX);}function N(i,j){return new Promise(function(k,E1){j.read(i+"/SiblingEntity",{success:function(F1){var G1="/"+j.getKey(F1);k(G1);},error:function(F1){var G1="Error";k(G1);}});});}function O(j,k){var E1=q.getView().getModel();var F1=E1.getMetaModel();var G1=F1.getODataEntitySet(q.getOwnerComponent().getEntitySet());var H1=G1["Org.OData.Capabilities.V1.DeleteRestrictions"];var I1=(H1&&H1.Deletable&&H1.Deletable.Path)?H1.Deletable.Path:"";var J1={items:undefined,itemsCount:j.length,text:{title:undefined,text:undefined,unsavedChanges:undefined,longText:undefined,undeletableText:undefined},lockedItemsCount:0,unsavedChangesItemsCount:0,undeletableCount:0,unsavedChangesCheckboxSelected:true,unsavedChangesCheckboxVisible:true,undeletableLocked:0,tableMode:""};var K1=[];var L1=[];var M1,N1,O1,P1,Q1,R1;var S1=[];for(var i=0;i<j.length;i++){M1=E1.getObject(j[i].getPath());if(!M1.IsActiveEntity){if(M1.HasActiveEntity){S1.push(N(j[i].getPath(),E1));}}}var T1=0;return new Promise(function(U1,V1){Promise.all(S1).then(function(W1){for(var i=0;i<j.length;i++){M1=E1.getObject(j[i].getPath());N1={};O1={};P1=true;Q1={};R1=false;if(I1){if(E1.getProperty(I1,j[i])===false){P1=false;J1.undeletableCount++;}}if(!M1.IsActiveEntity){N1.draft=true;if(M1.HasActiveEntity){O1.draft=false;O1.draftActive=true;if(W1[T1]!="Error"){Q1["oModel"]=j[0].getModel();Q1["sPath"]=W1[T1++];}if(Q1.sPath&&P1&&E1.getProperty(I1,E1.getContext(Q1.sPath))===false){P1=false;J1.undeletableCount++;}}}else if(M1.HasDraftEntity){var X1=E1.getProperty("DraftAdministrativeData/CreatedByUserDescription",j[i])||E1.getProperty("DraftAdministrativeData/CreatedByUser",j[i]);R1=E1.getProperty("DraftAdministrativeData/InProcessByUser",j[i]);if(R1){if(P1===false){J1.undeletableLocked++;}N1.locked=true;N1.user=X1;J1.lockedItemsCount++;}else if(P1){N1.unsavedChanges=true;N1.user=X1;J1.unsavedChangesItemsCount++;}}K1.push({context:j[i],draftStatus:N1,deletable:P1});if(!M1.IsActiveEntity&&M1.HasActiveEntity){L1.push({context:Q1,draftStatus:O1,deletable:P1});}}if(L1.length>0){K1=K1.concat(L1);}J1.items=K1;J1.text.unsavedChanges=u.getText("ST_GENERIC_UNSAVED_CHANGES_CHECKBOX");if(J1.itemsCount>1){var Y1=0;if(J1.lockedItemsCount===J1.itemsCount){J1.text.text=u.getText("ST_GENERIC_DELETE_LOCKED_PLURAL");}else if(J1.unsavedChangesItemsCount===J1.itemsCount&&J1.undeletableCount===0){J1.text.text=u.getText("ST_GENERIC_DELETE_UNSAVED_CHANGES_PLURAL");}else if(J1.lockedItemsCount>0){Y1=J1.itemsCount-J1.lockedItemsCount;J1.text.text=P(J1.lockedItemsCount,"ST_GENERIC_CURRENTLY_LOCKED_PLURAL","ST_GENERIC_CURRENTLY_LOCKED",[J1.lockedItemsCount,J1.itemsCount]);J1.text.text+="\n";J1.undeletableCount=J1.undeletableLocked>0?J1.undeletableCount-J1.undeletableLocked:J1.undeletableCount;if(J1.undeletableCount>0&&Y1>=J1.undeletableCount){J1.text.text+=u.getText("ST_GENERIC_DELETE_UNDELETABLE",[J1.undeletableCount,J1.itemsCount]);Y1=Y1-J1.undeletableCount;J1.text.text+="\n";}if(J1.unsavedChangesItemsCount&&Y1===J1.unsavedChangesItemsCount){J1.text.text+=P(Y1,"ST_GENERIC_DELETE_REMAINING_UNSAVED_CHANGES_PLURAL","ST_GENERIC_DELETE_REMAINING_UNSAVED_CHANGES");Y1=0;}}else if(J1.undeletableCount>0){Y1=J1.itemsCount-J1.undeletableCount;J1.text.text=u.getText("ST_GENERIC_DELETE_UNDELETABLE",[J1.undeletableCount,J1.itemsCount]);J1.text.text+="\n";if((J1.unsavedChangesItemsCount&&Y1===J1.unsavedChangesItemsCount)||J1.itemsCount===J1.unsavedChangesItemsCount){J1.text.text+=P(Y1,"ST_GENERIC_DELETE_REMAINING_UNSAVED_CHANGES_PLURAL","ST_GENERIC_DELETE_REMAINING_UNSAVED_CHANGES");Y1=0;}}else{J1.text.text=u.getText("ST_GENERIC_DELETE_SELECTED_PLURAL");}if(Y1>0){J1.text.text+=(Y1>1)?u.getText("ST_GENERIC_DELETE_REMAINING_PLURAL",[Y1]):u.getText("ST_GENERIC_DELETE_REMAINING");}}else{var Z1;if("getMode"in k.getTable()){Z1=k.getTable().getMode();}if(J1.lockedItemsCount>0){J1.text.text=u.getText("ST_GENERIC_DELETE_LOCKED",[" ",J1.items[0].draftStatus.user]);}else if(J1.undeletableCount>0){if(Z1==="Delete"){J1.tableMode=Z1;}J1.text.text=u.getText("ST_GENERIC_NOT_DELETABLE");}else if(J1.unsavedChangesItemsCount>0){J1.text.text=u.getText("ST_GENERIC_DELETE_UNSAVED_CHANGES",[" ",J1.items[0].draftStatus.user]);}else{J1.text.text=Q(k,j[0]);}}if(J1.lockedItemsCount===J1.itemsCount){J1.text.title=u.getText("ST_GENERIC_ERROR_TITLE");}else if(J1.itemsCount&&(J1.lockedItemsCount+J1.undeletableCount===J1.itemsCount)){J1.text.title=u.getText("WARNING");}else{J1.text.title=J1.text.title=(J1.itemsCount>1)?u.getText("ST_GENERIC_DELETE_TITLE_WITH_COUNT",[J1.itemsCount]):u.getText("ST_GENERIC_DELETE_TITLE");}if(J1.unsavedChangesItemsCount>0){if(J1.unsavedChangesItemsCount!==J1.itemsCount){if(J1.lockedItemsCount>0){if(J1.undeletableCount>0){if(((J1.itemsCount-J1.lockedItemsCount)-J1.undeletableCount)===J1.unsavedChangesItemsCount){J1.unsavedChangesCheckboxVisible=false;}}else if((J1.itemsCount-J1.lockedItemsCount)===J1.unsavedChangesItemsCount){J1.unsavedChangesCheckboxVisible=false;}}else if(J1.undeletableCount>0&&((J1.itemsCount-J1.undeletableCount)===J1.unsavedChangesItemsCount)){J1.unsavedChangesCheckboxVisible=false;}}else{J1.unsavedChangesCheckboxVisible=false;}}else{J1.unsavedChangesCheckboxVisible=false;}U1(J1);});});}function P(i,j,k,E1){var F1;if(!E1){F1=i>1?u.getText(j):u.getText(k);}else if(i>1&&E1.length>1){F1=u.getText(j,[E1[0],E1[1]]);}else if(E1){F1=u.getText(k,[E1[1]]);}return F1;}function Q(i,j,k){var E1;var F1;var G1;var H1;var I1=j.getModel();var J1=I1.oData;var K1=i.getCustomData();var L1=i.getModel("@i18n")&&i.getModel("@i18n").getResourceBundle();for(var M1 in K1){if(K1[M1].getKey()&&K1[M1].getKey()==="headerInfo"&&K1[M1].getValue()&&K1[M1].getValue()["headerTitle"]){E1=j.getPath().split("/")[1];H1=K1[M1].getValue();F1=H1["headerTitle"];G1=H1["headerSubTitle"];if(H1["isHeaderTitlePath"]){F1=(J1[E1]&&J1[E1][F1])||"";}else if(F1.match(/{@i18n>.+}/gi)){F1=L1.getText(F1.substring(F1.indexOf(">")+1,F1.length-1));}if(G1&&H1["isHeaderSubTitlePath"]){G1=(J1[E1]&&J1[E1][G1])||"";}else if(G1.match(/{@i18n>.+}/gi)){G1=L1.getText(G1.substring(G1.indexOf(">")+1,G1.length-1));}break;}}return D1(F1,G1,k,false,i);}function R(i,j,k,E1){var F1=s.oApplication.getNavigationHandler();var G1={};var H1={};i.parameters=w(i.parameters);for(var I1 in i.parameters){if(f(i.parameters[I1])){G1[I1]=i.parameters[I1];}else{H1[I1]=i.parameters[I1];}}F1.mixAttributesAndSelectionVariant({},E1).getParameterNames().forEach(function(I1){delete G1[I1];});var J1,K1,L1;if(Array.isArray(j)&&j.length>1){var M1=n(j);return F1.mixAttributesAndSelectionVariant(M1,E1);}else{J1=h(k);K1=h(j);L1=e({},G1,J1,K1,H1);if((Array.isArray(j)&&j.length===1)||J1){return F1.mixAttributesAndSelectionVariant(L1,E1);}else{return F1.mixAttributesAndSelectionVariant(L1,E1,g.navigation.service.SuppressionBehavior.ignoreEmptyString);}}}function U(i,j,k,E1){var F1=s.oApplication.getNavigationHandler();var G1,H1;if(k){G1=k.getUiState().getSelectionVariant();if(typeof G1!=="string"){G1=JSON.stringify(G1);}if(k.getEntitySet()!==E1.getEntitySet()){var I1=F1.constructContextUrl(E1.getEntitySet(),E1.getModel());var J1=JSON.parse(G1);J1.FilterContextUrl=I1;G1=JSON.stringify(J1);}}H1=R(i,j,q.getView().getBindingContext(),G1);var K1={semanticObject:i.semanticObject,action:i.action};u.removePropertiesFromNavigationContext(H1,E1);q.adaptNavigationParameterExtension(H1,K1);F1.navigate(i.semanticObject,i.action,H1.toJSONString(),null,H);}function W(i,j){var k=s.oApplication.getNavigationHandler();var E1={semanticObject:i.semanticObject,action:i.action};var F1=k.mixAttributesAndSelectionVariant(i.semanticAttributes);u.removePropertiesFromNavigationContext(F1,j);q.adaptNavigationParameterExtension(F1,E1);k.navigate(i.semanticObject,i.action,F1.toJSONString(),null,H);}function X(i,k){var E1=i.byId("icon");var F1=E1&&E1.getSrc();if(F1===""){F1=undefined;}var G1=i.byId("title");var H1=G1&&G1.getText();if(H1===""){H1=undefined;}var I1=i.byId("description");var J1=I1&&I1.getText();if(J1===""){J1=undefined;}for(var j=0;j<k.length;j++){var K1=k[j];var L1=A.getStableIdPartFromFacet(K1)+"::contactTitleAreaIcon";var M1=i.byId(L1);var N1=A.getStableIdPartFromFacet(K1)+"::contactTitleAreaTitle";var O1=i.byId(N1);var P1=A.getStableIdPartFromFacet(K1)+"::contactTitleAreaDescription";var Q1=i.byId(P1);var R1=M1&&M1.getSrc();if(R1===""){R1=undefined;}var S1=O1&&O1.getText();if(S1===""){S1=undefined;}var T1=Q1&&Q1.getText();if(T1===""){T1=undefined;}if(F1&&R1&&H1&&S1&&J1&&T1){if((F1===R1||!R1)&&(H1===S1||!S1)&&(J1===T1||!T1)){var U1=A.getStableIdPartFromFacet(K1)+"::contactTitleArea";var V1=i.byId(U1);if(V1&&V1.setVisible){V1.setVisible(false);}}}}}function Y(i,j,k,E1){var F1=q.getOwnerComponent().getAppComponent().getManifestEntry("sap.app");var G1=F1.crossNavigation.outbounds[i.data("CrossNavigation")];var H1;if(k){if(c.isSmartChart(i)){H1=u.getOwnerControl(E1)||u.getOwnerControl(i);}else{H1=u.getOwnerControl(i).getParent();}}U(G1,j,k,H1);}function Z(i,j){window.location.href=i.mParameters.href;}function $(i,j){u.processDataLossConfirmationIfNonDraft(function(){var k=i.data('SemanticObject');var E1=i.data('Action');var F1=i.data('SemanticAttributes');if(k&&E1){var G1={semanticObject:k,action:E1};if(F1){F1="{"+F1+"}";G1.semanticAttributes=JSON.parse(F1);}W(G1,i);}},Function.prototype);}function _(k,E1,F1,G1,H1){var I1;var J1=k.getModel().getMetaModel();var K1=function(){var k2=function(){var s2=E1.originalId;var t2=q.getView().byId(s2);if(!t2){var u2=document.querySelector("#"+s2.replace(/(:|\.|\[|\]|,|=)/g,"\\$1"));if(u2){var v2=u2.closest('[data-sap-ui]');if(v2){t2=sap.ui.getCore().byId(v2.id);}}}return t2&&t2.mProperties.fieldName;};var l2=J1.getODataEntitySet(k.getEntitySet());var m2=r.getParameterModelForTemplating().oData.templateSpecific.targetEntities[l2.entityType].mTargetEntities;I1=k2();if(m2[I1]){var n2=m2[I1].entityType;var o2=J1.getODataEntityContainer().entitySet.find(function(l2){return l2.entityType==n2;}).name;var L1={navigation:m2[I1].navName,entitySet:o2,entityType:n2};var p2=J1.getODataEntityType(n2);if(p2&&p2["com.sap.vocabularies.UI.v1.HeaderInfo"]){var q2=J1.getODataEntityType(n2,true)+"/com.sap.vocabularies.UI.v1.HeaderInfo";L1.headerInfoPath=q2;}if(p2&&p2["com.sap.vocabularies.UI.v1.QuickViewFacets"]){var r2=J1.getODataEntityType(n2,true)+"/com.sap.vocabularies.UI.v1.QuickViewFacets";L1.quickViewFacetODataPath=r2;}if(L1.headerInfoPath||L1.quickViewFacetODataPath){return L1;}}};var L1=K1();var M1=false;var N1=false;var O1=false;var P1=[];if(L1){if(L1.quickViewFacetODataPath){var Q1=J1.createBindingContext(L1.quickViewFacetODataPath,true);var R1=Q1&&Q1.getModel().getObject(Q1.getPath());if(R1){M1=true;for(var j=0;j<R1.length;j++){var S1=R1[j];if(S1&&S1.Target&&S1.Target.AnnotationPath){if(S1.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")>-1){N1=true;}else if(S1.Target.AnnotationPath.indexOf("com.sap.vocabularies.Communication.v1.Contact")>-1){O1=true;P1.push(S1);}}}}}}if(M1){var T1,U1;T1=J1.getODataEntitySet(k.getEntitySet());U1=J1.getODataEntityType(T1.entityType);var V1=L1.headerInfoPath&&J1.createBindingContext(L1.headerInfoPath,true);var H1=E1.mainNavigation;var W1=E1.semanticObject;var X1,Y1;if(W1&&H1){var Z1=H1.getTarget&&H1.getTarget()||"";var $1=H1.getKey&&H1.getKey();if($1){var _1=$1.split(W1+"-");X1=_1&&_1[1];if(W1&&X1){Y1={"Target":Z1,"SemanticObject":W1,"Action":X1};}if(E1.semanticAttributes){Y1.SemanticAttributes=E1.semanticAttributes;for(var i in E1.semanticAttributes){var a2=E1.semanticAttributes[i];if(a2.indexOf("{\"__deferred\":")>-1){delete Y1.SemanticAttributes[i];}if(a2.indexOf("{\"__ref\":")>-1){delete Y1.SemanticAttributes[i];}}if(Y1.SemanticAttributes){var b2=JSON.stringify(Y1.SemanticAttributes);if(b2&&b2.length>1){Y1.SemanticAttributes=b2.substring(1,b2.length-1);}}}}}var c2=J1.getODataProperty(U1,I1);var d2=k&&k.mProperties&&k.mProperties.fieldSemanticObjectMap;var e2=new J({sourceClickedField:c2,sourceEntityType:U1,showFieldGroup:N1,showContact:O1,ignoredFields:d2,navigationPath:L1.navigation,mainNavigation:Y1});e2.setDefaultBindingMode("OneWay");var f2;var g2=C.extend("",{oState:F1,_templateEventHandlers:{onSemanticObjectLinkNavigationPressed:q._templateEventHandlers.onSemanticObjectLinkNavigationPressed.bind(q._templateEventHandlers),onDataFieldWithIntentBasedNavigation:q._templateEventHandlers.onDataFieldWithIntentBasedNavigation.bind(q._templateEventHandlers)},onInit:function(){},onExit:function(){},onAfterRendering:function(){var h2=this.oView;var k2=h2.getParent().getParent().getParent();k2.setBusy(false);}});f2=new g2();g2.connectToView=q.connectToView.bind(f2);var h2=sap.ui.view({async:true,preprocessors:{xml:{bindingContexts:{sourceEntitySet:J1.createBindingContext(J1.getODataEntitySet(k.getEntitySet(),true)),entitySet:J1.createBindingContext(J1.getODataEntitySet(L1.entitySet,true)),header:V1,facetCollection:Q1},models:{sourceEntitySet:J1,entitySet:J1,header:J1,facetCollection:J1,quickView:e2,parameter:r.getParameterModelForTemplating()}}},controller:f2,type:V.XML,viewName:"sap.suite.ui.generic.template.fragments.QuickViewSmartForm",height:"100%"});E1.show(undefined,undefined,undefined,h2);var i2=function(k2){var l2=k2.getSource();if(l2){var m2=l2.getParent().getParent().getParent();m2.setBusy(true);m2.setBusyIndicatorDelay(10);}};h2.attachBeforeRendering(i2.bind(this));var j2=function(k2){var l2=k2.getSource();if(l2){var m2=l2.byId("ownTitleArea");if(m2){var n2=l2.getParent();if(n2&&n2.getItems){var o2=n2.getItems()&&n2.getItems()[0];if(o2&&o2!=l2){o2.setVisible(false);}}}if(O1&&P1&&m2){X(l2,P1);}}};h2.attachAfterRendering(j2.bind(this));}else{E1.show(G1,H1,undefined,undefined);}}function a1(q,i){var E1=q.getView&&q.getView().getBindingContext();var F1=E1.getObject();var G1=q.getOwnerComponent().getModel().getMetaModel();var H1=G1.getODataEntitySet(q.getOwnerComponent().getEntitySet());var I1=G1.getODataEntityType(H1.entityType);var J1=I1["com.sap.vocabularies.Common.v1.SemanticKey"];var K1={};if(J1&&J1.length>0){for(var j=0;j<J1.length;j++){var L1=J1[j].PropertyPath;if(!K1[L1]){K1[L1]=[];K1[L1].push(F1[L1]);}}}else{for(var k in I1.key.propertyRef){var M1=I1.key.propertyRef[k].name;if(!K1[M1]){K1[M1]=[];K1[M1].push(F1[M1]);}}}return K1;}function b1(k,i,E1,F1){if(k[i].entitySet==E1&&F1===k[i].navigationProperty&&k[i].navigation&&k[i].navigation["display"]&&(k[i].component&&k[i].component.settings&&k[i].component.settings.hideChevronForUnauthorizedExtNav===true)){return k[i].navigation.display.target;}else if(k[i].entitySet==E1&&k[i].navigation&&k[i].navigation["display"]&&(k[i].component&&k[i].component.settings&&k[i].component.settings.hideChevronForUnauthorizedExtNav===true)){return k[i].navigation.display.target;}else if(k[i].pages){for(var j=0;j<(k[i].pages.length);j++){var G1=b1(k[i].pages,j,E1,F1);if(G1!==undefined&&G1!==null){return G1;}}}}function c1(i){var j=i.getSource().getTable();var k=i.getSource().getEntitySet();var E1=i.getSource().getTableBindingPath();var F1=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService&&sap.ushell.Container.getService("CrossApplicationNavigation");var G1=q.getOwnerComponent().getAppComponent().getConfig().pages;var H1=b1(G1,0,k,E1);if(H1!==undefined&&H1!==null&&F1){var I1=q.getOwnerComponent().getAppComponent().getManifestEntry("sap.app").crossNavigation.outbounds[H1];if(I1){var J1=I1.semanticObject;var K1=I1.action;var L1=q.getView().getModel("_templPriv");var M1=L1.getProperty("/generic/supportedIntents/");var N1=(E1==="")?k:k+"::"+E1;var O1=L1.getProperty("/generic/supportedIntents/"+J1+"/"+K1+"/"+N1);if(!O1){var P1={},Q1;var R1=q.getOwnerComponent().getAppComponent();for(var S1 in I1.parameters){if(!f(I1.parameters[S1])){P1[S1]=I1.parameters[S1];}}if(q.getMetadata().getName()==='sap.suite.ui.generic.template.ObjectPage.view.Details'){Q1=a1(q,R1);}var T1={semanticObject:J1,action:K1};var U1=e({},Q1,P1);var V1={target:T1,params:U1};var W1=F1.isNavigationSupported([V1],R1);W1.done(function(X1){var Y1=L1.getProperty("/generic/supportedIntents/"+J1);if(!Y1){M1[J1]={};M1[J1][K1]={};M1[J1][K1][N1]={"supported":X1[0].supported};}else if(!Y1[K1]){Y1[K1]={};Y1[K1][N1]={"supported":X1[0].supported};}else{Y1[K1][N1]={"supported":X1[0].supported};}L1.updateBindings();if(X1[0].supported&&c.isUiTable(j)){var Z1=j.getRowActionTemplate();Z1.getItems()[0].setVisible(true);j.setRowActionTemplate(Z1);}});}}}}function d1(i){u.setEnabledToolbarButtons(i.getSource());c1(i);}function e1(E1,F1){var G1=E1.getSource();var H1=G1.getTable();var I1=c.isMTable(H1);var J1=H1.getColumns();if(!F1||(F1&&F1.isPopinWithoutHeader)&&I1){for(var K1=0;K1<J1.length;K1++){var L1=J1[K1].data("p13nData")&&J1[K1].data("p13nData").columnKey;if(L1&&(L1.search("template::DataFieldForIntentBasedNavigation")>-1||L1.search("template::DataFieldForAction")>-1)){J1[K1].setPopinDisplay("WithoutHeader");}}}var M1=E1.getParameter("bindingParams");M1.parameters=M1.parameters||{};if(G1.data().allowSearchWorkListLight||G1&&G1.data&&G1.data().searchString){M1.parameters["custom"]={"search":E1.getSource().data().searchString};G1.data("allowSearchWorkListLight",false);if(E1.getSource().data().searchString){M1.parameters["custom"]={"search":E1.getSource().data().searchString};}}var N1=q.byId(G1.getSmartFilterId());var O1=G1.getCustomData();var P1={};for(var k=0;k<O1.length;k++){P1[O1[k].getKey()]=O1[k].getValue();}var Q1=P1.InitialExpansionLevel;if(Q1){M1.parameters.numberOfExpandedLevels=parseInt(Q1,10);}if(!N1&&q.getMetadata().getName()==='sap.suite.ui.generic.template.ListReport.view.ListReport'){N1=q.byId("listReportFilter");var R1=N1.getBasicSearchValue();if(R1){M1.parameters["custom"]={"search":R1};}}var S1=[];var T1=[];function U1(i,j,Y1,Z1,$1){for(var _1=0;_1<i.length;_1++){var a2=i[_1];if(a2){var b2=j.getODataProperty(Y1,a2);if(b2){var c2=b2["com.sap.vocabularies.Common.v1.FieldControl"];if(c2&&c2!==" "&&c2.Path){if(F1.isFieldControlRequired||T1.indexOf(a2)!==-1){S1.push(c2.Path);}}}}}var d2=Z1["Org.OData.Capabilities.V1.DeleteRestrictions"];S1.push(d2&&d2.Deletable&&d2.Deletable.Path);var e2=Z1["Org.OData.Capabilities.V1.UpdateRestrictions"];S1.push(e2&&e2.Updatable&&e2.Updatable.Path);var f2=Y1[$1+"@com.sap.vocabularies.UI.v1.Criticality"];S1.push(f2&&f2.Path);}function V1(i,j,Y1){var Z1,$1;if(i.Value&&i.Value.Path){Z1=j.getODataProperty(Y1,i.Value.Path);if(Z1){if(Z1["com.sap.vocabularies.Common.v1.Text"]){$1=Z1["com.sap.vocabularies.Common.v1.Text"].Path;}if(Z1["sap:text"]){$1=Z1["sap:text"];}}if(!$1){$1=i.Value.Path;}}return $1;}function W1(i,j){var Y1=j.getODataFunctionImport(i.Action.String,true);if(Y1){var Z1=j.getObject(Y1);if(Z1["sap:action-for"]!==" "&&Z1["sap:applicable-path"]!==" "){return Z1["sap:applicable-path"];}}return null;}function X1(i,j){var Y1=[];if(i.Target&&i.Target.AnnotationPath){var Z1=i.Target.AnnotationPath;var $1=Z1.split("@")[1];var _1=j[$1];if(_1&&_1.MeasureAttributes){if(_1.MeasureAttributes[0]&&_1.MeasureAttributes[0].DataPoint&&_1.MeasureAttributes[0].DataPoint.AnnotationPath){var a2=_1.MeasureAttributes[0].DataPoint.AnnotationPath.split("@")[1];var b2=j[a2];if(b2){for(var c2 in b2){Y1.push(b2[c2]&&b2[c2].Path);if(c2==="CriticalityCalculation"&&b2.CriticalityCalculation){for(var d2 in b2.CriticalityCalculation){Y1.push(b2.CriticalityCalculation[d2].Path);}}}}}}Y1.push(_1&&_1.Measures&&_1.Measures[0]&&_1.Measures[0].PropertyPath);}return Y1;}F1=F1||Object.create(null);F1.setBindingPath=G1.setTableBindingPath.bind(G1);F1.addNecessaryFields=function(Y1,Z1,$1){var _1=G1.getModel().getMetaModel();var a2=_1.getODataEntitySet($1);var b2=_1.getODataEntityType(a2.entityType);if(Y1.length>0){var c2=G1.data("lineItemQualifier");var d2="com.sap.vocabularies.UI.v1.LineItem"+(c2?"#"+c2:"");var e2=b2[d2]||[];for(var f2=0;f2<e2.length;f2++){switch(e2[f2].RecordType){default:break;case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":var g2=V1(e2[f2],_1,b2);if(g2){S1.push(g2);}break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":if(F1.isDataFieldForActionRequired){var h2=W1(e2[f2],_1);if(h2){T1.push(h2);S1.push(h2);}}break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":var i2=e2[f2];if(i2.Target&&i2.Target.AnnotationPath&&i2.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")>=0){var j2=i2.Target.AnnotationPath;var k2=b2[j2.split("@")[1]];e2=e2.concat(k2&&k2.Data);continue;}var l2=X1(i2,b2);for(var m2=0;m2<l2.length;m2++){if(l2[m2]){S1.push(l2[m2]);}}break;}}if(F1.isFieldControlsPathRequired){U1(Y1,_1,b2,a2,d2);var n2=u.getBreakoutActions(G1);for(var o2 in n2){S1.push(n2[o2].requiresSelection&&n2[o2].applicablePath);}var p2=s.oDraftController.getDraftContext();if(p2.isDraftEnabled($1)&&p2.isDraftRoot($1)&&p2.hasDraftAdministrativeData($1)){if(Y1.length>0){S1.push("DraftAdministrativeData");}}}}var q2=G1.fetchVariant();if(!P1.TemplateSortOrder&&F1&&F1.determineSortOrder){P1.TemplateSortOrder=F1.determineSortOrder();}if((!q2||!q2.sort)&&P1.TemplateSortOrder){var r2=P1.TemplateSortOrder.split(", ");for(var j=0;j<r2.length;j++){var s2=r2[j].split(" ");if(s2.length>1){M1.sorter.push(new S(s2[0],s2[1]==="true"));}else{M1.sorter.push(new S(s2[0]));}}}for(var i=0;i<S1.length;i++){Z1(S1[i]);}};u.onBeforeRebindTableOrChart(E1,F1,N1);}function f1(i,j,k,E1,F1){var G1=new E("press",i,j);E1=E1||i.getBindingContext();if(q.onListNavigationExtension&&q.onListNavigationExtension(G1,E1,F1)){return;}if(i.data("CrossNavigation")){Y(i,E1,k.oSmartFilterbar);return;}y(i,k);u.navigateFromListItem(E1,F1);}function g1(i,j,k,E1){var F1=q.getOwnerComponent().getModel("_templPrivGlobal");p.setPlaceHolderPreconditions(F1);var G1,H1={};if(i instanceof E){G1=i.getSource();H1=i.getParameters();if(c.isMTable(G1)){G1=i.getParameter('listItem');H1.id=G1.getId();}}else{G1=i;}if(E1){f1(G1,H1,j,k,true);}else{var I1=r.getViewLevel();var J1=s.oApplication.getCurrentKeys(I1+1);var K1=J1.length>I1+1;s.oDataLossHandler.performIfNoDataLoss(f1.bind(null,G1,H1,j,k,K1),Function.prototype);}}function h1(i){s.oApplication.performAfterSideEffectExecution(function(){if(s.oApplication.getBusyHelper().isBusy()){l.info("Ignore incorrect selection, since app is busy anyway");return;}var j=i?"ST_GENERIC_MULTIPLE_ITEMS_SELECTED":"ST_GENERIC_NO_ITEM_SELECTED";M.error(u.getText(j),{styleClass:u.getContentDensityClass()});});}function i1(k){var E1,i,F1;var G1=q.getOwnerComponent(),H1=k.getSource().getCustomData(),I1="10rem";if(H1.length===0){return;}for(i=0,F1=H1.length;i<F1;i++){if(H1[i].getProperty("key")==="Target"){E1=H1[i].getProperty("value");break;}}if(!E1){M.show(u.getText("ST_GENERIC_ERROR_IN_NAVIGATION"),{icon:M.Icon.ERROR,title:u.getText("ST_ERROR"),actions:[sap.m.MessageBox.Action.CLOSE],horizontalScrolling:true,contentWidth:I1,details:u.getText("ST_GENERIC_ERROR_IN_NAVIGATION_PROPERTY_MISSING",["DataFieldWithNavigationPath"])});return;}var J1=G1.getModel(),K1=J1.getMetaModel();var L1=k.getSource().getBindingContext().getPath(),M1=L1.slice(1,L1.indexOf("(")),N1=K1.getODataEntityType(K1.getODataEntitySet(M1).entityType),j,O1=false,P1=N1.navigationProperty.length;for(j=0;j<P1;j++){if(N1.navigationProperty[j].name===E1){O1=true;break;}}if(!O1){M.show(u.getText("ST_GENERIC_ERROR_IN_NAVIGATION"),{icon:M.Icon.ERROR,title:u.getText("ST_ERROR"),actions:[sap.m.MessageBox.Action.CLOSE],horizontalScrolling:true,contentWidth:I1,details:u.getText("ST_GENERIC_ERROR_NAVIGATION_PROPERTY_NOT_CORRECT",[E1,"DataFieldWithNavigationPath"])});return;}var Q1=K1.getODataAssociationEnd(N1,E1),R1=K1.getODataEntityType(Q1.type),S1,T1;if(R1){S1=R1.namespace+"."+R1.name;}var U1=K1.getODataEntityContainer().entitySet;for(i=0,F1=U1.length;i<F1;i++){if(U1[i].entityType===S1){T1=U1[i].name;break;}}if(!T1){var V1=S1.split(".")[1];V1=V1.slice(0,V1.length-4);M.show(u.getText("ST_GENERIC_ERROR_IN_NAVIGATION"),{icon:M.Icon.ERROR,title:u.getText("ST_ERROR"),actions:[sap.m.MessageBox.Action.CLOSE],horizontalScrolling:true,contentWidth:I1,details:u.getText("ST_NAV_ERROR_TARGET_ENTITYSET_IS_MISSING",[V1])});return;}var W1=u.getNavigationKeyProperties(T1),X1=s.oNavigationController,Y1={"$expand":""};if(r.isDraftEnabled()){Y1={"$expand":"DraftAdministrativeData"};}var Z1=new Promise(function($1,_1){J1.read(L1+"/"+E1,{urlParameters:Y1,success:function(a2){$1(a2);s.oApplication.invalidatePaginatorInfo();var b2=u.mergeNavigationKeyPropertiesWithValues(W1,a2);s.oApplication.setStoredTargetLayoutToFullscreen(1);X1.navigateToContext(b2,null,false);},error:function(a2){_1(a2);}});});r.getBusyHelper().setBusy(Z1);}function j1(i,j){var k=i.getSource();var E1=u.getElementCustomData(k);var F1=u.getOwnerControl(k);F1=c.isMTable(F1)?F1.getParent():F1;var G1=u.getSelectedContexts(F1);l1(k,E1,G1,j);}function k1(i,j){var k=i.getSource();var E1=k.getParent().getBindingContext();var F1=k.data("SemanticObject");var G1=k.data("Action");u.processDataLossConfirmationIfNonDraft(function(){var H1={action:G1,semanticObject:F1};U(H1,E1,j.oSmartFilterbar||undefined,j.oSmartTable||k);},Function.prototype,j);}function l1(i,j,k,E1){var F1={action:j.Action,semanticObject:j.SemanticObject};u.processDataLossConfirmationIfNonDraft(function(){U(F1,k,E1.oSmartFilterbar||undefined,E1.oSmartTable||i);},Function.prototype,E1);}function m1(i,j,k){var E1=u.getElementCustomData(i);var F1=u.getSelectedContexts(j);var G1=!(E1.RequiresContext&&E1.RequiresContext==="false");if(G1&&!F1.length){h1(F1.length);}else{l1(i,E1,F1,k);}}function n1(i,j){u.processDataLossConfirmationIfNonDraft(function(){var k={semanticObject:i.data("SemanticObject"),action:i.data("Action")};var E1=i.getParent().getBindingContext();U(k,E1,j.oSmartFilterbar,j.oSmartTable||i);},Function.prototype,j);}function o1(i,j){var k=i.getSource();var E1=u.getOwnerControl(k).getParent();var F1=[k.getBindingContext()];var G1=u.getElementCustomData(k);var H1=E1.getEntitySet();u.triggerAction(F1,H1,G1,E1,j);}function p1(i,j){var k=q.getView();var E1=i.getSource().data();var F1=j?u.getSelectedContexts(j):[k.getBindingContext()];if(E1.ActionFor&&F1.length===0){h1(F1.length);}else{var G1=i.getSource();var E1=u.getElementCustomData(G1);var H1=j?j.getEntitySet():q.getOwnerComponent().getEntitySet();u.triggerAction(F1,H1,E1,j);}}function q1(i,j){var k,E1="";var F1=u.getOwnerControl(i.getSource());F1=c.isMTable(F1)?F1.getParent():F1;var G1=i.getSource().data();var H1=u.getSelectedContexts(F1);if(c.isSmartTable(F1)){k=F1.getTable();E1=F1.getEntitySet();}else if(c.isSmartChart(F1)){F1.getChartAsync().then(function(L1){k=L1;});E1=F1.getEntitySet();}var I1=s1(H1,G1);if(G1.ActionFor&&I1.inApplicableCount>0&&(c.isSmartTable(F1)&&((k.getMode&&k.getMode()==="MultiSelect")||(k.getSelectionMode&&k.getSelectionMode()==="MultiToggle")))){var J1=u.getText("ST_GENERIC_WARNING_TEXT",[I1.inApplicableCount]);I1.warningText=J1;var K1={functionImportPath:G1.Action,contexts:I1.aApplicableContexts,sourceControl:k,label:G1.Label,operationGrouping:G1.InvocationGrouping,sEntitySet:E1,oState:j};r1(F1).then(function(L1){var M1=L1.getModel("Action");M1.setData(K1);var N1=new sap.ui.model.json.JSONModel(I1);L1.setModel(N1,"list");var O1=L1.getModel("list");O1.setData(I1);L1.open();});}else{t1({functionImportPath:G1.Action,contexts:H1,sourceControl:k,label:G1.Label,operationGrouping:G1.InvocationGrouping},j,E1);}}function r1(i){return u.getDialogFragmentAsync("sap.suite.ui.generic.template.fragments.ActionConfirmation",{onCancel:function(j){var k=j.getSource().getParent();k.close();},onContinue:function(j){var k=j.getSource().getParent();var E1=j.getSource().getParent().getModel("Action").getData();t1({functionImportPath:E1.functionImportPath,contexts:E1.contexts,sourceControl:E1.sourceControl,label:E1.label,operationGrouping:E1.operationGrouping},E1.oState,E1.sEntitySet);k.close();}},"Action");}function s1(j,k){var E1,F1,G1,H1;var I1=q.getView().getModel();var J1=I1.getMetaModel();if(j&&j.length>0){G1=j[0].sPath.substring(1,j[0].sPath.indexOf('('));H1=J1.getODataEntitySet(G1);}if(H1){var K1=k.Action.split("/")[1];var L1=[],M1=[];var N1={aInApplicableItems:undefined,inApplicableCount:0,dialogTitle:k.Label,warningText:undefined,aApplicableContexts:undefined};if(K1){F1=J1.getODataFunctionImport(K1)["sap:applicable-path"];}for(var i=0;i<j.length;i++){E1=I1.getObject(j[i].getPath());if(F1&&E1[F1]===false){N1.inApplicableCount++;var O1=J1.getODataEntityType(J1.getODataEntitySet(G1).entityType);var P1=O1["com.sap.vocabularies.UI.v1.HeaderInfo"]?(O1["com.sap.vocabularies.UI.v1.HeaderInfo"].Title&&O1["com.sap.vocabularies.UI.v1.HeaderInfo"].Title.Value)||{}:{};var Q1="";if(P1.Path){Q1=j[i].getProperty(P1.Path);}else{Q1=P1.String||"";}L1.push({sKey:Q1});}else{M1.push(j[i]);}}N1.aInApplicableItems=L1;N1.aApplicableContexts=M1;}return N1;}function t1(j,k,E1){var F1;u.processDataLossConfirmationIfNonDraft(function(){s.oCRUDManager.callAction({functionImportPath:j.functionImportPath,contexts:j.contexts,sourceControl:j.sourceControl,label:j.label,operationGrouping:j.operationGrouping},k).then(function(G1){if(G1&&G1.length){for(var i=0;i<G1.length;i++){F1=G1[i];if(F1.response&&F1.context&&(!F1.actionContext||F1.actionContext&&F1.context.getPath()!==F1.actionContext.getPath())){s.oApplication.getBusyHelper().getUnbusy().then(s.oViewDependencyHelper.setMeToDirty.bind(null,q.getOwnerComponent(),E1));break;}}}},Function.prototype);},Function.prototype,k,"Proceed");}function u1(i,j,k,E1,F1,G1){if(i.data("CrossNavigation")){Y(i,i.getBindingContext(),k);return new Promise(function(O1){O1();});}var H1=u.getOwnerControl(i);H1=c.isSmartTable(H1)?H1:H1.getParent();var I1=H1.getTableBindingPath();var J1=H1.getEntitySet();var K1=q.getOwnerComponent();var L1=s.oApplication.getBusyHelper();var M1=r.getNonDraftCreatePromise(J1,E1);if(M1){L1.setBusy(M1);return M1;}var N1=function(O1){var P1=s.oCRUDManager.addEntry(H1,O1).then(function(Q1){if(G1){return Q1;}else if(!j){s.oApplication.navigateToSubContext(Q1,false,4);L1.getUnbusy().then(s.oViewDependencyHelper.setMeToDirty.bind(null,K1,J1));}else if(!F1){u.refreshSmartTable(H1);s.oApplicationController.executeSideEffects(K1.getBindingContext(),[],[I1]);return Q1;}});P1.catch(Function.prototype);return P1;};if(E1 instanceof Promise){return E1.then(N1);}else{return N1(E1);}}function v1(){var i={batchGroupId:"Changes",changeSetId:"Changes",draftSave:true,noBlockUI:true,noShowResponse:true,onlyIfPending:true,pendingChanges:true,forceSubmit:true};s.oTransactionController.triggerSubmitChanges(i);}function w1(i){var j=v(i);var k=i.getParameter("listItem");var E1=k.getBindingContext();y1(j,[E1]);}function x1(i){var j=v(i);var k=u.getSelectedContexts(j);y1(j,k);}function y1(i,j){if(j.length>0){var k=O(j,i);var E1=Promise.resolve(q.beforeDeleteExtension({aContexts:j}));E1.then(function(F1){var G1=s.oApplication.getBusyHelper();G1.setBusy(k);k.then(function(H1){e(H1.text,F1);I(i).then(function(I1){var J1=I1.getModel("delete");J1.setData(H1);I1.open();});},Function.prototype);});}else{M.error(u.getText("ST_GENERIC_NO_ITEM_SELECTED"),{styleClass:u.getContentDensityClass()});}}function z1(j){var k=j.getSource();var E1=k.getModel();var F1=JSON.parse(j.getSource().data("contactDetails"));var G1=E1.getContext(j.getSource().getBindingContext().getPath());u.getDialogFragmentAsync("sap.suite.ui.generic.template.fragments.ContactDetails",{},"contact").then(function(H1){var I1=H1.getModel("contact");var J1;I1.setProperty("/",{});I1.setProperty("/device",sap.ui.Device);(F1.fn&&F1.fn.Path)?I1.setProperty("/fn",(G1.getProperty(F1.fn.Path))):I1.setProperty("/fn",(F1.fn&&F1.fn.String));(F1.title&&F1.title.Path)?I1.setProperty("/title",(G1.getProperty(F1.title.Path))):I1.setProperty("/title",(F1.title&&F1.title.String));(F1.photo&&F1.photo.Path)?I1.setProperty("/photo",(G1.getProperty(F1.photo.Path))):I1.setProperty("/photo",(F1.photo&&F1.photo.String));(F1.role&&F1.role.Path)?I1.setProperty("/role",(G1.getProperty(F1.role.Path))):I1.setProperty("/role",(F1.role&&F1.role.String));(F1.org&&F1.org.Path)?I1.setProperty("/org",(G1.getProperty(F1.org&&F1.org.Path))):I1.setProperty("/org",(F1.org&&F1.org.String));if(F1.email&&F1.email[0]&&!I1.getProperty("/email")){J1=F1.email[0].type&&F1.email[0].type.EnumMember;if(J1&&J1.indexOf("com.sap.vocabularies.Communication.v1.ContactInformationType/work")>-1){if(F1.email[0].address&&F1.email[0].address.Path){I1.setProperty("/email",(G1.getProperty(F1.email[0].address.Path)));}else{I1.setProperty("/email",(F1.email[0].address&&F1.email[0].address.String));}}}var K1=(F1.tel&&F1.tel.length)||0;for(var i=0;i<K1;i++){if(F1.tel[i]&&!I1.getProperty("/fax")){J1=F1.tel[i].type&&F1.tel[i].type.EnumMember;if(J1&&J1.indexOf("com.sap.vocabularies.Communication.v1.PhoneType/fax")>-1){if(F1.tel[i].uri&&F1.tel[i].uri.Path){I1.setProperty("/fax",(G1.getProperty(F1.tel[i].uri.Path)));}else{I1.setProperty("/fax",(F1.tel[i].uri&&F1.tel[i].uri.String));}continue;}}if(F1.tel[i]&&!I1.getProperty("/cell")){J1=F1.tel[i].type&&F1.tel[i].type.EnumMember;if(J1&&J1.indexOf("com.sap.vocabularies.Communication.v1.PhoneType/cell")>-1){if(F1.tel[i].uri&&F1.tel[i].uri.Path){I1.setProperty("/cell",(G1.getProperty(F1.tel[i].uri.Path)));}else{I1.setProperty("/cell",(F1.tel[i].uri&&F1.tel[i].uri.String));}continue;}}if(F1.tel[i]&&!I1.getProperty("/work")){J1=F1.tel[i].type&&F1.tel[i].type.EnumMember;if(J1&&J1.indexOf("com.sap.vocabularies.Communication.v1.PhoneType/work")>-1){if(F1.tel[i].uri&&F1.tel[i].uri.Path){I1.setProperty("/work",(G1.getProperty(F1.tel[i].uri.Path)));}else{I1.setProperty("/work",(F1.tel[i].uri&&F1.tel[i].uri.String));}continue;}}}H1.openBy(k);});}function A1(i,j){var k=s.oApplication.getNavigationHandler();var E1=R(i,null,j);q.adaptNavigationParameterExtension(E1,i);k.navigate(i.semanticObject,i.action,E1.toJSONString(),null,H);}function B1(i,j){var k=i.getSource();C1(k,j);}function C1(i,j){var k=i.data('LabelId');var E1=j+'--'+k;var F1=sap.ui.getCore().byId(E1);if(F1){F1.attachFieldVisibilityChange(i);}}function D1(i,j,k,E1,F1){var G1,H1;if(i){if(j){G1=[" ",i,j];var I1=q.getOwnerComponent().getAppComponent().getConfig();var J1=I1.settings&&I1.settings.flexibleColumnLayout?true:false;if(J1){var K1=q.getOwnerComponent().getModel("_templPrivGlobal");if(K1.getProperty("/generic/FCL/isVisuallyFullScreen")){G1.shift();if(k){H1=F1?u.getContextText("DELETE_SELECTED_ITEM_WITH_OBJECTTITLE",F1.getId(),null,G1):u.getText("DELETE_WITH_OBJECTTITLE",G1);}else{H1=E1?u.getText("DELETE_SELECTED_ITEM_WITH_OBJECTTITLE",G1):u.getText("DELETE_WITH_OBJECTTITLE",G1);}}else{if(k){H1=F1?u.getContextText("DELETE_SELECTED_ITEM_WITH_OBJECTINFO",F1.getId(),null,G1):u.getText("DELETE_WITH_OBJECTINFO",G1);}else{H1=E1?u.getText("DELETE_SELECTED_ITEM_WITH_OBJECTINFO",G1):u.getText("DELETE_WITH_OBJECTINFO",G1);}}}else{G1.shift();if(k){H1=F1?u.getContextText("DELETE_SELECTED_ITEM_WITH_OBJECTTITLE",F1.getId(),null,G1):u.getText("DELETE_WITH_OBJECTTITLE",G1);}else{H1=E1?u.getText("DELETE_SELECTED_ITEM_WITH_OBJECTTITLE",G1):u.getText("DELETE_WITH_OBJECTTITLE",G1);}}}else{G1=[i];if(k){H1=F1?u.getContextText("DELETE_SELECTED_ITEM_WITH_OBJECTTITLE",F1.getId(),null,G1):u.getText("DELETE_WITH_OBJECTTITLE",G1);}else{H1=E1?u.getText("DELETE_SELECTED_ITEM_WITH_OBJECTTITLE",G1):u.getText("DELETE_WITH_OBJECTTITLE",G1);}}}else{if(k){H1=F1?u.getContextText("DELETE_SELECTED_ITEM",F1.getId()):u.getText("ST_GENERIC_DELETE_SELECTED");}else{H1=E1?u.getText("DELETE_SELECTED_ITEM"):u.getText("ST_GENERIC_DELETE_SELECTED");}}return H1;}var R=t.testable(R,"fnBuildSelectionVariantForNavigation");var w=t.testable(w,"fnEvaluateParameters");var U=t.testable(U,"fnNavigateIntent");var X=t.testable(X,"fnHideTitleArea");var Q=t.testable(Q,"fnGetSelectedItemContextForDeleteMessage");var O=t.testable(O,"getDataForDeleteDialog");return{onDataReceived:d1,onBeforeRebindTable:e1,onListNavigate:g1,onEditNavigateIntent:Y,onSemanticObjectLinkPopoverLinkPressed:Z,onRelatedAppNavigation:A1,onDataFieldWithNavigationPath:i1,onDataFieldForIntentBasedNavigation:j1,onDeterminingDataFieldForIntentBasedNavigation:m1,onDeterminingDataFieldForAction:p1,onInlineDataFieldForIntentBasedNavigation:n1,onDataFieldWithIntentBasedNavigation:k1,onInlineDataFieldForAction:o1,onMultiSelectionChange:z,onSmartFieldUrlPressed:D,onCallActionFromToolBar:q1,addEntry:u1,deleteEntry:w1,deleteEntries:x1,onContactDetails:z1,onSmartFieldInitialise:B1,onSmartLabelAttachFieldVisibility:C1,onSemanticObjectLinkNavigationTargetObtained:_,onSemanticObjectLinkNavigationPressed:$,submitChangesForSmartMultiInput:v1,getSelectedItemContextForDeleteMessage:Q,getDeleteText:D1};}return B.extend("sap.suite.ui.generic.template.lib.CommonEventHandlers",{constructor:function(i,j,s,k){e(this,o(i,j,s,k));}});});
