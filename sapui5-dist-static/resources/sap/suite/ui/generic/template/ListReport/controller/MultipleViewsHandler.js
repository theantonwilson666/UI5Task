sap.ui.define(["sap/ui/base/Object","sap/suite/ui/generic/template/js/StableIdHelper","sap/suite/ui/generic/template/lib/multipleViews/MultipleViewsHandler","sap/base/util/extend","sap/suite/ui/generic/template/genericUtilities/FeError"],function(B,S,M,e,F){"use strict";var c="ListReport.controller.MultipleViewsHandler";function g(s,C,t){var G;var q;var m;var a;function o(){if(!G){return;}G.updateCounts();}function b(z,A){if(!G){return;}G.onRebindContentControl(z,A);}function f(I,z){return G?G.formatMessageStrip(I,z):"";}function d(){if(G){var z=G.getSelectedKey();var T=G.getContentForIappState(z);return{state:T};}return null;}function h(E){if(!G){return C.getOwnerComponent().getEntitySet()===E;}return G.hasEntity(E);}function i(I){return G&&G.formatItemTextForMultipleView(I);}function r(s){if(G){G.restoreFromIappState(s);x();}}function D(){return G&&G.determineSortOrder();}function R(z,T,E){if(!G){return false;}G.refreshOperation(z,T,E);return true;}function j(){return!!(q&&q.enableAutoBinding);}function k(){return a;}function l(){if(!G){return;}G.setActiveButtonState();}function n(){if(!G){return null;}return G.restoreActiveButtonState();}function p(z,T,P){if(!G){return;}G.setControlVariant(z,T,P);}function H(z){if(!G){return;}if(z.selectedQuickVariantSelectionKey){G.setSelectedKey(z.selectedQuickVariantSelectionKey);}}function u(){if(!m){return null;}return m==="single"?"tableViewData":"tableTabData";}function v(){return G.getSelectedKey();}function w(K){return G.setSelectedKey(K);}function O(E){var z=E.getParameter("itemContexts")&&E.getParameter("itemContexts")[0];t.oCommonEventHandlers.onListNavigate(E,s,undefined,z);}function x(){if(m==="multi"){var K=G.getSelectedKey();var z=S.getStableId({type:"ListReportTable",subType:"SmartTable",sQuickVariantKey:K});s.oSmartTable=C.byId(z);}}function y(z){if(m==="multi"){G.refreshSiblingControls(z);}}(function(){var z=t.oComponentUtils.getSettings();var Q=z.quickVariantSelectionX;var A=z.quickVariantSelection;if(Q&&A){throw new F(c,"Defining both QuickVariantSelection and QuickVariantSelectionX in the manifest is not allowed.");}q=Q||A;if(Q){a=Q.enableAutoBinding;if(a===null||a===undefined){Q.enableAutoBinding=true;}}if(!q){return;}var E;if(Q){m="multi";var I=S.getStableId({type:"QuickVariantSelectionX",subType:"IconTabBar"});E=C.byId(I);}else{m="single";var J=S.getStableId({type:"QuickVariantSelection",subType:"SegmentedButton"});var V=S.getStableId({type:"QuickVariantSelection",subType:"VariantSelect"});E=C.byId(J)||C.byId(V);}var K={manifestSettings:q,pathInTemplatePrivateModel:"/listReport/multipleViews",smartControl:A&&s.oSmartTable,getSmartControl:Q&&function(L){var N=S.getStableId({type:"ListReportTable",subType:"SmartTable","sQuickVariantKey":L});return C.byId(N);},switchingControl:E,smartFilterBar:s.oSmartFilterbar,getSearchValue:function(){return s.oSmartFilterbar.getBasicSearchValue();},appStateChange:function(){if(G){x();var L=s.oIappStateHandler.areDataShownInTable()||s.oWorklistData.bWorkListEnabled;s.oIappStateHandler.changeIappState(true,L);}},isDataToBeShown:function(){return s.oIappStateHandler.areDataShownInTable()||s.oWorklistData.bWorkListEnabled;},adaptRefreshRequestMode:function(L){return L+(s.oWorklistData.bWorkListEnabled&&L<2?2:0);},pathToActiveObjectEnabled:"/listReport/activeObjectEnabled",refreshModelOnTableRefresh:true};G=new M(C,t,K);x();})();return{onDataRequested:o,refreshOperation:R,onRebindContentControl:b,formatMessageStrip:f,getContentForIappState:d,restoreFromIappState:r,formatItemTextForMultipleView:i,getEnableAutoBinding:j,getOriginalEnableAutoBinding:k,determineSortOrder:D,setActiveButtonState:l,restoreActiveButtonState:n,setControlVariant:p,handleStartUpObject:H,onDetailsActionPress:O,getSelectedKeyPropertyName:u,getSelectedKey:v,setSelectedKey:w,hasEntitySet:h,refreshSiblingControls:y};}return B.extend("sap.suite.ui.generic.template.ListReport.controller.MultipleViewsHandler",{constructor:function(s,C,t){e(this,g(s,C,t));}});});
