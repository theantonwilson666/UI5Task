sap.ui.define(["sap/ui/base/Object","sap/suite/ui/generic/template/js/StableIdHelper","sap/suite/ui/generic/template/lib/multipleViews/MultipleViewsHandler","sap/base/util/extend"],function(B,S,M,e){"use strict";function g(c,t,s){var G=Object.create(null);var m=Object.create(null);function o(k){var l=f(k);if(l){l.updateCounts();}}function a(k,l){var n=f(k);if(n){n.onRebindContentControl(l);}}function f(k){return m[k];}function b(k){var I=t.oCommonUtils.getControlInformation(k,null,true);return I&&I.searchField&&I.searchField.getValue();}function d(k){return G[k].getSelectedKey();}function h(k,K){return G[k].setSelectedKey(K);}function i(){var k;for(var l in G){var n=G[l];var p=n.getSelectedKey();k=k||Object.create(null);k[l]=p;}return k&&{data:k,lifecycle:{permanent:true,pagination:true}};}function A(k,I){if(I){return;}for(var l in G){var n=G[l];var p=k&&k[l];n.setSelectedKey(p);}}function j(k){var I=S.getStableId({type:"ObjectPageTable",subType:"SmartTable",sFacet:k});return c.byId(I);}function F(I){var k=I.facetId;var l=j(k);var n=f(l.getId());if(!n){return null;}return n.formatItemTextForMultipleView(I);}(function(){var k=c.getOwnerComponent().getSections();for(var l in k){var n=k[l];if(n.quickVariantSelection){var p=j(l);if(!p){continue;}var q=S.getStableId({type:"ObjectPageTable",subType:"SegmentedButton",sFacet:l});var r=S.getStableId({type:"ObjectPageTable",subType:"VariantSelection",sFacet:l});var u=c.byId(q)||c.byId(r);var C={manifestSettings:n.quickVariantSelection,pathInTemplatePrivateModel:"/objectPage/multipleViews",smartControl:p,sectionKey:l,switchingControl:u,appStateChange:s,isDataToBeShown:function(){return true;},adaptRefreshRequestMode:function(R){return R;},refreshModelOnTableRefresh:false};C.getSearchValue=b.bind(null,p);var T=t.oComponentUtils.getTemplatePrivateModel();if(!T.getProperty(C.pathInTemplatePrivateModel)){T.setProperty(C.pathInTemplatePrivateModel,Object.create(null));}C.pathInTemplatePrivateModel="/objectPage/multipleViews/"+l;var v=new M(c,t,C);G[l]=v;m[p.getId()]=v;}}})();return{onDataRequested:o,onRebindContentControl:a,getCurrentState:i,applyState:A,formatItemTextForMultipleView:F,getSelectedKey:d,setSelectedKey:h};}return B.extend("sap.suite.ui.generic.template.ObjectPage.controller.MultipleViewsHandler",{constructor:function(c,t,s){e(this,g(c,t,s));}});});
