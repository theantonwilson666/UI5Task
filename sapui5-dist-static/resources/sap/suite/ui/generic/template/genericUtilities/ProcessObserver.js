sap.ui.define(["sap/ui/base/Object","sap/suite/ui/generic/template/genericUtilities/FeLogger","sap/base/util/extend"],function(B,F,e){"use strict";var l=new F("genericUtilities.ProcessObserver").getLogger();function g(s){var p;var P;function f(){if(s.processName){l.info("Process "+s.processName+" started");}p=p||new Promise(function(r){P=r;});}function a(){if(s.processName){l.info("Process "+s.processName+" stopped");}if(p){P();p=null;P=null;}}if(s.eventHandlers){s.eventHandlers.attachProcessStart(f);s.eventHandlers.attachProcessStop(a);}function h(){var o=null;for(var i=0;i<s.processObservers.length&&!o;i++){var d=s.processObservers[i];o=d.getProcessFinished();}if(o){f();o.then(h);}else{a();}}function b(A){if(!p&&s.processObservers){h();}return p||(A&&Promise.resolve());}function c(o){s.processObservers.push(o);}return{startProcess:f,stopProcess:a,getProcessFinished:b,addObserver:c};}return B.extend("sap.suite.ui.generic.template.genericUtilities.ProcessObserver",{constructor:function(s){e(this,g(s||{}));}});});
