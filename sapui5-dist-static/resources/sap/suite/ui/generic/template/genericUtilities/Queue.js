sap.ui.define(["sap/ui/base/Object","sap/base/util/extend","sap/suite/ui/generic/template/genericUtilities/ProcessObserver","sap/suite/ui/generic/template/genericUtilities/testableHelper"],function(B,e,P,t){"use strict";function g(q){var d=Promise.resolve();var s=new P();function a(E){var f=function(){var S=i();var o=S?S.then(f):E();return(o instanceof Promise)?o.then(function(r){return s.getProcessFinished(true).then(function(){return r;});},function(c){return s.getProcessFinished(true).then(function(){return Promise.reject(c);});}):o;};d=d.then(f,f);return d;}function m(Q){return function(){var A=arguments;var c=this;var E=function(){return Q.apply(c,A);};return a(E);};}function b(S){s[S?"stopProcess":"startProcess"]();return q;}b();function i(){return s.getProcessFinished();}return{addEntry:a,makeQueuable:m,setStartStop:b,start:b.bind(null,true),stop:b.bind(null,false),isStopped:i};}return B.extend("sap.suite.ui.generic.template.genericUtilities.Queue",{constructor:function(){e(this,(t.testableStatic(g,"Queue"))(this));}});});
