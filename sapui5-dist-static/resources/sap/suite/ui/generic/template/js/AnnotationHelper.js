sap.ui.define(["sap/ui/model/odata/AnnotationHelper","sap/ui/comp/smartfield/SmartField","sap/suite/ui/generic/template/genericUtilities/FeLogger","sap/base/strings/formatMessage","sap/base/util/deepExtend","sap/suite/ui/generic/template/js/RuntimeFormatters","sap/suite/ui/generic/template/js/StableIdHelper","sap/suite/ui/generic/template/genericUtilities/testableHelper","sap/ui/Device","sap/m/library","sap/ui/core/library"],function(A,S,F,f,d,R,a,t,D,b,c){"use strict";var l=new F("js.AnnotationHelper").getLogger();function E(e,M){var i=M[e];var j=i&&i["sap.ui.generic.app"];return!!(j&&j.enableLazyLoading);}function g(e){l.error("Error creating stable id for facet with RecordType: "+e.RecordType+" and Target: "+(e.Target&&e.Target.AnnotationPath));var i=new Uint32Array(1),j=Math.pow(2,32);var z=window.crypto||window.msCrypto;var B=z&&z.getRandomValues(i)[0]/j;return Math.floor((B*99999)+1).toString();}function h(C,P){var N=false;if(C["Org.OData.Capabilities.V1.SortRestrictions"]&&C["Org.OData.Capabilities.V1.SortRestrictions"].NonSortableProperties){var e=C["Org.OData.Capabilities.V1.SortRestrictions"].NonSortableProperties;for(var i=e.length-1;i>=0;i--){if(e[i].PropertyPath===P){N=true;break;}}}var z=false;if(C["Org.OData.Capabilities.V1.FilterRestrictions"]){if(C["Org.OData.Capabilities.V1.FilterRestrictions"].Filterable!=='false'){if(C["Org.OData.Capabilities.V1.FilterRestrictions"].NonFilterableProperties){var B=C["Org.OData.Capabilities.V1.FilterRestrictions"].NonFilterableProperties;for(var j=B.length-1;j>=0;j--){if(B[j].PropertyPath===P){z=true;break;}}}}else{z=true;}}var G={getFilterRestriction:function(){return z;},getSortRestriction:function(){return N;}};return G;}function k(L,e){return!!(L.name&&e&&e.some(function(i){return L.name===i.entitySet;}));}function m(e,i,P,I,j,N){var z=I?"":" && !${ui>/editable}";return"{= ${_templPriv>/generic/supportedIntents/"+e+"/"+i+"/"+P+"/supported}"+z+" ? "+j+" : "+N+"}";}function n(L,e,j,M,z){var N;if(j){N=j.split("/")[0];}if(L&&e){for(var i=0;i<e.length;i++){if(L===e[i].entitySet&&(!N||N===e[i].navigationProperty)&&e[i].navigation&&e[i].navigation[M]){if(z){if(e[i].component&&e[i].component.settings&&e[i].component.settings.hideChevronForUnauthorizedExtNav){return e[i].navigation[M].target;}}else{return e[i].navigation[M].target;}}}}return null;}function o(L,e,M,i,I,j,T){var P=j?"1":"Navigation";if(T){return P;}var N=j?"0":"Inactive";var z=j?"":"'";var O=n(L.name,e,i,"display",true);if(O){var C=M["sap.app"].crossNavigation.outbounds[O];var B=C.semanticObject;var G=C.action;var H=L.name+(i?("::"+i.split("/")[0]):"");return m(B,G,H,I,z+P+z,z+N+z);}if(k(L,e)){return I?P:"{= ${ui>/editable} ? "+z+N+z+" : "+z+P+z+" }";}return N;}function p(L,e,M,i,I){return o(L,e,M,i,I,true);}function q(M,e,P){var i=P;var z=M.getODataEntityType(e);if(i.indexOf("/")>-1){var B=i.split("/");for(var j=0;j<B.length-1;j++){var C=M.getODataAssociationEnd(z,B[j]);z=M.getODataEntityType(C.type);}i=B[B.length-1];}var O=M.getODataProperty(z,i);return(!!O&&O.type==="Edm.Boolean");}function r(e){while(!e.getEntitySet){e=e.getParent();}return e;}function s(C){for(var i=0;i<C.length;i++){if(C[i].getKey()==="lineItemQualifier"){var e=C[i].getValue();if(e){return e;}}}}function u(e,i){var M=i.getModel();var j=M.getMetaModel();var C=r(e.getParent());var z=j.getODataEntitySet(C.getEntitySet());var B=j.getODataEntityType(z.entityType);var G=C.getCustomData();var L=B["com.sap.vocabularies.UI.v1.LineItem"];var H=B["com.sap.vocabularies.UI.v1.LineItem@com.sap.vocabularies.UI.v1.Criticality"];var I=s(G);if(I){H=B["com.sap.vocabularies.UI.v1.LineItem#"+I+"@com.sap.vocabularies.UI.v1.Criticality"];}if(L&&H){if(H.Path){var J=H.Path;var K=i.getObject(J);if(K){switch(K.toString()){case"0":return"None";case"1":return"Error";case"2":return"Warning";case"3":return"Success";}}}else if(H.EnumMember){var N=H.EnumMember;if(N){switch(N){case"com.sap.vocabularies.UI.v1.CriticalityType/Neutral":return"None";case"com.sap.vocabularies.UI.v1.CriticalityType/Negative":return"Error";case"com.sap.vocabularies.UI.v1.CriticalityType/Critical":return"Warning";case"com.sap.vocabularies.UI.v1.CriticalityType/Positive":return"Success";}}}}return"None";}function v(i,e,C,j,z,B){var G=['com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation','com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation','com.sap.vocabularies.UI.v1.DataFieldForAction','com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath'];if(G.indexOf(e.RecordType)!==-1){if(e&&e.Value&&e.Value.Path){return x(C,e.Value.Path,B);}}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(z.indexOf('com.sap.vocabularies.Communication.v1.Contact')>=0){return w(i,C,j,z,B);}else if(z.indexOf('com.sap.vocabularies.UI.v1.DataPoint')>=0){if(j&&j.Value&&j.Value.Path){return x(C,j.Value.Path,B);}}}}function w(i,C,e,j,z){var N="";var M=i.getInterface(0).getModel();if(M){var B=M.getODataEntityType(C.entityType);if(B){N=y._getNavigationPrefix(M,B,j);}if(e&&e.fn&&e.fn.Path){if(N){var G=M.getODataAssociationSetEnd(B,N);if(G&&G.entitySet){C=M.getODataEntitySet(G.entitySet);}return x(C,e.fn.Path,z,N);}else{return x(C,e.fn.Path,z,N);}}}}function x(C,P,e,N){var i=h(C,P);if(N){if(e){var j=i.getSortRestriction();if(!j){return N+'/'+P;}}else{var z=i.getFilterRestriction();if(!z){return N+'/'+P;}}}else{if(e){var j=i.getSortRestriction();if(!j){return P;}}else{var z=i.getFilterRestriction();if(!z){return P;}}}}var r=t.testableStatic(r,"AnnotationHelper_getSmartTableControl");var s=t.testableStatic(s,"AnnotationHelper_getLineItemQualifier");var y={formatMessage:f,getNewVariable:function(C){var V=C.getProperty();var e={set:function(i,P){i=typeof i==="object"?d({},i):i;if(P){e.value=e.value||{};e.value[P]=i;}else{e.value=i;}if(typeof e.value==="object"){d(e,e.value);}}};V.push(e);return"/variables/"+(V.length-1);},getMetaModelBinding:function(C){var M=C.getObject();var e=C.getObject("/metaModel");return M&&e.createBindingContext(M);},getBlockForEditableHeaderFacet:function(i,e){var j={controlProperties:{id:a.getStableId({type:'ObjectPageSection',subType:'SmartForm',sFacet:a.getStableId({type:'ObjectPage',subType:'EditableHeaderFacet',sRecordType:e.RecordType,sAnnotationPath:e.Target&&e.Target.AnnotationPath,sAnnotationId:e.ID&&e.ID.String})})},aggregations:{groups:[{metaModelPath:i.getPath()}]}};if(!e.Target){j.aggregations.groups=[];}return j;},getBindingForHiddenPath:function(H){if(H["com.sap.vocabularies.UI.v1.Hidden"]){if(H["com.sap.vocabularies.UI.v1.Hidden"].hasOwnProperty("Path")){return"{= !${"+H["com.sap.vocabularies.UI.v1.Hidden"].Path+"} }";}else if(H["com.sap.vocabularies.UI.v1.Hidden"].hasOwnProperty("Bool")){if(H["com.sap.vocabularies.UI.v1.Hidden"].Bool==="true"){return false;}else if(H["com.sap.vocabularies.UI.v1.Hidden"].Bool==="false"){return true;}else{l.error(H["com.sap.vocabularies.UI.v1.Hidden"].Bool+" is not a boolean value");return true;}}else{return false;}}else{return true;}},getVisibiltyBasedOnImportance:function(V){if(V['com.sap.vocabularies.UI.v1.Importance']&&V['com.sap.vocabularies.UI.v1.Importance'].hasOwnProperty("EnumMember")){if(V['com.sap.vocabularies.UI.v1.Importance'].EnumMember==='com.sap.vocabularies.UI.v1.ImportanceType/High'){return true;}else if((V['com.sap.vocabularies.UI.v1.Importance'].EnumMember==='com.sap.vocabularies.UI.v1.ImportanceType/Medium')&&(D.system.tablet||D.system.desktop)){return true;}else if(D.system.desktop){return true;}else{return false;}}},getValueListReadOnly:function(i,e,j){var M=i.getInterface(1).getModel();var P=i.getInterface(1).getPath()+'/Value';var T=sap.ui.model.odata.AnnotationHelper.resolvePath(M.getContext(P));var z=M.getObject(T);if(z['com.sap.vocabularies.UI.v1.TextArrangement']){return z['com.sap.vocabularies.UI.v1.TextArrangement'].EnumMember!=='com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate';}else if(z['com.sap.vocabularies.Common.v1.Text']){return true;}else{var B=M.getODataEntityType(e);if(B['com.sap.vocabularies.UI.v1.TextArrangement']){return B['com.sap.vocabularies.UI.v1.TextArrangement'].EnumMember!=='com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate';}}},getImportanceForTableColumns:function(V){return(V['com.sap.vocabularies.UI.v1.Importance']&&V['com.sap.vocabularies.UI.v1.Importance'].EnumMember&&V['com.sap.vocabularies.UI.v1.Importance'].EnumMember.split('/')[1])||c.Priority.None;},getImportanceForTableColumnsWithSemanticKeyTitleAndDescription:function(i,e,V){var P=V&&V.Value;var I=y.getImportanceForTableColumns(V);if(!V['com.sap.vocabularies.UI.v1.Importance']&&y.isPropertySemanticKey(i,e,P)){return c.Priority.High;}return I;},getCustomDataForContactPopup:function(C){return((JSON.stringify(C)).replace(/\}/g,"\\}").replace(/\{/g,"\\{"));},renderColumnForConnectedFields:function(C){var e=function(i){return((i.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||i.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&!(i.Inline&&i.Inline.Bool==="true"));};if(C.length){if(!C.every(e)){return"true";}else{return"false";}}else{return"false";}},renderColumnHeader:function(C){var e=function(i){return(i.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||i.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation");};if(C.length){if(C.every(e)){return"true";}else{return"false";}}},createP13NColumnForConnectedFields:function(I,e,C,z,B,G,H){var P="",J="",K={},L={},M=[],N;var O=I.getInterface(0);var Q=I.getInterface(1).getModel();var T=[];var U=[];var V=[];var W="false";z=z&&z.Data;for(var i=0;i<z.length;i++){B=z[i];Q=I.getInterface(0).getModel();L=Q.getODataEntityType(Q.getContext(I.getInterface(0).getPath()).getObject().entityType);if(B.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(B.Target.AnnotationPath.indexOf("/")>0){var X=B.Target.AnnotationPath.split("/")[0];var Y=B.Target.AnnotationPath.split("/")[1].split("@")[1];L=Q.getODataEntityType(Q.getODataAssociationEnd(L,X).type);H=L[Y];}else{H=L[B.Target.AnnotationPath.split("@")[1]];}}if(((B.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||B.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&B.Inline&&B.Inline.Bool==="true")||B.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||B.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){P=y.createP13NColumnForAction(O,B);}else if(B.RecordType==="com.sap.vocabularies.UI.v1.DataField"){var Z=y.getRelevantDataForAnnotationRecord(Q,B.Value.Path,L);L=Z.entityType;var $=Z.dataFieldValuePath;M=(L&&L.property)||[];for(var j=0;j<M.length;j++){if(M[j].name===$){G=M[j];break;}}P=y.createP13N(I,e,G,B);}else if(B.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(B.Target.AnnotationPath.indexOf("com.sap.vocabularies.Communication.v1.Contact")>=0){P=y.createP13NColumnForContactPopUp(I,e,B,H,B.Target.AnnotationPath);}else if(B.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.Chart")>=0){P=y.createP13NColumnForChart(I,e,B,H,B.Target.AnnotationPath);}else if(H.Visualization){P=y.createP13NColumnForIndicator(I,e,G,B,H,H.Value,B.Target.AnnotationPath);}}if(P){K=JSON.parse(P.replace(/\\/g,""));}if(!T.length&&K.leadingProperty){T.push(K.leadingProperty);}else{K.leadingProperty&&(V.indexOf(K.leadingProperty)===-1)?V.push(K.leadingProperty):Function.prototype;}K.navigationProperty&&(U.indexOf(K.navigationProperty)===-1)?U.push(K.navigationProperty):Function.prototype;K.additionalProperty&&(V.indexOf(K.additionalProperty)===-1)?V.push(K.additionalProperty):Function.prototype;if(W==="false"){W=K.actionButton;}}P="";J=y.createP13NColumnKey(C);N=y._determineColumnIndex(I.getInterface(1));P='\\{"columnKey":"'+J;P+='", "columnIndex":"'+N;P+='", "sortProperty":"'+"";P+='", "filterProperty":"'+"";if(T.length>0){P+='", "leadingProperty":"'+T.join();}if(U.length>0){P+='", "navigationProperty":"'+U.join();}if(V.length>0){P+='", "additionalProperty":"'+V.join();}P+='", "actionButton":"'+W+'"';P+=' \\}';return P;},getDefaultWidthForTableColumn:function(i,e,j,z,B,C){if(C===false){return"auto";}var W=y.getDefaultWidthBasedOnAnnotation(j);if(W){return W;}else if(e&&y.isImageUrl(e)){return"5rem";}else if(z&&z.indexOf("com.sap.vocabularies.UI.v1.Chart")>-1){return"20rem";}else if(e&&e.Visualization){return"6.875rem";}else if(z&&z.indexOf("com.sap.vocabularies.Communication.v1.Contact")>-1){var M=i.getModel(0);var G=M.getODataAssociationEnd(M.getODataEntityType(B.entityType),z.split("/")[0]).type;e=M.getODataProperty(M.getODataEntityType(G),e.fn.Path);}W=e&&e.maxLength&&parseInt(e.maxLength,10)+1;if(W){if(W>=20){return"20rem";}else if(W<=3){return"3rem";}else{return W+"rem";}}return"auto";},getDefaultWidthBasedOnAnnotation:function(e){if(e&&e["com.sap.vocabularies.HTML5.v1.CssDefaults"]&&e["com.sap.vocabularies.HTML5.v1.CssDefaults"].width&&e["com.sap.vocabularies.HTML5.v1.CssDefaults"].width.String){return e["com.sap.vocabularies.HTML5.v1.CssDefaults"].width.String;}},tabItemHasPresentationVariant:function(e,V){var i=e[V];return!!(i&&(i.PresentationVariant||i.Visualizations||i.SortOrder));},getPresentationVariant:function(V,e){if(V.Visualizations||V.SortOrder){return V;}else if(V.PresentationVariant&&(V.PresentationVariant.Path||V.PresentationVariant.AnnotationPath)){var i=V.PresentationVariant.Path||V.PresentationVariant.AnnotationPath;return e[i.replace('@','')];}else if(V.PresentationVariant){return y.getPresentationVariant(V.PresentationVariant);}},getPresentationVariantVisualisation:function(e,V){var i=e[V];var P=y.getPresentationVariant(i,e);if(P.Visualizations){return P.Visualizations[0].AnnotationPath.split('#')[1];}},getPresentationVariantSortOrder:function(e,V){var i=e[V];var P=y.getPresentationVariant(i,e);if(P.SortOrder){return y.getSortOrder(P.SortOrder);}},getSmartTableId:function(T){var e=y.getSuffixFromIconTabFilterKey(T);var i="listReport";if(e){i=i.concat(e);}return i;},getAnalyticalTableId:function(T){var e=y.getSuffixFromIconTabFilterKey(T);var i="analyticalTable";if(e){i=i.concat(e);}return i;},getGridTableId:function(T){var e=y.getSuffixFromIconTabFilterKey(T);var i="GridTable";if(e){i=i.concat(e);}return i;},getTreeTableId:function(T){var e=y.getSuffixFromIconTabFilterKey(T);var i="TreeTable";if(e){i=i.concat(e);}return i;},getRowActionsId:function(T){var e=y.getSuffixFromIconTabFilterKey(T);var i="rowActions";if(e){i=i.concat(e);}return i;},getResponsiveTableId:function(T){var e=y.getSuffixFromIconTabFilterKey(T);var i="responsiveTable";if(e){i=i.concat(e);}return i;},getAddEntryId:function(T){var e=y.getSuffixFromIconTabFilterKey(T);var i="addEntry";if(e){i=i.concat(e);}return i;},getDeleteEntryId:function(T){var e=y.getSuffixFromIconTabFilterKey(T);var i="deleteEntry";if(e){i=i.concat(e);}return i;},getShowDetailsId:function(T){var e=y.getSuffixFromIconTabFilterKey(T);var i="showDetails";if(e){i=i.concat(e);}return i;},getDraftObjectMarkerId:function(T){var e=y.getSuffixFromIconTabFilterKey(T);var i="DraftObjectMarker";if(e){i=i.concat(e);}return i;},getBreakoutActionButtonId:function(C,T){if(C.id){var e=y.getSuffixFromIconTabFilterKey(T);var i=C.id;if(e){i=i.concat(e);}return i;}},getIconTabFilterKey:function(T){if(T){if(T.key){return T.key;}else{return y.replaceSpecialCharsInId(T.annotationPath);}}},getSuffixFromIconTabFilterKey:function(T){var K=y.getIconTabFilterKey(T);if(K){return"-".concat(K);}else{return"";}},getIconTabFilterText:function(i,M,T){var e,j,z,B,C,G,H,I;if(T){var J=T.AnnotationPath;var K=J&&J.substring(0,J.indexOf('/'));e=i.getInterface(0).getModel();j=e.getData();z=j.metaModel;H=z.getODataEntityType(j.entityType);I=z.getODataAssociationEnd(H,K);G=z.getODataEntityType(I.type);}else{e=i.getModel();j=e.getData();z=j.metaModel;if(!!M.entitySet){B=z.getODataEntitySet(M.entitySet);C=B.entityType;}else{C=j.entityType;}G=z.getODataEntityType(C);}var L=G[M.annotationPath];if(L&&L.Text){return L.Text.String;}},getAltTextForImage:function(e){if(e["com.sap.vocabularies.Common.v1.Text"]){return e["com.sap.vocabularies.Common.v1.Text"].String;}},getActionButtonVisibility:function(i,e){var j=e["Action"]&&e["Action"].String;j=j&&j.split("/")[1];if(j){var z=i.getModel().getODataFunctionImport(j);}return!!z;},buildAnnotatedActionButtonEnablementExpression:function(i,e,j,z,I,T,C){var B,G,H,M;H=e&&e.Action&&e.Action.String;if(H){G=y.getStableIdPartForDatafieldActionButton(e,j,T,C);if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){if(!e.RequiresContext||e.RequiresContext.Bool!=="false"){return"{= !!${_templPriv>/generic/controlProperties/"+G+"/enabled}}";}}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){M=i.getInterface(0).getModel();B=M.getODataFunctionImport(H);if(!B){l.error("The function import "+H+" is not defined in the metadata. Buttons that call this function import will not behave as expected.");return false;}else if(B["sap:action-for"]&&B["sap:action-for"]!==""&&B["sap:action-for"]!==" "){return"{= !!${_templPriv>/generic/controlProperties/"+G+"/enabled}}";}}return true;}},buildActionButtonsCustomData:function(I,C,e,z,T,B){var G,M,H;var J=[];I=I.getInterface(0);M=I.getModel();if(C){for(var i=0;i<C.length;i++){G=C[i];H=null;if(G.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&G.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")>=0){var K=M.getContext(I.getPath()+"/"+i+"/Target");var L=sap.ui.model.odata.AnnotationHelper.resolvePath(K);var N=M.getObject(L);if(N.Data&&N.Data.length>0){for(var j=0;j<N.Data.length;j++){H=y.generateAnnotatedActionCustomData(N.Data[j],e,T,B);if(H){J.push(H);}}}}else{H=y.generateAnnotatedActionCustomData(G,e,T,B);if(H){J.push(H);}}}}return btoa(JSON.stringify(J));},generateAnnotatedActionCustomData:function(e,i,T,C){var I;if((e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&!((e.Inline&&e.Inline.Bool===true)||(e.Determining&&e.Determining.Bool===true))&&(e.Action&&e.Action.String.trim())){I=y.getStableIdPartForDatafieldActionButton(e,i,T,C);return{ID:I,RecordType:e.RecordType,Action:e.Action&&e.Action.String};}},getLabelForDFwithIBN:function(i,e,j,G){var M,T,z,P,B,C;if(e.Label){return e.Label.String;}else{M=i.getInterface(0).getModel();if(M&&j){if(G&&G.Target&&G.Target.AnnotationPath){T=y.getTargetEntitySet(M,j,G.Target.AnnotationPath);z=M.getODataEntityType(T.entityType);}else{z=M.getODataEntityType(j.entityType);}if((e.Value&&e.Value.Path)||(e.IconUrl&&e.IconUrl.Path)){C=(e.Value&&e.Value.Path)?e.Value.Path:e.IconUrl.Path;P=M.getODataProperty(z,C);B=(P["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return B;}}}},getLinkTextForDFwithIBN:function(i,e,j,G){var z,T,P,B;var M=i.getInterface(0).getModel();if(M&&j){if(G&&G.Target&&G.Target.AnnotationPath){T=y.getTargetEntitySet(M,j,G.Target.AnnotationPath);z=M.getODataEntityType(T.entityType);}else{z=M.getODataEntityType(j.entityType);}if(e.Value&&e.Value.Path){P=M.getODataProperty(z,e.Value.Path)||{};B=(P["com.sap.vocabularies.Common.v1.Text"]||e.Value).Path||"";return"{"+B+"}";}}},getTargetEntitySet:function(M,e,i){var N,j,z,B;N=i.split('/');if(N.length>1){j=N[0];}if(j){z=M.getODataEntityType(e.entityType);B=M.getODataAssociationSetEnd(z,j);if(B&&B.entitySet){return M.getODataEntitySet(B.entitySet);}}return e;},getApplicablePathForChartToolbarActions:function(I,C,e){var M=I.getInterface(0).getModel();var j=M.getODataEntityType(e);var z=(C&&C.Actions)||[];var B,G,O,H=[],J=[],K;for(var i=0;i<z.length;i++){if(z[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&(!z[i].Inline||z[i].Inline.Bool!=="true")&&(!z[i].Determining||z[i].Determining.Bool!=="true")){B=z[i].Action&&z[i].Action.String;G=M.getODataFunctionImport(B);if(G){H.push(G);}}}for(var i=0;i<H.length;i++){G=H[i];if(G&&G["sap:action-for"]&&G["sap:action-for"]!==""&&G["sap:action-for"]!==" "&&G["sap:applicable-path"]&&G["sap:applicable-path"]!==""&&G["sap:applicable-path"]!==" "){K=G["sap:applicable-path"];O=M.getODataProperty(j,K);if(O&&O["sap:aggregation-role"]==="dimension"){J.push(K);}else{l.error("AnnotationHelper.js - method getApplicablePathForChartToolbarActions: the applicable-path "+K+" is either pointing to an entity type property which doesn't exist or does not have 'sap:aggregation-role' set to to 'dimension'.");}}}if(J.length>0){return J.join();}},formatSmartField:function(i,e){var j={"Path":e.path};return A.simplePath(i.getModel()?i:i.getInterface(0),j);},buildBreadCrumbExpression:function(C,T,e,i){var B,j=sap.ui.model.odata.AnnotationHelper.format(C,e);if(e&&e.Path&&i&&i.String){var z=i.String.replace(/'/g,"\\'");B="{= $"+j+" || '"+z+"' }";return B;}else{if(!j){return i&&i.String||"[[no title]]";}return j;}},buildRatingIndicatorSubtitleExpression:function(e){if(e){return"{parts: [{path: '"+e.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorSubTitle'}";}},formatRatingIndicatorSubTitle:function(i){if(i){var e=this.getModel("i18n").getResourceBundle();if(this.getCustomData().length>0){return e.getText("RATING_INDICATOR_SUBTITLE",[i,this.data("Subtitle")]);}else{var j=i>1?e.getText("RATING_INDICATOR_SUBTITLE_LABEL_PLURAL"):e.getText("RATING_INDICATOR_SUBTITLE_LABEL");return e.getText("RATING_INDICATOR_SUBTITLE",[i,j]);}}},buildRatingIndicatorFooterExpression:function(V,T){if(T){return"{parts: [{path: '"+V.Path+"'}, {path: '"+T.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorFooterText'}";}return"{parts: [{path: '"+V.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorFooterText'}";},formatRatingIndicatorFooterText:function(e,i){if(e){var j=this.getModel("i18n").getResourceBundle();if(i){return j.getText("RATING_INDICATOR_FOOTER",[e,i]);}else if(this.getCustomData().length>0){return j.getText("RATING_INDICATOR_FOOTER",[e,this.data("Footer")]);}else{var z=sap.m.RatingIndicator.getMetadata().getPropertyDefaults().maxValue;return j.getText("RATING_INDICATOR_FOOTER",[e,z]);}}},buildRatingIndicatorAggregateCountExpression:function(V){return"{parts: [{path: '"+V.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorAggregateCount'}";},formatRatingIndicatorAggregateCount:function(e){var i=this.getModel("i18n").getResourceBundle();var T;if(e){T=i.getText("RATING_INDICATOR_AGGREGATE_COUNT",[e]);}else if(this.getCustomData().length>0){T=i.getText("RATING_INDICATOR_AGGREGATE_COUNT",[this.data("AggregateCount")]);}else{T="";}return T;},getIdForMoreBlockContent:function(e){if(e["com.sap.vocabularies.UI.v1.PartOfPreview"]&&e["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="false"){return"::MoreContent";}},checkMoreBlockContent:function(e){return y.checkFacetContent(e,false);},checkBlockContent:function(e){return y.checkFacetContent(e,true);},checkFacetContent:function(e,B){var P;var i=e.getInterface(0);var j=e.getModel().getProperty("",e);var z=e.getPath().split("/Facets");var C=i.getModel().getContext(z[0]);if(i.getModel().getProperty('',C).RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){return C.getPath();}else{if(!j){return;}for(var G=0;G<j.length;G++){if(!B){if(j[G]["com.sap.vocabularies.UI.v1.PartOfPreview"]&&j[G]["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="false"){P=i.getPath()+"/"+G;break;}}else{if(j[G].RecordType!=="com.sap.vocabularies.UI.v1.ReferenceFacet"||(!j[G]["com.sap.vocabularies.UI.v1.PartOfPreview"]||j[G]["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="true")){P=i.getPath()+"/"+G;break;}}}}return P;},isInlineCreate:function(e,i){var j=i[y.getStableIdPartFromFacet(e)];return!!(j&&j.createMode&&j.createMode==="inline");},getLoadingStrategy:function(e,i){var j=i&&i[y.getStableIdPartFromFacet(e)];var L=j&&j.loadingBehavior;if(!L){return"lazyLoading";}if(L.waitForViewportEnter){return L.waitForHeaderData?"lazyLoadingAfterHeader":"lazyLoading";}return L.waitForHeaderData?"activateAfterHeaderDataReceived":"activateWithBindingChange";},usesPreliminaryContext:function(e,i){var j=i[y.getStableIdPartFromFacet(e)];return!!(j&&j.preliminaryContext);},isInlineCreateSorting:function(e,i){var j=i[y.getStableIdPartFromFacet(e)];return!!(j&&j.disableDefaultInlineCreateSort);},isImageUrl:function(P){var e=P["com.sap.vocabularies.UI.v1.IsImageURL"]||P["com.sap.vocabularies.UI.v1.IsImageUrl"];if(e&&e.Bool&&e.Bool==="false"){return false;}else if(e){return true;}return false;},isPropertySemanticKey:function(I,e,P){var I=I.getInterface(0);var M=I.getModel();var j=M.getODataEntityType(e.entityType);if(j){var z=j["com.sap.vocabularies.Common.v1.SemanticKey"];if(z&&z.length>0){for(var i=0;i<z.length;i++){if(z[i].PropertyPath===P.Path){return true;}}}}return false;},_addFullPathToImageUrlIfNeeded:function(i,e){if(!i){return"";}if((i.substring(0,1)==="/")||(i.substring(0,11)==="sap-icon://")||(i.substring(0,7)==="http://")||(i.substring(0,8)==="https://")){return i;}else{return sap.ui.require.toUrl(e)+"/"+i;}},formatImageUrl:function(i,I,e,j){if(I&&(I.Path||I.Apply)&&j){y.formatWithExpandSimple(i,I);}if(I&&I.Path){return"{parts: [{path: '"+I.Path+"'}, {path: '_templPrivGlobal>/generic/appComponentName'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatImageUrlRuntime'}";}else if(I&&I.String){return y._addFullPathToImageUrlIfNeeded(I.String,e);}else if(I&&I.Apply){I.Apply.Parameters[0].Value=y._addFullPathToImageUrlIfNeeded(I.Apply.Parameters[0].Value,e);return sap.ui.model.odata.AnnotationHelper.format(i,I);}else{return"";}},hasImageUrl:function(i){if(i&&(i.Path||i.Apply||i.String)){return"sapSmartTemplatesObjectPageDynamicPageHeader sapSmartTemplatesObjectPageDynamicPageHeaderImageDiv";}else{return"sapSmartTemplatesObjectPageDynamicPageHeader";}},getAvatarInitials:function(i){return((i.Path&&("{"+i.Path+"}"))||i.String||"");},hasImageUrlForHeaderTitle:function(i){if(i&&(i.Path||i.Apply||i.String)){return"sapSmartTemplatesObjectPageDynamicPageHeaderTitle sapSmartTemplatesObjectPageDynamicPageHeaderTitleWithImage sapSmartTemplatesObjectPageDynamicPageHeaderImageDiv";}else{return"sapSmartTemplatesObjectPageDynamicPageHeaderTitle sapSmartTemplatesObjectPageDynamicPageHeaderTitleWithoutImage";}},formatImageOrTypeUrl:function(i,I,T,e,j){var z=null;if(I){z=I;}else{z=T;}return y.formatImageUrl(i,z,e,j);},getPathWithExpandFromHeader:function(i,e,N,I,T){var j=[],z;if((I||T)){var i=i.getInterface(0);var M=i.getModel();var B=M.getODataEntityType(e.entityType);var C=null;if(I){C=I;}else{C=T;}if(C&&C.Path&&B){var G=y._getNavigationPrefix(M,B,C.Path);if(G){j.push(G);}}}if(j.length>0){if(j.length>1){j=j.filter(function(H,J,K){return J==K.indexOf(H);});}z="{ path : '"+N+"', parameters : { expand : '"+j.join(',')+"'} }";}else{z="{ path : '"+N+"' }";}if(z==="{}"){z="";}return z;},disableSemanticObjectLinksOnPopups:function(Q,e){var i="";if(Q&&Q.ignoredFields&&e&&e.Value&&e.Value.Path){if(Q.ignoredFields[e.Value.Path]){i=e.Value.Path;}}return i;},formatImageUrlRuntime:function(i,e){return y._addFullPathToImageUrlIfNeeded(i,e);},formatHeaderImage:function(i,H,e){if(H.ImageUrl){return y.formatImageUrl(i,H.ImageUrl,e,true);}else if(H.TypeImageUrl){return y.formatImageUrl(i,H.TypeImageUrl,e,true);}else{return"";}},matchesBreadCrumb:function(C,T){return T.entitySet===C.name;},getPersistencyKeyForSmartTable:function(e){return"listReportFloorplanTable";},getPersistencyKeyForDynamicPageTitle:function(e){return"listReportDynamicPageTitle";},getCreateNavigationIntent:function(L,e,i){return n(L,e,i,"create");},getDisplayNavigationIntent:function(L,e,i){return n(L,e,i,"display");},extensionPointFragmentExists:function(e,i){var I=y.getStableIdPartFromFacet(e);if(I===i){return true;}else{return false;}},containsFormWithBreakoutAction:function(e,i){var C=y.getStableIdPartFromFacet(e);if(C===i){if(e.RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&e.Target&&e.Target.AnnotationPath&&e.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")!=-1){return true;}}return false;},setAriaText:function(i,e,j){if(j.Path){return"{parts: [{path: '"+e+"'}, {path: '"+j.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatMessage'}";}j=sap.ui.model.odata.AnnotationHelper.format(i,j);return"{parts: [{path: '"+e+"'}, {value: '"+j+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatMessage'}";},formatWithExpandSimple:function(i,e,z){if(!e){return"";}var B=[],C,G;var M=i&&i.getModel&&i.getModel();if(!M){i=i.getInterface(0);M=i.getModel();}if(z){G=M.getODataEntityType(z.entityType);}else{var H=/^(\/dataServices\/schema\/\d+\/entityType\/\d+)(?:\/|$)/.exec(i.getPath());if(H&&H.length&&H[0]){var I=M.getProperty(H[0]);var N=M.getODataEntityContainer().namespace;G=M.getODataEntityType(N+'.'+I.name);}}if(G){if(e&&e.Path){C=y._getNavigationPrefix(M,G,e.Path);if(C){B.push(C);}}else if(e&&e.Apply&&e.Apply.Name==="odata.concat"){e.Apply.Parameters.forEach(function(K){if(K.Type==="Path"){C=y._getNavigationPrefix(M,G,K.Value);if(C){if(B.indexOf(C)===-1){B.push(C);}}}});}if(B.length>0){var P=i.getSetting("preprocessorsData");if(P){var J=P.rootContextExpand||[];for(var j=0;j<B.length;j++){if(J.indexOf(B[j])===-1){J.push(B[j]);}}P.rootContextExpand=J;}}}return sap.ui.model.odata.AnnotationHelper.format(i,e);},formatWithExpandSimplePath:function(i,e,j,V){y.getNavigationPathWithExpand(i,e,j);i=i.getInterface(0);if(!!(V&&V.NumberOfFractionalDigits&&V.NumberOfFractionalDigits.Int)){var z={};z.path=e.Path;z.type="sap.ui.model.odata.type.Decimal";z.constraints={'scale':V.NumberOfFractionalDigits.Int};return JSON.stringify(z);}y.formatWithExpandSimple(i,e,j);return sap.ui.model.odata.AnnotationHelper.simplePath(i,e);},formatWithExpand:function(i,e,j){y.getNavigationPathWithExpand(i,e,j);i=i.getInterface(0);y.formatWithExpandSimple(i,e,j);return sap.ui.model.odata.AnnotationHelper.format(i,e);},_getNavigationPrefix:function(M,e,P){var j="";var z=P.split("/");if(z.length>1){for(var i=0;i<(z.length-1);i++){var B=M.getODataAssociationEnd(e,z[i]);if(B){e=M.getODataEntityType(B.type);if(j){j=j+"/";}j=j+z[i];}else{return j;}}}return j;},getCurrentPathWithExpand:function(i,C,e,N){i=i.getInterface(0);var j=[],z;var M=i.getModel();var B=M.getODataEntitySet(e.name||'');var G=sap.ui.model.odata.AnnotationHelper.resolvePath(M.getContext(i.getPath()));var H=M.getODataEntityType(e.entityType);j=y.getFacetExpand(G,M,H,B);if(j.length>0){z="{ path : '"+N+"', parameters : { expand : '"+j.join(',')+"'} }";}else{z="{ path : '"+N+"' }";}if(z==="{}"){z="";}return z;},getCurrentPathWithExpandForContact:function(i,C,e,N){var j=[],z;i=i.getInterface(0);var M=i.getModel();var B=sap.ui.model.odata.AnnotationHelper.resolvePath(M.getContext(i.getPath()));var G=M.getODataEntityType(e.entityType);j=y.getFacetExpandForContact(B,M,G);if(j.length>0){z="{ path : '"+N+"', parameters : { expand : '"+j.join(',')+"'} }";}else{z="{ path : '"+N+"' }";}if(z==="{}"){z="";}return z;},getFacetExpandForContact:function(e,M,z){var B=[],C;var G=function(P){if(P){var J=y._getNavigationPrefix(M,z,P);if(J){if(B.indexOf(J)===-1){B.push(J);}}}};if(e&&e.indexOf("com.sap.vocabularies.Communication.v1.Contact")>-1){C=M.getObject(e)||{};for(var i in C){var P;var H=C[i];if(H&&H.Path){P=H.Path;G(P);}else if(Object.prototype.toString.call(H)==='[object Array]'){for(var j in H){var I=H[j];if(I&&I.uri&&I.uri.Path){P=I.uri.Path;}if(I&&I.address&&I.address.Path){P=I.address.Path;}G(P);}}}}return B;},getNavigationPathWithExpand:function(i,C,e,W){i=i.getInterface(0);var M=i.getModel();var z=M.getODataEntitySet(e.name||'');var B=sap.ui.model.odata.AnnotationHelper.resolvePath(M.getContext(i.getPath()));var N=sap.ui.model.odata.AnnotationHelper.getNavigationPath(i,C);var G=N.replace("{","").replace("}","");var H=M.getODataEntityType(z.entityType);if(!G){W=false;}var I=false;var J=y.getFacetExpand(B,M,H,z);var P=i.getSetting("preprocessorsData")||{};var K=P.rootContextExpand||[];if(J.length>0){if(G){I=true;}else{for(var j=0;j<J.length;j++){if(K.indexOf(J[j])===-1){K.push(J[j]);}}P.rootContextExpand=K;}}W=W&&(K.indexOf(G)===-1||J.some(function(L){return K.indexOf(G+"/"+L)===-1;}));if(I||W){N="{ path : '"+G+"', parameters : { ";if(I){N=N+"expand : '"+J.join(",")+"'";if(W){N=N+", ";}}if(W){N=N+"usePreliminaryContext: true, batchGroupId: 'facets'";}N=N+"} }";}if(N==="{}"){N="";}return N;},getFormGroupBindingString:function(i,C,e){var j=y.getNavigationPathWithExpand(i,C,e,true);return j;},getFacetExpand:function(j,M,z,B){var C=[],G=[],H,I=[];if(j){I=M.getObject(j)||[];}I=I.Data||I;var J=function(P,L){var N=y._getNavigationPrefix(M,z,P);if(N){if(G.indexOf(N)===-1){G.push(N);}}if(L){try{C=S.getSupportedAnnotationPaths(M,B,P,true)||[];}catch(e){C=[];}for(var i=0;i<C.length;i++){if(G.indexOf(C[i])===-1){G.push(C[i]);}}}};var K=function(P){if(P.Type==="LabeledElement"){J(P.Value.Path);}else if(P.Type==="Path"){J(P.Value);}};if(Array.isArray(I)){for(var i=0;i<I.length;i++){H=I[i];if(H.Value&&H.Value.Path){J(H.Value.Path,true);}if(H.Value&&H.Value.Apply&&H.Value.Apply.Name==="odata.concat"){H.Value.Apply.Parameters.forEach(K);}if(H.Action&&H.Action.Path){J(H.Action.Path);}if(H.Target){if(H.Target.Path){J(H.Target.Path);}if(H.Target.AnnotationPath){J(H.Target.AnnotationPath);}}if(H.SemanticObject&&H.SemanticObject.Path){J(H.SemanticObject.Path);}if(H.Url&&H.Url.Path){J(H.Url.Path);}if(H.Url&&H.Url.Apply&&H.Url.Apply.Parameters){H.Url.Apply.Parameters.forEach(K);}if(H.UrlContentType&&H.UrlContentType.Path){J(H.UrlContentType.Path);}}}else{if(I.name){J(I.name,true);}if(I.Value&&I.Value.Path){J(I.Value.Path,true);}if(I.Title&&I.Title.Path){J(I.Title.Path,true);}if(I.Criticality&&I.Criticality.Path){J(I.Criticality.Path,true);}}return G;},isSelf:function(P){if(P===undefined||(P&&P.indexOf('@')===0&&P.indexOf('/')===-1)){return true;}return false;},number:function(e){if(!e){return NaN;}else if(e.Decimal){return+e.Decimal;}else if(e.Path){return'{'+e.Path+'}';}else{return NaN;}},formatColor:(function(){function e(z){if(!z){return NaN;}else if(z.Decimal){return z.Decimal;}else if(z.EnumMember){return'\''+z.EnumMember+'\'';}else if(z.Path){return'${'+z.Path+'}';}else{return NaN;}}function i(z){var B=z.Criticality;return'{= '+e(B)+' === \'UI.CriticalityType/Negative\' ? \'Error\' : '+e(B)+'=== \'UI.CriticalityType/Critical\' ? \'Critical\' : \'Good\'}';}function j(z){var B=e(z.Value);var C=z.CriticalityCalculation;return'{= ('+B+' < '+e(C.DeviationRangeLowValue)+' || '+B+' > '+e(C.DeviationRangeHighValue)+') ? \'Error\' : ('+B+' < '+e(C.ToleranceRangeLowValue)+' || '+B+' > '+e(C.ToleranceRangeHighValue)+') ? \'Critical\' : \'Good\'}';}return function(z){if(z.Criticality){return i(z);}else if(z.CriticalityCalculation){return j(z);}};})(),_determineColumnIndex:function(C){var e=C.getPath();var i=Number(e.slice(e.lastIndexOf("/")+1));var L=e.slice(0,e.lastIndexOf("/"));var j=C.getModel().getObject(L);var z=0;for(var B=0;B<i;B++){if((j[B].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||j[B].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&(!j[B].Inline||j[B].Inline.Bool==="false")){continue;}else{z++;}}return z;},suppressP13NDuplicateColumns:function(I,e){var j="";var z={};var C=",";var M=I.getModel();for(var i=0;i<e.length;i++){if(e[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"){if(e[i].Value&&e[i].Value.Path){var B=e[i].Value.Path;z[B]=true;}}}for(var i=0;i<e.length;i++){if(e[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||e[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){if(e[i].Value&&e[i].Value.Path){var B=e[i].Value.Path;if(!z[B]){j=j+C+B;}}}else if(e[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){var T=M.getContext(I.getPath()+"/"+i+"/Target");var G=sap.ui.model.odata.AnnotationHelper.resolvePath(T);var H=M.getObject(G);if(G.indexOf('com.sap.vocabularies.Communication.v1.Contact')>=0){if(H&&H.fn&&H.fn.Path){var B=H.fn.Path;if(!z[B]){j=j+C+B;}}}else if(G.indexOf('com.sap.vocabularies.UI.v1.DataPoint')>=0){if(H&&H.Value&&H.Value.Path){var B=H.Value.Path;if(!z[B]){j=j+C+B;}}}else if(G.indexOf('com.sap.vocabularies.UI.v1.Chart')>=0){if(e[i].Target&&e[i].Target.AnnotationPath){var B=e[i].Target.AnnotationPath.split("com.sap.vocabularies.UI.v1.Chart#")[1];if(!z[B]){j=j+C+B;}}}}}if(j.length>0){j=j.substring(1);}return j;},createP13NColumnForAction:function(C,e){var i=y._determineColumnIndex(C);var j=y.createP13NColumnKey(e);if(e&&e.Value&&e.Value.Path){var P='\\{"columnKey":"'+j+'", "leadingProperty":"'+e.Value.Path+'", "columnIndex":"'+i;var z=h(C,e.Value.Path);var N=z.getFilterRestriction();var B=z.getSortRestriction();if(!B){P+='", "sortProperty":"'+e.Value.Path;}if(!N){P+='", "filterProperty":"'+e.Value.Path;}P+='", "actionButton":"true" \\}';}else{var P='\\{"columnKey":"'+j+'", "columnIndex":"'+i+'", "actionButton":"true" \\}';}return P;},createP13NColumnForContactPopUp:function(i,C,e,j,z){var P="";var N="";var M=i.getInterface(0).getModel();if(M){var B=M.getODataEntityType(C.entityType);if(B){N=y._getNavigationPrefix(M,B,z);}}var G=y.createP13NColumnKey(e);P+='\\{"columnKey":"'+G;if(j&&j.fn&&j.fn.Path){if(N){var H=M.getODataAssociationSetEnd(B,N);if(H&&H.entitySet){C=M.getODataEntitySet(H.entitySet);}var I=h(C,j.fn.Path);var J=I.getFilterRestriction();var K=I.getSortRestriction();P+='", "leadingProperty":"'+N+'/'+j.fn.Path+'", "additionalProperty":"'+N;if(!K){P+='", "sortProperty":"'+N+'/'+j.fn.Path;}if(!J){P+='", "filterProperty":"'+N+'/'+j.fn.Path;}if(j.fn.EdmType==="Edm.String"){P+='", "type":"'+"string";}}else{var I=h(C,j.fn.Path);var J=I.getFilterRestriction();var K=I.getSortRestriction();P+='", "leadingProperty":"'+j.fn.Path+'", "filterProperty":"'+j.fn.Path+'", "additionalProperty":"'+j.fn.Path;if(!K){P+='", "sortProperty":"'+N+'/'+j.fn.Path;}if(!J){P+='", "filterProperty":"'+N+'/'+j.fn.Path;}}}P+='", "navigationProperty":"'+N;var L=i.getInterface(1);var O=y._determineColumnIndex(L);if(O){P+='", "columnIndex":"'+O;}P+='" \\}';return P;},createP13NColumnForIndicator:function(i,C,e,j,z,B,G){var P="";var N="";var H=[];var M=i.getInterface(0).getModel();if(M){var I=M.getODataEntityType(C.entityType);if(I){N=y._getNavigationPrefix(M,I,G);}}var J=y.createP13NColumnKey(j);P='\\{"columnKey":"'+J;if(N){N=N+"/";}if(z.Value&&z.Value.Path){P+='", "leadingProperty":"'+N+z.Value.Path;H.push(N+z.Value.Path);}if(z.TargetValue&&z.TargetValue.Path){H.push(N+z.TargetValue.Path);}if(z.Criticality&&z.Criticality.Path){H.push(N+z.Criticality.Path);}if(H.length>0){var K="";H.forEach(function(V){if(K){K=K+",";}K=K+V;});P+='", "additionalProperty":"'+K;}var L=i.getInterface(2);var O=y._determineColumnIndex(L);if(O){P+='", "columnIndex":"'+O;}if(z&&z.Value&&z.Value.Path){var Q=h(C,z.Value.Path);var T=Q.getFilterRestriction();var U=Q.getSortRestriction();if(!U){P+='", "sortProperty":"'+z.Value.Path;}if(!T){P+='", "filterProperty":"'+z.Value.Path;}}P+='" \\}';return P;},createP13NColumnForChart:function(i,C,e,j,z){var P="",B=[],N="";var M=i.getInterface(0).getModel();if(M){var G=M.getODataEntityType(C.entityType);if(G){N=y._getNavigationPrefix(M,G,z);}}var H=y.createP13NColumnKey(e);if(N){P='\\{"columnKey":"'+H+'", "leadingProperty":"'+N;N=N+"/";}else{P='\\{"columnKey":"'+H;}if(Array.isArray(j.Dimensions)){j.Dimensions.forEach(function(K){B.push(N+K.PropertyPath);});}if(Array.isArray(j.Measures)){j.Measures.forEach(function(K){B.push(N+K.PropertyPath);});}if(B.length>0){P+='", "additionalProperty":"'+B.join();}var I=i.getInterface(1);var J=y._determineColumnIndex(I);if(J){P+='", "columnIndex":"'+J;}P+='" \\}';return P;},createP13NColumnKey:function(e,C){var i="";var j="template";var z="::";if(e.RecordType==="com.sap.vocabularies.UI.v1.DataField"){i=e.Value.Path;}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){i=j+z+"DataFieldWithIntentBasedNavigation"+z+e.SemanticObject.String+z+e.Action.String+z+e.Value.Path;}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){i=j+z+"DataFieldWithNavigationPath"+z+e.Value.Path;}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){i=j+z+"DataFieldForIntentBasedNavigation"+z+e.SemanticObject.String+z+e.Action.String;}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){i=j+z+"DataFieldForAction"+z+e.Action.String;}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(e.Target.AnnotationPath.indexOf('@com.sap.vocabularies.Communication.v1.Contact')>=0||e.Target.AnnotationPath.indexOf('@com.sap.vocabularies.UI.v1.DataPoint')>=0||e.Target.AnnotationPath.indexOf('@com.sap.vocabularies.UI.v1.FieldGroup')>=0||e.Target.AnnotationPath.indexOf('@com.sap.vocabularies.UI.v1.Chart')>=0){i=j+z+"DataFieldForAnnotation"+z+e.Target.AnnotationPath;i=i.replace('@','');}}return i;},createP13N:function(i,C,e,j,z,B){var P="",G=[],N="";if(j.RecordType==="com.sap.vocabularies.UI.v1.DataField"||j.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"||j.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){if(j.Value.Path){var H=y.createP13NColumnKey(j,e);P='\\{"columnKey":"'+H+'", "leadingProperty":"'+j.Value.Path;var M=i.getInterface(0).getModel();if(M){var I=M.getODataEntityType(C.entityType);if(I){if(e["com.sap.vocabularies.Common.v1.Text"]&&e["com.sap.vocabularies.Common.v1.Text"].Path){var T=y.getTextArrangement(I,j);if(T){P+='", "description":"'+e["com.sap.vocabularies.Common.v1.Text"].Path+'", "displayBehaviour":"'+T;}}N=y._getNavigationPrefix(M,I,j.Value.Path);if(N){N=N+"/";}}}}else if(j.Value.Apply&&j.Value.Apply.Name==="odata.concat"){j.Value.Apply.Parameters.forEach(function(W){if(W.Type==="Path"){if(!P){P='\\{"columnKey":"'+W.Value+'", "leadingProperty":"'+W.Value;}else{G.push(W.Value);}}});}if((e.type==="Edm.DateTime")&&(e["sap:display-format"]==="Date")){P+='", "type":"date';}else if(e.type==="Edm.String"){P+='", "type":"string';}if(j.Criticality&&j.Criticality.Path){G.push(j.Criticality.Path);}if(e["com.sap.vocabularies.Common.v1.Text"]&&e["com.sap.vocabularies.Common.v1.Text"].Path){G.push(N+e["com.sap.vocabularies.Common.v1.Text"].Path);}if(e["Org.OData.Measures.V1.ISOCurrency"]&&e["Org.OData.Measures.V1.ISOCurrency"].Path){G.push(N+e["Org.OData.Measures.V1.ISOCurrency"].Path);}if(e["Org.OData.Measures.V1.Unit"]&&e["Org.OData.Measures.V1.Unit"].Path){G.push(N+e["Org.OData.Measures.V1.Unit"].Path);}if(e["com.sap.vocabularies.Common.v1.FieldControl"]&&e["com.sap.vocabularies.Common.v1.FieldControl"].Path){G.push(N+e["com.sap.vocabularies.Common.v1.FieldControl"].Path);}if((j["RecordType"]==="com.sap.vocabularies.UI.v1.DataFieldWithUrl")&&j.Url&&j.Url.Apply&&j.Url.Apply.Parameters){j.Url.Apply.Parameters.forEach(function(W){if(W.Type==="LabeledElement"){G.push(W.Value.Path);}});}if((j["RecordType"]==="com.sap.vocabularies.UI.v1.DataFieldWithUrl")&&j.Url&&j.Url.Path){G.push(j.Url.Path);}if(G.length>0){var J="";G.forEach(function(W){if(J){J=J+",";}J=J+W;});P+='", "additionalProperty":"'+J;}var K=h(C,e.name);var L=K.getFilterRestriction();var O=K.getSortRestriction();var Q=y.checkMultiplicityForDataFieldAssociationInTable(i,C,j);if(!O){if(Q){P+='", "sortProperty":"'+"";}else if(N){P+='", "sortProperty":"'+N+e.name;}else{P+='", "sortProperty":"'+e.name;}}if(!L){if(Q){P+='", "filterProperty":"'+"";}else{P+='", "filterProperty":"'+e.name;}}var U=i.getInterface(2);var V=y._determineColumnIndex(U);if(V>=0){P+='", "columnIndex":"'+V;}}return P+'" \\}';},getSortProperty:function(i,e,C,j,z){var B=true;return v(i,e,C,j,z,B);},getFilterProperty:function(i,e,C,j,z){var B=false;return v(i,e,C,j,z,B);},getSortOrder:function(P){var e='';for(var i=0;i<P.length;i++){if(!e){e=P[i].Property.PropertyPath;}else{e=e+', '+P[i].Property.PropertyPath;}if(P[i].Descending){e=e+' '+P[i].Descending.Bool;}}return e;},replaceSpecialCharsInId:function(i){if(i.indexOf(" ")>=0){l.error("Annotation Helper: Spaces are not allowed in ID parts. Please check the annotations, probably something is wrong there.");}return i.replace(/@/g,"").replace(/\//g,"::").replace(/#/g,"::");},getStableIdPartFromDataField:function(e){var P="",I="",j;if(e.RecordType&&e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){return y.replaceSpecialCharsInId(e.Action.String);}else if(e.RecordType&&(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation")){if(e.SemanticObject.String){I=y.replaceSpecialCharsInId(e.SemanticObject.String);}else if(e.SemanticObject.Path){I=y.replaceSpecialCharsInId(e.SemanticObject.Path);}if(e.Action&&e.Action.String){I=I+"::"+y.replaceSpecialCharsInId(e.Action.String);}else if(e.Action&&e.Action.Path){I=I+"::"+y.replaceSpecialCharsInId(e.Action.Path);}return I;}else if(e.RecordType&&e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){return y.replaceSpecialCharsInId(e.Target.AnnotationPath);}else if(e.IconUrl&&(e.IconUrl.Path||e.IconUrl.String)){if(e.IconUrl.Path){I=y.replaceSpecialCharsInId(e.IconUrl.Path);}else if(e.IconUrl.String){j=e.IconUrl.String.replace("://","-");I=y.replaceSpecialCharsInId(j);}return I;}else if(e.Value&&e.Value.Path){return y.replaceSpecialCharsInId(e.Value.Path);}else if(e.Value&&e.Value.Apply&&e.Value.Apply.Name==="odata.concat"){for(var i=0;i<e.Value.Apply.Parameters.length;i++){if(e.Value.Apply.Parameters[i].Type==="Path"){if(P){P=P+"::";}P=P+y.replaceSpecialCharsInId(e.Value.Apply.Parameters[i].Value);}}return P;}else{l.error("Annotation Helper: Unable to create a stable ID. Please check the annotations.");}},getStableIdPartFromDataPoint:function(e){var P="";if(e.Value&&e.Value.Path){return y.replaceSpecialCharsInId(e.Value.Path);}else if(e.Value&&e.Value.Apply&&e.Value.Apply.Name==="odata.concat"){for(var i=0;i<e.Value.Apply.Parameters.length;i++){if(e.Value.Apply.Parameters[i].Type==="Path"){if(P){P=P+"::";}P=P+y.replaceSpecialCharsInId(e.Value.Apply.Parameters[i].Value);}}return P;}else{l.error("Annotation Helper: Unable to create stable ID derived from annotations.");}},getStableIdPartFromFacet:function(e){return a.getStableId({type:"ObjectPage",subType:"Facet",bIsHeaderFacet:(typeof this.getContext==="function"&&this.getContext()&&this.getContext().getPath()&&this.getContext().getPath().indexOf("com.sap.vocabularies.UI.v1.HeaderFacets")>=0),sRecordType:e.RecordType,sAnnotationPath:e.Target&&e.Target.AnnotationPath,sAnnotationId:e.ID&&e.ID.String})||g(e);},getVisibilityForExtensionPointReplaceHeader:function(e,M){var i="ReplaceHeaderExtensionFacet|"+e;var j=M[i];if(j&&j['bVisibleOnEdit']===false){return false;}return true;},extensionPointReplaceHeaderExists:function(e,M){if(M){var i="ReplaceHeaderExtensionFacet|"+e;return M[i];}return false;},getVisibilityForExtensionPointNoImage:function(e,M){var i="NoImageExtensionFacet|"+e;var j=M[i];if(j&&j['bVisibleOnEdit']===false){return false;}return true;},extensionPointNoImageExists:function(e,M){if(M){var i="NoImageExtensionFacet|"+e;return M[i];}return false;},getVisibilityForExtensionPointAfterImage:function(e,M){var i="AfterImageExtensionFacet|"+e;var j=M[i];if(j&&j['bVisibleOnEdit']===false){return false;}return true;},extensionPointAfterImageExists:function(e,M){if(M){var i="AfterImageExtensionFacet|"+e;return M[i];}return false;},getVisibilityForExtensionPointBeforeSimpleHeaderFacet:function(e,i,M,j){var z;var B=y.getStableIdPartFromFacet(i);if(i.Target.AnnotationPath.indexOf("DataPoint")>0){z=y.getStableIdPartFromDataPoint(j);}else{z=y.getStableIdPartFromDataField(j);}var I=B+"::"+z;var C="BeforeSimpleHeaderFacet|"+e+"|headerEditable::"+I;var G=M[C];if(G&&G['bVisibleOnEdit']===false){return false;}return true;},extensionPointBeforeSimpleHeaderFacetExists:function(e,i,M,j){if(M){var z;var B=y.getStableIdPartFromFacet(i);if(i.Target.AnnotationPath.indexOf("DataPoint")>0){z=y.getStableIdPartFromDataPoint(j);}else{z=y.getStableIdPartFromDataField(j);}var I=B+"::"+z;var C="BeforeSimpleHeaderFacet|"+e+"|headerEditable::"+I;return M[C];}return false;},getVisibilityForExtensionPointReplaceSimpleHeaderFacet:function(e,i,M,j){var z;var B=y.getStableIdPartFromFacet(i);if(i.Target.AnnotationPath.indexOf("DataPoint")>0){z=y.getStableIdPartFromDataPoint(j);}else{z=y.getStableIdPartFromDataField(j);}var I=B+"::"+z;var C="ReplaceSimpleHeaderFacet|"+e+"|headerEditable::"+I;var G=M[C];if(G&&G['bVisibleOnEdit']===false){return false;}return true;},extensionPointReplaceSimpleHeaderFacetExists:function(e,i,M,j){if(M){var z;var B=y.getStableIdPartFromFacet(i);if(i.Target.AnnotationPath.indexOf("DataPoint")>0){z=y.getStableIdPartFromDataPoint(j);}else{z=y.getStableIdPartFromDataField(j);}var I=B+"::"+z;var C="ReplaceSimpleHeaderFacet|"+e+"|headerEditable::"+I;return M[C];}return false;},getVisibilityForExtensionPointAfterSimpleHeaderFacet:function(e,i,M,j){var z;var B=y.getStableIdPartFromFacet(i);if(i.Target.AnnotationPath.indexOf("DataPoint")>0){z=y.getStableIdPartFromDataPoint(j);}else{z=y.getStableIdPartFromDataField(j);}var I=B+"::"+z;var C="AfterSimpleHeaderFacet|"+e+"|headerEditable::"+I;var G=M[C];if(G&&G['bVisibleOnEdit']===false){return false;}return true;},extensionPointAfterSimpleHeaderFacetExists:function(e,i,M,j){if(M){var z;var B=y.getStableIdPartFromFacet(i);if(i.Target.AnnotationPath.indexOf("DataPoint")>0){z=y.getStableIdPartFromDataPoint(j);}else{z=y.getStableIdPartFromDataField(j);}var I=B+"::"+z;var C="AfterSimpleHeaderFacet|"+e+"|headerEditable::"+I;return M[C];}return false;},getVisibilityForExtensionPointBeforeHeaderFacet:function(e,i,M){var j="BeforeHeaderFacet|"+e+"|headerEditable::"+y.getStableIdPartFromFacet(i);var z=M[j];if(z&&z['bVisibleOnEdit']===false){return false;}return true;},extensionPointBeforeHeaderFacetExists:function(e,i,M){if(M){var j="BeforeHeaderFacet|"+e+"|headerEditable::"+y.getStableIdPartFromFacet(i);return M[j];}return false;},getVisibilityForExtensionPointReplaceHeaderFacet:function(e,i,M){var j="ReplaceHeaderFacet|"+e+"|headerEditable::"+y.getStableIdPartFromFacet(i);var z=M[j];if(z&&z['bVisibleOnEdit']===false){return false;}return true;},extensionPointReplaceHeaderFacetExists:function(e,i,M){if(M){var j="ReplaceHeaderFacet|"+e+"|headerEditable::"+y.getStableIdPartFromFacet(i);return M[j];}return false;},getVisibilityForExtensionPointAfterHeaderFacet:function(e,i,M){var j="AfterHeaderFacet|"+e+"|headerEditable::"+y.getStableIdPartFromFacet(i);var z=M[j];if(z&&z['bVisibleOnEdit']===false){return false;}return true;},extensionPointAfterHeaderFacetExists:function(e,i,M){if(M){var j="AfterHeaderFacet|"+e+"|headerEditable::"+y.getStableIdPartFromFacet(i);return M[j];}return false;},extensionPointBeforeHeaderDataPointExists:function(e,i,M){if(M){var j="BeforeHeaderDataPoint|"+e+"|"+y.getStableIdPartFromDataPoint(i);return M[j];}return false;},extensionPointReplaceHeaderDataPointExists:function(e,i,M){if(M){var j="ReplaceHeaderDataPoint|"+e+"|"+y.getStableIdPartFromDataPoint(i);return M[j];}return false;},extensionPointAfterHeaderDataPointExists:function(e,i,M){if(M){var j="AfterHeaderDataPoint|"+e+"|"+y.getStableIdPartFromDataPoint(i);return M[j];}return false;},getObjectPageExtensions:function(C){var M=C.getObject();for(var e in M){if(e.split('|').length===4&&!(M[e]['sap.ui.generic.app']&&M[e]['sap.ui.generic.app']['key'])){d(M[e],{'sap.ui.generic.app':{'key':e.split('|')[3]}});}}C.getModel().setProperty("/manifestViewExtensions",M);return"/manifestViewExtensions";},extensionPointBeforeSubSectionExists:function(e,i,M){if(M){var j="BeforeSubSection|"+e+"|"+i;return M[j];}return false;},extensionPointAfterSubSectionExists:function(e,i,M){if(M){var j="AfterSubSection|"+e+"|"+i;return M[j];}return false;},extensionPointReplaceSubSectionExists:function(e,i,M){if(M){var j="ReplaceSubSection|"+e+"|"+i;return M[j];}return false;},getExtensionPointFacetTitle:function(M,e){var i=e[M];if(i&&i['sap.ui.generic.app']&&i['sap.ui.generic.app'].title){return i['sap.ui.generic.app'].title;}},getExtensionPointAfterFacetTitle:function(e,i,M){var j="AfterFacet|"+e+"|"+y.getStableIdPartFromFacet(i);var z=M[j];if(z&&z['sap.ui.generic.app']&&z['sap.ui.generic.app'].title){return z['sap.ui.generic.app'].title;}},getExtensionPointBeforeSubSectionTitle:function(e,i,M){var j="BeforeSubSection|"+e+"|"+i;var z=M[j];if(z&&z['sap.ui.generic.app']&&z['sap.ui.generic.app'].title){return z['sap.ui.generic.app'].title;}},getExtensionPointAfterSubSectionTitle:function(e,i,M){var j="AfterSubSection|"+e+"|"+i;var z=M[j];if(z&&z['sap.ui.generic.app']&&z['sap.ui.generic.app'].title){return z['sap.ui.generic.app'].title;}},getExtensionPointReplaceSubSectionTitle:function(e,i,M){var j="ReplaceSubSection|"+e+"|"+i;var z=M[j];if(z&&z['sap.ui.generic.app']&&z['sap.ui.generic.app'].title){return z['sap.ui.generic.app'].title;}},isExtensionPointBeforeSubSectionLazyLoadingEnabled:function(e,i,M){return E("BeforeSubSection|"+e+"|"+i,M);},isExtensionPointAfterSubSectionLazyLoadingEnabled:function(e,i,M){return E("AfterSubSection|"+e+"|"+i,M);},isExtensionPointReplaceSubSectionLazyLoadingEnabled:function(e,i,M){return E("ReplaceSubSection|"+e+"|"+i,M);},isExtensionPointFacetLazyLoadingEnabled:function(M,e){return E(M,e);},isExtensionPointAfterFacetLazyLoadingEnabled:function(e,i,M){return E("AfterFacet|"+e+"|"+y.getStableIdPartFromFacet(i),M);},isExtensionPointReplaceFacetLazyLoadingEnabled:function(e,i,M){return E("ReplaceFacet|"+e+"|"+y.getStableIdPartFromFacet(i),M);},getRepeatIndex:function(V){if(V&&V.getPath()){var P="0000000000";var e=P+((parseInt(V.getPath().substring(V.getPath().lastIndexOf("/")+1),10)+1)*10).toString();return e.substr(e.length-P.length);}else{l.error("Annotation Helper: Unable to get index.");}},getColumnListItemType:function(L,e,M,T,i,j){var I=!T.level;var z=I&&e.some(function(C){return C.navigationProperty;});var B=i||I;return o(L,e,M,j,B,false,z);},getRowActionCountForDetailPage:function(L,e,M,i,I){return p(L,e,M,i,I);},getRowActionCountForListReport:function(L,e,M,i){return p(L,e,M,"",true);},hasSubObjectPage:function(L,e){return k(L,e);},isRelatedEntityCreatable:function(I,e,j,z,B,C,G,H){var J=false;var M=I.getInterface(0).getModel();var K=e["Org.OData.Capabilities.V1.InsertRestrictions"];var L=M.getODataEntityType(e.entityType);var N;var O;if(y.hasSubObjectPage(j,z)||(C&&y.isInlineCreate(B,C))||!!H){if(G){J="{= ${ui>/editable}}";}else{J="{= !${ui>/editable}}";}N=y.handleNavigationRestrictions(M,e,j,"Insertable");if(N&&N["Insertable"]){if(N["Insertable"].Path){O=N["Insertable"].Path;J=G?"{= ${ui>/editable} ? ${"+O+"} : false}":"{= !${ui>/editable} ? ${"+O+"} : false}";}}else if(K&&K.NonInsertableNavigationProperties&&K.NonInsertableNavigationProperties.length>0){for(var i=0;i<K.NonInsertableNavigationProperties.length;i++){var P=K.NonInsertableNavigationProperties[i];var Q=y._getNonInsertableNavigationPropertyPath(P);if(Q){var T=M.getODataAssociationSetEnd(L,Q);if(T&&T.entitySet===j.name){if(P.If&&P.If.length===2){var U=P.If[0];O=U.Not?U.Not.Path:U.Path;if(q(M,e.entityType,O)){y._actionControlExpand(I,O,L.name);if(G){if(U.Not){J="{= ${ui>/editable} ? ${"+O+"} : false}";}else{J="{= ${ui>/editable} ? !${"+O+"} : false}";}}else{if(U.Not){J="{= !${ui>/editable} ? ${"+O+"} : false}";}else{J="{= !${ui>/editable} ? !${"+O+"} : false}";}}}else{J=false;l.warning("Creatable-Path is not valid. Creation for "+j.name+" is disabled");}}else{J=false;}break;}}}}}return J;},_getNonInsertableNavigationPropertyPath:function(N){var e;if(N.NavigationPropertyPath){e=N.NavigationPropertyPath;}else if(N.If){e=N.If[1].NavigationPropertyPath;}return e;},areBooleanRestrictionsValidAndPossible:function(i,e,j,z,B,O){var C;var M=i.getInterface(0).getModel();var G=j.entityType;var H,I,J;if(B){C=M.getODataEntitySet(B);J=C.entityType;}var K=y.handleNavigationRestrictions(M,C,j,z);if(K){H=K[z];I=J;}else{H=e&&e[z];I=G;}var V=!H||(H.Bool?!H.Path:(!!H.Path&&q(M,I,H.Path)));if(!V){l.error("Service Broken: Restrictions annotations for entity type "+G+" for section '"+z+"' are invalid.");}return V&&(!!O||!H||H.Bool!=="false");},handleNavigationRestrictions:function(M,e,j,z){if(!e){return false;}var B={"Insertable":"InsertRestrictions","Deletable":"DeleteRestrictions","Updatable":"UpdateRestrictions"};var i,N;var C=e["Org.OData.Capabilities.V1.NavigationRestrictions"];if(C&&C.RestrictedProperties){var G=C.RestrictedProperties;for(i in G){N=G[i];var H=M.getODataEntityType(e.entityType);var I=N.NavigationProperty.NavigationPropertyPath;var J=M.getODataAssociationSetEnd(H,I);if(J&&J.entitySet===j.name&&N[B[z]]){return N[B[z]];}}}return false;},_isPropertyPathBoolean:function(M,e,P){return q(M,e,P);},_actionControlExpand:function(i,P,e){var z=[],B;i=i.getInterface(0);var M=i.getModel();var C=M.getODataEntityType(e);if(P){B=y._getNavigationPrefix(M,C,P);if(B){z.push(B);}}if(z.length>0){var G=i.getSetting("preprocessorsData");if(G){var H=G.rootContextExpand||[];for(var j=0;j<z.length;j++){if(H.indexOf(z[j])===-1){H.push(z[j]);}}G.rootContextExpand=H;}}},_mapTextArrangement4smartControl:function(T){var e="descriptionAndId";switch(T){case"com.sap.vocabularies.UI.v1.TextArrangementType/TextLast":e="idAndDescription";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate":e="idOnly";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly":e="descriptionOnly";break;default:break;}return e;},getTextArrangementForSmartControl:function(i,e,j,z){i=i.getInterface(0);var B;var M=i.getModel();if(j.name==undefined){B=M.getODataEntityType(z.entityType);}else{B=M.getODataEntityType(j.entityType);}var T="descriptionAndId";if(M.getODataProperty(B,e.Value.Path)){var P=M.getODataProperty(B,e.Value.Path)["com.sap.vocabularies.Common.v1.Text"];if(P&&P["com.sap.vocabularies.UI.v1.TextArrangement"]&&P["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=y._mapTextArrangement4smartControl(P["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);return T;}}if(B["com.sap.vocabularies.UI.v1.TextArrangement"]&&B["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=y._mapTextArrangement4smartControl(B["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);return T;}return T;},formatSubSectionHeader:function(e,C){return e!=C?true:false;},getTitle:function(e,i,N){var j;var T=y.getTextArrangementObject(e,i,N);if(T){j=y.getTitleTextArrangementBindingPath(T.textArrangement,T.propertyPath,T.textPath);}return j;},getDescription:function(e,i,N){var j;var T=y.getTextArrangementObject(e,i,N);if(T){j=y.getDescriptionTextArrangementBindingPath(T.textArrangement,T.propertyPath,T.textPath);}return j;},getTextArrangementObject:function(e,i,N){var T,P,j;if(i){P=i.name;var z=i["com.sap.vocabularies.Common.v1.Text"];if(z){j=z.Path;}T=y.getTextArrangement(e,i);return{textArrangement:T,propertyPath:P,textPath:j};}},getTextArrangement:function(e,i){var T;if(i["com.sap.vocabularies.UI.v1.TextArrangement"]&&i["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=y._mapTextArrangement4smartControl(i["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}if(!T){var P=i["com.sap.vocabularies.Common.v1.Text"];if(P&&P["com.sap.vocabularies.UI.v1.TextArrangement"]&&P["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=y._mapTextArrangement4smartControl(P["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}}if(!T){if(e&&e["com.sap.vocabularies.UI.v1.TextArrangement"]&&e["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=y._mapTextArrangement4smartControl(e["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}}if(!T){T="descriptionAndId";}return T;},getTitleTextArrangementBindingPath:function(T,P,e){var i="{"+P+"}";var j="{"+e+"}";if(!e){return i;}if(T==="descriptionAndId"){return j;}else if(T==="descriptionOnly"){return j;}else if(T==="idAndDescription"){return i;}else if(T==="idOnly"){return i;}},getDescriptionTextArrangementBindingPath:function(T,P,e){var i="{"+P+"}";var j="{"+e+"}";if(!e){return"";}if(T==="descriptionAndId"){return i;}else if(T==="descriptionOnly"){return"";}else if(T==="idAndDescription"){return j;}else if(T==="idOnly"){return"";}},doesFieldGroupContainOnlyOneMultiLineDataField:function(e,i){if(e.Data.length!==1){return false;}if((i['com.sap.vocabularies.UI.v1.MultiLineText']===undefined)||(e.Data[0].RecordType!=="com.sap.vocabularies.UI.v1.DataField")){return false;}return true;},testFormatter:function(e){return"formatted:"+e;},getFacetID:function(e,i){return e+"|"+y.getStableIdPartFromFacet(i);},getStableIdPartForDatafieldActionButton:function(e,i,T,C){var j="";var z="";var B="";if(i){B=y.getStableIdPartFromFacet(i);}if(e){z=y.getStableIdPartFromDataField(e);}j=(B!==""?B+"::":"")+"action::"+z;var G=y.getSuffixFromIconTabFilterKey(T);if(G){j=j.concat(G);}if(C){j=j+"::chart";}return j;},_hasCustomDeterminingActionsInListReport:function(e,M){if(M&&M[e]){var i=M[e];if(i.Actions){for(var j in i.Actions){if(i.Actions[j].determining){return true;}}}}return false;},hasDeterminingActionsRespectingApplicablePath:function(C,T,e,M){var i="";C=C.getInterface(0);if(e&&M&&M["sap.suite.ui.generic.template.ObjectPage.view.Details"]){var j=M["sap.suite.ui.generic.template.ObjectPage.view.Details"]["sap.ui.generic.app"];if(j&&j[e]){var z=j[e];if(z.Header&&z.Header.Actions){for(var B in z.Header.Actions){if(z.Header.Actions[B].determining){if(z.Header.Actions[B].applicablePath){if(i.length>0){i+=" || ";}i+="${path: '"+z.Header.Actions[B].applicablePath+"'}";}else{return true;}}}}}}if(T){for(var G=0;G<T.length;G++){if((T[G].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction")&&T[G].Determining&&T[G].Determining.Bool==="true"){var H=C.getModel().getODataFunctionImport(T[G].Action.String,true);var I=C.getModel().getObject(H);if(I["sap:applicable-path"]){if(i.length>0){i+=" || ";}i+="${path: '"+I["sap:applicable-path"]+"'}";}else{return"true";}}}}if(i.length>0){return"{= "+i+" || ${ui>/editable}}";}else{return"{ui>/editable}";}},hasDeterminingActions:function(T,e,M){if(e&&M&&M["sap.suite.ui.generic.template.ListReport.view.ListReport"]&&y._hasCustomDeterminingActionsInListReport(e,M["sap.suite.ui.generic.template.ListReport.view.ListReport"]["sap.ui.generic.app"])){return"true";}else if(e&&M&&M["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]&&y._hasCustomDeterminingActionsInListReport(e,M["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]["sap.ui.generic.app"])){return"true";}for(var i=0;i<T.length;i++){if((T[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||T[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&T[i].Determining&&T[i].Determining.Bool==="true"){return"true";}}return"false";},actionControlDetermining:function(T,e,i){if(i["com.sap.vocabularies.UI.v1.Hidden"]){return y.getBindingForHiddenPath(i);}else if(T.level===0||!e){return true;}else{return"{path: '"+e+"'}";}},actionControlInline:function(e){if(!e){return true;}else{return"{path: '"+e+"'}";}},buildExpressionForProgressIndicatorPercentValue:function(i,e,U){var P="0";if(e.Value&&e.Value.Path){var V="$"+sap.ui.model.odata.AnnotationHelper.format(i,e.Value);var T,j;if(e.TargetValue){T=sap.ui.model.odata.AnnotationHelper.format(i,e.TargetValue);T=e.TargetValue.Path?"$"+T:T;}if(U){U=U['Org.OData.Measures.V1.Unit']||U["Org.OData.Measures.V1.ISOCurrency"];if(U){j=sap.ui.model.odata.AnnotationHelper.simplePath(i,U);j=j&&U.Path?"$"+j:"'"+j+"'";}}var z="({0} > 100 ? 100 : {0} < 0 ? 0 : {0} * 1)";var B="(({1}*1 > 0) ? (({0}*1 > {1}*1) ? 100 : (({0}*1 < 0) ? 0 : ({0} / {1} * 100))) : 0)";var C="'{'= ({2} === ''%'') ? "+z+" : "+B+" '}'";P=f(C,[V,T,j]);}return P;},buildExpressionForProgressIndicatorDisplayValue:function(i,e,U){var P;var j=function(i,B){var C=y.trimCurlyBraces(sap.ui.model.odata.AnnotationHelper.format(i,B));var G="{path: '"+C+"'}";return G;};P=j(i,e.Value)+", "+j(i,e.TargetValue)+", "+j(i,U);var z="{ parts: ["+P+"], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatDisplayValue' }";return z;},getProgressIndicatorTooltip:function(i,U){if(U&&U['com.sap.vocabularies.Common.v1.QuickInfo']&&U['com.sap.vocabularies.Common.v1.QuickInfo'].String){return U['com.sap.vocabularies.Common.v1.QuickInfo'].String;}else{return'';}},formatDisplayValue:function(V,T,U){var e="";if(V!==null&&V!==undefined){V=V.toString();}if(V){var C=this;var i=C.getModel("i18n").getResourceBundle();var j=C.getCustomData();var L=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();V=sap.ui.core.format.NumberFormat.getInstance(L).format(V);T=T||j.filter(function(O){if(O.getKey()==="Target"){return O;}});T=typeof(T)==="object"?(T[0]&&T[0].getValue()):T;U=U||j.filter(function(O){if(O.getKey()==="UoM"){return O;}});U=typeof(U)==="object"?(U[0]&&U[0].getValue()):U;if(U){if(U==='%'){e=i.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_PERCENT",[V]);}else{if(T){T=sap.ui.core.format.NumberFormat.getInstance(L).format(T);e=i.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_NOT_PERCENT",[V,T,U]);}else{e=i.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_NOT_PERCENT_NO_TARGET_VALUE",[V,U]);}}}else{if(T){T=sap.ui.core.format.NumberFormat.getInstance(L).format(T);e=i.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_NO_UOM",[V,T]);}else{e=V;}}}else{l.warning("Value property is mandatory, the default (empty string) will be returned");}return e;},buildExpressionForProgressIndicatorCriticality:function(i,e){var j=sap.ui.core.ValueState.None;var z;var C=e.Criticality;if(C){z="'{'= ({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Negative'') || ({0} === ''1'') || ({0} === 1) ? ''"+sap.ui.core.ValueState.Error+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Critical'') || ({0} === ''2'') || ({0} === 2) ? ''"+sap.ui.core.ValueState.Warning+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Positive'') || ({0} === ''3'') || ({0} === 3) ? ''"+sap.ui.core.ValueState.Success+"'' : "+"''"+sap.ui.core.ValueState.None+"'' '}'";if(C.Path){var B='$'+sap.ui.model.odata.AnnotationHelper.simplePath(i,C);j=f(z,B);}else if(C.EnumMember){var G="'"+C.EnumMember+"'";j=f(z,G);}else{l.warning("Case not supported, returning the default sap.ui.core.ValueState.None");}}else{l.warning("Case not supported, returning the default sap.ui.core.ValueState.None");}return j;},buildExpressionForButtonCriticality:function(e){var i=b.ButtonType.Default;var j;var C=e.Criticality;if(C){j="'{'= ({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Negative'') || ({0} === ''1'') || ({0} === 1) ? ''"+b.ButtonType.Reject+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Positive'') || ({0} === ''3'') || ({0} === 3) ? ''"+b.ButtonType.Accept+"'' : "+"''"+b.ButtonType.Default+"'' '}'";if(C.Path){var z="${"+C.Path+"}";i=f(j,z);}else if(C.EnumMember){var B="'"+C.EnumMember+"'";i=f(j,B);}else{l.warning("Case not supported, returning the default sap.m.ButtonType.Default");}}else{l.warning("Case not supported, returning the default sap.m.ButtonType.Default");}return i;},buildEmphasizedButtonExpression:function(i){if(!i){return b.ButtonType.Emphasized;}var e;var I;i.forEach(function(j){var C=j.Criticality;var z=j["com.sap.vocabularies.UI.v1.Hidden"];if(j.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&!I&&C){switch(C.EnumMember){case"com.sap.vocabularies.UI.v1.CriticalityType/Negative":case"com.sap.vocabularies.UI.v1.CriticalityType/Positive":case"1":case 1:case"3":case 3:if(!z){e=b.ButtonType.Default;I=true;}e=e||b.ButtonType.Default;break;default:e=b.ButtonType.Emphasized;}if(C.Path){e="{= ((${"+C.Path+"} === 'com.sap.vocabularies.UI.v1.CriticalityType/Negative') || (${"+C.Path+"} === '1') || (${"+C.Path+"} === 1) "+"|| (${"+C.Path+"} === 'com.sap.vocabularies.UI.v1.CriticalityType/Positive') || (${"+C.Path+"} === '3') || (${"+C.Path+"} === 3)) ? "+"'Default'"+" : "+"'Emphasized'"+" }";}}});return e||b.ButtonType.Emphasized;},trimCurlyBraces:function(e){return e?e.replace("{","").replace("}",""):undefined;},getEntitySetName:function(e,i){var j="";try{j=e.name||i.name;}catch(z){l.warning("At least one of the input parameters is undefined. Returning default value for entity set name.");}return j;},getBreakoutActionEnabledKey:function(e,T){var B=y.getBreakoutActionButtonId(e,T);var i="{_templPriv>/generic/listCommons/breakoutActionsEnabled/"+B+"/enabled}";return i;},buildVisibilityExprOfDataFieldForIntentBasedNaviButton:function(e){if(e["com.sap.vocabularies.UI.v1.Hidden"]){return y.getBindingForHiddenPath(e);}else if(!!e.RequiresContext&&e.RequiresContext.Bool=="false"&&(!e.Inline||e.Inline.Bool==="false")){var i=e.SemanticObject.String;var j=e.Action.String;return"{= !!${_templPriv>/generic/supportedIntents/"+i+"/"+j+"/visible}}";}else{return true;}},searchForFirstSemKey_Title_Description:function(L){var e,T,j,z,B,M,C,G,H,I,J,K,N,O,P,Q,U,i;if(!L){return;}e=L.getPath();if(e.indexOf("com.sap.vocabularies.UI.v1.LineItem")<0){return;}j=e&&e.lastIndexOf("/");z=e.substring(0,j);B=e.substring(j+1);M=L.getModel();J=M&&M.getObject(z);if(J){K=J["com.sap.vocabularies.Common.v1.SemanticKey"]&&J["com.sap.vocabularies.Common.v1.SemanticKey"][0]&&J["com.sap.vocabularies.Common.v1.SemanticKey"][0].PropertyPath;N=J[B];O=J["com.sap.vocabularies.UI.v1.HeaderInfo"];P="";Q="";if(O){P=O&&O["Title"]&&O["Title"].Value&&O["Title"].Value.Path;Q=O&&O["Description"]&&O["Description"].Value&&O["Description"].Value.Path;}U=N&&N.length;T=e+"/";for(i=0;i<U;i++){if(N[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&N[i].Value.Path===K){if(y.isPropertyHidden(N[i])){continue;}T=T+i+'/Value/Path';return T;}if(N[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&N[i].Value.Path===P){if(y.isPropertyHidden(N[i])){continue;}C=true;I=i;}if(N[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&N[i].Value.Path===Q){if(y.isPropertyHidden(N[i])){continue;}G=true;H=i;}}if(C){T=T+I+'/Value/Path';return T;}else if(G){T=T+H+'/Value/Path';return T;}}else{l.warning("No entity type provided");}},isPropertyHidden:function(L){var H=false;if(L["com.sap.vocabularies.UI.v1.Hidden"]||(L["com.sap.vocabularies.Common.v1.FieldControl"]&&L["com.sap.vocabularies.Common.v1.FieldControl"].EnumMember&&L["com.sap.vocabularies.Common.v1.FieldControl"].EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/Hidden")){H=true;}return H;},getColumnHeaderText:function(e,i){var j;if(i.Label){return i.Label.String;}else{j=e["sap:label"]||(e["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return j;}},getColumnToolTip:function(e,i){var j;if(i.Label){return i.Label.String;}else{j=e["sap:quickinfo"]||(e["com.sap.vocabularies.Common.v1.QuickInfo"]||"").String||e["sap:label"]||(e["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return j;}},getTextForDataField:function(e){var V=e["com.sap.vocabularies.Common.v1.Text"]&&e["com.sap.vocabularies.Common.v1.Text"].Path;return V;},getColumnCellFirstText:function(e,i,j,C){var z,T;T=y.getTextArrangement(j,e);switch(T){case"idAndDescription":z=i.Value.Path;if(!z){z=y.getTextForDataField(e);}break;case"idOnly":z=i.Value.Path;if(!z){z=y.getTextForDataField(e);}break;case"descriptionAndId":case"descriptionOnly":default:z=y.getTextForDataField(e);if(!z){z=i.Value.Path;}break;}if(z){if(C){return true;}else{if(e.type==="Edm.DateTimeOffset"||e.type==="Edm.DateTime"||e.type==="Edm.Time"){var B=y.formatDateTimeForCustomColumn(e.type,z);return B;}else{return"{"+z+"}";}}}},getColumnCellSecondText:function(e,i,j,C){var z;z=y.getTitlePath(e,i,j);if(z){if(C){return"{= ${path: '"+z+"'} ? true : false}";}else{if(e.type==="Edm.DateTimeOffset"||e.type==="Edm.DateTime"||e.type==="Edm.Time"){var B=y.formatDateTimeForCustomColumn(e.type,z);return B;}else{return"{"+z+"}";}}}else{return C?false:undefined;}},getTitlePath:function(e,i,j){var z,T;T=y.getTextArrangement(j,e);switch(T){case"idOnly":case"descriptionOnly":break;case"idAndDescription":if(!i.Value.Path){break;}z=y.getTextForDataField(e);break;case"descriptionAndId":default:if(!y.getTextForDataField(e)){break;}z=i.Value.Path;break;}return z;},getHeaderVisibility:function(e,i,j){var T,z;T=y.getTitlePath(e,i,j);if(!T){if(e.type==="Edm.DateTimeOffset"||e.type==="Edm.DateTime"||e.type==="Edm.Time"){T=y.getColumnCellFirstText(e,i,j);return"{= "+T+" ? false : true}";}else{T=y.getColumnCellFirstText(e,i,j).replace("{","").replace("}","");}}else{z=y.getTextArrangement(j,e);if(!z||z==="descriptionAndId"){T=y.getColumnCellFirstText(e,i,j).replace("{","").replace("}","");}if(z==="idAndDescription"){T=y.getTitlePath(e,i,j);}}if(T){return"{= ${path: '"+T+"'} ? false : true}";}return false;},formatDateTimeForCustomColumn:function(e,i){if(e==="Edm.DateTimeOffset"){return"{ path: '"+i+"', type: 'sap.ui.model.odata.type.DateTimeOffset', formatOptions: { style: 'medium'}, constraints: {displayFormat: 'Date'}}";}else if(e==="Edm.DateTime"){return"{ path: '"+i+"', type: 'sap.ui.model.odata.type.DateTime', formatOptions: { style: 'medium'}, constraints: {displayFormat: 'Date'}}";}else{return"{ path: '"+i+"', type: 'sap.ui.model.odata.type.Time', formatOptions: { style: 'medium'}}";}},getAdditionalSemanticObjects:function(e){var i;var j=[];for(i in e){if(i.indexOf("com.sap.vocabularies.Common.v1.SemanticObject#")!=-1){j.push(e[i].String);}}if(j.length>0){return j;}},getColumnCellFirstTextVisibility:function(e,i,j){var C=true;var V=!!y.getColumnCellFirstText(e,i,j,C);return V;},getColumnCellSecondTextVisibility:function(e,i,j){var C=true;var V=y.getColumnCellSecondText(e,i,j,C);return V;},isSmartLink:function(e){var i;for(i in e){if(i.indexOf('com.sap.vocabularies.Common.v1.SemanticObject')>=0){return true;}}return false;},setRowHighlight:function(e,T,L,C){var i=(T.entitySet===L)?T.isDraft:(T.isDraft||T.level===0)&&C(L);var j=T.level>0&&(i||!T.isDraft);var z=i?"{path: 'IsActiveEntity'}, {path: 'HasActiveEntity'}":"{value: true}, {value: true}";var M=j?"{path: 'ui>/editable'}, {path: '_templPrivMessage>/'}":"{value: false}, {value: ''}";var B=e["com.sap.vocabularies.UI.v1.LineItem@com.sap.vocabularies.UI.v1.Criticality"];var G=(B&&B.Path)?", {path: '"+B.Path+"'}":"";return"{parts: ["+z+", "+M+G+", {path: ''}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.setInfoHighlight'}";},setInfoHighlight:function(e,j,z){var B=this.getBindingContext();if(!B){return"None";}var M="None";var C=sap.ui.core.MessageType;if(z){var G=B.getMessages();for(var i=0;i<G.length;i++){var H=G[i];var T=H.getType();if(T===C.Error){return"Error";}if(T===C.Warning){M="Warning";}else if(T===C.Information&&M!==C.Warning){M="Information";}}}if(e===false&&j===false){return M==="None"?"Information":M;}var I=u(this,B);return(I==="Error"||I==="Warning"||M==="None")?I:M;},getGroupElementQualifier:function(C){for(var i=0;i<C.length;i++){if(C[i].getKey()==="sap-ui-custom-settings"){var e=C[i].getValue()['sap.ui.dt'].annotation;if(typeof e=="string"){e=JSON.parse(e);}if(e){return(e.value[0]=="@")?e.value.substring(1):e.value;}else{return null;}}}return null;},getDataFieldLabel:function(i,e,j){var z;if(j.Label){return sap.ui.model.odata.AnnotationHelper.format(i,j.Label);}else{z=e["sap:label"]||(e["com.sap.vocabularies.Common.v1.Label"]||"").String||"";if(z===""){var B=(e.extensions)?e.extensions.find(function(C){return C.name==="label";}):null;if(B!==undefined&&B!==null){if(B.length!==undefined&&B.length>0){z=B[0].value;}else{z=B.value;}}else{z="";}}return z;}},getDataFieldValue:function(i,e,M){if(e&&!e.Path&&!e.Apply&&!e.String){return"";}var j=A.format(i.getModel()?i:i.getInterface(0),e);if(M){j=j.replace("{","{ mode:'"+M+"', ");}return j;},getDataFieldValueSimplePath:function(i,e,M){if(e&&!e.Path&&!e.Apply&&!e.String){return"";}var j=A.simplePath(i.getModel()?i:i.getInterface(0),e);if(M){j=j.replace("{","{ mode:'"+M+"', ");}return j;},formatObjectMarker:function(e,i,j){if(e&&i&&j){return sap.m.ObjectMarkerType.Locked;}else if(e&&i&&!j){return sap.m.ObjectMarkerType.Unsaved;}else{return sap.m.ObjectMarkerType.Flagged;}},formatObjectMarkerVisibility:function(e,i,j){if(e&&i&&j){return true;}else if(e&&i&&!j){return true;}else{return false;}},setNoDataTextForSmartTable:function(e,i){i="::"+e+"--"+i;return"{parts: [{value: '"+i+"'}], formatter: '._templateFormatters.setNoDataTextForSmartTable'}";},getRelevantDataForAnnotationRecord:function(M,e,i){var N,j;while(e.indexOf('/')>-1){N=e.split("/")[0];e=e.split('/').slice(1).join('/');j=M.getODataAssociationEnd(i,N);i=M.getODataEntityType(j&&j.type);}return{"entityType":i,"association":j,"dataFieldValuePath":e};},getTextArrangementForSCFields:function(I,e,z,C){var M=I.getInterface(0).getModel();var B=M.getODataEntityType(z.entityType);var G=e.Value.Path;B=y.getRelevantDataForAnnotationRecord(M,e.Value.Path,B).entityType;var P=B.property||[];var H,T;for(var i=0;i<P.length;i++){if(G===P[i].name){H=P[i]["sap:text"];break;}}for(var j=0;j<C.length;j++){if(C[j].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&C[j].Value.Path===H){return"idOnly";}}T=y.getTextArrangementForSmartControl(I,e,{},z);return T;},checkMultiplicityForDataFieldAssociation:function(i,e,j){if(j.Value&&j.Value.Path){var z=j.Value.Path;var M=i.getModel(0);var B=M.getODataEntityType(e.entityType);var C;if(!(z.indexOf('/')>-1)){return true;}while(z.indexOf('/')>-1){var N=z.split("/")[0];z=z.split('/').slice(1).join('/');B=M.getODataEntityType(C&&C.type)||B;C=M.getODataAssociationEnd(B,N);}if(C&&C.multiplicity==="*"){return false;}}return true;},checkMultiplicityForDataFieldAssociationInTable:function(i,e,j){if(j.Value&&j.Value.Path){var z=j.Value.Path;var M=i&&i.getModel&&i.getModel(0);var B=M&&M.getODataEntityType&&M.getODataEntityType(e.entityType);var C;if(!(z.indexOf('/')>-1)||!B){return false;}while(z.indexOf('/')>-1){var N=z.split("/")[0];z=z.split('/').slice(1).join('/');B=M.getODataEntityType(C&&C.type)||B;C=M.getODataAssociationEnd(B,N);}if(C&&C.multiplicity==="*"){return true;}}return false;},hasQuickViewFacet:function(e,T){return T[e.entityType].sForceLinkRendering;},buildHeaderInfoCustomData:function(i,e){var H="";var j="";var I=false;var z=false;if(e&&e.Title&&e.Title.Value){H=e.Title.Value.Path?e.Title.Value.Path:(e.Title.Value.String||"");I=e.Title.Value.Path?true:false;z=false;if(e&&e.Description&&e.Description.Value){j=e.Description.Value.Path?e.Description.Value.Path:(e.Description.Value.String||"");z=e.Description.Value.Path?true:false;}}return'\{"headerTitle":"'+H+'"\,"isHeaderTitlePath":'+I+'\,"headerSubTitle":"'+j+'"\,"isHeaderSubTitlePath":'+z+'\}';},getPresentationVariantQualifier:function(e,V){var i=e[V];if(i.Visualizations||i.SortOrder){return V.split("#")[1]||"";}else if(i.PresentationVariant&&(i.PresentationVariant.Path||i.PresentationVariant.AnnotationPath)){var j=i.PresentationVariant.Path||i.PresentationVariant.AnnotationPath;return j.split("#")[1]||"";}else if(i.PresentationVariant){return"";}},getPresentationVariantInitialExpansionLevel:function(e,V){var i=e[V];var P=y.getPresentationVariant(i,e);if(P.InitialExpansionLevel){return P.InitialExpansionLevel.Int;}},getIconSemanticColor:function(i,C){var I="";if(C.EnumMember){I=C.EnumMember.split('/')[1];}else if(C.Value){var e=sap.ui.core.IconColor;switch(C.Value){case"0":I=e.Neutral;break;case"1":I=e.Negative;break;case"2":I=e.Critical;break;case"3":I=e.Positive;break;default:I="";}}else if(C.String){I=C.String;}else if(C.Path){I="{= $"+sap.ui.model.odata.AnnotationHelper.simplePath(i,C)+"}";}return I;}};y.getBlockForEditableHeaderFacet.requiresIContext=true;y.setAriaText.requiresIContext=true;y.getLinkTextForDFwithIBN.requiresIContext=true;y.getLabelForDFwithIBN.requiresIContext=true;y.isPropertySemanticKey.requiresIContext=true;y.getRepeatIndex.requiresIContext=true;y.suppressP13NDuplicateColumns.requiresIContext=true;y.formatWithExpand.requiresIContext=true;y.formatWithExpandSimple.requiresIContext=true;y.getNavigationPathWithExpand.requiresIContext=true;y.getFormGroupBindingString.requiresIContext=true;y.getCurrentPathWithExpand.requiresIContext=true;y.getCurrentPathWithExpandForContact.requiresIContext=true;y.getTextArrangementForSmartControl.requiresIContext=true;y.createP13N.requiresIContext=true;y.createP13NColumnForConnectedFields.requiresIContext=true;y.createP13NColumnForIndicator.requiresIContext=true;y.createP13NColumnForAction.requiresIContext=true;y.createP13NColumnForContactPopUp.requiresIContext=true;y.createP13NColumnForChart.requiresIContext=true;y.getSortProperty.requiresIContext=true;y.getFilterProperty.requiresIContext=true;y.hasDeterminingActionsRespectingApplicablePath.requiresIContext=true;y.buildExpressionForProgressIndicatorPercentValue.requiresIContext=true;y.buildExpressionForProgressIndicatorDisplayValue.requiresIContext=true;y.getProgressIndicatorTooltip.requiresIContext=true;y.buildExpressionForProgressIndicatorCriticality.requiresIContext=true;y.areBooleanRestrictionsValidAndPossible.requiresIContext=true;y.isRelatedEntityCreatable.requiresIContext=true;y.buildBreadCrumbExpression.requiresIContext=true;y.getApplicablePathForChartToolbarActions.requiresIContext=true;y.buildAnnotatedActionButtonEnablementExpression.requiresIContext=true;y.getIconTabFilterText.requiresIContext=true;y.formatImageUrl.requiresIContext=true;y.getPathWithExpandFromHeader.requiresIContext=true;y.formatImageOrTypeUrl.requiresIContext=true;y.formatHeaderImage.requiresIContext=true;y.getDataFieldLabel.requiresIContext=true;y.getDataFieldValue.requiresIContext=true;y.getDataFieldValueSimplePath.requiresIContext=true;y.getActionButtonVisibility.requiresIContext=true;y.checkMultiplicityForDataFieldAssociation.requiresIContext=true;y.checkMultiplicityForDataFieldAssociationInTable.requiresIContext=true;y.getTextArrangementForSCFields.requiresIContext=true;y.buildActionButtonsCustomData.requiresIContext=true;y.buildHeaderInfoCustomData.requiresIContext=true;y.formatWithExpandSimplePath.requiresIContext=true;y.formatSmartField.requiresIContext=true;y.getIconSemanticColor.requiresIContext=true;y.getValueListReadOnly.requiresIContext=true;y.getImportanceForTableColumnsWithSemanticKeyTitleAndDescription.requiresIContext=true;y.getDefaultWidthForTableColumn.requiresIContext=true;return y;},true);
