sap.ui.define(["sap/suite/ui/generic/template/changeHandler/util/ChangeHandlerUtils","sap/suite/ui/generic/template/changeHandler/util/AnnotationChangeUtilsV2","sap/suite/ui/generic/template/designtime/utils/DesigntimeUtils","sap/suite/ui/generic/template/js/AnnotationHelper","sap/suite/ui/generic/template/designtime/virtualProperties/ColumnType","sap/suite/ui/generic/template/designtime/virtualProperties/ChartType","sap/suite/ui/generic/template/designtime/virtualProperties/ChartMeasures","sap/suite/ui/generic/template/designtime/virtualProperties/ConnectedFieldData","sap/suite/ui/generic/template/designtime/library.designtime","sap/base/util/deepExtend"],function(U,A,D,a,C,b,c,d,e,f){"use strict";var L="com.sap.vocabularies.UI.v1.LineItem",g="DataField",h="RatingIndicator",i="Contact",j="ProgressIndicator",k="DataFieldForAction",l="DataFieldWithIntentBasedNavigation",m="DataFieldForIntentBasedNavigation",n="DataFieldWithUrl",o="Chart",p="ConnectedFields",q="ToolbarButton",r="DataFieldWithNavigationPath";var s={};s.getColumnProperties=function(t){var P=D.ignoreAllProperties(t);var u={hAlign:{ignore:false},width:{ignore:false},columnType:{name:"Column type",virtual:true,nullable:false,ignore:function(){var R=U.getLineItemRecordForColumn(t);return R===undefined;},type:"EnumType",possibleValues:C.getColumnTypeValues(t),get:function(t){return C.getColumnType(t);},set:function(t,N,v){return C.setColumnType(t,N,v);}},chartType:{name:"Chart Type",virtual:true,nullable:false,ignore:function(){var v=C.getColumnType(t);return v!==o;},type:"EnumType",possibleValues:b.getChartTypeValues(t),get:function(t){return b.getChartType(t);},set:function(t,N,v){return b.setChartType(t,N,v);}},vMeasures:{name:"Measures and Attributes",virtual:true,type:"Collection",nullable:false,ignore:function(){var v=C.getColumnType(t);return v!==o;},visible:false,multiple:true,possibleValues:c.getMeasureDefinition(t),get:function(t,I){return c.getMeasures(t,I);},set:function(t,N,v){return c.setMeasures(t,N,v);}},vData:{name:"Fields",virtual:true,type:"Collection",nullable:false,ignore:function(){var v=C.getColumnType(t);return v!==p;},visible:false,multiple:true,possibleValues:d.getPossibleValues(t),get:function(t){return d.getData(t);},set:function(t,N,v){return d.setData(t,N,v);}}};return f({},P,u);};s.getAnnotations=function(E,R){var t={columnDataField:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataField",ignore:function(){var u=C.getColumnType(E);return u!==g;},whiteList:{properties:["Value","Label","Criticality","CriticalityRepresentation"],mandatory:["Value"],expressionTypes:{Value:["Path"],Label:["String"],Criticality:["Path"]}},appliesTo:["Column"],links:{developer:[{href:"/topic/f0e1e1743bef4f519c34025ad4351f77.html",text:function(){return R.getText("FE_SDK_GUIDE_LINEITEMS");}},{href:"/api/sap.ui.comp.smarttable.SmartTable/annotations/DataField",text:function(){return R.getText("FE_API_SMART_TABLE_ANNOTATIONS");}}]}},columnDataFieldWithUrl:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataFieldWithUrl",ignore:function(){var u=C.getColumnType(E);return u!==n;},whiteList:{mandatory:["Url","Value"],expressionTypes:{Value:["Path"],Criticality:["Path"]}},appliesTo:["Column"],links:{developer:[{href:"/topic/f0e1e1743bef4f519c34025ad4351f77.html",text:function(){return R.getText("FE_SDK_GUIDE_LINEITEMS");}},{href:"/api/sap.ui.comp.smarttable.SmartTable/annotations/DataFieldWithUrl",text:function(){return R.getText("FE_API_SMART_TABLE_ANNOTATIONS");}}]}},columnDataFieldWithNavigationPath:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataFieldWithNavigationPath",ignore:function(){var u=C.getColumnType(E);return u!==r;},whiteList:{properties:["Target","Value","Label"],mandatory:["Target","Value"],expressionTypes:{Label:["String"]}},defaultValue:null,appliesTo:["Column"],links:{developer:[{href:"/topic/2c65f07f44094012a511d6bd83f50f2d",text:function(){return R.getText("FE_SDK_GUIDE_INT_NAVI");}}]}},dataFieldForAction:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataFieldForAction",whiteList:{properties:["Action","Label","Criticality","InvocationGrouping"],mandatory:["Action"],expressionTypes:{Action:["String"],Label:["String"],Criticality:["Path"]}},ignore:function(){var u=C.getColumnType(E);return u!==k;},appliesTo:["Column"],links:{developer:[{href:"/topic/b623e0bbbb2b4147b2d0516c463921a0",text:function(){return R.getText("FE_SDK_GUIDE_TABLE_ACTION");}}]}},dataFieldForAnnotationChartWithDimensions:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataFieldForAnnotation",whiteList:{properties:["Target","Label"],mandatory:["Target"],expressionTypes:{Label:["String"]}},refersTo:[{annotation:"chartWithDimensions",referredBy:"Target"}],ignore:function(){var u=b.getChartType(E);return u===undefined||u!=="Area";},appliesTo:["Column"],links:{developer:[{href:"/topic/a797173b84724ef1bc54d59dc575e52f",text:function(){return R.getText("FE_SDK_GUIDE_TABLE_CHART");}}]}},dataFieldForAnnotationChartNoDimensions:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataFieldForAnnotation",whiteList:{properties:["Target","Label"],mandatory:["Target"],expressionTypes:{Label:["String"]}},refersTo:[{annotation:"chartNoDimensions",referredBy:"Target"}],ignore:function(){var u=b.getChartType(E);return u===undefined||u==="Area";},appliesTo:["Column"],links:{developer:[{href:"/topic/a797173b84724ef1bc54d59dc575e52f",text:function(){return R.getText("FE_SDK_GUIDE_TABLE_CHART");}}]}},dataFieldForAnnotationRating:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataFieldForAnnotation",whiteList:{properties:["Target","Label"],mandatory:["Target"],expressionTypes:{Label:["String"]}},refersTo:[{annotation:"dataPointRating",referredBy:"Target"}],ignore:function(){var u=C.getColumnType(E);return u!==h;},appliesTo:["Column"],links:{developer:[{href:"/topic/a797173b84724ef1bc54d59dc575e52f",text:function(){return R.getText("FE_SDK_GUIDE_TABLE_RATING");}}]}},dataFieldForAnnotationProgress:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataFieldForAnnotation",whiteList:{properties:["Target","Label"],mandatory:["Target"],expressionTypes:{Label:["String"]}},refersTo:[{annotation:"dataPointProgress",referredBy:"Target"}],ignore:function(){var u=C.getColumnType(E);return u!==j;},appliesTo:["Column"],links:{developer:[{href:"/topic/43f6f0faa1b64c5aa92bcde379be9054",text:function(){return R.getText("FE_SDK_GUIDE_TABLE_PROGRESS");}}]}},dataFieldForAnnotationContact:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataFieldForAnnotation",whiteList:{properties:["Target","Label"],mandatory:["Target"],expressionTypes:{Label:["String"]}},refersTo:[{annotation:"contact",referredBy:"Target"}],ignore:function(){var u=C.getColumnType(E);return u!==i;},appliesTo:["Column"],links:{developer:[{href:"/topic/677fbde43a324f36aa9398b7f04e9896",text:function(){return R.getText("FE_SDK_GUIDE_TABLE_CONTACT");}}]}},dataFieldForAnnotationConnectedFields:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataFieldForAnnotation",whiteList:{properties:["Target","Label"],mandatory:["Target"],expressionTypes:{Label:["String"]}},refersTo:[{annotation:"fieldGroup",referredBy:"Target"}],ignore:function(){var u=C.getColumnType(E);return u!==p;},appliesTo:["Column"]},dataFieldWithIBN:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataFieldWithIntentBasedNavigation",ignore:function(){var u=C.getColumnType(E);return u!==l;},whiteList:{properties:["SemanticObject","Action","Label","Value"],mandatory:["SemanticObject","Action"],expressionTypes:{SemanticObject:["String"],Action:["String"],Label:["String"]}},appliesTo:["Column"]},dataFieldForIBN:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataFieldForIntentBasedNavigation",ignore:function(){var u=C.getColumnType(E);return u!==m;},whiteList:{properties:["SemanticObject","Action","RequiresContext","Label"],mandatory:["SemanticObject","RequiresContext"],expressionTypes:{SemanticObject:["String"],Action:["String"],Label:["String"]}},appliesTo:["Column"]},chartWithDimensions:{namespace:"com.sap.vocabularies.UI.v1",annotation:"Chart",ignore:function(){var u=b.getChartType(E);return u===undefined||u!=="Area";},target:["EntityType"],whiteList:{properties:["Description","Dimensions","vMeasures"],mandatory:["vMeasures"],Dimensions:{mandatory:["PropertyPath"]}},appliesTo:["Column"],links:{developer:[{href:"/topic/b8312a4adde54f33a89480dbe12d8632",text:function(){return R.getText("FE_SDK_GUIDE_TABLE_CHART");}}]}},chartNoDimensions:{namespace:"com.sap.vocabularies.UI.v1",annotation:"Chart",ignore:function(){var u=b.getChartType(E);return u===undefined||u==="Area";},target:["EntityType"],whiteList:{properties:["Description","vMeasures"],mandatory:["vMeasures"]},appliesTo:["Column"],links:{developer:[{href:"/topic/b8312a4adde54f33a89480dbe12d8632",text:function(){return R.getText("FE_SDK_GUIDE_TABLE_CHART");}}]}},fieldGroup:{namespace:"com.sap.vocabularies.UI.v1",annotation:"FieldGroup",whiteList:{properties:["vData"]},ignore:function(){var u=C.getColumnType(E);return u!==p;}},dataPointRating:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataPoint",target:["EntityType"],links:{developer:[{href:"/topic/a797173b84724ef1bc54d59dc575e52f",text:function(){return R.getText("FE_SDK_GUIDE_TABLE_RATING");}}]},whiteList:{properties:["Value","TargetValue"],mandatory:["Value"],expressionTypes:{Value:["Path"],TargetValue:["Path","String","Int","Decimal"]}},ignore:function(){var u=C.getColumnType(E);return u!==h;}},dataPointProgress:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataPoint",target:["EntityType"],links:{developer:[{href:"/topic/43f6f0faa1b64c5aa92bcde379be9054",text:function(){return R.getText("FE_SDK_GUIDE_TABLE_PROGRESS");}}]},whiteList:{properties:["Value","TargetValue"],mandatory:["Value"],expressionTypes:{Value:["Path"],TargetValue:["Path","String","Int","Decimal"]}},ignore:function(){var u=C.getColumnType(E);return u!==j;}},columnLabelOnProperty:{ignore:true},contact:{namespace:"com.sap.vocabularies.Communication.v1",annotation:"Contact",ignore:function(){var u=C.getColumnType(E);return u!==i;},target:["EntityType"],whiteList:{properties:["fn","n","tel","email","photo","title","org","role"],expressionTypes:{fn:["Path"],photo:["Path"],title:["Path"],org:["Path"],role:["Path"]},n:{expressionTypes:{surname:["Path"],given:["Path"],additional:["Path"],prefix:["Path"],suffix:["Path"]}}},appliesTo:["Column"],links:{developer:[{href:"/topic/677fbde43a324f36aa9398b7f04e9896",text:"FE_SDK_GUIDE_TABLE_CONTACT"}]}},textArrangement:{ignore:true},columnImportance:{namespace:"com.sap.vocabularies.UI.v1",annotation:"Importance",target:["Record"],appliesTo:["Column"],ignore:function(){var u=C.getColumnType(E);return(u===undefined||u===q);},links:{developer:[{href:"/topic/69efbe747fc44c0fa445b24ed369cb1e",text:function(){return R.getText("FE_SDK_GUIDE_RESPONSIVENESS");}},{href:"/api/sap.ui.comp.smarttable.SmartTable/annotations/Importance",text:function(){return R.getText("FE_API_SMART_TABLE_ANNOTATIONS");}}]}}};return t;};s.getDesigntime=function(E){var t=C.getColumnType(E);if(t===q){return{actions:null};}var R=sap.ui.getCore().getModel("i18nDesigntime").getResourceBundle();var u={name:{singular:function(){return R.getText("FE_COLUMN");},plural:function(){return R.getText("FE_COLUMNS");}},getLabel:function(E){switch(E.getMetadata().getElementName()){case"sap.m.Column":return E.getHeader()&&E.getHeader().getText();case"sap.ui.table.Column":return E.getAggregation("label")&&E.getAggregation("label").getText();case"sap.ui.table.AnalyticalColumn":return E.getAggregation("label")&&E.getAggregation("label").getText();}},getCommonInstanceData:function(E){var S=a.getSmartTableControl(E);if(!S){return;}var v=a.getLineItemQualifier(S.getCustomData());var Q=null;var w=U.getLineItems(E);var x=L;if(v){x=x+"#"+v;Q=v;}var y=U.getLineItemRecordIndex(E,w),T;if(y>-1){var z=U.getODataEntityType(E);if(z){T=z.namespace+"."+z.name+"/"+x+"/"+y;}}return{target:T,annotation:L,qualifier:Q};},aggregations:{header:{ignore:true},footer:{ignore:true}},properties:function(E){return s.getColumnProperties(E);},actions:{remove:{changeType:"removeTableColumn",changeOnRelevantContainer:true},reveal:{changeType:"revealTableColumn",changeOnRelevantContainer:true}}};u.annotations=s.getAnnotations(E,R);return u;};return s;});
