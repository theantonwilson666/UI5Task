sap.ui.define(["sap/ui/core/mvc/ControllerExtension","sap/suite/ui/generic/template/detailTemplates/detailUtils","sap/suite/ui/generic/template/Canvas/extensionAPI/ExtensionAPI","sap/base/util/extend","sap/suite/ui/generic/template/genericUtilities/FeError"],function(C,d,E,e,F){"use strict";var c="Canvas.controller.ControllerImplementation";return{getMethods:function(v,t,o){var b=d.getControllerBase(v,t,o);var a={onInit:function(){var f=o.getOwnerComponent();var r=f.getRequiredControls();b.onInit(r);},handlers:{},extensionAPI:new E(t,o,b)};a.handlers=e(b.handlers,a.handlers);v.onComponentActivate=b.onComponentActivate;a.getCurrentState=function(){var r=Object.create(null);var i=true;var s=function(f,g){if(!(f instanceof C)){throw new F(c,"State must always be set with respect to a ControllerExtension");}if(!i){throw new F(c,"State must always be provided synchronously");}var h=f.getMetadata().getNamespace();if(g){for(var j in g){r["$extension$"+h+"$"+j]=g[j];}}};o.templateBaseExtension.provideExtensionStateData(s);i=false;return r;};a.applyState=function(s,i){var m=Object.create(null);var I=true;var g=function(f){if(!(f instanceof C)){throw new F(c,"State must always be retrieved with respect to a ControllerExtension");}if(!I){throw new F(c,"State must always be restored synchronously");}var h=f.getMetadata().getNamespace();return m[h];};o.templateBaseExtension.restoreExtensionStateData(g,i);I=false;};return a;}};});
